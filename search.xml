<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>2022 Summary</title>
      <link href="/2023/02/26/2022-annual-reviewed/"/>
      <url>/2023/02/26/2022-annual-reviewed/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>è¿Ÿæ¥çš„æ€»ç»“ï¼Œ2022 äº”å‘³æ‚é™ˆï¼Œæœ€åçš„å‡ ä¸ªæœˆï¼ŒåŸºæœ¬éƒ½åœ¨å°è¯•ç€è§£å†³æŸäº›æƒ…ç»ªï¼Œè¿™ä¸€å¹´æœ‰å¾ˆå¤šä¸œè¥¿åº”è¯¥è¢«è®°å½•ã€‚åšæŒæ˜¯æœ€åäººæ€§çš„ä¸€ç§ä¸œè¥¿ï¼Œä½†é•¿è¿œæ¥çœ‹ï¼Œè¿™åº”è¯¥ä¹Ÿæ˜¯æœ€æµªæ¼«çš„ä¸œè¥¿ã€‚è¿™ä¸€å¹´ï¼Œæˆ‘çœŸæ­£æ„Ÿå—åˆ°äº†ä»€ä¹ˆå«ä¿¡å¿µçš„å´©å¡Œï¼ŒåŸæ¥æ²¡æœ‰äº†å…‰æ˜¯è¿™ç§æ„Ÿè§‰ã€‚æˆ–è®¸çœŸæ­£æ˜ç™½äº†ä¸€ä¸ªé“ç†ï¼šæ²¡æœ‰ç»å†è¿‡ï¼Œåªæ˜¯çœ‹è¿‡åˆ«äººçš„ç»å†ï¼Œæ²¡æœ‰å¤šå¤§ç”¨çš„ï¼Œè·¯èµ°è¿‡äº†æ‰å‹‰å¼ºæ‡‚äº†ã€‚</p><h2 id="åšå®¢-amp-æŠ€æœ¯-Blog-amp-Techs"><a href="#åšå®¢-amp-æŠ€æœ¯-Blog-amp-Techs" class="headerlink" title="åšå®¢ &amp; æŠ€æœ¯-Blog &amp; Techs"></a>åšå®¢ &amp; æŠ€æœ¯-Blog &amp; Techs</h2><p>çœ‹äº†çœ¼å½’æ¡£ <a href="https://shan333.cn/archives/">archives</a>ï¼Œè²Œä¼¼ä»Šå¹´çš„æ–‡ç« æ°´å¾—æœ‰ç‚¹å·®å¼ºäººæ„ğŸ˜‚ï¼Œä¸è¿‡åŸåˆ›æ–‡å¾—è´¨é‡è¿˜é˜”ä»¥ï¼Œå°±æ˜¯å°‘äº†ç‚¹ã€‚æ—¶é—´æœ¬å¾ˆå¤šäº‹å“—å•¦å‘¼å•¦å†²èµ°äº†ï¼ŒåŒæ—¶è²Œä¼¼æ²¡å•¥æ€è·¯æ°´ç‚¹ä¸œè¥¿ã€‚</p><h3 id="Techs-amp-Coding"><a href="#Techs-amp-Coding" class="headerlink" title="Techs &amp; Coding"></a>Techs &amp; Coding</h3><p>2022 å¹´çš„ GitHub å°ç»¿ç‚¹ï¼Œè¿˜é˜”ä»¥ï¼ŒæŒºå…»çœ¼ã€‚ä¸è¿‡æœ‰äº›æ˜¯ RSS å®šæ—¶å™¨æ‰“çš„ï¼Œ2333ï¼Œè´¨é‡ä¸å¾—ã€‚</p><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/github.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/github.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="GitHub Commit"></p><p>22 å¹´ public äº†ä¸¤ä¸ª Elixir å’Œ Java çš„é¡¹ç›®ï¼Œè™½ç„¶æœ‰ç‚¹æ°´ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜ä¸é”™ï¼Œæ¯”ä¸Šä¸€å¹´ç¨å¾®å¥½ç‚¹äº† (ä»Šå¹´å¤šäº†å‡ ä¸ª PRï¼Œ2333~)ã€‚</p><div class="tag link"><a class="link-card" title="yeshan333/ApacheJmeter_Schema_Assertion" href="https://github.com/yeshan333/ApacheJmeter_Schema_Assertion"><div class="left"><img src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/256/safari.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/256/safari.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></div><div class="right"><p class="text">yeshan333/ApacheJmeter_Schema_Assertion</p><p class="url">https://github.com/yeshan333/ApacheJmeter_Schema_Assertion</p></div></a></div><div class="tag link"><a class="link-card" title="yeshan333/ex_integration_coveralls" href="https://github.com/yeshan333/ex_integration_coveralls"><div class="left"><img src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/256/safari.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/256/safari.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></div><div class="right"><p class="text">yeshan333/ex_integration_coveralls</p><p class="url">https://github.com/yeshan333/ex_integration_coveralls</p></div></a></div><p>æ›¾æ”¶åˆ°è¿‡ä¸€å° invitationï¼Œå¥ˆä½•æ„Ÿè§‰å£è¯­ä¸è¡Œï¼Œæ²¡æ•¢å›ï¼š</p><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/invitation.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/invitation.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="elixir talk"></p><h2 id="ç”Ÿæ´»-Life"><a href="#ç”Ÿæ´»-Life" class="headerlink" title="ç”Ÿæ´»-Life"></a>ç”Ÿæ´»-Life</h2><h3 id="Games"><a href="#Games" class="headerlink" title="Games"></a>Games</h3><p>22 å¹´ç¨å¾®å›å½’äº†ä¸‹æŸç‹è€…ï¼Œè€èººå¹³æ”¾æ¾å¨±ä¹æ¸¸æˆäº†ã€‚å€¼å¾—çºªå¿µçš„æ˜¯å…¥æ‰‹äº† switchï¼Œå¼€æ‹“äº†ç©è€èŒƒå›´ã€‚ç«ç„°çº¹ç« ç»ˆäºä¸ç”¨æ¨¡æ‹Ÿå™¨â€œç™½å«–â€äº†ï¼Œå›é¡¾äº†ä¸‹ç»å…¸çš„è¶…çº§æœºå™¨äººå¤§æˆ˜ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery stretch" col='2' data-group='one'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/switch_games.jpg' data-fancybox='one' data-caption='switch'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/switch_games.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/switch_games.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="switch"></a><span class='image-caption'>switch</span></div><br><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/real_switch_pika.jpg' data-fancybox='one' data-caption='real switch'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/real_switch_pika.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/real_switch_pika.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="real switch"></a><span class='image-caption'>real switch</span></div></div><h3 id="Sports"><a href="#Sports" class="headerlink" title="Sports"></a>Sports</h3><p>è´¹ä½“åŠ›çš„äº‹ 22 å¹´ä¹Ÿä¸èƒ½å°‘ã€‚åˆå¾’äº†å‡ æ¬¡æ­¥ 15 km+ï¼Œçˆ¬äº†å¥½å‡ ä¸ªå±±å¤´ ğŸ˜€ã€‚22 å¹´è¿˜å®Œæˆäº†ä¹‹å‰æ„£æ˜¯æ²¡å»å­¦çš„è‡ªè¡Œè½¦ï¼Œå­¦ä¼šäº†ä¹‹åæ„£æ˜¯ä»å¤§å­¦åŸç©¿è¶Šå¤§è¡—å°å··ç¡¬éª‘å›äº†ä½å¤„é™„è¿‘ã€‚å¿½ç„¶è§‰å¾—æœ‰ç‚¹çŒ›ï¼Œhahaï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery stretch" col='2' data-group='one'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/bicycle.jpg' data-fancybox='one' data-caption='bicycle'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/bicycle.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/bicycle.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="bicycle"></a><span class='image-caption'>bicycle</span></div><br><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/road.png' data-fancybox='one' data-caption='road'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/road.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/road.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="road"></a><span class='image-caption'>road</span></div></div><h3 id="Reading"><a href="#Reading" class="headerlink" title="Reading"></a>Reading</h3><p>è²Œä¼¼ 22 å¹´çœ‹çš„ä¹¦ç¨å¾®èŠ±äº†ç‚¹ï¼Œå¿ƒé‡Œçš„æ³¢åŠ¨ä¸æ˜¯ç‰¹åˆ«å¤§äº†ï¼Œå¾ˆå¤šä¸œè¥¿å¾—ç»å†ä¸‹å†å›å¤´çœ‹çœ‹æ‰è¡Œã€‚</p><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/books.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/books.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="books"></p><p>æŠ€æœ¯ç±»çš„ä¸‹é¢çœ‹çš„å‡ ä¸ªéƒ½ä¸é”™:</p><ul><li>ã€ŠGoogle è½¯ä»¶å·¥ç¨‹ã€‹ï¼š22 å¹´å‡ºäº†ä¸­æ–‡æœ¬ï¼Œå¥½å•ƒå¤šäº†ã€‚</li><li>ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹ï¼šçœ‹ç€å¾ˆé¦™ï¼Œæ²¡æ‹¿ä¸‹ï¼Œ 23 å¹´è¿˜å¾—å¤šçœ‹çœ‹ã€‚</li><li>ã€ŠGoogle çš„è½¯ä»¶æµ‹è¯•ä¹‹é“ã€‹ï¼šä¸€äº›ç†å¿µå®è·µå¾ˆ niceï¼ŒGoogle N å¹´å‰å°±åšäº†çš„äº‹ï¼Œå›½å†…è¿˜ä¸å¤ªè¡Œï¼Œéœ‡æƒŠã€‚</li><li>ã€Šç”¨ Go è¯­è¨€è‡ªåˆ¶ç¼–è¯‘å™¨ã€‹ï¼šContinue</li><li>â€¦â€¦.ä¸€å † Erlang &amp; Elixir ç›¸å…³çš„</li></ul><h3 id="2y"><a href="#2y" class="headerlink" title="2y"></a>2y</h3><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery stretch" col='3' data-group='one'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/20220425.jpg' data-fancybox='one' data-caption='220425'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/20220425.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/20220425.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="220425"></a><span class='image-caption'>220425</span></div><br><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/days.jpg' data-fancybox='one' data-caption='é‚£äº›å¤©'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/days.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/days.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="é‚£äº›å¤©"></a><span class='image-caption'>é‚£äº›å¤©</span></div><br><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/rose.jpg' data-fancybox='one' data-caption='rose'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/rose.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2022/rose.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="rose"></a><span class='image-caption'>rose</span></div></div><p>è¿™é‡Œæœ¬åº”è¯¥ä¼šå†™æ›´å¤šçš„ä¸œè¥¿ï¼Œæ¯ä¸€æ®µç»å†éƒ½åº”è¯¥è¢«è®°å½•ï¼Œæˆ–è®¸æ‰èƒ½æ›´å¦ç„¶çš„å»é¢å¯¹å®ƒã€‚</p><!-- æˆ‘çœŸçš„çœŸçš„å°½åŠ›äº†ï¼Œå¯æ˜¯å¥½æ— åŠ›ï¼Œ...... --><h2 id="æœªæ¥-Future"><a href="#æœªæ¥-Future" class="headerlink" title="æœªæ¥-Future"></a>æœªæ¥-Future</h2><p>è¯è™½å°‘ï¼Œäº‹å…¶å®æŒºå¤šã€‚Time is waiting for me.</p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ï¼ˆè¯‘ï¼‰Elixir Tip: Case vs. With</title>
      <link href="/2022/11/26/Elixir-Tip-Case-vs-With/"/>
      <url>/2022/11/26/Elixir-Tip-Case-vs-With/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>ä» 1.2 ç‰ˆæœ¬å¼€å§‹, <code>with</code> è¿ç®—ç¬¦æ˜¯éœ€è¦ç‚¹æ—¶é—´å»ç†è§£çš„ ELixir ç‰¹æ€§ä¹‹ä¸€. å®ƒç»å¸¸åœ¨ä½¿ç”¨ <code>case</code> çš„æƒ…å½¢ä¸‹ä½¿ç”¨, åä¹‹äº¦ç„¶. ä¸¤è€…çš„ä¸åŒåœ¨äºå¦‚æœæ²¡æœ‰å¯ä»¥åŒ¹é…åˆ°çš„å­å¥, <code>with</code> å°†å¤±è´¥, è€Œ <code>case</code> å°†æŠ›å‡ºä¸€ä¸ªä¸åŒ¹é… (no-match) çš„é”™è¯¯ (CaseClauseError). </p><p>æ˜¯ä¸æ˜¯æœ‰ä¸€ç‚¹ç‚¹ç–‘æƒ‘, è®©æˆ‘ä»¬ä»æœ€åŸºæœ¬çš„ä½¿ç”¨å¼€å§‹çœ‹çœ‹.</p><p>ä½¿ç”¨ <code>case</code> è¿›è¡Œç²¾å‡†åŒ¹é…, ä½ éå¸¸ç¡®å®šè‡³å°‘æœ‰ä¸€ä¸ªæ˜¯å¯ä»¥è¢«åŒ¹é…åˆ°çš„:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> foo() <span class="keyword">do</span></span><br><span class="line">  cond1 -&gt; expression1</span><br><span class="line">  cond2 -&gt; expression2</span><br><span class="line">  cond3 -&gt; expression3</span><br><span class="line">  _ -&gt; default_expression</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªå¸¸è§çš„ <code>case</code> ä½¿ç”¨æƒ…æ™¯æ˜¯å¯¹æ½œåœ¨çš„é”™è¯¯è¿›è¡Œæ¨¡å¼åŒ¹é…:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> foo() <span class="keyword">do</span></span><br><span class="line">  &#123;<span class="symbol">:ok</span>, res&#125; -&gt; do_something_with_result(res)</span><br><span class="line">  &#123;<span class="symbol">:error</span>, err&#125; -&gt; handle_error(err)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç›®å‰ä¸ºæ­¢, ä¸€åˆ‡éƒ½çœ‹èµ·æ¥å¾ˆå¥½. è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¸¸è§çš„æ—¥å¸¸å·¥ä½œåœºæ™¯æ¡ˆä¾‹. è¯•æƒ³ä¸€ä¸‹, æˆ‘ä»¬æœ‰ä¸€ä¸ªè¿™æ ·çš„æ“ä½œ (å®ƒå¯ä»¥æ˜¯å¤–éƒ¨çš„ API è°ƒç”¨ã€IO æˆ–è€…æ•°æ®åº“æ“ä½œ), æˆ‘ä»¬æƒ³æ‰§è¡Œç¬¬äºŒä¸ªè¿™æ ·çš„æ“ä½œ, ä½†åªæœ‰å½“ç¬¬ä¸€ä¸ªæ“ä½œæˆåŠŸçš„æ—¶å€™æ‰æ‰§è¡Œ. è¿™ä¸ªè¡Œä¸ºæˆ‘ä»¬æ€ä¹ˆå®ç°?</p><p>å›æƒ³ä¸€ä¸‹, Elixir ä¸­çš„æ¡ä»¶è¯­å¥ä¹Ÿæ˜¯å‡½æ•°. å®ƒä»¬å¯ä»¥è¢«æ’å…¥æˆ–é“¾æ¥åˆ°å…¶ä»–æ¡ä»¶çš„è¡¨è¾¾å¼éƒ¨åˆ†. è¿™å…è®¸æˆ‘ä»¬ä½¿ç”¨é“¾å¼çš„æ¡ä»¶è¯­å¥æ¥è§£å†³ä¸Šé¢çš„é—®é¢˜:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> foo() <span class="keyword">do</span></span><br><span class="line">  &#123;<span class="symbol">:ok</span>, res&#125; -&gt;</span><br><span class="line">    <span class="keyword">case</span> bar(res) <span class="keyword">do</span></span><br><span class="line">      &#123;<span class="symbol">:ok</span>, res2&#125; -&gt; do_something_with_result(res2)</span><br><span class="line">      &#123;<span class="symbol">:error</span>, err&#125; -&gt; handle_error(err)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">  &#123;<span class="symbol">:error</span>, err&#125; -&gt; handle_error(err)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å°½ç®¡åªæœ‰ä¸¤ä¸ªç±»ä¼¼çš„è°ƒç”¨æ“ä½œ, ä½†ä»£ç çš„å¤æ‚åº¦æ˜¯æ€¥å‰§ä¸Šå‡çš„. å¦‚æœå†æ·»åŠ ä¸€ä¸ªç±»ä¼¼çš„è°ƒç”¨æ“ä½œ, ä»£ç å°†ä¼šå˜å¾—ä¸å¯è¯»:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> foo() <span class="keyword">do</span></span><br><span class="line">  &#123;<span class="symbol">:ok</span>, res&#125; -&gt;</span><br><span class="line">    <span class="keyword">case</span> bar(res) <span class="keyword">do</span></span><br><span class="line">  &#123;<span class="symbol">:ok</span>, res2&#125; -&gt;</span><br><span class="line">      <span class="keyword">case</span> baz(res2) <span class="keyword">do</span></span><br><span class="line">        &#123;<span class="symbol">:ok</span>, res3&#125; -&gt; do_something_with_result(res3)</span><br><span class="line">        &#123;<span class="symbol">:error</span>, err&#125; -&gt; handle_error(err)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">  &#123;<span class="symbol">:error</span>, err&#125; -&gt; handle_error(err)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">  &#123;<span class="symbol">:error</span>, err&#125; -&gt; handle_error(err)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-with-å»æ‹¯æ•‘ä¸€ä¸‹"><a href="#ä½¿ç”¨-with-å»æ‹¯æ•‘ä¸€ä¸‹" class="headerlink" title="ä½¿ç”¨ with å»æ‹¯æ•‘ä¸€ä¸‹"></a>ä½¿ç”¨ with å»æ‹¯æ•‘ä¸€ä¸‹</h2><p>è¿™å°±æ˜¯ <code>with</code> è¿ç®—ç¬¦éå¸¸æ–¹ä¾¿çš„åœ°æ–¹. å®ƒçš„åŸºæœ¬å½¢å¼ç±»ä¼¼äºä¸Šé¢ <code>case</code> çš„é“¾å¼ä¾‹å­, ä½†åœ¨æŸç§ç¨‹åº¦ä¸Š, å®ƒçš„åŠŸèƒ½ä¹Ÿç±»ä¼¼äºç®¡é“æ“ä½œç¬¦. çœ‹çœ‹è¿™ä¸ª:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> &#123;<span class="symbol">:ok</span>, res&#125; &lt;- foo(),</span><br><span class="line">     &#123;<span class="symbol">:ok</span>, re2&#125; &lt;- bar(res)</span><br><span class="line">     &#123;<span class="symbol">:ok</span>, re3&#125; &lt;- baz(re2) <span class="keyword">do</span></span><br><span class="line">  do_something_with_result(res3)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™å¯ä»¥è§£é‡Šä¸º, â€œæŒ‰é¡ºåºæ‰§è¡Œæ‰€æœ‰ä»¥é€—å·åˆ†éš”çš„æ“ä½œ, å¦‚æœå‰ä¸€ä¸ªæ“ä½œæ˜¯åŒ¹é…çš„, åˆ™æ‰§è¡Œä¸‹ä¸€ä¸ªæ“ä½œ. æœ€å, è¿è¡Œ <code>do/end</code> å—ä¸­çš„ä»£ç â€. è¿™çœ‹èµ·æ¥æ¯”ä¹‹å‰çš„ç‰ˆæœ¬æ›´ç®€æ´å’Œå¯è¯», è€Œä¸”å®ƒè¿˜æœ‰å¦ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿. å®ƒå…è®¸å·¥ç¨‹å¸ˆä¼˜å…ˆå…³æ³¨æ­£å¸¸çš„ä¸šåŠ¡åœºæ™¯. æœ‰äº›äººå¯èƒ½æƒ³çŸ¥é“, å¦‚æœä»»ä½•ä»¥é€—å·åˆ†éš”çš„æ“ä½œè¿”å›çš„æ˜¯ <code>&#123;:error, err&#125;</code> å…ƒç»„, ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µ. ç­”æ¡ˆæ˜¯, å°†è¿”å›ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„æ“ä½œè¡¨è¾¾å¼. ç®€å•åœ°è¯´, å¦‚æœæˆ‘ä»¬ä¸å…³å¿ƒé ok çš„ç»“æœ, é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥ç•™ä¸‹æ­£å¸¸çš„è·¯å¾„, æŠŠå®ƒç•™ç»™è°ƒç”¨è€…æ¥å¤„ç†æœ€ç»ˆç»“æœ. </p><p>å¦‚æœä½ ä½¿ç”¨è¿‡ <code>Phoenix</code>ï¼Œä½ å¯èƒ½ä¼šæƒ³èµ·ï¼Œè¿™æ­£æ˜¯å®ƒçš„ fallback actions çš„å·¥ä½œæ–¹å¼. </p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">MyController</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">use</span> <span class="title class_">Phoenix</span>.<span class="title class_">Controller</span></span><br><span class="line"></span><br><span class="line">  action_fallback <span class="title class_">MyFallbackController</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span></span>(conn, %&#123;<span class="string">&quot;id&quot;</span> =&gt; id&#125;, current_user) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">with</span> &#123;<span class="symbol">:ok</span>, post&#125; &lt;- <span class="title class_">Blog</span>.fetch_post(id),</span><br><span class="line">         <span class="symbol">:ok</span> &lt;- <span class="title class_">Authorizer</span>.authorize(current_user, <span class="symbol">:view</span>, post) <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">      render(conn, <span class="string">&quot;show.json&quot;</span>, <span class="symbol">post:</span> post)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ª Fallback Controller çš„ä¾‹å­æ¥æºäº <a href="https://hexdocs.pm/phoenix/Phoenix.Controller.html#action_fallback/1">official Phoenix docs</a></p><h2 id="with-else"><a href="#with-else" class="headerlink" title="with/else"></a>with/else</h2><p>å¦‚æœæˆ‘ä»¬æƒ³è¦è‡ªå·±å…³æ³¨è¿™äº›å‰¯ä½œç”¨ (side effects), <code>with</code> æä¾›äº†ä¸€ä¸ªæ‰©å±•ç‰ˆæœ¬ç»™æˆ‘ä»¬ä½¿ç”¨:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> &#123;<span class="symbol">:ok</span>, res&#125; &lt;- foo(),</span><br><span class="line">     &#123;<span class="symbol">:ok</span>, res2&#125; &lt;- bar(res) <span class="keyword">do</span></span><br><span class="line">  do_something_with_res(res2)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  &#123;<span class="symbol">:error</span>, &#123;<span class="symbol">:some_error</span>, err&#125;&#125; -&gt; handle_some_error(err)</span><br><span class="line">  &#123;<span class="symbol">:error</span>, &#123;<span class="symbol">:some_other_error</span>, err&#125;&#125; -&gt; handle_some__other_error(err)</span><br><span class="line">  default -&gt; handle_something_completely_unexpected(default)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p><strong>NOTE</strong>: è¯·è®°ä½ï¼Œè™½ç„¶åŸºç¡€çš„ <code>with</code> å½¢å¼åœ¨åŒ¹é…å¤±è´¥æ—¶ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä½†åœ¨ä½¿ç”¨ <code>else</code> æ—¶ï¼Œä½ å¿…é¡»è¯¦å°½åœ°åŒ¹é…æ‰€æœ‰çš„æƒ…å†µ. </p><h2 id="ä»€ä¹ˆä½¿ç”¨ä¸åº”è¯¥ä½¿ç”¨-with"><a href="#ä»€ä¹ˆä½¿ç”¨ä¸åº”è¯¥ä½¿ç”¨-with" class="headerlink" title="ä»€ä¹ˆä½¿ç”¨ä¸åº”è¯¥ä½¿ç”¨ with"></a>ä»€ä¹ˆä½¿ç”¨ä¸åº”è¯¥ä½¿ç”¨ with</h2><h3 id="ç”¨-else-å¤„ç†å•ä¸ªæ¨¡å¼åŒ¹é…çš„åœºæ™¯"><a href="#ç”¨-else-å¤„ç†å•ä¸ªæ¨¡å¼åŒ¹é…çš„åœºæ™¯" class="headerlink" title="ç”¨ else å¤„ç†å•ä¸ªæ¨¡å¼åŒ¹é…çš„åœºæ™¯"></a>ç”¨ else å¤„ç†å•ä¸ªæ¨¡å¼åŒ¹é…çš„åœºæ™¯</h3><p>è¿™å°†ä½¿ä»£ç æ¯”ä½ éœ€è¦çš„æ›´éš¾ä»¥é˜…è¯». ä»£ç å¦‚ä¸‹:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> &#123;<span class="symbol">:ok</span>, res&#125; &lt;- foo() <span class="keyword">do</span></span><br><span class="line">  do_something_with_res(res)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  &#123;<span class="symbol">:error</span>, &#123;<span class="symbol">:some_error</span>, err&#125;&#125; -&gt; handle_some_error(err)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨æ›´å…·æœ‰å¯è¯»æ€§çš„ <code>case</code> å—å¤„ç†:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> foo() <span class="keyword">do</span></span><br><span class="line">  &#123;<span class="symbol">:ok</span>, res&#125; -&gt; do_something_with_res(res)</span><br><span class="line">  &#123;<span class="symbol">:error</span>, &#123;<span class="symbol">:some_error</span>, err&#125;&#125; -&gt; handle_some_error(err)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h2><ul><li><a href="https://relistan.com/elixir-thoughts-on-the-with-statement">Elixir: Thoughts on the <code>with</code> Statement</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Elixir </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>the-solution-of-elixir-continuous-runtime-system-code-coverage-collection</title>
      <link href="/2022/08/31/the-solution-of-elixir-continuous-runtime-system-code-coverage-collection/"/>
      <url>/2022/08/31/the-solution-of-elixir-continuous-runtime-system-code-coverage-collection/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p><a href="https://github.com/yeshan333/explore_ast_app/blob/main/examples/README_cn.md">zh_hans</a></p></blockquote><p>Code coverage is an effective means to assist software engineers in verifying code quality. The runtime environmentâ€™s ability to collect code coverage fully combines black and white box testing capabilities and greatly increases engineersâ€™ confidence in software quality. This article introduces a solution for code coverage collection in the Elixir runtime environment, and provides an in-depth insight into its internal principles.</p><h2 id="1-Brief-talk-on-code-coverage"><a href="#1-Brief-talk-on-code-coverage" class="headerlink" title="1. Brief talk on code coverage"></a>1. Brief talk on code coverage</h2><p>As a <a href="https://hvitis.dev/google-qa-testing-article-on-manual-and-automation-test-engineers-sdet">SDET</a> or a SWE, we often need to write unit tests or integration test cases to verify the correctness of the system/application, but at the same time we often question whether our tests are adequate. At this time, test coverage is a means of measuring the adequacy of our testing, enhancing the success rate and confidence of the software release, and giving us more reflective perspectives. The note of the value is that high code coverage does not indicate high code quality, but conversely, code coverage is low, and code quality will not be high.</p><p>Most programming languages come with the ability to collect unit test coverage, and the same is true for Elixir, the official <a href="https://hexdocs.pm/mix/1.13.4/Mix.Tasks.Test.html#module-coverage">mix</a> build tool comes with the ability to collect coverage, but it is currently only suitable for offline system, not for runtime system. This article will be based on Erlangâ€™s cover module to give a solution for the Elixir runtime system. Since <a href="https://www.erlang.org/doc/man/cover.html">cover</a> is Erlangâ€™s built-in module, but why it works equally well with Elixir, weâ€™ll unveil its mystery in a follow-up. Before we get started, letâ€™s take a look at the two mainstream ways in which the open source community collects code coverage at runtime (here we look at the bytecode stubbing method of Java, which has a huge ecosystem of the language community):</p><p><img src="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/java_bytecode_tecs.png" class="lazyload" data-srcset="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/java_bytecode_tecs.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="java_bytecode_tecs"></p><p>Next letâ€™s focus on the core of elixir runtime coverage collection in this article - the cover module.</p><h2 id="2-Delve-into-the-Erlang-Cover-coverage-collection-implementation-mechanism"><a href="#2-Delve-into-the-Erlang-Cover-coverage-collection-implementation-mechanism" class="headerlink" title="2. Delve into the Erlang Cover coverage collection implementation mechanism"></a>2. Delve into the Erlang Cover coverage collection implementation mechanism</h2><h3 id="2-1-Introduction-Erlang-Cover"><a href="#2-1-Introduction-Erlang-Cover" class="headerlink" title="2.1. Introduction Erlang Cover"></a>2.1. Introduction Erlang Cover</h3><p><a href="https://www.erlang.org/doc/man/cover.html">cover</a> is part of Erlangâ€™s built-in tools set, providing a powerful ability to collect code coverage.</p><h3 id="2-2-Erlang-code-coverage-collection-implementation-analysis"><a href="#2-2-Erlang-code-coverage-collection-implementation-analysis" class="headerlink" title="2.2. Erlang code coverage collection implementation analysis"></a>2.2. Erlang code coverage collection implementation analysis</h3><p>As you can see from Erlangâ€™s official manual of the cover module, cover counts the number of times every executable line in the Erlang program is executed.</p><p>From the introduction of the official documentation, cover can be used for code coverage collection of the runtime system. When the code is instrumented, it does not modify the code source files of any modules or the beam files generated after compilation (that is the industry calls the On-The-Fly mode). Every time the executable row is called, the runtime system updates the number of calls to cover in an in-memory database (erlang ets) for storing data for subsequent coverage analysis.</p><p>Next, weâ€™ll explore the details of the On-The-Fly mode under cover.</p><h3 id="2-3-Learn-about-BEAM-File-Format"><a href="#2-3-Learn-about-BEAM-File-Format" class="headerlink" title="2.3. Learn about BEAM File Format"></a>2.3. Learn about BEAM File Format</h3><p>Before we can further understand the details of the cover implementation, it is necessary to understand the format of the BEAM file after the elixir source code is compiled. The compiled product of the Elixir (.ex file), like the Erlang (.erl file), is a binary chunked file, which is divided into several sections to store information used when the program runs (such as virtual machine operation instructions). In Erlang/Elixir, each module will have a corresponding BEAM file. The approximate structure of the BEAM file is as follows:</p><p><img src="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/beam_file_format.png" class="lazyload" data-srcset="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/beam_file_format.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="beam_file_format"></p><p>Letâ€™s take a look at the approximate content of the beam file through an Elixir mini <a href="https://github.com/yeshan333/explore_ast_app">demo</a> project:</p><ul><li>Step 1. Clone the project <a href="https://github.com/yeshan333/explore_ast_app">yeshan333/explore_ast_app</a> to the local:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/yeshan333/explore_ast_app.git</span><br><span class="line">cd explore_ast_app</span><br></pre></td></tr></table></figure><ul><li>Step 2. Build this project in <a href="https://www.erlang.org/doc/design_principles/release_structure.html">OTP release format</a>. (note: Elixir and Erlang need to be installed locally):</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MIX_ENV=prod mix distillery.release</span><br></pre></td></tr></table></figure><p>It can be noted that each Elixir module is compiled into a BEAM file (can be seen in the directory <code>_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin</code>).</p><ul><li>Step 3. Next, letâ€™s view the chunks in the Beam file through Erlangâ€™s standard library <a href="https://www.erlang.org/doc/man/beam_lib.html#">beam_lib</a>:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">open the iex console</span></span><br><span class="line">iex -S mix</span><br></pre></td></tr></table></figure><p>View all chunks of the compiled BEAM file (<code>Elixir.ExploreAstApp.beam</code>):</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>iex -S mix</span><br><span class="line"><span class="title class_">Erlang</span>/<span class="title class_">OTP</span> <span class="number">24</span> [erts<span class="number">-12.1</span>] [source] [<span class="number">64</span>-bit] [<span class="symbol">smp:</span><span class="number">12</span><span class="symbol">:</span><span class="number">12</span>] [<span class="symbol">ds:</span><span class="number">12</span><span class="symbol">:</span><span class="number">12</span><span class="symbol">:</span><span class="number">10</span>] [async-<span class="symbol">threads:</span><span class="number">1</span>] [jit] [dtrace]</span><br><span class="line"></span><br><span class="line"><span class="title class_">Interactive</span> <span class="title class_">Elixir</span> (<span class="number">1.12</span>.<span class="number">3</span>) - press <span class="title class_">Ctrl</span>+C to exit (type h() <span class="title class_">ENTER</span> <span class="keyword">for</span> help)</span><br><span class="line">iex(<span class="number">1</span>)&gt; beam_file_path = <span class="string">&quot;_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin/Elixir.ExploreAstApp.beam&quot;</span></span><br><span class="line"><span class="string">&quot;_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin/Elixir.ExploreAstApp.beam&quot;</span></span><br><span class="line">iex(<span class="number">2</span>)&gt; all_chunks = <span class="symbol">:beam_lib</span>.all_chunks(<span class="title class_">String</span>.to_charlist(beam_file_path))</span><br><span class="line">&#123;<span class="symbol">:ok</span>, <span class="title class_">ExploreAstApp</span>,</span><br><span class="line"> [</span><br><span class="line">   &#123;<span class="string">&#x27;AtU8&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">69</span>, <span class="number">108</span>, <span class="number">105</span>, <span class="number">120</span>, <span class="number">105</span>, <span class="number">114</span>, <span class="number">46</span>, <span class="number">69</span>, <span class="number">120</span>, <span class="number">112</span>, <span class="number">108</span>, <span class="number">111</span>,</span><br><span class="line">      <span class="number">114</span>, <span class="number">101</span>, <span class="number">65</span>, <span class="number">115</span>, <span class="number">116</span>, <span class="number">65</span>, <span class="number">112</span>, <span class="number">112</span>, <span class="number">8</span>, <span class="number">95</span>, <span class="number">95</span>, <span class="number">105</span>, <span class="number">110</span>, <span class="number">102</span>, <span class="number">111</span>, <span class="number">95</span>,</span><br><span class="line">      <span class="number">95</span>, <span class="number">10</span>, <span class="number">97</span>, <span class="number">116</span>, <span class="number">116</span>, <span class="number">114</span>, <span class="number">105</span>, <span class="number">98</span>, <span class="number">117</span>, <span class="number">116</span>, <span class="number">101</span>, ...&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;Code&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">16</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">169</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">16</span>,</span><br><span class="line">      <span class="number">153</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">18</span>, <span class="number">34</span>, <span class="number">16</span>, <span class="number">1</span>, <span class="number">32</span>, <span class="number">59</span>, <span class="number">3</span>, <span class="number">21</span>, <span class="number">23</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">50</span>, <span class="number">117</span>, <span class="number">66</span>, <span class="number">117</span>, <span class="number">82</span>,</span><br><span class="line">      <span class="number">101</span>, <span class="number">98</span>, ...&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;StrT&#x27;</span>, <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;ImpT&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">      <span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;ExpT&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">15</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">13</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">15</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">13</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">9</span>, ...&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;LitT&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">52</span>, <span class="number">120</span>, <span class="number">156</span>, <span class="number">99</span>, <span class="number">96</span>, <span class="number">96</span>, <span class="number">96</span>, <span class="number">98</span>, <span class="number">96</span>, <span class="number">96</span>, <span class="number">16</span>, <span class="number">106</span>, <span class="number">206</span>, <span class="number">1</span>, <span class="number">146</span>,</span><br><span class="line">      <span class="number">140</span>, <span class="number">25</span>, <span class="number">76</span>, <span class="number">229</span>, <span class="number">172</span>, <span class="number">25</span>, <span class="number">169</span>, <span class="number">57</span>, <span class="number">57</span>, <span class="number">249</span>, <span class="number">137</span>, <span class="number">12</span>, <span class="number">89</span>, <span class="number">64</span>, <span class="number">190</span>, <span class="number">88</span>,</span><br><span class="line">      <span class="number">115</span>, <span class="number">46</span>, <span class="number">144</span>, <span class="number">20</span>, <span class="number">248</span>, ...&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;LocT&#x27;</span>, &lt;&lt;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;Attr&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">131</span>, <span class="number">108</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">104</span>, <span class="number">2</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">118</span>, <span class="number">115</span>, <span class="number">110</span>, <span class="number">108</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>,</span><br><span class="line">      <span class="number">110</span>, <span class="number">16</span>, <span class="number">0</span>, <span class="number">165</span>, <span class="number">236</span>, <span class="number">94</span>, <span class="number">47</span>, <span class="number">119</span>, <span class="number">160</span>, <span class="number">184</span>, <span class="number">33</span>, <span class="number">240</span>, <span class="number">28</span>, <span class="number">89</span>, <span class="number">11</span>, <span class="number">22</span>, <span class="number">130</span>,</span><br><span class="line">      <span class="number">207</span>, ...&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;CInf&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">131</span>, <span class="number">108</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">104</span>, <span class="number">2</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">118</span>, <span class="number">101</span>, <span class="number">114</span>, <span class="number">115</span>, <span class="number">105</span>, <span class="number">111</span>,</span><br><span class="line">      <span class="number">110</span>, <span class="number">107</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">56</span>, <span class="number">46</span>, <span class="number">48</span>, <span class="number">46</span>, <span class="number">51</span>, <span class="number">104</span>, <span class="number">2</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">111</span>, <span class="number">112</span>, <span class="number">116</span>, <span class="number">105</span>,</span><br><span class="line">      <span class="number">111</span>, ...&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;Dbgi&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">131</span>, <span class="number">80</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">143</span>, <span class="number">120</span>, <span class="number">156</span>, <span class="number">117</span>, <span class="number">80</span>, <span class="number">203</span>, <span class="number">78</span>, <span class="number">3</span>, <span class="number">49</span>, <span class="number">12</span>, <span class="number">76</span>, <span class="number">233</span>, <span class="number">67</span>,</span><br><span class="line">      <span class="number">162</span>, <span class="number">5</span>, <span class="number">113</span>, <span class="number">65</span>, <span class="number">124</span>, <span class="number">70</span>, <span class="number">87</span>, <span class="number">253</span>, <span class="number">2</span>, <span class="number">212</span>, <span class="number">67</span>, <span class="number">63</span>, <span class="number">129</span>, <span class="number">115</span>, <span class="number">148</span>, <span class="number">221</span>,</span><br><span class="line">      <span class="number">120</span>, ...&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;Docs&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">131</span>, <span class="number">80</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">241</span>, <span class="number">120</span>, <span class="number">156</span>, <span class="number">93</span>, <span class="number">142</span>, <span class="number">205</span>, <span class="number">10</span>, <span class="number">194</span>, <span class="number">48</span>, <span class="number">16</span>, <span class="number">132</span>, <span class="number">215</span>,</span><br><span class="line">      <span class="number">74</span>, <span class="number">91</span>, <span class="number">9</span>, <span class="number">248</span>, <span class="number">14</span>, <span class="number">129</span>, <span class="number">94</span>, <span class="number">244</span>, <span class="number">82</span>, <span class="number">241</span>, <span class="number">234</span>, <span class="number">65</span>, <span class="number">40</span>, <span class="number">88</span>, <span class="number">241</span>, <span class="number">45</span>, <span class="number">108</span>,</span><br><span class="line">      ...&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;ExCk&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">131</span>, <span class="number">104</span>, <span class="number">2</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">17</span>, <span class="number">101</span>, <span class="number">108</span>, <span class="number">105</span>, <span class="number">120</span>, <span class="number">105</span>, <span class="number">114</span>, <span class="number">95</span>, <span class="number">99</span>, <span class="number">104</span>, <span class="number">101</span>,</span><br><span class="line">      <span class="number">99</span>, <span class="number">107</span>, <span class="number">101</span>, <span class="number">114</span>, <span class="number">95</span>, <span class="number">118</span>, <span class="number">49</span>, <span class="number">116</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">101</span>, <span class="number">120</span>,</span><br><span class="line">      ...&gt;&gt;&#125;,</span><br><span class="line">   &#123;<span class="string">&#x27;Line&#x27;</span>,</span><br><span class="line">    &lt;&lt;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">18</span>, <span class="number">241</span>, <span class="number">0</span>,</span><br><span class="line">      <span class="number">22</span>, <span class="number">108</span>, <span class="number">105</span>, <span class="number">98</span>, <span class="number">47</span>, <span class="number">101</span>, <span class="number">120</span>, <span class="number">112</span>, <span class="number">108</span>, ...&gt;&gt;&#125;</span><br><span class="line"> ]&#125;</span><br></pre></td></tr></table></figure><p>As you can see, the obtained chunks correspond to the previous diagram. We can also obtain the Erlang AST (abstract syntax tree) corresponding to the module (<code>ExploreAstApp</code>) through the beam_lib standard library:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">3</span>)&gt; result = <span class="symbol">:beam_lib</span>.chunks(<span class="title class_">String</span>.to_charlist(beam_file_path), [<span class="symbol">:abstract_code</span>])</span><br><span class="line">&#123;<span class="symbol">:ok</span>,</span><br><span class="line"> &#123;<span class="title class_">ExploreAstApp</span>,</span><br><span class="line">  [</span><br><span class="line">    <span class="symbol">abstract_code:</span> &#123;<span class="symbol">:raw_abstract_v1</span>,</span><br><span class="line">     [</span><br><span class="line">       &#123;<span class="symbol">:attribute</span>, <span class="number">1</span>, <span class="symbol">:file</span>, &#123;<span class="string">&#x27;lib/explore_ast_app.ex&#x27;</span>, <span class="number">1</span>&#125;&#125;,</span><br><span class="line">       &#123;<span class="symbol">:attribute</span>, <span class="number">1</span>, <span class="symbol">:module</span>, <span class="title class_">ExploreAstApp</span>&#125;,</span><br><span class="line">       &#123;<span class="symbol">:attribute</span>, <span class="number">1</span>, <span class="symbol">:compile</span>, [<span class="symbol">:no_auto_import</span>]&#125;,</span><br><span class="line">       &#123;<span class="symbol">:attribute</span>, <span class="number">1</span>, <span class="symbol">:export</span>, [<span class="symbol">__info__:</span> <span class="number">1</span>, <span class="symbol">hello:</span> <span class="number">0</span>]&#125;,</span><br><span class="line">       &#123;<span class="symbol">:attribute</span>, <span class="number">1</span>, <span class="symbol">:spec</span>,</span><br><span class="line">        &#123;&#123;<span class="symbol">:__info__</span>, <span class="number">1</span>&#125;,</span><br><span class="line">         [</span><br><span class="line">           &#123;<span class="symbol">:type</span>, <span class="number">1</span>, <span class="symbol">:fun</span>,</span><br><span class="line">            [</span><br><span class="line">              &#123;<span class="symbol">:type</span>, <span class="number">1</span>, <span class="symbol">:product</span>,</span><br><span class="line">               [</span><br><span class="line">                 &#123;<span class="symbol">:type</span>, <span class="number">1</span>, <span class="symbol">:union</span>,</span><br><span class="line">                  [</span><br><span class="line">                    &#123;<span class="symbol">:atom</span>, <span class="number">1</span>, <span class="symbol">:attributes</span>&#125;,</span><br><span class="line">                    &#123;<span class="symbol">:atom</span>, <span class="number">1</span>, <span class="symbol">:compile</span>&#125;,</span><br><span class="line">                    &#123;<span class="symbol">:atom</span>, <span class="number">1</span>, <span class="symbol">:functions</span>&#125;,</span><br><span class="line">                    &#123;<span class="symbol">:atom</span>, <span class="number">1</span>, <span class="symbol">:macros</span>&#125;,</span><br><span class="line">                    &#123;<span class="symbol">:atom</span>, <span class="number">1</span>, <span class="symbol">:md5</span>&#125;,</span><br><span class="line">                    &#123;<span class="symbol">:atom</span>, <span class="number">1</span>, <span class="symbol">:exports_md5</span>&#125;,</span><br><span class="line">                    &#123;<span class="symbol">:atom</span>, <span class="number">1</span>, <span class="symbol">:module</span>&#125;,</span><br><span class="line">                    &#123;<span class="symbol">:atom</span>, <span class="number">1</span>, <span class="symbol">:deprecated</span>&#125;</span><br><span class="line">                  ]&#125;</span><br><span class="line">               ]&#125;,</span><br><span class="line">              &#123;<span class="symbol">:type</span>, <span class="number">1</span>, <span class="symbol">:any</span>, []&#125;</span><br><span class="line">            ]&#125;</span><br><span class="line">         ]&#125;&#125;,</span><br><span class="line">       &#123;<span class="symbol">:function</span>, <span class="number">0</span>, <span class="symbol">:__info__</span>, <span class="number">1</span>,</span><br><span class="line">        [</span><br><span class="line">          &#123;<span class="symbol">:clause</span>, <span class="number">0</span>, [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:module</span>&#125;], [], [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="title class_">ExploreAstApp</span>&#125;]&#125;,</span><br><span class="line">          &#123;<span class="symbol">:clause</span>, <span class="number">0</span>, [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:functions</span>&#125;], [],</span><br><span class="line">           [</span><br><span class="line">             &#123;<span class="symbol">:cons</span>, <span class="number">0</span>, &#123;<span class="symbol">:tuple</span>, <span class="number">0</span>, [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:hello</span>&#125;, &#123;<span class="symbol">:integer</span>, <span class="number">0</span>, <span class="number">0</span>&#125;]&#125;,</span><br><span class="line">              &#123;<span class="literal">nil</span>, <span class="number">0</span>&#125;&#125;</span><br><span class="line">           ]&#125;,</span><br><span class="line">          &#123;<span class="symbol">:clause</span>, <span class="number">0</span>, [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:macros</span>&#125;], [], [<span class="symbol">nil:</span> <span class="number">0</span>]&#125;,</span><br><span class="line">          &#123;<span class="symbol">:clause</span>, <span class="number">0</span>, [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:exports_md5</span>&#125;], [],</span><br><span class="line">           [</span><br><span class="line">             &#123;<span class="symbol">:bin</span>, <span class="number">0</span>,</span><br><span class="line">              [</span><br><span class="line">                &#123;<span class="symbol">:bin_element</span>, <span class="number">0</span>,</span><br><span class="line">                 &#123;<span class="symbol">:string</span>, <span class="number">0</span>,</span><br><span class="line">                  [<span class="number">240</span>, <span class="number">105</span>, <span class="number">247</span>, <span class="number">119</span>, <span class="number">22</span>, <span class="number">50</span>, <span class="number">219</span>, <span class="number">207</span>, <span class="number">90</span>, <span class="number">95</span>, <span class="number">127</span>, <span class="number">92</span>, ...]&#125;,</span><br><span class="line">                 <span class="symbol">:default</span>, <span class="symbol">:default</span>&#125;</span><br><span class="line">              ]&#125;</span><br><span class="line">           ]&#125;,</span><br><span class="line">          &#123;<span class="symbol">:clause</span>, <span class="number">0</span>, [&#123;<span class="symbol">:match</span>, <span class="number">0</span>, &#123;<span class="symbol">:var</span>, <span class="number">0</span>, <span class="symbol">:Key</span>&#125;, &#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:attributes</span>&#125;&#125;],</span><br><span class="line">           [],</span><br><span class="line">           [</span><br><span class="line">             &#123;<span class="symbol">:call</span>, <span class="number">0</span>,</span><br><span class="line">              &#123;<span class="symbol">:remote</span>, <span class="number">0</span>, &#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:erlang</span>&#125;, &#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:get_module_info</span>&#125;&#125;,</span><br><span class="line">              [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="title class_">ExploreAstApp</span>&#125;, &#123;<span class="symbol">:var</span>, <span class="number">0</span>, <span class="symbol">:Key</span>&#125;]&#125;</span><br><span class="line">           ]&#125;,</span><br><span class="line">          &#123;<span class="symbol">:clause</span>, <span class="number">0</span>, [&#123;<span class="symbol">:match</span>, <span class="number">0</span>, &#123;<span class="symbol">:var</span>, <span class="number">0</span>, <span class="symbol">:Key</span>&#125;, &#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:compile</span>&#125;&#125;], [],</span><br><span class="line">           [</span><br><span class="line">             &#123;<span class="symbol">:call</span>, <span class="number">0</span>,</span><br><span class="line">              &#123;<span class="symbol">:remote</span>, <span class="number">0</span>, &#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:erlang</span>&#125;, &#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:get_module_info</span>&#125;&#125;,</span><br><span class="line">              [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="title class_">ExploreAstApp</span>&#125;, &#123;<span class="symbol">:var</span>, <span class="number">0</span>, <span class="symbol">:Key</span>&#125;]&#125;</span><br><span class="line">           ]&#125;,</span><br><span class="line">          &#123;<span class="symbol">:clause</span>, <span class="number">0</span>, [&#123;<span class="symbol">:match</span>, <span class="number">0</span>, &#123;<span class="symbol">:var</span>, <span class="number">0</span>, <span class="symbol">:Key</span>&#125;, &#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:md5</span>&#125;&#125;], [],</span><br><span class="line">           [</span><br><span class="line">             &#123;<span class="symbol">:call</span>, <span class="number">0</span>,</span><br><span class="line">              &#123;<span class="symbol">:remote</span>, <span class="number">0</span>, &#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:erlang</span>&#125;, &#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:get_module_info</span>&#125;&#125;,</span><br><span class="line">              [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="title class_">ExploreAstApp</span>&#125;, &#123;<span class="symbol">:var</span>, <span class="number">0</span>, <span class="symbol">:Key</span>&#125;]&#125;</span><br><span class="line">           ]&#125;,</span><br><span class="line">          &#123;<span class="symbol">:clause</span>, <span class="number">0</span>, [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:deprecated</span>&#125;], [], [<span class="symbol">nil:</span> <span class="number">0</span>]&#125;</span><br><span class="line">        ]&#125;,</span><br><span class="line">       &#123;<span class="symbol">:function</span>, <span class="number">15</span>, <span class="symbol">:hello</span>, <span class="number">0</span>, [&#123;<span class="symbol">:clause</span>, <span class="number">15</span>, [], [], [&#123;<span class="symbol">:atom</span>, <span class="number">0</span>, <span class="symbol">:world</span>&#125;]&#125;]&#125;</span><br><span class="line">     ]&#125;</span><br><span class="line">  ]&#125;&#125;</span><br></pre></td></tr></table></figure><p>It can be seen that AST is expressed in the form of <a href="https://www.erlang.org/doc/reference_manual/data_types.html#terms">Erlang Terms</a> (called Abstract Code), which is easy to read. The Abstract Code is very useful in the on-the-fly instrumentation process of cover.</p><p>The above AST structure is simple and easy to read, and we can easily match it with the source code (<code>lib/explore_ast_app.ex</code>) before the module is compiled, although the AST structure is the final Erlang AST, and some extras information are added by the Erlang compiler, but does not affect reading:</p><p><img src="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/ex_source_ast_code_mapper.png" class="lazyload" data-srcset="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/ex_source_ast_code_mapper.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ex_source_ast_code_mapper"></p><p>The second element in the tuple generally represents the number of source code lines. You can learn more about Erlangâ€™s Abstract Format through the official documentation. By observing the Erlang AST structure of several BEAM files, you will be familiar with it. It is worth noting that the Abstract Code was stored in the Abstract Chunk of the BEAM file before OTP 20.</p><p>If you want to learn more about BEAM files in detail, you can check out the following two documents:</p><ul><li><a href="http://beam-wisdoms.clau.se/en/latest/indepth-beam-file.html#beam-term-format">http://beam-wisdoms.clau.se/en/latest/indepth-beam-file.html#beam-term-format</a></li><li><a href="https://blog.stenmans.org/theBeamBook/#BEAM_files">https://blog.stenmans.org/theBeamBook/#BEAM_files</a></li></ul><h3 id="2-4-Elixir-source-code-compilation-process"><a href="#2-4-Elixir-source-code-compilation-process" class="headerlink" title="2.4. Elixir source code compilation process"></a>2.4. Elixir source code compilation process</h3><p>After understanding BEAM File Format, we also need to understand the compilation process of Elixir code, which will help us better understand cover. The process of compiling Elixir source code into BEAM file may not be as you imagined In the same way, instead of directly from Elixirâ€™s AST, it becomes executable BEAM Code after being processed by the compiler backend. There is also a process in the middle, as shown in the following figure:</p><p><img src="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/Elixir-Compilation.jpg" class="lazyload" data-srcset="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/Elixir-Compilation.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Elixir-Compilation-Process"></p><p>The above process can be described as:</p><ul><li><p>Step 1ã€The Elixir source code will be parsed by a custom lexical analyzer (<a href="https://github.com/elixir-lang/elixir/blob/main/lib/elixir/src/elixir_tokenizer.erl">elixir_tokenizer</a>) and <a href="https://www.erlang.org/doc/man/yecc.html">yacc</a> to generate the initial version of Elixir AST, which is expressed in the form of Elixir Terms; if you are interested in Elixirâ€™s AST, you can follow this Project <a href="https://github.com/arjan/ast_ninja">arjan/ast_ninja</a>;</p></li><li><p>Step 2ã€In the Elixir AST stage, some custom and built-in Macros have not been expanded, and these Macros are expanded into the final Elixir AST in the Expanded Elixir AST stage;</p></li><li><p>Step 3ã€Final Elixir AST will be converted into Erlang standard AST form (<a href="https://www.erlang.org/doc/apps/erts/absform.html">Erlang Abstract Format</a>) after being processed by Elixir Compiler;</p></li><li><p>Step 4ã€Finally, Elixir will use the Erlang Compiler to process the Erlang AST, converting it into BEAM bytecode executable by the BEAM Virtual Machine (VM). For details on the compiler, see: <a href="https://github.com/elixir-lang/elixir/blob/main/lib/elixir/src/elixir_compiler.erl">elixir_compiler.erl</a> and <a href="https://github.com/elixir-lang/elixir/blob/main/lib/elixir/src/elixir_erl.erl">elixir_erl.erl</a> source code For more details on the Erlang Compiler, see <a href="https://blog.stenmans.org/theBeamBook/#CH-Compiler">theBeamBook/#CH-Compiler</a>.</p></li></ul><h3 id="2-5-Cover-On-The-Fly-Instrumentation-Implementation"><a href="#2-5-Cover-On-The-Fly-Instrumentation-Implementation" class="headerlink" title="2.5. Cover On-The-Fly Instrumentation Implementation"></a>2.5. Cover On-The-Fly Instrumentation Implementation</h3><p>Now itâ€™s time for dinner. Letâ€™s see how cover performs instrumentation and coverage collection. To use cover to complete code coverage collection, we must know three dragon-slaying swords:</p><p><img src="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/swords.jpg" class="lazyload" data-srcset="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/swords.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="three dragon-slaying swords"></p><ul><li><p><code>cover:start</code>: Used to create the cover coverage collection process, it will complete the creation of the relevant ets table to store the coverage data, <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L159">cover.erl#L159</a> &amp; <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L632">cover.erl#L632</a>, and we can also start the cover process of the remote Erlang node.</p></li><li><p><code>cover:compile_beam</code>: For instrumentation, cover will read the content of the abstract_code of the BEAM file, namely Erlang AST. The key code is in <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L1541">cover.erl#L1541</a>, and then transform and munge the Erlang AST From, it will call <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L1938">bump_call</a>, after each executable line will insert the following abstract_code:</p></li></ul><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;call,A,&#123;remote,A,&#123;atom,A,ets&#125;,&#123;atom,A,update_counter&#125;&#125;,</span><br><span class="line"> [&#123;atom,A,?COVER_TABLE&#125;,</span><br><span class="line">  &#123;tuple,A,[&#123;atom,A,?BUMP_REC_NAME&#125;,</span><br><span class="line">            &#123;atom,A,Vars#vars.module&#125;,</span><br><span class="line">            &#123;atom,A,Vars#vars.function&#125;,</span><br><span class="line">            &#123;integer,A,Vars#vars.arity&#125;,</span><br><span class="line">            &#123;integer,A,Vars#vars.clause&#125;,</span><br><span class="line">            &#123;integer,A,Line&#125;]&#125;,</span><br><span class="line">  &#123;integer,A,<span class="number">1</span>&#125;]&#125;.</span><br></pre></td></tr></table></figure><p>From the previous understanding of Erlang AST, we know that this is equivalent to inserting the following line of code:</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ets:update_counter(?COVER_TABLE, #bump&#123;module=Module, function=Function, arity=Arity, clause=Clause, line=Line&#125;, <span class="number">1</span>).</span><br></pre></td></tr></table></figure><p>Then for the mungeed Erlang AST Form, cover uses the Erlang Compiler to obtain the Erlang Beam Code (also known as object code. i.e. bytecode, VM execution instructions) from the mungeed AST expression form. <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L1580">cover.erl#L1580</a>. And then use the Erlang <a href="https://www.erlang.org/doc/man/code.html#load_binary-3">code server</a> to replace the old object code with the new object code obtained, <code>load_binary</code> <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L1581">cover.erl#L1581</a> into <a href="https://blog.stenmans.org/theBeamBook/#P-ERTS">ERTS</a> (Erlang Run Time System). cover completes the Erlang AST instrumentation process, so that whenever the executable line is Executed, the corresponding ets storage table will update the number of times the code line was called.</p><ul><li><code>cover:analyze</code>: Analyze the data stored in the ets table to obtain the number of times the executable line was executed (called), which can be used for statistical coverage data.</li></ul><blockquote><p>munge: Used to make a series of potentially destructive or irreversible changes to data or files.</p></blockquote><h2 id="3-Elixir-Application-runtime-coverage-collection-example"><a href="#3-Elixir-Application-runtime-coverage-collection-example" class="headerlink" title="3. Elixir Application runtime coverage collection example"></a>3. Elixir Application runtime coverage collection example</h2><p>Through the above, after understanding the implementation details of the Erlang Cover module. Let us take a deployed and running Elixir Application (we will use the previous <a href="https://github.com/yeshan333/explore_ast_app">yesan333/explore_ast_app</a>) as an example to perform large-scale tests (system &amp; integration tests) of the Elixir application runtime of code line-level coverage collection.</p><p>Here we will use a tool library: <a href="https://github.com/yeshan333/ex_integration_coveralls">ex_integration_coveralls</a> for coverage analysis, which is an Elixir Wrapper for the Erlang module cover to collection Elixir runtime system coverage. Letâ€™s start:</p><ul><li>Step 1ã€Add <code>ex_integration_coveralls</code> dependency to <code>mix.exs</code> file:</li></ul><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defp</span> <span class="title">deps</span></span> <span class="keyword">do</span></span><br><span class="line">  [</span><br><span class="line">    ...,</span><br><span class="line">    &#123;<span class="symbol">:ex_integration_coveralls</span>, <span class="string">&quot;~&gt; 0.3.0&quot;</span>&#125;</span><br><span class="line">  ]</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>Pull the dependencies and rebuild the project:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mix deps.get</span><br><span class="line">MIX_ENV=prod mix distillery.release</span><br></pre></td></tr></table></figure><ul><li>Step 2ã€Start the project:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_build/prod/rel/explore_ast_app/bin/explore_ast_app foreground</span><br></pre></td></tr></table></figure><ul><li>Step 3ã€Connect to the remote_console of the Elixir runtime application node:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_build/prod/rel/explore_ast_app/bin/explore_ast_app remote_console</span><br></pre></td></tr></table></figure><ul><li>Step 4ã€Use <code>ex_integration_coveralls</code> (ExIntegrationCoveralls.execute) to start cover and perform code coverage collection:</li></ul><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">iex(explore_ast_app<span class="variable">@127</span>.<span class="number">0.0</span>.<span class="number">1</span>)<span class="number">1</span>&gt; compiled_beam_dir_path = <span class="string">&quot;/Users/yeshan/oss_github/explore_ast_app/_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin&quot;</span></span><br><span class="line"><span class="string">&quot;/Users/yeshan/oss_github/explore_ast_app/_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin&quot;</span></span><br><span class="line">iex(explore_ast_app<span class="variable">@127</span>.<span class="number">0.0</span>.<span class="number">1</span>)<span class="number">2</span>&gt; <span class="title class_">ExIntegrationCoveralls</span>.execute(compiled_beam_dir_path)</span><br><span class="line">[</span><br><span class="line">  <span class="symbol">ok:</span> <span class="title class_">ExploreAstApp</span>.<span class="title class_">Router</span>,</span><br><span class="line">  <span class="symbol">ok:</span> <span class="title class_">ExploreAstApp</span>.<span class="title class_">Plug</span>.<span class="title class_">VerifyRequest</span>.<span class="title class_">IncompleteRequestError</span>,</span><br><span class="line">  <span class="symbol">ok:</span> <span class="title class_">ExploreAstApp</span>.<span class="title class_">Plug</span>.<span class="title class_">VerifyRequest</span>,</span><br><span class="line">  <span class="symbol">ok:</span> <span class="title class_">ExploreAstApp</span>.<span class="title class_">Application</span>,</span><br><span class="line">  <span class="symbol">ok:</span> <span class="title class_">ExploreAstApp</span></span><br><span class="line">]</span><br><span class="line">iex(explore_ast_app<span class="variable">@127</span>.<span class="number">0.0</span>.<span class="number">1</span>)<span class="number">3</span>&gt; compile_time_source_lib_abs_path = <span class="string">&quot;/Users/yeshan/oss_github/explore_ast_app&quot;</span></span><br><span class="line"><span class="string">&quot;/Users/yeshan/oss_github/explore_ast_app&quot;</span></span><br><span class="line">iex(explore_ast_app<span class="variable">@127</span>.<span class="number">0.0</span>.<span class="number">1</span>)<span class="number">4</span>&gt; source_code_abs_path = <span class="string">&quot;/Users/yeshan/oss_github/explore_ast_app&quot;</span></span><br><span class="line"><span class="string">&quot;/Users/yeshan/oss_github/explore_ast_app&quot;</span></span><br><span class="line">iex(explore_ast_app<span class="variable">@127</span>.<span class="number">0.0</span>.<span class="number">1</span>)<span class="number">5</span>&gt; <span class="title class_">ExIntegrationCoveralls</span>.get_total_coverage(compile_time_source_lib_abs_path, source_code_abs_path)</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure><p>As you can see, the initial coverage is 0, because no code has been called yet.</p><ul><li>Step 5ã€Letâ€™s execute the following cURL. Let code be called:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">curl --location --request GET <span class="string">&#x27;http://localhost:8080/hello&#x27;</span></span></span><br><span class="line">hello %</span><br></pre></td></tr></table></figure><p>Check out the code coverage data again in iex console:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(explore_ast_app<span class="variable">@127</span>.<span class="number">0.0</span>.<span class="number">1</span>)<span class="number">6</span>&gt; <span class="title class_">ExIntegrationCoveralls</span>.get_total_coverage(compile_time_source_lib_abs_path, source_code_abs_path)</span><br><span class="line"><span class="number">17.1</span></span><br></pre></td></tr></table></figure><p>As you can see, the cURL (test case) coverage for this project is 17.1%.</p><p>We can also use the following methods to view more detailed code coverage, such as viewing the code coverage of <code>lib/explore_ast_app/router.ex</code> (<code>nil</code> means the line is not an executable line):</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">iex(explore_ast_app<span class="variable">@127</span>.<span class="number">0.0</span>.<span class="number">1</span>)<span class="number">7</span>&gt; result = <span class="title class_">ExIntegrationCoveralls</span>.get_coverage_report(compile_time_source_lib_abs_path, source_code_abs_path)</span><br><span class="line">.......</span><br><span class="line">iex(explore_ast_app<span class="variable">@127</span>.<span class="number">0.0</span>.<span class="number">1</span>)<span class="number">8</span>&gt; <span class="title class_">Enum</span>.at(<span class="title class_">Map</span>.get(result, <span class="symbol">:files</span>), <span class="number">3</span>)</span><br><span class="line">%<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Source</span>&#123;</span><br><span class="line">  <span class="symbol">coverage:</span> <span class="number">18.2</span>,</span><br><span class="line">  <span class="symbol">filename:</span> <span class="string">&quot;lib/explore_ast_app/router.ex&quot;</span>,</span><br><span class="line">  <span class="symbol">hits:</span> <span class="number">4</span>,</span><br><span class="line">  <span class="symbol">misses:</span> <span class="number">18</span>,</span><br><span class="line">  <span class="symbol">sloc:</span> <span class="number">22</span>,</span><br><span class="line">  <span class="symbol">source:</span> [</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">1</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;defmodule ExploreAstApp.Router do&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="number">1</span>, <span class="symbol">source:</span> <span class="string">&quot;  use Plug.Router&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  use Plug.ErrorHandler&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  import Plug.Conn&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  alias ExploreAstApp.Plug.VerifyRequest&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  plug Plug.Parsers, parsers: [:urlencoded, :multipart]&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  plug VerifyRequest, fields: [\&quot;content\&quot;, \&quot;mimetype\&quot;], paths: [\&quot;/upload\&quot;]&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;  plug :match&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  plug Plug.Parsers, parsers: [:json], pass: [\&quot;application/json\&quot;], json_decoder: Jason&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  plug :dispatch&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">0</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  get \&quot;/welcome\&quot; do&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">0</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;    send_resp(conn, 200, \&quot;Welcome\&quot;)&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;  end&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">0</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  get \&quot;/upload\&quot; do&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">0</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;    send_resp(conn, 201, \&quot;Uploaded\&quot;)&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;  end&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">1</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  get \&quot;/hello\&quot; do&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;    # query parameter is user like this:&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;    # http://localhost:4001/hello?name=John&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;    # which will create %&#123;\&quot;name\&quot; =&gt; \&quot;John\&quot;&#125;&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">1</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;      send_resp(conn, 200, \&quot;hello \#&#123;Map.get(conn.query_params, \&quot;name\&quot;)&#125;\&quot;)&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;  end&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">0</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  get \&quot;/hello/:name\&quot; do&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">0</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;    send_resp(conn, 200, \&quot;hello \#&#123;name&#125;\&quot;)&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;  end&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">0</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;  post \&quot;/hello\&quot; do&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;    # json body of POST request &#123;\&quot;name\&quot;: \&quot;John\&quot;&#125; is parsed to %&#123;\&quot;name\&quot; =&gt; \&quot;John\&quot;&#125;&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;    # so it can be accesable with e.g. Map.get(conn.body_params, \&quot;name\&quot;) or with pattern matching&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="number">0</span>, <span class="symbol">source:</span> <span class="string">&quot;    name =&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">0</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;      case conn.body_params do&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="number">0</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;        %&#123;\&quot;name\&quot; =&gt; a_name &#125; -&gt; a_name&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;</span><br><span class="line">      <span class="symbol">coverage:</span> <span class="literal">nil</span>,</span><br><span class="line">      <span class="symbol">source:</span> <span class="string">&quot;        _ -&gt; \&quot;\&quot;&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;      end&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, <span class="symbol">source:</span> <span class="string">&quot;&quot;</span>&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;<span class="symbol">coverage:</span> <span class="literal">nil</span>, ...&#125;,</span><br><span class="line">    %<span class="title class_">ExIntegrationCoveralls</span>.<span class="title class_">Stats</span>.<span class="title class_">Line</span>&#123;...&#125;,</span><br><span class="line">    ...</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Based on the <code>post_cov_stats_to_ud_ci</code> interface, it is possible to further interface with internal or external <a href="https://about.codecov.io/">Codecov</a>-like coverage systems.</p><p><img src="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/coverage_system.jpg" class="lazyload" data-srcset="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/coverage_system.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="coverage_system"></p><p>Based on this, we can realize the collection of code coverage with large-scale (integration &amp; system) testing capabilities without stopping the Elixir Application.</p><h2 id="4-Continuous-runtime-coverage-collection-solution-for-large-scale-Elixir-Erlang-Microservice-clusters"><a href="#4-Continuous-runtime-coverage-collection-solution-for-large-scale-Elixir-Erlang-Microservice-clusters" class="headerlink" title="4. Continuous runtime coverage collection solution for large-scale Elixir/Erlang Microservice clusters"></a>4. Continuous runtime coverage collection solution for large-scale Elixir/Erlang Microservice clusters</h2><p>With the continuous expansion of the Elixir/Erlang microservice system, the coverage collection method shown in the previous section needs further evolution. Referring to the design of <a href="https://prometheus.io/docs/introduction/overview/#architecture">Prometheus Pull-Base</a>, the overall design (combination of Pull &amp; Push mode) is as follows:</p><p><img src="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/coverage-arch.jpg" class="lazyload" data-srcset="https://github.com/yeshan333/explore_ast_app/raw/main/examples/assets/en/coverage-arch.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="coverage_system_design"></p><p>We expand based on <a href="https://github.com/yeshan333/ex_integration_coveralls">ex_integration_coveralls</a>. After the Elixir Application is started, a http worker is started up to expose the code coverage data in real time, which is convenient for communication with heterogeneous systems. The Coverage Push Gateway is responsible for regularly pulling the coverage data (Gateway can be a OTP Application, which allows <code>ex_integration_coveralls</code> to directly start up the custom <a href="https://github.com/yeshan333/ex_integration_coveralls/blob/main/lib/ex_integration_coveralls/cov_stats_worker.ex">GenServer Worker</a> for interactive integration test system in the distributed OTP system), after the integration/system test system informs the end of the test, the Gateway pushes the coverage data to the <code>Cover Center</code> for code coverage rate display.</p><p>End (long way to go).</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://storage.googleapis.com/pub-tools-public-publication-data/pdf/36f4140541f8dd555fb8aaee2fd719d59ffab041.pdf">Code Coverage at Google</a></li><li><a href="https://www.erlang.org/doc/man/cover.html#description">Erlang cover</a></li><li><a href="https://www.erlang.org/blog/a-brief-beam-primer/">A brief introduction to BEAM</a></li><li><a href="http://gomoripeti.github.io/beam_by_example/">A peak into the Erlang compiler and BEAM bytecode</a></li><li><a href="https://elixirforum.com/t/getting-each-stage-of-elixirs-compilation-all-the-way-to-the-beam-bytecode/1873/5">Getting each stage of Elixirâ€™s compilation all the way to the BEAM bytecode</a></li><li><a href="https://github.com/parroty/excoveralls">excoveralls</a></li><li><a href="https://github.com/hrzndhrn/beam_file">BeamFile - A peek into the BEAM file</a></li><li><a href="https://github.com/KronicDeth/intellij-elixir#beam-files">https://github.com/KronicDeth/intellij-elixir#beam-files</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Elixir </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir </tag>
            
            <tag> Test Coverage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Elixir è¿ç»­è¿è¡Œæ—¶ä»£ç è¦†ç›–ç‡é‡‡é›†æ–¹æ¡ˆ</title>
      <link href="/2022/06/29/elixir-run-time-code-line-level-coverage-collection/"/>
      <url>/2022/06/29/elixir-run-time-code-line-level-coverage-collection/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="1-æµ…è°ˆä»£ç è¦†ç›–ç‡"><a href="#1-æµ…è°ˆä»£ç è¦†ç›–ç‡" class="headerlink" title="1. æµ…è°ˆä»£ç è¦†ç›–ç‡"></a>1. æµ…è°ˆä»£ç è¦†ç›–ç‡</h2><p>ä½œä¸º SET å’Œ SWE, æˆ‘ä»¬ç»å¸¸éœ€è¦ç¼–å†™å•å…ƒæµ‹è¯•æˆ–é›†æˆæµ‹è¯•ç”¨ä¾‹æ¥éªŒè¯ç³»ç»Ÿ/åº”ç”¨çš„æ­£ç¡®æ€§, ä½†åŒæ—¶æˆ‘ä»¬ä¹Ÿå¸¸ä¼šè´¨ç–‘æˆ‘ä»¬çš„æµ‹è¯•æ˜¯å¦å……åˆ†äº†. è¿™æ—¶æµ‹è¯•è¦†ç›–ç‡æ˜¯å¯ä»¥è¾…åŠ©ç”¨æ¥è¡¡é‡æˆ‘ä»¬æµ‹è¯•å……åˆ†ç¨‹åº¦çš„ä¸€ç§æ‰‹æ®µ, å¢å¼ºå‘å¸ƒæˆåŠŸç‡ä¸ä¿¡å¿ƒ, åŒæ—¶ç»™äº†æˆ‘ä»¬æ›´å¤šå¯æ€è€ƒçš„è§†è§’. å€¼çš„æ³¨æ„çš„æ˜¯ä»£ç è¦†ç›–ç‡é«˜ä¸èƒ½è¯´æ˜ä»£ç è´¨é‡é«˜, ä½†æ˜¯åè¿‡æ¥çœ‹, ä»£ç è¦†ç›–ç‡ä½, ä»£ç è´¨é‡ä¸ä¼šé«˜åˆ°å“ªé‡Œå».</p><p>å¤§éƒ¨åˆ†çš„ç¼–ç¨‹è¯­è¨€éƒ½è‡ªå¸¦äº†å•å…ƒæµ‹è¯•è¦†ç›–ç‡çš„æ”¶é›†èƒ½åŠ›, Elixir ä¹ŸåŒæ ·å¦‚æ­¤, å®˜æ–¹æä¾›çš„ <a href="https://hexdocs.pm/mix/1.13.4/Mix.Tasks.Test.html#module-coverage">mix æ„å»ºå·¥å…·</a>è‡ªå¸¦äº†è¦†ç›–ç‡çš„æ”¶é›†èƒ½åŠ›,  ä½†ç›®å‰åªé€‚ç”¨äºç¦»çº¿ï¼ˆofflineï¼‰ç³»ç»Ÿ, å¯¹äºè¿è¡Œæ—¶ç³»ç»Ÿ, å¹¶ä¸é€‚ç”¨. æœ¬æ–‡å°†ä¼šåŸºäº Erlang çš„ cover æ¨¡å—, ç»™å‡ºä¸€ä¸ª Elixir è¿è¡Œæ—¶ç³»ç»Ÿçš„è§£å†³æ–¹æ¡ˆ. æ—¢ç„¶ cover æ˜¯ Erlang çš„å†…ç½®æ¨¡å—, ä½†ä¸ºä»€ä¹ˆå®ƒä¹ŸåŒæ ·é€‚ç”¨äº Elixir, æˆ‘ä»¬å°†ä¼šåœ¨åç»­çš„ç¯èŠ‚ä¸­æ­å¼€å®ƒç¥ç§˜çš„é¢çº±. åœ¨å¼€å§‹ä¹‹å‰, è®©æˆ‘ä»¬å…ˆçœ‹ä¸‹å¼€æºç¤¾åŒºè¿›è¡Œè¿è¡Œæ—¶ç³»ç»Ÿä»£ç è¦†ç›–ç‡é‡‡é›†çš„ä¸¤ç§ä¸»æµæ–¹å¼ï¼ˆè¿™é‡Œæˆ‘ä»¬çœ‹ä¸‹è¯­è¨€ç¤¾åŒºç”Ÿæ€åºå¤§çš„ Java çš„å­—èŠ‚ç æ’æ¡©æ–¹å¼ï¼‰:</p><p><img src="https://s1.ax1x.com/2022/07/10/jsDAxJ.jpg" class="lazyload" data-srcset="https://s1.ax1x.com/2022/07/10/jsDAxJ.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="java_bytecode_tecs"></p><p>æ¥ä¸‹æ¥è®©æˆ‘ä»¬å…³æ³¨ä¸€ä¸‹æœ¬æ–‡çš„ Elixir è¿è¡Œæ—¶è¦†ç›–ç‡æ”¶é›†çš„æ ¸å¿ƒ - cover æ¨¡å—.</p><h2 id="2-æ·±åº¦è§£æ-Erlang-Cover-è¦†ç›–ç‡æ”¶é›†å®ç°æœºåˆ¶"><a href="#2-æ·±åº¦è§£æ-Erlang-Cover-è¦†ç›–ç‡æ”¶é›†å®ç°æœºåˆ¶" class="headerlink" title="2. æ·±åº¦è§£æ Erlang Cover è¦†ç›–ç‡æ”¶é›†å®ç°æœºåˆ¶"></a>2. æ·±åº¦è§£æ Erlang Cover è¦†ç›–ç‡æ”¶é›†å®ç°æœºåˆ¶</h2><h3 id="2-1-Erlang-Cover-ç®€ä»‹"><a href="#2-1-Erlang-Cover-ç®€ä»‹" class="headerlink" title="2.1 Erlang Cover ç®€ä»‹"></a>2.1 Erlang Cover ç®€ä»‹</h3><p>cover æ˜¯ Erlang å†…ç½®å·¥å…·é›†ï¼ˆ<a href="https://www.erlang.org/doc/apps/tools/index.html">tools set</a>ï¼‰çš„ä¸€éƒ¨åˆ†, æä¾›äº†ä»£ç è¦†ç›–ç‡æ”¶é›†çš„èƒ½åŠ›.</p><h3 id="2-2-Erlang-ä»£ç è¦†ç›–ç‡æ”¶é›†å®ç°åˆ†æ"><a href="#2-2-Erlang-ä»£ç è¦†ç›–ç‡æ”¶é›†å®ç°åˆ†æ" class="headerlink" title="2.2 Erlang ä»£ç è¦†ç›–ç‡æ”¶é›†å®ç°åˆ†æ"></a>2.2 Erlang ä»£ç è¦†ç›–ç‡æ”¶é›†å®ç°åˆ†æ</h3><p>ä» Erlang å…³äº <a href="https://www.erlang.org/doc/man/cover.html">cover</a> æ¨¡å—å®˜æ–¹æ‰‹å†Œå¯ä»¥çŸ¥é“, cover ç»Ÿè®¡äº† Erlang ç¨‹åºä¸­æ¯ä¸€å¯æ‰§è¡Œï¼ˆ<a href="https://www.erlang.org/doc/man/cover.html#description">executable line</a>ï¼‰è¢«æ‰§è¡Œçš„æ¬¡æ•°.</p><p>ä»å®˜æ–¹æ–‡æ¡£çš„ä»‹ç»æ¥çœ‹, cover å¯ä»¥ç”¨äºè¿è¡Œæ—¶ç³»ç»Ÿçš„ä»£ç è¦†ç›–ç‡æ”¶é›†, cover è¿›è¡Œä»£ç æ’æ¡©æ—¶, å¹¶ä¸ä¼šå¯¹ä»»ä½•æ¨¡å—çš„ä»£ç æºæ–‡ä»¶æˆ–ç¼–è¯‘åç”Ÿæˆçš„ beam æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼ˆå³ä¸šç•Œæ‰€è¯´çš„ On-The-Fly æ¨¡å¼ï¼‰. è¿è¡Œæ—¶ç³»ç»Ÿæ¯æ¬¡å¯æ‰§è¡Œè¡Œè¢«è°ƒç”¨ä¸€æ¬¡, éƒ½ä¼šæ›´æ–°è°ƒç”¨æ¬¡æ•°åˆ° cover ç”¨äºå­˜å‚¨æ•°æ®çš„å†…å­˜æ•°æ®åº“ä¸­, ç”¨äºåç»­çš„è¦†ç›–ç‡åˆ†æ.</p><p>æ¥ä¸‹æ¥, æˆ‘ä»¬å°†ä¼šå»æ¢ç´¢ä¸‹ cover è¿›è¡Œ On-The-Fly æ’æ¡©çš„ç»†èŠ‚.</p><h3 id="2-3-äº†è§£-BEAM-File-Format"><a href="#2-3-äº†è§£-BEAM-File-Format" class="headerlink" title="2.3 äº†è§£ BEAM File Format"></a>2.3 äº†è§£ BEAM File Format</h3><p>åœ¨è¿›ä¸€æ­¥äº†è§£ cover å®ç°ç»†èŠ‚ä¹‹å‰, æˆ‘ä»¬æœ‰å¿…è¦å…ˆäº†è§£ä¸‹ Elixir æºç ç¼–è¯‘åçš„äº§ç‰© BEAM æ–‡ä»¶çš„æ ¼å¼. Elixir ï¼ˆ.ex æ–‡ä»¶ï¼‰ç¼–è¯‘åçš„äº§ç‰©ä¸ Erlang ï¼ˆ.erl æ–‡ä»¶ï¼‰ä¸€æ ·, éƒ½æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶åˆ†å—æ–‡ä»¶ï¼ˆbinary chunked fileï¼‰, å®ƒè¢«åˆ’åˆ†ä¸ºäº†å¤šä¸ª section, ç”¨äºå­˜å‚¨ç¨‹åºè¿è¡Œæ—¶ç”¨åˆ°çš„ä¿¡æ¯ï¼ˆå¦‚è™šæ‹Ÿæœºæ“ä½œæŒ‡ä»¤ï¼‰. Erlang/Elixir ä¸­, æ¯ä¸€ä¸ªæ¨¡å—éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„ BEAM æ–‡ä»¶. BEAM æ–‡ä»¶å¤§è‡´çš„ç»“æ„å¦‚ä¸‹å›¾:</p><p><img src="https://s1.ax1x.com/2022/07/10/jsDua6.jpg" class="lazyload" data-srcset="https://s1.ax1x.com/2022/07/10/jsDua6.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="BEAM FILE FORMAT"></p><p>è®©æˆ‘ä»¬æ¥é€šè¿‡ä¸€ä¸ª Elixir mini demo é¡¹ç›®æŸ¥çœ‹ä¸‹ beam æ–‡ä»¶å¤§æ¦‚å†…å®¹:</p><ul><li>Step 1ã€clone é¡¹ç›® <a href="https://github.com/yeshan333/explore_ast_app">yeshan333/explore_ast_app</a> åˆ°æœ¬åœ°:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/yeshan333/explore_ast_app.git</span><br><span class="line">cd explore_ast_app</span><br></pre></td></tr></table></figure><ul><li> Step 2ã€æ„å»ºæ­¤é¡¹ç›®ä¸º OTP release æ ¼å¼, æœ¬åœ°éœ€è¦å®‰è£… Elixir å’Œ Erlang:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MIX_ENV=prod mix distillery.release</span><br></pre></td></tr></table></figure><p>å¯ä»¥å…³æ³¨åˆ°, æ¯ä¸€ä¸ª Elixir æ¨¡å—, éƒ½è¢«ç¼–è¯‘æˆäº†ä¸€ä¸ª BEAM æ–‡ä»¶ï¼ˆäºç›®å½•<code>_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin</code> ä¸­å¯ä»¥çœ‹åˆ°ï¼‰.</p><ul><li>Step 3ã€æ¥ä¸‹æ¥è®©æˆ‘ä»¬é€šè¿‡ Erlang çš„æ ‡å‡†åº“ <a href="https://www.erlang.org/doc/man/beam_lib.html">beam_lib</a> æ–‡ä»¶æŸ¥çœ‹ Beam æ–‡ä»¶ä¸­çš„ chunk:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰“å¼€ iex console</span></span><br><span class="line">iex -S mix</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç¼–è¯‘å BEAM æ–‡ä»¶ (<code>Elixir.ExploreAstApp.beam</code>) çš„æ‰€æœ‰ chunks:</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">$ iex -S mix</span><br><span class="line">Erlang/OTP <span class="number">24</span> [erts-<span class="number">12.1</span>] [source] [<span class="number">64</span>-bit] [smp:<span class="number">12</span>:<span class="number">12</span>] [ds:<span class="number">12</span>:<span class="number">12</span>:<span class="number">10</span>] [async-threads:<span class="number">1</span>] [jit] [dtrace]</span><br><span class="line"></span><br><span class="line">Interactive Elixir (<span class="number">1.12</span>.<span class="number">3</span>) - press Ctrl+C to exit (type h() ENTER for help)</span><br><span class="line"><span class="function"><span class="title">iex</span><span class="params">(<span class="number">1</span>)</span>&gt; <span class="title">beam_file_path</span> = &quot;_<span class="title">build</span>/<span class="title">prod</span>/<span class="title">rel</span>/<span class="title">explore_ast_app</span>/<span class="title">lib</span>/<span class="title">explore_ast_app</span>-0.1.0/<span class="title">ebin</span>/E<span class="title">lixir</span>.E<span class="title">xploreAstApp</span>.<span class="title">beam</span>&quot;</span></span><br><span class="line"><span class="function">&quot;_<span class="title">build</span>/<span class="title">prod</span>/<span class="title">rel</span>/<span class="title">explore_ast_app</span>/<span class="title">lib</span>/<span class="title">explore_ast_app</span>-0.1.0/<span class="title">ebin</span>/E<span class="title">lixir</span>.E<span class="title">xploreAstApp</span>.<span class="title">beam</span>&quot;</span></span><br><span class="line"><span class="function"><span class="title">iex</span><span class="params">(<span class="number">2</span>)</span>&gt; <span class="title">all_chunks</span> = :<span class="title">beam_lib</span>.<span class="title">all_chunks</span><span class="params">(String.to_charlist(beam_file_path))</span></span></span><br><span class="line"><span class="function">&#123;:<span class="title">ok</span>, E<span class="title">xploreAstApp</span>,</span></span><br><span class="line"><span class="function"> [</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;AtU8&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;0, 0, 0, 15, 20, 69, 108, 105, 120, 105, 114, 46, 69, 120, 112, 108, 111,</span></span><br><span class="line"><span class="function">      114, 101, 65, 115, 116, 65, 112, 112, 8, 95, 95, 105, 110, 102, 111, 95,</span></span><br><span class="line"><span class="function">      95, 10, 97, 116, 116, 114, 105, 98, 117, 116, 101, ...&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;Code&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 0, 169, 0, 0, 0, 14, 0, 0, 0, 4, 1, 16,</span></span><br><span class="line"><span class="function">      153, 0, 2, 18, 34, 16, 1, 32, 59, 3, 21, 23, 8, 16, 50, 117, 66, 117, 82,</span></span><br><span class="line"><span class="function">      101, 98, ...&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;StrT&#x27;</span>, &quot;&quot;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;ImpT&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;0, 0, 0, 2, 0, 0, 0, 11, 0, 0, 0, 12, 0, 0, 0, 2, 0, 0, 0, 11, 0, 0, 0,</span></span><br><span class="line"><span class="function">      12, 0, 0, 0, 1&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;ExpT&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;0, 0, 0, 4, 0, 0, 0, 15, 0, 0, 0, 1, 0, 0, 0, 13, 0, 0, 0, 15, 0, 0, 0, 0,</span></span><br><span class="line"><span class="function">      0, 0, 0, 11, 0, 0, 0, 13, 0, 0, 0, 0, 0, 0, 0, 9, ...&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;LitT&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;0, 0, 0, 52, 120, 156, 99, 96, 96, 96, 98, 96, 96, 16, 106, 206, 1, 146,</span></span><br><span class="line"><span class="function">      140, 25, 76, 229, 172, 25, 169, 57, 57, 249, 137, 12, 89, 64, 190, 88,</span></span><br><span class="line"><span class="function">      115, 46, 144, 20, 248, ...&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;LocT&#x27;</span>, &lt;&lt;0, 0, 0, 0&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;Attr&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;131, 108, 0, 0, 0, 1, 104, 2, 100, 0, 3, 118, 115, 110, 108, 0, 0, 0, 1,</span></span><br><span class="line"><span class="function">      110, 16, 0, 165, 236, 94, 47, 119, 160, 184, 33, 240, 28, 89, 11, 22, 130,</span></span><br><span class="line"><span class="function">      207, ...&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;CInf&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;131, 108, 0, 0, 0, 3, 104, 2, 100, 0, 7, 118, 101, 114, 115, 105, 111,</span></span><br><span class="line"><span class="function">      110, 107, 0, 5, 56, 46, 48, 46, 51, 104, 2, 100, 0, 7, 111, 112, 116, 105,</span></span><br><span class="line"><span class="function">      111, ...&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;Dbgi&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;131, 80, 0, 0, 1, 143, 120, 156, 117, 80, 203, 78, 3, 49, 12, 76, 233, 67,</span></span><br><span class="line"><span class="function">      162, 5, 113, 65, 124, 70, 87, 253, 2, 212, 67, 63, 129, 115, 148, 221,</span></span><br><span class="line"><span class="function">      120, ...&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;Docs&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;131, 80, 0, 0, 0, 241, 120, 156, 93, 142, 205, 10, 194, 48, 16, 132, 215,</span></span><br><span class="line"><span class="function">      74, 91, 9, 248, 14, 129, 94, 244, 82, 241, 234, 65, 40, 88, 241, 45, 108,</span></span><br><span class="line"><span class="function">      ...&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;ExCk&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;131, 104, 2, 100, 0, 17, 101, 108, 105, 120, 105, 114, 95, 99, 104, 101,</span></span><br><span class="line"><span class="function">      99, 107, 101, 114, 95, 118, 49, 116, 0, 0, 0, 1, 100, 0, 7, 101, 120,</span></span><br><span class="line"><span class="function">      ...&gt;&gt;&#125;,</span></span><br><span class="line"><span class="function">   &#123;<span class="title">&#x27;Line&#x27;</span>,</span></span><br><span class="line"><span class="function">    &lt;&lt;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 1, 0, 0, 0, 1, 18, 241, 0,</span></span><br><span class="line"><span class="function">      22, 108, 105, 98, 47, 101, 120, 112, 108, ...&gt;&gt;&#125;</span></span><br><span class="line"><span class="function"> ]&#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°, è·å–åˆ°çš„ chunks æ˜¯å’Œä¹‹å‰çš„å›¾å¯¹åº”çš„. æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ <a href="https://www.erlang.org/doc/man/beam_lib.html">beam_lib</a> æ ‡å‡†åº“è·å–åˆ°æ¨¡å—ï¼ˆExploreAstAppï¼‰å¯¹åº”çš„ Erlang ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰:</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">iex</span><span class="params">(<span class="number">3</span>)</span>&gt; <span class="title">result</span> = :<span class="title">beam_lib</span>.<span class="title">chunks</span><span class="params">(String.to_charlist(beam_file_path), [:abstract_code])</span></span></span><br><span class="line"><span class="function">&#123;:<span class="title">ok</span>,</span></span><br><span class="line"><span class="function"> &#123;E<span class="title">xploreAstApp</span>,</span></span><br><span class="line"><span class="function">  [</span></span><br><span class="line"><span class="function">    <span class="title">abstract_code</span>: &#123;:<span class="title">raw_abstract_v1</span>,</span></span><br><span class="line"><span class="function">     [</span></span><br><span class="line"><span class="function">       &#123;:<span class="title">attribute</span>, 1, :<span class="title">file</span>, &#123;<span class="title">&#x27;lib</span>/<span class="title">explore_ast_app</span>.<span class="title">ex&#x27;</span>, 1&#125;&#125;,</span></span><br><span class="line"><span class="function">       &#123;:<span class="title">attribute</span>, 1, :<span class="title">module</span>, E<span class="title">xploreAstApp</span>&#125;,</span></span><br><span class="line"><span class="function">       &#123;:<span class="title">attribute</span>, 1, :<span class="title">compile</span>, [:<span class="title">no_auto_import</span>]&#125;,</span></span><br><span class="line"><span class="function">       &#123;:<span class="title">attribute</span>, 1, :<span class="title">export</span>, [__<span class="title">info__</span>: 1, <span class="title">hello</span>: 0]&#125;,</span></span><br><span class="line"><span class="function">       &#123;:<span class="title">attribute</span>, 1, :<span class="title">spec</span>,</span></span><br><span class="line"><span class="function">        &#123;&#123;:__<span class="title">info__</span>, 1&#125;,</span></span><br><span class="line"><span class="function">         [</span></span><br><span class="line"><span class="function">           &#123;:<span class="title">type</span>, 1, :<span class="title">fun</span>,</span></span><br><span class="line"><span class="function">            [</span></span><br><span class="line"><span class="function">              &#123;:<span class="title">type</span>, 1, :<span class="title">product</span>,</span></span><br><span class="line"><span class="function">               [</span></span><br><span class="line"><span class="function">                 &#123;:<span class="title">type</span>, 1, :<span class="title">union</span>,</span></span><br><span class="line"><span class="function">                  [</span></span><br><span class="line"><span class="function">                    &#123;:<span class="title">atom</span>, 1, :<span class="title">attributes</span>&#125;,</span></span><br><span class="line"><span class="function">                    &#123;:<span class="title">atom</span>, 1, :<span class="title">compile</span>&#125;,</span></span><br><span class="line"><span class="function">                    &#123;:<span class="title">atom</span>, 1, :<span class="title">functions</span>&#125;,</span></span><br><span class="line"><span class="function">                    &#123;:<span class="title">atom</span>, 1, :<span class="title">macros</span>&#125;,</span></span><br><span class="line"><span class="function">                    &#123;:<span class="title">atom</span>, 1, :<span class="title">md5</span>&#125;,</span></span><br><span class="line"><span class="function">                    &#123;:<span class="title">atom</span>, 1, :<span class="title">exports_md5</span>&#125;,</span></span><br><span class="line"><span class="function">                    &#123;:<span class="title">atom</span>, 1, :<span class="title">module</span>&#125;,</span></span><br><span class="line"><span class="function">                    &#123;:<span class="title">atom</span>, 1, :<span class="title">deprecated</span>&#125;</span></span><br><span class="line"><span class="function">                  ]&#125;</span></span><br><span class="line"><span class="function">               ]&#125;,</span></span><br><span class="line"><span class="function">              &#123;:<span class="title">type</span>, 1, :<span class="title">any</span>, []&#125;</span></span><br><span class="line"><span class="function">            ]&#125;</span></span><br><span class="line"><span class="function">         ]&#125;&#125;,</span></span><br><span class="line"><span class="function">       &#123;:<span class="title">function</span>, 0, :__<span class="title">info__</span>, 1,</span></span><br><span class="line"><span class="function">        [</span></span><br><span class="line"><span class="function">          &#123;:<span class="title">clause</span>, 0, [&#123;:<span class="title">atom</span>, 0, :<span class="title">module</span>&#125;], [], [&#123;:<span class="title">atom</span>, 0, E<span class="title">xploreAstApp</span>&#125;]&#125;,</span></span><br><span class="line"><span class="function">          &#123;:<span class="title">clause</span>, 0, [&#123;:<span class="title">atom</span>, 0, :<span class="title">functions</span>&#125;], [],</span></span><br><span class="line"><span class="function">           [</span></span><br><span class="line"><span class="function">             &#123;:<span class="title">cons</span>, 0, &#123;:<span class="title">tuple</span>, 0, [&#123;:<span class="title">atom</span>, 0, :<span class="title">hello</span>&#125;, &#123;:<span class="title">integer</span>, 0, 0&#125;]&#125;,</span></span><br><span class="line"><span class="function">              &#123;<span class="title">nil</span>, 0&#125;&#125;</span></span><br><span class="line"><span class="function">           ]&#125;,</span></span><br><span class="line"><span class="function">          &#123;:<span class="title">clause</span>, 0, [&#123;:<span class="title">atom</span>, 0, :<span class="title">macros</span>&#125;], [], [<span class="title">nil</span>: 0]&#125;,</span></span><br><span class="line"><span class="function">          &#123;:<span class="title">clause</span>, 0, [&#123;:<span class="title">atom</span>, 0, :<span class="title">exports_md5</span>&#125;], [],</span></span><br><span class="line"><span class="function">           [</span></span><br><span class="line"><span class="function">             &#123;:<span class="title">bin</span>, 0,</span></span><br><span class="line"><span class="function">              [</span></span><br><span class="line"><span class="function">                &#123;:<span class="title">bin_element</span>, 0,</span></span><br><span class="line"><span class="function">                 &#123;:<span class="title">string</span>, 0,</span></span><br><span class="line"><span class="function">                  [240, 105, 247, 119, 22, 50, 219, 207, 90, 95, 127, 92, ...]&#125;,</span></span><br><span class="line"><span class="function">                 :<span class="title">default</span>, :<span class="title">default</span>&#125;</span></span><br><span class="line"><span class="function">              ]&#125;</span></span><br><span class="line"><span class="function">           ]&#125;,</span></span><br><span class="line"><span class="function">          &#123;:<span class="title">clause</span>, 0, [&#123;:<span class="title">match</span>, 0, &#123;:<span class="title">var</span>, 0, :K<span class="title">ey</span>&#125;, &#123;:<span class="title">atom</span>, 0, :<span class="title">attributes</span>&#125;&#125;],</span></span><br><span class="line"><span class="function">           [],</span></span><br><span class="line"><span class="function">           [</span></span><br><span class="line"><span class="function">             &#123;:<span class="title">call</span>, 0,</span></span><br><span class="line"><span class="function">              &#123;:<span class="title">remote</span>, 0, &#123;:<span class="title">atom</span>, 0, :<span class="title">erlang</span>&#125;, &#123;:<span class="title">atom</span>, 0, :<span class="title">get_module_info</span>&#125;&#125;,</span></span><br><span class="line"><span class="function">              [&#123;:<span class="title">atom</span>, 0, E<span class="title">xploreAstApp</span>&#125;, &#123;:<span class="title">var</span>, 0, :K<span class="title">ey</span>&#125;]&#125;</span></span><br><span class="line"><span class="function">           ]&#125;,</span></span><br><span class="line"><span class="function">          &#123;:<span class="title">clause</span>, 0, [&#123;:<span class="title">match</span>, 0, &#123;:<span class="title">var</span>, 0, :K<span class="title">ey</span>&#125;, &#123;:<span class="title">atom</span>, 0, :<span class="title">compile</span>&#125;&#125;], [],</span></span><br><span class="line"><span class="function">           [</span></span><br><span class="line"><span class="function">             &#123;:<span class="title">call</span>, 0,</span></span><br><span class="line"><span class="function">              &#123;:<span class="title">remote</span>, 0, &#123;:<span class="title">atom</span>, 0, :<span class="title">erlang</span>&#125;, &#123;:<span class="title">atom</span>, 0, :<span class="title">get_module_info</span>&#125;&#125;,</span></span><br><span class="line"><span class="function">              [&#123;:<span class="title">atom</span>, 0, E<span class="title">xploreAstApp</span>&#125;, &#123;:<span class="title">var</span>, 0, :K<span class="title">ey</span>&#125;]&#125;</span></span><br><span class="line"><span class="function">           ]&#125;,</span></span><br><span class="line"><span class="function">          &#123;:<span class="title">clause</span>, 0, [&#123;:<span class="title">match</span>, 0, &#123;:<span class="title">var</span>, 0, :K<span class="title">ey</span>&#125;, &#123;:<span class="title">atom</span>, 0, :<span class="title">md5</span>&#125;&#125;], [],</span></span><br><span class="line"><span class="function">           [</span></span><br><span class="line"><span class="function">             &#123;:<span class="title">call</span>, 0,</span></span><br><span class="line"><span class="function">              &#123;:<span class="title">remote</span>, 0, &#123;:<span class="title">atom</span>, 0, :<span class="title">erlang</span>&#125;, &#123;:<span class="title">atom</span>, 0, :<span class="title">get_module_info</span>&#125;&#125;,</span></span><br><span class="line"><span class="function">              [&#123;:<span class="title">atom</span>, 0, E<span class="title">xploreAstApp</span>&#125;, &#123;:<span class="title">var</span>, 0, :K<span class="title">ey</span>&#125;]&#125;</span></span><br><span class="line"><span class="function">           ]&#125;,</span></span><br><span class="line"><span class="function">          &#123;:<span class="title">clause</span>, 0, [&#123;:<span class="title">atom</span>, 0, :<span class="title">deprecated</span>&#125;], [], [<span class="title">nil</span>: 0]&#125;</span></span><br><span class="line"><span class="function">        ]&#125;,</span></span><br><span class="line"><span class="function">       &#123;:<span class="title">function</span>, 15, :<span class="title">hello</span>, 0, [&#123;:<span class="title">clause</span>, 15, [], [], [&#123;:<span class="title">atom</span>, 0, :<span class="title">world</span>&#125;]&#125;]&#125;</span></span><br><span class="line"><span class="function">     ]&#125;</span></span><br><span class="line"><span class="function">  ]&#125;&#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° AST ä»¥ <a href="https://www.erlang.org/doc/reference_manual/data_types.html#terms">Erlang Terms</a> çš„å½¢å¼è¡¨ç¤ºï¼ˆç§°ä¹‹ä¸º Abstract Codeï¼‰, æ–¹ä¾¿é˜…è¯». è¯¥ Abstract Code, åœ¨ cover è¿›è¡Œ on-the-fly æ’æ¡©è¿‡ç¨‹ä¸­å¤§æœ‰å¦™ç”¨.</p><p>ä¸Šè¿° AST ç»“æ„ç®€å•æ˜“è¯», æˆ‘ä»¬å¯ä»¥å¾ˆç®€å•çš„å°†å…¶ä¸æ¨¡å—ç¼–è¯‘å‰çš„æºä»£ç ï¼ˆ<code>lib/explore_ast_app.ex</code>ï¼‰å¯¹åº”èµ·æ¥, è™½ç„¶è¯¥ AST ç»“æ„æ˜¯æœ€ç»ˆçš„ Erlang AST, è¢« Erlang ç¼–è¯‘å™¨æ·»åŠ äº†éƒ¨åˆ†é¢å¤–çš„ä¿¡æ¯, ä½†ä¸å½±å“é˜…è¯»:</p><p><img src="https://s1.ax1x.com/2022/07/10/jsDJsA.jpg" class="lazyload" data-srcset="https://s1.ax1x.com/2022/07/10/jsDJsA.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ex_source_ast_code_mapper"></p><p>å…ƒç»„ï¼ˆtupleï¼‰ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ ä¸€èˆ¬è¡¨ç¤ºæ‰€å¤„çš„æºç è¡Œæ•°. ä½ å¯ä»¥é€šè¿‡å®˜æ–¹æ–‡æ¡£è¯¦ç»†äº†è§£ä¸‹ Erlang çš„ <a href="https://www.erlang.org/doc/apps/erts/absform.html">Abstract Format</a>, åŠ¨æ‰‹å¤šè§‚å¯Ÿå‡ ä¸ª BEAM æ–‡ä»¶çš„ Erlang AST çš„ç»“æ„, ä¾¿å¯äº†ç†Ÿäºå¿ƒ. å€¼å¾—æ³¨æ„çš„æ˜¯ Abstract Code åœ¨ <a href="https://github.com/erlang/otp/pull/1367">OTP 20 ä¹‹å‰</a>æ˜¯å­˜æ”¾åœ¨ BEAM æ–‡ä»¶çš„ Abst Chunk ä¸­çš„.</p><p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº BEAM æ–‡ä»¶çš„ç»†èŠ‚, å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹ä¸¤ç¯‡æ–‡æ¡£:</p><ul><li><a href="http://beam-wisdoms.clau.se/en/latest/indepth-beam-file.html#beam-term-format">http://beam-wisdoms.clau.se/en/latest/indepth-beam-file.html#beam-term-format</a></li><li><a href="https://blog.stenmans.org/theBeamBook/#BEAM_files">https://blog.stenmans.org/theBeamBook/#BEAM_files</a></li></ul><h3 id="2-4-Elixir-æºç ç¼–è¯‘è¿‡ç¨‹"><a href="#2-4-Elixir-æºç ç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="2.4 Elixir æºç ç¼–è¯‘è¿‡ç¨‹"></a>2.4 Elixir æºç ç¼–è¯‘è¿‡ç¨‹</h3><p>äº†è§£äº† BEAM File Formatï¼ˆBEAM æ–‡ä»¶æ ¼å¼ï¼‰ä¹‹å, æˆ‘ä»¬è¿˜æœ‰å¿…è¦äº†è§£ä¸‹ Elixir ä»£ç çš„ç¼–è¯‘è¿‡ç¨‹, æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½çš„ç†è§£ cover. Elixir æºç çš„ç¼–è¯‘ä¸º BEAM æ–‡ä»¶çš„è¿‡ç¨‹å¯èƒ½å’Œä½ æƒ³è±¡çš„ä¸å¤ªä¸€æ ·, ä¸ç›´æ¥ä» Elixir çš„ AST, ç»è¿‡ç¼–è¯‘å™¨åç«¯çš„å¤„ç†åæˆä¸ºå¯æ‰§è¡Œçš„ BEAM Code, ä¸­é—´è¿˜æœ‰ä¸€ä¸ªè¿‡ç¨‹, å¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="https://s1.ax1x.com/2022/07/10/jsDoQJ.jpg" class="lazyload" data-srcset="https://s1.ax1x.com/2022/07/10/jsDoQJ.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Elixir-Compilation"></p><p>ä¸Šå›¾çš„è¿‡ç¨‹å¯ä»¥æè¿°ä¸º:</p><ul><li>Step 1ã€Elixir æºä»£ç ä¼šè¢«è‡ªå®šä¹‰çš„è¯æ³•åˆ†æå™¨ï¼ˆ<a href="https://github.com/elixir-lang/elixir/blob/main/lib/elixir/src/elixir_tokenizer.erl">elixir_tokenizer</a>ï¼‰å’Œ <a href="https://www.erlang.org/doc/man/yecc.html">yacc</a> è¿›è¡Œè¯­æ³•åˆ†æç”Ÿæˆåˆå§‹ç‰ˆçš„ Elixir AST, AST ä»¥ Elixir Terms çš„å½¢å¼è¡¨ç¤ºï¼›å¦‚æœä½ å¯¹ Elixir çš„ AST æ„Ÿå…´è¶£, å¯ä»¥å…³æ³¨ä¸‹è¿™ä¸ªé¡¹ç›® <a href="https://github.com/arjan/ast_ninja">arjan/ast_ninja</a>.</li><li>Step 2ã€åœ¨ Elixir AST é˜¶æ®µ, ä¸€äº›è‡ªå®šä¹‰çš„å’Œå†…ç½®çš„å®ï¼ˆMacrosï¼‰è¿˜æ²¡æœ‰è¢«å±•å¼€, è¿™äº›å®åœ¨ Expanded Elixir AST å±•å¼€ä¸ºæœ€ç»ˆçš„ Elixir ASTï¼ˆfinal Elixir ASTï¼‰ï¼›</li><li>Step 3ã€final Elixir AST ç»è¿‡ Elixir Compiler å¤„ç†ä¼šè¢«è½¬æ¢ä¸º Erlang æ ‡å‡†çš„ AST å½¢å¼ï¼ˆ<a href="https://www.erlang.org/doc/apps/erts/absform.html">Erlang Abstract Format</a>ï¼‰;</li><li>Step 4ã€æœ€å, Elixir ä¼šä½¿ç”¨ Erlang çš„ Compiler å¤„ç†  Erlang AST, å°†å…¶è½¬æ¢ä¸ºå¯è¢« BEAM è™šæ‹Ÿæœºï¼ˆVMï¼‰æ‰§è¡Œçš„ BEAM å­—èŠ‚ç . å…³äº compiler çš„ç»†èŠ‚, å¯ä»¥æŸ¥çœ‹: <a href="https://github.com/elixir-lang/elixir/blob/main/lib/elixir/src/elixir_compiler.erl">elixir_compiler.erl</a> å’Œ <a href="https://github.com/elixir-lang/elixir/blob/main/lib/elixir/src/elixir_erl.erl">elixir_erl.erl</a> æºç , å¦‚æœä½ ä¹Ÿæƒ³äº†è§£ Erlang Compiler çš„ç»†èŠ‚, å¯ä»¥æŸ¥çœ‹ <a href="https://blog.stenmans.org/theBeamBook/#CH-Compiler">theBeamBook/#CH-Compiler</a>.</li></ul><h3 id="2-5-Cover-On-The-Fly-æ’æ¡©å®ç°"><a href="#2-5-Cover-On-The-Fly-æ’æ¡©å®ç°" class="headerlink" title="2.5 Cover On-The-Fly æ’æ¡©å®ç°"></a>2.5 Cover On-The-Fly æ’æ¡©å®ç°</h3><p>ç°åœ¨è¯¥æ¥åˆ°æ­£é¤ç¯èŠ‚äº†, è®©æˆ‘ä»¬æ¥çœ‹çœ‹ cover æ˜¯å¦‚ä½•è¿›è¡Œæ’æ¡©å’Œè¦†ç›–ç‡æ”¶é›†çš„, ä½¿ç”¨ cover å®Œæˆä»£ç è¦†ç›–ç‡æ”¶é›†, å¿…é¡»è¦çŸ¥é“ä¸‰æŠŠå± é¾™åˆ©å‰‘:</p><p><img src="https://s1.ax1x.com/2022/07/10/jsDaIf.jpg" class="lazyload" data-srcset="https://s1.ax1x.com/2022/07/10/jsDaIf.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="swords"></p><ul><li><code>cover:start</code>: ç”¨äºåˆ›å»º cover è¦†ç›–ç‡æ”¶é›†è¿›ç¨‹, å®ƒä¼šå®Œæˆå­˜å‚¨è¦†ç›–ç‡æ•°æ®çš„ç›¸å…³ ets è¡¨çš„åˆ›å»º, <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L159">cover.erl#L159</a> &amp; <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L632">cover.erl#L632</a>, è¿˜å¯ä»¥å¯åŠ¨è¿œç¨‹ï¼ˆremoteï¼‰ Erlang èŠ‚ç‚¹çš„ cover è¿›ç¨‹.</li><li><code>cover:compile_beam</code>: è¿›è¡Œæ’æ¡©, cover ä¼šè¯»å– BEAM æ–‡ä»¶çš„ abstract_code çš„å†…å®¹, å³ Erlang AST, å…³é”®ä»£ç åœ¨ <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L1541">cover.erl#L1541</a>, ç„¶åå¯¹ Erlang AST From è¿›è¡Œ transform å’Œ munge, å®ƒä¼šè°ƒç”¨ <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L1938">bump_call</a>, åœ¨æ¯ä¸€ä¸ªå¯æ‰§è¡Œè¡Œåæ’å…¥å¦‚ä¸‹ abstract_code:</li></ul><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;call,A,&#123;remote,A,&#123;atom,A,ets&#125;,&#123;atom,A,update_counter&#125;&#125;,</span><br><span class="line"> [&#123;atom,A,?COVER_TABLE&#125;,</span><br><span class="line">  &#123;tuple,A,[&#123;atom,A,?BUMP_REC_NAME&#125;,</span><br><span class="line">            &#123;atom,A,Vars#vars.module&#125;,</span><br><span class="line">            &#123;atom,A,Vars#vars.function&#125;,</span><br><span class="line">            &#123;integer,A,Vars#vars.arity&#125;,</span><br><span class="line">            &#123;integer,A,Vars#vars.clause&#125;,</span><br><span class="line">            &#123;integer,A,Line&#125;]&#125;,</span><br><span class="line">  &#123;integer,A,<span class="number">1</span>&#125;]&#125;.</span><br></pre></td></tr></table></figure><p>é€šè¿‡å‰æ–‡å¯¹ Erlang AST çš„äº†è§£, æˆ‘ä»¬çŸ¥é“è¿™ç›¸å½“äºæ’å…¥äº†å¦‚ä¸‹ä¸€è¡Œä»£ç :</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ets:update_counter(?COVER_TABLE, #bump&#123;module=Module, function=Function, arity=Arity, clause=Clause, line=Line&#125;, <span class="number">1</span>).</span><br></pre></td></tr></table></figure><p>ç„¶åå¯¹äºè¢« munge åçš„ Erlang AST Form, cover ä½¿ç”¨äº† <a href="https://www.erlang.org/doc/man/compile.html#forms-2">Erlang Compiler</a> ä»è¢« munge åçš„ AST è¡¨è¾¾å½¢å¼ä¸­è·å– Erlang Beam Codeï¼ˆåˆç§° object code, å³å­—èŠ‚ç , VM æ‰§è¡ŒæŒ‡ä»¤ï¼‰<a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L1580">cover.erl#L1580</a>, ç„¶ååˆ©ç”¨ <a href="https://www.erlang.org/doc/man/code.html#load_binary-3">Erlang code server</a> å°†è·å–åˆ°çš„æ–° object code æ›¿æ¢æ—§çš„ object code, <code>load_binary</code> <a href="https://github.com/erlang/otp/blob/2f0a547f78363a2504405e82e3ab3ea35b9e6a88/lib/tools/src/cover.erl#L1581">cover.erl#L1581</a> åˆ°äº† ERTSï¼ˆ<a href="https://blog.stenmans.org/theBeamBook/#P-ERTS">Erlang Run Time System</a>ï¼‰ä¸­ . cover å®Œæˆäº† Erlang AST æ’æ¡©æµç¨‹, è¿™æ ·, æ¯å½“å¯æ‰§è¡Œè¡Œè¢«æ‰§è¡Œ, å¯¹åº”çš„ ets å­˜å‚¨è¡¨éƒ½ä¼šæ›´æ–°è¯¥è¡Œè¢« call çš„æ¬¡æ•°.</p><ul><li><code>cover:analyze</code>: åˆ†æ ets è¡¨ä¸­å­˜å‚¨çš„æ•°æ®, å¯è·å–å¯æ‰§è¡Œè¢«æ‰§è¡Œï¼ˆcalledï¼‰çš„æ¬¡æ•°, å¯ç”¨äºç»Ÿè®¡è¦†ç›–ç‡æ•°æ®.</li></ul><blockquote><p>munge: ç”¨äºå¯¹æ•°æ®æˆ–æ–‡ä»¶è¿›è¡Œä¸€ç³»åˆ—å¯èƒ½å…·æœ‰ç ´åæ€§æˆ–ä¸å¯æ’¤é”€çš„æ›´æ”¹.</p></blockquote><h2 id="3-Elixir-Application-è¿è¡Œæ—¶è¦†ç›–ç‡é‡‡é›†ç¤ºä¾‹"><a href="#3-Elixir-Application-è¿è¡Œæ—¶è¦†ç›–ç‡é‡‡é›†ç¤ºä¾‹" class="headerlink" title="3. Elixir Application è¿è¡Œæ—¶è¦†ç›–ç‡é‡‡é›†ç¤ºä¾‹"></a>3. Elixir Application è¿è¡Œæ—¶è¦†ç›–ç‡é‡‡é›†ç¤ºä¾‹</h2><p>é€šè¿‡å‰æ–‡, åœ¨äº†è§£äº† Erlang Cover æ¨¡å—çš„å®ç°ç»†èŠ‚ä¹‹å, è®©æˆ‘ä»¬ä»¥ä¸€ä¸ªéƒ¨ç½²è¿è¡Œçš„ Elixir Applicationï¼ˆæˆ‘ä»¬ä¼šä½¿ç”¨ä¹‹å‰çš„ <a href="https://github.com/yeshan333/explore_ast_app">yeshan333/explore_ast_app</a> ï¼‰ ä¸ºä¾‹, è¿›è¡ŒElixir åº”ç”¨è¿è¡Œæ—¶çš„å¤§å‹æµ‹è¯•ï¼ˆç³»ç»Ÿ &amp; é›†æˆæµ‹è¯•ï¼‰ä»£ç è¡Œçº§è¦†ç›–ç‡é‡‡é›†.</p><p>è¿™é‡Œæˆ‘ä»¬ä¼šä½¿ç”¨åˆ°ä¸€ä¸ªå·¥å…·åº“: <a href="https://github.com/yeshan333/ex_integration_coveralls">ex_integration_coveralls</a> è¿›è¡Œè¦†ç›–ç‡çš„åˆ†æ, å®ƒæ˜¯ Erlang æ¨¡å— cover çš„ä¸€ä¸ª Elixir Wrapper.  è®©æˆ‘ä»¬å¼€å§‹:</p><ul><li>Step 1ã€æ·»åŠ  <code>ex_integration_coveralls</code> ä¾èµ–åˆ°     <code>mix.exs</code> æ–‡ä»¶ä¸­:</li></ul><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">defp deps do</span><br><span class="line">  [</span><br><span class="line">    ...,</span><br><span class="line">    &#123;:ex_integration_coveralls, <span class="string">&quot;~&gt; 0.3.0&quot;</span>&#125;</span><br><span class="line">  ]</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>æ‹‰å–ä¾èµ–, é‡æ–°æ„å»ºé¡¹ç›®:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mix deps.get</span><br><span class="line">MIX_ENV=prod mix distillery.release</span><br></pre></td></tr></table></figure><ul><li>Step 2ã€å¯åŠ¨é¡¹ç›®:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_build/prod/rel/explore_ast_app/bin/explore_ast_app foreground</span><br></pre></td></tr></table></figure><ul><li>Step 3ã€è¿æ¥è¿è¡Œæ—¶åº”ç”¨èŠ‚ç‚¹çš„ remote_console:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_build/prod/rel/explore_ast_app/bin/explore_ast_app remote_console</span><br></pre></td></tr></table></figure><ul><li>Step 4ã€åˆ©ç”¨ ex_integration_coveralls ï¼ˆExIntegrationCoveralls.executeï¼‰ å¯åŠ¨ cover, æ‰§è¡Œä»£ç è¦†ç›–ç‡æ”¶é›†:</li></ul><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">iex</span><span class="params">(explore_ast_app@<span class="number">127.0</span>.<span class="number">0.1</span>)</span>1&gt; <span class="title">compiled_beam_dir_path</span> = &quot;/U<span class="title">sers</span>/<span class="title">yeshan</span>/<span class="title">oss_github</span>/<span class="title">explore_ast_app</span>/_<span class="title">build</span>/<span class="title">prod</span>/<span class="title">rel</span>/<span class="title">explore_ast_app</span>/<span class="title">lib</span>/<span class="title">explore_ast_app</span>-0.1.0/<span class="title">ebin</span>&quot;</span></span><br><span class="line"><span class="function">&quot;/U<span class="title">sers</span>/<span class="title">yeshan</span>/<span class="title">oss_github</span>/<span class="title">explore_ast_app</span>/_<span class="title">build</span>/<span class="title">prod</span>/<span class="title">rel</span>/<span class="title">explore_ast_app</span>/<span class="title">lib</span>/<span class="title">explore_ast_app</span>-0.1.0/<span class="title">ebin</span>&quot;</span></span><br><span class="line"><span class="function"><span class="title">iex</span><span class="params">(explore_ast_app@<span class="number">127.0</span>.<span class="number">0.1</span>)</span>2&gt; E<span class="title">xIntegrationCoveralls</span>.<span class="title">execute</span><span class="params">(compiled_beam_dir_path)</span></span></span><br><span class="line"><span class="function">[</span></span><br><span class="line"><span class="function">  <span class="title">ok</span>: E<span class="title">xploreAstApp</span>.R<span class="title">outer</span>,</span></span><br><span class="line"><span class="function">  <span class="title">ok</span>: E<span class="title">xploreAstApp</span>.P<span class="title">lug</span>.V<span class="title">erifyRequest</span>.I<span class="title">ncompleteRequestError</span>,</span></span><br><span class="line"><span class="function">  <span class="title">ok</span>: E<span class="title">xploreAstApp</span>.P<span class="title">lug</span>.V<span class="title">erifyRequest</span>,</span></span><br><span class="line"><span class="function">  <span class="title">ok</span>: E<span class="title">xploreAstApp</span>.A<span class="title">pplication</span>,</span></span><br><span class="line"><span class="function">  <span class="title">ok</span>: E<span class="title">xploreAstApp</span></span></span><br><span class="line"><span class="function">]</span></span><br><span class="line"><span class="function"><span class="title">iex</span><span class="params">(explore_ast_app@<span class="number">127.0</span>.<span class="number">0.1</span>)</span>3&gt; <span class="title">compile_time_source_lib_abs_path</span> = &quot;/U<span class="title">sers</span>/<span class="title">yeshan</span>/<span class="title">oss_github</span>/<span class="title">explore_ast_app</span>&quot;</span></span><br><span class="line"><span class="function">&quot;/U<span class="title">sers</span>/<span class="title">yeshan</span>/<span class="title">oss_github</span>/<span class="title">explore_ast_app</span>&quot;</span></span><br><span class="line"><span class="function"><span class="title">iex</span><span class="params">(explore_ast_app@<span class="number">127.0</span>.<span class="number">0.1</span>)</span>4&gt; <span class="title">source_code_abs_path</span> = &quot;/U<span class="title">sers</span>/<span class="title">yeshan</span>/<span class="title">oss_github</span>/<span class="title">explore_ast_app</span>&quot;</span></span><br><span class="line"><span class="function">&quot;/U<span class="title">sers</span>/<span class="title">yeshan</span>/<span class="title">oss_github</span>/<span class="title">explore_ast_app</span>&quot;</span></span><br><span class="line"><span class="function"><span class="title">iex</span><span class="params">(explore_ast_app@<span class="number">127.0</span>.<span class="number">0.1</span>)</span>5&gt; E<span class="title">xIntegrationCoveralls</span>.<span class="title">get_total_coverage</span><span class="params">(compile_time_source_lib_abs_path, source_code_abs_path)</span></span></span><br><span class="line"><span class="function">0</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°, åˆå§‹çš„è¦†ç›–ç‡æ˜¯ 0, è¿˜æ²¡æœ‰ä»£ç è¢«è°ƒç”¨.</p><ul><li>Step 5ã€è®©æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹ cURL :</li></ul> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"> $ </span><span class="language-bash">curl --location --request GET <span class="string">&#x27;http://localhost:8080/hello&#x27;</span></span></span><br><span class="line">hello %</span><br></pre></td></tr></table></figure><p>å†æ¬¡æŸ¥çœ‹ä»£ç è¦†ç›–ç‡æ•°æ®:</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">iex</span><span class="params">(explore_ast_app@<span class="number">127.0</span>.<span class="number">0.1</span>)</span>6&gt; E<span class="title">xIntegrationCoveralls</span>.<span class="title">get_total_coverage</span><span class="params">(compile_time_source_lib_abs_path, source_code_abs_path)</span></span></span><br><span class="line"><span class="function">17.1</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°, cURLï¼ˆæµ‹è¯•ï¼‰å¯¹è¯¥é¡¹ç›®çš„è¦†ç›–ç‡æ˜¯ 17.1%.</p><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æŸ¥çœ‹æ›´ä¸ºè¯¦å°½çš„ä»£ç è¦†ç›–æƒ…å†µ, æ¯”å¦‚æŸ¥çœ‹ <code>lib/explore_ast_app/router.ex</code> çš„ä»£ç è¦†ç›–æƒ…å†µï¼ˆnil è¡¨ç¤ºè¯¥è¡Œä¸æ˜¯ executable lineï¼‰:</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">iex</span><span class="params">(explore_ast_app@<span class="number">127.0</span>.<span class="number">0.1</span>)</span>7&gt; <span class="title">result</span> = E<span class="title">xIntegrationCoveralls</span>.<span class="title">get_coverage_report</span><span class="params">(compile_time_source_lib_abs_path, source_code_abs_path)</span></span></span><br><span class="line"><span class="function">.......</span></span><br><span class="line"><span class="function"><span class="title">iex</span><span class="params">(explore_ast_app@<span class="number">127.0</span>.<span class="number">0.1</span>)</span>8&gt; E<span class="title">num</span>.<span class="title">at</span><span class="params">(Map.get(result, :files), <span class="number">3</span>)</span></span></span><br><span class="line"><span class="function">%E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.S<span class="title">ource</span>&#123;</span></span><br><span class="line"><span class="function">  <span class="title">coverage</span>: 18.2,</span></span><br><span class="line"><span class="function">  <span class="title">filename</span>: &quot;<span class="title">lib</span>/<span class="title">explore_ast_app</span>/<span class="title">router</span>.<span class="title">ex</span>&quot;,</span></span><br><span class="line"><span class="function">  <span class="title">hits</span>: 4,</span></span><br><span class="line"><span class="function">  <span class="title">misses</span>: 18,</span></span><br><span class="line"><span class="function">  <span class="title">sloc</span>: 22,</span></span><br><span class="line"><span class="function">  <span class="title">source</span>: [</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: 1,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;<span class="title">defmodule</span> E<span class="title">xploreAstApp</span>.R<span class="title">outer</span> <span class="title">do</span>&quot;</span></span><br><span class="line"><span class="function">    &#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;<span class="title">coverage</span>: 1, <span class="title">source</span>: &quot;  <span class="title">use</span> P<span class="title">lug</span>.R<span class="title">outer</span>&quot;&#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: <span class="title">nil</span>,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;  <span class="title">use</span> P<span class="title">lug</span>.E<span class="title">rrorHandler</span>&quot;</span></span><br><span class="line"><span class="function">    &#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;<span class="title">coverage</span>: <span class="title">nil</span>, <span class="title">source</span>: &quot;&quot;&#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: <span class="title">nil</span>,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;  <span class="title">import</span> P<span class="title">lug</span>.C<span class="title">onn</span>&quot;</span></span><br><span class="line"><span class="function">    &#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;<span class="title">coverage</span>: <span class="title">nil</span>, <span class="title">source</span>: &quot;&quot;&#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: <span class="title">nil</span>,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;  <span class="title">alias</span> E<span class="title">xploreAstApp</span>.P<span class="title">lug</span>.V<span class="title">erifyRequest</span>&quot;</span></span><br><span class="line"><span class="function">    &#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;<span class="title">coverage</span>: <span class="title">nil</span>, <span class="title">source</span>: &quot;&quot;&#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: <span class="title">nil</span>,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;  <span class="title">plug</span> P<span class="title">lug</span>.P<span class="title">arsers</span>, <span class="title">parsers</span>: [:<span class="title">urlencoded</span>, :<span class="title">multipart</span>]&quot;</span></span><br><span class="line"><span class="function">    &#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: <span class="title">nil</span>,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;  <span class="title">plug</span> V<span class="title">erifyRequest</span>, <span class="title">fields</span>: [\&quot;<span class="title">content</span>\&quot;, \&quot;<span class="title">mimetype</span>\&quot;], <span class="title">paths</span>: [\&quot;/<span class="title">upload</span>\&quot;]&quot;</span></span><br><span class="line"><span class="function">    &#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;<span class="title">coverage</span>: <span class="title">nil</span>, <span class="title">source</span>: &quot;  <span class="title">plug</span> :<span class="title">match</span>&quot;&#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: <span class="title">nil</span>,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;  <span class="title">plug</span> P<span class="title">lug</span>.P<span class="title">arsers</span>, <span class="title">parsers</span>: [:<span class="title">json</span>], <span class="title">pass</span>: [\&quot;<span class="title">application</span>/<span class="title">json</span>\&quot;], <span class="title">json_decoder</span>: J<span class="title">ason</span>&quot;</span></span><br><span class="line"><span class="function">    &#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: <span class="title">nil</span>,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;  <span class="title">plug</span> :<span class="title">dispatch</span>&quot;</span></span><br><span class="line"><span class="function">    &#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;<span class="title">coverage</span>: <span class="title">nil</span>, <span class="title">source</span>: &quot;&quot;&#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: 0,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;  <span class="title">get</span> \&quot;/<span class="title">welcome</span>\&quot; <span class="title">do</span>&quot;</span></span><br><span class="line"><span class="function">    &#125;,</span></span><br><span class="line"><span class="function">    %E<span class="title">xIntegrationCoveralls</span>.S<span class="title">tats</span>.L<span class="title">ine</span>&#123;</span></span><br><span class="line"><span class="function">      <span class="title">coverage</span>: 0,</span></span><br><span class="line"><span class="function">      <span class="title">source</span>: &quot;    <span class="title">send_resp</span><span class="params">(conn, <span class="number">200</span>, \<span class="string">&quot;Welcome\&quot;)&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;  end&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;  get \&quot;/upload\&quot; do&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;    send_resp(conn, 201, \&quot;Uploaded\&quot;)&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;  end&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;  get \&quot;/hello\&quot; do&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: nil,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;    # query parameter is user like this:&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: nil,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;    # http://localhost:4001/hello?name=John&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: nil,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;    # which will create %&#123;\&quot;name\&quot; =&gt; \&quot;John\&quot;&#125;&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;      send_resp(conn, 200, \&quot;hello \#&#123;Map.get(conn.query_params, \&quot;name\&quot;)&#125;\&quot;)&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;  end&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;  get \&quot;/hello/:name\&quot; do&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;    send_resp(conn, 200, \&quot;hello \#&#123;name&#125;\&quot;)&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;  end&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;  post \&quot;/hello\&quot; do&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: nil,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;    # json body of POST request &#123;\&quot;name\&quot;: \&quot;John\&quot;&#125; is parsed to %&#123;\&quot;name\&quot; =&gt; \&quot;John\&quot;&#125;&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: nil,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;    # so it can be accesable with e.g. Map.get(conn.body_params, \&quot;name\&quot;) or with pattern matching&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: 0, source: &quot;    name =&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;      case conn.body_params do&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;        %&#123;\&quot;name\&quot; =&gt; a_name &#125; -&gt; a_name&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;</span></span></span></span><br><span class="line"><span class="params"><span class="function">      coverage: nil,</span></span></span><br><span class="line"><span class="params"><span class="function">      source: <span class="string">&quot;        _ -&gt; \&quot;\&quot;&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;      end&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, ...&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">%ExIntegrationCoveralls.Stats.Line&#123;...&#125;,</span></span></span></span><br><span class="line"><span class="params"><span class="function">    ...</span></span></span><br><span class="line"><span class="params"><span class="function">  ]</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;</span></span></span><br></pre></td></tr></table></figure><p>åŸºäº <a href="https://github.com/yeshan333/ex_integration_coveralls/blob/39e24bc5c9e76a625cddfa4039d386db1429ba41/lib/ex_integration_coveralls.ex#L93">post_cov_stats_to_ud_ci</a> æ¥å£ï¼Œå¯ä»¥è¿›ä¸€æ­¥å¯¹æ¥å†…éƒ¨æˆ–å¤–éƒ¨çš„ç±»ä¼¼äº <a href="https://about.codecov.io/">Codecov</a> çš„è¦†ç›–ç‡ç³»ç»Ÿ.</p><p><img src="https://s1.ax1x.com/2022/07/10/jsDsMj.jpg" class="lazyload" data-srcset="https://s1.ax1x.com/2022/07/10/jsDsMj.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="coverage_system"></p><p>åŸºäºæ­¤, æˆ‘ä»¬å¯ä»¥å®ç°åœ¨ Elixir Application ä¸åœæ­¢è¿è¡Œçš„æƒ…å†µä¸‹, é…åˆå¤§å‹ï¼ˆé›†æˆ &amp; ç³»ç»Ÿï¼‰æµ‹è¯•èƒ½åŠ›, å®Œæˆä»£ç è¦†ç›–ç‡çš„æ”¶é›†.</p><h2 id="4-å¤§è§„æ¨¡-Elixir-Erlang-å¾®æœåŠ¡é›†ç¾¤è¿ç»­è¿è¡Œæ—¶è¦†ç›–ç‡æ”¶é›†æ–¹æ¡ˆ"><a href="#4-å¤§è§„æ¨¡-Elixir-Erlang-å¾®æœåŠ¡é›†ç¾¤è¿ç»­è¿è¡Œæ—¶è¦†ç›–ç‡æ”¶é›†æ–¹æ¡ˆ" class="headerlink" title="4. å¤§è§„æ¨¡ Elixir/Erlang å¾®æœåŠ¡é›†ç¾¤è¿ç»­è¿è¡Œæ—¶è¦†ç›–ç‡æ”¶é›†æ–¹æ¡ˆ"></a>4. å¤§è§„æ¨¡ Elixir/Erlang å¾®æœåŠ¡é›†ç¾¤è¿ç»­è¿è¡Œæ—¶è¦†ç›–ç‡æ”¶é›†æ–¹æ¡ˆ</h2><p>éšç€ Elixir å¾®æœåŠ¡ç³»ç»Ÿè§„æ¨¡çš„ä¸æ–­æ‰©å¤§, å‰ä¸€èŠ‚æ‰€å±•ç°çš„è¦†ç›–ç‡æ”¶é›†æ‰‹æ®µéœ€è¦è¿›ä¸€æ­¥çš„æ¼”è¿›. å‚è€ƒ <a href="https://prometheus.io/docs/introduction/overview/#architecture">Prometheus Pull-Base</a> çš„è®¾è®¡, æ€»ä½“è®¾è®¡ï¼ˆPull &amp; Push æ¨¡å¼ç»“åˆï¼‰å¦‚ä¸‹:</p><p><img src="https://s1.ax1x.com/2022/07/10/jsDyss.jpg" class="lazyload" data-srcset="https://s1.ax1x.com/2022/07/10/jsDyss.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="coverage-arch"></p><p>æˆ‘ä»¬åŸºäº <a href="https://github.com/yeshan333/ex_integration_coveralls">ex_integration_coveralls</a> åšæ‹“å±•, åœ¨ Elixir Application å¯åŠ¨å, æ‹‰èµ·ä¸€ä¸ª http worker å°†ä»£ç è¦†ç›–ç‡æ•°æ®å®æ—¶æš´éœ²å‡ºå», æ–¹ä¾¿ä¸å¼‚æ„ç³»ç»Ÿçš„é€šä¿¡. ç”± Coverage Push Gateway è´Ÿè´£å®šæ—¶æ‹‰å–è¦†ç›–ç‡æ•°æ®ï¼ˆGateway å¯ä»¥æ˜¯ä¸€ä¸ª OTP Application, è¿™è®©å¯ä»¥ç›´æ¥è®©<br><code>ex_integration_coveralls</code> æ‹‰èµ· <a href="https://github.com/yeshan333/ex_integration_coveralls/blob/main/lib/ex_integration_coveralls/cov_stats_worker.ex">GenServer Worker</a> åœ¨åˆ†å¸ƒå¼ OTP ç³»ç»Ÿè¿›è¡Œäº¤äº’é›†æˆï¼‰, åœ¨é›†æˆ/ç³»ç»Ÿæµ‹è¯•ç³»ç»Ÿå‘ŠçŸ¥æµ‹è¯•ç»“æŸå, Gateway å°†è¦†ç›–ç‡ push ç»™ Cover Centerï¼ˆè¦†ç›–ç‡ä¸­å¿ƒï¼‰è¿›è¡Œä»£ç è¦†ç›–ç‡å±•ç¤º.</p><p>Endï¼ˆlong way to goï¼‰.</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://storage.googleapis.com/pub-tools-public-publication-data/pdf/36f4140541f8dd555fb8aaee2fd719d59ffab041.pdf">Code Coverage at Google</a></li><li><a href="https://www.erlang.org/doc/man/cover.html#description">Erlang cover</a></li><li><a href="https://www.erlang.org/blog/a-brief-beam-primer/">A brief introduction to BEAM</a></li><li><a href="http://gomoripeti.github.io/beam_by_example/">A peak into the Erlang compiler and BEAM bytecode</a></li><li><a href="https://elixirforum.com/t/getting-each-stage-of-elixirs-compilation-all-the-way-to-the-beam-bytecode/1873/5">Getting each stage of Elixirâ€™s compilation all the way to the BEAM bytecode</a></li><li><a href="https://github.com/parroty/excoveralls">excoveralls</a></li><li><a href="https://github.com/hrzndhrn/beam_file">BeamFile - A peek into the BEAM file</a></li><li><a href="https://github.com/KronicDeth/intellij-elixir#beam-files">https://github.com/KronicDeth/intellij-elixir#beam-files</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Elixir </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir </tag>
            
            <tag> Test Coverage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(è¯‘) Understanding Elixir Macros, Part 6 - In-place Code Generation</title>
      <link href="/2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/"/>
      <url>/2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡</p><ul><li>[1] <a href="https://shan333.cn/2022/06/18/understanding-elixir-macros-part-1-basics/">(è¯‘) Understanding Elixir Macros, Part 1 Basics</a></li><li>[2] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-2-macro-theory/">(è¯‘) Understanding Elixir Macros, Part 2 - Micro Theory</a></li><li>[3] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-3-gettingto-the-ast/">(è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST</a></li><li>[4] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-4-diving-deeper/">(è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper</a></li><li>[5] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/">(è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST</a></li><li>[6] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/">(è¯‘) Understanding Elixir Macros, Part 6 - In-place Code Generation</a><br>åŸæ–‡ <a href="https://github.com/sasa1977/erlangelist/blob/master/site/articles/macros_1.md">GitHub</a> ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡.</li></ul></blockquote><p>è¿™æ˜¯å®ç³»åˆ—æ–‡ç« çš„æœ€åä¸€ç¯‡. åœ¨å¼€å§‹ä¹‹å‰, æˆ‘æƒ³æä¸€ä¸‹ BjÃ¶rn Rochel, ä»–å·²ç»å°†ä»–çš„ <a href="https://github.com/BjRo/apex">Apex</a> åº“ä¸­çš„ <code>deftraceable</code> å®æ”¹è¿›äº†. å› ä¸ºä»–å‘ç°ç³»åˆ—æ–‡ç« ä¸­ <code>deftraceable</code> çš„ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®å¤„ç†é»˜è®¤å‚æ•°<code>ï¼ˆarg \ def_value)</code>, äºæ˜¯å®ç°äº†ä¸€ä¸ªä¿®å¤ <a href="https://github.com/BjRo/apex/blob/ca3cfbcf4473a4314d8dfa7f4bed610be652a03b/lib/apex/awesome_def.ex#L57-L59">fix</a>.</p><p>è¿™æ¬¡, è®©æˆ‘ä»¬ç»“æŸè¿™ä¸ªå®çš„æ•…äº‹. ä»Šå¤©çš„æ–‡ç« çŸ¥è¯†ç‚¹å¯èƒ½æ˜¯æ•´ä¸ªç³»åˆ—ä¸­æ¶‰åŠæœ€å¹¿çš„, æˆ‘ä»¬å°†è®¨è®ºåŸåœ°ä»£ç ç”Ÿæˆçš„ç›¸å…³æŠ€æœ¯, ä»¥åŠå®ƒå¯èƒ½å¯¹å®çš„å½±å“.</p><h2 id="åœ¨-module-ä¸­ç”Ÿæˆä»£ç "><a href="#åœ¨-module-ä¸­ç”Ÿæˆä»£ç " class="headerlink" title="åœ¨ module ä¸­ç”Ÿæˆä»£ç "></a>åœ¨ module ä¸­ç”Ÿæˆä»£ç </h2><p>æ­£å¦‚æˆ‘åœ¨ç¬¬ 1 ç« ä¸­æåˆ°çš„é‚£æ ·, å®å¹¶ä¸æ˜¯ Elixir ä¸­å”¯ä¸€çš„å…ƒç¼–ç¨‹æœºåˆ¶. æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ¨¡å—ä¸­ç›´æ¥ç”Ÿæˆä»£ç . ä¸ºäº†å”¤èµ·ä½ çš„è®°å¿†, æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">defmodule Fsm do</span><br><span class="line">  fsm = [</span><br><span class="line">    running: &#123;:pause, :paused&#125;,</span><br><span class="line">    running: &#123;:stop, :stopped&#125;,</span><br><span class="line">    paused: &#123;:resume, :running&#125;</span><br><span class="line">  ]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">Dynamically generating <span class="built_in">functions</span> directly <span class="keyword">in</span> the module</span></span><br><span class="line">  for &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm do</span><br><span class="line">    def unquote(action)(unquote(state)), do: unquote(next_state)</span><br><span class="line">  end</span><br><span class="line">  def initial, do: :running</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">Fsm.initial</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">:running</span></span><br><span class="line"></span><br><span class="line">Fsm.initial |&gt; Fsm.pause</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">:paused</span></span><br><span class="line"></span><br><span class="line">Fsm.initial |&gt; Fsm.pause |&gt; Fsm.pause</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">** (FunctionClauseError) no <span class="keyword">function</span> clause matching <span class="keyword">in</span> Fsm.pause/1</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œ, æˆ‘ä»¬ç›´æ¥åœ¨æ¨¡å—ä¸­åŠ¨æ€ç”Ÿæˆå‡½æ•°å­å¥ï¼ˆclauseï¼‰. è¿™å…è®¸æˆ‘ä»¬é’ˆå¯¹æŸäº›è¾“å…¥ï¼ˆåœ¨æœ¬ä¾‹ä¸­æ˜¯å…³é”®å­—åˆ—è¡¨ï¼‰è¿›è¡Œå…ƒç¼–ç¨‹, å¹¶ç”Ÿæˆä»£ç , è€Œæ— éœ€ç¼–å†™ä¸“é—¨çš„å®.</p><p>æ³¨æ„, åœ¨ä¸Šé¢çš„ä»£ç ä¸­, æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ <code>unquote</code> å°†å˜é‡æ³¨å…¥åˆ°å‡½æ•°å­å¥å®šä¹‰ä¸­. è¿™ä¸å®çš„å·¥ä½œæ–¹å¼å®Œå…¨ä¸€è‡´. è¯·è®°ä½, <code>def</code> ä¹Ÿæ˜¯ä¸€ä¸ªå®, å¹¶ä¸”å®æ¥æ”¶çš„å‚æ•°æ€»æ˜¯è¢« <code>quoted</code>. å› æ­¤, å¦‚æœæ‚¨æƒ³è¦ä¸€ä¸ªå®å‚æ•°æ¥æ”¶æŸä¸ªå˜é‡çš„å€¼, æ‚¨å¿…é¡»åœ¨ä¼ é€’è¯¥å˜é‡æ—¶ä½¿ç”¨ <code>unquote</code>. ä»…ä»…è°ƒç”¨ <code>def action</code> æ˜¯ä¸å¤Ÿçš„, å› ä¸º <code>def</code> å®æ¥æ”¶åˆ°çš„æ˜¯å¯¹ <code>action</code> çš„ unquoted, è€Œä¸æ˜¯å˜é‡ <code>action</code> ä¸­çš„å€¼.</p><p>å½“ç„¶, æ‚¨å¯ä»¥ä»¥è¿™ç§åŠ¨æ€çš„æ–¹å¼è°ƒç”¨è‡ªå·±çš„å®, åŸç†æ˜¯ä¸€æ ·çš„. ç„¶è€Œ, æœ‰ä¸€ä¸ªæ„æƒ³ä¸åˆ°çš„æƒ…å†µ â€” ç”Ÿæˆï¼ˆevaluationï¼‰ çš„é¡ºåºä¸ä½ çš„é¢„æœŸå¯èƒ½ä¸ç¬¦.</p><h2 id="å±•å¼€çš„é¡ºåº"><a href="#å±•å¼€çš„é¡ºåº" class="headerlink" title="å±•å¼€çš„é¡ºåº"></a>å±•å¼€çš„é¡ºåº</h2><p>æ­£å¦‚ä½ æ‰€é¢„æ–™çš„é‚£èˆ¬, æ¨¡å—çº§ä»£ç ï¼ˆä¸æ˜¯ä»»ä½•å‡½æ•°çš„ä¸€éƒ¨åˆ†çš„ä»£ç ï¼‰åœ¨æ‰©å±•é˜¶æ®µè¢«æ‰§è¡Œ. æœ‰äº›ä»¤äººæ„å¤–çš„æ˜¯, è¿™å°†å‘ç”Ÿåœ¨æ‰€æœ‰å®ï¼ˆé™¤äº† <code>def</code>ï¼‰å±•å¼€ä¹‹å. å¾ˆå®¹æ˜“å»è¯æ˜è¿™ä¸€ç‚¹ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">MyMacro</span></span> <span class="keyword">do</span></span><br><span class="line">          <span class="function"><span class="keyword">defmacro</span> <span class="title">my_macro</span></span> <span class="keyword">do</span></span><br><span class="line">            <span class="title class_">IO</span>.puts <span class="string">&quot;my_macro called&quot;</span></span><br><span class="line">            <span class="literal">nil</span></span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Test</span></span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">import</span> <span class="title class_">MyMacro</span></span><br><span class="line"></span><br><span class="line">          <span class="title class_">IO</span>.puts <span class="string">&quot;module-level expression&quot;</span></span><br><span class="line">          my_macro</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line">my_macro called</span><br><span class="line">module-level expression</span><br></pre></td></tr></table></figure><p>ä»è¾“å‡ºçœ‹å‡º, å³ä½¿ä»£ç ä¸­ç›¸åº”çš„ <code>IO.puts</code> è°ƒç”¨åœ¨å®è°ƒç”¨ä¹‹å‰, ä½† <code>mymacro</code> è¿˜æ˜¯åœ¨ <code>IO.puts</code> ä¹‹å‰è¢«è°ƒç”¨äº†. è¿™è¯æ˜ç¼–è¯‘å™¨é¦–å…ˆè§£ææ‰€æœ‰æ ‡å‡†å®. ç„¶åæ¨¡å—ç”Ÿæˆå¼€å§‹, ä¹Ÿæ˜¯åœ¨è¿™ä¸ªé˜¶æ®µ, æ¨¡å—çº§ä»£ç ä»¥åŠå¯¹ <code>def</code> çš„è°ƒç”¨è¢«æ‰§è¡Œ.</p><h2 id="æ¨¡å—çº§å‹å¥½å®"><a href="#æ¨¡å—çº§å‹å¥½å®" class="headerlink" title="æ¨¡å—çº§å‹å¥½å®"></a>æ¨¡å—çº§å‹å¥½å®</h2><p>è¿™å¯¹æˆ‘ä»¬è‡ªå·±çš„å®æœ‰ä¸€äº›é‡è¦çš„å½±å“. ä¾‹å¦‚, æˆ‘ä»¬çš„ <code>deftraceable</code> å®ä¹Ÿå¯ä»¥åŠ¨æ€è°ƒç”¨. ä½†æ˜¯, ç°åœ¨å®ƒè¿˜ä¸èƒ½å·¥ä½œï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span> ... <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Test</span></span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">import</span> <span class="title class_">Tracer</span></span><br><span class="line"></span><br><span class="line">          fsm = [</span><br><span class="line">            <span class="symbol">running:</span> &#123;<span class="symbol">:pause</span>, <span class="symbol">:paused</span>&#125;,</span><br><span class="line">            <span class="symbol">running:</span> &#123;<span class="symbol">:stop</span>, <span class="symbol">:stopped</span>&#125;,</span><br><span class="line">            <span class="symbol">paused:</span> &#123;<span class="symbol">:resume</span>, <span class="symbol">:running</span>&#125;</span><br><span class="line">          ]</span><br><span class="line"></span><br><span class="line">          <span class="keyword">for</span> &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm <span class="keyword">do</span></span><br><span class="line">            <span class="comment"># Using deftraceable dynamically</span></span><br><span class="line">            deftraceable <span class="keyword">unquote</span>(action)(<span class="keyword">unquote</span>(state)), <span class="symbol">do:</span> <span class="keyword">unquote</span>(next_state)</span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">          deftraceable initial, <span class="symbol">do:</span> <span class="symbol">:running</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">** (<span class="title class_">MatchError</span>) no match of right hand side <span class="symbol">value:</span> <span class="symbol">:error</span></span><br><span class="line">    expanding <span class="symbol">macro:</span> <span class="title class_">Tracer</span>.deftraceable/<span class="number">2</span></span><br><span class="line">    <span class="symbol">iex:</span><span class="number">13</span>: <span class="title class_">Test</span> (module)</span><br></pre></td></tr></table></figure><p>å‡ºç°ä¸€ä¸ªæœ‰ç‚¹ç¥ç§˜, è€Œä¸”ä¸æ˜¯éå¸¸æœ‰å¸®åŠ©çš„é”™è¯¯æç¤º. é‚£ä¹ˆå‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä¸Šä¸€èŠ‚æ‰€è¿°, åœ¨ in-place æ¨¡å—æ‰§è¡Œå¼€å§‹ä¹‹å‰, å°†æ‰©å±•å®. å¯¹æˆ‘ä»¬æ¥è¯´, è¿™æ„å‘³ç€ <code>deftraceable</code> è¢«è°ƒç”¨ä¹‹å‰, <code>for</code> è¯­å¢ƒç”šè‡³è¿˜æ²¡æœ‰æ‰§è¡Œ.</p><p>å› æ­¤, å³ä½¿å®ƒæ˜¯ä»å½“å‰è¯­å¢ƒä¸­è°ƒç”¨, <code>deftraceable</code> å®é™…ä¸Šå°†åªè¢«è°ƒç”¨ä¸€æ¬¡. æ­¤å¤–, ç”±äºæœªå¯¹å½“å‰è¯­å¢ƒè¿›è¡Œæ±‚å€¼, å› æ­¤å½“æˆ‘ä»¬çš„å®è¢«è°ƒç”¨æ—¶, å†…éƒ¨å˜é‡ <code>state</code>, <code>action</code> å’Œ <code>next_state</code> éƒ½ä¸å­˜åœ¨.</p><p>æ€ä¹ˆå¯ä»¥è®©å®ƒå·¥ä½œï¼Ÿæœ¬è´¨ä¸Š, æˆ‘ä»¬çš„å®å°†é  <code>unquote</code> æ¥è°ƒç”¨ - head å’Œ body å°†åˆ†åˆ«åŒ…å«ä»£è¡¨ <code>unquote(action)(unquote(state))</code> å’Œ <code>unquote(next_state)</code>çš„ AST.</p><p>ç°åœ¨, å›æƒ³ä¸€ä¸‹å½“å‰ç‰ˆæœ¬çš„ <code>deftraceable</code>, æˆ‘ä»¬å¯¹å®ä¸­çš„è¾“å…¥åšäº†ä¸€äº›å‡è®¾. è¿™é‡Œæ˜¯ä¸€æ®µä¼ªä»£ç ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># è¿™é‡Œ, æˆ‘ä»¬å‡è®¾è¾“å…¥å¤´éƒ¨æ˜¯ä»€ä¹ˆæ ·çš„, å¹¶æ‰§è¡Œä¸€äº›æ“ä½œ</span></span><br><span class="line">  <span class="comment"># AST è½¬æ¢åŸºäºè¿™äº›å‡è®¾.</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯æˆ‘ä»¬çš„é—®é¢˜. å¦‚æœæˆ‘ä»¬åœ¨åŸåœ°ç”Ÿæˆä»£ç çš„åŒæ—¶åŠ¨æ€åœ°è°ƒç”¨ <code>deftraceable</code>, é‚£ä¹ˆè¿™æ ·çš„å‡è®¾å°±ä¸å†æˆç«‹.</p><h2 id="å»¶è¿Ÿä»£ç ç”Ÿæˆ"><a href="#å»¶è¿Ÿä»£ç ç”Ÿæˆ" class="headerlink" title="å»¶è¿Ÿä»£ç ç”Ÿæˆ"></a>å»¶è¿Ÿä»£ç ç”Ÿæˆ</h2><p>å½“å®æ‰§è¡Œæ—¶, åŒºåˆ†å®ä¸Šä¸‹æ–‡å’Œè°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡æ˜¯å¾ˆé‡è¦çš„:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">my_macro</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># Macro contextï¼ˆå®ä¸Šä¸‹æ–‡ï¼‰: è¿™é‡Œçš„ä»£ç æ˜¯å®çš„æ­£å¸¸éƒ¨åˆ†, å¹¶åœ¨å®è¿è¡Œæ—¶è¢«æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Caller&#x27;s contextï¼ˆè°ƒç”¨è€…ä¸Šä¸‹æ–‡ï¼‰: ç”Ÿæˆçš„ä»£ç åœ¨å®æ‰€åœ¨çš„ä½ç½®è¿è¡Œ</span></span><br><span class="line">  <span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯è®©äº‹æƒ…å˜å¾—æœ‰ç‚¹æ£˜æ‰‹çš„åœ°æ–¹. å¦‚æœæˆ‘ä»¬æƒ³æ”¯æŒå¯¹å®çš„æ¨¡å—çº§åŠ¨æ€è°ƒç”¨, å°±ä¸åº”è¯¥åœ¨å®ä¸Šä¸‹æ–‡ä¸­åšä»»ä½•å‡å®š. ç›¸å, æˆ‘ä»¬åº”è¯¥å°†ä»£ç ç”Ÿæˆæ¨è¿Ÿåˆ°è°ƒç”¨æ–¹çš„ä¸Šä¸‹æ–‡ä¸­.</p><p>ç”¨è¿™æ®µä»£ç è¯´æ˜ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># Macro context: æˆ‘ä»¬ä¸åº”è¯¥å¯¹è¾“å…¥ AST åšä»»ä½•å‡è®¾</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Caller&#x27;s context: æˆ‘ä»¬åº”è¯¥åœ¨è¿™é‡Œè½¬æ¢è¾“å…¥çš„ AST, ç„¶ååœ¨è¿™é‡Œåšå‡ºæˆ‘ä»¬çš„å‡è®¾</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ï¼ˆCallerâ€™s contextï¼‰ä¸­è¿›è¡Œå‡è®¾? å› ä¸ºè¿™æ®µä»£ç å°†åœ¨æ‰€æœ‰å®å±•å¼€åè¿è¡Œ. ä¾‹å¦‚, è¯·è®°ä½, å³ä½¿æˆ‘ä»¬çš„å®æ˜¯ä»ä¸€ä¸ªæ¨å¯¼å¼ä¸­è°ƒç”¨çš„, å®ƒä¹Ÿåªä¼šè¢«è°ƒç”¨ä¸€æ¬¡. ä½†æ˜¯, å®ç”Ÿæˆçš„ä»£ç å°†åœ¨æ¨å¯¼å¼ä¸­è¿è¡Œ â€” å¯¹æ¯ä¸ªå…ƒç´ è¿è¡Œä¸€æ¬¡.</p><p>å› æ­¤, è¿™ç§æ–¹æ³•ç›¸å½“äºæ¨è¿Ÿäº†æœ€ç»ˆçš„ä»£ç ç”Ÿæˆ. æˆ‘ä»¬ç”Ÿæˆçš„ä¸­é—´æ¨¡å—çº§è¯­å¥å°†ç”Ÿæˆæœ€ç»ˆä»£ç , è€Œä¸æ˜¯ç«‹å³ç”Ÿæˆç›®æ ‡ä»£ç . è¿™äº›ä¸­é—´è¯­å¥å°†åœ¨æ‰©å±•çš„æœ€åæ—¶åˆ»è¿è¡Œ, åœ¨æ‰€æœ‰å…¶ä»–å®éƒ½å·²å¤„ç†ä¹‹å:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Test</span></span> <span class="keyword">do</span></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># åœ¨ deftraceable æ‰©å±•å, è¿™é‡Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ª</span></span><br><span class="line">    <span class="comment"># ç”Ÿæˆåœ¨ç›®æ ‡å‡½æ•°çš„ä»£ç , æ­¤ä»£ç ä¼šè¢«æ¨å¯¼å¼æ‰§è¡Œ.</span></span><br><span class="line">    <span class="comment"># å³åœ¨æ¯ä¸€æ¬¡ for å¾ªç¯ä¸­è¢«è°ƒç”¨ä¸€æ¬¡.</span></span><br><span class="line">    <span class="comment"># æ­¤æ—¶, æˆ‘ä»¬åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­,</span></span><br><span class="line">    <span class="comment"># å¹¶ä¸”å¯ä»¥è®¿é—® stateã€actionå’Œ next_state å˜é‡</span></span><br><span class="line">    <span class="comment"># æ­£ç¡®ç”Ÿæˆç›¸åº”çš„å‡½æ•°.</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>åœ¨å®ç°è§£å†³æ–¹æ¡ˆä¹‹å‰, å¿…é¡»æ³¨æ„åˆ°è¿™ä¸æ˜¯ä¸€ä¸ªé€šç”¨çš„æ¨¡å¼, ä½ åº”è¯¥è€ƒè™‘æ˜¯å¦çœŸçš„éœ€è¦è¿™ä¸ªæ–¹æ³•.</p><p>å¦‚æœä½ çš„å®ä¸æ‰“ç®—ç”¨äºæ¨¡å—çº§åˆ«, é‚£ä¹ˆä½ å¯èƒ½åº”è¯¥é¿å…ä½¿ç”¨è¿™ç§æŠ€æœ¯. å¦åˆ™, å¦‚æœä»å‡½æ•°å®šä¹‰å†…éƒ¨è°ƒç”¨å®, å¹¶ä¸”å°†ä»£ç ç”Ÿæˆæ“ä½œç§»åŠ¨åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­, é‚£ä¹ˆå®é™…ä¸Šå°†ä»£ç æ‰§è¡Œä»ç¼–è¯‘æ—¶ï¼ˆcompile-timeï¼‰ç§»åŠ¨åˆ°äº†è¿è¡Œæ—¶ï¼ˆrun-timeï¼‰, è¿™ä¼šå½±å“åˆ°æ€§èƒ½.</p><p>æ­¤å¤–, å³ä½¿ä½ çš„å®æ˜¯åœ¨æ¨¡å—çº§åˆ«ä¸Šè¿è¡Œçš„, åªè¦ä½ å¯¹è¾“å…¥ä¸åšä»»ä½•å‡å®š, å°±æ²¡æœ‰å¿…è¦ä½¿ç”¨è¿™é¡¹æŠ€å·§. ä¾‹å¦‚, åœ¨ç¬¬ 2 ç« ä¸­, æˆ‘ä»¬æ¨¡æ‹Ÿäº† Plug çš„ <code>get</code> å®:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">get</span></span>(route, body) <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="function"><span class="keyword">defp</span> <span class="title">do_match</span></span>(<span class="string">&quot;GET&quot;</span>, <span class="keyword">unquote</span>(route), var!(conn)) <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">unquote</span>(body[<span class="symbol">:do</span>])</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å³ä½¿è¿™ä¸ªå®åœ¨æ¨¡å—çº§ä¸Šå·¥ä½œ, å®ƒå¹¶æ²¡æœ‰å‡è®¾ AST çš„ç»“æ„, åªæ˜¯åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­æ³¨å…¥è¾“å…¥ç‰‡æ®µ, å¹¶æ•£å¸ƒä¸€äº›æ ·æ¿ä»£ç . å½“ç„¶, æˆ‘ä»¬å¸Œæœ› body ä¼šæœ‰ä¸€ä¸ª <code>:do</code> é€‰é¡¹, ä½†æˆ‘ä»¬å¹¶æ²¡æœ‰å¯¹ <code>body[:do]</code> ASTçš„å…·ä½“å½¢çŠ¶å’Œç»“æ„ä½œä»»ä½•å‡å®š.</p><p>æ€»ç»“ä¸€ä¸‹, å¦‚æœä½ çš„å®æ˜¯åœ¨æ¨¡å—çº§åˆ«è°ƒç”¨çš„, è¿™å¯èƒ½æ˜¯é€šç”¨çš„æ¨¡å¼:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> ...</span></span><br><span class="line"><span class="function">  # å®ä¸Šä¸‹æ–‡ï¼ˆ<span class="title">Macro</span></span> contextï¼‰:</span><br><span class="line">  <span class="comment"># å¯ä»¥åœ¨è¿™é‡Œåšä»»ä½•å‡†å¤‡å·¥ä½œ,</span></span><br><span class="line">  <span class="comment"># åªè¦ä¸å¯¹è¾“å…¥çš„ AST ä½œä»»ä½•å‡è®¾</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># è°ƒç”¨è€…ä¸Šä¸‹æ–‡ï¼ˆCaller&#x27;s contextï¼‰:</span></span><br><span class="line">    <span class="comment"># å¦‚æœä½ éœ€è¦åˆ†ææˆ–è½¬æ¢è¾“å…¥çš„ AST, ä½ åº”è¯¥åœ¨è¿™é‡Œè¿›è¡Œ.</span></span><br><span class="line">  <span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç”±äºè°ƒç”¨è€…ä¸Šä¸‹æ–‡ï¼ˆCallerâ€™s contextï¼‰æ˜¯æ¨¡å—çº§çš„, å› æ­¤è¿™ç§å»¶è¿Ÿè½¬æ¢ä»å°†åœ¨ç¼–è¯‘æ—¶å‘ç”Ÿ, ä¸ä¼šæœ‰è¿è¡Œæ—¶æ€§èƒ½æŸå¤±.</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>é‰´äºè¿™äº›è®¨è®º, è§£å†³æ–¹æ¡ˆç›¸å¯¹ç®€å•, ä½†è§£é‡Šå®ƒç›¸å½“å¤æ‚. æ‰€ä»¥æˆ‘å°†ä»å±•ç¤ºæœ€ç»ˆçš„ç»“æœå¼€å§‹ï¼ˆæ³¨æ„æ³¨é‡Šï¼‰:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">    ï¼ƒ è¿™æ˜¯æœ€é‡è¦çš„æ›´æ”¹, è®©æˆ‘ä»¬èƒ½æ­£ç¡®ä¼ é€’</span><br><span class="line">    ï¼ƒ è¾“å…¥ <span class="title class_">AST</span> åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­. æˆ‘ç¨åä¼šè§£é‡Šè¿™æ˜¯å¦‚ä½•å·¥ä½œçš„.</span><br><span class="line">    <span class="keyword">quote</span> <span class="symbol">bind_quoted:</span> [</span><br><span class="line">      <span class="symbol">head:</span> <span class="title class_">Macro</span>.escape(head, <span class="symbol">unquote:</span> <span class="literal">true</span>),</span><br><span class="line">      <span class="symbol">body:</span> <span class="title class_">Macro</span>.escape(body, <span class="symbol">unquote:</span> <span class="literal">true</span>)</span><br><span class="line">    ] <span class="keyword">do</span></span><br><span class="line">      <span class="comment"># Caller&#x27;s context: æˆ‘ä»¬å°†ä»è¿™é‡Œç”Ÿæˆä»£ç </span></span><br><span class="line"></span><br><span class="line">      ï¼ƒ ç”±äºä»£ç ç”Ÿæˆè¢«æ¨è¿Ÿåˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡,</span><br><span class="line">      ï¼ƒ æˆ‘ä»¬ç°åœ¨å¯ä»¥å¯¹è¾“å…¥ <span class="title class_">AST</span> åšå‡ºæˆ‘ä»¬çš„å‡è®¾.</span><br><span class="line"></span><br><span class="line">      ï¼ƒ æ­¤ä»£ç å¤§éƒ¨åˆ†ä¸ä»¥å‰çš„ç‰ˆæœ¬ç›¸åŒ</span><br><span class="line">      ï¼ƒ</span><br><span class="line">      ï¼ƒ æ³¨æ„, è¿™äº›å˜é‡ç°åœ¨åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­åˆ›å»º</span><br><span class="line">      &#123;fun_name, args_ast&#125; = <span class="title class_">Tracer</span>.name_and_args(head)</span><br><span class="line">      &#123;arg_names, decorated_args&#125; = <span class="title class_">Tracer</span>.decorate_args(args_ast)</span><br><span class="line"></span><br><span class="line">      <span class="comment"># ä¸ä»¥å‰çš„ç‰ˆæœ¬å®Œå…¨ç›¸åŒ.</span></span><br><span class="line">      head = <span class="title class_">Macro</span>.postwalk(head,</span><br><span class="line">        <span class="keyword">fn</span></span><br><span class="line">          (&#123;fun_ast, context, old_args&#125;) <span class="keyword">when</span> (</span><br><span class="line">            fun_ast == fun_name <span class="keyword">and</span> old_args == args_ast</span><br><span class="line">          ) -&gt;</span><br><span class="line">            &#123;fun_ast, context, decorated_args&#125;</span><br><span class="line">          (other) -&gt; other</span><br><span class="line">      <span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">      <span class="comment"># æ­¤ä»£ç ä¸ä»¥å‰çš„ç‰ˆæœ¬å®Œå…¨ç›¸åŒ.</span></span><br><span class="line">      <span class="comment"># Note: ä½†æ˜¯, è¯·æ³¨æ„, ä»£ç åƒå‰é¢ä¸‰ä¸ªè¡¨è¾¾å¼é‚£æ ·</span></span><br><span class="line">      <span class="comment"># åœ¨ç›¸åŒçš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ.</span></span><br><span class="line">      <span class="comment">#</span></span><br><span class="line">      <span class="comment"># å› æ­¤,  unquote(head) åœ¨è¿™é‡Œå¼•ç”¨äº† head å˜é‡</span></span><br><span class="line">      <span class="comment"># åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­è®¡ç®—, è€Œä¸æ˜¯å®ä¸Šä¸‹æ–‡.</span></span><br><span class="line">      <span class="comment"># è¿™åŒæ ·é€‚ç”¨äºå…¶å®ƒå‘ç”Ÿåœ¨å‡½æ•°ä½“ä¸­çš„ unquote.</span></span><br><span class="line">      <span class="comment">#</span></span><br><span class="line">      <span class="comment"># è¿™å°±æ˜¯å»¶è¿Ÿä»£ç ç”Ÿæˆçš„æ„ä¹‰æ‰€åœ¨. æˆ‘ä»¬çš„å®äº§ç”Ÿ</span></span><br><span class="line">      <span class="comment"># æ­¤ä»£ç , ç„¶åä¾æ¬¡ç”Ÿæˆæœ€ç»ˆä»£ç .</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(head) <span class="keyword">do</span></span><br><span class="line">        file = __ENV__.file</span><br><span class="line">        line = __ENV__.line</span><br><span class="line">        module = __ENV__.module</span><br><span class="line"></span><br><span class="line">        function_name = <span class="keyword">unquote</span>(fun_name)</span><br><span class="line">        passed_args = <span class="keyword">unquote</span>(arg_names) |&gt; <span class="title class_">Enum</span>.map(&amp;inspect/<span class="number">1</span>) |&gt; <span class="title class_">Enum</span>.join(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">        result = <span class="keyword">unquote</span>(body[<span class="symbol">:do</span>])</span><br><span class="line"></span><br><span class="line">        loc = <span class="string">&quot;<span class="subst">#&#123;file&#125;</span>(line <span class="subst">#&#123;line&#125;</span>)&quot;</span></span><br><span class="line">        call = <span class="string">&quot;<span class="subst">#&#123;module&#125;</span>.<span class="subst">#&#123;function_name&#125;</span>(<span class="subst">#&#123;passed_args&#125;</span>) = <span class="subst">#&#123;inspect result&#125;</span>&quot;</span></span><br><span class="line">        <span class="title class_">IO</span>.puts <span class="string">&quot;<span class="subst">#&#123;loc&#125;</span> <span class="subst">#&#123;call&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        result</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># ä¸å‰ä¸€ä¸ªç‰ˆæœ¬ç›¸åŒ, ä½†å‡½æ•°è¢«å¯¼å‡º, å› ä¸ºå®ƒä»¬</span></span><br><span class="line">  <span class="comment"># å¿…é¡»ä»è°ƒç”¨æ–¹çš„ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨.</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">name_and_args</span></span>(&#123;<span class="symbol">:when</span>, _, [short_head | _]&#125;) <span class="keyword">do</span></span><br><span class="line">    name_and_args(short_head)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">name_and_args</span></span>(short_head) <span class="keyword">do</span></span><br><span class="line">    <span class="title class_">Macro</span>.decompose_call(short_head)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">decorate_args</span></span>([]), <span class="symbol">do:</span> &#123;[],[]&#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">decorate_args</span></span>(args_ast) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span> &#123;arg_ast, index&#125; &lt;- <span class="title class_">Enum</span>.with_index(args_ast) <span class="keyword">do</span></span><br><span class="line">      arg_name = <span class="title class_">Macro</span>.var(<span class="symbol">:<span class="string">&quot;arg<span class="subst">#&#123;index&#125;</span>&quot;</span></span>, __MODULE__)</span><br><span class="line"></span><br><span class="line">      full_arg = <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">unquote</span>(arg_ast) = <span class="keyword">unquote</span>(arg_name)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">      &#123;arg_name, full_arg&#125;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    |&gt; <span class="title class_">Enum</span>.unzip</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬è¯•è¯•è¿™ä¸ªå®:ã€</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span> ... <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Test</span></span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">import</span> <span class="title class_">Tracer</span></span><br><span class="line"></span><br><span class="line">          fsm = [</span><br><span class="line">            <span class="symbol">running:</span> &#123;<span class="symbol">:pause</span>, <span class="symbol">:paused</span>&#125;,</span><br><span class="line">            <span class="symbol">running:</span> &#123;<span class="symbol">:stop</span>, <span class="symbol">:stopped</span>&#125;,</span><br><span class="line">            <span class="symbol">paused:</span> &#123;<span class="symbol">:resume</span>, <span class="symbol">:running</span>&#125;</span><br><span class="line">          ]</span><br><span class="line"></span><br><span class="line">          <span class="keyword">for</span> &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm <span class="keyword">do</span></span><br><span class="line">            deftraceable <span class="keyword">unquote</span>(action)(<span class="keyword">unquote</span>(state)), <span class="symbol">do:</span> <span class="keyword">unquote</span>(next_state)</span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">          deftraceable initial, <span class="symbol">do:</span> <span class="symbol">:running</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">3</span>)&gt; <span class="title class_">Test</span>.initial |&gt; <span class="title class_">Test</span>.pause |&gt; <span class="title class_">Test</span>.resume |&gt; <span class="title class_">Test</span>.stop</span><br><span class="line"></span><br><span class="line">iex(line <span class="number">15</span>) <span class="title class_">Elixir</span>.<span class="title class_">Test</span>.initial() = <span class="symbol">:running</span></span><br><span class="line">iex(line <span class="number">13</span>) <span class="title class_">Elixir</span>.<span class="title class_">Test</span>.pause(<span class="symbol">:running</span>) = <span class="symbol">:paused</span></span><br><span class="line">iex(line <span class="number">13</span>) <span class="title class_">Elixir</span>.<span class="title class_">Test</span>.resume(<span class="symbol">:paused</span>) = <span class="symbol">:running</span></span><br><span class="line">iex(line <span class="number">13</span>) <span class="title class_">Elixir</span>.<span class="title class_">Test</span>.stop(<span class="symbol">:running</span>) = <span class="symbol">:stopped</span></span><br></pre></td></tr></table></figure><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„é‚£æ ·, ä¿®æ”¹å¹¶ä¸å¤æ‚. æˆ‘ä»¬è®¾æ³•ä¿æŒæˆ‘ä»¬çš„å¤§éƒ¨åˆ†ä»£ç å®Œæ•´, è™½ç„¶æˆ‘ä»¬ä¸å¾—ä¸ç”¨ä¸€äº›æŠ€å·§ï¼š<code>bind_quotedï¼štrue</code> å’Œ <code>Macro.escape</code>:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">quote</span> <span class="symbol">bind_quoted:</span> [</span><br><span class="line">  <span class="symbol">head:</span> <span class="title class_">Macro</span>.escape(head, <span class="symbol">unquote:</span> <span class="literal">true</span>),</span><br><span class="line">  <span class="symbol">body:</span> <span class="title class_">Macro</span>.escape(body, <span class="symbol">unquote:</span> <span class="literal">true</span>)</span><br><span class="line">] <span class="keyword">do</span></span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆæ„æ€.</p><h2 id="bind-quoted"><a href="#bind-quoted" class="headerlink" title="bind_quoted"></a>bind_quoted</h2><p>è®°ä½, æˆ‘ä»¬çš„å®ç”Ÿæˆä¸€ä¸ªä»£ç , å®ƒå°†ç”Ÿæˆæœ€ç»ˆçš„ä»£ç . åœ¨ç¬¬ä¸€çº§ç”Ÿæˆçš„ä»£ç ï¼ˆç”±æˆ‘ä»¬çš„å®è¿”å›çš„ä»£ç ï¼‰çš„æŸå¤„, æˆ‘ä»¬éœ€è¦æ”¾ç½®ä»¥ä¸‹è¡¨è¾¾å¼ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(head) <span class="keyword">do</span> ... <span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¡¨è¾¾å¼å°†åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ï¼ˆå®¢æˆ·ç«¯æ¨¡å—ï¼‰ä¸­è¢«è°ƒç”¨, å®ƒçš„ä»»åŠ¡æ˜¯ç”Ÿæˆå‡½æ•°. å¦‚åœ¨æ³¨é‡Šä¸­æåˆ°çš„, é‡è¦çš„æ˜¯è¦ç†è§£<code>unquote(head)</code> åœ¨è¿™é‡Œå¼•ç”¨çš„æ˜¯å­˜åœ¨äºè°ƒç”¨è€…ä¸Šä¸‹æ–‡ä¸­çš„ head å˜é‡. æˆ‘ä»¬ä¸æ˜¯ä»å®ä¸Šä¸‹æ–‡æ³¨å…¥ä¸€ä¸ªå˜é‡, è€Œæ˜¯ä¸€ä¸ªå­˜åœ¨äºè°ƒç”¨è€…ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡.</p><p>ä½†æ˜¯, æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ç®€å•çš„ <code>quote</code> ç”Ÿæˆè¿™æ ·çš„è¡¨è¾¾å¼ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(head) <span class="keyword">do</span> ... <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è®°ä½ <code>unquote</code> å¦‚ä½•å·¥ä½œ. å®ƒå¾€ <code>unquote</code> è°ƒç”¨é‡Œçš„ <code>head</code> å˜é‡ä¸­æ³¨å…¥äº† AST. è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„. æˆ‘ä»¬æƒ³è¦çš„æ˜¯ç”Ÿæˆè¡¨ç¤ºå¯¹ <code>unquote</code> çš„è°ƒç”¨çš„ AST, ç„¶ååœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ, å¹¶å¼•ç”¨è°ƒç”¨è€…çš„ <code>head</code> å˜é‡.</p><p>è¿™å¯ä»¥é€šè¿‡æä¾› <code>unquoteï¼šfalse</code> é€‰é¡¹æ¥å®ç°ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">quote</span> <span class="symbol">unquote:</span> <span class="literal">false</span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(head) <span class="keyword">do</span> ... <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œ, æˆ‘ä»¬å°†ç”Ÿæˆä»£è¡¨ <code>unquote</code> è°ƒç”¨çš„ä»£ç . å¦‚æœè¿™ä¸ªä»£ç è¢«æ³¨å…¥åˆ°æ­£ç¡®çš„åœ°æ–¹, ä¸”å…¶ä¸­å˜é‡ <code>head</code> å­˜åœ¨, æˆ‘ä»¬å°†æœ€ç»ˆè°ƒç”¨ <code>def</code> å®, ä¼ é€’ <code>head</code> å˜é‡ä¸­çš„ä»»ä½•å€¼.</p><p>æ‰€ä»¥ä¼¼ä¹ä½¿ç”¨ <code>unquote: false</code> å¯ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ, ä½†æœ‰ä¸€ä¸ªç¼ºç‚¹, æˆ‘ä»¬ä¸èƒ½ä»å®ä¸Šä¸‹æ–‡è®¿é—®ä»»ä½•å˜é‡ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">foo = <span class="symbol">:bar</span></span><br><span class="line"><span class="keyword">quote</span> <span class="symbol">unquote:</span> <span class="literal">false</span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">unquote</span>(foo)    <span class="comment"># &lt;- ç”±äº unquote: false, å·¥ä½œä¸æ­£å¸¸</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>unquote: false</code> æœ‰æ•ˆåœ°é˜»æ­¢ç«‹å³æ³¨å…¥ AST, å¹¶å°† <code>unquote</code> å½“ä½œä»»æ„å…¶å®ƒå‡½æ•°è°ƒç”¨. å› æ­¤, æˆ‘ä»¬ä¸èƒ½å°†æŸäº›ä¸œè¥¿æ³¨å…¥åˆ°ç›®æ ‡ AST. è¿™é‡Œ <code>bind_quoted</code> æ´¾ä¸Šäº†ç”¨åœº. é€šè¿‡æä¾› <code>bind_quoted: bindings</code>, æˆ‘ä»¬å¯ä»¥ç¦ç”¨ç«‹å³unquoting, åŒæ—¶ä»ç„¶ç»‘å®šæˆ‘ä»¬æƒ³è¦ä¼ é€’åˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡çš„ä»»ä½•æ•°æ®ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">quote</span> <span class="symbol">bind_quoted:</span> [</span><br><span class="line">  <span class="symbol">foo:</span> ...,</span><br><span class="line">  <span class="symbol">bar:</span> ...</span><br><span class="line">] <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">unquote</span>(whatever)  <span class="comment"># &lt;- ç±»ä¼¼äº unquote: false çš„ä½œç”¨</span></span><br><span class="line"></span><br><span class="line">  foo  <span class="comment"># &lt;- ç”±äº bind_quoted è€Œå¯è®¿é—®</span></span><br><span class="line">  bar  <span class="comment"># &lt;- ç”±äº bind_quoted è€Œå¯è®¿é—®</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="ä»£ç æ³¨å…¥-vs-æ•°æ®ä¼ è¾“"><a href="#ä»£ç æ³¨å…¥-vs-æ•°æ®ä¼ è¾“" class="headerlink" title="ä»£ç æ³¨å…¥ vs æ•°æ®ä¼ è¾“"></a>ä»£ç æ³¨å…¥ vs æ•°æ®ä¼ è¾“</h2><p>æˆ‘ä»¬è¦é¢ä¸´çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯: ä»å®ä¼ é€’åˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡çš„å†…å®¹åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯æ³¨å…¥çš„, è€Œä¸æ˜¯ä¼ è¾“çš„. å› æ­¤, å½“ä½ ä½¿ç”¨ <code>unquote(som_ast)</code> æ—¶, ä½ æ­£åœ¨å°†ä¸€ä¸ª AST ç‰‡æ®µæ³¨å…¥åˆ°ç”¨ <code>quote</code> expression æ„å»ºçš„å¦ä¸€ä¸ª AST ç‰‡æ®µä¸­.</p><p>æœ‰æ—¶å€™, æˆ‘ä»¬å¸Œæœ›ä¼ è¾“æ•°æ®, è€Œä¸æ˜¯æ³¨å…¥æ•°æ®.  æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­.  å‡è®¾æˆ‘ä»¬æœ‰ä¸€äº›ä¸‰å…ƒç»„, æˆ‘ä»¬æƒ³è¦ä¼ è¾“åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; data = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨, è®©æˆ‘ä»¬å°è¯•ä½¿ç”¨å…¸å‹çš„ <code>unquote</code> è¿›è¡Œä¼ è¾“ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">2</span>)&gt; ast = <span class="keyword">quote</span> <span class="keyword">do</span> <span class="title class_">IO</span>.inspect(<span class="keyword">unquote</span>(data)) <span class="keyword">end</span></span><br><span class="line">&#123;&#123;<span class="symbol">:</span>., [], [&#123;<span class="symbol">:__aliases__</span>, [<span class="symbol">alias:</span> <span class="literal">false</span>], [<span class="symbol">:IO</span>]&#125;, <span class="symbol">:inspect</span>]&#125;, [], [&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;]&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¼¼ä¹æ˜¯æœ‰æ•ˆçš„.  è®©æˆ‘ä»¬è¯•ç€ eval çœ‹ä¸‹çš„ç»“æœ:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">3</span>)&gt; <span class="title class_">Code</span>.eval_quoted(ast)</span><br><span class="line">** (<span class="title class_">CompileError</span>) <span class="symbol">nofile:</span> invalid quoted <span class="symbol">expression:</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆè¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆ? é—®é¢˜æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰çœŸæ­£ä¼ è¾“ <code>&#123;1,2,3&#125;</code> ä¸‰å…ƒç»„. æˆ‘ä»¬å°†å…¶æ³¨å…¥åˆ°ç›®æ ‡ AST ä¸­, æ³¨å…¥æ„å‘³ç€ <code>&#123;1,2,3&#125;</code> æœ¬èº«è¢«è§†ä¸ºä¸€ä¸ª AST ç‰‡æ®µ, è¿™æ˜¾ç„¶æ˜¯é”™è¯¯çš„.</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹, æˆ‘ä»¬çœŸæ­£æƒ³è¦çš„æ˜¯æ•°æ®ä¼ è¾“. åœ¨ä»£ç ç”Ÿæˆä¸Šä¸‹æ–‡ä¸­, æˆ‘ä»¬æœ‰ä¸€äº›æ•°æ®è¦ä¼ è¾“åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­. è¿™å°±æ˜¯<code>Macro.escape</code> ä½œç”¨æ‰€å¤„. é€šè¿‡è½¬ä¹‰ä¸€ä¸ª term, æˆ‘ä»¬å¯ä»¥ç¡®ä¿å®ƒæ˜¯è¢«ä¼ è¾“çš„, è€Œä¸æ˜¯è¢«æ³¨å…¥çš„. å½“æˆ‘ä»¬è°ƒç”¨ <code>unquote(Macro.escape(term))</code> æ—¶, æˆ‘ä»¬å°†æ³¨å…¥ä¸€ä¸ª AST, ä»¥ <code>term</code> æè¿°æ•°æ®.</p><p>è®©æˆ‘ä»¬è¯•è¯•:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">3</span>)&gt; ast = <span class="keyword">quote</span> <span class="keyword">do</span> <span class="title class_">IO</span>.inspect(<span class="keyword">unquote</span>(<span class="title class_">Macro</span>.escape(data))) <span class="keyword">end</span></span><br><span class="line">&#123;&#123;<span class="symbol">:</span>., [], [&#123;<span class="symbol">:__aliases__</span>, [<span class="symbol">alias:</span> <span class="literal">false</span>], [<span class="symbol">:IO</span>]&#125;, <span class="symbol">:inspect</span>]&#125;, [],</span><br><span class="line"> [&#123;<span class="symbol">:</span>&#123;&#125;, [], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&#125;]&#125;</span><br><span class="line"></span><br><span class="line">iex(<span class="number">4</span>)&gt; <span class="title class_">Code</span>.eval_quoted(ast)</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä½ æ‰€è§, æˆ‘ä»¬æˆåŠŸä¼ é€äº†æœªå—å½±å“çš„æ•°æ®.</p><p>å†çœ‹æˆ‘ä»¬çš„å»¶è¿Ÿä»£ç ç”Ÿæˆ, è¿™æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„. ä¸æ³¨å…¥ç›®æ ‡ AST ä¸åŒ, æˆ‘ä»¬æƒ³è¦ä¼ è¾“è¾“å…¥ AST, å®Œå…¨ä¿ç•™å®ƒçš„å½¢çŠ¶:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># è¿™é‡Œæˆ‘ä»¬æœ‰ head å’Œ body çš„ AST</span></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># æˆ‘ä»¬åœ¨è¿™é‡Œéœ€è¦ç›¸åŒçš„ headå’Œ body çš„AST, ä»¥ä¾¿ç”Ÿæˆ</span></span><br><span class="line">    <span class="comment"># æœ€ç»ˆä»£ç .</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ä½¿ç”¨ <code>Macro.escape/1</code>, æˆ‘ä»¬å¯ä»¥ç¡®ä¿è¾“å…¥ AST è¢«åŸåŸæœ¬æœ¬åœ°ä¼ è¾“å›è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡, åœ¨é‚£é‡Œæˆ‘ä»¬å°†ç”Ÿæˆæœ€ç»ˆçš„ä»£ç .</p><p>æ­£å¦‚å‰ä¸€èŠ‚æ‰€è®¨è®ºçš„, æˆ‘ä»¬ä½¿ç”¨äº† <code>bind_quoted</code>, ä½†åŸç†ç›¸åŒ:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">quote</span> <span class="symbol">bind_quoted:</span> [</span><br><span class="line">  <span class="symbol">head:</span> <span class="title class_">Macro</span>.escape(head, <span class="symbol">unquote:</span> <span class="literal">true</span>),</span><br><span class="line">  <span class="symbol">body:</span> <span class="title class_">Macro</span>.escape(body, <span class="symbol">unquote:</span> <span class="literal">true</span>)</span><br><span class="line">] <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># è¿™é‡Œæˆ‘ä»¬æœ‰äº†ä»å®ä¸Šä¸‹æ–‡ä¸­å¾—åˆ°çš„</span></span><br><span class="line">  <span class="comment"># head å’Œ body çš„ç²¾ç¡®å‰¯æœ¬.</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="Escaping-å’Œ-unquote-true"><a href="#Escaping-å’Œ-unquote-true" class="headerlink" title="Escaping å’Œ unquote: true"></a>Escaping å’Œ unquote: true</h2><p>æ³¨æ„æˆ‘ä»¬ä¼ é€’ç»™äº† <code>Macro.escape</code> ä¸€ä¸ªæ¬ºéª—æ€§çš„ <code>unquote: true</code> é€‰é¡¹. è¿™æ˜¯æœ€éš¾è§£é‡Šçš„. ä¸ºäº†èƒ½å¤Ÿç†è§£å®ƒ, ä½ å¿…é¡»æ¸…æ¥š AST æ˜¯å¦‚ä½•ä¼ é€’ç»™å®å¹¶è¿”å›åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­çš„.</p><p>é¦–å…ˆ, è®°ä½æˆ‘ä»¬å¦‚ä½•è°ƒç”¨æˆ‘ä»¬çš„å®ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deftraceable <span class="keyword">unquote</span>(action)(<span class="keyword">unquote</span>(state)) <span class="keyword">do</span> ... <span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨, ç”±äºå®å®é™…ä¸Šæ¥æ”¶åˆ°çš„æ˜¯ quoted çš„å‚æ•°, <code>head</code> å‚æ•°å°†ç­‰åŒäºä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™æ˜¯å®ä¸Šä¸‹æ–‡ä¸­çš„ head å‚æ•°å®é™…åŒ…å«çš„å†…å®¹</span></span><br><span class="line"><span class="keyword">quote</span> <span class="symbol">unquote:</span> <span class="literal">false</span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">unquote</span>(action)(<span class="keyword">unquote</span>(state))</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¯·è®°ä½, <code>Macro.escape</code> ä¼šä¿å­˜æ•°æ®, å› æ­¤å½“ä½ åœ¨å…¶ä»– AST ä¸­ä¼ è¾“å˜é‡æ—¶, å…¶å†…å®¹å°†ä¿æŒä¸å˜. è€ƒè™‘ä¸‹ä¸Šé¢çš„ head å½¢çŠ¶, è¿™æ˜¯æˆ‘ä»¬åœ¨å®å±•å¼€åæœ€ç»ˆä¼šå‡ºç°çš„æƒ…å†µ:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡</span></span><br><span class="line"><span class="keyword">for</span> &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm <span class="keyword">do</span></span><br><span class="line">Â Â <span class="comment"># è¿™é‡Œæ˜¯æˆ‘ä»¬ç”Ÿæˆå‡½æ•°çš„ä»£ç . ç”±äº bind_quoted, è¿™é‡Œ</span></span><br><span class="line">Â Â <span class="comment"># æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ head å’Œ body å˜é‡.</span></span><br><span class="line"></span><br><span class="line">Â Â <span class="comment"># å˜é‡ head ç­‰æ•ˆäº</span></span><br><span class="line">  <span class="comment">#   quote unquote: false do</span></span><br><span class="line">  <span class="comment">#     unquote(action)(unquote(state))</span></span><br><span class="line">  <span class="comment">#   end</span></span><br><span class="line"></span><br><span class="line">Â Â <span class="comment"># æˆ‘ä»¬çœŸæ­£éœ€è¦çš„æ˜¯:</span></span><br><span class="line">  <span class="comment">#   quote do</span></span><br><span class="line">  <span class="comment">#     unquote(action)(unquote(state))</span></span><br><span class="line">  <span class="comment">#   end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ quoted head çš„ç¬¬äºŒç§å½¢å¼? å› ä¸ºè¿™ä¸ª AST ç°åœ¨æ˜¯åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­å½¢æˆçš„, åœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­æˆ‘ä»¬æœ‰å¯ç”¨çš„ <code>action</code> å’Œ <code>state</code> å˜é‡. ç¬¬äºŒä¸ªè¡¨è¾¾å¼ä¼šç”¨åˆ°è¿™äº›å˜é‡çš„å†…å®¹.</p><p>è¿™å°±æ˜¯æ‰€è°“çš„ <code>unquoted: true</code> çš„ä½œç”¨. å½“æˆ‘ä»¬è°ƒç”¨ <code>Macro.escape(input_ast, unquote: true)</code> æ—¶, æˆ‘ä»¬ä»ç„¶(å¤§éƒ¨åˆ†)ä¿ç•™ä¼ è¾“æ•°æ®çš„å½¢çŠ¶, ä½†è¾“å…¥ AST ä¸­çš„ <code>unquote</code> ç‰‡æ®µ(ä¾‹å¦‚, <code>unquote(action)</code> )å°†åœ¨è°ƒç”¨æ–¹çš„ä¸Šä¸‹æ–‡ä¸­è§£æ.</p><p>æ€»çš„æ¥è¯´, è¾“å…¥ AST åˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡çš„æ­£ç¡®ä¼ è¾“æ–¹å¼å¦‚ä¸‹æ‰€ç¤º:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">quote</span> <span class="symbol">bind_quoted:</span> [</span><br><span class="line">    <span class="symbol">head:</span> <span class="title class_">Macro</span>.escape(head, <span class="symbol">unquote:</span> <span class="literal">true</span>),</span><br><span class="line">    <span class="symbol">body:</span> <span class="title class_">Macro</span>.escape(body, <span class="symbol">unquote:</span> <span class="literal">true</span>)</span><br><span class="line">  ] <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Generate the code here</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™å¹¶ä¸ç®—éš¾, ä½†éœ€è¦ä¸€äº›æ—¶é—´æ¥ç†è§£è¿™é‡Œåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ. è¯•ç€ç¡®ä¿ä½ ä¸æ˜¯ç›²ç›®åœ°åš escapesï¼ˆå’Œ/æˆ– <code>unquote: true</code>ï¼‰, è€Œä¸ç†è§£è¿™æ˜¯ä½ çœŸæ­£æƒ³è¦çš„. æ¯•ç«Ÿ, è¿™ä¸æ˜¯é»˜è®¤çš„è¡Œä¸ºæ˜¯æœ‰åŸå› çš„.</p><p>åœ¨ç¼–å†™å®æ—¶, è¦è€ƒè™‘ä½ æ˜¯å¦è¦æ³¨å…¥ä¸€äº› AST, æˆ–è€…ä¸åŠ æ›´æ”¹åœ°ä¼ è¾“æ•°æ®. åœ¨åä¸€ç§æƒ…å†µ, ä½ éœ€è¦ä½¿ç”¨ <code>Macro.escape</code>. å¦‚æœä¼ è¾“çš„æ•°æ®æ˜¯ä¸€ä¸ª AST ä¸”å¯èƒ½åŒ…å« <code>unquote</code> ç‰‡æ®µ, é‚£ä¹ˆæ‚¨å¯èƒ½éœ€è¦ä»¥ <code>unquote: true</code> çš„æ–¹å¼ä½¿ç”¨ <code>Macro.escape</code> .</p><h2 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h2><p>å…³äº Elixir å®çš„ç³»åˆ—æ–‡ç« åˆ°æ­¤ç»“æŸäº†. æˆ‘å¸Œæœ›ä½ è§‰å¾—è¿™äº›æ–‡ç« æœ‰è¶£ä¸”æœ‰å­¦ä¹ æ„ä¹‰, å¹¶ä¸”å¯¹å®çš„å·¥ä½œæœºåˆ¶æœ‰äº†æ›´å¤šçš„äº†è§£å’Œä½¿ç”¨ä¿¡å¿ƒ.</p><p>ä¸€å®šè¦è®°ä½ â€” åœ¨å±•å¼€é˜¶æ®µ, å®ç›¸å½“äº AST ç‰‡æ®µçš„æ™®é€šç»„åˆ. å¦‚æœä½ ç†è§£è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡å’Œå®è¾“å…¥, é‚£ä¹ˆç›´æ¥æ‰§è¡Œè½¬æ¢æˆ–åœ¨å¿…è¦æ—¶é€šè¿‡å»¶è¿Ÿæ‰§è¡Œè½¬æ¢å¹¶ä¸ç®—éš¾.</p><p>æœ¬ç³»åˆ—ç»ä¸å¯èƒ½æ¶µç›–æ–¹æ–¹é¢é¢å’Œæ‰€æœ‰çš„ç»†èŠ‚. å¦‚æœä½ æƒ³äº†è§£æ›´å¤š, <a href="https://hexdocs.pm/elixir/Kernel.SpecialForms.html#quote/2">quote/2 special form</a> çš„æ–‡æ¡£æ˜¯ä¸€ä¸ªä¸é”™çš„åœ°æ–¹. æ‚¨è¿˜å¯ä»¥åœ¨ <a href="https://hexdocs.pm/elixir/Macro.html">Macro</a> å’Œ <a href="https://hexdocs.pm/elixir/Code.html">Code</a> æ¨¡å—ä¸­æ‰¾åˆ°ä¸€äº›æœ‰ç”¨çš„å¸®åŠ©ç¨‹åº.</p><p>Happy meta-programming!</p><blockquote><p>åŸæ–‡: <a href="https://www.theerlangelist.com/article/macros_6">https://www.theerlangelist.com/article/macros_6</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Elixir </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir-Macros </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST</title>
      <link href="/2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/"/>
      <url>/2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡</p><ul><li>[1] <a href="https://shan333.cn/2022/06/18/understanding-elixir-macros-part-1-basics/">(è¯‘) Understanding Elixir Macros, Part 1 Basics</a></li><li>[2] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-2-macro-theory/">(è¯‘) Understanding Elixir Macros, Part 2 - Micro Theory</a></li><li>[3] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-3-gettingto-the-ast/">(è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST</a></li><li>[4] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-4-diving-deeper/">(è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper</a></li><li>[5] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/">(è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST</a></li><li>[6] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/">(è¯‘) Understanding Elixir Macros, Part 6 - In-place Code Generation</a><br>åŸæ–‡ <a href="https://github.com/sasa1977/erlangelist/blob/master/site/articles/macros_1.md">GitHub</a> ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡.</li></ul></blockquote><p>ä¸Šæ¬¡æˆ‘ä»‹ç»äº†ä¸€ä¸ªåŸºæœ¬ç‰ˆæœ¬çš„å¯è¿½æº¯å® <code>deftraceable</code>, å®ƒå…è®¸æˆ‘ä»¬ç¼–å†™å¯è·Ÿè¸ªçš„å‡½æ•°. è¿™ä¸ªå®çš„æœ€ç»ˆç‰ˆæœ¬è¿˜æœ‰ä¸€äº›é—ç•™çš„é—®é¢˜, ä»Šå¤©æˆ‘ä»¬å°†è§£å†³å…¶ä¸­ä¸€ä¸ª â€” å‚æ•°æ¨¡å¼åŒ¹é….</p><p>ä»ä»Šå¤©çš„ç»ƒä¹ åº”è¯¥è®¤è¯†åˆ°, æˆ‘ä»¬å¿…é¡»ä»”ç»†è€ƒè™‘å…³äºå®å¯èƒ½æ¥æ”¶åˆ°çš„è¾“å…¥çš„æ‰€æœ‰å‡è®¾æƒ…å†µ.</p><h2 id="é—®é¢˜æ‰€åœ¨"><a href="#é—®é¢˜æ‰€åœ¨" class="headerlink" title="é—®é¢˜æ‰€åœ¨"></a>é—®é¢˜æ‰€åœ¨</h2><p>æ­£å¦‚æˆ‘ä¸Šæ¬¡æ‰€æš—ç¤ºçš„é‚£æ ·, å½“å‰ç‰ˆæœ¬çš„ <code>deftraceable</code> ä¸èƒ½ä½¿ç”¨æ¨¡å¼åŒ¹é…çš„å‚æ•°. è®©æˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹è¿™ä¸ªé—®é¢˜:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span> ... <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Test</span></span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">import</span> <span class="title class_">Tracer</span></span><br><span class="line"></span><br><span class="line">          deftraceable div(_, <span class="number">0</span>), <span class="symbol">do:</span> <span class="symbol">:error</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">** (<span class="title class_">CompileError</span>) <span class="symbol">iex:</span><span class="number">5</span>: unbound variable _</span><br></pre></td></tr></table></figure><p>å‘ç”Ÿäº†ä»€ä¹ˆ? <code>deftraceable</code> å®ç›²ç›®åœ°å‡è®¾è¾“å…¥å‚æ•°æ˜¯æ™®é€šå˜é‡æˆ–å¸¸é‡. å› æ­¤, å½“ä½ è°ƒç”¨ <code>deftracable div(a, b)</code> æ—¶, <code>deftracable div(a, b), do: ...</code> ç”Ÿæˆçš„ä»£ç å°†åŒ…å«:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passed_args = [a, b] |&gt; <span class="title class_">Enum</span>.map(&amp;inspect/<span class="number">1</span>) |&gt; <span class="title class_">Enum</span>.join(<span class="string">&quot;,&quot;</span>)</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™æ®µä¼šæŒ‰é¢„æœŸå·¥ä½œ, ä½†å¦‚æœä¸€ä¸ªå‚æ•°æ˜¯åŒ¿åå˜é‡ï¼ˆ<code>_</code>ï¼‰, é‚£ä¹ˆæˆ‘ä»¬å°†ç”Ÿæˆä»¥ä¸‹ä»£ç :</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passed_args = [_, <span class="number">0</span>] |&gt; <span class="title class_">Enum</span>.map(&amp;inspect/<span class="number">1</span>) |&gt; <span class="title class_">Enum</span>.join(<span class="string">&quot;,&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ˜¾ç„¶æ˜¯ä¸æ­£ç¡®çš„, å› æ­¤æˆ‘ä»¬å¾—åˆ°äº†æœªç»‘å®šå˜é‡é”™è¯¯.</p><p>é‚£ä¹ˆè§£å†³æ–¹æ¡ˆæ˜¯ä»€ä¹ˆå‘¢? æˆ‘ä»¬ä¸åº”è¯¥å¯¹è¾“å…¥å‚æ•°åšä»»ä½•å‡è®¾. ç›¸å, æˆ‘ä»¬åº”è¯¥å°†æ¯ä¸ªå‚æ•°æ”¾å…¥å®ç”Ÿæˆçš„ä¸“ç”¨å˜é‡ä¸­. æˆ–è€…ç”¨ä»£ç æ¥è¡¨è¾¾, å¦‚æœå®è¢«è°ƒç”¨:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deftraceable fun(pattern1, pattern2, ...)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¼šç”Ÿæˆè¿™æ ·çš„å‡½æ•°å¤´:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span></span>(pattern1 = arg1, pattern2 = arg2, ...)</span><br></pre></td></tr></table></figure><p>è¿™å°†å…è®¸æˆ‘ä»¬å°†å‚æ•°å€¼ä»£å…¥å†…éƒ¨ä¸´æ—¶å˜é‡, å¹¶æ‰“å°è¿™äº›å˜é‡çš„å†…å®¹.</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>è®©æˆ‘ä»¬æ¥å®ç°å®ƒ. é¦–å…ˆ, æˆ‘å°†å‘ä½ å±•ç¤ºè§£å†³æ–¹æ¡ˆçš„é¡¶å±‚ç¤ºæ„ç‰ˆ:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">  &#123;fun_name, args_ast&#125; = name_and_args(head)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># é€šè¿‡ç»™æ¯ä¸ªå‚æ•°æ·»åŠ  &quot;= argX&quot;æ¥è£…é¥°è¾“å…¥å‚æ•°.</span></span><br><span class="line">  <span class="comment"># è¿”å›å‚æ•°åç§°åˆ—è¡¨ (arg1, arg2, ...)</span></span><br><span class="line">  &#123;arg_names, decorated_args&#125; = decorate_args(args_ast)</span><br><span class="line"></span><br><span class="line">  head = ??   <span class="comment"># Replace original args with decorated ones</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(head) <span class="keyword">do</span></span><br><span class="line">      ... <span class="comment"># ä¸å˜</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># ä½¿ç”¨ä¸´æ—¶å˜é‡æ„é€ è¿½è¸ªä¿¡æ¯</span></span><br><span class="line">      passed_args = <span class="keyword">unquote</span>(arg_names) |&gt; <span class="title class_">Enum</span>.map(&amp;inspect/<span class="number">1</span>) |&gt; <span class="title class_">Enum</span>.join(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">      ... <span class="comment"># ä¸å˜</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>é¦–å…ˆ, æˆ‘ä»¬ä»å‡½æ•°å¤´ï¼ˆheadï¼‰æå–å‡½æ•°åç§°å’Œ args ï¼ˆæˆ‘ä»¬åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼‰.  ç„¶å, æˆ‘ä»¬å¿…é¡»å°† <code>= argX</code> æ³¨å…¥åˆ° <code>args_ast</code> ä¸­, å¹¶æ”¶å›ä¿®æ”¹åçš„å‚æ•°ï¼ˆæˆ‘ä»¬å°†å°†å…¶æ”¾å…¥ <code>decorated_args</code>ä¸­ï¼‰.</p><p>æˆ‘ä»¬è¿˜éœ€è¦ç”Ÿæˆçš„å˜é‡çš„çº¯åç§°ï¼ˆæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´æ˜¯å®ƒä»¬çš„ ASTï¼‰, å› ä¸ºæˆ‘ä»¬å°†ä½¿ç”¨è¿™äº›åç§°æ¥æ”¶é›†å‚æ•°å€¼. å˜é‡ <code>arg_names</code> å®é™…ä¸ŠåŒ…å« <code>quote do [arg_1, arg_2, ....] end</code>, å¯ä»¥å¾ˆå®¹æ˜“åœ°æ³¨å…¥åˆ° AST æ ‘ä¸­.</p><p>æˆ‘ä»¬æ¥å®ç°å‰©ä¸‹çš„éƒ¨åˆ†. é¦–å…ˆ, è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä¿®é¥°å‚æ•°:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defp</span> <span class="title">decorate_args</span></span>(args_ast) <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">for</span> &#123;arg_ast, index&#125; &lt;- <span class="title class_">Enum</span>.with_index(args_ast) <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># åŠ¨æ€ç”Ÿæˆ quoted æ ‡è¯†ç¬¦</span></span><br><span class="line">    arg_name = <span class="title class_">Macro</span>.var(<span class="symbol">:<span class="string">&quot;arg<span class="subst">#&#123;index&#125;</span>&quot;</span></span>, __MODULE__)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¸º patternX = argX ç”Ÿæˆ AST</span></span><br><span class="line">    full_arg = <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">unquote</span>(arg_ast) = <span class="keyword">unquote</span>(arg_name)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    &#123;arg_name, full_arg&#125;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  |&gt; <span class="title class_">Enum</span>.unzip</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å¤§å¤šæ•°æ“ä½œå‘ç”Ÿåœ¨ <code>for</code> è¯­å¥ä¸­. æœ¬è´¨ä¸Š, æˆ‘ä»¬å¤„ç†äº†æ¯ä¸ªå˜é‡è¾“å…¥çš„ AST ç‰‡æ®µ, ç„¶åä½¿ç”¨ <code>Macro.var/2</code> å‡½æ•°è®¡ç®—ä¸´æ—¶åç§°ï¼ˆquoted çš„ <code>argX</code>ï¼‰, å®ƒèƒ½å°†ä¸€ä¸ªåŸå­å˜æ¢æˆä¸€ä¸ªåç§°ä¸å…¶ç›¸åŒçš„ quoted çš„å˜é‡. <code>Macro.var/2</code> çš„ç¬¬äºŒä¸ªå‚æ•°ç¡®ä¿å˜é‡æ˜¯hygienic çš„. å°½ç®¡æˆ‘ä»¬å°† <code>arg1, arg2, ...</code> å˜é‡æ³¨å…¥åˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡ä¸­, ä½†è°ƒç”¨è€…ä¸ä¼šçœ‹åˆ°è¿™äº›å˜é‡. äº‹å®ä¸Š, <code>deftraceable</code> çš„ç”¨æˆ·å¯ä»¥è‡ªç”±åœ°ä½¿ç”¨è¿™äº›åç§°ä½œä¸ºä¸€äº›å±€éƒ¨å˜é‡, ä¸ä¼šå¹²æ‰°æˆ‘ä»¬çš„å®å¼•å…¥çš„ä¸´æ—¶å˜é‡.</p><p>æœ€å, åœ¨æ¨å¯¼å¼çš„æœ«å°¾, æˆ‘ä»¬è¿”å›ä¸€ä¸ªå…ƒç»„, è¯¥å…ƒç»„ç”±ä¸´æ—¶çš„åç§°å’Œ quoted çš„å®Œæ•´æ¨¡å¼ç»„æˆ - (ä¾‹å¦‚ <code>_ = arg1</code>, æˆ– <code>0 = arg2</code>). ä½¿ç”¨ <code>unzip</code> å’Œ <code>to_tuple</code> è¿›è¡Œæ¨å¯¼ä¹‹åç¡®ä¿ <code>decorate_args</code>ä»¥ <code>&#123;arg_names, decorated_args&#125;</code> çš„å½¢å¼è¿”å›ç»“æœ.</p><p><code>decorate_args</code> è¾…åŠ©å˜é‡å°±ç»ªå, æˆ‘ä»¬å°±å¯ä»¥ä¼ é€’è¾“å…¥å‚æ•°, å¹¶è·å¾—ä¿®é¥°å‚æ•°, ä»¥åŠä¸´æ—¶å˜é‡çš„åç§°. ç°åœ¨æˆ‘ä»¬éœ€è¦å°†è¿™äº›ä¿®é¥°è¿‡çš„å‚æ•°æ³¨å…¥åˆ°å‡½æ•°çš„å¤´éƒ¨, ä»¥å–ä»£åŸå§‹å‚æ•°. è¦æ³¨æ„, æˆ‘ä»¬éœ€è¦åšåˆ°ä»¥ä¸‹å‡ ç‚¹:</p><ul><li>é€’å½’éå†è¾“å…¥å‡½æ•°å¤´çš„ AST</li><li>æ‰¾åˆ°æŒ‡å®šå‡½æ•°åå’Œå‚æ•°çš„ä½ç½®</li><li>ç”¨ä¿®é¥°è¿‡çš„å‚æ•°çš„ AST æ›¿æ¢åŸå§‹ï¼ˆè¾“å…¥ï¼‰å‚æ•°</li></ul><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨å®, <code>Macro.postwalk/2</code> è¿™ä¸ªå¤„ç†å¯ä»¥è¢«åˆç†åœ°ç®€åŒ–æ‰:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">  &#123;fun_name, args_ast&#125; = name_and_args(head)</span><br><span class="line"></span><br><span class="line">  &#123;arg_names, decorated_args&#125; = decorate_args(args_ast)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 1. é€’å½’åœ°éå† AST</span></span><br><span class="line">  head = <span class="title class_">Macro</span>.postwalk(</span><br><span class="line">    head,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># lambda å‡½æ•°å¤„ç†è¾“å…¥ AST ä¸­çš„å…ƒç´ , è¿”å›ä¿®æ”¹è¿‡çš„ AST</span></span><br><span class="line">    <span class="keyword">fn</span></span><br><span class="line">      <span class="comment"># 2. æ¨¡å¼åŒ¹é…å‡½æ•°åå’Œå‚æ•°æ‰€åœ¨çš„ä½ç½®</span></span><br><span class="line">      (&#123;fun_ast, context, old_args&#125;) <span class="keyword">when</span> (</span><br><span class="line">        fun_ast == fun_name <span class="keyword">and</span> old_args == args_ast</span><br><span class="line">      ) -&gt;</span><br><span class="line">        <span class="comment"># 3. å°†è¾“å…¥å‚æ•°æ›¿æ¢ä¸ºä¿®é¥°å‚æ•°çš„ AST</span></span><br><span class="line">        &#123;fun_ast, context, decorated_args&#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment"># å¤´éƒ¨ AST ä¸­çš„å…¶å®ƒå…ƒç´ ï¼ˆå¯èƒ½æ˜¯ guardsï¼‰</span></span><br><span class="line">      <span class="comment">#   -&gt; æˆ‘ä»¬è®©å®ƒä¿ç•™ä¸å˜</span></span><br><span class="line">      (other) -&gt; other</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  ... <span class="comment"># ä¸å˜</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p><code>Macro.postwalk/2</code> é€’å½’åœ°éå† AST, å¹¶ä¸”åœ¨æ‰€æœ‰èŠ‚ç‚¹çš„åä»£è¢«è®¿é—®ä¹‹å, ä¸ºæ¯ä¸ªèŠ‚ç‚¹è°ƒç”¨æä¾›çš„ lambda å‡½æ•°. lambda å‡½æ•°æ¥æ”¶å…ƒç´ çš„ AST, è¿™æ ·æˆ‘ä»¬æœ‰æœºä¼šè¿”å›ä¸€äº›é™¤äº†æŒ‡å®šèŠ‚ç‚¹ä¹‹å¤–çš„ä¸œè¥¿.</p><p>æˆ‘ä»¬åœ¨è¿™ä¸ª lambda é‡Œåšçš„å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¨¡å¼åŒ¹é…, æˆ‘ä»¬åœ¨å¯»æ‰¾ <code>&#123;fun_name, context, args&#125;</code>. å¦‚ç¬¬ä¸‰ç¯‡æ–‡ç« ä¸­æ‰€è¿°é‚£æ ·, è¿™æ˜¯è¡¨è¾¾å¼ <code>some_fun(arg1, arg2, ...)</code> çš„ quoted è¡¨ç°å½¢å¼. ä¸€æ—¦æˆ‘ä»¬é‡åˆ°åŒ¹é…æ­¤æ¨¡å¼çš„èŠ‚ç‚¹, æˆ‘ä»¬åªéœ€è¦ç”¨æ–°çš„ï¼ˆä¿®é¥°è¿‡çš„ï¼‰è¾“å…¥å‚æ•°æ›¿æ¢æ‰æ—§çš„. åœ¨æ‰€æœ‰å…¶å®ƒæƒ…å†µä¸‹, æˆ‘ä»¬ç®€å•åœ°è¿”å›è¾“å…¥çš„ AST, ä½¿å¾—æ ‘çš„å…¶ä½™éƒ¨åˆ†ä¸å˜.</p><p>è¿™çœ‹ç€æœ‰ç‚¹å¤æ‚äº†, ä½†å®ƒè§£å†³äº†æˆ‘ä»¬çš„é—®é¢˜. ä»¥ä¸‹æ˜¯è¿½è¸ªå®çš„æœ€ç»ˆç‰ˆæœ¬:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">    &#123;fun_name, args_ast&#125; = name_and_args(head)</span><br><span class="line"></span><br><span class="line">    &#123;arg_names, decorated_args&#125; = decorate_args(args_ast)</span><br><span class="line"></span><br><span class="line">    head = <span class="title class_">Macro</span>.postwalk(head,</span><br><span class="line">      <span class="keyword">fn</span></span><br><span class="line">        (&#123;fun_ast, context, old_args&#125;) <span class="keyword">when</span> (</span><br><span class="line">          fun_ast == fun_name <span class="keyword">and</span> old_args == args_ast</span><br><span class="line">        ) -&gt;</span><br><span class="line">          &#123;fun_ast, context, decorated_args&#125;</span><br><span class="line">        (other) -&gt; other</span><br><span class="line">      <span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(head) <span class="keyword">do</span></span><br><span class="line">        file = __ENV__.file</span><br><span class="line">        line = __ENV__.line</span><br><span class="line">        module = __ENV__.module</span><br><span class="line"></span><br><span class="line">        function_name = <span class="keyword">unquote</span>(fun_name)</span><br><span class="line">        passed_args = <span class="keyword">unquote</span>(arg_names) |&gt; <span class="title class_">Enum</span>.map(&amp;inspect/<span class="number">1</span>) |&gt; <span class="title class_">Enum</span>.join(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">        result = <span class="keyword">unquote</span>(body[<span class="symbol">:do</span>])</span><br><span class="line"></span><br><span class="line">        loc = <span class="string">&quot;<span class="subst">#&#123;file&#125;</span>(line <span class="subst">#&#123;line&#125;</span>)&quot;</span></span><br><span class="line">        call = <span class="string">&quot;<span class="subst">#&#123;module&#125;</span>.<span class="subst">#&#123;function_name&#125;</span>(<span class="subst">#&#123;passed_args&#125;</span>) = <span class="subst">#&#123;inspect result&#125;</span>&quot;</span></span><br><span class="line">        <span class="title class_">IO</span>.puts <span class="string">&quot;<span class="subst">#&#123;loc&#125;</span> <span class="subst">#&#123;call&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        result</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">defp</span> <span class="title">name_and_args</span></span>(&#123;<span class="symbol">:when</span>, _, [short_head | _]&#125;) <span class="keyword">do</span></span><br><span class="line">    name_and_args(short_head)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">defp</span> <span class="title">name_and_args</span></span>(short_head) <span class="keyword">do</span></span><br><span class="line">    <span class="title class_">Macro</span>.decompose_call(short_head)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">defp</span> <span class="title">decorate_args</span></span>([]), <span class="symbol">do:</span> &#123;[],[]&#125;</span><br><span class="line">  <span class="function"><span class="keyword">defp</span> <span class="title">decorate_args</span></span>(args_ast) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span> &#123;arg_ast, index&#125; &lt;- <span class="title class_">Enum</span>.with_index(args_ast) <span class="keyword">do</span></span><br><span class="line">      <span class="comment"># åŠ¨æ€ç”Ÿæˆ quoted æ ‡è¯†ç¬¦ï¼ˆidentifierï¼‰</span></span><br><span class="line">      arg_name = <span class="title class_">Macro</span>.var(<span class="symbol">:<span class="string">&quot;arg<span class="subst">#&#123;index&#125;</span>&quot;</span></span>, __MODULE__)</span><br><span class="line"></span><br><span class="line">      <span class="comment"># ä¸º patternX = argX æ„å»º AST</span></span><br><span class="line">      full_arg = <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">unquote</span>(arg_ast) = <span class="keyword">unquote</span>(arg_name)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">      &#123;arg_name, full_arg&#125;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    |&gt; <span class="title class_">Enum</span>.unzip</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬æ¥è¯•è¯•:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span> ... <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Test</span></span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">import</span> <span class="title class_">Tracer</span></span><br><span class="line"></span><br><span class="line">          deftraceable div(_, <span class="number">0</span>), <span class="symbol">do:</span> <span class="symbol">:error</span></span><br><span class="line">          deftraceable div(a, b), <span class="symbol">do:</span> a/b</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">3</span>)&gt; <span class="title class_">Test</span>.div(<span class="number">5</span>, <span class="number">2</span>)</span><br><span class="line">iex(line <span class="number">6</span>) <span class="title class_">Elixir</span>.<span class="title class_">Test</span>.div(<span class="number">5</span>,<span class="number">2</span>) = <span class="number">2.5</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">4</span>)&gt; <span class="title class_">Test</span>.div(<span class="number">5</span>, <span class="number">0</span>)</span><br><span class="line">iex(line <span class="number">5</span>) <span class="title class_">Elixir</span>.<span class="title class_">Test</span>.div(<span class="number">5</span>,<span class="number">0</span>) = <span class="symbol">:error</span></span><br></pre></td></tr></table></figure><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„é‚£æ ·, å¯ä»¥è¿›å…¥ AST, åˆ†è§£å®ƒ, å¹¶åœ¨å…¶ä¸­æ•£å¸ƒä¸€äº›è‡ªå®šä¹‰çš„æ³¨å…¥ä»£ç , è¿™å¹¶ä¸ç®—å¾ˆå¤æ‚. ç¼ºç‚¹æ˜¯, ç¼–å†™çš„å®çš„ä»£ç å˜å¾—è¶Šæ¥è¶Šå¤æ‚, å¹¶ä¸”æ›´éš¾åˆ†æ.</p><p>ä»Šå¤©çš„è¯é¢˜åˆ°æ­¤ç»“æŸ. ä¸‹ä¸€æ¬¡, æˆ‘å°†è®¨è®ºåŸåœ°ä»£ç ç”ŸæˆæŠ€æœ¯.</p><blockquote><p>åŸæ–‡: <a href="https://www.theerlangelist.com/article/macros_5">https://www.theerlangelist.com/article/macros_5</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Elixir </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir-Macros </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper</title>
      <link href="/2022/06/19/understanding-elixir-macros-part-4-diving-deeper/"/>
      <url>/2022/06/19/understanding-elixir-macros-part-4-diving-deeper/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡</p><ul><li>[1] <a href="https://shan333.cn/2022/06/18/understanding-elixir-macros-part-1-basics/">(è¯‘) Understanding Elixir Macros, Part 1 Basics</a></li><li>[2] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-2-macro-theory/">(è¯‘) Understanding Elixir Macros, Part 2 - Micro Theory</a></li><li>[3] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-3-gettingto-the-ast/">(è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST</a></li><li>[4] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-4-diving-deeper/">(è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper</a></li><li>[5] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/">(è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST</a></li><li>[6] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/">(è¯‘) Understanding Elixir Macros, Part 6 - In-place Code Generation</a><br>åŸæ–‡ <a href="https://github.com/sasa1977/erlangelist/blob/master/site/articles/macros_1.md">GitHub</a> ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡.</li></ul></blockquote><p>åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­, æˆ‘å‘ä½ å±•ç¤ºäº†åˆ†æè¾“å…¥ AST å¹¶å¯¹å…¶è¿›è¡Œå¤„ç†çš„ä¸€äº›åŸºæœ¬æ–¹æ³•. ä»Šå¤©æˆ‘ä»¬å°†ç ”ç©¶ä¸€äº›æ›´å¤æ‚çš„ AST è½¬æ¢. è¿™å°†é‡æå·²ç»è§£é‡Šè¿‡çš„æŠ€æœ¯. è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†è¡¨æ˜æ·±å…¥ç ”ç©¶ AST å¹¶ä¸æ˜¯å¾ˆéš¾çš„, å°½ç®¡æœ€ç»ˆçš„ç»“æœä»£ç å¾ˆå®¹æ˜“å˜å¾—ç›¸å½“å¤æ‚, è€Œä¸”æœ‰ç‚¹é»‘ç§‘æŠ€ï¼ˆhacky).</p><h2 id="è¿½è¸ªå‡½æ•°è°ƒç”¨"><a href="#è¿½è¸ªå‡½æ•°è°ƒç”¨" class="headerlink" title="è¿½è¸ªå‡½æ•°è°ƒç”¨"></a>è¿½è¸ªå‡½æ•°è°ƒç”¨</h2><p>åœ¨æœ¬æ–‡ä¸­, æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå® <code>deftraceable</code>, å®ƒå…è®¸æˆ‘ä»¬å®šä¹‰å¯è·Ÿè¸ªçš„å‡½æ•°. å¯è·Ÿè¸ªå‡½æ•°çš„å·¥ä½œæ–¹å¼ä¸æ™®é€šå‡½æ•°ä¸€æ ·, ä½†æ¯å½“æˆ‘ä»¬è°ƒç”¨å®ƒæ—¶, éƒ½ä¼šæ‰“å°å‡ºè°ƒè¯•ä¿¡æ¯. å¤§è‡´æ€è·¯æ˜¯è¿™æ ·çš„:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Test</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">import</span> <span class="title class_">Tracer</span></span><br><span class="line"></span><br><span class="line">  deftraceable my_fun(a,b) <span class="keyword">do</span></span><br><span class="line">    a/b</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Test</span>.my_fun(<span class="number">6</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># =&gt; test.ex(line 4) Test.my_fun(6,2) = 3</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­å½“ç„¶æ˜¯è™šæ„çš„. ä½ ä¸éœ€è¦è®¾è®¡è¿™æ ·çš„å®, å› ä¸º Erlang å·²ç»æœ‰éå¸¸å¼ºå¤§çš„<a href="https://www.erlang.org/doc/man/dbg.html">è·Ÿè¸ªåŠŸèƒ½</a>, è€Œä¸”æœ‰ä¸€ä¸ª <a href="https://github.com/fishcakez/dbg">Elixir åŒ…</a>å¯ç”¨. ç„¶è€Œ, è¿™ä¸ªä¾‹å­å¾ˆæœ‰è¶£, å› ä¸ºå®ƒéœ€è¦ä¸€äº›æ›´æ·±å±‚æ¬¡çš„ AST è½¬æ¢æŠ€å·§.</p><p>åœ¨å¼€å§‹ä¹‹å‰, æˆ‘è¦å†æä¸€æ¬¡, ä½ åº”è¯¥ä»”ç»†è€ƒè™‘ä½ æ˜¯å¦çœŸçš„éœ€è¦è¿™æ ·çš„ç»“æ„. ä¾‹å¦‚ <code>deftraceable</code> è¿™æ ·çš„å®å¼•å…¥äº†ä¸€ä¸ªæ¯ä¸ªä»£ç ç»´æŠ¤è€…éƒ½éœ€è¦äº†è§£çš„ä¸œè¥¿. çœ‹ç€ä»£ç , å®ƒèƒŒåå‘ç”Ÿçš„äº‹ä¸æ˜¯æ˜¾è€Œæ˜“è§çš„. å¦‚æœæ¯ä¸ªäººéƒ½è®¾è®¡è¿™æ ·çš„ç»“æ„, æ¯ä¸ª Elixir é¡¹ç›®éƒ½ä¼šå¾ˆå¿«åœ°å˜æˆè‡ªå®šä¹‰è¯­è¨€çš„å¤§é”…æ±¤. å½“ä»£ç ä¸»è¦ä¾èµ–äºå¤æ‚çš„å®æ—¶, å³ä½¿å¯¹äºæœ‰ç»éªŒçš„å¼€å‘äººå‘˜, å³ä½¿æ˜¯æœ‰ç»éªŒçš„å¼€å‘äººå‘˜ä¹Ÿå¾ˆéš¾ç†è§£ä¸¥é‡ä¾èµ–äºå¤æ‚å®çš„åº•å±‚ä»£ç çš„æµç¨‹.</p><p>ä½†æ˜¯åœ¨é€‚åˆä½¿ç”¨å®çš„æƒ…å†µä¸‹, ä½ ä¸åº”è¯¥ä»…ä»…å› ä¸ºæœ‰äººå£°ç§°å®æ˜¯ä¸å¥½çš„, å°±ä¸ä½¿ç”¨å®ƒ. ä¾‹å¦‚, å¦‚æœåœ¨ Erlang ä¸­æ²¡æœ‰è·Ÿè¸ªåŠŸèƒ½, æˆ‘ä»¬å°±éœ€è¦è®¾è®¡ä¸€äº›å®æ¥å¸®åŠ©æˆ‘ä»¬ï¼ˆå®é™…ä¸Šä¸éœ€è¦ç±»ä¼¼ä¸Šè¿°çš„ä¾‹å­, ä½†é‚£æ˜¯å¦å¤–ä¸€ä¸ªè¯é¢˜ï¼‰, å¦åˆ™æˆ‘ä»¬çš„ä»£ç å°±ä¼šæœ‰å¤§é‡é‡å¤çš„æ¨¡æ¿ä»£ç .</p><p>åœ¨æˆ‘çœ‹æ¥, æ¨¡æ¿ä»£ç å¤ªå¤šæ˜¯ä¸å¥½çš„, å› ä¸ºä»£ç ä¸­æœ‰äº†å¤ªå¤šå½¢å¼åŒ–çš„å™ªéŸ³, å› æ­¤æ›´éš¾é˜…è¯»å’Œç†è§£. å®æœ‰åŠ©äºå‡å°‘è¿™äº›å™ªå£°, ä½†åœ¨ä½¿ç”¨å®ä¹‹å‰, è¯·å…ˆè€ƒè™‘æ˜¯å¦å¯ä»¥ä½¿ç”¨è¿è¡Œæ—¶ç»“æ„ï¼ˆå‡½æ•°, æ¨¡å—, åè®®ï¼‰æ¥è§£å†³é‡å¤.</p><p>çœ‹å®Œè¿™ä¸ªé•¿é•¿çš„å…è´£å£°æ˜, è®©æˆ‘ä»¬å¼€å§‹å®ç° <code>deftraceable</code>å§. é¦–å…ˆ, æ‰‹åŠ¨ç”Ÿæˆå¯¹åº”çš„ä»£ç .</p><p>è®©æˆ‘ä»¬å›é¡¾ä¸‹ç”¨æ³•:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deftraceable my_fun(a,b) <span class="keyword">do</span></span><br><span class="line">  a/b</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç”Ÿæˆçš„ä»£ç ç±»ä¼¼äºè¿™æ ·:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_fun</span></span>(a, b) <span class="keyword">do</span></span><br><span class="line">  file = __ENV__.file</span><br><span class="line">  line = __ENV__.line</span><br><span class="line">  module = __ENV__.module</span><br><span class="line">  function_name = <span class="string">&quot;my_fun&quot;</span></span><br><span class="line">  passed_args = [a,b] |&gt; <span class="title class_">Enum</span>.map(&amp;inspect/<span class="number">1</span>) |&gt; <span class="title class_">Enum</span>.join(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">  result = a/b</span><br><span class="line"></span><br><span class="line">  loc = <span class="string">&quot;<span class="subst">#&#123;file&#125;</span>(line <span class="subst">#&#123;line&#125;</span>)&quot;</span></span><br><span class="line">  call = <span class="string">&quot;<span class="subst">#&#123;module&#125;</span>.<span class="subst">#&#123;function_name&#125;</span>(<span class="subst">#&#123;passed_args&#125;</span>) = <span class="subst">#&#123;inspect result&#125;</span>&quot;</span></span><br><span class="line">  <span class="title class_">IO</span>.puts <span class="string">&quot;<span class="subst">#&#123;loc&#125;</span> <span class="subst">#&#123;call&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">  result</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæƒ³æ³•å¾ˆç®€å•. æˆ‘ä»¬ä»ç¼–è¯‘å™¨ç¯å¢ƒä¸­è·å–å„ç§æ•°æ®, ç„¶åè®¡ç®—ç»“æœ, æœ€åå°†æ‰€æœ‰å†…å®¹æ‰“å°åˆ°å±å¹•ä¸Š.</p><p>è¯¥ä»£ç ä¾èµ–äº <code>__ENV__</code> ç‰¹æ®Šå½¢å¼, å¯ç”¨äºåœ¨æœ€ç»ˆ AST ä¸­æ³¨å…¥å„ç§ç¼–è¯‘æ—¶ä¿¡æ¯(ä¾‹å¦‚è¡Œå·å’Œæ–‡ä»¶). <code>__ENV__</code> æ˜¯ä¸€ä¸ªç»“æ„ä½“, æ¯å½“ä½ åœ¨ä»£ç ä¸­ä½¿ç”¨å®ƒæ—¶, å®ƒå°†åœ¨ç¼–è¯‘æ—¶æ‰©å±•ä¸ºé€‚å½“çš„å€¼.  å› æ­¤, åªè¦åœ¨ä»£ç ä¸­å†™å…¥ <code>__ENV__.file</code>.  æ–‡ä»¶ç”Ÿæˆçš„å­—èŠ‚ç å°†åŒ…å«åŒ…å«æ–‡ä»¶åçš„(äºŒè¿›åˆ¶)å­—ç¬¦ä¸²å¸¸é‡.</p><p>ç°åœ¨æˆ‘ä»¬éœ€è¦åŠ¨æ€æ„å»ºè¿™ä¸ªä»£ç . è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¤§æ¦‚çš„æ ·å­ï¼ˆoutlineï¼‰ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(??) <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(head) <span class="keyword">do</span></span><br><span class="line">      file = __ENV__.file</span><br><span class="line">      line = __ENV__.line</span><br><span class="line">      module = __ENV__.module</span><br><span class="line">      function_name = ??</span><br><span class="line">      passed_args = ?? |&gt; <span class="title class_">Enum</span>.map(&amp;inspect/<span class="number">1</span>) |&gt; <span class="title class_">Enum</span>.join(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">      result = ??</span><br><span class="line"></span><br><span class="line">      loc = <span class="string">&quot;<span class="subst">#&#123;file&#125;</span>(line <span class="subst">#&#123;line&#125;</span>)&quot;</span></span><br><span class="line">      call = <span class="string">&quot;<span class="subst">#&#123;module&#125;</span>.<span class="subst">#&#123;function_name&#125;</span>(<span class="subst">#&#123;passed_args&#125;</span>) = <span class="subst">#&#123;inspect result&#125;</span>&quot;</span></span><br><span class="line">      <span class="title class_">IO</span>.puts <span class="string">&quot;<span class="subst">#&#123;loc&#125;</span> <span class="subst">#&#123;call&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">      result</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬åœ¨éœ€è¦åŸºäºè¾“å…¥å‚æ•°åŠ¨æ€æ³¨å…¥ AST ç‰‡æ®µçš„åœ°æ–¹æ”¾ç½®é—®å·ï¼ˆ??ï¼‰. ç‰¹åˆ«åœ°, æˆ‘ä»¬å¿…é¡»ä»ä¼ é€’çš„å‚æ•°ä¸­æ¨å¯¼å‡ºå‡½æ•°åã€å‚æ•°åå’Œå‡½æ•°ä½“.</p><p>ç°åœ¨, å½“æˆ‘ä»¬è°ƒç”¨å® <code>deftraceable my_fun(...) do ... end</code>, å®æ¥æ”¶ä¸¤ä¸ªå‚æ•° â€” å‡½æ•°å¤´ï¼ˆå‡½æ•°åå’Œå‚æ•°åˆ—è¡¨ï¼‰å’ŒåŒ…å«å‡½æ•°ä½“çš„å…³é”®å­—åˆ—è¡¨. è¿™äº›éƒ½æ˜¯è¢« quoted çš„.</p><p>æˆ‘æ˜¯å¦‚ä½•çŸ¥é“çš„ï¼Ÿå…¶å®æˆ‘ä¸çŸ¥é“. æˆ‘ä¸€èˆ¬é€šè¿‡ä¸æ–­è¯•é”™æ¥è·å¾—çš„è¿™äº›ä¿¡æ¯. åŸºæœ¬ä¸Š, æˆ‘ä»å®šä¹‰ä¸€ä¸ªå®å¼€å§‹ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(arg1) <span class="keyword">do</span></span><br><span class="line">  <span class="title class_">IO</span>.inspect arg1</span><br><span class="line">  <span class="literal">nil</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘å°è¯•ä»ä¸€äº›æµ‹è¯•æ¨¡å—æˆ– shell ä¸­è°ƒç”¨å®. æˆ‘å°†é€šè¿‡å‘å®å®šä¹‰ä¸­æ·»åŠ å¦ä¸€ä¸ªå‚æ•°æ¥æµ‹è¯•. ä¸€æ—¦æˆ‘å¾—åˆ°ç»“æœ, æˆ‘ä¼šè¯•å›¾æ‰¾å‡ºå‚æ•°è¡¨ç¤ºä»€ä¹ˆ, ç„¶åå¼€å§‹æ„å»ºå®.</p><p>å®ç»“æŸå¤„çš„ <code>nil</code> ç¡®ä¿æˆ‘ä»¬ä¸ç”Ÿæˆä»»ä½•ä¸œè¥¿ï¼ˆæˆ‘ä»¬ç”Ÿæˆçš„ <code>nil</code> é€šå¸¸ä¸è°ƒç”¨è€…ä»£ç æ— å…³ï¼‰. è¿™å…è®¸æˆ‘è¿›ä¸€æ­¥æ„å»ºç‰‡æ®µè€Œä¸æ³¨å…¥ä»£ç . æˆ‘é€šå¸¸ä¾é  <code>IO.inspect</code>å’Œ <code>Macro.to_string/1</code> æ¥éªŒè¯ä¸­é—´ç»“æœ, ä¸€æ—¦æˆ‘æ»¡æ„äº†, æˆ‘ä¼šåˆ é™¤ <code>nil</code> éƒ¨åˆ†, çœ‹çœ‹æ˜¯å¦èƒ½å·¥ä½œ.</p><p>æ­¤æ—¶ <code>deftraceable</code> æ¥æ”¶å‡½æ•°å¤´å’Œèº«ä½“. å‡½æ•°å¤´å°†æ˜¯ä¸€ä¸ªæˆ‘ä»¬ä¹‹å‰æè¿°çš„ç»“æ„çš„ AST ç‰‡æ®µï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;function_name, context, [arg1, arg2, ...]</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ï¼š</p><ul><li>ä» quoted çš„å¤´ä¸­æå–å‡½æ•°åå’Œå‚æ•°</li><li>å°†è¿™äº›å€¼æ³¨å…¥æˆ‘ä»¬çš„å®è¿”å›çš„ AST ä¸­</li><li>å°†å‡½æ•°ä½“æ³¨å…¥åŒä¸€ä¸ª AST</li><li>æ‰“å°è·Ÿè¸ªä¿¡æ¯</li></ul><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ä»è¿™ä¸ª AST ç‰‡æ®µä¸­æå–å‡½æ•°åå’Œå‚æ•°, æœ‰ä¸€ä¸ª <code>Macro.decompose_call/1</code> çš„è¾…åŠ©åŠŸèƒ½å‡½æ•°å¯ä»¥å¸®æˆ‘ä»¬åšåˆ°. åšå®Œè¿™äº›æ­¥éª¤, å®çš„æœ€ç»ˆç‰ˆæœ¬å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># æå–å‡½æ•°åå’Œå‚æ•°</span></span><br><span class="line">    &#123;fun_name, args_ast&#125; = <span class="title class_">Macro</span>.decompose_call(head)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(head) <span class="keyword">do</span></span><br><span class="line">        file = __ENV__.file</span><br><span class="line">        line = __ENV__.line</span><br><span class="line">        module = __ENV__.module</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ³¨å…¥å‡½æ•°åå’Œå‚æ•°åˆ° AST ä¸­</span></span><br><span class="line">        function_name = <span class="keyword">unquote</span>(fun_name)</span><br><span class="line">        passed_args = <span class="keyword">unquote</span>(args_ast) |&gt; <span class="title class_">Enum</span>.map(&amp;inspect/<span class="number">1</span>) |&gt; <span class="title class_">Enum</span>.join(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å°†å‡½æ•°ä½“æ³¨å…¥åˆ° AST</span></span><br><span class="line">        result = <span class="keyword">unquote</span>(body[<span class="symbol">:do</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ‰“å° trace è·Ÿè¸ªä¿¡æ¯</span></span><br><span class="line">        loc = <span class="string">&quot;<span class="subst">#&#123;file&#125;</span>(line <span class="subst">#&#123;line&#125;</span>)&quot;</span></span><br><span class="line">        call = <span class="string">&quot;<span class="subst">#&#123;module&#125;</span>.<span class="subst">#&#123;function_name&#125;</span>(<span class="subst">#&#123;passed_args&#125;</span>) = <span class="subst">#&#123;inspect result&#125;</span>&quot;</span></span><br><span class="line">        <span class="title class_">IO</span>.puts <span class="string">&quot;<span class="subst">#&#123;loc&#125;</span> <span class="subst">#&#123;call&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        result</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span> ... <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Test</span></span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">import</span> <span class="title class_">Tracer</span></span><br><span class="line"></span><br><span class="line">          deftraceable my_fun(a,b) <span class="keyword">do</span></span><br><span class="line">            a/b</span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">3</span>)&gt; <span class="title class_">Test</span>.my_fun(<span class="number">10</span>,<span class="number">5</span>)</span><br><span class="line">iex(line <span class="number">4</span>) <span class="title class_">Test</span>.my_fun(<span class="number">10</span>,<span class="number">5</span>) = <span class="number">2.0</span>   <span class="comment"># trace output</span></span><br><span class="line"><span class="number">2.0</span></span><br></pre></td></tr></table></figure><p>è¿™ä¼¼ä¹èµ·ä½œç”¨äº†. ç„¶è€Œ, æˆ‘åº”è¯¥ç«‹å³æŒ‡å‡º, è¿™ç§å®ç°å­˜åœ¨ä¸€äº›é—®é¢˜:</p><ul><li>å®ä¸èƒ½å¾ˆå¥½åœ°å¤„ç†å®ˆå«ï¼ˆguardsï¼‰</li><li>æ¨¡å¼åŒ¹é…å‚æ•°å¹¶ä¸æ€»æ˜¯æœ‰æ•ˆçš„ï¼ˆä¾‹å¦‚, å½“ä½¿ç”¨ _ æ¥åŒ¹é…ä»»ä½• term æ—¶ï¼‰</li><li>åœ¨æ¨¡å—ä¸­ç›´æ¥åŠ¨æ€ç”Ÿæˆä»£ç æ—¶, å®ä¸èµ·ä½œç”¨.</li></ul><p>æˆ‘å°†é€ä¸€è§£é‡Šè¿™äº›é—®é¢˜, é¦–å…ˆä»å®ˆå«ï¼ˆguardsï¼‰å¼€å§‹, å…¶ä½™é—®é¢˜ç•™å¾…ä»¥åçš„æ–‡ç« å†è®¨è®º.</p><h2 id="å¤„ç†-guards-ï¼ˆå®ˆå«ï¼‰"><a href="#å¤„ç†-guards-ï¼ˆå®ˆå«ï¼‰" class="headerlink" title="å¤„ç† guards ï¼ˆå®ˆå«ï¼‰"></a>å¤„ç† guards ï¼ˆå®ˆå«ï¼‰</h2><p>æ‰€æœ‰å…·æœ‰å¯è¿½æº¯æ€§çš„é—®é¢˜éƒ½æºäºæˆ‘ä»¬å¯¹è¾“å…¥ AST åšäº†ä¸€äº›äº‹å®å‡è®¾. è¿™æ˜¯ä¸€ä¸ªå±é™©çš„é¢†åŸŸ, æˆ‘ä»¬å¿…é¡»å°å¿ƒåœ°æ¶µç›–æ‰€æœ‰æƒ…å†µ.</p><p>ä¾‹å¦‚, å®å‡è®¾ head åªåŒ…å«å‡½æ•°åç§°å’Œå‚æ•°åˆ—è¡¨. å› æ­¤, å¦‚æœæˆ‘ä»¬æƒ³å®šä¹‰ä¸€ä¸ªå¸¦å®ˆå«çš„å¯è·Ÿè¸ªå‡½æ•°, <code>deftraceable</code> å°†ä¸èµ·ä½œç”¨:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deftraceable my_fun(a,b) <span class="keyword">when</span> a &lt; b <span class="keyword">do</span></span><br><span class="line">  a/b</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ç§æƒ…å†µä¸‹, æˆ‘ä»¬çš„å¤´éƒ¨ï¼ˆå®çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ä¹Ÿå°†åŒ…å«å®ˆå«ï¼ˆguardsï¼‰çš„ä¿¡æ¯, å¹¶ä¸”ä¸èƒ½è¢« <code>macro .decompose_call/1</code> è§£æ. è§£å†³æ–¹æ¡ˆæ˜¯æ£€æµ‹è¿™ç§æƒ…å†µ, å¹¶ä»¥ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼å¤„ç†å®ƒ.</p><p>é¦–å…ˆ, è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ª head æ˜¯å¦‚ä½•è¢« quoted çš„:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">16</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> my_fun(a,b) <span class="keyword">when</span> a &lt; b <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:when</span>, [],</span><br><span class="line"> [</span><br><span class="line">   &#123;<span class="symbol">:my_fun</span>, [],</span><br><span class="line">    [&#123;<span class="symbol">:a</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, &#123;<span class="symbol">:b</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;]&#125;,</span><br><span class="line">   &#123;<span class="symbol">:&lt;</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>],</span><br><span class="line">    [&#123;<span class="symbol">:a</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, &#123;<span class="symbol">:b</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;]&#125;</span><br><span class="line"> ]&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥å®é™…ä¸Šæˆ‘ä»¬çš„ guard head å®é™…ä¸Šæ˜¯è¿™æ ·çš„: <code>&#123;:when, _, [name_and_args, ...]&#125;</code>, æˆ‘ä»¬å¯ä»¥ä¾é å®ƒæ¥ä½¿ç”¨æ¨¡å¼åŒ¹é…æå–å‡½æ•°åç§°å’Œå‚æ•°:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="function"><span class="keyword">defp</span> <span class="title">name_and_args</span></span>(&#123;<span class="symbol">:when</span>, _, [short_head | _]&#125;) <span class="keyword">do</span></span><br><span class="line">    name_and_args(short_head)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">defp</span> <span class="title">name_and_args</span></span>(short_head) <span class="keyword">do</span></span><br><span class="line">    <span class="title class_">Macro</span>.decompose_call(short_head)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>å½“ç„¶, æˆ‘ä»¬éœ€è¦ä»å®ä¸­è°ƒç”¨è¿™ä¸ªå‡½æ•°:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">    &#123;fun_name, args_ast&#125; = name_and_args(head)</span><br><span class="line"></span><br><span class="line">    ... <span class="comment"># ä¸å˜</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å¦‚æ‚¨æ‰€è§, å¯ä»¥å®šä¹‰é¢å¤–çš„ç§æœ‰å‡½æ•°å¹¶ä»å®è°ƒç”¨å®ƒä»¬. æ¯•ç«Ÿ, å®åªæ˜¯ä¸€ä¸ªå‡½æ•°, å½“è°ƒç”¨å®ƒæ—¶, åŒ…å«çš„æ¨¡å—å·²ç»ç¼–è¯‘å¹¶åŠ è½½åˆ°ç¼–è¯‘å™¨çš„ VM ä¸­(å¦åˆ™, å®æ— æ³•è¿è¡Œ).</p><p>ä»¥ä¸‹æ˜¯å® <code>deftraceable</code> çš„å®Œæ•´ç‰ˆæœ¬:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">deftraceable</span></span>(head, body) <span class="keyword">do</span></span><br><span class="line">    &#123;fun_name, args_ast&#125; = name_and_args(head)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(head) <span class="keyword">do</span></span><br><span class="line">        file = __ENV__.file</span><br><span class="line">        line = __ENV__.line</span><br><span class="line">        module = __ENV__.module</span><br><span class="line"></span><br><span class="line">        function_name = <span class="keyword">unquote</span>(fun_name)</span><br><span class="line">        passed_args = <span class="keyword">unquote</span>(args_ast) |&gt; <span class="title class_">Enum</span>.map(&amp;inspect/<span class="number">1</span>) |&gt; <span class="title class_">Enum</span>.join(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">        result = <span class="keyword">unquote</span>(body[<span class="symbol">:do</span>])</span><br><span class="line"></span><br><span class="line">        loc = <span class="string">&quot;<span class="subst">#&#123;file&#125;</span>(line <span class="subst">#&#123;line&#125;</span>)&quot;</span></span><br><span class="line">        call = <span class="string">&quot;<span class="subst">#&#123;module&#125;</span>.<span class="subst">#&#123;function_name&#125;</span>(<span class="subst">#&#123;passed_args&#125;</span>) = <span class="subst">#&#123;inspect result&#125;</span>&quot;</span></span><br><span class="line">        <span class="title class_">IO</span>.puts <span class="string">&quot;<span class="subst">#&#123;loc&#125;</span> <span class="subst">#&#123;call&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        result</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">defp</span> <span class="title">name_and_args</span></span>(&#123;<span class="symbol">:when</span>, _, [short_head | _]&#125;) <span class="keyword">do</span></span><br><span class="line">    name_and_args(short_head)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">defp</span> <span class="title">name_and_args</span></span>(short_head) <span class="keyword">do</span></span><br><span class="line">    <span class="title class_">Macro</span>.decompose_call(short_head)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬æ¥è¯•éªŒä¸€ä¸‹:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span> ... <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Test</span></span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">import</span> <span class="title class_">Tracer</span></span><br><span class="line"></span><br><span class="line">          deftraceable my_fun(a,b) <span class="keyword">when</span> a&lt;b <span class="keyword">do</span></span><br><span class="line">            a/b</span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">          deftraceable my_fun(a,b) <span class="keyword">do</span></span><br><span class="line">            a/b</span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">3</span>)&gt; <span class="title class_">Test</span>.my_fun(<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line">iex(line <span class="number">4</span>) <span class="title class_">Test</span>.my_fun(<span class="number">5</span>,<span class="number">10</span>) = <span class="number">0.5</span></span><br><span class="line"><span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">4</span>)&gt; <span class="title class_">Test</span>.my_fun(<span class="number">10</span>, <span class="number">5</span>)</span><br><span class="line">iex(line <span class="number">7</span>) <span class="title class_">Test</span>.my_fun(<span class="number">10</span>,<span class="number">5</span>) = <span class="number">2.0</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç»ƒä¹ çš„ä¸»è¦ç›®çš„æ˜¯è¯´æ˜å¯ä»¥ä»è¾“å…¥ AST ä¸­æ¨æ–­å‡ºä¸€äº›ä¸œè¥¿. åœ¨è¿™ä¸ªä¾‹å­ä¸­, æˆ‘ä»¬è®¾æ³•æ£€æµ‹å’Œå¤„ç†å‡½æ•° guards. æ˜¾ç„¶, å› ä¸ºå®ƒä¾èµ–äº AST çš„å†…éƒ¨ç»“æ„, ä»£ç å˜å¾—æ›´åŠ å¤æ‚äº†. åœ¨è¿™ç§æƒ…å†µä¸‹, ä»£ç ä¾æ—§æ¯”è¾ƒç®€å•, ä½†ä½ å°†åœ¨åé¢çš„æ–‡ç« ä¸­çœ‹åˆ°æˆ‘æ˜¯å¦‚ä½•è§£å†³ <code>deftraceable</code> å®å‰©ä½™çš„é—®é¢˜çš„, äº‹æƒ…å¯èƒ½å¾ˆå¿«å˜å¾—æ‚ä¹±èµ·æ¥äº†.</p><blockquote><p>åŸæ–‡: <a href="https://www.theerlangelist.com/article/macros_4">https://www.theerlangelist.com/article/macros_4</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Elixir </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir-Macros </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST</title>
      <link href="/2022/06/19/understanding-elixir-macros-part-3-gettingto-the-ast/"/>
      <url>/2022/06/19/understanding-elixir-macros-part-3-gettingto-the-ast/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡</p><ul><li>[1] <a href="https://shan333.cn/2022/06/18/understanding-elixir-macros-part-1-basics/">(è¯‘) Understanding Elixir Macros, Part 1 Basics</a></li><li>[2] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-2-macro-theory/">(è¯‘) Understanding Elixir Macros, Part 2 - Micro Theory</a></li><li>[3] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-3-gettingto-the-ast/">(è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST</a></li><li>[4] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-4-diving-deeper/">(è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper</a></li><li>[5] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/">(è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST</a></li><li>[6] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/">(è¯‘) Understanding Elixir Macros, Part 6 - In-place Code Generation</a><br>åŸæ–‡ <a href="https://github.com/sasa1977/erlangelist/blob/master/site/articles/macros_1.md">GitHub</a> ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡.</li></ul></blockquote><p>æ˜¯æ—¶å€™ç»§ç»­æ¢ç´¢ Elixir çš„å®äº†. ä¸Šæ¬¡æˆ‘ä»‹ç»äº†ä¸€äº›å…³äºå®çš„åŸºæœ¬åŸç†, ä»Šå¤©, æˆ‘å°†è¿›å…¥ä¸€ä¸ªè¾ƒå°‘è°ˆåŠçš„é¢†åŸŸ, å¹¶è®¨è®ºElixir AST çš„ä¸€äº›ç»†èŠ‚.</p><h2 id="è·Ÿè¸ªå‡½æ•°è°ƒç”¨"><a href="#è·Ÿè¸ªå‡½æ•°è°ƒç”¨" class="headerlink" title="è·Ÿè¸ªå‡½æ•°è°ƒç”¨"></a>è·Ÿè¸ªå‡½æ•°è°ƒç”¨</h2><p>åˆ°ç›®å‰ä¸ºæ­¢, ä½ åªçœ‹åˆ°äº†æ¥å—è¾“å…¥ AST ç‰‡æ®µå¹¶å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·çš„åŸºç¡€å®, å¹¶åœ¨è¾“å…¥ç‰‡æ®µå‘¨å›´æˆ–ä¹‹é—´æ·»åŠ äº†ä¸€äº›é¢å¤–çš„æ ·æ¿ä»£ç . ç”±äºæˆ‘ä»¬ä¸åˆ†ææˆ–è§£æè¾“å…¥çš„ AST, è¿™å¯èƒ½æ˜¯æœ€å¹²å‡€(æˆ–æœ€ä¸ hackiest)çš„å®ç¼–å†™é£æ ¼, è¿™æ ·çš„å®ç›¸å½“ç®€å•ä¸”å®¹æ˜“ç†è§£.</p><p>ç„¶è€Œ, æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è§£æè¾“å…¥çš„ AST ç‰‡æ®µä»¥è·å–æŸäº›ç‰¹æ®Šä¿¡æ¯. ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ <code>ExUnit</code> çš„æ–­è¨€. ä¾‹å¦‚, è¡¨è¾¾å¼<code>assert 1+1 == 2+2</code> ä¼šå‡ºç°è¿™ä¸ªé”™è¯¯:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Assertion</span> <span class="keyword">with</span> == failed</span><br><span class="line"><span class="symbol">code:</span> <span class="number">1</span>+<span class="number">1</span> == <span class="number">2</span>+<span class="number">2</span></span><br><span class="line"><span class="symbol">lhs:</span>  <span class="number">1</span></span><br><span class="line"><span class="symbol">rhs:</span>  <span class="number">2</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå® <code>assert</code> æ¥æ”¶äº†æ•´ä¸ªè¡¨è¾¾å¼ <code>1+1 == 2+2</code>, ç„¶åä»ä¸­åˆ†å‡ºç‹¬ç«‹çš„è¡¨è¾¾å¼ç”¨æ¥æ¯”è¾ƒ, å¦‚æœæ•´ä¸ªè¡¨è¾¾å¼è¿”å› <code>false</code>, åˆ™æ‰“å°å®ƒä»¬å¯¹åº”çš„ç»“æœ. æ‰€ä»¥, å®çš„ä»£ç å¿…é¡»æƒ³åŠæ³•å°†è¾“å…¥çš„ AST åˆ†è§£ä¸ºå‡ ä¸ªéƒ¨åˆ†å¹¶åˆ†åˆ«è®¡ç®—å­è¡¨è¾¾å¼.</p><p>æ›´å¤šæ—¶å€™, æˆ‘ä»¬è°ƒç”¨äº†æ›´å¤æ‚çš„ AST å˜æ¢. ä¾‹å¦‚,  ä½ å¯ä»¥å€ŸåŠ© <code>ExActor</code> è¿™æ ·åš:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defcast inc(x), <span class="symbol">state:</span> state, <span class="symbol">do:</span> new_state(state + x)</span><br></pre></td></tr></table></figure><p>å®ƒä¼šè¢«è½¬æ¢ä¸ºå¤§è‡´å¦‚ä¸‹çš„å½¢</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inc</span></span>(pid, x) <span class="keyword">do</span></span><br><span class="line">  <span class="symbol">:gen_server</span>.cast(pid, &#123;<span class="symbol">:inc</span>, x&#125;)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_cast</span></span>(&#123;<span class="symbol">:inc</span>, x&#125;, state) <span class="keyword">do</span></span><br><span class="line">  &#123;<span class="symbol">:noreply</span>, state+x&#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å’Œ <code>assert</code> ä¸€æ ·, å® <code>defcast</code> éœ€è¦æ·±å…¥è¾“å…¥çš„ AST ç‰‡æ®µ, å¹¶æ‰¾å‡ºæ¯ä¸ªå­ç‰‡æ®µï¼ˆä¾‹å¦‚, å‡½æ•°å, æ¯ä¸ªå‚æ•°ï¼‰. ç„¶å, <code>ExActor</code> æ‰§è¡Œä¸€ä¸ªç²¾å·§çš„å˜æ¢, å°†å„ä¸ªéƒ¨åˆ†é‡ç»„æˆä¸€ä¸ªæ›´åŠ å¤æ‚çš„ä»£ç .</p><p>ä»Šå¤©, æˆ‘å°†æƒ³ä½ å±•ç¤ºæ„å»ºè¿™ç±»å®çš„åŸºç¡€æŠ€æœ¯, æˆ‘ä¹Ÿä¼šåœ¨ä¹‹åçš„æ–‡ç« ä¸­å°†å˜æ¢åšå¾—æ›´å¤æ‚. ä½†åœ¨æ­¤ä¹‹å‰, æˆ‘è¦è¯·ä½ è®¤çœŸè€ƒè™‘ä¸€ä¸‹ä½ çš„ä»£ç æ˜¯å¦æœ‰æœ‰å¿…è¦åŸºäºå®. å°½ç®¡å®ååˆ†å¼ºå¤§, ä½†ä¹Ÿæœ‰ç¼ºç‚¹.</p><p>é¦–å…ˆ, å°±åƒä¹‹å‰æˆ‘ä»¬çœ‹åˆ°çš„é‚£æ ·, æ¯”èµ·é‚£äº›æ™®é€šçš„è¿è¡Œæ—¶æŠ½è±¡, å®çš„ä»£ç ä¼šå¾ˆå¿«åœ°å˜å¾—éå¸¸å¤š. ä½ å¯ä»¥ä¾èµ–æ²¡æœ‰æ–‡æ¡£æ ¼å¼çš„AST æ¥å¿«é€Ÿå®Œæˆè®¸å¤šåµŒå¥—çš„ quote/unquoted è°ƒç”¨, ä»¥åŠå¥‡æ€ªçš„æ¨¡å¼åŒ¹é….</p><p>æ­¤å¤–, å®çš„æ»¥ç”¨å¯èƒ½ä½¿ä½ çš„å®¢æˆ·ç«¯ä»£ç æå…¶éš¾æ‡‚, å› ä¸ºå®ƒå°†ä¾èµ–äºè‡ªå®šä¹‰çš„éæ ‡å‡†ä¹ æƒ¯ç”¨æ³•ï¼ˆä¾‹å¦‚ <code>ExActor</code> çš„ <code>defcast</code>ï¼‰. è¿™ä½¿å¾—ç†è§£ä»£ç å’Œäº†è§£åº•å±‚ç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆå˜å¾—æ›´åŠ å›°éš¾.</p><p>ä»å¥½çš„æ–¹é¢æ¥çœ‹, å®åœ¨åˆ é™¤æ ·æ¿ä»£ç æ—¶éå¸¸æœ‰ç”¨(æ­£å¦‚ <code>ExActor</code> ç¤ºä¾‹æ‰€å±•ç¤ºçš„é‚£æ ·), å¹¶ä¸”å…·æœ‰è®¿é—®è¿è¡Œæ—¶ä¸å¯ç”¨çš„ä¿¡æ¯çš„èƒ½åŠ›(æ­£å¦‚æ‚¨åº”è¯¥ä» <code>assert</code> ç¤ºä¾‹ä¸­çœ‹åˆ°çš„é‚£æ ·).  æœ€å, ç”±äºå®åœ¨ç¼–è¯‘æœŸé—´è¿è¡Œ, å› æ­¤å¯ä»¥é€šè¿‡å°†è®¡ç®—è½¬ç§»åˆ°ç¼–è¯‘æ—¶æ¥ä¼˜åŒ–ä¸€äº›ä»£ç .</p><p>å› æ­¤, è‚¯å®šä¼šæœ‰é€‚åˆå®çš„æƒ…å†µ, æ‚¨ä¸åº”è¯¥å®³æ€•ä½¿ç”¨å®ƒä»¬.  ä½†æ˜¯, æ‚¨ä¸åº”è¯¥ä»…ä»…ä¸ºäº†è·å¾—ä¸€äº›å¯çˆ±çš„ dsl å¼è¯­æ³•è€Œé€‰æ‹©å®.  åœ¨ä½¿ç”¨å®ä¹‹å‰, åº”è¯¥è€ƒè™‘æ˜¯å¦å¯ä»¥ä¾é â€œæ ‡å‡†â€è¯­è¨€æŠ½è±¡ï¼ˆå¦‚å‡½æ•°ã€æ¨¡å—å’Œåè®®ï¼‰åœ¨è¿è¡Œæ—¶æœ‰æ•ˆåœ°è§£å†³é—®é¢˜.</p><h2 id="æ¢ç´¢-AST-ç»“æ„"><a href="#æ¢ç´¢-AST-ç»“æ„" class="headerlink" title="æ¢ç´¢ AST ç»“æ„"></a>æ¢ç´¢ AST ç»“æ„</h2><p>ç›®å‰, å…³äº AST ç»“æ„çš„æ–‡æ¡£ä¸å¤š. ç„¶è€Œ, åœ¨ shell ä¼šè¯ä¸­å¯ä»¥å¾ˆç®€å•åœ°æ¢ç´¢å’Œä½¿ç”¨ AST, æˆ‘é€šå¸¸å°±æ˜¯è¿™æ ·æ¢ç´¢ AST ç»“æ„çš„.</p><p>ä¾‹å¦‚, è¿™é‡Œæœ‰ä¸€ä¸ªå…³äºå˜é‡çš„ quoted</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> my_var <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:my_var</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œ, ç¬¬ä¸€ä¸ªå…ƒç´ ä»£è¡¨å˜é‡çš„åç§°ï¼›ç¬¬äºŒä¸ªå…ƒç´ æ˜¯ä¸Šä¸‹æ–‡å…³é”®å­—åˆ—è¡¨, å®ƒåŒ…å«äº†è¯¥ AST ç‰‡æ®µçš„å…ƒæ•°æ®ï¼ˆä¾‹å¦‚ imports å’Œ aliasesï¼‰. é€šå¸¸ä½ ä¸ä¼šå¯¹ä¸Šä¸‹æ–‡æ•°æ®æ„Ÿå…´è¶£ï¼›ç¬¬ä¸‰ä¸ªå…ƒç´ é€šå¸¸ä»£è¡¨ quoted å‘ç”Ÿçš„æ¨¡å—, åŒæ—¶ä¹Ÿç”¨äºç¡®ä¿ quoted å˜é‡çš„ hygienic. å¦‚æœè¯¥å…ƒç´ ä¸º <code>nil</code>, åˆ™è¯¥æ ‡è¯†ç¬¦æ˜¯ä¸ hygienic çš„.</p><p>ä¸€ä¸ªç®€å•çš„è¡¨è¾¾å¼çœ‹èµ·æ¥åŒ…å«äº†è®¸å¤šä¸œè¥¿:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">2</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> a+b <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:+</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>],</span><br><span class="line"> [&#123;<span class="symbol">:a</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, &#123;<span class="symbol">:b</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;]&#125;</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥å¯èƒ½å¾ˆå¤æ‚, ä½†æ˜¯å¦‚æœæˆ‘å‘ä½ å±•ç¤ºæ›´é«˜å±‚æ¬¡çš„æ¨¡å¼, å°±å¾ˆå®¹æ˜“ç†è§£:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="symbol">:+</span>, context, [ast_for_a, ast_for_b]&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­, <code>ast_for_a</code> å’Œ <code>ast_fot_b</code> éµå¾ªç€ä½ ä¹‹å‰æ‰€çœ‹åˆ°çš„å˜é‡çš„å½¢çŠ¶ï¼ˆå¦‚ <code>&#123;:a, [if_undefined: :apply], Elixir&#125;</code>ï¼‰. ä¸€èˆ¬, quoted çš„å‚æ•°å¯ä»¥æ˜¯ä»»æ„å¤æ‚çš„, å› ä¸ºå®ƒä»¬æè¿°äº†æ¯ä¸ªå‚æ•°çš„è¡¨è¾¾å¼. äº‹å®ä¸Š, AST æ˜¯ä¸€ä¸ªç®€å• quoted expression çš„æ·±å±‚ç»“æ„, å°±åƒæˆ‘ç»™ä½ å±•ç¤ºçš„é‚£æ ·.</p><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå…³äºå‡½æ•°çš„è°ƒç”¨ä¾‹å­:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">3</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> div(<span class="number">5</span>,<span class="number">4</span>) <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:div</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>], [<span class="number">5</span>, <span class="number">4</span>]&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç±»ä¼¼äº quoted <code>+</code> çš„æ“ä½œ, æˆ‘ä»¬çŸ¥é“ <code>+</code> å®é™…ä¸Šæ˜¯<a href="https://github.com/elixir-lang/elixir/blob/7e4fbe657dbf9c3e19e3d2bd6c17cc6d724b4710/lib/elixir/lib/kernel.ex#L1309">ä¸€ä¸ªå‡½æ•°</a>. äº‹å®ä¸Š, æ‰€æœ‰äºŒè¿›åˆ¶è¿ç®—ç¬¦éƒ½ä¼šåƒå‡½æ•°è°ƒç”¨ä¸€æ ·è¢« quoted.</p><p>æœ€å, è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªè¢« quoted çš„å‡½æ•°å®šä¹‰:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">4</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> <span class="function"><span class="keyword">def</span> <span class="title">my_fun</span></span>(arg1, arg2), <span class="symbol">do:</span> <span class="symbol">:ok</span> <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:def</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>],</span><br><span class="line"> [</span><br><span class="line">   &#123;<span class="symbol">:my_fun</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>],</span><br><span class="line">    [</span><br><span class="line">      &#123;<span class="symbol">:arg1</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;,</span><br><span class="line">      &#123;<span class="symbol">:arg2</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;</span><br><span class="line">    ]&#125;,</span><br><span class="line">   [<span class="symbol">do:</span> <span class="symbol">:ok</span>]</span><br><span class="line"> ]&#125;</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥æœ‰ç‚¹å“äºº, ä½†å¯ä»¥åªçœ‹é‡è¦çš„éƒ¨åˆ†æ¥ç®€åŒ–å®ƒ. äº‹å®ä¸Š, è¿™ç§æ·±å±‚ç»“æ„ç›¸å½“äº:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="symbol">:def</span>, context, [fun_call, [<span class="symbol">do:</span> body]]&#125;</span><br></pre></td></tr></table></figure><p><code>fun_call</code> æ˜¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„ç»“æ„ï¼ˆæ­£å¦‚ä¹‹å‰ä½ çœ‹è¿‡çš„é‚£æ ·ï¼‰.</p><p>å¦‚ä½ æ‰€è§, AST èƒŒåé€šå¸¸æœ‰ä¸€äº›é€»è¾‘å’Œæ„ä¹‰. æˆ‘ä¸ä¼šåœ¨è¿™é‡Œå†™å‡ºæ‰€æœ‰ AST çš„å½¢çŠ¶, ä½†ä¼šåœ¨ iex ä¸­å°è¯•ä½ æ„Ÿå…´è¶£çš„ç®€å•çš„ç»“æ„æ¥æ¢ç´¢ AST. è¿™æ˜¯ä¸€ä¸ªé€†å‘å·¥ç¨‹, ä½†ä¸æ˜¯ç«ç®­ç§‘å­¦.</p><h2 id="å†™ä¸€ä¸ª-assert-å®"><a href="#å†™ä¸€ä¸ª-assert-å®" class="headerlink" title="å†™ä¸€ä¸ª assert å®"></a>å†™ä¸€ä¸ª assert å®</h2><p>ä¸ºäº†å¿«é€Ÿæ¼”ç¤º, è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ <code>assert</code> å®. è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å®, å› ä¸ºå®ƒé‡æ–°è§£é‡Šäº†æ¯”è¾ƒæ“ä½œç¬¦çš„å«ä¹‰. é€šå¸¸, å½“ä½ å†™ä¸‹ <code>a == b</code>æ—¶, ä½ ä¼šå¾—åˆ°ä¸€ä¸ªå¸ƒå°”ç»“æœ. ä½†æ˜¯, å½“å°†æ­¤è¡¨è¾¾å¼ç»™ <code>assert</code> å®æ—¶, å¦‚æœè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœä¸º <code>false</code>, åˆ™ä¼šæ‰“å°è¯¦ç»†çš„è¾“å‡º.</p><p>æˆ‘å°†ä»ç®€å•çš„éƒ¨åˆ†å¼€å§‹, é¦–å…ˆåœ¨å®é‡Œåªæ”¯æŒ <code>==</code> è¿ç®—ç¬¦. å¯ä»¥çŸ¥é“, æˆ‘ä»¬è°ƒç”¨ <code>assert expected == required</code> æ—¶, ç­‰åŒäºè°ƒç”¨ <code>assert(expect == required)</code>, è¿™æ„å‘³ç€æˆ‘ä»¬çš„å®æ¥æ”¶åˆ°ä¸€ä¸ªè¡¨ç¤ºæ¯”è¾ƒçš„å¼•ç”¨ç‰‡æ®µ. è®©æˆ‘ä»¬æ¥æ¢ç´¢è¿™ä¸ªæ¯”è¾ƒçš„ AST ç»“æœ:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> <span class="number">1</span> == <span class="number">2</span> <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:==</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>], [<span class="number">1</span>, <span class="number">2</span>]&#125;</span><br><span class="line"></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> a == b <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:==</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>],</span><br><span class="line"> [&#123;<span class="symbol">:a</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, &#123;<span class="symbol">:b</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;]&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬çš„ç»“æ„æœ¬è´¨ä¸Šæ˜¯ <code>&#123;:==, context, [quoted_lhs, quoted_rhs]&#125;</code>. å¦‚æœä½ è®°ä½äº†å‰é¢ç« èŠ‚ä¸­æ‰€æ¼”ç¤ºçš„ä¾‹å­, é‚£ä¹ˆå°±ä¸ä¼šæ„Ÿåˆ°æ„å¤–, å› ä¸ºæˆ‘æåˆ°è¿‡äºŒè¿›åˆ¶è¿ç®—ç¬¦æ˜¯ä½œä¸ºäºŒä¸ªå‚æ•°çš„å‡½æ•°è¢« quoted.</p><p>çŸ¥é“äº† AST çš„å½¢çŠ¶, å®ç°è¿™ä¸ªå®å°±å¾ˆç®€å•:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Assertions</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">assert</span></span>(&#123;<span class="symbol">:==</span>, _, [lhs, rhs]&#125; = expr) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">      left = <span class="keyword">unquote</span>(lhs)</span><br><span class="line">      right = <span class="keyword">unquote</span>(rhs)</span><br><span class="line"></span><br><span class="line">      result = (left == right)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">unless</span> result <span class="keyword">do</span></span><br><span class="line">        <span class="title class_">IO</span>.puts <span class="string">&quot;Assertion with == failed&quot;</span></span><br><span class="line">        <span class="title class_">IO</span>.puts <span class="string">&quot;code: <span class="subst">#&#123;<span class="keyword">unquote</span>(<span class="title class_">Macro</span>.to_string(expr))&#125;</span>&quot;</span></span><br><span class="line">        <span class="title class_">IO</span>.puts <span class="string">&quot;lhs: <span class="subst">#&#123;left&#125;</span>&quot;</span></span><br><span class="line">        <span class="title class_">IO</span>.puts <span class="string">&quot;rhs: <span class="subst">#&#123;right&#125;</span>&quot;</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">      result</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªæœ‰è¶£çš„äº‹æƒ…å‘ç”Ÿåœ¨ç¬¬ 2 è¡Œ. æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•å¯¹è¾“å…¥è¡¨è¾¾å¼è¿›è¡Œæ¨¡å¼åŒ¹é…çš„, å¸Œæœ›å®ƒç¬¦åˆæŸç§ç»“æ„. è¿™å®Œå…¨æ²¡é—®é¢˜, å› ä¸ºå®æ˜¯å‡½æ•°, è¿™æ„å‘³ç€æ‚¨å¯ä»¥ä¾èµ–äºæ¨¡å¼åŒ¹é…ã€guardsï¼ˆå®ˆå«ï¼‰, ç”šè‡³æœ‰å¤šå­å¥å®. åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­, æˆ‘ä»¬ä¾é æ¨¡å¼åŒ¹é…å°†æ¯”è¾ƒè¡¨è¾¾å¼çš„æ¯ä¸€è¾¹ï¼ˆè¢« quoted çš„ï¼‰å¸¦å…¥ç›¸åº”çš„å˜é‡.</p><p>ç„¶å, åœ¨ quoted çš„ä»£ç ä¸­, æˆ‘ä»¬é€šè¿‡åˆ†åˆ«è®¡ç®—å·¦è¾¹å’Œå³è¾¹é‡æ–°è§£é‡Š <code>==</code> æ“ä½œï¼ˆç¬¬ 4 è¡Œå’Œç¬¬ 5 è¡Œï¼‰, ç„¶åæ˜¯æ•´ä¸ªç»“æœï¼ˆç¬¬ 7 è¡Œï¼‰. æœ€å, å¦‚æœç»“æœä¸ºå‡, æˆ‘ä»¬æ‰“å°è¯¦ç»†ä¿¡æ¯ï¼ˆç¬¬ 9-14 è¡Œï¼‰.</p><p>æ¥è¯•ä¸€ä¸‹:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Assertions</span></span> <span class="keyword">do</span> ... <span class="keyword">end</span></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="keyword">import</span> <span class="title class_">Assertions</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">3</span>)&gt; assert <span class="number">1</span>+<span class="number">1</span> == <span class="number">2</span>+<span class="number">2</span></span><br><span class="line"><span class="title class_">Assertion</span> <span class="keyword">with</span> == failed</span><br><span class="line"><span class="symbol">code:</span> <span class="number">1</span> + <span class="number">1</span> == <span class="number">2</span> + <span class="number">2</span></span><br><span class="line"><span class="symbol">lhs:</span> <span class="number">2</span></span><br><span class="line"><span class="symbol">rhs:</span> <span class="number">4</span></span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="å°†ä»£ç é€šç”¨åŒ–"><a href="#å°†ä»£ç é€šç”¨åŒ–" class="headerlink" title="å°†ä»£ç é€šç”¨åŒ–"></a>å°†ä»£ç é€šç”¨åŒ–</h2><p>å°†ä¹‹å‰çš„ä»£ç ç”¨åˆ°å…¶ä»–çš„è¿ç®—æ“ä½œç¬¦å¹¶ä¸å›°éš¾:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Assertions</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">assert</span></span>(&#123;operator, _, [lhs, rhs]&#125; = expr)</span><br><span class="line">    <span class="keyword">when</span> operator <span class="keyword">in</span> [<span class="symbol">:==</span>, <span class="symbol">:&lt;</span>, <span class="symbol">:&gt;</span>, <span class="symbol">:&lt;=</span>, <span class="symbol">:&gt;=</span>, <span class="symbol">:===</span>, <span class="symbol">:=~</span>, <span class="symbol">:</span>!==, <span class="symbol">:</span>!=, <span class="symbol">:in</span>] <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">        left = <span class="keyword">unquote</span>(lhs)</span><br><span class="line">        right = <span class="keyword">unquote</span>(rhs)</span><br><span class="line"></span><br><span class="line">        result = <span class="keyword">unquote</span>(operator)(left, right)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">unless</span> result <span class="keyword">do</span></span><br><span class="line">          <span class="title class_">IO</span>.puts(<span class="string">&quot;Assertion with <span class="subst">#&#123;<span class="keyword">unquote</span>(operator)&#125;</span> failed&quot;</span>)</span><br><span class="line">          <span class="title class_">IO</span>.puts(<span class="string">&quot;code: <span class="subst">#&#123;<span class="keyword">unquote</span>(<span class="title class_">Macro</span>.to_string(expr))&#125;</span>&quot;</span>)</span><br><span class="line">          <span class="title class_">IO</span>.puts(<span class="string">&quot;lhs: <span class="subst">#&#123;left&#125;</span>&quot;</span>)</span><br><span class="line">          <span class="title class_">IO</span>.puts(<span class="string">&quot;rhs: <span class="subst">#&#123;right&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">      result</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œåªæœ‰ä¸€ç‚¹ç‚¹å˜åŒ–. é¦–å…ˆ, åœ¨æ¨¡å¼åŒ¹é…ä¸­, ç¡¬ç¼–ç ï¼ˆhard codeï¼‰ <code>:==</code> è¢«å˜é‡ <code>operator</code> å–ä»£äº†ï¼ˆç¬¬ 2 è¡Œï¼‰.</p><p>æˆ‘è¿˜å¼•å…¥ï¼ˆå®é™…ä¸Š, æ˜¯ä» Elixir æºä»£ç ä¸­å¤åˆ¶ç²˜è´´äº†ï¼‰guard è¯­å¥æŒ‡å®šäº†å®èƒ½å¤„ç†çš„è¿ç®—ç¬¦é›†ï¼ˆç¬¬ 3 è¡Œï¼‰. è¿™ä¸ªæ£€æŸ¥æœ‰ä¸€ä¸ªç‰¹æ®ŠåŸå› . è¿˜è®°å¾—æˆ‘ä¹‹å‰æåˆ°çš„, quoted <code>a + b</code>ï¼ˆæˆ–ä»»ä½•å…¶å®ƒçš„äºŒè¿›åˆ¶æ“ä½œï¼‰çš„å½¢çŠ¶ç­‰åŒäºå¼•ç”¨ <code>fun(a, b)</code>. å› æ­¤, æ²¡æœ‰è¿™äº› <code>guard</code> è¯­å¥, ä»»ä½•åŒå‚æ•°çš„å‡½æ•°è°ƒç”¨éƒ½ä¼šåœ¨æˆ‘ä»¬çš„å®ä¸­ç»“æŸ, è¿™å¯èƒ½æ˜¯æˆ‘ä»¬ä¸æƒ³è¦çš„. ä½¿ç”¨è¿™ä¸ª guard è¯­å¥èƒ½å°†è¾“å…¥é™åˆ¶åœ¨å·²çŸ¥çš„äºŒè¿›åˆ¶è¿ç®—ç¬¦ä¸­.</p><p>æœ‰è¶£çš„äº‹æƒ…å‘ç”Ÿåœ¨ç¬¬ 9 è¡Œ. åœ¨è¿™é‡Œæˆ‘ä½¿ç”¨äº† <code>unquote(operator)(left, right)</code> æ¥å¯¹æ“ä½œç¬¦è¿›è¡Œç®€å•çš„æ³›å‹åˆ†æ´¾. ä½ å¯èƒ½è®¤ä¸ºæˆ‘å¯ä»¥ä½¿ç”¨ <code>left unquote(operator) right</code> æ¥æ›¿ä»£, ä½†å®ƒå¹¶ä¸èƒ½è¿ç®—. åŸå› æ˜¯ <code>operator</code> å˜é‡ä¿å­˜çš„æ˜¯ä¸€ä¸ªåŸå­ï¼ˆå¦‚<code>:==</code>ï¼‰. å› æ­¤, è¿™ä¸ªå¤©çœŸçš„ quoted ä¼šäº§ç”Ÿ <code>left :== right</code>, è¿™ç”šè‡³ä¸ç¬¦åˆ Elixir çš„è¯­æ³•è§„å®š.</p><p>è®°ä½, åœ¨ quoted æ—¶, æˆ‘ä»¬ä¸ç»„è£…å­—ç¬¦ä¸², è€Œæ˜¯ç»„è£… AST ç‰‡æ®µ. æ‰€ä»¥, å½“æˆ‘ä»¬æƒ³ç”Ÿæˆä¸€ä¸ªäºŒè¿›åˆ¶æ“ä½œä»£ç æ—¶, æˆ‘ä»¬éœ€è¦æ³¨å…¥ä¸€ä¸ªæ­£ç¡®çš„ AST, å®ƒï¼ˆå¦‚å‰æ‰€è¿°ï¼‰ä¸åŒå‚æ•°çš„å‡½æ•°è°ƒç”¨ç›¸åŒ. å› æ­¤, æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä½¿ç”¨å‡½æ•°è°ƒç”¨çš„æ–¹å¼ <code>unquote(operator)(left, right)</code>.</p><p>è¿™ä¸€ç‚¹è®²å®Œäº†, ä»Šå¤©çš„è¿™ä¸€ç« ä¹Ÿè¯¥ç»“æŸäº†. å®ƒæœ‰ç‚¹çŸ­, ä½†ç•¥å¾®å¤æ‚äº›. ä¸‹ä¸€ç« , æˆ‘å°†æ·±å…¥ AST è§£æçš„è¯é¢˜.</p><blockquote><p>åŸæ–‡: <a href="https://www.theerlangelist.com/article/macros_3">https://www.theerlangelist.com/article/macros_3</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Elixir </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir-Macros </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(è¯‘) Understanding Elixir Macros, Part 2 - Micro Theory</title>
      <link href="/2022/06/19/understanding-elixir-macros-part-2-macro-theory/"/>
      <url>/2022/06/19/understanding-elixir-macros-part-2-macro-theory/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡</p><ul><li>[1] <a href="https://shan333.cn/2022/06/18/understanding-elixir-macros-part-1-basics/">(è¯‘) Understanding Elixir Macros, Part 1 Basics</a></li><li>[2] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-2-macro-theory/">(è¯‘) Understanding Elixir Macros, Part 2 - Micro Theory</a></li><li>[3] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-3-gettingto-the-ast/">(è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST</a></li><li>[4] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-4-diving-deeper/">(è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper</a></li><li>[5] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/">(è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST</a></li><li>[6] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/">(è¯‘) Understanding Elixir Macros, Part 6 - In-place Code Generation</a><br>åŸæ–‡ <a href="https://github.com/sasa1977/erlangelist/blob/master/site/articles/macros_1.md">GitHub</a> ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡.</li></ul></blockquote><p>è¿™æ˜¯ Elixir ä¸­çš„å®ç³»åˆ—çš„ç¬¬äºŒç¯‡. ä¸Šä¸€æ¬¡æˆ‘ä»¬è®¨è®ºäº†ç¼–è¯‘è¿‡ç¨‹å’Œ Elixir AST, æœ€åè®²äº†ä¸€ä¸ªåŸºæœ¬çš„å®çš„ä¾‹å­ trace. ä»Šå¤©, æˆ‘ä»¬ä¼šæ›´è¯¦ç»†åœ°è®²è§£å®çš„æœºåˆ¶.</p><p>å¯èƒ½æœ‰ä¸€äº›å†…å®¹ä¼šå’Œä¸Šä¸€ç¯‡é‡å¤, ä½†æˆ‘è®¤ä¸ºè¿™å¯¹äºç†è§£è¿ä½œåŸç†å’Œ AST çš„ç”Ÿæˆå¾ˆæœ‰å¸®åŠ©. æŒæ¡äº†è¿™äº›ä»¥å, ä½ å¯¹äºè‡ªå·±çš„å®ä»£ç å°±æ›´æœ‰ä¿¡å¿ƒäº†. åŸºç¡€å¾ˆé‡è¦, å› ä¸ºéšç€æ›´å¤šåœ°ç”¨åˆ°å®, ä»£ç å¯èƒ½ä¼šç”±è®¸å¤šçš„ <code>quote/unquote</code> ç»“æ„ç»„æˆ.</p><h2 id="è°ƒç”¨ä¸€ä¸ªå®"><a href="#è°ƒç”¨ä¸€ä¸ªå®" class="headerlink" title="è°ƒç”¨ä¸€ä¸ªå®"></a>è°ƒç”¨ä¸€ä¸ªå®</h2><p>æˆ‘ä»¬æœ€éœ€è¦é‡è§†çš„æ˜¯å±•å¼€é˜¶æ®µ. ç¼–è¯‘å™¨åœ¨è¿™ä¸ªé˜¶æ®µè°ƒç”¨äº†å„ç§å®ï¼ˆä»¥åŠå…¶å®ƒä»£ç ç”Ÿæˆç»“æ„ï¼‰æ¥ç”Ÿæˆæœ€ç»ˆçš„ AST.</p><p>ä¾‹å¦‚, å® <code>trace</code> çš„å…¸å‹ç”¨æ³•æ˜¯è¿™æ ·çš„:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">MyModule</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">require</span> <span class="title class_">Tracer</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">some_fun</span></span>(...) <span class="keyword">do</span></span><br><span class="line">    <span class="title class_">Tracer</span>.trace(...)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>åƒä¹‹å‰æ‰€æåˆ°çš„é‚£æ ·, ç¼–è¯‘å™¨ä»ä¸€ä¸ªç±»ä¼¼äºè¿™æ®µä»£ç çš„ AST å¼€å§‹. è¿™ä¸ª AST ä¹‹åä¼šè¢«æ‰©å±•, ç„¶åç”Ÿæˆæœ€åçš„ä»£ç . å› æ­¤, åœ¨è¿™æ®µä»£ç çš„å±•å¼€é˜¶æ®µ, Tracer.trace/1ä¼šè¢«è°ƒç”¨.</p><p>æˆ‘ä»¬çš„å®æ¥å—äº†è¾“å…¥çš„ AST, ç„¶åå¿…é¡»ç”Ÿæˆè¾“å‡ºçš„ AST. ä¹‹åç¼–è¯‘å™¨ä¼šç®€å•åœ°ç”¨è¾“å‡ºçš„ AST æ›¿æ¢æ‰å¯¹å®çš„è°ƒç”¨. è¿™ä¸ªè¿‡ç¨‹æ˜¯æ¸è¿›çš„ â€” ä¸€ä¸ªå®å¯ä»¥è¿”å›è°ƒç”¨å…¶ä»–å®(ç”šè‡³å®ƒæœ¬èº«)çš„ AST. ç¼–è¯‘å™¨ä¼šå†æ¬¡æ‰©å±•, ç›´åˆ°ä¸å¯ä»¥æ‰©å±•ä¸ºæ­¢.</p><p>è°ƒç”¨å®ä½¿å¾—æˆ‘ä»¬æœ‰æœºä¼šä¿®æ”¹ä»£ç çš„å«ä¹‰. ä¸€ä¸ªå…¸å‹çš„å®ä¼šè·å–è¾“å…¥çš„ AST å¹¶ä¿®æ”¹å®ƒ, åœ¨å®ƒå‘¨å›´æ·»åŠ ä¸€äº›ä»£ç .</p><p>é‚£å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨å® trace æ‰€åšçš„äº‹æƒ…. æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ª quoted expressionï¼ˆä¾‹å¦‚ <code>1+2</code>ï¼‰, ç„¶åè¿”å›äº†è¿™ä¸ª:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = <span class="number">1</span> + <span class="number">2</span></span><br><span class="line"><span class="title class_">Tracer</span>.print(<span class="string">&quot;1 + 2&quot;</span>, result)</span><br><span class="line">result</span><br></pre></td></tr></table></figure><p>è¦åœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹è°ƒç”¨å®ï¼ˆåŒ…æ‹¬ shell é‡Œï¼‰, ä½ éƒ½å¿…é¡»å…ˆè°ƒç”¨ <code>require Tracer</code> æˆ– <code>import Tracer</code>. ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå®æœ‰ä¸¤ä¸ªçœ‹ä¼¼çŸ›ç›¾çš„æ€§è´¨:</p><ul><li>å®ä¹Ÿæ˜¯ Elixir ä»£ç </li><li>å®åœ¨åœ¨æœ€ç»ˆçš„å­—èŠ‚ç ç”Ÿæˆä¹‹å‰çš„å±•å¼€é˜¶æ®µè¿è¡Œ</li></ul><p>Elixir ä»£ç æ˜¯å¦‚ä½•åœ¨è¢«ç”Ÿæˆä¹‹å‰è¿è¡Œçš„ï¼Ÿå®ƒä¸èƒ½. è¦è°ƒç”¨ä¸€ä¸ªå®, å…¶å®¹å™¨æ¨¡å—ï¼ˆå®çš„å®šä¹‰æ‰€åœ¨çš„æ¨¡å—ï¼‰å¿…é¡»å·²ç»è¢«ç¼–è¯‘.</p><p>å› æ­¤, è¦è¿è¡Œ <code>Tracer</code> æ¨¡å—ä¸­æ‰€å®šä¹‰çš„å®, æˆ‘ä»¬å¿…é¡»ç¡®è®¤å®ƒå·²ç»è¢«ç¼–è¯‘äº†. ä¹Ÿå°±æ˜¯è¯´, æˆ‘ä»¬å¿…é¡»å‘ç¼–è¯‘å™¨æä¾›ä¸€ä¸ªå…³äºæˆ‘ä»¬æ‰€éœ€æ±‚çš„æ¨¡å—çš„é¡ºåº. å½“æˆ‘ä»¬ <code>require</code> äº†ä¸€ä¸ªæ¨¡å—, æˆ‘ä»¬ä¼šè®© <code>Elixir</code> æš‚åœå½“å‰æ¨¡å—çš„ç¼–è¯‘, ç›´åˆ°æˆ‘ä»¬ <code>require</code><br>çš„æ¨¡å—ç¼–è¯‘å¥½å¹¶è½½å…¥åˆ°äº†ç¼–è¯‘å™¨çš„è¿è¡Œæ—¶ï¼ˆç¼–è¯‘å™¨æ‰€åœ¨çš„ Erlang VM å®ä¾‹ï¼‰. åªæœ‰åœ¨ <code>Tracer</code> æ¨¡å—å®Œå…¨ç¼–è¯‘å¥½å¹¶å¯¹ç¼–è¯‘å™¨å¯ç”¨çš„æƒ…å†µä¸‹, æˆ‘ä»¬æ‰èƒ½è°ƒç”¨ <code>trace</code> å®.</p><p>ä½¿ç”¨ <code>import</code> ä¹Ÿæœ‰ç›¸åŒæ•ˆæœ, åªä¸è¿‡å®ƒè¿˜åœ¨è¯æ³•ä¸Šå¼•å…¥äº†æ‰€æœ‰çš„å…¬å…±å‡½æ•°å’Œå®, ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç”¨ <code>trace</code> æ›¿ä»£ <code>Tracer.trace</code>.</p><p>ç”±äºå®ä¹Ÿæ˜¯å‡½æ•°, è€Œ Elixir åœ¨è°ƒç”¨å‡½æ•°æ—¶å¯ä»¥çœç•¥æ‹¬å·, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Tracer</span>.trace <span class="number">1</span>+<span class="number">2</span></span><br></pre></td></tr></table></figure><p>è¿™å¾ˆå¯èƒ½æ˜¯ Elixir ä¹‹æ‰€ä»¥ä¸åœ¨å‡½æ•°è°ƒç”¨æ—¶è¦æ±‚æ‹¬å·çš„æœ€ä¸»è¦åŸå› . è®°ä½, å¤§å¤šæ•°è¯­è¨€ç»“æ„éƒ½æ˜¯å®. å¦‚æœæ‹¬å·æ˜¯å¿…é¡»çš„, é‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç¼–å†™çš„ä»£ç å°†ä¼šæ›´åŠ å˜ˆæ‚.</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span>(<span class="title">MyModule</span></span>, <span class="symbol">do:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span>(<span class="title">function_1</span></span>, <span class="symbol">do:</span> ...)</span><br><span class="line">  <span class="function"><span class="keyword">def</span>(<span class="title">function_2</span></span>, <span class="symbol">do:</span> ...)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="Hygiene"><a href="#Hygiene" class="headerlink" title="Hygiene"></a>Hygiene</h2><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬æåˆ°, å®é»˜è®¤æ˜¯æ•´æ´ï¼ˆHygieneï¼‰çš„. æ„æ€å°±æ˜¯å®å¼•å…¥çš„å˜é‡æœ‰å…¶è‡ªå·±çš„ç§æœ‰ä½œç”¨åŸŸ, ä¸ä¼šå½±å“ä»£ç çš„å…¶ä»–éƒ¨åˆ†. . è¿™å°±æ˜¯æˆ‘ä»¬èƒ½å¤Ÿåœ¨æˆ‘ä»¬çš„ <code>trace</code> å®ä¸­å®‰å…¨åœ°å¼•å…¥ result å˜é‡çš„åŸå› :</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">  result = <span class="keyword">unquote</span>(expression_ast)  <span class="comment"># result æ˜¯å®çš„ç§æœ‰å˜é‡</span></span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¯¥å˜é‡ä¸ä¼šå¹²æ‰°è°ƒç”¨è¿™ä¸ªå®çš„ä»£ç . åœ¨è°ƒç”¨å®çš„åœ°æ–¹, å¯ä»¥éšæ„çš„å£°æ˜ä½ è‡ªå·±çš„ <code>result</code> å˜é‡, å®ƒä¸ä¼šè¢« <code>tracer</code> å®ä¸­çš„ <code>result</code> å˜é‡éšè—.</p><p>å¤§å¤šæ•°æ—¶å€™ <code>hygiene</code> æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ, ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–. æœ‰æ—¶å€™, å¯èƒ½éœ€è¦åˆ›å»ºåœ¨è°ƒç”¨è€…ä½œç”¨åŸŸå†…å¯ç”¨çš„å˜é‡. ä¸‹é¢æˆ‘ä»¬é€šè¿‡ <code>Plug</code> åº“çš„ä¸€ä¸ªç”¨ä¾‹æ¥æ¼”ç¤º, æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ <code>Plug</code> æ¥åˆ¶å®šè·¯ç”±:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">get <span class="string">&quot;/resource1&quot;</span> <span class="keyword">do</span></span><br><span class="line">  send_resp(conn, <span class="number">200</span>, ...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">post <span class="string">&quot;/resource2&quot;</span> <span class="keyword">do</span></span><br><span class="line">  send_resp(conn, <span class="number">200</span>, ...)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„, ä¸Šé¢è¿™ä¸¤ä¸ªå®æ˜¯å¦‚ä½•ä½¿ç”¨å¹¶ä¸å­˜åœ¨çš„ <code>conn</code> å˜é‡. è¿™æ˜¯å› ä¸º, <code>get</code> å®åœ¨ç”Ÿæˆçš„ä»£ç ä¸­ç»‘å®šäº†è¯¥å˜é‡. å¯ä»¥æƒ³è±¡ä¸€ä¸‹, äº§ç”Ÿçš„ä»£ç å¦‚ä¸‹:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defp</span> <span class="title">do_match</span></span>(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/resource1&quot;</span>, conn) <span class="keyword">do</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">defp</span> <span class="title">do_match</span></span>(<span class="string">&quot;POST&quot;</span>, <span class="string">&quot;/resource2&quot;</span>, conn) <span class="keyword">do</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„: <code>Plug</code> äº§ç”Ÿçš„çœŸå®ä»£ç æ˜¯ä¸åŒçš„, è¿™é‡Œä¸ºäº†æ¼”ç¤ºå¯¹å…¶è¿›è¡Œäº†ç®€åŒ–.</p><p>è¿™æ˜¯ä¸€ä¸ªä¾‹å­, å®å¼•å…¥äº†ä¸€ä¸ªå˜é‡, å®ƒå¿…é¡»ä¸æ˜¯ <code>hygienic</code> çš„. å˜é‡ <code>conn</code> ç”± <code>get</code> å®å¼•å…¥, å¿…é¡»å¯¹è°ƒç”¨è€…å¯è§.</p><p>å¦ä¸€ä¸ªä¾‹å­æ˜¯ä½¿ç”¨ ExActor çš„. çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">MyServer</span></span> <span class="keyword">do</span></span><br><span class="line">  ...</span><br><span class="line">  defcall my_request(...), <span class="symbol">do:</span> reply(result)</span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ å¯¹ <code>GenServer</code> å¾ˆç†Ÿæ‚‰, é‚£ä¹ˆä½ çŸ¥é“ä¸€ä¸ª <code>call</code> çš„ç»“æœå¿…é¡»æ˜¯ <code>&#123;:reply, response, state&#125;</code> çš„å½¢å¼. ç„¶è€Œ, åœ¨ä¸Šè¿°ä»£ç ä¸­, ç”šè‡³æ²¡æœ‰æåˆ° <code>state</code>. é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦‚ä½•è¿”å› <code>state</code> çš„å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º <code>defcall</code> å®ç”Ÿæˆäº†ä¸€ä¸ªéšè—çš„<code>state</code> å˜é‡, å®ƒä¹‹åå°†è¢« <code>reply</code> å®æ˜ç¡®ä½¿ç”¨.</p><p>åœ¨ä¸Šé¢ä¸¤ç§æƒ…å†µä¸­, å®éƒ½å¿…é¡»åˆ›å»ºä¸€ä¸ªä¸ hygienic çš„å˜é‡, è€Œä¸”å¿…é¡»åœ¨å®æ‰€å¼•ç”¨çš„ä»£ç ä¹‹å¤–å¯è§. ä¸ºè¾¾åˆ°è¿™ä¸ªç›®çš„, å¯ä»¥ä½¿ç”¨ <code>var!</code> ç»“æ„. ä¸‹é¢æ˜¯ <code>Plug</code>çš„ <code>get</code> å®çš„ç®€åŒ–ç‰ˆæœ¬:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">get</span></span>(route, body) <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="function"><span class="keyword">defp</span> <span class="title">do_match</span></span>(<span class="string">&quot;GET&quot;</span>, <span class="keyword">unquote</span>(route), var!(conn)) <span class="keyword">do</span></span><br><span class="line">      <span class="comment"># put body AST here</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ <code>var!(conn)</code> çš„. é€šè¿‡è¿™æ ·åš, æˆ‘ä»¬æŒ‡å®š <code>conn</code> æ˜¯ä¸€ä¸ªå¯¹è°ƒç”¨è€…å¯è§çš„å˜é‡.</p><p>ä¸Šè¿°ä»£ç æ²¡æœ‰è§£é‡Š body æ˜¯å¦‚ä½•æ³¨å…¥çš„. åœ¨è¿™ä¹‹å‰, ä½ éœ€è¦ç†è§£å®æ‰€æ¥å—çš„å‚æ•°.</p><h2 id="å®å‚æ•°"><a href="#å®å‚æ•°" class="headerlink" title="å®å‚æ•°"></a>å®å‚æ•°</h2><p>ä½ è¦è®°ä½, å®æœ¬è´¨ä¸Šæ˜¯åœ¨æ‰©å±•é˜¶æ®µè¢«å¯¼å…¥çš„ Elixir å‡½æ•°, ç„¶åç”Ÿæˆæœ€ç»ˆçš„ AST. å®çš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºå®ƒæ‰€æ¥å—çš„å‚æ•°éƒ½æ˜¯quoted çš„. è¿™å°±æ˜¯æˆ‘ä»¬ä¹‹æ‰€ä»¥èƒ½å¤Ÿè°ƒç”¨:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_fun</span></span> <span class="keyword">do</span></span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç­‰åŒäº:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span>(<span class="title">my_fun</span></span>, <span class="symbol">do:</span> (...))</span><br></pre></td></tr></table></figure><p>æ³¨æ„æˆ‘ä»¬å¦‚ä½•è°ƒç”¨ <code>def</code> å®, ä¼ é€’ <code>my_fun</code>, å³ä½¿è¿™ä¸ªå˜é‡ä¸å­˜åœ¨. è¿™å®Œå…¨æ²¡é—®é¢˜, å› ä¸ºæˆ‘ä»¬å®é™…ä¸Šä¼ é€’çš„æ˜¯ <code>quote(do: my_fun)</code> çš„ç»“æœ, è€Œå¼•ç”¨ï¼ˆquoteï¼‰ä¸è¦æ±‚å˜é‡å­˜åœ¨. åœ¨å†…éƒ¨, <code>def</code> å®ä¼šæ¥æ”¶åˆ°åŒ…å«äº† <code>:my_fun</code> çš„å¼•ç”¨å½¢å¼. <code>def</code> å®ä¼šä½¿ç”¨è¿™ä¸ªä¿¡æ¯æ¥ç”Ÿæˆå¯¹åº”åç§°çš„å‡½æ•°.</p><p>è¿™é‡Œå†æä¸€ä¸‹ <code>do...end</code> å—. ä»»ä½•æ—¶å€™å‘é€ä¸€ä¸ª <code>do...end</code> å—ç»™ä¸€ä¸ªå®, éƒ½ç›¸å½“äºå‘é€ä¸€ä¸ªå¸¦æœ‰ <code>:do</code> é”®çš„å…³é”®è¯åˆ—è¡¨ï¼ˆkeywords listï¼‰.</p><p>æ‰€ä»¥å¦‚ä¸‹è°ƒç”¨:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my_macro arg1, arg2 <span class="keyword">do</span> ... <span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç­‰åŒäº</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my_macro(arg1, arg2, <span class="symbol">do:</span> ...)</span><br></pre></td></tr></table></figure><p>è¿™äº›åªä¸è¿‡æ˜¯ Elixir ä¸­çš„è¯­æ³•ç³–. è§£é‡Šå™¨å°† <code>do ... end</code> è½¬æ¢æˆäº† <code>&#123;:do, ...&#125;</code>.</p><p>ç°åœ¨, æˆ‘åªæåˆ°äº†å‚æ•°æ˜¯è¢«å¼•ç”¨ï¼ˆquotedï¼‰çš„. ç„¶è€Œ, å¯¹äºè®¸å¤šå¸¸é‡ï¼ˆåŸå­, æ•°å­—, å­—ç¬¦ä¸²ï¼‰, å¼•ç”¨ï¼ˆquotedï¼‰å½¢å¼å’Œè¾“å…¥å€¼å®Œå…¨ä¸€æ ·. æ­¤å¤–, äºŒå…ƒå…ƒç»„å’Œåˆ—è¡¨ä¼šåœ¨è¢«å¼•ç”¨ï¼ˆquotedï¼‰æ—¶ä¿æŒå®ƒä»¬çš„ç»“æ„. è¿™æ„å‘³ç€ <code>quote(do: &#123;a, b&#125;)</code> å°†ä¼šè¿”å›ä¸€ä¸ªäºŒå…ƒå…ƒç»„, å®ƒçš„ä¸¤ä¸ªå€¼éƒ½æ˜¯è¢«å¼•ç”¨ï¼ˆquotedï¼‰çš„.</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> <span class="symbol">:an_atom</span> <span class="keyword">end</span></span><br><span class="line"><span class="symbol">:an_atom</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">2</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> <span class="string">&quot;a string&quot;</span> <span class="keyword">end</span></span><br><span class="line"><span class="string">&quot;a string&quot;</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">3</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> <span class="number">3.14</span> <span class="keyword">end</span></span><br><span class="line"><span class="number">3.14</span></span><br><span class="line"></span><br><span class="line">iex(<span class="number">4</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> &#123;<span class="number">1</span>,<span class="number">2</span>&#125; <span class="keyword">end</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line">iex(<span class="number">5</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>] <span class="keyword">end</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure><p>å¯¹ä¸‰å…ƒå…ƒç»„çš„å¼•ç”¨ï¼ˆquotedï¼‰ä¸ä¼šä¿ç•™å®ƒçš„å½¢çŠ¶:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">6</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125; <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:</span>&#123;&#125;, [], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºåˆ—è¡¨å’ŒäºŒå…ƒå…ƒç»„åœ¨è¢«å¼•ç”¨æ—¶èƒ½ä¿ç•™ç»“æ„, æ‰€ä»¥å…³é”®è¯åˆ—è¡¨ï¼ˆ<a href="https://hexdocs.pm/elixir/1.12/Keyword.html">keywords list</a>ï¼‰ä¹Ÿå¯ä»¥:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">7</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> [<span class="symbol">a:</span> <span class="number">1</span>, <span class="symbol">b:</span> <span class="number">2</span>] <span class="keyword">end</span></span><br><span class="line">[<span class="symbol">a:</span> <span class="number">1</span>, <span class="symbol">b:</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">iex(<span class="number">8</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> [<span class="symbol">a:</span> x, <span class="symbol">b:</span> y] <span class="keyword">end</span></span><br><span class="line">[<span class="symbol">a:</span> &#123;<span class="symbol">:x</span>, [], <span class="title class_">Elixir</span>&#125;, <span class="symbol">b:</span> &#123;<span class="symbol">:y</span>, [], <span class="title class_">Elixir</span>&#125;]</span><br></pre></td></tr></table></figure><p>åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­, ä½ å¯ä»¥çœ‹åˆ°è¾“å…¥çš„å…³é”®è¯åˆ—è¡¨å®Œå…¨æ²¡å˜. ç¬¬äºŒä¸ªä¾‹å­è¯æ˜äº†å¤æ‚çš„éƒ¨åˆ†ï¼ˆä¾‹å¦‚è°ƒç”¨ <code>x</code>å’Œ <code>y</code>ï¼‰ä¼šæ˜¯ quoted å½¢å¼. ä½†æ˜¯åˆ—è¡¨è¿˜ä¿æŒç€å®ƒçš„å½¢çŠ¶. è¿™ä»ç„¶æ˜¯ä¸€ä¸ªé”®ä¸º <code>:a</code> å’Œ <code>:b</code> çš„å…³é”®è¯åˆ—è¡¨.</p><h2 id="å°†å®ƒä»¬æ”¾åœ¨ä¸€èµ·"><a href="#å°†å®ƒä»¬æ”¾åœ¨ä¸€èµ·" class="headerlink" title="å°†å®ƒä»¬æ”¾åœ¨ä¸€èµ·"></a>å°†å®ƒä»¬æ”¾åœ¨ä¸€èµ·</h2><p>ä¸ºä»€ä¹ˆè¿™äº›éƒ½å¾ˆé‡è¦? å› ä¸ºåœ¨å®ä»£ç ä¸­, æ‚¨å¯ä»¥å¾ˆå®¹æ˜“åœ°ä»å…³é”®å­—åˆ—è¡¨ä¸­è·å–æ‰€éœ€è¦çš„é€‰é¡¹, è€Œä¸éœ€è¦åˆ†æä¸€äº›ä»¤äººè´¹è§£çš„AST. ä¹‹å‰, æˆ‘ä»¬ç•™ä¸‹äº†è¿™ä¸ªè‰å›¾ä»£ç :</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">get</span></span>(route, body) <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="function"><span class="keyword">defp</span> <span class="title">do_match</span></span>(<span class="string">&quot;GET&quot;</span>, <span class="keyword">unquote</span>(route), var!(conn)) <span class="keyword">do</span></span><br><span class="line">      <span class="comment"># put body AST here</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è®°ä½, <code>do ... end</code> å’Œ <code>do: ...</code> æ˜¯ä¸€æ ·çš„, æ‰€ä»¥å½“æˆ‘ä»¬è°ƒç”¨ <code>get route do ... end</code> æ—¶, æˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨è°ƒç”¨ <code>get(route, do: ...)</code> è®°ä½å®å‚æ•°æ˜¯ quoted çš„, ä½†ä¹Ÿè¦çŸ¥é“ quoted çš„å…³é”®å­—åˆ—è¡¨ä¿æŒå®ƒä»¬çš„å½¢çŠ¶, å¯ä»¥ä½¿ç”¨ <code>body[:do]</code>è·å–å®ä¸­å¼•ç”¨çš„ä¸»ä½“:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">defmacro</span> <span class="title">get</span></span>(route, body) <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">    <span class="function"><span class="keyword">defp</span> <span class="title">do_match</span></span>(<span class="string">&quot;GET&quot;</span>, <span class="keyword">unquote</span>(route), var!(conn)) <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">unquote</span>(body[<span class="symbol">:do</span>])</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å› æ­¤, æˆ‘ä»¬åªéœ€å°† quoted çš„è¾“å…¥ä¸»ä½“æ³¨å…¥åˆ°æ­£åœ¨ç”Ÿæˆçš„ <code>do_match</code> å­å¥ï¼ˆclauseï¼‰ä¸»ä½“ä¸­.</p><p>å¦‚ä¹‹å‰æ‰€è¿°, è¿™å°±æ˜¯å®çš„ç”¨é€”. å®ƒæ¥æ”¶ä¸€äº› AST ç‰‡æ®µ, å¹¶å°†å®ƒä»¬ä¸æ ·æ¿ä»£ç ç»„åˆåœ¨ä¸€èµ·, ä»¥ç”Ÿæˆæœ€ç»ˆç»“æœ. ç†æƒ³æƒ…å†µä¸‹, å½“æˆ‘ä»¬è¿™æ ·åšæ—¶, æˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¾“å…¥ AST çš„å†…å®¹, åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­, æˆ‘ä»¬åªéœ€è¦åœ¨ç”Ÿæˆçš„å‡½æ•°ä¸­æ³¨å…¥å‡½æ•°ä½“, è€Œä¸éœ€è¦å…³å¿ƒå‡½æ•°ä½“ä¸­å®é™…æœ‰ä»€ä¹ˆ.</p><p>æµ‹è¯•è¿™ä¸ªå®å¾ˆç®€å•. ä»¥ä¸‹æ˜¯æ‰€éœ€ä»£ç çš„æœ€å°åŒ–:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Plug.Router</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># å® get ä»å®¢æˆ·ç«¯åˆ é™¤æ ·æ¿ä»£ç </span></span><br><span class="line">  <span class="comment"># ç¡®ä¿ç”Ÿæˆçš„ä»£ç ç¬¦åˆæ³›å‹é€»è¾‘æ‰€éœ€çš„ä¸€äº›æ ‡å‡†</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">get</span></span>(route, body) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">      <span class="function"><span class="keyword">defp</span> <span class="title">do_match</span></span>(<span class="string">&quot;GET&quot;</span>, <span class="keyword">unquote</span>(route), var!(conn)) <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">unquote</span>(body[<span class="symbol">:do</span>])</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨, æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªå®¢æˆ·ç«¯æ¨¡å—:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">MyRouter</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">import</span> <span class="title class_">Plug</span>.<span class="title class_">Router</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># å¤šå­å¥ dispatch çš„é€šç”¨ä»£ç </span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">match</span></span>(type, route) <span class="keyword">do</span></span><br><span class="line">    do_match(type, route, <span class="symbol">:dummy_connection</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># ä½¿ç”¨å®æœ€å°åŒ–æ ·æ¿ä»£ç é‡</span></span><br><span class="line">  get <span class="string">&quot;/hello&quot;</span>, <span class="symbol">do:</span> &#123;conn, <span class="string">&quot;Hi!&quot;</span>&#125;</span><br><span class="line">  get <span class="string">&quot;/goodbye&quot;</span>, <span class="symbol">do:</span> &#123;conn, <span class="string">&quot;Bye!&quot;</span>&#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä¸€ä¸‹:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">MyRouter</span>.match(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/hello&quot;</span>) |&gt; <span class="title class_">IO</span>.inspect</span><br><span class="line"><span class="comment"># &#123;:dummy_connection, &quot;Hi!&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">MyRouter</span>.match(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/goodbye&quot;</span>) |&gt; <span class="title class_">IO</span>.inspect</span><br><span class="line"><span class="comment"># &#123;:dummy_connection, &quot;Bye!&quot;&#125;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ <code>match/2</code> çš„ä»£ç . å®ƒæ˜¯é€šç”¨çš„ä»£ç , ä¾èµ–äº <code>do_match/3</code> çš„å®ç°.</p><h2 id="ä½¿ç”¨æ¨¡å—"><a href="#ä½¿ç”¨æ¨¡å—" class="headerlink" title="ä½¿ç”¨æ¨¡å—"></a>ä½¿ç”¨æ¨¡å—</h2><p>è§‚å¯Ÿä¸Šè¿°ä»£ç , ä½ å¯ä»¥çœ‹åˆ° <code>match/2</code> çš„èƒ¶æ°´ä»£ç å­˜åœ¨äºå®¢æˆ·ç«¯æ¨¡å—ä¸­. è¿™è‚¯å®šç®—ä¸ä¸Šå®Œç¾, å› ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯éƒ½å¿…é¡»æä¾›å¯¹è¿™ä¸ªå‡½æ•°çš„æ­£ç¡®å®ç°, è€Œä¸”å¿…é¡»è°ƒç”¨ <code>do_match</code> å‡½æ•°.</p><p>æ›´å¥½çš„é€‰æ‹©æ˜¯, <code>Plug.Router</code> èƒ½å¤Ÿå°†è¿™ä¸ªå®ç°æŠ½è±¡æä¾›ç»™æˆ‘ä»¬. æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>use</code> å®, å¤§æ¦‚å°±æ˜¯å…¶å®ƒè¯­è¨€ä¸­çš„ mixin.</p><p>æ€»ä½“æ€è·¯å¦‚ä¸‹:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">ClientCode</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># è°ƒç”¨ mixin</span></span><br><span class="line">  <span class="keyword">use</span> <span class="title class_">GenericCode</span>, <span class="symbol">option_1:</span> value_1, <span class="symbol">option_2:</span> value_2, ...</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">GenericCode</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># åœ¨æ¨¡å—è¢«ä½¿ç”¨çš„æ—¶å€™è°ƒç”¨</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">__using__</span></span>(options) <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># ç”Ÿæˆä¸€ä¸ªAST, è¯¥ AST å°†è¢«æ’å…¥åˆ° use çš„åœ°æ–¹</span></span><br><span class="line">    <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">      ...</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å› æ­¤, ä½¿ç”¨ <code>use</code> æœºåˆ¶å…è®¸æˆ‘ä»¬å‘è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­æ³¨å…¥ä¸€äº›ä»£ç . å°±åƒæ˜¯æ›¿ä»£äº†è¿™äº›:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">ClientCode</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">require</span> <span class="title class_">GenericCode</span></span><br><span class="line">  <span class="title class_">GenericCode</span>.__using__(...)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™å¯ä»¥é€šè¿‡æŸ¥çœ‹ Elixir çš„<a href="https://github.com/elixir-lang/elixir/blob/v0.14.0/lib/elixir/lib/kernel.ex#L3531-L3532">æºä»£ç </a>æ¥è¯æ˜. è¿™è¯æ˜äº†å¦ä¸€ç‚¹ â€” ä¸æ–­å±•å¼€. <code>use</code> å®ç”Ÿæˆè°ƒç”¨å¦ä¸€ä¸ªå®çš„ä»£ç . æˆ–è€…æ›´å·§å¦™åœ°è¯´, ç”¨ç”Ÿæˆä»£ç æ¥ç”Ÿæˆä»£ç . æ­£å¦‚å‰é¢æåˆ°çš„, ç¼–è¯‘å™¨ä¼šé€’å½’åœ°å±•å¼€å®ƒæ‰€å‘ç°çš„æ‰€æœ‰å®å®šä¹‰, ç›´åˆ°æ²¡æœ‰å¯å±•å¼€çš„å®ä¸ºæ­¢..</p><p>æœ‰äº†è¿™äº›çŸ¥è¯†, æˆ‘ä»¬å¯ä»¥å°† <code>match</code> å‡½æ•°çš„å®ç°è½¬ç§»åˆ°é€šç”¨çš„ <code>Plug.Router</code> æ¨¡å—:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Plug.Router</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">__using__</span></span>(_options) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">import</span> <span class="title class_">Plug</span>.<span class="title class_">Router</span></span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">match</span></span>(type, route) <span class="keyword">do</span></span><br><span class="line">        do_match(type, route, <span class="symbol">:dummy_connection</span>)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">get</span></span>(route, body) <span class="keyword">do</span></span><br><span class="line">    ... <span class="comment"># è¿™æ®µä»£ç ä¿æŒä¸å˜</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è¿™ä½¿å¾—å®¢æˆ·ç«¯ä»£ç éå¸¸ç²¾ç®€:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">MyRouter</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">use</span> <span class="title class_">Plug</span>.<span class="title class_">Router</span></span><br><span class="line"></span><br><span class="line">  get <span class="string">&quot;/hello&quot;</span>, <span class="symbol">do:</span> &#123;conn, <span class="string">&quot;Hi!&quot;</span>&#125;</span><br><span class="line">  get <span class="string">&quot;/goodbye&quot;</span>, <span class="symbol">do:</span> &#123;conn, <span class="string">&quot;Bye!&quot;</span>&#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p><code>__using__</code> å®ç”Ÿæˆçš„ AST ä¼šç®€å•åœ°è¢«æ³¨å…¥åˆ°è°ƒç”¨ <code>use Plug.Router</code> çš„åœ°æ–¹. ç‰¹åˆ«æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•ä» <code>__using__</code> å®é‡Œä½¿ç”¨ <code>import Plug.Router</code> çš„, è¿™ä¸æ˜¯å¿…è¦çš„. ä½†è¿™è®©ä½ å¯ä»¥ä½¿ç”¨ <code>get</code> æ›¿ä»£ä½¿ç”¨ <code>Plug.Router.get</code>.</p><p>é‚£ä¹ˆæˆ‘ä»¬å¾—åˆ°äº†ä»€ä¹ˆï¼Ÿå„ç§æ ·æ¿ä»£ç æ±‡é›†åˆ°äº†ä¸€ä¸ªåœ°æ–¹ï¼ˆ<code>Plug.Router</code>). ä¸ä»…ä»…ç®€åŒ–äº†å®¢æˆ·ç«¯ä»£ç , ä¹Ÿè®©è¿™ä¸ªæŠ½è±¡æ­£ç¡®é—­åˆ. æ¨¡å— <code>Plug.Router</code>ç¡®ä¿äº† <code>get</code> å®æ‰€ç”Ÿæˆçš„ä»»ä½•ä¸œè¥¿éƒ½èƒ½é€‚åˆä½¿ç”¨ <code>match</code> çš„é€šç”¨ä»£ç . åœ¨å®¢æˆ·ç«¯ä¸­, æˆ‘ä»¬åªè¦ <code>use</code>é‚£ä¸ªæ¨¡å—, ç„¶åç”¨å®ƒæä¾›çš„å®æ¥ç»„åˆæˆ‘ä»¬çš„ router.</p><p>æ€»ç»“ä¸€ä¸‹æœ¬ç« çš„å†…å®¹. è®¸å¤šç»†èŠ‚æ²¡æœ‰æåˆ°, ä½†å¸Œæœ›ä½ å¯¹äºå®æ˜¯å¦‚ä½•ä¸ Elixir ç¼–è¯‘å™¨ç›¸ç»“åˆçš„æœ‰äº†æ›´å¥½çš„ç†è§£. åœ¨ä¸‹ä¸€éƒ¨åˆ†, æˆ‘ä»¬ä¼šæ›´æ·±å…¥, å¹¶å¼€å§‹æ¢ç´¢å¦‚ä½•åˆ†è§£è¾“å…¥çš„ AST.</p><h2 id="é™„æ³¨"><a href="#é™„æ³¨" class="headerlink" title="é™„æ³¨"></a>é™„æ³¨</h2><ul><li>mixin: Mixin å³ Mix-in, å¸¸è¢«è¯‘ä¸º â€œæ··å…¥â€, æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å¼, åœ¨ Python ç­‰é¢å‘å¯¹è±¡è¯­è¨€ä¸­, é€šå¸¸å®ƒæ˜¯å®ç°äº†æŸç§åŠŸèƒ½å•å…ƒçš„ç±», ç”¨äºè¢«å…¶ä»–å­ç±»ç»§æ‰¿, å°†åŠŸèƒ½ç»„åˆåˆ°å­ç±»ä¸­.</li></ul><blockquote><p>åŸæ–‡: <a href="https://www.theerlangelist.com/article/macros_2">https://www.theerlangelist.com/article/macros_2</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Elixir </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir-Macros </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(è¯‘) Understanding Elixir Macros, Part 1 Basics</title>
      <link href="/2022/06/18/understanding-elixir-macros-part-1-basics/"/>
      <url>/2022/06/18/understanding-elixir-macros-part-1-basics/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡</p><ul><li>[1] <a href="https://shan333.cn/2022/06/18/understanding-elixir-macros-part-1-basics/">(è¯‘) Understanding Elixir Macros, Part 1 Basics</a></li><li>[2] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-2-macro-theory/">(è¯‘) Understanding Elixir Macros, Part 2 - Micro Theory</a></li><li>[3] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-3-gettingto-the-ast/">(è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST</a></li><li>[4] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-4-diving-deeper/">(è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper</a></li><li>[5] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/">(è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST</a></li><li>[6] <a href="https://shan333.cn/2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/">(è¯‘) Understanding Elixir Macros, Part 6 - In-place Code Generation</a><br>åŸæ–‡ <a href="https://github.com/sasa1977/erlangelist/blob/master/site/articles/macros_1.md">GitHub</a> ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡.</li></ul></blockquote><p>è¿™æ˜¯è®¨è®ºå® (Macros) å¾®ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€ç¯‡. æˆ‘åŸæœ¬è®¡åˆ’åœ¨æˆ‘å³å°†å‡ºç‰ˆçš„<a href="https://book.douban.com/subject/25897187/">ã€ŠElixir in Actionã€‹</a>ä¸€ä¹¦ä¸­è®¨è®ºè¿™ä¸ªä¸»é¢˜, ä½†æœ€ç»ˆå†³å®šä¸è¿™ä¹ˆåš, å› ä¸ºè¿™ä¸ªä¸»é¢˜ä¸ç¬¦åˆè¿™æœ¬ä¹¦çš„ä¸»é¢˜, è¿™æœ¬ä¹¦æ›´å…³æ³¨åº•å±‚ VM å’Œ OTP çš„å…³é”®éƒ¨åˆ†.</p><p>å°±æˆ‘ä¸ªäººè€Œè¨€, æˆ‘è§‰å¾—å®çš„ä¸»é¢˜éå¸¸æœ‰è¶£, åœ¨æœ¬ç³»åˆ—æ–‡ç« ä¸­, æˆ‘å°†è¯•å›¾è§£é‡Šå®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„, æä¾›ä¸€äº›å…³äºå¦‚ä½•ç¼–å†™å®çš„åŸºæœ¬æŠ€å·§å’Œå»ºè®®. è™½ç„¶æˆ‘ç¡®ä¿¡ç¼–å†™å®ä¸æ˜¯å¾ˆéš¾, ä½†ä¸æ™®é€šçš„ Elixir ä»£ç ç›¸æ¯”, å®ƒç¡®å®éœ€è¦æ›´é«˜è§†è§’çš„å…³æ³¨. å› æ­¤, æˆ‘è®¤ä¸ºè¿™äº†è§£ Elixir ç¼–è¯‘å™¨çš„ä¸€äº›å†…éƒ¨ç»†èŠ‚æ˜¯éå¸¸æœ‰å¸®åŠ©çš„. äº†è§£äº‹æƒ…åœ¨å¹•åæ˜¯å¦‚ä½•è¿è¡Œä¹‹å, å°±å¯ä»¥æ›´å®¹æ˜“åœ°ç†è§£å…ƒç¼–ç¨‹ä»£ç .</p><p>è¿™æ˜¯ç¯‡ä¸­çº§æ°´å¹³çš„æ–‡ç« . å¦‚æœä½ å¾ˆç†Ÿæ‚‰ Elixir å’Œ Erlang, ä½†å¯¹å®è¿˜æ„Ÿè§‰åˆ°å›°æƒ‘, é‚£ä¹ˆè¿™äº›å†…å®¹å¾ˆé€‚åˆä½ . å¦‚æœä½ åˆšå¼€å§‹æ¥è§¦ Elixir å’Œ Erlang, é‚£ä¹ˆæœ€å¥½ä»å…¶å®ƒåœ°æ–¹å¼€å§‹. æ¯”å¦‚ <a href="https://elixir-lang.org/getting-started/introduction.html">Getting started guide</a>, æˆ–è€…ä¸€äº›å¯é çš„ä¹¦.</p><h2 id="å…ƒç¼–ç¨‹-Meta-programming"><a href="#å…ƒç¼–ç¨‹-Meta-programming" class="headerlink" title="å…ƒç¼–ç¨‹ (Meta-programming)"></a>å…ƒç¼–ç¨‹ (Meta-programming)</h2><p>æˆ–è®¸ä½ å·²ç»å¯¹ Elixir ä¸­çš„å…ƒç¼–ç¨‹æœ‰ä¸€ç‚¹äº†è§£. å…¶ä¸»è¦çš„æ€æƒ³å°±æ˜¯æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€äº›ä»£ç , å®ƒä»¬ä¼šæ ¹æ®æŸäº›è¾“å…¥æ¥ç”Ÿæˆä»£ç .</p><p>æ­£å› ä¸ºæœ‰äº†å® (Macros), æˆ‘ä»¬å¯ä»¥å†™å‡ºå¦‚ä¸‹è¿™æ®µæ¥è‡ªäº <a href="https://github.com/elixir-plug/plug/blob/274e44f9a149b922099bf60029d8267afe494968/lib/plug/router.ex#L354">Plug</a> çš„ä»£ç :</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">get <span class="string">&quot;/hello&quot;</span> <span class="keyword">do</span></span><br><span class="line">  send_resp(conn, <span class="number">200</span>, <span class="string">&quot;world&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">match _ <span class="keyword">do</span></span><br><span class="line">  send_resp(conn, <span class="number">404</span>, <span class="string">&quot;oops&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…æ˜¯æ¥è‡ª ExActor çš„</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">SumServer</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">use</span> <span class="title class_">ExActor</span>.<span class="title class_">GenServer</span></span><br><span class="line"></span><br><span class="line">  defcall sum(x, y), <span class="symbol">do:</span> reply(x+y)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šä¸¤ä¸ªä¾‹å­ä¸­, æˆ‘ä»¬ä½¿ç”¨åˆ°äº†ä¸€äº›è‡ªå®šä¹‰çš„å®, è¿™äº›å®ä¼šåœ¨ç¼–è¯‘æ—¶ (compile time) éƒ½è½¬åŒ–æˆå…¶å®ƒçš„ä»£ç . è°ƒç”¨ Plug çš„ get å’Œ match ä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°, è€Œ ExActor çš„ defcall ä¼šç”Ÿæˆä¸¤ä¸ªå‡½æ•°å’Œå°†å‚æ•°æ­£ç¡®ä»å®¢æˆ·ç«¯è¿›ç¨‹ä¼ æ’­ç»™æœåŠ¡ç«¯è¿›ç¨‹çš„ä»£ç .</p><p>Elixir æœ¬èº«å°±éå¸¸å¤šåœ°ç”¨åˆ°äº†å®. ä¾‹å¦‚ defmodule, def, if, unless, ç”šè‡³ defmacro éƒ½æ˜¯å®. è¿™ä½¿å¾—è¯­è¨€çš„æ ¸å¿ƒèƒ½ä¿æŒæœ€å°åŒ–, æ—¥åå¯¹è¯­è¨€çš„æ‰©å±•å°±ä¼šæ›´åŠ ç®€å•.</p><p>é²œä¸ºäººçŸ¥çš„æ˜¯, å®å¯ä»¥è®©æˆ‘ä»¬å¯ä»¥æœ‰åŠ¨æ€ (on the fly) ç”Ÿæˆå‡½æ•°çš„å¯èƒ½æ€§:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Fsm</span></span> <span class="keyword">do</span></span><br><span class="line">  fsm = [</span><br><span class="line">    <span class="symbol">running:</span> &#123;<span class="symbol">:pause</span>, <span class="symbol">:paused</span>&#125;,</span><br><span class="line">    <span class="symbol">running:</span> &#123;<span class="symbol">:stop</span>, <span class="symbol">:stopped</span>&#125;,</span><br><span class="line">    <span class="symbol">paused:</span> &#123;<span class="symbol">:resume</span>, <span class="symbol">:running</span>&#125;</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm <span class="keyword">do</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">unquote</span></span>(action)(<span class="keyword">unquote</span>(state)), <span class="symbol">do:</span> <span class="keyword">unquote</span>(next_state)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">initial</span></span>, <span class="symbol">do:</span> <span class="symbol">:running</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Fsm</span>.initial</span><br><span class="line"><span class="comment"># :running</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Fsm</span>.initial |&gt; <span class="title class_">Fsm</span>.pause</span><br><span class="line"><span class="comment"># :paused</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Fsm</span>.initial |&gt; <span class="title class_">Fsm</span>.pause |&gt; <span class="title class_">Fsm</span>.pause</span><br><span class="line"><span class="comment"># ** (FunctionClauseError) no function clause matching in Fsm.pause/1</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œ, æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª Fsm module, åŒæ ·çš„, å®ƒåœ¨ç¼–è¯‘æ—¶ä¼šè½¬æ¢æˆå“åº”çš„å¤šå­å¥å‡½æ•° (multi-clause functions).</p><p>ç±»ä¼¼çš„æŠ€æœ¯è¢« Elixir ç”¨äºç”Ÿæˆ <code>String.Unicode</code> æ¨¡å—. æœ¬è´¨ä¸Šè®², è¿™ä¸ªæ¨¡å—æ˜¯é€šè¿‡è¯»å– <code>UnicodeData.txt</code> å’Œ<code>SpecialCasing.txt</code> æ–‡ä»¶é‡Œå¯¹ç ä½ (codepoints) çš„æè¿°æ¥ç”Ÿæˆçš„. åŸºäºæ–‡ä»¶ä¸­çš„æ•°æ®, å„ç§å‡½æ•° (ä¾‹å¦‚ upcase, downcase) ä¼šè¢«ç”Ÿæˆ.</p><p>æ— è®ºæ˜¯å®è¿˜æ˜¯ä»£ç ç”Ÿæˆ, æˆ‘ä»¬éƒ½åœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­å¯¹æŠ½è±¡è¯­æ³•æ ‘åšäº†æŸäº›å˜æ¢. ä¸ºäº†ç†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„, ä½ éœ€è¦å­¦ä¹ ä¸€ç‚¹ç¼–è¯‘è¿‡ç¨‹å’ŒASTçš„çŸ¥è¯†.</p><p>æ— è®ºæ˜¯å®è¿˜æ˜¯åŸåœ°ä»£ç ç”Ÿæˆ, æˆ‘ä»¬éƒ½åœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­å¯¹æŠ½è±¡è¯­æ³•æ ‘ (AST) åšäº†æŸäº›å˜æ¢. ä¸ºäº†ç†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„, ä½ éœ€è¦å­¦ä¹ ä¸€ç‚¹ç¼–è¯‘è¿‡ç¨‹å’Œ AST çš„çŸ¥è¯†.</p><h2 id="ç¼–è¯‘è¿‡ç¨‹-Compilation-process"><a href="#ç¼–è¯‘è¿‡ç¨‹-Compilation-process" class="headerlink" title="ç¼–è¯‘è¿‡ç¨‹ (Compilation process)"></a>ç¼–è¯‘è¿‡ç¨‹ (Compilation process)</h2><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/compile-process.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/compile-process.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Compilation process"></p><p>è¾“å…¥çš„æºä»£ç è¢«è§£æ, ç„¶åç”Ÿæˆç›¸åº”çš„æŠ½è±¡è¯­æ³•æ ‘ (AST1). AST1 ä¼šä»¥åµŒå¥—çš„ Elixir Terms çš„å½¢å¼æ¥è¡¨è¿°ä½ çš„ä»£ç . ç„¶åè¿›å…¥å±•å¼€é˜¶æ®µ. åœ¨è¿™ä¸ªé˜¶æ®µ, å„ç§å†…ç½®çš„å’Œè‡ªå®šä¹‰çš„å®è¢«è½¬æ¢æˆäº†æœ€ç»ˆç‰ˆæœ¬. ä¸€æ—¦è½¬æ¢ç»“æŸ, Elixir å°±å¯ä»¥ç”Ÿæˆæœ€åçš„å­—èŠ‚ç , å³æºç¨‹åºçš„äºŒè¿›åˆ¶è¡¨ç¤º.</p><p>è¿™åªæ˜¯å¯¹æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹çš„æ¦‚è¿°. ä¾‹å¦‚, Elixir ç¼–è¯‘å™¨è¿˜ä¼šç”Ÿæˆ Erlang AST, ç„¶åä¾èµ– Erlang å‡½æ•°å°†å…¶è½¬æ¢ä¸ºå­—èŠ‚ç , ä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦çŸ¥é“ç»†èŠ‚. ä¸è¿‡, æˆ‘è®¤ä¸ºè¿™å¹…å›¾å¯¹äºç†è§£å…ƒç¼–ç¨‹ä»£ç æ˜¯æœ‰å¸®åŠ©çš„.</p><p>ç†è§£å…ƒç¼–ç¨‹é­”æ³•çš„å…³é”®ç‚¹åœ¨äºç†è§£åœ¨å±•å¼€é˜¶æ®µ (expansion phase) å‘ç”Ÿäº†ä»€ä¹ˆ. ç¼–è¯‘å™¨ä¼šåŸºäºåŸå§‹ Elixir ä»£ç çš„ AST å±•å¼€ä¸ºæœ€ç»ˆç‰ˆæœ¬.</p><p>å¦å¤–, ä»è¿™ä¸ªå›¾ä¸­å¯ä»¥å¾—åˆ°å¦ä¸€ä¸ªé‡è¦ç»“è®º, Elixir åœ¨ç”Ÿæˆäº†äºŒè¿›åˆ¶ä¹‹å, å…ƒç¼–ç¨‹å°±åœæ­¢äº†. ä½ å¯ä»¥ç¡®å®šä½ çš„ä»£ç ä¸ä¼šè¢«é‡æ–°å®šä¹‰, é™¤éä½¿ç”¨åˆ°äº†ä»£ç å‡çº§æˆ–æ˜¯ä¸€äº›åŠ¨æ€çš„ä»£ç æ’å…¥æŠ€æœ¯ (è¿™ä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´). å…ƒç¼–ç¨‹æ€»æ˜¯ä¼šå¼•å…¥ä¸€ä¸ªéšå½¢ (æˆ–ä¸æ˜æ˜¾)çš„å±‚, åœ¨ Elixir ä¸­è¿™åªå‘ç”Ÿåœ¨ç¼–è¯‘æ—¶, å¹¶ç‹¬ç«‹äºç¨‹åºçš„å„ç§æ‰§è¡Œè·¯å¾„.</p><p>ä»£ç è½¬æ¢å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶, å› æ­¤æ¨å¯¼æœ€ç»ˆäº§å“ä¼šç›¸å¯¹ç®€å•, è€Œä¸”å…ƒç¼–ç¨‹ä¸ä¼šå¹²æ‰°ä¾‹å¦‚ <a href="https://www.erlang.org/doc/man/dialyzer.html">dialyzer</a> è¿™æ ·çš„é™æ€åˆ†æå·¥å…·. ç¼–è¯‘æ—¶å…ƒç¼–ç¨‹ (Compile time meta-programming)ä¹Ÿæ„å‘³ç€æˆ‘ä»¬ä¸ä¼šæœ‰æ€§èƒ½æŸå¤±. è¿›å…¥è¿è¡Œæ—¶ (run-time) å, ä»£ç å°±å·²ç»å®šå‹äº†, ä»£ç ä¸­ä¸ä¼šæœ‰å…ƒç¼–ç¨‹ç»“æ„åœ¨è¿è¡Œ.</p><h2 id="åˆ›å»º-AST-ç‰‡æ®µ"><a href="#åˆ›å»º-AST-ç‰‡æ®µ" class="headerlink" title="åˆ›å»º AST ç‰‡æ®µ"></a>åˆ›å»º AST ç‰‡æ®µ</h2><p>ä»€ä¹ˆæ˜¯ Elixir AST? å®ƒæ˜¯ä¸€ä¸ª Elixir Term, ä¸€ä¸ªæ·±åº¦åµŒå¥—çš„å±‚æ¬¡ç»“æ„, ç”¨äºè¡¨è¿°ä¸€ä¸ªè¯­æ³•æ­£ç¡®çš„ Elixir ä»£ç . ä¸ºäº†è¯´å¾—æ›´æ˜ç™½ä¸€äº›, ä¸¾ä¸ªä¾‹å­. è¦ç”ŸæˆæŸæ®µä»£ç çš„ AST, å¯ä»¥ä½¿ç”¨ <code>quote</code>:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; quoted = <span class="keyword">quote</span> <span class="keyword">do</span> <span class="number">1</span> + <span class="number">2</span> <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:+</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>], [<span class="number">1</span>, <span class="number">2</span>]&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>quote</code> å¯ä»¥è·å–ä»»æ„ä¸€ä¸ªå¤æ‚çš„ Elixir è¡¨è¾¾å¼å¯¹åº”çš„ AST ç‰‡æ®µ.</p><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­, ç”Ÿæˆçš„ AST ç‰‡æ®µç”¨äºæè¿°ä¸€ä¸ªç®€å•çš„æ±‚å’Œæ“ä½œ (<code>1+2</code>). è¿™é€šå¸¸è¢«ç§°ä¸º quoted expression.. å¤§å¤šæ•°æ—¶å€™ä½ ä¸éœ€è¦å»ç†è§£ quoted ç»“æ„çš„å…·ä½“ç»†èŠ‚, è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­. åœ¨è¿™ç§æƒ…å†µä¸‹, AST ç‰‡æ®µæ˜¯ä¸€ä¸ªåŒ…å«å¦‚ä¸‹å…ƒç´ çš„ä¸‰å…ƒç»„ (triplet):</p><ul><li>ä¸€ä¸ªåŸå­ (atom) è¡¨ç¤ºæ‰€è¦è¿›è¡Œçš„æ“ä½œ (<code>:+</code>)</li><li>è¡¨è¾¾å¼ä¸Šä¸‹æ–‡ (context, ä¾‹å¦‚ imports å’Œ aliases). é€šå¸¸ä½ å¹¶ä¸éœ€è¦ç†è§£è¿™ä¸ªæ•°æ®</li><li>æ“ä½œå‚æ•°</li></ul><p>è¦ç‚¹: è¿™ä¸ª quoted expression æ˜¯ä¸€ä¸ªæè¿°ä»£ç çš„ Elixir term. ç¼–è¯‘å™¨ä¼šä½¿ç”¨å®ƒç”Ÿæˆæœ€ç»ˆçš„å­—èŠ‚ç .</p><p>è™½ç„¶ä¸å¸¸è§, ä½†å¯¹ä¸€ä¸ª quoted expression æ±‚å€¼ä¹Ÿæ˜¯å¯ä»¥çš„:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">2</span>)&gt; <span class="title class_">Code</span>.eval_quoted(quoted)</span><br><span class="line">&#123;<span class="number">3</span>, []&#125;</span><br></pre></td></tr></table></figure><p>è¿”å›çš„å…ƒç»„ä¸­åŒ…å«äº†è¡¨è¾¾å¼çš„ç»“æœ, ä»¥åŠä¸€ä¸ªåˆ—è¡¨, å…¶ä¸­åŒ…å«äº†æ„æˆè¡¨è¾¾å¼çš„å˜é‡.</p><p>ä½†æ˜¯, åœ¨ AST è¢«æ±‚å€¼å‰(é€šå¸¸ç”±ç¼–è¯‘å™¨å®Œæˆ), quoted expression å¹¶æ²¡æœ‰è¿›è¡Œè¯­ä¹‰ä¸Šçš„éªŒè¯. ä¾‹å¦‚, å½“æˆ‘ä»¬ä¹¦å†™å¦‚ä¸‹è¡¨è¾¾å¼æ—¶:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">3</span>)&gt; a + b</span><br><span class="line">** (<span class="title class_">CompileError</span>) <span class="symbol">iex:</span><span class="number">3</span>: undefined function a/<span class="number">0</span> (there is no such <span class="keyword">import</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¼šå¾—åˆ°é”™è¯¯, å› ä¸ºè¿™é‡Œæ²¡æœ‰å«åšä¸€ä¸ªå«åš a çš„å˜é‡ (æˆ–å‡½æ•°).</p><p>ç›¸æ¯”è€Œè¨€, å¦‚æœ quote è¿™ä¸ªè¡¨è¾¾å¼:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">3</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span> a + b <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:+</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>],</span><br><span class="line"> [&#123;<span class="symbol">:a</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, &#123;<span class="symbol">:b</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;]&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ²¡æœ‰å‘ç”Ÿé”™è¯¯, æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªè¡¨è¾¾å¼ a+b çš„ quoted è¡¨ç°å½¢å¼. å…¶æ„æ€æ˜¯, ç”Ÿæˆäº†ä¸€ä¸ªæè¿°è¯¥è¡¨è¾¾å¼ <code>a+b</code> çš„ term, ä¸ç®¡è¡¨è¾¾å¼ä¸­çš„å˜é‡æ˜¯å¦å­˜åœ¨. æœ€ç»ˆçš„ä»£ç å¹¶æ²¡æœ‰ç”Ÿæˆ, æ‰€ä»¥è¿™é‡Œä¸ä¼šæœ‰é”™è¯¯æŠ›å‡º.</p><p>å¦‚æœæŠŠè¯¥è¡¨è¿°æ’å…¥åˆ°æŸäº› a å’Œ b æ˜¯æœ‰æ•ˆæ ‡è¯†ç¬¦çš„ AST ä¸­, åˆšæ‰å‘ç”Ÿé”™è¯¯çš„ä»£ç  a+b, æ‰æ˜¯æ­£ç¡®çš„. ä¸‹é¢æ¥è¯•ä¸€ä¸‹, é¦–å…ˆquote ä¸€ä¸ªæ±‚å’Œ (sum)è¡¨è¾¾å¼:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">4</span>)&gt; sum_expr = <span class="keyword">quote</span> <span class="keyword">do</span> a + b <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:+</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>],</span><br><span class="line"> [&#123;<span class="symbol">:a</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, &#123;<span class="symbol">:b</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;]&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååˆ›å»ºä¸€ä¸ª quoted å˜é‡ç»‘å®šè¡¨è¾¾å¼:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">5</span>)&gt; bind_expr = <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">...(<span class="number">5</span>)&gt;   a=<span class="number">1</span></span><br><span class="line">...(<span class="number">5</span>)&gt;   b=<span class="number">2</span></span><br><span class="line">...(<span class="number">5</span>)&gt; <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:__block__</span>, [],</span><br><span class="line"> [</span><br><span class="line">   &#123;<span class="symbol">:</span>=, [], [&#123;<span class="symbol">:a</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, <span class="number">1</span>]&#125;,</span><br><span class="line">   &#123;<span class="symbol">:</span>=, [], [&#123;<span class="symbol">:b</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, <span class="number">2</span>]&#125;</span><br><span class="line"> ]&#125;</span><br></pre></td></tr></table></figure><p>è®°ä½, å®ƒä»¬åªæ˜¯ quoted è¡¨è¾¾å¼. å®ƒä»¬åªæ˜¯åœ¨æè¿°ä»£ç çš„ç®€å•æ•°æ®, å¹¶æ²¡æœ‰æ‰§è¡Œ. è¿™æ—¶, å˜é‡ a å’Œ b å¹¶ä¸å­˜åœ¨äºå½“å‰ Elixir shell ä¼šè¯ (session)ä¸­.</p><p>è¦ä½¿è¿™äº›ç‰‡æ®µèƒ½å¤Ÿä¸€èµ·å·¥ä½œ, å¿…é¡»æŠŠå®ƒä»¬è¿æ¥èµ·æ¥:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">6</span>)&gt; final_expr = <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">...(<span class="number">6</span>)&gt;   <span class="keyword">unquote</span>(bind_expr)</span><br><span class="line">...(<span class="number">6</span>)&gt;   <span class="keyword">unquote</span>(sum_expr)</span><br><span class="line">...(<span class="number">6</span>)&gt; <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:__block__</span>, [],</span><br><span class="line"> [</span><br><span class="line">   &#123;<span class="symbol">:__block__</span>, [],</span><br><span class="line">    [</span><br><span class="line">      &#123;<span class="symbol">:</span>=, [], [&#123;<span class="symbol">:a</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, <span class="number">1</span>]&#125;,</span><br><span class="line">      &#123;<span class="symbol">:</span>=, [], [&#123;<span class="symbol">:b</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, <span class="number">2</span>]&#125;</span><br><span class="line">    ]&#125;,</span><br><span class="line">   &#123;<span class="symbol">:+</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>],</span><br><span class="line">    [&#123;<span class="symbol">:a</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;, &#123;<span class="symbol">:b</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;]&#125;</span><br><span class="line"> ]&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªç”± <code>bind_expr</code> å’Œ <code>sum_expr</code> æ„æˆçš„æ–°çš„ quoted expression. å®é™…ä¸Š, æˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„ AST ç‰‡æ®µ, å®ƒç»“åˆäº†è¿™ä¸¤ä¸ªè¡¨è¾¾å¼. ä¸è¦æ‹…å¿ƒ <code>unquote</code> çš„éƒ¨åˆ† - æˆ‘ç¨åä¼šè§£é‡Šè¿™ä¸€ç‚¹.</p><p>ä¸æ­¤åŒæ—¶, æˆ‘ä»¬å¯ä»¥è¿›è¡Œæ±‚å€¼è®¡ç®—è¿™ä¸ª AST ç‰‡æ®µ (fragment):</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">7</span>)&gt; <span class="title class_">Code</span>.eval_quoted(final_expr)</span><br><span class="line">&#123;<span class="number">3</span>, [&#123;&#123;<span class="symbol">:b</span>, <span class="title class_">Elixir</span>&#125;, <span class="number">2</span>&#125;, &#123;&#123;<span class="symbol">:a</span>, <span class="title class_">Elixir</span>&#125;, <span class="number">1</span>&#125;]&#125;</span><br></pre></td></tr></table></figure><p>å†æ¬¡çœ‹åˆ°, æ±‚å€¼ç»“æœç”±ä¸€ä¸ªè¡¨è¾¾å¼ç»“æœ (<code>3</code>), ä¸€ä¸ªå˜é‡ç»‘å®šåˆ—è¡¨æ„æˆ. å½¢å¦‚:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;expression, [&#123;&#123;<span class="symbol">:variable</span>, <span class="title class_">Elixir</span>&#125;, value&#125;,...]&#125;</span><br><span class="line">===========      ========          ======</span><br><span class="line">  |                 |                 |</span><br><span class="line">è¡¨è¾¾å¼ç»“æœ            å˜é‡åç§°           å˜é‡çš„å€¼</span><br></pre></td></tr></table></figure><p>ä»è¿™ä¸ªç»‘å®šåˆ—è¡¨ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡º, è¯¥è¡¨è¾¾å¼ç»‘å®šäº†ä¸¤ä¸ªå˜é‡ a å’Œ b, å¯¹åº”çš„å€¼åˆ†åˆ«ä¸º 1 å’Œ 2.</p><p>è¿™å°±æ˜¯åœ¨ Elixir ä¸­å…ƒç¼–ç¨‹æ–¹æ³•çš„æ ¸å¿ƒ. å½“æˆ‘ä»¬è¿›è¡Œå…ƒç¼–ç¨‹çš„æ—¶å€™, æˆ‘ä»¬å®é™…ä¸Šæ˜¯æŠŠå„ç§ AST ç‰‡æ®µç»„åˆèµ·æ¥ç”Ÿæˆæ–°çš„æˆ‘ä»¬éœ€è¦çš„ AST. æˆ‘ä»¬é€šå¸¸å¯¹è¾“å…¥ AST çš„å†…å®¹å’Œç»“æ„ä¸æ„Ÿå…´è¶£, ç›¸å, æˆ‘ä»¬ä½¿ç”¨ <code>quote</code> ç”Ÿæˆå’Œç»„åˆè¾“å…¥ç‰‡æ®µ, å¹¶ç”Ÿæˆç»è¿‡ä¿®é¥°çš„ä»£ç .</p><h2 id="Unquoting"><a href="#Unquoting" class="headerlink" title="Unquoting"></a>Unquoting</h2><p><code>unquote</code> åœ¨è¿™é‡Œå‡ºç°äº†. æ³¨æ„, æ— è®º quote å— (<code>quote ... end</code>) é‡Œæœ‰ä»€ä¹ˆ, å®ƒéƒ½ä¼šå˜æˆ AST ç‰‡æ®µ. è¿™æ„å‘³ç€æˆ‘ä»¬ä¸å¯ä»¥ç®€å•åœ°å°†å¤–éƒ¨çš„å˜é‡æ³¨å…¥åˆ°æˆ‘ä»¬çš„ quote é‡Œ. ä¾‹å¦‚, è¿™æ ·æ˜¯ä¸èƒ½è¾¾åˆ°æ•ˆæœçš„:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">8</span>)&gt; <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">...(<span class="number">8</span>)&gt;   bind_expr</span><br><span class="line">...(<span class="number">8</span>)&gt;   sum_expr</span><br><span class="line">...(<span class="number">8</span>)&gt; <span class="keyword">end</span></span><br><span class="line">&#123;<span class="symbol">:__block__</span>, [],</span><br><span class="line"> [</span><br><span class="line">   &#123;<span class="symbol">:bind_expr</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;,</span><br><span class="line">   &#123;<span class="symbol">:sum_expr</span>, [<span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Elixir</span>&#125;</span><br><span class="line"> ]&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­, quote ä»…ä»…æ˜¯ç®€å•çš„ç”Ÿæˆå¯¹ bind_expr å’Œ sum_expr çš„å˜é‡å¼•ç”¨, å®ƒä»¬å¿…é¡»å­˜åœ¨äºè¿™ä¸ª AST å¯ä»¥è¢«ç†è§£çš„ä¸Šä¸‹æ–‡ç¯å¢ƒé‡Œ. ä½†è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœ. æˆ‘éœ€è¦çš„æ•ˆæœæ˜¯æœ‰ä¸€ç§æ–¹å¼èƒ½å¤Ÿç›´æ¥æ³¨å…¥ bind_expr å’Œ sum_expr çš„å†…å®¹åˆ°ç”Ÿæˆçš„ AST çš„å¯¹åº”çš„ä½ç½®.</p><p>è¿™å°±æ˜¯ <code>unquote(...)</code> çš„ç›®çš„ - æ‹¬å·é‡Œçš„è¡¨è¾¾å¼ä¼šè¢«ç«‹åˆ»æ‰§è¡Œ, ç„¶åå°±åœ°æ’å…¥åˆ°è°ƒç”¨äº† <code>unquote</code> çš„åœ°æ–¹. è¿™æ„å‘³ç€ <code>unquote</code> çš„ç»“æœå¿…é¡»æ˜¯åˆæ³•çš„ AST ç‰‡æ®µ.</p><p>ç†è§£ <code>unquote</code> çš„å¦ä¸€ç§æ–¹å¼æ˜¯, å¯ä»¥æŠŠå®ƒçœ‹åšæ˜¯å­—ç¬¦ä¸²çš„æ’å€¼ (<code>#&#123;&#125;</code>). å¯¹äºå­—ç¬¦ä¸²ä½ å¯ä»¥è¿™æ ·å†™:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;....<span class="subst">#&#123;some_expression&#125;</span>....&quot;</span></span><br></pre></td></tr></table></figure><p>ç±»ä¼¼çš„, å¯¹äº quote å¯ä»¥è¿™æ ·å†™:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">unquote</span>(some_expression)</span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å¯¹æ­¤ä¸¤ç§æƒ…å†µ, æ±‚å€¼çš„è¡¨è¾¾å¼å¿…é¡»åœ¨å½“å‰ä¸Šä¸‹æ–‡ä¸­æ˜¯æœ‰æ•ˆçš„, <strong>å¹¶æ³¨å…¥è¯¥ç»“æœåˆ°ä½ æ„å»ºçš„è¡¨è¾¾å¼ä¸­</strong>. (è¦ä¹ˆæ˜¯ string, æˆ–è€…æ˜¯ä¸€ä¸ª AST ç‰‡æ®µ)</p><p>ç†è§£è¿™ä¸€ç‚¹å¾ˆé‡è¦: <code>unquote</code> å¹¶ä¸æ˜¯ <code>quote</code> çš„åå‘è¿‡ç¨‹. <code>quote</code> å°†ä¸€æ®µä»£ç è½¬æ¢æˆ quoted è¡¨è¾¾å¼ (quoted expression), unquoteå¹¶æ²¡æœ‰åšé€†å‘æ“ä½œ. å¦‚æœéœ€è¦æŠŠä¸€ä¸ª quoted expression è½¬æ¢ä¸ºå­—ç¬¦ä¸², å¯ä»¥ä½¿ç”¨ <code>Macro.to_string/1</code>.</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">9</span>)&gt; <span class="title class_">Macro</span>.to_string(bind_expr)</span><br><span class="line"><span class="string">&quot;a = 1\nb = 2&quot;</span></span><br><span class="line">iex(<span class="number">10</span>)&gt; <span class="title class_">Macro</span>.to_string(sum_expr)</span><br><span class="line"><span class="string">&quot;a + b&quot;</span></span><br><span class="line">iex(<span class="number">11</span>)&gt; <span class="title class_">Macro</span>.to_string(final_expr)</span><br><span class="line"><span class="string">&quot;(\n  a = 1\n  b = 2\n)\n\na + b&quot;</span></span><br></pre></td></tr></table></figure><h2 id="ä¾‹å­-tracing-expression"><a href="#ä¾‹å­-tracing-expression" class="headerlink" title="ä¾‹å­: tracing expression"></a>ä¾‹å­: tracing expression</h2><p>ç†è®ºç»“åˆå®è·µ, ä¸€ä¸ªç®€å•ä¾‹å­, æˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªå¸®åŠ©æˆ‘ä»¬è°ƒè¯•ä»£ç çš„å®. è¿™ä¸ªå®å¯ä»¥è¿™æ ·ç”¨:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="title class_">Tracer</span>.trace(<span class="number">1</span> + <span class="number">2</span>)</span><br><span class="line"><span class="title class_">Result</span> of <span class="number">1</span> + <span class="number">2</span>: <span class="number">3</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><p><code>Tracer.trace</code> æ¥å—ä¸€ä¸ªç»™å®šçš„è¡¨è¾¾å¼, ä¼šæ‰“å°å…¶ç»“æœåˆ°å±å¹•ä¸Š. ç„¶åè¿”å›è¡¨è¾¾å¼çš„ç»“æœ.</p><p>éœ€è¦è®¤è¯†åˆ°è¿™æ˜¯ä¸€ä¸ªå®, å®ƒçš„è¾“å…¥ï¼ˆ<code>1+2</code>ï¼‰å¯ä»¥è¢«è½¬æ¢æˆæ›´å¤æ‚çš„å½¢å¼ â€” æ‰“å°è¡¨è¾¾å¼çš„ç»“æœå¹¶è¿”å›å®ƒ. è¿™ä¸ªå˜æ¢ä¼šå‘ç”Ÿåœ¨å®å±•å¼€é˜¶æ®µ, äº§ç”Ÿçš„å­—èŠ‚ç ä¸ºè¾“å…¥ä»£ç ç»è¿‡ä¿®é¥°çš„ç‰ˆæœ¬.</p><p>åœ¨æŸ¥çœ‹å®ƒçš„å®ç°ä¹‹å‰, æƒ³è±¡ä¸€ä¸‹æœ€ç»ˆçš„ç»“æœæˆ–è®¸ä¼šå¾ˆæœ‰å¸®åŠ©. å½“æˆ‘ä»¬è°ƒç”¨ <code>Tracer.trace(1+2)</code>, å¯¹åº”äº§ç”Ÿçš„å­—èŠ‚ç ç±»ä¼¼äºè¿™æ ·:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mangled_result = <span class="number">1</span> + <span class="number">2</span></span><br><span class="line"><span class="title class_">Tracer</span>.print(<span class="string">&quot;1+2&quot;</span>, mangled_result)</span><br><span class="line">mangled_result</span><br></pre></td></tr></table></figure><p><code>mangled_result</code> è¡¨ç¤º Elixir ç¼–è¯‘å™¨ä¼šé”€æ¯æ‰€æœ‰åœ¨å®é‡Œå¼•ç”¨çš„ä¸´æ—¶å˜é‡. è¿™ä¹Ÿè¢«ç§°ä¸ºå®æ¸…æ´—ï¼ˆmacro hygieneï¼‰, æˆ‘ä»¬ä¼šåœ¨æœ¬ç³»åˆ—ä¹‹åçš„å†…å®¹ä¸­è®¨è®ºå®ƒï¼ˆä¸åœ¨æœ¬æ–‡ï¼‰.</p><p>è¯¥å®çš„å®šä¹‰æ˜¯è¿™æ ·çš„:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span></span><br><span class="line">  <span class="function"><span class="keyword">defmacro</span> <span class="title">trace</span></span>(expression_ast) <span class="keyword">do</span></span><br><span class="line">    string_representation = <span class="title class_">Macro</span>.to_string(expression_ast)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">quote</span> <span class="keyword">do</span></span><br><span class="line">      result = <span class="keyword">unquote</span>(expression_ast)</span><br><span class="line">      <span class="title class_">Tracer</span>.print(<span class="keyword">unquote</span>(string_representation), result)</span><br><span class="line">      result</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">print</span></span>(string_representation, result) <span class="keyword">do</span></span><br><span class="line">    <span class="title class_">IO</span>.puts <span class="string">&quot;Result of <span class="subst">#&#123;string_representation&#125;</span>: <span class="subst">#&#123;inspect result&#125;</span>&quot;</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬æ¥é€æ­¥åˆ†æè¿™æ®µä»£ç .</p><p>é¦–å…ˆ, æˆ‘ä»¬ç”¨ <code>defmacro</code>å®šä¹‰å®. å®æœ¬è´¨ä¸Šæ˜¯ç‰¹æ®Šå½¢å¼çš„å‡½æ•°. å®ƒçš„åå­—ä¼šè¢«é”€æ¯, å¹¶ä¸”åªèƒ½åœ¨å±•å¼€æœŸè°ƒç”¨å®ƒï¼ˆå°½ç®¡ç†è®ºä¸Šä½ ä»ç„¶å¯ä»¥åœ¨è¿è¡Œæ—¶è°ƒç”¨ï¼‰.</p><p>æˆ‘ä»¬çš„å®æ¥æ”¶åˆ°äº†ä¸€ä¸ª quoted expression. è¿™ä¸€ç‚¹éå¸¸é‡è¦ â€” æ— è®ºä½ å‘é€äº†ä»€ä¹ˆå‚æ•°ç»™ä¸€ä¸ªå®, å®ƒä»¬éƒ½å·²ç»æ˜¯ quotedçš„. æ‰€ä»¥, å½“æˆ‘ä»¬è°ƒç”¨ <code>Tracer.trace(1+2)</code>, æˆ‘ä»¬çš„å®ï¼ˆå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰ä¸ä¼šæ¥æ”¶åˆ° 3. ç›¸å, <code>expression_ast</code> çš„å†…å®¹ä¼šæ˜¯ <code>quote(do: 1+2)</code> çš„ç»“æœ.</p><p>åœ¨ç¬¬ä¸‰è¡Œ, æˆ‘ä»¬ä½¿ç”¨ <code>Macro.to_string/1</code> æ¥æ±‚å‡ºæˆ‘ä»¬æ‰€æ”¶åˆ°çš„ AST ç‰‡æ®µçš„å­—ç¬¦ä¸²è¡¨è¾¾å½¢å¼. è¿™æ˜¯ä½ åœ¨è¿è¡Œæ—¶ä¸èƒ½å¤Ÿå¯¹ä¸€ä¸ªæ™®é€šå‡½æ•°åšçš„äº‹ä¹‹ä¸€. è™½ç„¶æˆ‘ä»¬èƒ½åœ¨è¿è¡Œæ—¶è°ƒç”¨ <code>Macro.to_string/1</code>, ä½†é—®é¢˜åœ¨äºæˆ‘ä»¬æ²¡åŠæ³•å†è®¿é—® AST äº†, å› æ­¤ä¸èƒ½å¤ŸçŸ¥é“æŸäº›è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å½¢å¼äº†.</p><p>ä¸€æ—¦æˆ‘ä»¬æ‹¥æœ‰äº†å­—ç¬¦ä¸²å½¢å¼, æˆ‘ä»¬å°±å¯ä»¥ç”Ÿæˆå¹¶è¿”å›ç»“æœ AST äº†, è¿™ä¸€æ­¥æ˜¯åœ¨ <code>quote do ... end</code> ç»“æ„ä¸­å®Œæˆçš„. å®ƒçš„ç»“æœæ˜¯ç”¨æ¥æ›¿ä»£åŸå§‹çš„ <code>Tracer.trace(...)</code> è°ƒç”¨çš„ quoted expression.</p><p>è®©æˆ‘ä»¬è¿›ä¸€æ­¥è§‚å¯Ÿè¿™ä¸€éƒ¨åˆ†:</p><p>å¦‚æœä½ æ˜ç™½ <code>unquote</code> çš„ä½œç”¨, é‚£ä¹ˆè¿™ä¸ªå°±å¾ˆç®€å•äº†. å®é™…ä¸Š, æˆ‘ä»¬æ˜¯åœ¨æŠŠ <code>expression_ast</code>ï¼ˆquoted <code>1+2</code>ï¼‰ä»£å…¥åˆ°æˆ‘ä»¬ç”Ÿæˆçš„ç‰‡æ®µï¼ˆfragmentï¼‰ä¸­, å°†è¡¨è¾¾å¼çš„ç»“æœæ”¾å…¥ <code>result</code> å˜é‡. ç„¶åæˆ‘ä»¬ä½¿ç”¨æŸç§æ ¼å¼æ¥æ‰“å°å®ƒä»¬ï¼ˆå€ŸåŠ©Macro.to_string/1ï¼‰, æœ€åè¿”å›ç»“æœ.</p><h2 id="å±•å¼€ä¸€ä¸ª-AST"><a href="#å±•å¼€ä¸€ä¸ª-AST" class="headerlink" title="å±•å¼€ä¸€ä¸ª AST"></a>å±•å¼€ä¸€ä¸ª AST</h2><p>åœ¨ Shell è§‚å¯Ÿå…¶æ˜¯å¦‚ä½•è¿æ¥èµ·æ¥æ˜¯å¾ˆå®¹æ˜“çš„. å¯åŠ¨ <code>iex</code> Shell, å¤åˆ¶ç²˜è´´ä¸Šé¢å®šä¹‰çš„ Tracer æ¨¡å—:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">1</span>)&gt; <span class="class"><span class="keyword">defmodule</span> <span class="title">Tracer</span></span> <span class="keyword">do</span></span><br><span class="line">          ...</span><br><span class="line">        <span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç„¶å, å¿…é¡» <code>require Tracer</code>:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">2</span>)&gt; <span class="keyword">require</span> <span class="title class_">Tracer</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥, å¯¹ <code>trace</code> å®è°ƒç”¨è¿›è¡Œ quote æ“ä½œ:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">3</span>)&gt; quoted = <span class="keyword">quote</span> <span class="keyword">do</span> <span class="title class_">Tracer</span>.trace(<span class="number">1</span>+<span class="number">2</span>) <span class="keyword">end</span></span><br><span class="line">&#123;&#123;<span class="symbol">:</span>., [], [&#123;<span class="symbol">:__aliases__</span>, [<span class="symbol">alias:</span> <span class="literal">false</span>], [<span class="symbol">:Tracer</span>]&#125;, <span class="symbol">:trace</span>]&#125;, [],</span><br><span class="line"> [&#123;<span class="symbol">:+</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>], [<span class="number">1</span>, <span class="number">2</span>]&#125;]&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨, è¾“å‡ºçœ‹èµ·æ¥æœ‰ç‚¹ææ€–, é€šå¸¸ä½ ä¸å¿…éœ€è¦ç†è§£å®ƒ. ä½†æ˜¯å¦‚æœä½ ä»”ç»†çœ‹, åœ¨è¿™ä¸ªç»“æ„ä¸­ä½ å¯ä»¥çœ‹åˆ° Tracer å’Œ trace, è¿™è¯æ˜äº† AST ç‰‡æ®µæ˜¯ä½•ä¸æºä»£ç ç›¸å¯¹åº”çš„, ä½†è¿˜æœªå±•å¼€.</p><p>ç°åœ¨, è¯¥å¼€å§‹å±•å¼€è¿™ä¸ª AST äº†, ä½¿ç”¨ <code>Macro.expand/2</code>:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">4</span>)&gt; expanded = <span class="title class_">Macro</span>.expand(quoted, __ENV__)</span><br><span class="line">&#123;<span class="symbol">:__block__</span>, [],</span><br><span class="line"> [</span><br><span class="line">   &#123;<span class="symbol">:</span>=, [],</span><br><span class="line">    [</span><br><span class="line">      &#123;<span class="symbol">:result</span>, [<span class="symbol">counter:</span> <span class="number">-576460752303423231</span>, <span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Tracer</span>&#125;,</span><br><span class="line">      &#123;<span class="symbol">:+</span>, [<span class="symbol">context:</span> <span class="title class_">Elixir</span>, <span class="symbol">import:</span> <span class="title class_">Kernel</span>], [<span class="number">1</span>, <span class="number">2</span>]&#125;</span><br><span class="line">    ]&#125;,</span><br><span class="line">   &#123;&#123;<span class="symbol">:</span>., [],</span><br><span class="line">     [</span><br><span class="line">       &#123;<span class="symbol">:__aliases__</span>, [<span class="symbol">counter:</span> <span class="number">-576460752303423231</span>, <span class="symbol">alias:</span> <span class="literal">false</span>], [<span class="symbol">:Tracer</span>]&#125;,</span><br><span class="line">       <span class="symbol">:print</span></span><br><span class="line">     ]&#125;, [],</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;1 + 2&quot;</span>,</span><br><span class="line">      &#123;<span class="symbol">:result</span>, [<span class="symbol">counter:</span> <span class="number">-576460752303423231</span>, <span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Tracer</span>&#125;</span><br><span class="line">    ]&#125;,</span><br><span class="line">   &#123;<span class="symbol">:result</span>, [<span class="symbol">counter:</span> <span class="number">-576460752303423231</span>, <span class="symbol">if_undefined:</span> <span class="symbol">:apply</span>], <span class="title class_">Tracer</span>&#125;</span><br><span class="line"> ]&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æˆ‘ä»¬çš„ä»£ç å®Œå…¨å±•å¼€åçš„ç‰ˆæœ¬, ä½ å¯ä»¥çœ‹åˆ°å…¶ä¸­æåˆ°äº† resultï¼ˆç”±å®å¼•å…¥çš„ä¸´æ—¶å˜é‡ï¼‰, ä»¥åŠå¯¹ <code>Tracer.print/2</code> çš„è°ƒç”¨. ä½ ç”šè‡³å¯ä»¥å°†è¿™ä¸ªè¡¨è¾¾å¼è½¬æ¢æˆå­—ç¬¦ä¸²:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">iex(<span class="number">5</span>)&gt; <span class="title class_">Macro</span>.to_string(expanded)</span><br><span class="line"><span class="string">&quot;result = 1 + 2\nTracer.print(\&quot;1 + 2\&quot;, result)\nresult&quot;</span></span><br><span class="line">iex(<span class="number">6</span>)&gt; <span class="title class_">Macro</span>.to_string(expanded) |&gt; <span class="title class_">IO</span>.puts</span><br><span class="line">result = <span class="number">1</span> + <span class="number">2</span></span><br><span class="line"><span class="title class_">Tracer</span>.print(<span class="string">&quot;1 + 2&quot;</span>, result)</span><br><span class="line">result</span><br><span class="line"><span class="symbol">:ok</span></span><br></pre></td></tr></table></figure><p>è¿™äº›è¯´æ˜äº†ä½ å¯¹å®çš„è°ƒç”¨å·²ç»å±•å¼€æˆäº†åˆ«çš„ä¸œè¥¿. è¿™å°±æ˜¯å®å·¥ä½œçš„åŸç†. å°½ç®¡æˆ‘ä»¬åªæ˜¯åœ¨ shell ä¸­å°è¯•, ä½†ä½¿ç”¨ <code>mix</code> æˆ–<code>elixirc</code> æ„å»ºé¡¹ç›®æ—¶ä¹Ÿæ˜¯ä¸€æ ·çš„.</p><p>æˆ‘æƒ³è¿™äº›å†…å®¹å¯¹äºç¬¬ä¸€ç¯‡æ¥è¯´å·²ç»å¤Ÿäº†. ä½ å·²ç»å¯¹ç¼–è¯‘è¿‡ç¨‹å’Œ AST æœ‰æ‰€äº†è§£, ä¹Ÿçœ‹è¿‡äº†ä¸€ä¸ªç®€å•çš„å®çš„ä¾‹å­. åç»­, æˆ‘ä»¬å°†æ›´æ·±å…¥åœ°è®¨è®ºå®çš„ä¸€äº›æœºåˆ¶.</p><h2 id="é™„æ³¨"><a href="#é™„æ³¨" class="headerlink" title="é™„æ³¨"></a>é™„æ³¨</h2><ul><li><a href="https://en.wikipedia.org/wiki/Code_point">codepoints</a>: é€šå¸¸æ˜¯ä¸€ä¸ªæ•°å­—, ç”¨äºè¡¨ç¤º Unicode å­—ç¬¦.</li><li><a href="https://www.erlang.org/doc/reference_manual/data_types.html#terms">Terms</a>: ä»»ä½•æ•°æ®ç±»å‹ä¸­çš„ä¸€æ®µæ•°æ®éƒ½è¢«ç§°ä¸º term.</li></ul><blockquote><p>åŸæ–‡ï¼š<a href="https://www.theerlangelist.com/article/macros_1">https://www.theerlangelist.com/article/macros_1</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Elixir </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir-Macros </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(è¯‘) ç†è§£ Prometheus çš„èŒƒå›´å‘é‡ (Range Vector)</title>
      <link href="/2022/04/23/understanding-prometheus-range-vectors/"/>
      <url>/2022/04/23/understanding-prometheus-range-vectors/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>Prometheus ä¸­ Range Vector çš„æ¦‚å¿µæ˜¯æœ‰ä¸€ç‚¹ä¸ç›´è§‚çš„ï¼Œé™¤éä½ å½»åº•é˜…è¯»å¹¶ç†è§£äº†å®˜æ–¹æä¾›çš„æ–‡æ¡£ã€‚è°ä¼šè¿™æ ·åšå‘¢ï¼Œå»è¯»å®˜æ–¹æ–‡æ¡£ï¼Ÿå¤§å¤šçš„äººåº”è¯¥ä¼šèŠ±äº›é”™è¯¯çš„æ—¶é—´å»åšäº†ä¸€äº›é”™è¯¯çš„äº‹æƒ…ï¼Œç„¶åéšæœºå»å¯»æ‰¾ä¸€ç¯‡åƒæœ¬æ–‡ä¸€æ ·çš„æ–‡ç« å»ç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œä¸æ˜¯å—ï¼Ÿ</p><h2 id="ä»€ä¹ˆæ˜¯-Vector"><a href="#ä»€ä¹ˆæ˜¯-Vector" class="headerlink" title="ä»€ä¹ˆæ˜¯ Vector"></a>ä»€ä¹ˆæ˜¯ Vector</h2><p>ç”±äº Prometheus æ˜¯ä¸€ä¸ªæ—¶åºå‹çš„æ•°æ®åº“ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨åŸºäºæ—¶é—´æˆ³çš„ä¸Šä¸‹æ–‡ä¸­è¢«å®šä¹‰ã€‚ç”±æ—¶é—´æˆ³åˆ°è®°å½•æ•°æ®çš„æ˜ å°„ï¼ˆmapï¼‰åºåˆ—ï¼ˆseriesï¼‰è¢«ç§°ä¹‹ä¸ºæ—¶é—´åºåˆ—ï¼ˆtimeseriesï¼‰ã€‚åœ¨ Prometheus çš„æœ¯è¯­ä¸­ï¼Œå…³äºæ—¶é—´åºåˆ—çš„é›†åˆï¼ˆå³ä¸€ç»„æ—¶åºæ•°æ®ï¼‰è¢«ç§°ä¹‹ä¸º vectorã€‚è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç¤ºä¾‹å»æ›´å¥½çš„è¯´æ˜è¿™ä¸€ç‚¹ã€‚</p><p>å‡è®¾ <code>http_requests_total</code> æ˜¯ä¸€ä¸ªè¡¨ç¤ºæœåŠ¡å—åˆ°çš„ http è¯·æ±‚æ€»é‡çš„ vectorã€‚Vectors å…è®¸æˆ‘ä»¬æ›´è¿›ä¸€æ­¥çš„ä½¿ç”¨è¢«ç§°ä¸º â€œlabelsâ€ çš„ä¸œè¥¿å¤šç»´åº¦å»è¡¨ç¤ºæ•°æ®ã€‚ ä¾‹:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// the set of timeseries representing the number of requests with a `200` HTTP response code.</span><br><span class="line">// HTTP çŠ¶æ€ç ä¸º 200 çš„è¯·æ±‚æ•°çš„ä¸€ç»„æ—¶é—´åºåˆ—</span><br><span class="line">http_requests_total&#123;code=&quot;200&quot;&#125;</span><br><span class="line"></span><br><span class="line">// the set of timeseries representing the number of requests served by the `/api/v1/query` handler.</span><br><span class="line">// è¡¨ç¤º&#x27; /api/v1/query &#x27;å¤„ç†ç¨‹åºå¤„ç†çš„è¯·æ±‚æ•°çš„ä¸€ç»„æ—¶é—´åºåˆ—</span><br><span class="line">http_requests_total&#123;handler=&quot;/api/v1/query&quot;&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±æ‹¥æœ‰äº†æ‰€æœ‰ä¸æ‰€æœåŠ¡çš„ HTTP è¯·æ±‚æ•°é‡ç›¸å…³çš„ç»†ç²’åº¦çš„ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜å¯ä»¥åœ¨éœ€è¦æ—¶é€‰æ‹©èšåˆè¿™äº›ä¿¡æ¯ã€‚ä»è¯­æ³•ä¸Šè®²ï¼Œ<code>http_requests_total</code> æŒ‡çš„æ˜¯å‘½åä¸ºå®ƒçš„æ•´ä¸ªæ—¶é—´åºåˆ—é›†ã€‚é€šè¿‡æ·»åŠ  <code>&#123;code=&quot;200&quot;&#125;</code> æˆ– <code>&#123;handler=&quot;/api/v1/query&quot;&#125;</code>ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªå­é›†ã€‚</p><h2 id="Vectors-çš„ç±»å‹"><a href="#Vectors-çš„ç±»å‹" class="headerlink" title="Vectors çš„ç±»å‹"></a>Vectors çš„ç±»å‹</h2><p>Prometheus è¿›ä¸€æ­¥å®šä¹‰äº†ä¸¤ç§ç±»å‹çš„ vectorï¼Œå–å†³äºæ—¶é—´æˆ³ï¼ˆtimestampsï¼‰è¢«æ˜ å°„ä¸ºä»€ä¹ˆï¼š</p><ul><li><strong>Instant vector</strong>-ä¸€ç»„æ—¶é—´åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªæ—¶é—´æˆ³éƒ½æ˜ å°„åˆ°â€œç¬é—´ï¼ˆinstantï¼‰â€çš„å•ä¸ªæ•°æ®ç‚¹ã€‚åœ¨ä¸‹é¢çš„å“åº”ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨æ—¶é—´æˆ³ <code>1608481001</code> å¤„è®°å½•çš„å•ä¸ªå€¼ã€‚</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">curl &#x27;http://localhost:9090/api/v1/query&#x27; \</span><br><span class="line">  --data &#x27;query=http_requests_total&#123;code=&quot;200&quot;&#125;&#x27; \</span><br><span class="line">  --data time=1608481001</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;metric&quot;: &#123;&quot;__name__&quot;: &quot;http_requests_total&quot;, &quot;code&quot;: &quot;200&quot;&#125;,</span><br><span class="line">  &quot;value&quot;: [1608481001, &quot;881&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/04/23/LfAKyD.png" class="lazyload" data-srcset="https://s1.ax1x.com/2022/04/23/LfAKyD.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Instant vector"></p><ul><li><strong>Range vector</strong>-ä¸€ç»„æ—¶é—´åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªæ—¶é—´æˆ³æ˜ å°„åˆ°ä¸€ä¸ªæ•°æ®ç‚¹çš„â€œèŒƒå›´ï¼ˆrangeï¼‰â€ï¼Œè®°å½•åˆ°è¿‡å»çš„ä¸€æ®µæŒç»­æ—¶é—´ã€‚å¦‚æœæ²¡æœ‰ç§°ä¸º â€œrangeâ€ çš„æŒ‡å®šæŒç»­æ—¶é—´ï¼Œåˆ™è¿™äº›å€¼ä¸èƒ½å­˜åœ¨ï¼Œè¯¥æŒç»­æ—¶é—´ç”¨äºæ„å»ºæ¯ä¸ªæ—¶é—´æˆ³çš„å€¼åˆ—è¡¨ã€‚ åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œè¯·æ³¨æ„å¸¦æœ‰æ—¶é—´æˆ³çš„å€¼åˆ—è¡¨ï¼Œä» <code>1608481001</code> åˆ°è¿‡å»æœ€å¤š <code>30s</code>ã€‚</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">curl &#x27;http://localhost:9090/api/v1/query&#x27; \</span><br><span class="line">  --data &#x27;query=http_requests_total&#123;code=&quot;200&quot;&#125;[30s]&#x27; \</span><br><span class="line">  --data time=1608481001</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;metric&quot;: &#123;&quot;__name__&quot;: &quot;http_requests_total&quot;, &quot;code&quot;: &quot;200&quot;&#125;,</span><br><span class="line">  &quot;values&quot;: [</span><br><span class="line">    [1608480978, &quot;863&quot;],</span><br><span class="line">    [1608480986, &quot;874&quot;],</span><br><span class="line">    [1608480094, &quot;881&quot;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/04/23/LfEf8P.png" class="lazyload" data-srcset="https://s1.ax1x.com/2022/04/23/LfEf8P.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Range vector"></p><p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹å…³äºè¿™ä¸¤ä¸ª vector ç±»å‹çš„ä¸¤ä¸ªæ¦‚å¿µï¼ˆideasï¼‰ï¼š</p><ol><li><p>Instant vectors å¯ä»¥ç”¨ç›´æ¥è¢«ç»˜åˆ¶; Range vectors åˆ™ä¸èƒ½ã€‚è¿™æ˜¯å› ä¸ºç»˜åˆ¶å›¾è¡¨éœ€è¦åœ¨ y è½´ä¸Šä¸º x è½´ä¸Šçš„æ¯ä¸ªæ—¶é—´æˆ³æ˜¾ç¤ºä¸€ä¸ªæ•°æ®ç‚¹ã€‚Instant vectors çš„æ¯ä¸ªæ—¶é—´æˆ³åªæœ‰ä¸€ä¸ªå€¼ï¼Œè€Œ Range vectors æœ‰å¾ˆå¤šã€‚ä¸ºäº†ç»˜åˆ¶æŒ‡æ ‡ï¼ˆmetricï¼‰å›¾è¡¨ï¼Œå¯¹äºåœ¨æ—¶é—´åºåˆ—ä¸­æ˜¾ç¤ºå•ä¸ªæ—¶é—´æˆ³çš„å¤šä¸ªæ•°æ®ç‚¹æ˜¯æ²¡æœ‰è¢«å®šä¹‰çš„ã€‚</p></li><li><p>Instant vectors å¯ä»¥è¿›è¡Œæ¯”è¾ƒå’Œè¿ç®—; Range vectors ä¸èƒ½ã€‚è¿™ä¹Ÿæ˜¯ç”±äºæ¯”è¾ƒè¿ç®—ç¬¦å’Œç®—æœ¯è¿ç®—ç¬¦çš„å®šä¹‰æ–¹å¼ã€‚å¯¹äºæ¯ä¸ªæ—¶é—´æˆ³ï¼Œå¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªå€¼ï¼Œæˆ‘ä»¬ä¸çŸ¥é“å¦‚ä½•æ·»åŠ [1]æˆ–å°†å®ƒä»¬ä¸å¦ä¸€ä¸ªæ€§è´¨ç±»ä¼¼çš„æ—¶é—´åºåˆ—è¿›è¡Œæ¯”è¾ƒã€‚</p></li></ol><h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦-Range-Vectors"><a href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦-Range-Vectors" class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦ Range Vectors"></a>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦ Range Vectors</h2><p>æˆ‘ä»¬ç°åœ¨çŸ¥é“ï¼ŒRange Vectors ä¸èƒ½ç›´æ¥ç”¨äºå›¾è¡¨æˆ–èšåˆã€‚å› æ­¤ï¼Œå¾ˆè‡ªç„¶åœ°è¦é—®å®ƒä»¬ä¸ºä»€ä¹ˆä¼šå­˜åœ¨? ç­”æ¡ˆå¾ˆç®€å•: <strong>counter</strong>ã€‚ counter æ˜¯ç›‘æ§ç³»ç»Ÿçš„åŸºæœ¬ç±»å‹ä¹‹ä¸€ï¼Œé™¤äº† gauges å’Œ timingsã€‚æˆ‘ä»¬å°†ç»§ç»­å‰é¢çš„ç¤ºä¾‹ï¼Œå»è¯•å›¾ç†è§£ counters å’Œ range vectors æ˜¯å¦‚ä½•ç›¸äº’ä½œç”¨çš„ã€‚</p><p>å‡è®¾æˆ‘ä»¬æƒ³çŸ¥é“æˆ‘ä»¬çš„æœåŠ¡ç°åœ¨æ­£åœ¨å¤„ç†å¤šå°‘è¯·æ±‚ã€‚æˆ‘ä»¬çš„åº¦é‡æŒ‡æ ‡ <code>http_requests_total&#123;code=&quot;200&quot;ï¼Œhandler=&quot;/api/v1/query&quot;&#125;</code> æ˜¯ä¸€ä¸ª instant vectorï¼Œå…¶å€¼ä»£è¡¨ä¸€ä¸ªå•è°ƒé€’å¢çš„ counter [2]ã€‚è¿™ä¸ª counter ç”¨äºåº¦é‡æˆ‘ä»¬çš„æœåŠ¡æ¥æ”¶åˆ°çš„è¯·æ±‚æ€»æ•°ã€‚æˆ‘ä»¬çŸ¥é“ Prometheus åœ¨è¿‡å»çš„ä¸åŒæ—¶é—´é‡Œ â€œçˆ¬å–ï¼ˆscrapedï¼‰â€ äº†è¿™ä¸ª counterï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä»è¯·æ±‚ counter çš„å€¼å¼€å§‹:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl &#x27;http://localhost:9090/api/v1/query&#x27; \</span><br><span class="line">  --data &#x27;query=http_requests_total&#123;code=&quot;200&quot;,handler=&quot;/api/v1/query&quot;&#125;&#x27;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;metric&quot;: &#123;&quot;__name__&quot;: &quot;http_requests_total&quot;, &quot;code&quot;: &quot;200&quot;, &quot;handler&quot;:&quot;/api/v1/query&quot;&#125;,</span><br><span class="line">  &quot;value&quot;: [1608437313, &quot;881&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†ä»å“åº”ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ ·åšä¼šå¾—åˆ°æˆ‘ä»¬ä¸æ„Ÿå…´è¶£çš„è¯·æ±‚çš„æ€»æ•°ï¼Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯å®ƒåœ¨è¿‡å»çš„æœ‰é™æ—¶é—´å†…æ”¶åˆ°çš„è¯·æ±‚çš„æ•°é‡ï¼ˆä¸Šé¢è¡¨ç¤ºçš„æ˜¯è¿‡å»æ‰€æœ‰æ—¶é—´çš„è¯·æ±‚æ€»é‡ï¼‰ï¼Œä¾‹å¦‚ï¼Œæœ€è¿‘åäº”åˆ†é’Ÿã€‚å½“æˆ‘ä»¬åªæœ‰ä¸€ä¸ªä¸æ–­å¢é•¿çš„ counter æ—¶ï¼Œæˆ‘ä»¬å¦‚ä½•å¾—åˆ°è¿™ä¸ªæ•°å­—ï¼Ÿ</p><p>æ›´å¥½çš„æ–¹æ³•æ˜¯ç”¨ counter çš„å½“å‰å€¼å‡å» 15 åˆ†é’Ÿå‰çœ‹åˆ°çš„ counter å€¼ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°å®ä¾‹åœ¨è¿™æ®µæ—¶é—´å†…æ¥æ”¶åˆ°çš„ç¡®åˆ‡è¯·æ±‚æ•°ã€‚ä¸ºäº†åœ¨ PromQL ä¸­è¡¨ç¤ºè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ç»™ instant vector é™„åŠ æŒç»­æ—¶é—´ <code>[15m]</code>ã€‚è¿™éƒ¨åˆ†å«åš range selectorï¼Œå®ƒæŠŠ instant vector è½¬æ¢æˆ range vectorã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨åƒ<code>increase</code> è¿™æ ·çš„å‡½æ•°ï¼Œå®ƒæœ‰æ•ˆåœ°[3]ä» range å¼€å§‹å¤„çš„æ•°æ®ç‚¹å‡å» range ç»“æŸå¤„çš„æ•°æ®ç‚¹ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">curl &#x27;http://localhost:9090/api/v1/query&#x27; \</span><br><span class="line">  --data &#x27;query=increase(http_requests_total&#123;code=&quot;200&quot;,handler=&quot;/api/v1/query&quot;&#125;[15m])&#x27;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;metric&quot;: &#123;&quot;__name__&quot;: &quot;http_requests_total&quot;, &quot;code&quot;: &quot;200&quot;, &quot;handler&quot;:&quot;/api/v1/query&quot;&#125;,</span><br><span class="line">  &quot;values&quot;: [</span><br><span class="line">    [1608437313, &quot;18.4&quot;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æŸ¥è¯¢è¯­å¥çš„è§£é‡Šï¼šå®ƒè¡¨ç¤ºè¿‡å» 15 åˆ†é’Ÿå†…è¯·æ±‚æ€»æ•°çš„å¢é•¿é‡ã€‚ä¸Šé¢çš„å“åº”åŒ…å«äº†æˆ‘ä»¬æƒ³è¦æ‹¿åˆ°çš„æœŸæœ›ä¹‹å†…çš„ç­”æ¡ˆã€‚ç»“æœä»¥ instant vector çš„å½¢å¼å‡ºç°ï¼Œç°åœ¨å¯ä»¥ç”¨äºè¿›ä¸€æ­¥ç»˜åˆ¶å›¾è¡¨æˆ–æ±‡æ€»ï¼ˆaggregatedï¼‰ã€‚</p><h2 id="ç”¨äº-Range-Vector-çš„å‡½æ•°"><a href="#ç”¨äº-Range-Vector-çš„å‡½æ•°" class="headerlink" title="ç”¨äº Range Vector çš„å‡½æ•°"></a>ç”¨äº Range Vector çš„å‡½æ•°</h2><p>ç±»ä¼¼äº <a href="https://prometheus.io/docs/prometheus/latest/querying/functions/#increase">increase(range-vector)</a>ï¼Œä¸‹é¢çš„ PromQL å‡½æ•°åªå¯ç”¨äº range vectors:</p><ul><li>changes(range-vector)</li><li>absent_over_time(range-vector)</li><li>delta(range-vector)</li><li>deriv(range-vector)</li><li>holt_winters(range-vector, scalar, scalar)</li><li>idelta(range-vector)</li><li>irate(range-vector)</li><li>predict_linear(range-vector, scalar)</li><li>rate(range-vector)</li><li>resets(range-vector)</li><li>avg_over_time(range-vector)</li><li>min_over_time(range-vector)</li><li>max_over_time(range-vector)</li><li>sum_over_time(range-vector)</li><li>count_over_time(range-vector)</li><li>quantile_over_time(scalar, range-vector)</li><li>stddev_over_time(range-vector)</li><li>stdvar_over_time(range-vector)</li></ul><p>ä¸Šè¿°çš„å‡½æ•°çš„è®¡ç®—ç»“æœè¿”å›éƒ½ä¸º instant vectorã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºè¿™æ ·çš„ç»“è®ºï¼š range vector ä½œä¸ºè¿™äº›ä»¥ â€œrange vectorâ€ ä¸ºè¾“å…¥å€¼çš„å‡½æ•°æ˜¯æœ‰ç”¨çš„ã€‚</p><p>é™¤äº†ä¸Šé¢çš„å‡½æ•°å’Œ curls[^1]ï¼Œè¿˜æœ‰æ›´å¤šå…³äº range vectors çš„å†…å®¹ï¼Œæˆ‘ä»¬å°†åœ¨<a href="https://satyanash.net/software/2021/06/09/charting-range-vectors-prometheus.html">å¦ä¸€ç¯‡åšæ–‡</a>ä¸­ä»‹ç»ã€‚</p><h2 id="è„šæ³¨"><a href="#è„šæ³¨" class="headerlink" title="è„šæ³¨"></a>è„šæ³¨</h2><p>[1] æœªå®šä¹‰çš„è¡Œä¸ºå¹¶ä¸æ„å‘³ç€ä¸å¯èƒ½å®šä¹‰ä¸€ç§ä½¿è¿™äº›æ“ä½œå¯ä»¥å·¥ä½œçš„æ–¹å¼ã€‚è¿™æ„å‘³ç€å®ç°é€‰æ‹©é¿å…æ”¯æŒè¿™ä¸€ç‚¹ã€‚è¿™æ ·åšå¯ä»¥ç®€åŒ–å®ç°ï¼Œæˆ–è€…å› ä¸ºå¯èƒ½æ²¡æœ‰ä¸€ç§æ–¹æ³•ä½¿å®ƒåœ¨å„ç§æƒ…å†µ ï¼ˆcasesï¼‰ä¹‹é—´ä¸€è‡´åœ°å·¥ä½œã€‚</p><p>[2] å•è°ƒé€’å¢ counter çš„å€¼æ°¸ä¸å‡å°‘ï¼›å®ƒè¦ä¹ˆå¢åŠ è¦ä¹ˆä¿æŒä¸å˜ã€‚Prometheus åªå…è®¸ä¸€ç§ counter å‡å°‘çš„æƒ…å†µï¼Œå³åœ¨ç›®æ ‡é‡å¯æœŸé—´ã€‚å¦‚æœ counter å€¼ä½äºä¹‹å‰è®°å½•çš„å€¼ï¼Œåˆ™ <code>rate</code> å’Œ <code>increase</code> ç­‰ range vector å‡½æ•°å°†å‡å®šç›®æ ‡é‡æ–°å¯åŠ¨å¹¶å°†æ•´ä¸ªå€¼æ·»åŠ åˆ°å®ƒæ‰€çŸ¥é“çš„ç°æœ‰å€¼ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åº”è¯¥æ€»æ˜¯å…ˆ rate å sumï¼Œè€Œä¸æ˜¯å…ˆ sun å rateã€‚<a href="https://www.robustperception.io/rate-then-sum-never-sum-then-rate">Rate then sum, never sum then rate</a></p><p>[3] â€œæœ‰æ•ˆï¼ˆeffectivelyï¼‰â€æ˜¯è¿™é‡Œçš„å…³é”®è¯ã€‚<code>increase</code> å®é™…ä¸Šä¹Ÿå¯ä»¥è¿›è¡Œå¤–æ¨ï¼Œå› ä¸ºæ‰€è¯·æ±‚çš„æŒç»­æ—¶é—´å¯èƒ½æ²¡æœ‰åœ¨èŒƒå›´ï¼ˆrangeï¼‰çš„â€œå¼€å§‹â€å’Œâ€œç»“æŸâ€å¤„ç²¾ç¡®å¯¹é½çš„æ•°æ®ç‚¹ã€‚</p><blockquote><p>åŸæ–‡ï¼š<a href="https://satyanash.net/software/2021/01/04/understanding-prometheus-range-vectors.html">https://satyanash.net/software/2021/01/04/understanding-prometheus-range-vectors.html</a><br>ä½œè€…ï¼š<a href="satyanash">Satyajeet Kanetkar</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Prometheus </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Prometheus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Go json Marshal &amp; UnMarshal çš„ä¸€ç‚¹å° trick</title>
      <link href="/2022/03/30/Go-json-Marshal-UnMarshal-%E7%9A%84%E4%B8%80%E7%82%B9%E5%B0%8F-trick/"/>
      <url>/2022/03/30/Go-json-Marshal-UnMarshal-%E7%9A%84%E4%B8%80%E7%82%B9%E5%B0%8F-trick/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>åœ¨ç¼–å†™ Web Service ç­‰æ¶‰åŠæ•°æ®åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åœºæ™¯ï¼Œå¯¹äº JSON ç±»å‹çš„æ•°æ®ï¼Œåœ¨ Go ä¸­æˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨åˆ° <a href="https://pkg.go.dev/encoding/json">encoding/json</a> Packageã€‚æœ€è¿‘å¾®æœ‰æ‰€æ„Ÿï¼Œå°æ°´ä¸€ç¯‡</p><h2 id="omitempty"><a href="#omitempty" class="headerlink" title="omitempty"></a>omitempty</h2><p>JSON æ•°æ®çš„ UnMarshal æˆ‘ä»¬ç»å¸¸ä¼šé…åˆ Struct Tags ä½¿ç”¨ï¼Œè®© Struct çš„ Filed ä¸ JSON æ•°æ®çš„æŒ‡å®š property ç»‘å®šã€‚</p><p>å¦‚æœè¦åºåˆ—åŒ–ä¸º Go Struct çš„ JSON æ•°æ®å¯¹åº”çš„ Fields ç›¸å…³çš„ JSON properties æ˜¯ç¼ºå¤±çš„ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨ omitempty æ ‡è®° Go Fieldsï¼Œåºåˆ—åŒ–æ—¶ï¼ŒJSON æ•°æ®ä¸­ç¼ºå°‘çš„å±æ€§å°†ä¼šè¢«è®¾ç½®ä¸º Go ä¸­å¯¹åº”çš„ <a href="https://golangbyexample.com/go-default-zero-value-all-types/">zero-value</a>ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">Name <span class="type">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">Age  <span class="type">string</span> <span class="string">`json:&quot;age,omitempty&quot;`</span></span><br><span class="line">Weak <span class="type">bool</span>   <span class="string">`json:&quot;weak,omitempty&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">jsonData := <span class="string">`&#123;&quot;name&quot;:&quot;ShanSan&quot;&#125;`</span></span><br><span class="line">req := Person&#123;&#125;</span><br><span class="line">_ = json.Unmarshal([]<span class="type">byte</span>(jsonData), &amp;req)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%+v&quot;</span>, req)</span><br><span class="line">fmt.Println(req.Age)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output</span></span><br><span class="line"><span class="comment">// &#123;Name:ShanSan Age: Weak:false&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure><p><a href="https://play.golang.com/p/bMHVOEmIld-">Go Playground Link</a></p><p>ä½†ä¸Šé¢çš„ä¾‹å­å¯¹äºä¸€äº›åœºæ™¯çš„å¤„ç†å¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚çœ‹ä¸‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">Name <span class="type">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">Age  <span class="type">string</span> <span class="string">`json:&quot;age,omitempty&quot;`</span></span><br><span class="line">Weak <span class="type">bool</span>   <span class="string">`json:&quot;weak,omitempty&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">jsonData := <span class="string">`&#123;&quot;name&quot;:&quot;ShanSan&quot;, &quot;age&quot;: &quot;&quot;&#125;`</span></span><br><span class="line">req := Person&#123;&#125;</span><br><span class="line">_ = json.Unmarshal([]<span class="type">byte</span>(jsonData), &amp;req)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%+v&quot;</span>, req)</span><br><span class="line">fmt.Println(req.Age)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output</span></span><br><span class="line"><span class="comment">// &#123;Name:ShanSan Age: Weak:false&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° age ä¸º <code>&quot;&quot;</code> æ—¶ï¼Œå’Œç¼ºçœæ—¶çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚å¾ˆæ˜¾ç„¶ï¼Œä¸Šé¢çš„å†™æ³•ï¼Œç¼ºçœçš„å­—æ®µå’Œç©ºå­—æ®µæ˜¯æ²¡æœ‰è¢«åŒºåˆ†å¼€çš„ã€‚å¯¹äºä¸€äº›æ•°æ®çš„ Update æ“ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬åªæƒ³ Update Name å­—æ®µï¼Œå¯¹åº”çš„ JSON æ•°æ®ä¸º <code>&#123;&quot;name&quot;:&quot;ShanSan&quot;&#125;</code>ï¼Œæ‰§è¡Œä¸Šè¿°çš„ååºåˆ—åŒ–åŠ¨ä½œï¼ŒAge å­—æ®µä¼šè¢«è®¾ç½®ä¸º empty stringï¼ŒWaek ä¹Ÿè¢«è®¾ç½®ä¸ºäº† falseï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³çœ‹åˆ°çš„ã€‚</p><h3 id="nil-ä¸€ä¸‹"><a href="#nil-ä¸€ä¸‹" class="headerlink" title="nil ä¸€ä¸‹"></a>nil ä¸€ä¸‹</h3><p>æˆ‘ä»¬å¯ä»¥æŒ‡é’ˆç±»å‹ï¼ˆpointer typeï¼‰å¯¹ä¸Šé¢çš„æƒ…å†µåŒºåˆ†ä¸€ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">Name *<span class="type">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">Age  *<span class="type">string</span> <span class="string">`json:&quot;age,omitempty&quot;`</span></span><br><span class="line">Weak *<span class="type">bool</span>   <span class="string">`json:&quot;weak,omitempty&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">jsonData := <span class="string">`&#123;&quot;name&quot;:&quot;ShanSan&quot;&#125;`</span></span><br><span class="line">jsonDataEmptyAge := <span class="string">`&#123;&quot;name&quot;:&quot;ShanSan&quot;, &quot;age&quot;: &quot;&quot;&#125;`</span></span><br><span class="line">req := Person&#123;&#125;</span><br><span class="line">reqEmptyAge := Person&#123;&#125;</span><br><span class="line">_ = json.Unmarshal([]<span class="type">byte</span>(jsonData), &amp;req)</span><br><span class="line">_ = json.Unmarshal([]<span class="type">byte</span>(jsonDataEmptyAge), &amp;reqEmptyAge)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%+v&quot;</span>, req)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%+v&quot;</span>, reqEmptyAge)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#123;Name:0xc000010390 Age:&lt;nil&gt; Weak:&lt;nil&gt;&#125;&#123;Name:0xc0000103c0 Age:0xc0000103d0 Weak:&lt;nil&gt;&#125;</span></span><br></pre></td></tr></table></figure><p>emmmï¼Œç¼ºçœçš„å­—æ®µä¸º nil äº†ã€‚</p><h3 id="Marshal-çš„æ—¶å€™"><a href="#Marshal-çš„æ—¶å€™" class="headerlink" title="Marshal çš„æ—¶å€™"></a>Marshal çš„æ—¶å€™</h3><p>åºåˆ—åŒ– struct çš„æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨äº† omitemptyï¼Œä¹Ÿä¼šå‡ºç°ç±»ä¼¼ä¸Šé¢ååºåˆ—åŒ–çš„æƒ…å†µï¼Œå¯¹äºç¼ºçœçš„ field æˆ–è€… zero-valueï¼Œåºåˆ—åŒ–å¾—åˆ°çš„ JSON æ•°æ®ä¹Ÿä¼šç¼ºçœç›¸å…³å±æ€§ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ pointer ä¿ç•™ç›¸å…³å­—æ®µï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">Name  <span class="type">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">Score <span class="type">int</span>    <span class="string">`json:&quot;score,omitempty&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> StudentWithPointer <span class="keyword">struct</span> &#123;</span><br><span class="line">Name  <span class="type">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">Score *<span class="type">int</span>   <span class="string">`json:&quot;score,omitempty&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">student := Student&#123;</span><br><span class="line">Name:  <span class="string">&quot;ShanSan&quot;</span>,</span><br><span class="line">Score: <span class="number">0</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">score := <span class="number">0</span></span><br><span class="line">studentWithPointer := StudentWithPointer&#123;</span><br><span class="line">Name:  <span class="string">&quot;ShanSan&quot;</span>,</span><br><span class="line">Score: &amp;score,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data, _ := json.Marshal(student)</span><br><span class="line">dataWithPointer, _ := json.Marshal(studentWithPointer)</span><br><span class="line">fmt.Println(<span class="type">string</span>(data))</span><br><span class="line">fmt.Println(<span class="type">string</span>(dataWithPointer))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#123;&quot;name&quot;:&quot;ShanSan&quot;&#125;</span></span><br><span class="line"><span class="comment">// &#123;&quot;name&quot;:&quot;ShanSan&quot;,&quot;score&quot;:0&#125;</span></span><br></pre></td></tr></table></figure><p><a href="https://play.golang.com/p/og6ANaMQ0D3">Go Playground</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://pkg.go.dev/encoding/json">encoding/json</a></li><li><a href="https://medium.com/@arpitkh96/differentiate-between-empty-and-not-set-fields-with-json-in-golang-957bb2c5c065">Differentiate between empty and not-set fields with JSON in Golang</a></li><li><a href="https://www.sohamkamani.com/golang/omitempty/">Goâ€™s â€œomitemptyâ€ explained</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
        <tags>
            
            <tag> json </tag>
            
            <tag> Marshal </tag>
            
            <tag> UnMarshal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>profiling &amp; Flame Graphs</title>
      <link href="/2022/02/26/profiling-flame-graph/"/>
      <url>/2022/02/26/profiling-flame-graph/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å¿½ç„¶æƒ³èµ·æ¥è¿˜æ²¡æ€ä¹ˆç”¨è¿‡ profiling toolsï¼Œè¿™å¯æ˜¯æ€§èƒ½åˆ†æâ€œæ€å™¨â€å•Šï¼Œå°æ°´ä¸€æ³¢ï¼Œå…´è®¸ä»¥åå°±ç”¨ä¸Šäº†ğŸ™ƒã€‚</p><h2 id="profiling"><a href="#profiling" class="headerlink" title="profiling"></a>profiling</h2><blockquote><p>profilingï¼Œåˆ†æã€‚æœ‰å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ä¼šç›¸å¯¹å¤„äº runtime çš„ç¨‹åºè¿›è¡ŒæŒ‡æ ‡ &amp; ç‰¹å¾åˆ†æï¼Œæ¯”å¦‚ CPU ä½¿ç”¨æƒ…å†µã€å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œrace æ£€æµ‹ç­‰ã€‚</p></blockquote><h2 id="Flame-Graphsï¼ˆç«ç„°å›¾ï¼‰"><a href="#Flame-Graphsï¼ˆç«ç„°å›¾ï¼‰" class="headerlink" title="Flame Graphsï¼ˆç«ç„°å›¾ï¼‰"></a>Flame Graphsï¼ˆç«ç„°å›¾ï¼‰</h2><blockquote><p>Flame Graphï¼Œç«ç„°å›¾ã€‚ç«ç„°å›¾æ˜¯ä¸€ç§å¸¸ç”¨çš„å¯è§†åŒ–åˆ†ææ€§èƒ½æ•°æ®çš„æ–¹å¼ã€‚ä¸åŒç±»å‹ç«ç„°å›¾é€‚åˆä¸åŒçš„æ€§èƒ½åˆ†æä¼˜åŒ–åœºæ™¯ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/flame.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/flame.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://github.com/brendangregg/FlameGraph"></p><p>ä¸Šå›¾ä¸º <strong>CPU ä½¿ç”¨æƒ…å†µ</strong>çš„ Flame Graphï¼Œæ¥è‡ª -&gt; <a href="https://github.com/brendangregg/FlameGraph">(https://github.com/brendangregg/FlameGraph</a>ã€‚é€šè¿‡è¯¥å›¾ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ° CPU å ç”¨æœ€å¤šçš„å‡½æ•°ï¼Œåˆ†æä»£ç çƒ­è·¯å¾„ã€‚ç‰¹å¾å¦‚ä¸‹ï¼š</p><ul><li>çºµè½´ï¼šè¡¨å‡½æ•°è°ƒç”¨æ ˆï¼Œä¸Šå±‚å‡½æ•°æ—¶ä¸‹å±‚å‡½æ•°çš„å­å‡½æ•°ï¼›</li><li>æ¨ªè½´ï¼šè¡¨ç¤º CPU å ç”¨æ—¶é—´ï¼Œè¶Šé•¿è¡¨ç¤ºå ç”¨æ—¶é—´è¶Šå¤šï¼›</li></ul><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šæ¨ªè½´å…ˆåé¡ºåºæ˜¯ä¸ºäº†èšåˆï¼Œè·Ÿå‡½æ•°é—´ä¾èµ–æˆ–è°ƒç”¨å…³ç³»æ— å…³ï¼›ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç«ç„°å›¾å„ç§é¢œè‰²æ˜¯ä¸ºæ–¹ä¾¿åŒºåˆ†ï¼Œæœ¬èº«ä¸å…·æœ‰ç‰¹æ®Šå«ä¹‰ã€‚</p><h2 id="å°è¯•ä¸€ä¸‹"><a href="#å°è¯•ä¸€ä¸‹" class="headerlink" title="å°è¯•ä¸€ä¸‹"></a>å°è¯•ä¸€ä¸‹</h2><h3 id="Elixir-Phoenix-Framework-amp-Flame-On"><a href="#Elixir-Phoenix-Framework-amp-Flame-On" class="headerlink" title="Elixir Phoenix Framework &amp; Flame On"></a>Elixir Phoenix Framework &amp; Flame On</h3><p>æ ¹æ®è¿™ç¯‡ Toturial -&gt; <a href="https://dockyard.com/blog/2022/02/22/profiling-elixir-applications-with-flame-graphs-and-flame-on">Profiling Elixir Applications with Flame Graphs and Flame On</a>ï¼Œæˆ‘ä»¬åœ¨ Phoenix App Telemetry Dashboard ä¸­é›†æˆ <a href="https://github.com/DockYard/flame_on">Flame On</a>ï¼ŒGET åˆ°å¦‚ä¸‹ Flame Graphï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/elixir-flame-graphs.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/elixir-flame-graphs.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Flame Graph"></p><h3 id="Go-amp-amp-pprof"><a href="#Go-amp-amp-pprof" class="headerlink" title="Go &amp;&amp; pprof"></a>Go &amp;&amp; pprof</h3><p>Go å†…ç½®äº† profiling å·¥å…· [pprof][<a href="https://github.com/google/pprof]">https://github.com/google/pprof]</a> æ–¹ä¾¿æˆ‘ä»¬å¯¹ç¨‹åºè¿›è¡Œåˆ†æï¼Œé€šè¿‡ <a href="https://pkg.go.dev/runtime/pprof">runtime/pprof</a> åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºä¸­æŒ‡å®šä½ç½®åŸ‹ä¸‹é‡‡é›†ç‚¹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;math/rand&quot;</span></span><br><span class="line"><span class="string">&quot;os&quot;</span></span><br><span class="line"><span class="string">&quot;runtime/pprof&quot;</span></span><br><span class="line"><span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">generate</span><span class="params">(n <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">rand.Seed(time.Now().UnixNano())</span><br><span class="line">nums := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">nums = <span class="built_in">append</span>(nums, rand.Int())</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">insertionSort</span><span class="params">(nums []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> n = <span class="built_in">len</span>(nums)</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">j := i</span><br><span class="line"><span class="keyword">for</span> j &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">if</span> nums[j<span class="number">-1</span>] &gt; nums[j] &#123;</span><br><span class="line">nums[j<span class="number">-1</span>], nums[j] = nums[j], nums[j<span class="number">-1</span>]</span><br><span class="line">&#125;</span><br><span class="line">j = j - <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">profileFile, _ := os.OpenFile(<span class="string">&quot;cpu.pprof&quot;</span>, os.O_CREATE, <span class="number">0644</span>)</span><br><span class="line"><span class="keyword">defer</span> profileFile.Close()</span><br><span class="line"></span><br><span class="line">pprof.StartCPUProfile(profileFile)</span><br><span class="line"><span class="keyword">defer</span> pprof.StopCPUProfile()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> n <span class="type">int</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">nums := generate(n)</span><br><span class="line">insertionSort(nums)</span><br><span class="line">n *= <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">go run main.go # ç”Ÿæˆ cpu.pprof profiling æ–‡ä»¶</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨ http server æŸ¥çœ‹åˆ†ææ•°æ®</span></span><br><span class="line">go tool pprof -http=:8080 cpu.pprof</span><br></pre></td></tr></table></figure><p>ç„¶åå¯ä»¥ GET åˆ°ç±»ä¼¼å¦‚ä¸‹å¾— Flame Graphsï¼Œå°±æŒºä¸ Simplex çš„ï¼Œ2333ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/go-flame-graphs.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/go-flame-graphs.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="go-flame-graphs"></p><h3 id="React"><a href="#React" class="headerlink" title="React"></a>React</h3><p>React App çš„ profiling æˆ‘ä»¬å¯ä»¥å€ŸåŠ©æµè§ˆå™¨æ‰©å±• <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi">React DevTools</a> è¿›è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨ä½¿ç”¨å®˜æ–¹æä¾›çš„ <a href="https://reactjs.org/docs/profiler.html">Profiler API</a>.</p><p>æˆ‘ä»¬èµ·ä¸ª Ant-Design Pro æ¥çœ‹çœ‹ï¼š<a href="https://github.com/ant-design/ant-design-pro">https://github.com/ant-design/ant-design-pro</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn create umi</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/react-devtools.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/react-devtools.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="antdesign-pro profiling"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.brendangregg.com/flamegraphs.html">Flame Graphs</a></li><li><a href="https://dockyard.com/blog/2022/02/22/profiling-elixir-applications-with-flame-graphs-and-flame-on">Profiling Elixir Applications with Flame Graphs and Flame On</a></li><li><a href="http://bingerambo.com/posts/2021/04/go%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90pprof/#top">Goç¨‹åºæ€§èƒ½åˆ†æ pprof</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Performance </category>
          
          <category> Profiling </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elixir </tag>
            
            <tag> React </tag>
            
            <tag> Go </tag>
            
            <tag> Profiling </tag>
            
            <tag> Flame Graphs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çŠ¶æ€æœºçš„ä¸€ç‚¹å„¿äº‹ï¼ˆfsm-smr-dfsmï¼‰</title>
      <link href="/2022/01/31/fsm-smr-dfsm/"/>
      <url>/2022/01/31/fsm-smr-dfsm/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="æœ‰é™çŠ¶æ€æœºï¼ˆFinite-State-Machineï¼‰"><a href="#æœ‰é™çŠ¶æ€æœºï¼ˆFinite-State-Machineï¼‰" class="headerlink" title="æœ‰é™çŠ¶æ€æœºï¼ˆFinite State Machineï¼‰"></a>æœ‰é™çŠ¶æ€æœºï¼ˆFinite State Machineï¼‰</h2><blockquote><p>æœ‰é™çŠ¶æ€æœºï¼ˆè‹±è¯­ï¼šfinite-state machineï¼Œç¼©å†™ï¼šFSMï¼‰åˆç§°æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆè‹±è¯­ï¼šfinite-state automatonï¼Œç¼©å†™ï¼šFSAï¼‰ï¼Œç®€ç§°çŠ¶æ€æœºï¼Œæ˜¯è¡¨ç¤ºæœ‰é™ä¸ªçŠ¶æ€ä»¥åŠåœ¨è¿™äº›çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å’ŒåŠ¨ä½œç­‰è¡Œä¸ºçš„æ•°å­¦è®¡ç®—æ¨¡å‹ã€‚- <a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA">ç»´åŸºç™¾ç§‘</a></p></blockquote><ul><li>æœ‰é™çŠ¶æ€æœºçš„è¦ç´ <ul><li>çŠ¶æ€ï¼šçŠ¶æ€æ˜¯æœ‰é™ä¸ªçš„ï¼Œä»»ä¸€æ—¶åˆ»ï¼Œåªå¤„äºä¸€ç§çŠ¶æ€</li><li>æ¡ä»¶ï¼šç”¨äºè§¦å‘çŠ¶æ€è½¬ç§»åŠ¨ä½œçš„â€œäº‹ä»¶â€ï¼Œæ¡ä»¶è¢«æ»¡è¶³ï¼ˆè¾“å…¥ï¼‰å°±ä¼šè§¦å‘ç›¸åº”åŠ¨ä½œ</li><li>åŠ¨ä½œï¼šæ¡ä»¶æ»¡è¶³åï¼Œæ‰§è¡ŒçŠ¶æ€è½¬ç§»çš„è¡Œä¸º</li><li>è½¬æ¢ï¼šä»ä¸€ä¸ªçŠ¶æ€è½¬æ¢ä¸ºå¦ä¸€ä¸ªçŠ¶æ€ï¼Œè½¬æ¢ä¸€èˆ¬ç”±çŠ¶æ€è½¬æ¢å‡½æ•°å®Œæˆ</li></ul></li></ul><p>è®©æˆ‘ä»¬æ¥çœ‹ä¸‹æœ‰é™çŠ¶æ€æœºçš„ç»å…¸ä¾‹å­ï¼šæ—‹è½¬é—¸æœºï¼ˆè¿™å¹´ä»£é—¸æœºåŸºæœ¬ä¸ç”¨ç¡¬å¸äº†ğŸ˜‚ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/R.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/R.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ—‹è½¬é—¸æœº"></p><p>ä½¿ç”¨çŠ¶æ€å›¾è¡¨ç¤ºçš„è¯å°±æ˜¯ä¸‹é¢è¿™æ ·å­ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/fsm.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/fsm.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="çŠ¶æ€è½¬æ¢å›¾"></p><ul><li>çŠ¶æ€ï¼šæ—‹è½¬é—¸æœºåªæœ‰ä¸¤ç§çŠ¶æ€ï¼šé”å®šå’Œè§£é”</li><li>æ¡ä»¶ã€åŠ¨ä½œã€è½¬æ¢ï¼šé—¸æœºçš„<strong>åˆå§‹çŠ¶æ€</strong>æ˜¯é”å®šï¼ˆLockedï¼‰çš„ï¼Œå½“æ¸¸å®¢æ”¾ç½®ç¡¬å¸ï¼ˆCoinï¼‰åˆ°é—¸æœºä¸­æ—¶ï¼Œé—¸æœºå°±ä¼šè½¬æ¢ä¸ºè§£é”ï¼ˆUn-lockedï¼‰çŠ¶æ€ï¼Œå½“æ¸¸å®¢æ‰§è¡Œæ¨åŠ¨ä½œé€šè¿‡é—¸æœºåï¼Œé—¸æœºçŠ¶æ€åˆä¼šè¢«è½¬æ¢ä¸ºé”å®šï¼ˆLockedï¼‰ã€‚<ul><li>å½“é—¸æœºå¤„äºè§£é”ï¼ˆUn-lockedï¼‰çŠ¶æ€æ—¶ï¼Œåå¤çš„æ”¾ç¡¬å¸æ˜¯æ²¡æœ‰ç”¨çš„ï¼ŒçŠ¶æ€ä¸ä¼šå˜ï¼ŒåŒç†ï¼Œé”å®šæ€æ—¶ï¼Œåå¤ Push æ—‹è½¬é—¨ä¹Ÿæ˜¯æ²¡ç”¨çš„ï¼Œé—¸æœºçŠ¶æ€ä¸ä¼šå˜ï¼Œæ¸¸å®¢é€šè¿‡ä¸äº†ã€‚</li></ul></li></ul><p>ç”¨çŠ¶æ€è½¬æ¢è¡¨è¡¨ç¤ºå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/fsm-table.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/fsm-table.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="çŠ¶æ€è½¬æ¢è¡¨"></p><h3 id="Go-å®ç°æ—‹è½¬é—¨çš„-FSM"><a href="#Go-å®ç°æ—‹è½¬é—¨çš„-FSM" class="headerlink" title="Go å®ç°æ—‹è½¬é—¨çš„ FSM"></a>Go å®ç°æ—‹è½¬é—¨çš„ FSM</h3><p>åŸºäº Go è¯­è¨€ï¼Œå¯å®ç°æ—‹è½¬é—¨é—¸æœºçš„ FSM å¦‚ä¸‹ï¼ŒStateTransitionTable å³ä¸ºçŠ¶æ€è½¬æ¢è¡¨ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;bufio&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;os&quot;</span></span><br><span class="line"><span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">Locked = <span class="literal">iota</span></span><br><span class="line">Unlocked</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">InputCoin = <span class="string">&quot;coin&quot;</span></span><br><span class="line">InputPush = <span class="string">&quot;push&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> State <span class="type">uint32</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> StateTransitionTableDef <span class="keyword">struct</span> &#123;</span><br><span class="line">State State</span><br><span class="line">Input <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Action</span></span><br><span class="line"><span class="keyword">type</span> TransitionFunc <span class="function"><span class="keyword">func</span><span class="params">(state *State)</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> StateTransitionTable = <span class="keyword">map</span>[StateTransitionTableDef]TransitionFunc&#123;</span><br><span class="line">&#123;Locked, InputCoin&#125;: <span class="function"><span class="keyword">func</span><span class="params">(state *State)</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;Unlocks the turnstile so that the customer can push through.&quot;</span>)</span><br><span class="line">*state = Unlocked</span><br><span class="line">&#125;,</span><br><span class="line">&#123;Locked, InputPush&#125;: <span class="function"><span class="keyword">func</span><span class="params">(state *State)</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;The turnstile has been locked.&quot;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">&#123;Unlocked, InputCoin&#125;: <span class="function"><span class="keyword">func</span><span class="params">(state *State)</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;The turnstile has been unlocked.&quot;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">&#123;Unlocked, InputPush&#125;: <span class="function"><span class="keyword">func</span><span class="params">(state *State)</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;When the customer has pushed through, locks the turnstile.&quot;</span>)</span><br><span class="line">*state = Locked</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TurnStile <span class="keyword">struct</span> &#123;</span><br><span class="line">State State</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *TurnStile)</span></span> ExecuteAction(action <span class="type">string</span>) &#123;</span><br><span class="line">stateActionTupple := StateTransitionTableDef&#123;</span><br><span class="line">t.State,</span><br><span class="line">strings.TrimSpace(action),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> transFunc := StateTransitionTable[stateActionTupple]; transFunc == <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;Unknown action, please try again!&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">transFunc(&amp;t.State)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">turnstileFSM := &amp;TurnStile&#123;</span><br><span class="line">State: Locked, <span class="comment">// Initial State</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">prompt(turnstileFSM.State)</span><br><span class="line">reader := bufio.NewReader(os.Stdin)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">action, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">log.Fatalln(err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">turnstileFSM.ExecuteAction(action)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">prompt</span><span class="params">(s State)</span></span> &#123;</span><br><span class="line">m := <span class="keyword">map</span>[State]<span class="type">string</span>&#123;</span><br><span class="line">Locked:   <span class="string">&quot;Locked&quot;</span>,</span><br><span class="line">Unlocked: <span class="string">&quot;Unlocked&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;current state is: [%s], please input action: [coin | push]: \n&quot;</span>, m[s])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="FSM-åº”ç”¨-è¯æ³•åˆ†æ"><a href="#FSM-åº”ç”¨-è¯æ³•åˆ†æ" class="headerlink" title="FSM åº”ç”¨-è¯æ³•åˆ†æ"></a>FSM åº”ç”¨-è¯æ³•åˆ†æ</h3><p>FSM å¾ˆå…¸å‹çš„ä¸€ä¸ªåº”ç”¨å°±æ˜¯ç”¨äºç¼–è¯‘å™¨å‰ç«¯-&gt;è¯æ³•åˆ†æå™¨ï¼ˆLexerï¼‰çš„è¯æ³•åˆ†æä¸Šï¼ˆtokenizeï¼‰ã€‚æ¯”å¦‚å¦‚ä¸‹å…³ç³»è¡¨è¾¾å¼è¯­å¥çš„ tokenize ä¸Šï¼š</p><ul><li>blogAge &gt; 3</li></ul><p>æˆ‘ä»¬çš„ Lexer æ‰«æå…³ç³»è¡¨è¾¾å¼æ—¶éœ€è¦è¯†åˆ«åˆ° blogAge ä¸ºæ ‡è¯†ç¬¦ï¼ˆIdentifierï¼‰ï¼Œ&gt; ä¸ºæ¯”è¾ƒæ“ä½œç¬¦ï¼ˆGreaterï¼‰ï¼Œ3 ä¸ºæ•°å­—å­—é¢é‡ï¼ˆNumericLiteralï¼‰ï¼Œå¯¹åº”çš„è¯æ³•è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>æ ‡è¯†ç¬¦ï¼ˆIdentifierï¼‰ï¼šé¦–å­—ç¬¦éœ€è¦ä¸ºå­—æ¯ï¼Œå…¶ä»–å­—ç¬¦å¯ä¸ºæ•°å­—æˆ–å­—æ¯æˆ–ä¸‹åˆ’çº¿</li><li>æ¯”è¾ƒæ“ä½œç¬¦ï¼ˆGreaterï¼‰ï¼š&gt;</li><li>æ•°å­—å­—é¢é‡ï¼ˆNumericLiteralï¼‰ï¼šå…¨éƒ¨ç”±æ•°å­—ç»„æˆ</li></ul><p>å¯¹åº”çš„ FSM ç®€åŒ–ç‰ˆçŠ¶æ€å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/fsm-expr.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/fsm-expr.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å…³ç³»è¡¨è¾¾å¼è¯æ³•åˆ†æçŠ¶æ€å›¾"></p><h2 id="å¤åˆ¶çŠ¶æ€æœºï¼ˆReplicated-State-Machineï¼‰"><a href="#å¤åˆ¶çŠ¶æ€æœºï¼ˆReplicated-State-Machineï¼‰" class="headerlink" title="å¤åˆ¶çŠ¶æ€æœºï¼ˆReplicated State Machineï¼‰"></a>å¤åˆ¶çŠ¶æ€æœºï¼ˆReplicated State Machineï¼‰</h2><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸï¼ŒçŠ¶æ€æœºè¢«ç”¨äºä¿è¯èŠ‚ç‚¹çŠ¶æ€çš„ä¸€è‡´æ€§ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸€è‡´æ€§ç®—æ³•æ˜¯åŸºäºå¤åˆ¶çŠ¶æ€æœºï¼ˆReplicated State Machineï¼‰æå‡ºæ¥çš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/Figure-1-Replicated-state-machine-architecture.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/Figure-1-Replicated-state-machine-architecture.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¤åˆ¶çŠ¶æ€æœºæ¶æ„"></p><p>æ¯ä¸€ä¸ª Server èŠ‚ç‚¹éƒ½ä¼šæœ‰ä¸€ä¸ªçŠ¶æ€æœºï¼Œè¿™ä¸ªçŠ¶æ€æœºçš„è¾“å…¥æ¥æºä¸ºä¸€ä»½å‚¨å­˜ç€å‘½ä»¤åºåˆ—çš„æ—¥å¿—ï¼Œå¯¹äºç›¸åŒçš„å‘½ä»¤è¾“å…¥ï¼Œæ¯ä¸ªèŠ‚ç‚¹çŠ¶æ€æœºï¼ˆç¡®å®šæœ‰é™è‡ªåŠ¨æœº DFAï¼ŒDeterministic Finite Automataï¼‰çš„è¾“å‡ºæ˜¯ç¡®å®šçš„ã€ç›¸åŒçš„ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://knowledge-sharing.gitbooks.io/raft/content/chapter2.html">å¤åˆ¶çŠ¶æ€æœº</a></li><li><a href="https://en.wikipedia.org/wiki/Finite-state_machine">Finite-state machine</a></li><li><a href="https://www.cnblogs.com/double12gzh/p/13621445.html">ä½¿ç”¨ Golang å®ç°çŠ¶æ€æœº</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Compile </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FSM </tag>
            
            <tag> Compiler </tag>
            
            <tag> Lexer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2021 | è‚†æ„éšå¿ƒ</title>
      <link href="/2022/01/01/2021-annual-reviewed/"/>
      <url>/2022/01/01/2021-annual-reviewed/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="Yeah"><a href="#Yeah" class="headerlink" title="Yeah"></a>Yeah</h2><p>â€œå…œå…œè½¬è½¬â€åˆä¸€å¹´äº†ï¼Œåˆåˆ°äº†è¯¥æ°´å¹´åº¦ Review çš„æ—¶å€™å•¦âœ…â‡ï¸ã€‚</p><p>ç®—ä¸‹æ¥ï¼Œåšå®¢ä¸‰å¹´äº†ï¼Œå‡†å¤‡å¼€å¯æ–°çš„ä¸‰å¹´äº†ã€‚è¿™ç¯‡æ€»ç»“ä¹Ÿç®—æ˜¯ç¬¬ä¸‰ç¯‡æ€»ç»“äº†ï¼Œ3 - å¯ä»¥è¯´æ˜¯æˆ‘å¾ˆå–œæ¬¢çš„æ•°å­—ï¼ŒæŒºå¤šç½‘åï¼ˆShanSanã€yeshan333ï¼‰ï¼Œè¿˜æœ‰åšå®¢åŸŸåï¼ˆshansan.topã€shan333.cnã€â€¦ï¼‰æ˜¯å’Œâ€œä¸‰â€æœ‰å…³çš„ï¼ˆand so onï¼‰ï¼Œä¹Ÿç®—æ˜¯â€œè°éŸ³æ¢—â€å•¦ğŸ˜ï¼Ÿ</p><p>å›å¤´çœ‹çœ‹ä¹‹å‰å†™çš„å‡ ç¯‡æ€»ç»“ï¼Œè¿˜æŒºæœ‰æ„æ€çš„ã€‚21 å¹´ä¼¼ä¹å¹¶æ²¡æœ‰å¤ªå¤šé‚£ä¹ˆåˆ»æ„å»åšçš„äº‹ï¼Œæƒ³åˆ°äº†å°±å»è¯•è¯•äº†ã€‚è¿™ä¸€æ¬¡ï¼Œä¸éœ€è¦é‚£ä¹ˆçš„æœ‰æ¡ç†æ€§ï¼Œéšæ‰‹ä¸€è®°ã€‚</p><span id="more"></span><h2 id="åšå®¢-amp-æŠ€æœ¯-Blog-amp-Techs"><a href="#åšå®¢-amp-æŠ€æœ¯-Blog-amp-Techs" class="headerlink" title="åšå®¢ &amp; æŠ€æœ¯-Blog &amp; Techs"></a>åšå®¢ &amp; æŠ€æœ¯-Blog &amp; Techs</h2><p>21 å¹´çš„åšå®¢æ²¡æœ‰å¤šå¤§çš„å˜åŒ–ï¼Œå®ç°äº†ä¸ªç®€å•çš„ <a href="https://shan333.cn/2021/01/19/hexo-blog-synchronization-with-rsync/">GitHub Action</a> åšäº†ä¸‹ CI/CD åˆ°è…¾è®¯äº‘çš„ CVM æœåŠ¡å™¨ï¼ˆå¯¹åº”åŸŸå shan333.cn ä¸‹çš„ä¸€ä¸ªå¤‡ä»½ [backup] åšå®¢ï¼‰ï¼Œåˆ‡æ¢äº†ä¸‹è¯„è®ºç³»ç»Ÿåˆ° Walineï¼Œæ›´æœ‰èŒƒäº†~ã€‚</p><p>ä»”ç»†ç®—ç®—ï¼Œåšå®¢çš„ PV åº”è¯¥æœ‰ 10w äº†å§ï¼ˆç®—ä¸Šæˆ‘ä¸­é€”å¹²æ‰çš„ PV ç»Ÿè®¡ğŸ˜‚ï¼‰ï¼Ÿåšå®¢å¤ªæ°´ï¼Œä¹‹å‰æ²¡æ•¢ç”©ç¾¤è¢« dalao ä¸€æ³¢åæ§½ &amp; æœ¬æ¥å°±å†™ç€ç©çš„ï¼Œä¸éœ€è¦è¿‡å¤šçš„ PV/UVã€‚</p><p>BTWï¼Œå½“åˆç”©ä¸‹çš„ä¸€ä¸ªæœˆè‡³å°‘ä¸€ç¯‡æ–‡ç« çš„ ğŸš©ï¼Œå¥½åƒå®Œæˆçš„è¿˜å¯ä»¥ï¼Œå°±äºŒæœˆä»½å°‘äº†ç¯‡ï¼ˆé‚£æ—¶å€™æˆ‘åº”è¯¥åœ¨é”¤ã€ŠCommand &amp; Conquer : Mental Omegaã€‹ğŸ¤¦â€â™‚ï¸ï¼‰</p><ul><li>åå¹´ä¹‹çº¦ï¼ˆ2021.09.15-Beginï¼‰</li></ul><blockquote><p>åå¹´ä¹‹çº¦ï¼Œå³ä»åŠ å…¥è¿™ä¸ªæ´»åŠ¨èµ·ï¼Œæˆ‘ä»¬çš„åšå®¢åå¹´ä¸å…³é—­ï¼Œä¿æŒæ›´æ–°å’Œæ´»åŠ›ã€‚- æ¥è‡ªåå¹´ä¹‹çº¦ç«™ç‚¹é¦–é¡µ</p></blockquote><p>å†™åˆ°è¿™ä¸ªæˆ‘æƒ³èµ·äº†æœ€è¿‘ä¸€ä¸ªæœˆåœ¨çœ‹çš„æ–—ç ´è‹ç©¹ï¼Œå°±ç¦»è°±ã€‚</p><p><a href="https://www.foreverblog.cn/about.html"><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/forever-blog.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/forever-blog.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="åå¹´ä¹‹çº¦"></a></p><p>åå¹´ä¹‹çº¦ &lt;<a href="https://www.foreverblog.cn/">www.foreverblog.cn</a>&gt;ï¼Œå°è±¡ä¹‹ä¸­å¥½åƒæ˜¯ 18 å¹´çš„æ—¶å€™åœ¨ <a href="https://valine.js.org/">Valine</a> çš„äº¤æµç¾¤çŸ¥é“çš„ï¼Ÿæˆ‘è®°å¾—æˆ‘ç”³è¯·è¿‡ä¸€æ¬¡ï¼Œè¢« reject æ‰äº†ï¼ˆå¤ªæ°´äº†ï¼ŒğŸ˜¶â€ğŸŒ«ï¸ï¼‰ï¼Œå›å¤´çœ‹çœ‹<a href="https://shansan.top/archives/">å½’æ¡£é¡µ</a>ï¼Œé‚£æ—¶å€™å†™å¾—æ–‡ç« æŒºæ°´çš„ï¼ŒæŒºæƒ³åˆ æ‰ï¼Œä½†æ˜¯æˆ‘åœ¨ 20 å¹´åˆçš„æ—¶å€™ç»™åšå®¢å¥—äº†ä¸‹ Git -&gt; âŒˆ<a href="https://github.com/yeshan333/actions-for-hexo-blog">actions-for-hexo-blog</a>âŒ‹ï¼Œåšå®¢çš„å˜æ›´å†å²å·²ç»è¿½è¸ªèµ·æ¥äº†ï¼Œä¸åˆ äº†ä¸åˆ äº†ï¼Œè´¹åŠ²ğŸ˜Šï¼Œæˆ‘è¿˜æ¯å¹´éƒ½åˆ°äº’è”ç½‘æ¡£æ¡ˆé¦†ï¼ˆ<a href="https://archive.org/">Internet Archive</a>ï¼‰åšä¸‹ Snapshotï¼Œ<strong>å¤šé‡æ‰‹æ®µä¿ç•™å›å¿†</strong>ï¼Œæˆ‘è¢«è‡ªå·±åˆ¶è£äº†ğŸ˜¢ã€‚</p><p>åå¹´ï¼Œå¥½åƒæŒºé•¿å•Šï¼Œä½†å®ƒä¸‰å¹´äº†ï¼Œæ–‡ç« è´¨é‡æ…¢æ…¢å¥½èµ·æ¥äº† &lt;ä¸è¿‡è¿˜æ˜¯æŒºæ°´ï¼Œä½†æˆ‘è¿˜èƒ½æ›´â€œæ°´â€&gt;ï¼Œæ˜¯æ—¶å€™äº†ï¼ŒBrotherï¼</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/forever-blog-audit-email.png' data-fancybox='default' data-caption='åå¹´ä¹‹çº¦å®¡æ ¸'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/forever-blog-audit-email.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/forever-blog-audit-email.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="åå¹´ä¹‹çº¦å®¡æ ¸"></a><span class='image-caption'>åå¹´ä¹‹çº¦å®¡æ ¸</span></div></div><h3 id="Techs-amp-Coding"><a href="#Techs-amp-Coding" class="headerlink" title="Techs &amp; Coding"></a>Techs &amp; Coding</h3><p>å†çœ‹çœ‹ 21 å¹´ GitHub çš„å°ç»¿ç‚¹ï¼Œæœ‰ç‚¹å·®å¼ºäººæ„å•Šï¼Œæœ‰å¾ˆå¤šå°ç‚¹æ˜¯ä¸€ä¸ª rss-feed çš„ CI æ‰“çš„ï¼Œ21 å¹´çš„ Coding æ—¶é—´æ˜¯å°‘äº†ç‚¹ï¼ŒæŒªäº†å¾ˆå¤šçš„æ—¶é—´å»åšç‚¹å…¶ä»–äº‹æƒ…å»äº†ï¼Œæœ€è¿‘ç¼–ç é‡ç¨å¢ï¼Œèƒ½æ„Ÿè§‰åˆ°ä»£ç è´¨é‡è¶Šæ¥è¶Š low äº† &lt;2333ï¼Œå¥½åƒåŸæ¥å°±æŒºæ‹‰è·¨çš„ğŸ™ƒï¼Œè£‚å¼€äº†&gt;ã€‚æˆ‘æ„Ÿè§‰ 22 å¹´å·®ä¸å¤šå¯ä»¥å»â€œæ°´â€ä¸€ä¸‹æ„Ÿå…´è¶£çš„å¼€æºé¡¹ç›®äº†å§ï¼Ÿ</p><p>åœ¨ Twitter ä¸Šçœ‹äº†ä¸€åœˆï¼Œdalao ä»¬å¤ªææ€–äº†ğŸ¤ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-github-contribution.jpg' data-fancybox='default' data-caption='GitHub'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-github-contribution.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-github-contribution.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="GitHub"></a><span class='image-caption'>GitHub</span></div></div><p>21 å¹´æŠ˜è…¾çš„æ–°ç©æ„å¥½åƒä¸å¤šï¼Œç…§æ—§è€ç€ Goã€TypeScriptã€Kubernetesï¼Œâ€œèœ»èœ“ç‚¹æ°´â€èˆ¬çœ‹äº†ä¸‹ Prometheusã€‚å†æƒ³æƒ³çœ‹äº†å•¥æŠ€æœ¯ç›¸å…³çš„ä¹¦ï¼Œå¥½åƒæŒºå°‘æœ‰æŠ€æœ¯æ·±åº¦çš„ï¼Œæˆ‘çœ‹äº†å¾ˆå¤šå’Œ DevOpsã€CloudNative ã€å·¥ç¨‹åŒ–ç›¸å…³çš„ä¹¦ã€‚æ‰“å¼€è‡ªå·±æœ¬æƒ³ä¸“é—¨ç”¨æ¥ Reading çš„â€œå°å¹³æ¿å­â€ï¼Œå¥½åƒå’Œä¸Šå¹´æ²¡å¤šå¤§å˜åŒ–ï¼Œç”µå­ä¹¦è¿˜æ˜¯é‚£å‡ æœ¬ï¼Œå“ˆå“ˆå“ˆï¼Œåƒç°äº†åƒç°äº†~(<em>^_^</em>)ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-ebooks.png' data-fancybox='default' data-caption='iPads ä¸Šçš„ç”µå­ä¹¦'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-ebooks.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-ebooks.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="iPads ä¸Šçš„ç”µå­ä¹¦"></a><span class='image-caption'>iPads ä¸Šçš„ç”µå­ä¹¦</span></div></div><p>å¦‚æœè¯´ 21 å¹´çœ‹è¿‡çš„å°è±¡æœ€æ·±åˆ»çš„æŠ€æœ¯ä¹¦æ˜¯å“ªå‡ æœ¬ï¼Œé‚£ä¹ˆåº”è¯¥å°±æ˜¯<a href="https://draveness.me/golang/">ã€ŠGo è¯­è¨€è®¾è®¡ä¸å®ç°ã€‹</a>å’Œ<a href="https://icyfenix.cn/">ã€Šå‡¤å‡°æ¶æ„-æ„å»ºå¯é çš„å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿã€‹</a>ï¼Œã€ŠGo è¯­è¨€è®¾è®¡ä¸å®ç°ã€‹ä½œè€…çš„åŠŸåº•å¾ˆå¼ºï¼Œè†œäº†â¤ï¸ï¼Œ21 å¹´æˆ‘å†’å‡ºäº†ä¸ªæƒ³æ¥è§¦ Compile æŠ€æœ¯çš„æƒ³æ³•ï¼Œå°±æ˜¯å› ä¸ºè¿™æœ¬ä¹¦ã€‚</p><p><a href="https://time.geekbang.org/">Geektime</a> ç”¨çš„æ—¶é—´å‡å°‘äº†ï¼Œä¸å‰æ‰‹äº†ï¼Œå›å¤´çœ‹çœ‹ä¸€äº›è€çš„ä¸œè¥¿ã€‚</p><p>å¿½ç„¶é—´æƒ³èµ·æ¥å› ä¸ºæ¯•è®¾è¿˜çœ‹äº†ä¸‹ã€Šæ™®æ—æ–¯é¡¿å¾®ç§¯åˆ†è¯»æœ¬ã€‹ï¼Œè™½ç„¶æ²¡ç”¨ä¸Šï¼Œä½†æˆ‘å±…ç„¶çœ‹å¾—æ´¥æ´¥æœ‰å‘³ï¼Œæˆ‘æ€•æ˜¯ä¸ªå‡çš„æ•°å­¦ç³»å­¦ç”Ÿï¼Œè¿™æœ¬ä¹¦æ˜¯æŒºå…¥é—¨çš„ï¼Œæˆ‘è¿˜åæ‰‹å‰æ‰‹åˆ° App Store ä¹°äº†ä¸‹ MarginNote3 å»çœ‹è¿™æœ¬ä¹¦ï¼Œä¸€ç›´æ²¡æ€ä¹ˆç”¨ä¸Šè¿™ä¸ª Appï¼Œ2022 å¹´åº”è¯¥èƒ½ç”¨ä¸Šäº†å§ğŸ˜¢ï¼Ÿ</p><h2 id="æ ¡å›­-Campus"><a href="#æ ¡å›­-Campus" class="headerlink" title="æ ¡å›­-Campus"></a>æ ¡å›­-Campus</h2><p>2021ï¼Œ21 å¹´æœ€å¤§çš„ä¸€ä»¶äº‹åº”è¯¥å°±æ˜¯æ¯•ä¸šäº†ï¼Œ21 å¹´çš„æ¯•ä¸šå­£å› ä¸ºç–«æƒ…çš„åŸå› å¥½åƒæ˜¯é‚£èˆ¬çš„â€œå¸¸è§„â€ï¼Œå¥½åƒæ²¡æœ‰åšä¸‹è¿‡ä»€ä¹ˆæ‰¿è¯ºï¼Œå¥½åƒæ²¡æœ‰æ€ä¹ˆå’ŒåŒå­¦ &amp; è€å¸ˆèŠè¿‡å¯¹æœªæ¥çš„æœŸå¾…ï¼Œå› ä¸ºç»å†è¿‡ 2020 å¹´çš„æ˜¥æ‹›å’Œç§‹æ‹›çš„æ‘§æ®‹ï¼Œå¥½åƒå¹¶æ²¡æœ‰æ‰¾å·¥ä½œçš„ç„¦è™‘æ„Ÿï¼Œæ›´å¤šçš„æˆ‘æƒ³å› è¯¥è¿˜æ˜¯è¿·æƒ‘ï¼Œä¸€åˆ‡ä¼¼éƒ½é‚£ä¹ˆçš„â€œå¹³æ·¡â€ï¼Œå¹¶æ²¡æœ‰åšä»€ä¹ˆâ€œæƒŠå¿ƒåŠ¨é­„â€çš„äº‹ï¼Œå¥½åƒå¹¶æ²¡æœ‰ç”µå½±ä¸­çš„é‚£äº›æ¡¥æ®µï¼ŸğŸ‡ğŸ‡ğŸ‡ğŸ‘€</p><p>ç¦»å¼€å­¦æ ¡å‰ï¼Œå¾®å¾®æ•´ç†äº†ä¸‹é‚£äº›å¹´å¹è¿‡çš„æ°´ï¼ŒæŠŠ Speak ç¨å¾®æ•´ç†äº†ä¸‹ï¼Œå°†ä¹‹å‰çš„å¹æ°´ç«™ <a href="https://slides.shan333.cn/">slide.shan333.cn</a> è¿ç§»åˆ°äº† React &amp; Gastby å†™çš„ <a href="https://slides.shan333.cn/">slides.shan333.cn</a> ä¸Šã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-history-slides.png' data-fancybox='default' data-caption='é‚£äº›å¹´çš„ Slides'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-history-slides.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-history-slides.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="é‚£äº›å¹´çš„ Slides"></a><span class='image-caption'>é‚£äº›å¹´çš„ Slides</span></div></div><iframe src="https://slides.shan333.cn/" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>12 æœˆä»½åœ¨ koukou ç©ºé—´æäº†æ‰‹å­¦æ ¡çš„ç…§ç‰‡ï¼Œè¶Šæ¥è¶Šå¥½çœ‹äº†ğŸ˜²ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/school-scenes.png' data-fancybox='default' data-caption='å­¦æ ¡é£æ™¯'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/school-scenes.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/school-scenes.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å­¦æ ¡é£æ™¯"></a><span class='image-caption'>å­¦æ ¡é£æ™¯</span></div></div><p>æˆ‘è¿˜é¡ºä¾¿æ‹¿æŠ–éŸ³çš„å‰ªæ˜ ç¨å¾®ç†äº†ä¸ªçŸ­è§†é¢‘ï¼ŒéŸ³è§†é¢‘æŠ€æœ¯ tqlï¼ŒçœŸæ˜¯â€œé™ç»´æ‰“å‡»â€ï¼Œé‡Šæ”¾çµæ„Ÿï¼šâ˜â˜â˜</p><!-- <iframe src="//player.bilibili.com/player.html?aid=380332262&bvid=BV1gZ4y1Q7tT&cid=474119967&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe> --><iframe src="https://player.bilibili.com/player.html?aid=380332262&bvid=BV1gZ4y1Q7tT&cid=474119967&page=1" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>ä¸å¾—ä¸æ‰¿è®¤ï¼Œç°åœ¨çš„ç¡®æ˜¯ä¸ªå¥½çš„æ—¶ä»£ï¼Œå¾ˆå¤šä¸œè¥¿ä¸ä¼šéƒ½å¯ä»¥å»æœç´¢ç€å­¦ï¼Œå°±çœ‹è‡ªå·±æƒ³ä¸æƒ³æ¥è§¦ï¼Œæœ‰æ²¡æœ‰å…´è¶£ï¼Œæ„¿ä¸æ„¿æ„èŠ±æ—¶é—´ï¼Œæƒ³åšå¾—å¤šä¸“ä¸šã€‚</p><h2 id="å·¥ä½œ-Work"><a href="#å·¥ä½œ-Work" class="headerlink" title="å·¥ä½œ-Work"></a>å·¥ä½œ-Work</h2><p>ä¸çŸ¥ä¸è§‰å·²ç»æ¥åˆ° A å‚å·¥ä½œå¿«å…­ä¸ªæœˆäº†ï¼Œè¿‘è·ç¦»ä»å†…ç½‘ yuque &amp; æŠ€æœ¯ç«™è§‚æ‘©ä¹‹å‰çŸ¥é“çš„ä¸€äº› dalao åœ¨åšçš„äº‹æƒ… &amp; å†™çš„ä¸œè¥¿ã€‚ç¬é—´å‘ç°è¿™äº›äººå¥½åƒæ¯”æƒ³è±¡ä¸­çš„è¿˜è¦å¼ºã€‚</p><p>æ¯•ä¸šåï¼Œæˆ‘é€‰æ‹©äº†æ¯”è¾ƒæ„Ÿå…´è¶£çš„ä¸€é—¨è¡Œä¸šï¼Œæˆ‘è§‰å¾—æˆ‘é€‰æ‹©çš„æ˜¯ä¸€ä¸ªæå…·åˆ›é€ åŠ›å’Œæ€è€ƒåŠ›çš„èŒä¸šã€‚æˆ‘è§‰å¾—è¿™é‡Œåº”è¯¥æœ‰å¾ˆå¤šçš„è¯è®°å½•æ‰å¯¹ï¼Œä½†åœ¨è¿™å†™ä¸å‡ºæ¥äº†ï¼Œæˆ‘åœ¨å¦ä¸€ä¸ªåœ°æ–¹â€œå†™äº†â€ã€‚</p><h2 id="ç”Ÿæ´»-Life"><a href="#ç”Ÿæ´»-Life" class="headerlink" title="ç”Ÿæ´»-Life"></a>ç”Ÿæ´»-Life</h2><p>2021 å¹´çš„ä¸‹åŠå¹´æˆ‘ä¹Ÿç»å†äº†å¾ˆå¤šçš„äº‹æƒ…ï¼Œæˆ‘ä¹Ÿæ¸æ¸æ˜ç™½äº†ä¸€äº›äº‹æƒ…ï¼Œæœ‰äº›äº‹çœŸçš„å¾—è‡ªå·±ç»å†è¿‡ï¼Œæ‰ä¼šæœ‰æ›´å¤šå¾—ä½“ä¼šï¼Œä¸€åˆ‡ä¼¼ä¹æ˜¯é‚£ä¹ˆå¾—éš¾ä»¥ç†è§£ï¼Œåˆä¼¼ä¹é‚£ä¹ˆçš„ç†æ‰€å½“ç„¶ã€‚æˆ‘ç”šè‡³è§‰å¾—æˆ‘ä¼¼ä¹å¼€å§‹è´¨ç–‘èµ·äº†æŸæ ·ä¸œè¥¿ï¼Œä½†åˆæ²¡å…¨ç›˜å¦å®šã€‚äºå±€ä¸­ä»å¯ä¿æŒæ¸…é†’ï¼Œäºå±€å¤–ï¼Œåˆå¯ä»¥çœ‹åˆ°å¾ˆå¤šçš„ä¸œè¥¿ã€‚â€œå½“å±€è€…è¿·ï¼Œæ—è§‚è€…æ¸…â€æœ‰æ—¶å€™ä¹Ÿå¯äºˆä»¥é©³æ–¥ã€‚è¿™ä¸€å¹´åŒæ ·ä¹Ÿè®¤è¯†äº†ä¸€äº›äººï¼Œ</p><p>ç¼˜èµ·äºé‚£æœ¬<a href="https://book.douban.com/subject/26877306/">ã€Šå¾®ä¹ æƒ¯ã€‹</a>ï¼Œä»”ç»†å›å¿†èµ·æ¥ï¼Œæˆ‘å¥½åƒå¤šäº†å¾ˆå¤šçš„ä¹ ä»¥ä¸ºå¸¸çš„â€œå°åŠ¨ä½œâ€ï¼Œå‡ ä¹æ˜¯ä¸‹æ„è¯†çš„åŠ¨ä½œï¼Œä¸Šç­çš„è·¯é€”åæ‰‹å°±æ˜¯æ‰“å¼€è¯»ä¹¦ Appï¼Œçœ‹é‚£ä¹ˆå‡ é¡µï¼Œæ²¡æœ‰å¤šå¤§çš„å‹åŠ›ï¼Œä¸€å¤©æƒ³çœ‹å¤šå°‘çœ‹å¤šå°‘ï¼Œå“ªæ€•åªæ˜¯ä¸€é¡µã€‚å¥½äº†ï¼Œå½“æˆ‘æ•²å‡ºè¿™è¡Œå­—çš„æ—¶å€™ï¼Œé¡ºä¾¿åšäº†å‡ ä¸ªä¿¯å§æ’‘ğŸ˜‚ã€‚</p><p>21 å¹´ 12 æœˆä¸­ï¼Œæ¥äº†æ¬¡åå¤šå…¬é‡Œçš„å¾’æ­¥ï¼Œç›¸å½“çš„æ”¾æ¾ï¼Œåšå®¢é¦–æ¬¡è´´å¼  chou ç…§ğŸ¤—ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/my-picture.jpg' data-fancybox='default' data-caption='kubi'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/my-picture.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/my-picture.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kubi"></a><span class='image-caption'>kubi</span></div></div><h3 id="æ¸¸æˆ-Games"><a href="#æ¸¸æˆ-Games" class="headerlink" title="æ¸¸æˆ-Games"></a>æ¸¸æˆ-Games</h3><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/7-empires.jpg' data-fancybox='default' data-caption='çœŸä¸‰å›½æ— åŒ 7 å¸å›½'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/7-empires.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/7-empires.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="çœŸä¸‰å›½æ— åŒ 7 å¸å›½"></a><span class='image-caption'>çœŸä¸‰å›½æ— åŒ 7 å¸å›½</span></div></div><p>å›å¿†äº†ä¸€ä¸‹ï¼Œ21 å¹´ä¸€å¦‚æ—¢å¾€çš„é”¤è€æ¸¸æˆå¤šä¸€ç‚¹ï¼Œæˆ‘æŠŠç”µè„‘ç»™æ¢äº†ï¼Œé”¤ SC2 æ›´çˆ½äº†ï¼Œä½†æ˜¯ 8 æœˆä»½çš„æ—¶å€™å›½æœå·®ä¸å¤š GG äº†ï¼Œé€€å‡ºæ±Ÿæ¹–é€‰æ‹©å…»è€æ¸¸æˆäº†ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/Fire-Emblem.png' data-fancybox='default' data-caption='ç«ç„°çº¹ç« -æ™“ä¹‹å¥³ç¥'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/Fire-Emblem.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/Fire-Emblem.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç«ç„°çº¹ç« -æ™“ä¹‹å¥³ç¥"></a><span class='image-caption'>ç«ç„°çº¹ç« -æ™“ä¹‹å¥³ç¥</span></div></div><p>11 &amp; 12 æœˆæœ‰éƒ¨åˆ†æ—¶é—´åœ¨å’Œä½ dalao æ‰“ï¼Œâ€œçœŸæ»´èœâ€ï¼š</p><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/Sniper%20Elite4.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/Sniper%20Elite4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Sniper Elite4"></p><h3 id="é˜…è¯»-Reading"><a href="#é˜…è¯»-Reading" class="headerlink" title="é˜…è¯»-Reading"></a>é˜…è¯»-Reading</h3><p>2021ï¼Œé˜…è¯»æºæ›´å¤šè¿˜æ˜¯è¯­é›€å’Œä¹¦ï¼ŒçŸ¥ä¹çœ‹å¾—æ²¡æœ‰é‚£ä¹ˆé¢‘ç¹äº†ï¼Œæˆ‘è¿˜æ¥è§¦äº†ä¸ªå«åš<a href="https://sspai.com/">å°‘æ•°æ´¾</a>çš„ç½‘ç«™ï¼Œå†…å®¹è´¨é‡å¾ˆé«˜ã€‚æˆ‘ä¸<a href="https://www.yuque.com/">è¯­é›€ğŸ•Šï¸</a>çš„ç¼˜åˆ†åº”è¯¥èµ·äºå¤§äºŒçš„æ—¶å€™ï¼Ÿæˆ‘åœ¨è¿™é‡Œäº†è§£äº†ä¸€æ³¢ä½“éªŒè®¾è®¡ &amp; äº¤äº’ &amp; å‰ç«¯çŸ¥è¯†ï¼Œè§è¯†äº†å¾ˆå¤šæœ‰â€œæ€è€ƒåº¦â€çš„æ–‡ç« è¿˜æœ‰dalaoï¼Œç–¯ç‹‚ followã€‚å¥½åƒé‚£äº›å¹´æˆ‘å¯¹ä½“éªŒè®¾è®¡çš„å…´èµ·å°±æ˜¯ç¼˜äºè¿™é‡Œï¼Œæƒ³èµ·æ¥æ‹¿æ•™è‚²é‚®ç®±è–…çš„ Figma è¿˜åœ¨â€œæˆ‘çš„æ¡Œé¢â€å¾ˆä¹…æ²¡æ‰“å¼€è¿‡äº†ï¼Œæˆ‘è¿˜æƒ³ç€è¯•ç€æ‹¿ iPad è¯•è¯•æ’ç”»ï¼ˆillustrationï¼‰æ¥ç€ï¼ŒEdge çš„é›†é”¦åŠŸèƒ½çœŸä¸é”™ï¼Œå­˜äº†å¾ˆå¤šæ’ç”»ç½‘ç«™ï¼Œåˆå¤šä¸ªæ”¶è—åƒç°çš„åœ°æ–¹ğŸ•ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/yuque.png' data-fancybox='default' data-caption='æˆ‘çš„è¯­é›€'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/yuque.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/yuque.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æˆ‘çš„è¯­é›€"></a><span class='image-caption'>æˆ‘çš„è¯­é›€</span></div></div><p>21å¹´çœ‹çš„â€œé—²ä¹¦â€å¤šäº†èµ·æ¥ï¼Œçœ‹ç€ä¸€äº›åˆ«äººæè¿°çš„äº‹ï¼Œæƒ³æƒ³è‡ªå·±æ˜¯æ€ä¹ˆæ ·çš„äººï¼Œå¦‚ä½•å»æè¿°è‡ªå·±ï¼Œå†çœ‹çœ‹è‡ªå·±ä¼šå˜æˆä»€ä¹ˆæ ·çš„äººï¼Œå¯èƒ½ä¼šæ˜¯ä»€ä¹ˆæ ·çš„äººï¼ˆin the futureï¼‰ï¼Œæˆ‘æƒ³è¦çš„æ˜¯æœ‰æ›´å¹¿çš„çœ‹é—®é¢˜çš„è§†è§’ &amp; é”»ç‚¼ä¸‹æ€è€ƒåŠ›ï¼Ÿï¼š</p><ul><li>ã€Šæ´»ç€ã€‹</li><li>ã€Šå¾®ä¹ æƒ¯ã€‹</li><li>ã€Šè›¤èŸ†å…ˆç”Ÿå»çœ‹å¿ƒç†åŒ»ç”Ÿã€‹</li><li>ã€Šåˆ†å¯¸æ„Ÿã€‹</li><li>ã€Šæ¨ç»›ï¼šè°ˆå®šä»å®¹ï¼Œä¾¿æ˜¯ä¼˜é›…ã€‹</li><li>ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹</li><li>â€¦â€¦</li></ul><p>å¯èƒ½æ˜¯å› ä¸ºä¹‹å‰å‘¨åˆŠçœ‹å¤šäº†ï¼Œæˆ‘æŠŠ 21 å¹´é˜…è¯»çœ‹åˆ°çš„ä¸€äº›å†…å®¹ï¼ˆéšæ‰‹æŠ„ &amp; ä¸€äº›ç¢ç‰‡è¯æ€è€ƒï¼‰åæ‰‹åœ¨è¯­é›€ä¸Šå¼€äº†ä¸ªå‘¨åˆŠè®°å½•äº†ä¸‹æ¥ ğŸ‘‰<a href="https://www.yuque.com/yeshan/me7h87">è®°å½•è¿™ä¸€å‘¨æˆ‘ çœ‹/å¬ è®©æˆ‘æœ‰æ„Ÿè§¦çš„ä¸€äº›æ–‡å­—</a> ï¼Œé¢‡æœ‰â€œä¸‡ç‰©çš†å¯å‘¨åˆŠâ€é‚£æ„æ€äº†ã€‚</p><details green open><summary> 2021 å¹´å°è±¡æ·±åˆ»çš„ä¸‰å¥è¯ </summary>              <div class='content'>              <ul><li>æœ€ææ€–çš„æ˜¯ä½ è‡ªå·±ä¸çŸ¥é“ä½ ä¸çŸ¥é“ï¼›</li><li>å› ä¸ºå¦‚æœä½ ä¸çˆ±ä¸€ä»¶äº‹ï¼Œä½ ä¸å¯èƒ½æŠŠå®ƒåšå¾—çœŸæ­£ä¼˜ç§€ï¼›</li><li>æˆ‘ä»¬ä¸€ç”Ÿå¯èƒ½ä¼šåšå¾ˆå¤šå¾ˆå¤šçš„äº‹æƒ…ï¼Œæœ‰äº›äº‹æƒ…ä¹‹æ‰€ä»¥å»åšï¼Œå¹¶éå®ƒæ˜¯æœ‰å¤šä¹ˆå¤§çš„æ„ä¹‰ï¼Œè€Œæ˜¯å› ä¸ºæˆ‘ä»¬æ„Ÿå…´è¶£ã€‚</li></ul>              </div>            </details><p>ä½†æœ‰äº›çµæ„Ÿå’Œæƒ³æ³•ï¼Œæ€»æ˜¯é‚£ä¹ˆçš„å®¹æ˜“æ¶ˆé€ã€‚å“ªæ€•æ˜¯æˆ‘å°†å®ƒå³åˆ»è®°å½•ä¸‹æ¥äº†ï¼Œå¯å½“æˆ‘å†çœ‹çš„æ—¶å€™ï¼Œå¥½åƒå·²ç»ä¸æ˜¯ä¹‹å‰é‚£ä¸ªâ€œå‘³é“â€äº†ã€‚ç¿»äº†ä¸‹ Microsoft ToDo è¿™ä¸€å¹´æˆ‘å¥½åƒç§¯å‹äº†å¾ˆå¤š Itemsã€‚RSS Reed é˜…è¯»ä¿¡æ¯æµä¼¼ä¹æ²¡é‚£ä¹ˆå¥½äº†ï¼Œæœ€è¿‘æœ‰è¯•è¯• <a href="https://github.com/iovxw/rssbot">TG RSS Feed Robot</a> + yuque çš„æƒ³æ³•ï¼Œè™½ç„¶åœ¨æŸæ¨ä¸Šçœ‹åˆ°äº†è®¸å¤š dalao KM ç®¡ç†çš„æ–¹å¼ï¼Œä½†å¥½åƒæ²¡æœ‰ç‰¹åˆ«é€‚åˆæˆ‘çš„ã€‚Exploringï¼</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/juan.jpg' data-fancybox='default' data-caption='æŠ˜ç£¨'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/juan.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/juan.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æŠ˜ç£¨"></a><span class='image-caption'>æŠ˜ç£¨</span></div></div><h3 id="çœ‹-amp-å¬-See-amp-Listen"><a href="#çœ‹-amp-å¬-See-amp-Listen" class="headerlink" title="çœ‹ &amp; å¬-See &amp; Listen"></a>çœ‹ &amp; å¬-See &amp; Listen</h3><ul><li><p>21 å¹´åˆå…³æ³¨äº†ä¸‹ <a href="https://www.redbull.com/int-en/event-series/bc-one">Red Bull BC One</a>ï¼ŒRespect ä¸€ä¸‹é‚£äº›å¹´è€è¿‡çš„è¡—èˆï¼Œ21 å¹´æ²¡æœ‰æˆ‘ç‰¹åˆ«å–œæ¬¢çš„ Styleï¼Œè¿™åº”è¯¥æ˜¯ç¬¬äºŒæ¬¡åœ¨ World Final æœ‰ Bgirl äº†ï¼Œä¸çŸ¥é“å•¥æ—¶å€™èƒ½å‡ºç°ä¸­å›½åŒºçš„ dalaoğŸ™ƒã€‚</p></li><li><p>21 å¹´ 10 æœˆå¼€å§‹ï¼Œæˆ‘ä¸€ä¸ªäººå¼€å¯äº†åŸºæœ¬æ¯å‘¨ä¸€åœºç”µå½±çš„æ¨¡å¼ï¼ˆç´¯è®¡ 10 åœºï¼Œäººç”Ÿç›®å‰ç´¯è®¡ 13 åœºï¼ŸğŸ„ï¼‰ï¼Œè¿˜æŒºæœ‰æ„æ€çš„ï¼Œæˆ–è®¸è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„æˆé•¿äº†ï¼Ÿç›¸æ¯”ä¹‹å‰ï¼Œæˆ‘æœ‰äº†æ›´å¤šçš„è§†è§’ï¼Œæˆ‘çœ‹æ‡‚äº†æ›´å¤šç”µå½±è¦æç»˜çš„æ•…äº‹ï¼Œå¤–åŠ ä¸€äº›ç»å†å’Œçœ‹åˆ°æˆ–è€…å¬åˆ°è¿‡çš„æ•…äº‹ï¼Œæˆ‘å¯ä»¥æ›´å¤šçš„å¯¹ä¸ªäººçš„ç†è§£è¿›è¡Œæè¿°äº†ã€‚</p></li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-movies.jpg' data-fancybox='default' data-caption='21 å¹´çš„ç”µå½±'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-movies.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2021/2021-movies.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="21 å¹´çš„ç”µå½±"></a><span class='image-caption'>21 å¹´çš„ç”µå½±</span></div></div><ul><li>2021å¹´ï¼Œå¬æŠ€æœ¯ Podcastï¼ˆæ’­å®¢ï¼‰æ²¡æœ‰é‚£ä¹ˆå¤šäº†ï¼Œè¿˜æ˜¯ä¸€å¦‚æ—¢å¾€çš„å…³æ³¨ç€<a href="https://pythonhunter.org/">æ•è›‡è€…è¯´</a>ï¼Œè½¬æˆ˜æŸæ¨å›´è§‚ dalao äº†ï¼Œæ·±å¤œå¬å–œé©¬æ‹‰é›…å‚¬çœ ã€‚</li></ul><h2 id="æœªæ¥-Future"><a href="#æœªæ¥-Future" class="headerlink" title="æœªæ¥-Future"></a>æœªæ¥-Future</h2><p>2021 å¦‚æœç”¨ä¸€å¥è¯æè¿°çš„è¯ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯ï¼šæœ‰æŒºå¤šçš„äº‹æ˜¯æƒ³åˆ°äº†ï¼Œä¾¿å»åšäº†ï¼Œä¸éœ€è¦é‚£ä¹ˆçš„æœ‰è§„åˆ’æ€§ã€‚</p><p>2022 å¹´ï¼Œæˆ‘æƒ³æ€ä¹ˆæ“ä½œï¼šæ›´æœ‰æŒ‘æˆ˜ï¼Œæ›´æœ‰è¶£ï¼Œæ›´æœ‰æ€è€ƒï¼Œæ›´æœ‰æ·±åº¦çš„äº‹ï¼Ÿ2333ï¼Œè¿™é‡Œå°±ä¸ç«‹ ğŸš© äº†ï¼Œæˆ‘è¿˜éœ€è¦æƒ³æ®µæ—¶é—´ã€‚</p><h2 id="æµå¹´"><a href="#æµå¹´" class="headerlink" title="æµå¹´"></a>æµå¹´</h2><ul><li><a href="https://shansan.top/2021/01/06/2020-annual-reviewed/">å…³æ³¨æ€è€ƒçš„è¿‡ç¨‹ï¼Œç»ˆå°†æ›´åŠ å“è¶Š | 2020 å¹´æ€»ç»“</a></li><li><a href="https://shansan.top/2019/12/31/2019%E5%B9%B4%E6%80%BB%E7%BB%93/">2019 å¹´æ€»ç»“</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git ä»“åº“ç˜¦èº«ä¸ LFS å¤§æ–‡ä»¶å­˜å‚¨</title>
      <link href="/2021/12/26/git-lfs-and-thin-repo/"/>
      <url>/2021/12/26/git-lfs-and-thin-repo/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>ç†Ÿæ‚‰ Git çš„å°ä¼™ä¼´åº”è¯¥éƒ½çŸ¥é“éšç€ Git ä»“åº“ç»´æŠ¤çš„æ—¶é—´è¶Šæ¥è¶Šä¹…ï¼Œè¿½è¸ªçš„æ–‡ä»¶è¶Šæ¥è¶Šå¤šï¼Œgit å­˜å‚¨çš„ <a href="https://git-scm.com/book/en/v2/Git-Internals-Git-Objects">objects</a> æ•°é‡ä¼šæå…¶åºå¤§ï¼Œæ¯æ¬¡ä»è¿œç¨‹ä»“åº“ git clone çš„æ—¶å€™éƒ½ä¼šå¢¨è¿¹å¾ˆä¹…ã€‚å¦‚æœæˆ‘ä»¬ä¸å°å¿ƒ <code>git add</code> äº†ä¸€ä¸ªä½“ç§¯å¾ˆå¤§çš„æ–‡ä»¶ï¼Œä¸” <code>git push</code> åˆ°äº†è¿œç¨‹ä»“åº“ï¼Œé‚£ä¹ˆæˆ‘ä»¬ <code>git clone</code> çš„æ—¶å€™ä¹Ÿä¼šå¾ˆæ…¢ã€‚</p><p>çœ‹ä¸€ä¸‹ GitHub ä¸Šçš„ <a href="https://github.com/microsoft/vscode">microsoft/vscode</a> ä»“åº“ï¼Œéƒ½æœ‰ ä¹ä¸‡å¤šä¸ª commit äº†ï¼Œå¯æƒ³è€ŒçŸ¥ objects çš„æ•°é‡åº”è¯¥å¾ˆææ€–ï¼Œå°è¯• clone ä¸€ä¸‹ï¼ˆä¸€ç™¾å¤šä¸‡ä¸ª objectsï¼‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/github_vscode.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/github_vscode.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="github vscode repo"></p><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/clone_vscode.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/clone_vscode.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="clone vscode repository"></p><p>è¿™é‡Œå¾®å¾®è®°å½•ä¸‹ Git ä»“åº“ç˜¦èº«å’Œä½¿ç”¨ Git LFS è¿›è¡Œå¤§æ–‡ä»¶å­˜å‚¨ç®¡ç†çš„å‡ ä¸ªå¸¸è§„æ“ä½œã€‚</p><h2 id="Git-ä»“åº“ç˜¦èº«"><a href="#Git-ä»“åº“ç˜¦èº«" class="headerlink" title="Git ä»“åº“ç˜¦èº«"></a>Git ä»“åº“ç˜¦èº«</h2><blockquote><p>ç˜¦èº«èƒŒæ™¯ï¼šé”™è¯¯æŠŠå¤§æ–‡ä»¶ push åˆ°äº†è¿œç¨‹ä»“åº“</p></blockquote><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æˆ–è€… <code>du -mh</code> æŸ¥çœ‹ Git ä»“åº“çš„ä½“ç§¯ï¼Œ<a href="https://www.git-scm.com/docs/git-count-objects">git-count-objects</a>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹ä»“åº“ä½“ç§¯æƒ…å†µ</span></span><br><span class="line">git count-objects -vH</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼šå¯ä»¥çœ‹åˆ°å½“å‰ä»“åº“ä½“ç§¯åªæœ‰ 12.00 KiB å·¦å³</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/git_repo.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/git_repo.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demo git repository"></p><p>ç°åœ¨æˆ‘ä»¬æ¨¡æ‹Ÿé”™è¯¯çš„å°†å¤§æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹ Git ä»“åº“çš„åŠ¨ä½œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1ã€ç”Ÿæˆä¸€ä¸ª 90MB å¤§å°çš„æ–‡ä»¶ï¼ŒGithub åšäº†é™åˆ¶è¶…è¿‡ 100 MB å¤§å°çš„æ–‡ä»¶å»ºè®®ä½¿ç”¨ LFSï¼Œç›´æ¥æ‹’ç» push</span></span><br><span class="line">âœ dd if=/dev/zero of=bigfile bs=90MB count=1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2ã€å°†è¿™ä¸ªæ–‡ä»¶ push åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line">âœ git add bigfile</span><br><span class="line">âœ git commit -m &quot;add 90MB bigfile&quot;</span><br><span class="line">âœ git push origin master</span><br><span class="line">Enumerating objects: 4, done.</span><br><span class="line">Counting objects: 100% (4/4), done.</span><br><span class="line">Delta compression using up to 16 threads</span><br><span class="line">Compressing objects: 100% (3/3), done.</span><br><span class="line">Writing objects: 100% (3/3), 85.71 KiB | 306.00 KiB/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">remote: warning: See http://git.io/iEPt8g for more information.</span><br><span class="line">remote: warning: File bigfile is 85.83 MB; this is larger than GitHub&#x27;s recommended maximum file size of 50.00 MB</span><br><span class="line">remote: warning: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.</span><br><span class="line">To github.com:yeshan333/git-lfs-prune-repo.git</span><br><span class="line">   e3baf1a..f057313  master -&gt; master</span><br></pre></td></tr></table></figure><p>å¥½ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å‡è£…è¿™ä¸ªä»“åº“æœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œä¸çŸ¥é“å…·ä½“æ˜¯é‚£ä¸ªæ–‡ä»¶è®© Git ä»“åº“çš„ä½“ç§¯çªç„¶å˜å¤§ï¼Œå¯¼è‡´ clone å¾ˆæ…¢ğŸ¤£ã€‚<strong>å°±ç®—çŸ¥é“äº†æ˜¯å“ªé‡Œä¸ªæ–‡ä»¶é€ æˆçš„ï¼Œæˆ‘ä»¬ç›´æ¥åˆ é™¤é‚£ä¸ªæ–‡ä»¶æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ é™¤é‚£ä¸ªæ–‡ä»¶å¯¹åº”çš„ Git Object æ–‡ä»¶</strong>ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸‹å‘½ä»¤å°†æœ¬åœ° clone çš„ä»“åº“å†å²æäº¤è¿‡çš„ä½“ç§¯è¾ƒå¤§çš„å‰ 5 ä¸ªæ–‡ä»¶åä¸å¯¹åº”çš„ Object æ–‡ä»¶çš„ ID ç½—åˆ—å‡ºæ¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rev-list --objects --all | grep &quot;$(git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -5 | awk &#x27;&#123;print$1&#125;&#x27;)&quot;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬åˆ é™¤å†å²æäº¤è¿‡çš„å¤§æ–‡ä»¶ bigfileï¼Œä»æ—¥å¿—ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ¬åœ°ä»“åº“å·²ç»ç§»é™¤å¤§æ–‡ä»¶æˆåŠŸäº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">âœ git filter-branch --force --index-filter &#x27;git rm -rf --cached --ignore-unmatch bigfile&#x27; --prune-empty --tag-name-filter cat -- --all</span><br><span class="line">WARNING: git-filter-branch has a glut of gotchas generating mangled history</span><br><span class="line">         rewrites.  Hit Ctrl-C before proceeding to abort, then use an</span><br><span class="line">         alternative filtering tool such as &#x27;git filter-repo&#x27;</span><br><span class="line">         (https://github.com/newren/git-filter-repo/) instead.  See the</span><br><span class="line">         filter-branch manual page for more details; to squelch this warning,</span><br><span class="line">         set FILTER_BRANCH_SQUELCH_WARNING=1.</span><br><span class="line">Proceeding with filter-branch...</span><br><span class="line"></span><br><span class="line">Rewrite e3baf1ac709ae54b60afac9038adcf26fd086748 (1/1) (0 seconds passed, remaining 0 predicted)</span><br><span class="line">WARNING: Ref &#x27;refs/heads/master&#x27; is unchanged</span><br><span class="line">WARNING: Ref &#x27;refs/remotes/origin/master&#x27; is unchanged</span><br><span class="line">WARNING: Ref &#x27;refs/remotes/origin/main&#x27; is unchanged</span><br><span class="line">WARNING: Ref &#x27;refs/remotes/origin/master&#x27; is unchanged</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ reflog å’Œ gc å‹ç¼©ï¼ˆæ¸…ç†å’Œå›æ”¶å¤§æ–‡ä»¶å ç”¨çš„ objects ç©ºé—´ï¼‰çœ‹çœ‹ç˜¦èº«æ•ˆæœï¼Œæœ€åå°†å˜åŠ¨æ¨é€åˆ°è¿œç¨‹ä»“åº“å³å¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">âœ git reflog expire --expire=now --all &amp;&amp; git gc --prune=now --aggressive</span><br><span class="line"></span><br><span class="line">âœ git count-objects -vH</span><br><span class="line"></span><br><span class="line">âœ git push --mirror</span><br><span class="line">Total 0 (delta 0), reused 0 (delta 0)</span><br><span class="line">To github.com:yeshan333/git-lfs-prune-repo.git</span><br><span class="line"> - [deleted]         main</span><br><span class="line"> + f057313...e3baf1a master -&gt; master (forced update)</span><br><span class="line"> * [new branch]      origin/HEAD -&gt; origin/HEAD</span><br><span class="line"> * [new branch]      origin/main -&gt; origin/main</span><br><span class="line"> * [new branch]      origin/master -&gt; origin/master</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://stackoverflow.com/questions/3959924/whats-the-difference-between-git-clone-mirror-and-git-clone-bare">Whatâ€™s the difference between git clone â€“mirror and git clone â€“bare</a></p></blockquote><h2 id="Git-LFS-å¤§æ–‡ä»¶å­˜å‚¨"><a href="#Git-LFS-å¤§æ–‡ä»¶å­˜å‚¨" class="headerlink" title="Git LFS å¤§æ–‡ä»¶å­˜å‚¨"></a>Git LFS å¤§æ–‡ä»¶å­˜å‚¨</h2><p>å¦‚æœæˆ‘ä»¬ä¹‹å‰ç”Ÿæˆçš„å¤§æ–‡ä»¶ bigfile å¤§å°è¶…è¿‡ 100 MBï¼Œé‚£ä¹ˆ push åˆ° Github çš„æ—¶å€™ï¼Œä¼šæŠ›å‡ºä¸ª error é”™è¯¯ï¼Œå¹¶ä¼šæœ‰æ¡å»ºè®®ä½¿ç”¨ LFS (Large File Storage)ï¼š<a href="https://git-lfs.github.com/">https://git-lfs.github.com/</a> ç®¡ç†è¿™ä¸ªå¤§æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">âœ git push origin main</span><br><span class="line">Enumerating objects: 4, done.</span><br><span class="line">Counting objects: 100% (4/4), done.</span><br><span class="line">Delta compression using up to 16 threads</span><br><span class="line">Compressing objects: 100% (2/2), done.</span><br><span class="line">Writing objects: 100% (3/3), 1.85 MiB | 752.00 KiB/s, done.</span><br><span class="line">Total 3 (delta 0), reused 1 (delta 0)</span><br><span class="line">remote: error: Trace: 993cb74d30fdb2342e7243f5a7002c1892d00d3a216b80e64b43ef7e4382b947</span><br><span class="line">remote: error: See http://git.io/iEPt8g for more information.</span><br><span class="line">remote: error: File bigfile is 1907.35 MB; this exceeds GitHub&#x27;s file size limit of 100.00 MB</span><br><span class="line">remote: error: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.</span><br><span class="line">To github.com:yeshan333/git-lfs-prune-repo.git</span><br><span class="line"> ! [remote rejected] main -&gt; main (pre-receive hook declined)</span><br><span class="line">error: failed to push some refs to &#x27;git@github.com:yeshan333/git-lfs-prune-repo.git&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä»“åº“åˆå§‹åŒ– LFS</span></span><br><span class="line">âœ git lfs install</span><br><span class="line">Updated git hooks.</span><br><span class="line">Git LFS initialized.</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºå¤§æ–‡ä»¶</span></span><br><span class="line">âœ dd if=/dev/zero of=bigfile200 bs=200MB count=1</span><br><span class="line">1+0 records in</span><br><span class="line">1+0 records out</span><br><span class="line">200000000 bytes (200 MB, 191 MiB) copied, 0.176594 s, 1.1 GB/s</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‡å®š LFS è¿½è¸ªå¤§æ–‡ä»¶</span></span><br><span class="line">âœ git lfs track &quot;bigfile200&quot;</span><br><span class="line">Tracking &quot;â€œbigfile200â€&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¢«è¿½è¸ªçš„æ–‡ä»¶ä¼šè®°å½•å† .gitattributes æ–‡ä»¶ä¸­æˆ‘ä»¬å°† .gitattributes æ–‡ä»¶ push åˆ°è¿œç¨‹ä»“åº“å³å¯</span></span><br><span class="line">âœ cat .gitattributes</span><br><span class="line">&quot;bigfile200&quot; filter=lfs diff=lfs merge=lfs -text</span><br><span class="line">âœ git add .gitattributes</span><br><span class="line">âœ git commit -m &quot;add .gitattributes&quot;</span><br><span class="line">âœ git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æäº¤å¤§æ–‡ä»¶</span></span><br><span class="line">âœ git add bigfile200</span><br><span class="line">âœ git commit -m &quot;bigfile 200MB&quot;</span><br><span class="line">[master 84fb90b] bigfile 200MB</span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br><span class="line"> create mode 100644 bigfile200</span><br><span class="line">âœ git push</span><br><span class="line">Uploading LFS objects: 100% (1/1), 200 MB | 3.7 MB/s, done.</span><br><span class="line">Enumerating objects: 4, done.</span><br><span class="line">Counting objects: 100% (4/4), done.</span><br><span class="line">Delta compression using up to 16 threads</span><br><span class="line">Compressing objects: 100% (3/3), done.</span><br><span class="line">Writing objects: 100% (3/3), 423 bytes | 423.00 KiB/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To github.com:yeshan333/git-lfs-prune-repo.git</span><br><span class="line">   aef9a0b..84fb90b  master -&gt; master</span><br></pre></td></tr></table></figure><blockquote><p>å¼€å¯äº† LFS ä¹‹åï¼Œå¯¹åº”å¤§æ–‡ä»¶çš„å†…å®¹å­˜å‚¨åœ¨ LFS æœåŠ¡å™¨ä¸­ï¼Œä¸å†æ˜¯å­˜å‚¨åœ¨ Git ä»“åº“ä¸­ï¼ŒGit ä»“åº“ä¸­å­˜å‚¨çš„æ˜¯å¤§æ–‡ä»¶çš„æŒ‡é’ˆæ–‡ä»¶ï¼ŒLFS çš„æŒ‡é’ˆæ–‡ä»¶æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚</p></blockquote><p>Done?</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://docs.gitlab.com/ee/user/project/repository/mirror/push.html">Push Mirroring-Gitlab</a></li><li><a href="http://palanceli.com/2017/12/18/2017/1218GitReduceSize/">git ç˜¦èº« | Palanceâ€™s Blog</a></li><li><a href="https://zhuanlan.zhihu.com/p/146683392">è¯¦è§£ Git å¤§æ–‡ä»¶å­˜å‚¨ï¼ˆGit LFSï¼‰</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deserve</title>
      <link href="/2021/12/04/deserve/"/>
      <url>/2021/12/04/deserve/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>ä»Šå¤©å‡Œæ™¨äº”ç‚¹å°±é†’äº†ï¼Œç§¯ç´¯äº†å¥½å¤šå¥½å¤šçš„æƒ…ç»ªå•Šï¼</p><!-- å¹´è½»çš„æˆ˜åœº --><!-- æˆ‘ä»¬éƒ½ä¸€æ · -->    <div id="aplayer-HEjVyuEr" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="1340001174" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="true" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div>    <div id="aplayer-WZZUmrkn" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="191252" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›ç¯åœ°å€çš„ä¸€ç‚¹å„¿ç ´äº‹</title>
      <link href="/2021/11/27/loopback-addr/"/>
      <url>/2021/11/27/loopback-addr/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å¿ƒè¡€æ¥æ½®ï¼Œå°æ°´ä¸€ç¯‡ï¼</p><h2 id="å›ç¯åœ°å€ï¼ˆloopback-addressï¼‰"><a href="#å›ç¯åœ°å€ï¼ˆloopback-addressï¼‰" class="headerlink" title="å›ç¯åœ°å€ï¼ˆloopback addressï¼‰"></a>å›ç¯åœ°å€ï¼ˆloopback addressï¼‰</h2><blockquote><p><a href="https://en.wikipedia.org/wiki/Loopback">loopback</a> åœ¨ç»´åŸºç™¾ç§‘ä¸Šæœ‰ä¸€æ®µè¿™æ ·çš„è§£é‡Šï¼šLoopback (also written loop-back) is the routing of electronic signals or digital data streams back to their source without intentional processing or modification. It is primarily a means of testing the communications infrastructure.<br>é€šç†Ÿçš„è¯´å°±æ˜¯å°†ç”±â€œæºâ€å‘é€å‡ºå»çš„æ•°æ®è·¯ç”±å›â€œæºâ€ã€‚</p></blockquote><span id="more"></span><p>ä½œä¸ºåˆ’æ°´é€‰æ‰‹ï¼Œæˆ‘ä»¬è‚¯å®šä¼šæ¥è§¦è¿‡è¿™æ ·ä¸€ä¸ªä¸œè¥¿ -&gt; Virtual loopback interfaceã€‚å½“æˆ‘ä»¬å†™çš„åº”ç”¨/æœåŠ¡æƒ³åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿›è¡Œé€šä¿¡çš„æ—¶å€™ï¼ŒåŸºæœ¬éƒ½ä¼šä½¿ç”¨åˆ°å®ƒã€‚</p><p>åœ¨ç±» Unix ç³»ç»Ÿä¸­ï¼Œè™šæ‹Ÿå›ç¯æ¥å£ï¼ˆVirtual loopback interfaceï¼‰é€šå¸¸è¢«å‘½åä¸º <strong>lo</strong> æˆ–è€… <strong>lo0</strong>ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>ipconfig</code> çœ‹ä¸€ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/blogloopback.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/blogloopback.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ipconfig loopback address"></p><p>emmmï¼Œ127.0.0.1ï¼Œå¥½å®¶ä¼™ï¼Œæ²¡é”™ï¼Œ127.0.0.1 å°±æ˜¯ä¸€ä¸ª IPv4 çš„å›ç¯åœ°å€ã€‚IETF æ ‡å‡†ä¸­ï¼ˆ<a href="https://www.rfcreader.com/#rfc1122_line1324">RFC1122</a>ã€<a href="https://www.rfcreader.com/#rfc5735_line97">RFC5735</a>ï¼‰å°† IPv4 <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation">CIDR</a> åœ°å€å— 127.0.0.0/8 åˆ’ä¸ºå›ç¯åœ°å€ï¼ˆå³ 127.0.0.0 ~ 127.255.255.255ï¼‰ã€‚IPv6 ä¸‹å›ç¯åœ°å€ä¸º <code>::1/128</code>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/cidr.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/cidr.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="CIDR è¡¨ç¤º"></p><blockquote><p>IPv6 ä¸‹ 127.0.0.1 è¡¨ç¤ºä¸º ::1</p></blockquote><h2 id="å‡ ä¸ªå¸¸è§çš„å°å®¶ä¼™"><a href="#å‡ ä¸ªå¸¸è§çš„å°å®¶ä¼™" class="headerlink" title="å‡ ä¸ªå¸¸è§çš„å°å®¶ä¼™"></a>å‡ ä¸ªå¸¸è§çš„å°å®¶ä¼™</h2><p>OK, å›ç¯åœ°å€ç®€ä»‹å®Œäº†ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹ä¸‹ä»¥ä¸‹å‡ ä¸ªå¸¸ç”¨çš„â€œå°å®¶ä¼™â€ï¼š</p><ul><li>localhost</li><li>0.0.0.0</li><li>127.0.0.1</li></ul><p>åœ¨è¿™é‡Œï¼ŒæŠ›å‡ºå‡ ä¸ªé—®é¢˜ï¼Ÿå†è‡ªé—®è‡ªç­”ï¼ğŸ˜</p><ul><li>è¿™ä¸‰ä¸ªå®¶ä¼™æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li></ul><p>æ˜¾è€Œæ˜“è§ï¼Œ0.0.0.0 å’Œ 127.0.0.1 æ˜¯ IP åœ°å€å˜›ï¼Œlocalhost æ˜¯ hostnameã€‚è‡³äºå†å…·ä½“ç‚¹çš„ä¸œè¥¿ï¼Œå¯ä»¥çœ‹ä¸‹åé¢ä¸¤ä¸ªé—®é¢˜ã€‚</p><ul><li>ä¸ºä»€ä¹ˆæ–­ç½‘åï¼Œæˆ‘ä»¬è¿˜èƒ½ ping é€šè¿™ä¸‰ä¸ªä¸œè¥¿ï¼Ÿ</li></ul><p>æ–­ç½‘çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ ping å‘½ä»¤ï¼Œping ä¸€ä¸‹å…¬ç½‘çš„ IP åœ°å€ï¼Œä¸€èˆ¬æ˜¯ä¸é€šçš„ã€‚ä½†æ˜¯ <code>ping 127.0.0.1</code> å´å¯ä»¥ã€‚å› ä¸º 127.0.0.1 æ˜¯ä¸€ä¸ªå›ç¯åœ°å€ï¼ˆLoopback Addressï¼‰ï¼Œæ“ä½œç³»ç»Ÿå¯¹äºèµ°çœŸå®ç½‘å¡çš„å…¬ç½‘ IP æ•°æ®åŒ…çš„å¤„ç†å’Œèµ°è™šæ‹Ÿç½‘å¡çš„æœ¬æœºå›ç¯åœ°å€ï¼ˆä¹‹å‰ä»‹ç»çš„ lo å’Œ lo0ï¼ŒVirtual loopback interfaceï¼‰çš„å¤„ç†æ˜¯ä¸ä¸€æ ·çš„ã€‚ç›¸å¯¹äºç›®æ ‡æ˜¯å…¬ç½‘ IP çš„æ•°æ®åŒ…èµ°çš„ ring bufferï¼Œå›ç¯åœ°å€çš„æ•°æ®åŒ…èµ°äº†ä¸€ä¸ªæ•°æ®ç»“æ„ input_pkt_queue è§¦å‘è½¯ä¸­æ–­ ksoftirqd å¤„ç†ï¼Œè¿™ç¯‡æ–‡ç« æœ‰è¾ƒä¸ºæ·±å…¥çš„ä»‹ç» ğŸ‘‰<a href="https://zhuanlan.zhihu.com/p/381408859">ğŸ”—</a>ğŸ‚ã€‚</p><p>è‡³äº <code>ping localhost</code> ä¹Ÿæ˜¯é€šçš„æ˜¯å› ä¸º localhost DNS è§£æåˆ°äº†å›ç¯åœ°å€ 127.0.0.1ï¼Œå¯ä»¥ä½¿ç”¨ <code>cat /etc/hosts</code> æŸ¥çœ‹ Linux hosts æ–‡ä»¶ã€‚IETF æ ‡å‡† <a href="https://www.rfcreader.com/#rfc6761_line336">RFC6761</a> å°†åŸŸå localhost é»˜è®¤ä¿ç•™ç»™äº†å›ç¯åœ°å€ 127.0.0.1ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">âœ <span class="built_in">cat</span> /etc/hosts</span><br><span class="line">127.0.0.1       localhost</span><br><span class="line">::1     ip6-localhost ip6-loopback</span><br></pre></td></tr></table></figure><p>è‡³äºä¸ºä»€ä¹ˆæ–­ç½‘èƒ½ ping é€š 0.0.0.0ï¼Œå¯ä»¥ç»“åˆä¸‹ä¸€ä¸ªé—®é¢˜æ€è€ƒä¸€ä¸‹ã€‚</p><ul><li>å¼€å‘å®Œåçš„ Web Serviceï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼š listen 0.0.0.0ï¼Œè¿™æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</li></ul><p><code>listen 0.0.0.0</code> ä¼šç›‘å¬æœ¬æœºä¸Šçš„æ‰€æœ‰IPV4åœ°å€ã€‚è®©æœåŠ¡è®¿é—®æ–¹å°±å¯ä»¥é€šè¿‡æœ¬æœºçš„å¤šä¸ª IP åœ°å€ï¼ˆåŒ…æ‹¬å›ç¯åœ°å€ï¼Œåªè¦æœåŠ¡è®¿é—®æ–¹ä¸æœ¬æœºå¤„äºåŒä¸€ä¸ªç½‘ç»œä¸‹ï¼‰è®¿é—®æœ¬æœºçš„ Web æœåŠ¡ã€‚<a href="https://datatracker.ietf.org/doc/html/rfc5735#section-3">RFC 5735</a> å¯¹ç‰¹æ®Šçš„ 0.0.0.0 åœ°å€åšäº†ä»‹ç»ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/ping0000.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/ping0000.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ping 0.0.0.0"></p><h2 id="Wireshark-å›ç¯åœ°å€æŠ“åŒ…"><a href="#Wireshark-å›ç¯åœ°å€æŠ“åŒ…" class="headerlink" title="Wireshark å›ç¯åœ°å€æŠ“åŒ…"></a>Wireshark å›ç¯åœ°å€æŠ“åŒ…</h2><p>åœ¨è¿™é‡Œä»‹ç»ä¸‹ä½¿ç”¨ <a href="https://www.wireshark.org/#download">Wireshark</a> æŠ“å–å›ç¯åœ°å€çš„æ•°æ®åŒ…ï¼Œ</p><blockquote><p>Wireshark å¦‚æœæƒ³è¦æŠ“å–å›ç¯åœ°å€çš„åŒ…ï¼ˆ(loopback packets)ï¼‰ï¼Œéœ€è¦å®‰è£… <a href="https://nmap.org/npcap/">Npcap</a>ã€‚</p></blockquote><p>1ã€æˆ‘ä»¬æœ¬åœ°ä½¿ç”¨ Go çš„ Gin èµ·ä¸ªç²—ç³™ç‰ˆ Web æœåŠ¡ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">r := gin.Default()</span><br><span class="line">r.GET(<span class="string">&quot;/ping&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">c.JSON(<span class="number">200</span>, gin.H&#123;</span><br><span class="line"><span class="string">&quot;message&quot;</span>: <span class="string">&quot;pong&quot;</span>,</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">r.Run() <span class="comment">// listen and serve on 0.0.0.0:8080 (for windows &quot;localhost:8080&quot;)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/gogin.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/gogin.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Go-Gin"></p><p>2ã€æ‰“å¼€ Wiresharkï¼Œcapture å›ç¯åœ°å€çš„è™šæ‹Ÿç½‘å¡ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/wireshark_loopback.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/wireshark_loopback.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Wireshark capture loopback"></p><p>3ã€è¿‡æ»¤ä¸€ä¸‹ TCP ç«¯å£ï¼Œcurl ä¸€ä¸‹ localhost:8080/pingï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --location --request GET <span class="string">&#x27;localhost:8080/ping&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/wireshark_port_filter.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/wireshark_port_filter.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Wireshark TCP port filter"></p><p>æ°´å®Œï¼Œæ”¶å·¥ï¼ğŸ˜Š</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://en.wikipedia.org/wiki/Loopback">LoopBack (Virtual loopback interface) - wikipedia</a></li><li><a href="https://en.wikipedia.org/wiki/Localhost">Localhost - wikipedia</a></li><li><a href="https://zhuanlan.zhihu.com/p/381408859">æ–­ç½‘äº†ï¼Œè¿˜èƒ½pingé€š 127.0.0.1 å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Wireshark </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›åˆ°åæœˆ-ç”Ÿæ´»ä¸­çš„ä¸€ç‚¹å„¿å°ç¡®å¹¸</title>
      <link href="/2021/11/14/back-to-october/"/>
      <url>/2021/11/14/back-to-october/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸çŸ¥ä¸è§‰ï¼Œç¦»å¼€æ ¡å›­å°†è¿‘å››ä¸ªæœˆäº†ï¼Œæ­£å¼å·¥ä½œï¼ˆæ‘¸ğŸŸ~ï¼‰ä¹Ÿå·®ä¸å¤šå››ä¸ªå¤šæœˆäº†ï¼Œæœ€è¿‘ç»å†äº†å¾ˆå¤šäº‹ï¼Œå¤´å‘ä¹Ÿæ‰äº†ä¸å°‘ğŸ˜‚ {å¾®å¾®å®³æ€•äº†}ã€‚ä¹‹å‰ä¸€ç›´æœ‰æƒ³æ³•æƒ³è¡¥å……ä¸€äº›å¸¦æœ‰ç”Ÿæ´»æ°”æ¯çš„åšæ–‡åˆ°è‡ªå·±çš„åšå®¢ä¸­ï¼Œå°è±¡ä¸­ 2021 å¹´çš„ reviewed æœ‰æåˆ°è¿‡ï¼Œæ€»è§‰å¾—è‡ªå·±çš„åšå®¢å°‘äº†ç‚¹å‘³å„¿ï¼ˆç”Ÿæ´»çš„å‘³é“ï¼‰ï¼Œæ¯•ç«Ÿæˆ‘ä¹Ÿæ˜¯ä¸ªæ´»è„±è„±çš„äººå•Šï¼Œä¹Ÿæ˜¯æœ‰ â€œæ„Ÿè§‰â€ çš„ã€‚</p><p>è¶ç€å‘¨æœ«ï¼Œæ¥ä¸€ç¯‡ã€‚ç•¥å¾®å›é¡¾äº†ä¸‹è¿™å‡ ä¸ªæœˆï¼Œè§‰å¾—æœ€åº”è¯¥å†™çš„å°±æ˜¯ 10 æœˆï¼ˆå±äº‹å¤šğŸ˜„ï¼‰ï¼Œè™½ç„¶è¯´ç°åœ¨éƒ½ 11 æœˆäº†ï¼Œä½†ä¹Ÿä¸å¦¨ç¢æˆ‘å†™ 10 æœˆçš„äº‹ã€‚</p><h2 id="10-æœˆçš„é‚£äº›å°ç¡®å¹¸"><a href="#10-æœˆçš„é‚£äº›å°ç¡®å¹¸" class="headerlink" title="10 æœˆçš„é‚£äº›å°ç¡®å¹¸"></a>10 æœˆçš„é‚£äº›å°ç¡®å¹¸</h2><ul><li>å›½åº†</li><li>ç­”è¾©</li><li>æˆ–è®¸æ³¨å®šçš„é‡è§</li></ul><h3 id="å›½åº†ä¸ƒå¤©"><a href="#å›½åº†ä¸ƒå¤©" class="headerlink" title="å›½åº†ä¸ƒå¤©"></a>å›½åº†ä¸ƒå¤©</h3><p>emmmï¼Œè¯´åˆ° 10 æœˆï¼Œé¦–å½“å…¶å†²çš„å½“ç„¶æ˜¯å›½åº†ä¸ƒå¤©çš„å‡æœŸäº†ã€‚è¿™ä¸ƒå¤©æˆ‘æœ‰ä¸‹é¢çš„ä¸€ä¸ªå°æ€»ç»“ï¼Œ2333ï¼š</p><ul><li>Day 1ï¼Œæ¸¸æˆï¼ˆFPSï¼‰ï¼›</li><li>Day 2ï¼Œæ¸¸æˆï¼ˆFPSï¼‰ï¼›</li><li>Day 3ï¼Œæ¸¸æˆï¼ˆSRPGï¼‰ï¼›</li><li>Day 4ï¼Œç°ä»£æ–‡å­¦å°è¯´ã€Šæ´»ç€ã€‹ + ç”µå½±ã€Šæ´»ç€ã€‹ï¼›</li><li>Day 5ï¼Œçˆ¬ä¸ªå±±ï¼›</li><li>Day 6ï¼ŒåŠ¨ç‰©å›­ &amp; åŒ—äº¬è·¯ &amp; ä¹¦åº—ï¼›</li><li>Day 7ï¼Œçœ‹äº†ä¸ªç”µå½±ï¼Œå†™ç¯‡æ–‡ç« ï¼›</li><li>Day 8ï¼Œä¸Šäº†ä¸ªç­å„¿ã€‚</li></ul><p>æ¸¸æˆï¼šæˆ‘åœ¨ 7 æœˆä»½æ¢äº†ä¸ªé…ç½®è¿˜å¯ä»¥ç”µè„‘ï¼Œç»ˆäºèƒ½æ‰“ç‚¹åƒæ ·ç‚¹çš„æ¸¸æˆäº†ï¼Œä¹‹å‰é‚£å°ç ´ç”µè„‘ï¼Œæˆ‘åªèƒ½æ‰“ä¸ªã€Šç»†èƒåˆ†è£‚ï¼šæ–­ç½ªã€‹æ„æ€ä¸€ä¸‹ï¼Œå“¦ï¼Œè¿˜æœ‰ã€Šæ˜Ÿé™…äº‰éœ¸ 2ã€‹ä¹Ÿèƒ½å‹‰å¼ºç©ç©ï¼Œå½“åˆçœ‹ç€å®¤å‹ç©æ–°å‡ºçš„æ¸¸æˆï¼Œé‚£å«ä¸€ä¸ªç¾¡æ…•å•Šï¼ˆé‚£æ—¶å€™æˆ‘ä¸€èˆ¬åªå¥½ç”©ä¸ªé—¨å‡ºå»å·äº†ï¼‰ã€‚10 æœˆå‰ï¼Œã€ŠSniper Elite 4ã€‹ç‹™å‡»ç²¾è‹± 4 æ­£å¥½æ‰“æŠ˜ï¼Œåæ‰‹åœ¨ Steam å…¥æ‰‹äº†æˆ‘çš„ç¬¬äºŒæ¬¾æ¸¸æˆï¼ˆä¹‹å‰è€ç™½å«–å…šäº†ï¼ŒèŠ±ç‚¹é’±ï¼Œæ„æ€ä¸‹ï¼‰ã€‚BTWï¼Œå›½åº†å‰ä¸€ä¸ªåŒäº‹æ¨èè¿‡æˆ‘è€ä¸‹ã€ŠHearts of Ironã€‹é’¢é“é›„å¿ƒï¼Œç©äº†ä¸‹ï¼ŒçœŸå¤æ‚ï¼Œä¸é€‚åˆæˆ‘ã€‚è¢«æŸã€Šç‹è€…è£è€€ã€‹å½±å“ï¼Œæ‰“ä¹ æƒ¯å­¦ä¹ æˆæœ¬æ²¡ä¹ˆé«˜çš„æ¸¸æˆäº†ï¼ˆè¿™å°±æ˜¯ä¼ è¯´ä¸­çš„è¿«äºç”Ÿæ´»ï¼Ÿï¼‰ã€‚äºæ˜¯æœºæ™ºçš„æˆ‘ï¼Œå·§å¦™çš„é¿å¼€äº†å›½åº†å‰ä¸‰å¤©çš„äººæµ·ï¼Œå†³å®šä¸å‡ºå»ï¼Œæ‰“å¼€ä¸¤å¤©çš„ã€Šç‹™å‡»ç²¾è‹± 4ã€‹ï¼Œå”‰ï¼ŒçœŸé¦™ï¼</p><p><img src="https://z3.ax1x.com/2021/11/14/I6Ym9S.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/11/14/I6Ym9S.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Sniper Elite 4"></p><p>ç¬¬ä¸‰å¤©ï¼Œåæ‰‹æ‰“å¼€äº†æµ·è±šæ¨¡æ‹Ÿå™¨ï¼ˆæ²¡åŠæ³•ï¼Œæ¡ä»¶å®ƒä¸å…è®¸ï¼‰ï¼Œç©èµ·äº† SRPG æ¸¸æˆ -&gt; ã€Šç«ç„°çº¹ç« ï¼šæ™“ä¹‹å¥³ç¥ã€‹ï¼Œç«ç„°çº¹ç« ç³»åˆ—æ¸¸æˆç©äº†å¾ˆå¤šå¹´äº†ï¼Œä¸çŸ¥é“æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½å«–ä¸Š 2019 å¹´å‡ºçš„ã€Šç«ç„°ä¹‹çº¹ç« ï¼šé£èŠ±é›ªæœˆã€‹/(ã„’oã„’)/~~ï¼ŒGoogle äº†ä¸€éï¼Œæ²¡ç¿»åˆ°é•œåƒï¼Œå¤ªéš¾äº†ğŸ˜­ã€‚æ¯æ¬¡ç©è¿™ç§ç•¥å¾®å¸¦ç‚¹å¹´ä»£æ„Ÿçš„æ¸¸æˆï¼Œéƒ½ä¼šå›å¿†èµ·å°æ—¶å€™ç©æ’å¡å¸¦æ¸¸æˆçš„é‚£ç§å¿«ä¹ã€‚</p><p><img src="https://z3.ax1x.com/2021/11/14/I6tEr9.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/11/14/I6tEr9.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç«ç„°çº¹ç« ï¼šæ™“ä¹‹å¥³ç¥"></p><p>ohï¼Œè¿™ä¸ªæœˆæˆ‘è¿˜é€šè¿‡æŸå°ç¨‹åºè€äº†ä¸‹å½“åˆå°æ—¶å€™ç©è¿‡çš„ã€Šçƒ­è¡€æ ¼æ–—ã€‹ï¼Œå¿«ä¹å°±è¿™ä¹ˆç®€å•ğŸ˜ï¼Ÿ</p><p><img src="https://z3.ax1x.com/2021/11/14/I6tfRU.jpg" class="lazyload" data-srcset="https://z3.ax1x.com/2021/11/14/I6tfRU.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="çƒ­è¡€æ ¼æ–—"></p><p>å°è¯´ï¼šç¬¬å››å¤©ï¼Œæˆ‘å°è¯•ç€çœ‹äº†ä¸‹ä½™åçš„é•¿ç¯‡å°è¯´ã€Šæ´»ç€ã€‹ï¼Œä¸°å¯Œä¸‹è‡ªå·±çš„ç²¾ç¥ä¸–ç•Œã€‚æ‰€å¹¸å®ƒçš„ç¯‡å¹…ä¹Ÿæ²¡æœ‰é‚£ä¹ˆé•¿ï¼ˆæƒ³èµ·æ¥ï¼Œå½“åˆæˆ‘é‚£å¥—å‘¨æ˜“ä¹Ÿæ²¡çœ‹å®Œï¼Œè™½ç„¶ä¸€å°æœ¬æŒºè–„çš„ğŸ˜¢ï¼Œä½†å°æœ¬æœ¬å †èµ·æ¥å°±å¾ˆå¤šäº†ï¼‰ã€‚å°è¯´åœ¨ç”¨æ­»äº¡å»â€œè±¡å¾â€æ´»ç€ï¼Œå°½ç®¡ä¸»äººå…¬çš„ä¸€ç”Ÿæ˜¯é‚£ä¹ˆçš„ä¸å¹¸ï¼Œä½†ä»–æœ€åä»ç„¶æ˜¯é‚£ä¹ˆçš„ä¹è§‚è±è¾¾ã€‚ä»”ç»†æƒ³æƒ³ï¼Œæˆ‘è§‰å¾—ç¦è´µè¿˜æ˜¯æŒºå¹¸è¿çš„ï¼Œé‡åˆ°äº†é‚£ä¹ˆå¤šå¯¹è‡ªå·±å¥½çš„äººã€‚å°½ç®¡æˆ‘æ²¡æœ‰ç”Ÿé•¿åœ¨é‚£ä¸ªå¹´ä»£ï¼Œä½†æˆ‘åœ¨è¿™å°è¯´ä¸­ä»ä¸€ä¸ªå¹³å‡¡äººçš„è§†è§’ï¼ˆç›¸æ¯”äºä¹‹å‰çš„ç»å¸¸çœ‹çš„æŠ—æˆ˜ç”µè§†å‰§ï¼‰åˆçœ‹åˆ°äº†çš„å½“åˆé‚£äº›å¹´ä»£çš„ä¸å®¹æ˜“ã€‚ç¬¬å››å¤©ç¨å¾®æ™šäº›çš„æ—¶å€™ï¼Œæˆ‘é¡ºä¾¿çœ‹äº†ä¸‹å¼ è‰ºè°‹æ‰§å¯¼çš„åŒåç”µå½±ï¼Œç”µå½±ç¨å¾®ç¾åŒ–äº†ä¸‹å°è¯´ï¼Œä½†ä¸å¾—ä¸è¯´ 94 å¹´çš„ç”µå½±è¿™ä¹ˆæ£’ï¼Œé‚£ç®±è´¯ç©¿æ•´éƒ¨ç”µå½±çš„çš®å½±ç®±ï¼Œè®©æˆ‘å°è±¡å¾ˆæ·±åˆ»ï¼Œç”µå½±çš„è™½ç„¶æ²¡æœ‰æ‹å®Œæ•´éƒ¨å°è¯´ï¼Œä½†æç»˜å¾—å¾ˆåˆ°ä½äº†ã€‚ä¹Ÿè®¸å¤šå¹´åçš„æˆ‘å†çœ‹ä¼šæœ‰æ›´å¤šå¾—ä½“ä¼šğŸ¤”ï¼Œä¸‹é¢æ˜¯æˆ‘çœ‹å°è¯´çš„æ—¶å€™å–œæ¬¢å¾—ä¸€æ®µè¯ï¼š</p><p><img src="https://z3.ax1x.com/2021/11/14/I6wEAs.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/11/14/I6wEAs.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å°è¯´-ã€Šæ´»ç€ã€‹"></p><p>çˆ¬å±±ï¼šç¬¬äº”å¤©çš„çˆ¬å±±å…¶å®å¹¶æ²¡æœ‰åˆ—å…¥æˆ‘çš„è§„åˆ’ä¸­ï¼ˆæƒ³äº†æƒ³ï¼Œæˆ‘çš„å›½åº†å½“åˆä¹Ÿæ²¡è§„åˆ’ğŸ¤£ï¼‰ï¼Œè¿™å¯ä»¥è¯´æ˜¯è¯´èµ°å°±èµ°äº†ï¼Œå‡ºå»å‘¼å¸ä¸‹æ–°é²œç©ºæ°”ã€‚è¿™å¤©ç›¸å½“çš„ relaxï¼Œè¿™å¹¿å·çš„ç™½äº‘å±±è¿˜æŒºçŸ®ï¼Œä¸è¿‡å¿«åˆ°å±±é¡¶çš„é‚£æ®µè·¯ä¹Ÿä¸å¥½èµ°å•Šã€‚æˆ‘ä»¥ä¸ºè¿‡å®Œä¸€éå±±ä¸Šçš„æ™¯ç‚¹äº†ï¼Œä½†æ˜¯å’ŒæŸä¸ªäººèŠçš„æ—¶å€™ï¼Œæˆ‘å‘ç°æˆ‘å±…ç„¶è¿˜æœ‰é‚£ä¹ˆå¤šçš„åœ°ç‚¹æ²¡å»ï¼Œåé¢å†å»æ¬¡ï¼ˆå›§.jpgï¼‰ã€‚</p><p><img src="https://z3.ax1x.com/2021/11/14/I6fKiT.jpg" class="lazyload" data-srcset="https://z3.ax1x.com/2021/11/14/I6fKiT.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="mountain"></p><p>åŠ¨ç‰©å›­ &amp; åŒ—äº¬è·¯ &amp; ç”µå½±ï¼šè¿™é‡Œè¦ç‰¹åˆ«æä¸€ä¸‹ï¼Œæˆ‘éƒ½æ˜¯ä¸€ä¸ªäººå»çš„ï¼Œ2333ï¼Œæˆ‘éª„å‚²ï¼ˆğŸ˜ï¼‰ã€‚åæ§½ä¸€ä¸‹ï¼ŒåŠ¨ç‰©å›­ &amp; åŒ—äº¬è·¯ ä¹Ÿå°±è¿™äº†ï¼Œä¸è¿‡å¦‚æ­¤ğŸ¤£ï¼Œæ„Ÿè§‰æ¯ä¸ªåŸå¸‚éƒ½æœ‰ã€‚ç”µå½±çœ‹çš„æ˜¯æœ€è¿‘å¾ˆç«çš„ã€Šé•¿æ´¥æ¹–ã€‹ï¼Œäººç”Ÿçš„ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººå»çœ‹çš„ç”µå½±ï¼Œåªèƒ½è¯´æˆ‘å¤ªå‹‡äº†ï¼Œä¹‹å‰çœ‹ç”µå½±ä¸€ç›´æ˜¯å’ŒåŒå­¦å»çš„ï¼Œä¸€ç›´å®³æ€•ä¸€ä¸ªäººå»çœ‹ï¼ˆæœ‰ç§æƒ³æ³•ä¸€ç›´å›´ç»•ç€æˆ‘çš„è„‘æµ·ï¼šä¸€ä¸ªäººå»ä¸å¤ªå¥½å§ï¼Ÿå‘¨å›´éƒ½æ˜¯å°æƒ…ä¾£ï¼Ÿè¢«æš´å‡»ï¼‰ã€‚è¢«æœ‹å‹ç–¯ç‹‚ pushï¼Œæ‚Ÿäº†ï¼Œæƒ³çœ‹å°±çœ‹ï¼Œå…³æ³¨é‚£ä¹ˆå¤šåˆ«äººçš„çœ‹æ³•å¹²å˜›ï¼ˆåˆ«äººä¹Ÿæœªå¿…å…³æ³¨ä½ ï¼‰ã€‚</p><p>ä¹¦åº—ï¼šè°ˆåˆ°é˜…è¯»ï¼Œæˆ‘ç»å†äº†ä»çº¸è´¨ä¹¦åˆ°ç”µå­ä¹¦å†åˆ°çº¸è´¨ä¹¦ &amp; ç”µå­ä¹¦æ··åˆåŒæ‰“çš„å˜æ¢ã€‚æœ€è¿‘å‡ ä¸ªæœˆå»ä¹¦åº—çš„é¢‘ç‡æœ‰ç‚¹é«˜äº†ï¼Œè¢«è¯­é›€ä¸Š dalao ä»¬ä¸°å¯Œçš„ç²¾ç¥ä¸–ç•Œåˆºæ¿€åˆ°äº†ğŸ¤£ï¼Œæˆ‘å¯¹è‡ªå·±ç²¾ç¥ä¸–ç•Œçš„æ¢ç´¢åˆæ›´åŠ çƒ­åˆ‡äº†ï¼Œå»ä¹¦åº—æ”’ç‚¹â€œæ°”â€ã€‚è‡ªå·±ä¹‹å‰æ˜¯å¾ˆå¤šå–œæ¬¢åˆ°çŸ¥ä¹è¿˜æœ‰å¾®ä¿¡å…¬ä¼—å·å»çœ‹åˆ«äººå†™çš„æ–‡ç« çš„ï¼Œå¥ˆä½•è¿˜æ˜¯æ²¡æœ‰èƒ½å¤Ÿå¾ˆå¥½çš„æŠŠè‡ªå·±çš„æƒ³æ³•çœŸå®å†™å‡ºæ¥ã€‚æˆ‘åˆæ‚Ÿäº†ğŸ¤£ï¼Œæ˜¯æˆ‘æ²¡æœ‰æ–™ï¼Œæ–™å‚¨å¤‡ä¸å¤Ÿå¤šï¼ŒMaybeï¼Œä¸€æœ¬å®Œæ•´çš„ä¹¦ç›¸æ¯”äºç‰‡æ®µåŒ–çš„æ–‡ç« èƒ½è®©æˆ‘æœ‰æ›´æ·±åˆ»çš„æ„Ÿå—ï¼é‚£ä¹ˆå°±å¾®å¾®æé«˜äº†ä¸‹çœ‹ä¹¦çš„é¢‘ç‡ï¼Œåšç‚¹çªç ´ã€‚</p><h2 id="ç­”è¾©"><a href="#ç­”è¾©" class="headerlink" title="ç­”è¾©"></a>ç­”è¾©</h2><p>è¿™ä¸ªæœˆè¿˜æœ‰ä¸€ä»¶é‡è¦çš„äº‹ï¼Œå°±æ˜¯æˆ‘çš„è½¬æ­£ç­”è¾©ã€‚ä¸å¾—ä¸è¯´å†™ PPT æ˜¯ä¸ªå¾ˆç—›è‹¦çš„äº‹æƒ…ï¼Œä½†æ˜¯ä¸ºäº†ç»™è‡ªå·±ä¸ªäº¤ä»£ï¼Œå¿…é¡»å¾—å†™ä¸€ä¸ªã€‚å‡†å¤‡ç­”è¾©çš„è¿‡ç¨‹æˆ‘ä¹Ÿæ…¢æ…¢å¯¹è‡ªå·±æœ‰äº†æ›´åŠ æ¸…æ¥šçš„è®¤çŸ¥ã€‚</p><p>ç›´è‡³ç°åœ¨ï¼Œæˆ‘ä»ç„¶èƒ½å¾ˆæ¸…æ¥šå¾—æ„Ÿå—åˆ°è‡ªå·±çš„å˜åŒ–ã€‚</p><p>æœ€è¿‘è®¤è¯†çš„åŒäº‹ &amp; æœ‹å‹éƒ½è·Ÿæˆ‘è¯´è¿‡ä¸€å¥è¯ï¼ˆSocial è¿˜å¾—æ˜¯ä½ å•Šï¼ï¼‰ï¼Œå®é™…ä¸Šï¼ŒSocialï¼Ÿæˆ‘å¹¶æ²¡æœ‰é‚£ä¹ˆçš„ Socialã€‚æˆ‘è§‰å¾—æˆ‘ä»¥å‰æ˜¯é‚£ä¹ˆä¸€ä¸ªå­¤åƒ»çš„äººï¼Œå“ªæ€•æ˜¯å¯¹å®¶äººä¹Ÿæ˜¯å¦‚æ­¤ã€‚æˆ‘æ˜¯é‚£ä¹ˆçš„å–œæ¬¢ä¸€ä¸ªäººå‘†ç€ï¼ˆå‘†ç€ï¼Ÿæˆ–è®¸å¯ä»¥ç§°ä¹‹ä¸ºç‹¬å¤„ï¼‰ï¼Œä¸æ„¿æ„äºå¤ªå¤šçš„äººæ¥è§¦ï¼Œèƒ½è‡ªå·±åšçš„äº‹ç»ä¸æ‰¾åˆ«äººï¼Œå°±ç®—ä¸èƒ½è‡ªå·±åšï¼Œä¹Ÿä¼šç»§ç»­åšæŒæ‰¾ç€æ³•å»åšï¼Œå°±æ˜¯ä¸å¤ªæ„¿æ„æ‰¾åˆ«äººå¸®å¿™ã€‚æˆ‘æ„Ÿè§‰çŸ¥ä¹ä¸Šçš„ä¸€ä¸ªè¯é¢˜å¯¹æˆ‘è¿™ä¸€ç±»äººçš„æè¿°æ˜¯å¾ˆåˆ°ä½çš„ -&gt; <a href="https://www.zhihu.com/question/438833344/answer/1892590099?utm_campaign=shareopn&utm_medium=social&utm_oi=908413169096077312&utm_source=wechat_session&s_r=0">ä¸ºä»€ä¹ˆè¯´å†…å‘çš„äººç²¾ç¥å†…è€—å¾ˆä¸¥é‡å‘¢?</a>ã€‚æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä¼šè§‰å¾—æˆ‘æ˜¯é‚£ä¹ˆçš„ä¸è‡ªä¿¡ã€‚å·¥ä½œä¸Šçš„äº‹ï¼Œæœ€åˆæ˜¯æ¯”è¾ƒåŒæ¶æ²Ÿé€šçš„ï¼Œå‘¨å›´çš„åŒäº‹è¿˜æ˜¯ä¸é”™çš„ï¼Œä½†æˆ‘è¿˜æ˜¯ä¸æ„¿æ„å»æ²Ÿé€šï¼Œæ€»è§‰å¾—æˆ‘è‡ªå·±èƒ½è§£å†³ğŸ˜¢ï¼Œä½†è¿™æ•ˆç‡ç›¸å¯¹äºåˆä½œæ¥è¯´ï¼Œå°±æ²¡é‚£ä¹ˆçš„å¥½äº†ã€‚</p><p>ç°åœ¨æ„Ÿè§‰å¥½å¤šäº†ï¼Œæˆ‘æ…¢æ…¢çš„è¸å‡ºäº†é‚£ä¸€æ­¥ï¼Œä¸»åŠ¨å’Œåˆ«äººæ²Ÿé€šç¨å¾®å¤šäº†ç‚¹ã€‚ä½†è¿˜æ˜¯æœ‰ç§ç±»ä¼¼äºâ€œåŒæ¶â€çš„å¿ƒç†å­˜åœ¨ï¼Œä¸æƒ³åˆ«äººçŸ¥é“å¤ªå¤šã€‚å¥½äº†ï¼Œè¿™é‡Œæˆ‘ä¹Ÿä¸æƒ³å†™å¤ªå¤šï¼Œæˆ‘æœŸå¾…è‡ªå·±çš„ä¸‹ä¸€æ­¥å˜åŒ–ğŸ™‚ã€‚</p><p>è¿™é‡Œçš„è¯å¯èƒ½æœ‰ç‚¹ä¹±ï¼Œç¨ï¼ˆæ—¥ï¼‰åå†ç†ä¸€ç†ã€‚</p><h2 id="é‡è§"><a href="#é‡è§" class="headerlink" title="é‡è§"></a>é‡è§</h2><p>â€¦â€¦</p><!-- è¿™ä¸ªæœˆæˆ‘é€šè¿‡ä¸€ä¸ªç‰¹æ®Šçš„æ¸ é“ï¼ˆæ„Ÿè§‰æœ¬ä¸åº”è¯¥æ˜¯æˆ‘è¿™ä¸ª age çš„äººå»ä½¿ç”¨çš„æ¸ é“ï¼‰è®¤è¯†äº†ä¸€ä½ girlã€‚æˆ‘ç§°ä¹‹ä¸º Cauliflowerã€‚ä¸çŸ¥é“æˆ‘ä»¬æ¥ä¸‹æ¥ä¼šæœ‰ä»€ä¹ˆæ ·çš„æ•…äº‹ã€‚![Cabbage](https://z3.ax1x.com/2021/11/14/I6ftdx.jpg) --><blockquote><p>Life is not over.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ Kubeadm æ­å»ºä¸ªå…¬ç½‘ k8s é›†ç¾¤ï¼ˆå•æ§åˆ¶å¹³é¢é›†ç¾¤ï¼‰</title>
      <link href="/2021/10/24/create-k8s-cluster/"/>
      <url>/2021/10/24/create-k8s-cluster/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>YYï¼šå›½åº†çš„æ—¶å€™è¶ç€é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘çš„è½»é‡çº§æœåŠ¡å™¨åšä¿ƒé”€ä¸€ä¸å°å¿ƒå‰äº†ä¸ªæ‰‹ğŸ˜ğŸ˜¢ï¼Œ2 Coresï¼Œ4G RAM è¿˜æ˜¯é˜”ä»¥çš„ï¼Œæ—¢ç„¶ä¹°äº†ï¼Œé‚£ä¸èƒ½ä¸ç”¨å‘€ğŸš©ï¼Œä¹‹å‰ä¸€ç›´æƒ³ç€æ­å»ºä¸ª k8s é›†ç¾¤ç©ç©ï¼Œæœ¬åœ°å¼€å‘æœºè™½ç„¶èµ·äº†ä¸ª k8sï¼ˆæ‹¿ Docker Desktop èµ·çš„ï¼Œä¸ dei åŠ²ï¼‰ï¼Œä½†å°±ä¸€ä¸ª Nodeï¼Œä¸çˆ½ï¼Œå¯¹ k8s çš„ä½“éªŒä¸åˆ°ä½ğŸ˜’ï¼Œ1024ï¼Œæ˜¯æ—¶å€™ç”¨èµ·æ¥äº†ï¼ŒæŠ˜è…¾ä¸€ä¸‹ï¼Œé¡ºä¾¿è®©æœ€è¿‘æµ®èºçš„å¿ƒå†·é™ä¸€ä¸‹ã€‚</p><p>è¿™æ¬¡æ‹¿å®˜æ–¹çš„ Kubeadm è€ä¸€ä¸‹ï¼Œä»¥é˜¿é‡Œäº‘çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ä¸º Control èŠ‚ç‚¹ï¼Œè…¾è®¯äº‘çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ä¸º Worker èŠ‚ç‚¹ï¼Œè¯´å¹²å°±å¹²ã€‚</p><span id="more"></span><h2 id="Check-ä¸€ä¸‹æ–‡æ¡£è¦æ±‚-å‡†å¤‡å·¥ä½œ"><a href="#Check-ä¸€ä¸‹æ–‡æ¡£è¦æ±‚-å‡†å¤‡å·¥ä½œ" class="headerlink" title="Check ä¸€ä¸‹æ–‡æ¡£è¦æ±‚ - å‡†å¤‡å·¥ä½œ"></a>Check ä¸€ä¸‹æ–‡æ¡£è¦æ±‚ - å‡†å¤‡å·¥ä½œ</h2><p>Kubenetes å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº† Kubeadm èµ· k8s é›†ç¾¤çš„å‡ ç‚¹è¦æ±‚ï¼Œåœ¨è¿™é‡Œå¾®å¾®æ£€æŸ¥ä¸‹ä¸¤å°è½»é‡çº§äº‘æœåŠ¡å™¨ï¼š</p><ul><li><input checked="" disabled="" type="checkbox"> A compatible Linux host. The Kubernetes project provides generic instructions for Linux distributions based on Debian and Red Hat, and those distributions without a package manager.[æˆ‘ä»¬ç”¨çš„ Ubuntu 20.04ï¼Œé‚£è‚¯å®šç¬¦åˆ Debian ç³»çš„].</li><li><input checked="" disabled="" type="checkbox"> 2 GB or more of RAM per machine (any less will leave little room for your apps).[4G, æˆ‘ä»¬å¾ˆ OK, ä½†æ„Ÿè§‰åé¢ä¼šæ‹‰è·¨].</li><li><input checked="" disabled="" type="checkbox"> 2 CPUs or more. [æ­£å¥½ä¸€å° 2ä¸ª CPU, nice].</li><li><input checked="" disabled="" type="checkbox"> Full network connectivity between all machines in the cluster (public or private network is fine).[ä¸¤å°è½»é‡çº§åº”ç”¨æœåŠ¡å™¨éƒ½æœ‰å…¬ç½‘ IPï¼Œé‚£å¿…é¡»äº’é€šå•Š].</li><li><input checked="" disabled="" type="checkbox"> Unique hostname, MAC address, and product_uuid for every node.[è¿™é‡Œå¾—å¾®å¾® check ä¸€ä¸‹ä¸¤å°æœåŠ¡å™¨ï¼Œ<code>cat /sys/class/net/eth0/address</code> çœ‹ä¸‹ MAC åœ°å€ï¼Œ<code>sudo cat /sys/class/dmi/id/product_uuid</code> çœ‹ä¸‹ product_uuid, <code>hostname</code> çœ‹ä¸‹ä¸»æœºåï¼Œemmm, correctï¼]</li><li><input checked="" disabled="" type="checkbox"> Certain ports are open on your machines. [è¿™é‡Œå¾—åˆ°é˜¿é‡Œäº‘è½»é‡çº§æœåŠ¡å™¨ &amp; è…¾è®¯äº‘çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨çš„é˜²ç«å¢™å¼€æ”¾ä¸‹ç›¸å…³ TCP ç«¯å£]ã€‚</li></ul><p>é˜¿é‡Œäº‘è½»é‡çº§åº”ç”¨æœåŠ¡å™¨å¼€å¯ Controlï¼ˆæ§åˆ¶å¹³é¢ï¼‰èŠ‚ç‚¹çš„ TCP ç«¯å£ï¼Œè¿™é‡Œè¦å¯¹ç…§ä¸‹<a href="https://kubernetes.io/docs/reference/ports-and-protocols/#control-plane">æ–‡æ¡£</a>ç»™å‡ºçš„éœ€è¦å¼€æ”¾çš„ç«¯å£ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/10/24/5W83Ae.png' data-fancybox='default' data-caption='Control Plane Open Ports'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/10/24/5W83Ae.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/10/24/5W83Ae.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Control Plane Open Ports"></a><span class='image-caption'>Control Plane Open Ports</span></div></p><p><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/10/24/5W3Azt.png' data-fancybox='default' data-caption='Aliyun Control Node'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/10/24/5W3Azt.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/10/24/5W3Azt.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Aliyun Control Node"></a><span class='image-caption'>Aliyun Control Node</span></div></div><p>è…¾è®¯äº‘è½»é‡çº§åº”ç”¨æœåŠ¡å™¨å¼€å¯ Workerï¼ˆå·¥ä½œï¼‰èŠ‚ç‚¹çš„ TCP ç«¯å£ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/10/24/5W8H3R.png' data-fancybox='default' data-caption='Worker Node Open Ports'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/10/24/5W8H3R.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/10/24/5W8H3R.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Worker Node Open Ports"></a><span class='image-caption'>Worker Node Open Ports</span></div></p><p><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/10/24/5W3hYd.png' data-fancybox='default' data-caption='Tencent Cloud Worker Node'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/10/24/5W3hYd.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/10/24/5W3hYd.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Tencent Cloud Worker Node"></a><span class='image-caption'>Tencent Cloud Worker Node</span></div></div><ul><li><input checked="" disabled="" type="checkbox"> Swap disabled. You MUST disable swap in order for the kubelet to work properly. [ä¸ºäº†è®© kubelet èµ·æ¥ï¼Œè¦æŠŠ Swap åˆ†åŒºå…³é—­ï¼Œä½¿ç”¨ <code>free -mh</code> çœ‹ä¸‹ Swap æ˜¯å¦åœ¨ä½¿ç”¨ï¼Œ <code>swapoff -a</code> <a href="https://askubuntu.com/questions/214805/how-do-i-disable-swap">å…³é—­ Swap åˆ†åŒº</a>].</li></ul><p>å‚è€ƒï¼š<a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/</a></p><p>ä¸ºä»€ä¹ˆéœ€è¦å…³é—­ Swap åˆ†åŒºï¼Œæœ‰ dalao åšäº†åˆ†æï¼š<a href="https://www.jianshu.com/p/6f3268ce642f">https://www.jianshu.com/p/6f3268ce642f</a></p><ul><li><input checked="" disabled="" type="checkbox"> Letting iptables see bridged traffic.</li></ul><p>è¿™é‡Œç…§ç€<a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#letting-iptables-see-bridged-traffic">æ–‡æ¡£</a>ï¼Œä¸€æ³¢æ“ä½œä¸‹ä¸¤å°æœåŠ¡å™¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sudo modprobe br_netfilter</span><br><span class="line"></span><br><span class="line">cat &lt;&lt;EOF | sudo tee /etc/modules-load.d/k8s.conf</span><br><span class="line">br_netfilter</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">cat &lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.conf</span><br><span class="line">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="line">net.bridge.bridge-nf-call-iptables = 1</span><br><span class="line">EOF</span><br><span class="line">sudo sysctl --system</span><br><span class="line"></span><br><span class="line">lsmod | grep br_netfilter</span><br></pre></td></tr></table></figure><ul><li><input checked="" disabled="" type="checkbox"> Container Runtime Interfaceï¼ˆCRIï¼‰. [è¿™é‡Œéœ€è¦å®‰è£…ä¸‹ Pod è¿è¡Œéœ€è¦çš„å®¹å™¨è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬é€‰æ‹© <a href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository">Docker</a>].</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install -y apt-transport-https \</span><br><span class="line">    software-properties-common \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    gnupg \</span><br><span class="line">    lsb-release</span><br><span class="line">curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -</span><br><span class="line">sudo add-apt-repository &quot;deb [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable&quot;</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•è¿˜éœ€è¦å°† Docker çš„ cgroup driver æ›¿æ¢ä¸º systemdï¼Œç¡®ä¿ä¸ Kubeneters ä½¿ç”¨çš„ä¸€è‡´ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">cat&gt;</span><span class="language-bash">&gt;/etc/docker/daemon.json&lt;&lt;<span class="string">EOF</span></span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-kubeadm-kubelet-kubectl"><a href="#å®‰è£…-kubeadm-kubelet-kubectl" class="headerlink" title="å®‰è£… kubeadm, kubelet, kubectl"></a>å®‰è£… kubeadm, kubelet, kubectl</h2><p>ä¸Šé¢æ£€æŸ¥å·¥ä½œå¦‚æœå¾ˆé¡ºåˆ©çš„è¯ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å‡†å¤‡ kubeadm, kubelet, kubectl å®‰è£…äº†ï¼Œä¸è¿‡æˆ‘ä»¬è¿˜å¾—ç»™ apt æ·»åŠ  Kubenetest <a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#installing-kubeadm-kubelet-and-kubectl">è½¯ä»¶æº</a>ï¼Œå®˜æ–¹æ–‡æ¡£ä¸­ä½¿ç”¨çš„å¦‚è½¯ä»¶æºæ˜¯ Google åŸŸåä¸‹çš„ï¼Œå›½å†…äº‘æœåŠ¡å™¨è®¿é—®ä¼šæœ‰é—®é¢˜ï¼ˆæ‡‚å¾—éƒ½æ‡‚äº†ğŸ˜‚ï¼‰ï¼Œè¿™é‡Œä½¿ç”¨å›½å†…å¾—æºï¼Œè¿™é‡Œä¸¤å°æœåŠ¡å™¨éƒ½æ“ä½œä¸€ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1ã€æ·»åŠ  GPG Key</span></span><br><span class="line">sudo curl -fsSL http://mirrors.aliyun.com/kubernetes/apt/doc/apt-key.gpg | sudo apt-key add -</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2ã€æ·»åŠ  k8s è½¯ä»¶æº</span></span><br><span class="line">sudo add-apt-repository &quot;deb http://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial main&quot;</span><br><span class="line">3ã€update ä¸€ä¸‹</span><br><span class="line">apt-get update</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ‰§è¡Œæ²¡æœ‰é—®é¢˜çš„è¯ï¼Œå°±å¯ä»¥å¼€å§‹å®‰è£… kubelet kubeadm kubectläº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y kubelet kubeadm kubectl</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬, apt install apt-show-versions</span></span><br><span class="line">apt-show-versions kubectl kubelet kubeadm</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®© kubelet å¼€æœºå¯åŠ¨</span></span><br><span class="line">sudo systemctl start kubelet</span><br><span class="line">sudo systemctl enable kubelet</span><br></pre></td></tr></table></figure><ul><li>kubeadm: å¼•å¯¼å¯åŠ¨ Kubernate é›†ç¾¤çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</li><li>kubelet: åœ¨ç¾¤é›†ä¸­çš„æ‰€æœ‰è®¡ç®—æœºä¸Šè¿è¡Œçš„ç»„ä»¶, å¹¶ç”¨æ¥æ‰§è¡Œå¦‚å¯åŠ¨ Pods å’Œ Containers ç­‰æ“ä½œã€‚</li><li>kubectl: ç”¨äºæ“ä½œè¿è¡Œä¸­çš„é›†ç¾¤çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</li></ul><h2 id="åˆå§‹åŒ–é›†ç¾¤"><a href="#åˆå§‹åŒ–é›†ç¾¤" class="headerlink" title="åˆå§‹åŒ–é›†ç¾¤"></a>åˆå§‹åŒ–é›†ç¾¤</h2><p>ä¸ºäº†èƒ½å¤Ÿè®©é›†ç¾¤åˆå§‹åŒ–æ›´å¿«ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé¢„æ‹‰å–é›†ç¾¤åˆå§‹åŒ–ä¾èµ–çš„é•œåƒï¼Œemmmï¼Œå®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„åˆæ˜¯ Google çš„ç½‘å€ï¼Œè¿™é‡Œæˆ‘ä»¬åŸºäº GitHub -&gt; <a href="https://github.com/AliyunContainerService/k8s-for-docker-desktop">AliyunContainerService/k8s-for-docker-desktop</a> é¡¹ç›®åšé•œåƒçš„å¿«é€Ÿæ‹‰å–ã€‚ç¡®ä¿ç›¸å…³é•œåƒç‰ˆæœ¬ä¸ kubelet ä¿æŒä¸€è‡´ï¼ˆè¿™é‡Œæ˜¯ v1.22.2ï¼‰, <code>kubeadm config images list --kubernetes-version v1.22.2</code> å¯æŸ¥çœ‹éœ€è¦å“ªäº›é•œåƒã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/AliyunContainerService/k8s-for-docker-desktop.git &amp;&amp; cd k8s-for-docker-desktop</span><br><span class="line"></span><br><span class="line">rm -f images.properties</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è°ƒæ•´é•œåƒç‰ˆæœ¬</span></span><br><span class="line"><span class="meta prompt_">cat&gt;</span><span class="language-bash">&gt;images.properties&lt;&lt;<span class="string">EOF</span></span></span><br><span class="line">k8s.gcr.io/pause:3.5=registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.5</span><br><span class="line">k8s.gcr.io/kube-controller-manager:v1.22.2=registry.cn-hangzhou.aliyuncs.com/google_containers/kube-controller-manager:v1.22.2</span><br><span class="line">k8s.gcr.io/kube-scheduler:v1.22.2=registry.cn-hangzhou.aliyuncs.com/google_containers/kube-scheduler:v1.22.2</span><br><span class="line">k8s.gcr.io/kube-proxy:v1.22.2=registry.cn-hangzhou.aliyuncs.com/google_containers/kube-proxy:v1.22.2</span><br><span class="line">k8s.gcr.io/kube-apiserver:v1.22.2=registry.cn-hangzhou.aliyuncs.com/google_containers/kube-apiserver:v1.22.2</span><br><span class="line">k8s.gcr.io/etcd:3.5.0-0=registry.cn-hangzhou.aliyuncs.com/google_containers/etcd:3.5.0-0</span><br><span class="line">k8s.gcr.io/coredns/coredns:v1.8.4=registry.cn-hangzhou.aliyuncs.com/google_containers/coredns:1.8.4</span><br><span class="line">quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.26.1=registry.cn-hangzhou.aliyuncs.com/google_containers/nginx-ingress-controller:0.26.1</span><br><span class="line">EOF</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">æ‹‰å–é•œåƒ</span></span></span><br><span class="line">./load_images.sh</span><br></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–æ§åˆ¶å¹³é¢èŠ‚ç‚¹ï¼ˆControl-Plane-Node-s-ï¼‰"><a href="#åˆå§‹åŒ–æ§åˆ¶å¹³é¢èŠ‚ç‚¹ï¼ˆControl-Plane-Node-s-ï¼‰" class="headerlink" title="åˆå§‹åŒ–æ§åˆ¶å¹³é¢èŠ‚ç‚¹ï¼ˆControl Plane Node(s)ï¼‰"></a>åˆå§‹åŒ–æ§åˆ¶å¹³é¢èŠ‚ç‚¹ï¼ˆControl Plane Node(s)ï¼‰</h3><p>æ§åˆ¶ï¼ˆControlï¼‰èŠ‚ç‚¹ {é˜¿é‡Œäº‘è½»é‡çº§åº”ç”¨æœåŠ¡å™¨} çš„é•œåƒé¢„æ‹‰å–å®Œæ¯•åï¼Œå¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">api server IPv4 åœ°å€ä½¿ç”¨å…¬ç½‘ IP</span></span><br><span class="line">kubeadm init \</span><br><span class="line">  --pod-network-cidr=10.244.0.0/16 \</span><br><span class="line">  --kubernetes-version v1.22.2</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">--apiserver-advertise-address 120.79.73.159</span></span><br></pre></td></tr></table></figure><p>ä¸ºå½“å‰ root ç”¨æˆ·ç”Ÿæˆ kubeconfigï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p $HOME/.kube</span><br><span class="line">sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span><br><span class="line">sudo chown $(id -u):$(id -g) $HOME/.kube/config</span><br></pre></td></tr></table></figure><p>å®‰è£… CNIï¼ˆContainer Network Interfaceï¼‰ -&gt; Flannel</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --insecure -sfL https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml | kubectl apply -f -</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹èŠ‚ç‚¹çŠ¶å†µï¼Œemmmï¼ŒReady æ²¡æ¯›ç—…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@iZwz92a65mqaa8zwy83dpnZ:~/k8s-for-docker-desktop# kubectl get nodes</span><br><span class="line">NAME                      STATUS   ROLES                  AGE    VERSION</span><br><span class="line">izwz92a65mqaa8zwy8   Ready    control-plane,master   4m6s   v1.22.2</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ å·¥ä½œèŠ‚ç‚¹ï¼ˆWorker-Node-s-ï¼‰"><a href="#æ·»åŠ å·¥ä½œèŠ‚ç‚¹ï¼ˆWorker-Node-s-ï¼‰" class="headerlink" title="æ·»åŠ å·¥ä½œèŠ‚ç‚¹ï¼ˆWorker Node(s)ï¼‰"></a>æ·»åŠ å·¥ä½œèŠ‚ç‚¹ï¼ˆWorker Node(s)ï¼‰</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°† Worker èŠ‚ç‚¹åŠ å…¥åˆ°é›†ç¾¤ä¸­ï¼Œç”±äºæˆ‘ä»¬åœ¨åˆå§‹åŒ–æ§åˆ¶å¹³é¢æ‰€åœ¨çš„ä¸»èŠ‚ç‚¹æ—¶å¹¶æ²¡æœ‰æŒ‡å®šå…¬ç½‘ IPï¼Œæ‰€ä»¥è¿™é‡Œå…ˆåšä¸ª IP è½¬å‘ï¼Œè®© Worker èŠ‚ç‚¹èƒ½å¤Ÿå’Œæ§åˆ¶å¹³é¢èŠ‚ç‚¹é—´è¿›è¡Œé€šä¿¡ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -A OUTPUT -d &lt;åˆå§‹åŒ–æ§åˆ¶å¹³é¢èŠ‚ç‚¹å¾—åˆ°çš„ IP&gt; -j DNAT --to-destination &lt;é˜¿é‡Œäº‘è½»é‡çº§æœåŠ¡å™¨å…¬ç½‘ IP&gt;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å°† Worker èŠ‚ç‚¹ join è¿›é›†ç¾¤ä¸­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubeadm join &lt;åˆå§‹åŒ–æ§åˆ¶å¹³é¢èŠ‚ç‚¹å¾—åˆ°çš„ IP&gt;:6443 --token 4zicbp.d1wertghxdgcgz6y --discovery-token-ca-cert-hash sha256:1912dbf415da652f97b9fa728cb85dd338e17b24ee338ec48b073c8fa8sdfgth</span><br></pre></td></tr></table></figure><p>é¡ºåˆ©çš„è¯ğŸ˜Šï¼Œé‚£ä¹ˆç»“æœå¦‚ä¸‹ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/10/24/5fFKtU.png' data-fancybox='default' data-caption='worker join'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/10/24/5fFKtU.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/10/24/5fFKtU.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="worker join"></a><span class='image-caption'>worker join</span></div></div><p>ç„¶ååˆ°æ§åˆ¶èŠ‚ç‚¹çœ‹ä¸‹é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€ï¼Œ<strong>é¡ºåˆ©çš„è¯</strong>ç»“æœå¦‚ä¸‹ğŸ¤£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@iZwz92a65mqdpnZ:~/k8s-for-docker-desktop# kubectl get nodes</span><br><span class="line">NAME                      STATUS   ROLES                  AGE    VERSION</span><br><span class="line">izwz92a65mqaa8zwy83dpnz   Ready    control-plane,master   48m    v1.22.2</span><br><span class="line">vm-8-4-ubuntu             Ready    &lt;none&gt;                 8m9s   v1.22.2</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">Installing kubeadm</a></li><li><a href="http://icyfenix.cn/appendix/deployment-env-setup/setup-kubernetes/setup-kubeadm.html">ä½¿ç”¨ Kubeadm éƒ¨ç½²</a></li><li><a href="https://www.cnblogs.com/life-of-coding/p/11879067.html">è§£å†³é˜¿é‡Œäº‘ECSä¸‹kubeadméƒ¨ç½²k8sæ— æ³•æŒ‡å®šå…¬ç½‘IP</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kubernetes </tag>
            
            <tag> Kubeadm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»å¹³å‡è´Ÿè½½å¼€å§‹ï¼Œè¿™è¿›ç¨‹æ˜¯ CPU Bound è¿˜æ˜¯ IO Bound çš„ï¼Ÿ</title>
      <link href="/2021/10/07/io-bound-cpu-bound-with-average-load/"/>
      <url>/2021/10/07/io-bound-cpu-bound-with-average-load/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>åœ¨æ’æŸ¥æ€§èƒ½é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨ top æˆ–è€… uptime ä¸¤ä¸ª Linux å‘½ä»¤ï¼Œtop å‘½ä»¤å’Œ uptime å‘½ä»¤éƒ½ä¼šç»™å‡ºæœ€è¿‘æœºå™¨ 1 minï¼Œ5 minï¼Œ15 min çš„å¹³å‡è´Ÿè½½æƒ…å†µï¼Œä¸€èˆ¬å¹³å‡è´Ÿè½½å€¼ï¼ˆAverage Loadï¼‰æ¥è¿‘ç”šè‡³è¶…å‡º CPU cores (ç°åœ¨ä¸€èˆ¬æŒ‡ processors çš„ä¸ªæ•°, ç°åœ¨ CPU çš„ä¸€ä¸ª core ä¸€èˆ¬æœ‰ä¸¤ä¸ª processor, å¯ä»¥å¤„ç†ä¸¤ä¸ªè¿›ç¨‹) æ—¶ï¼Œç³»ç»Ÿä¼šæœ‰æ€§èƒ½ç“¶é¢ˆ.</p><blockquote><p>å¹³å‡è´Ÿè½½æ˜¯æŒ‡å•ä½æ—¶é—´å†…ï¼Œç³»ç»Ÿå¤„äºå¯è¿è¡ŒçŠ¶æ€å’Œä¸å¯ä¸­æ–­çŠ¶æ€çš„å¹³å‡è¿›ç¨‹æ•°ï¼Œä¹Ÿå°±æ˜¯å¹³å‡æ´»è·ƒè¿›ç¨‹.</p></blockquote><p>é€ æˆå¹³å‡è´Ÿè½½å‡é«˜çš„åŸå› ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>1ã€æœ‰ IO Bound è¿›ç¨‹ï¼ˆå³å­˜åœ¨ IO å¯†é›†å‹ä»»åŠ¡ï¼‰</li><li>2ã€æœ‰ CPU Bound è¿›ç¨‹ï¼ˆå³å­˜åœ¨ CPU å¯†é›†å‹ä»»åŠ¡ï¼‰</li><li>3ã€å¤„äºå°±ç»ªçŠ¶æ€ï¼ˆReadyï¼‰çš„è¿›ç¨‹å¤š</li><li>â€¦..</li></ul><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦è®°å½•ä¸‹é€ æˆå¹³å‡è´Ÿè½½å‡é«˜çš„ä¸¤ä¸ªåœºæ™¯. IO å¯†é›†å‹åœºæ™¯å’Œ CPU å¯†é›†å‹åœºæ™¯.</p><p>è¿™é‡Œçš„å®éªŒç¯å¢ƒåœ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸º Ubuntu 20.04.3 LTS çš„å®¹å™¨å†…, é€šè¿‡ stress è¿›è¡Œ IO Bound ä¸ CPU Bound åœºæ™¯çš„æ¨¡æ‹Ÿ, å®¿ä¸»æœºæœ‰ 16 ä¸ª processors, 8G è¿è¡Œå†…å­˜.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">docker run --<span class="built_in">rm</span> -it  ubuntu:latest</span><br><span class="line"></span><br><span class="line">root@bfdbc798879c:/<span class="comment"># cat /etc/os-release</span></span><br><span class="line">NAME=<span class="string">&quot;Ubuntu&quot;</span></span><br><span class="line">VERSION=<span class="string">&quot;20.04.3 LTS (Focal Fossa)&quot;</span></span><br><span class="line">ID=ubuntu</span><br><span class="line">ID_LIKE=debian</span><br><span class="line">PRETTY_NAME=<span class="string">&quot;Ubuntu 20.04.3 LTS&quot;</span></span><br><span class="line">VERSION_ID=<span class="string">&quot;20.04&quot;</span></span><br><span class="line">HOME_URL=<span class="string">&quot;https://www.ubuntu.com/&quot;</span></span><br><span class="line">SUPPORT_URL=<span class="string">&quot;https://help.ubuntu.com/&quot;</span></span><br><span class="line">BUG_REPORT_URL=<span class="string">&quot;https://bugs.launchpad.net/ubuntu/&quot;</span></span><br><span class="line">PRIVACY_POLICY_URL=<span class="string">&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;</span></span><br><span class="line">VERSION_CODENAME=focal</span><br><span class="line">UBUNTU_CODENAME=focal</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">root@bfdbc798879c:/<span class="comment"># top</span></span><br><span class="line">top - 11:21:53 up  3:10,  0 <span class="built_in">users</span>,  load average: 0.66, 0.79, 0.46</span><br><span class="line">Tasks:   2 total,   1 running,   1 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu0  :  1.0 us,  0.6 sy,  0.0 ni, 93.3 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  5.1 si,  0.0 st</span><br><span class="line">%Cpu1  : 10.2 us,  0.3 sy,  0.0 ni, 88.1 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  1.3 si,  0.0 st</span><br><span class="line">%Cpu2  : 10.4 us,  2.7 sy,  0.0 ni, 87.0 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu3  :  0.0 us,  0.0 sy,  0.0 ni,100.0 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu4  : 11.1 us,  0.7 sy,  0.0 ni, 88.3 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu5  :  0.0 us,  0.3 sy,  0.0 ni, 99.7 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu6  :  0.7 us,  1.3 sy,  0.0 ni, 98.0 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu7  :  3.0 us,  0.0 sy,  0.0 ni, 97.0 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu8  :  0.3 us,  1.0 sy,  0.0 ni, 98.7 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu9  :  0.7 us,  0.0 sy,  0.0 ni, 99.3 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu10 :  0.0 us,  0.0 sy,  0.0 ni, 99.7 <span class="built_in">id</span>,  0.3 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu11 :  0.0 us,  0.0 sy,  0.0 ni,100.0 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu12 :  0.3 us,  0.3 sy,  0.0 ni, 99.0 <span class="built_in">id</span>,  0.3 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu13 :  0.3 us,  0.0 sy,  0.0 ni, 99.7 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu14 : 10.7 us,  0.7 sy,  0.0 ni, 88.6 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu15 :  0.0 us,  0.0 sy,  0.0 ni,100.0 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">MiB Mem :   7829.4 total,   1913.4 free,   1582.2 used,   4333.7 buff/cache</span><br><span class="line">MiB Swap:   2048.0 total,   2047.7 free,      0.3 used.   5582.8 avail Mem</span><br><span class="line"></span><br><span class="line">  PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND</span><br><span class="line">    1 root      20   0    4232   3504   2952 S   0.0   0.0   0:00.02 bash</span><br><span class="line">   12 root      20   0    6092   3332   2828 R   0.0   0.0   0:00.08 top</span><br><span class="line"></span><br><span class="line">root@bfdbc798879c:/<span class="comment"># free -mh</span></span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:          7.6Gi       1.6Gi       1.8Gi       410Mi       4.3Gi       5.4Gi</span><br><span class="line">Swap:         2.0Gi       0.0Ki       2.0Gi</span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬å…ˆå®‰è£…ä¸€ä¸‹ <a href="https://linux.die.net/man/1/stress">stress</a> å‹åŠ›æµ‹è¯•å·¥å…·å’Œç³»ç»Ÿè§‚æµ‹è¦ç”¨åˆ°çš„å·¥å…·.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install -y stress sysstat</span><br></pre></td></tr></table></figure><h2 id="CPU-Bound-åœºæ™¯"><a href="#CPU-Bound-åœºæ™¯" class="headerlink" title="CPU Bound åœºæ™¯"></a>CPU Bound åœºæ™¯</h2><p>è¿™é‡Œæˆ‘ä»¬è®©ä¸‰ä¸ªé€»è¾‘ CPU æ»¡è½½:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒç»­ 10 min, 3 CPU æ»¡è½½</span></span><br><span class="line">stress -c 3 -t 600</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç”¨ watch å‘½ä»¤æŒç»­è§‚å¯Ÿå¹³å‡è´Ÿè½½æƒ…å†µ, å¹³å‡è´Ÿè½½åœ¨é€æ¸å˜é«˜ï¼Œæ­¤æ—¶æˆ‘çš„ç”µè„‘ CPU é£æ‰‡ä¹Ÿå¾ˆå“äº†ğŸ˜‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -d <span class="built_in">uptime</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ top å‘½ä»¤å¯ä»¥çœ‹åˆ°æœ‰ä¸‰ä¸ª CPU å·²ç»æ»¡è½½äº†ï¼Œä½¿ç”¨ç‡ç™¾åˆ†ç™¾ï¼Œè¿˜å¯ä»¥çœ‹åˆ°æ˜¯å“ªä¸ª COMMMAND é€ æˆçš„ï¼Œ</p><p><img src="https://z3.ax1x.com/2021/10/07/5pfxOK.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/10/07/5pfxOK.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="TOP å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿæƒ…å†µ"></p><p>ä½†æ˜¯ä¸Šé¢ä¸èƒ½å¾ˆæ¸…æ¥šçš„çœ‹åˆ° IO çš„æƒ…å†µï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ <a href="https://www.linuxcool.com/mpstat">mpstat</a> æ¯éš” 5 ç§’å°†æ‰€æœ‰ CPU çš„è§‚æµ‹æƒ…å†µæ‰“å‡ºæ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mpstat -P ALL 5</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/10/07/5pfWzq.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/10/07/5pfWzq.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ‰€æœ‰ CPU ä½¿ç”¨æƒ…å†µ"></p><p>å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ï¼Œçš„ç¡®æœ‰ä¸‰ä¸ª CPU çš„ç©ºé—²çŠ¶æ€ä¸º 0ï¼ˆæ»¡è½½ï¼‰ï¼Œä½¿ç”¨ç‡ç™¾åˆ†ç™¾ï¼Œä¸” IO Wait ç­‰å¾…æ—¶é—´æ˜¯å¾ˆä½çš„ï¼Œæ‰€ä»¥å•å• CPU Bound åœºæ™¯å¯é€ æˆ Average Load çš„å‡é«˜.</p><p>ä¸ä½¿ç”¨ top å‘½ä»¤,ä½¿ç”¨ pidstat æ¯éš” 5 ç§’, ä¸‰æ¬¡æ‰“å°è¿›ç¨‹çš„ CPU æƒ…å†µå¯å®šä½å‡ºæ˜¯å“ªä¸ªè¿›ç¨‹é€ æˆçš„å¹³å‡è´Ÿè½½å‡é«˜.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@bfdbc798879c:/<span class="comment"># pidstat -u 5 3</span></span><br><span class="line">Linux 5.4.72-microsoft-standard-WSL2 (bfdbc798879c)     10/07/21        _x86_64_        (16 CPU)</span><br><span class="line"></span><br><span class="line">12:01:29      UID       PID    %usr %system  %guest   %<span class="built_in">wait</span>    %CPU   CPU  Command</span><br><span class="line">12:01:34        0       571  100.00    0.00    0.00    0.00  100.00     9  stress</span><br><span class="line">12:01:34        0       572  100.00    0.00    0.00    0.00  100.00    15  stress</span><br><span class="line">12:01:34        0       573  100.00    0.00    0.00    0.00  100.00    11  stress</span><br></pre></td></tr></table></figure><h2 id="IO-Bound-åœºæ™¯"><a href="#IO-Bound-åœºæ™¯" class="headerlink" title="IO Bound åœºæ™¯"></a>IO Bound åœºæ™¯</h2><p>stress å‹åŠ›å·¥å…·ä¹Ÿå¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œ IO Bound åœºæ™¯çš„æ¨¡æ‹Ÿ,</p><p>å¼€å§‹ä¹‹å‰å°†ä¸Šé¢ CPU Bound åœºæ™¯ç»™ç»ˆæ­¢, åŒæ ·åœ°, æˆ‘ä»¬å…ˆå¼€å¥½ä¸€ä¸ª Terminal è§‚å¯Ÿå¹³å‡è´Ÿè½½çš„å˜åŒ–:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -d <span class="built_in">uptime</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ strees è°ƒèµ· 50 ä¸ªè¿›ç¨‹(è¿™é‡Œè¦é«˜äº CPU processors çš„æ•°é‡, è®©è¿›ç¨‹äº‰å¤º CPU), ä¸æ–­æ‰“ IO, æŒç»­ 10 min:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@bfdbc798879c:/<span class="comment"># stress -i 50 -t 600</span></span><br><span class="line">stress: info: [1756] dispatching hogs: 0 cpu, 50 io, 0 vm, 0 hdd</span><br></pre></td></tr></table></figure><p>å¯ä»¥è§‚å¯Ÿåˆ°, å¹³å‡è´Ÿè½½åœ¨ä¸æ–­å‡é«˜, å†ä½¿ç”¨ mpstat å¯ä»¥è§‚æµ‹åˆ° IO Wait å¾ˆé«˜.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mpstat -P ALL 5</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/10/07/5poZCQ.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/10/07/5poZCQ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="IO Bound"></p><p>å¯ä»¥ GET åˆ° IO Bound ä»»åŠ¡çš„ç¡®ä¼šé€ æˆå¹³å‡è´Ÿè½½å‡é«˜, ç»“åˆ iostat, æˆ‘ä»¬è¿˜å¯ä»¥è§‚æµ‹ç£ç›˜è®¾å¤‡çš„è¯»å†™æ€§èƒ½æƒ…å†µ:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -d -x</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/10/07/5powb6.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/10/07/5powb6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="iostat"></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> æ€§èƒ½ä¼˜åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> å‹åŠ›æµ‹è¯• </tag>
            
            <tag> CPU Bound </tag>
            
            <tag> IO Bound </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨çš„ Linux ç½‘ç»œç›¸å…³çš„å‘½ä»¤</title>
      <link href="/2021/09/25/common-use-linux-network-command/"/>
      <url>/2021/09/25/common-use-linux-network-command/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>æ°´æ–‡è­¦å‘Šâš ğŸ˜‚ï¼Œæœ€è¿‘è¿™äº›ç©æ„ç”¨å¾—å¤šï¼Œå¾®å¾®è®°å½•ä¸€ä¸‹ï¼Œç›®å‰å†™çš„æ¯”è¾ƒæ°´ï¼Œåé¢åº”è¯¥ä¼šè¡¥ç‚¹å®è·µç»éªŒğŸš©ã€‚</p><span id="more"></span><h2 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h2><p>netstat ä¸€èˆ¬ç”¨äºæŸ¥çœ‹ Socket çš„ä½¿ç”¨æƒ…å†µã€‚è¿™å‘½ä»¤åœ¨ <a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/netstat">Windows</a> ä¸‹ä¹Ÿå¯ç›´æ¥ä½¿ç”¨ï¼ˆä½†å‚æ•°æœ‰ä¸€å®šçš„å·®å¼‚ï¼‰ã€‚å¦‚ä½¿ç”¨ Ubuntu éœ€è¦å®‰è£… <a href="https://helpmanual.io/packages/apt/net-tools/">net-tools</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ubuntu</span><br><span class="line">$ apt install net-tools</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€æŸ¥çœ‹ TCP Socket æƒ…å†µï¼ŒTCP è¿æ¥çš„çŠ¶æ€</span></span><br><span class="line">$ netstat -at</span><br><span class="line">Active Internet connections (servers and established)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State</span><br><span class="line">tcp        0      0 172.25.239.216:51430    aerodent.canonical:http TIME_WAIT</span><br><span class="line"><span class="comment"># 2ã€æŸ¥çœ‹ TCP Socket ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class="line">$ netstat -st</span><br><span class="line">Tcp:</span><br><span class="line">    3 active connection openings</span><br><span class="line">    0 passive connection openings</span><br><span class="line">    0 failed connection attempts</span><br><span class="line">    0 connection resets received</span><br><span class="line">    0 connections established</span><br><span class="line">    248 segments received</span><br><span class="line">    195 segments sent out</span><br><span class="line">    5 segments retransmitted</span><br><span class="line">    0 bad segments received</span><br><span class="line">    0 resets sent</span><br></pre></td></tr></table></figure><p><strong>å®è·µ</strong>ï¼šåœ¨æ€§èƒ½æµ‹è¯•åœºæ™¯ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è§‚å¯Ÿ TCP è¿æ¥çš„çŠ¶æ€ã€è¿æ¥æ•°ç­‰ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦å¦‚ä¸‹å‘½ä»¤é…åˆ grep ç­‰å‘½ä»¤å¯¹æ•°æ®åº“è¿æ¥ã€Web Service è¿æ¥çŠ¶æ€é—®é¢˜è¿›è¡Œæ’æŸ¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -alnp</span><br></pre></td></tr></table></figure><h2 id="ss"><a href="#ss" class="headerlink" title="ss"></a>ss</h2><p>ss çš„ä½œç”¨è·Ÿ netstat å¾ˆç›¸ä¼¼ï¼Œä½†å½“æœåŠ¡å™¨è¿æ¥æ•°éå¸¸å¤šçš„æ—¶å€™ï¼Œæ‰§è¡Œé€Ÿåº¦æ¯” netstat <a href="https://stackoverflow.com/a/11778337">å¿«å¾ˆå¤š</a>ï¼Œå¦‚æœ <code>man netstat</code> ä¸€ä¸‹ï¼Œnetstat çš„æ‰‹å†Œä¸­ä¹Ÿæ¨èä½¿ç”¨ ssã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ man netstat</span><br><span class="line">NOTES</span><br><span class="line">       This program is mostly obsolete.  Replacement <span class="keyword">for</span> netstat is ss.  Replacement <span class="keyword">for</span> netstat -r is ip route.  Replacement <span class="keyword">for</span> netstat -i  is  ip  -s</span><br><span class="line">       <span class="built_in">link</span>.  Replacement <span class="keyword">for</span> netstat -g is ip maddr.</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€æ˜¾ç¤º TCP Socket ä½¿ç”¨çŠ¶å†µ</span></span><br><span class="line">$ ss -t -a</span><br><span class="line">State       Recv-Q Send-Q    Local Address:Port     Peer Address:Port</span><br><span class="line">ESTABLISH   0      0         172.16.0.12:46148      13.229.188.59:https</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2ã€åˆ—å‡ºæ‰€æœ‰æ‰“å¼€çš„ç«¯å£ï¼Œé…åˆ grepï¼Œå¯æŸ¥çœ‹æŒ‡å®šç«¯å£ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">$ ss -pl | grep 8080</span><br></pre></td></tr></table></figure><h2 id="dig"><a href="#dig" class="headerlink" title="dig"></a>dig</h2><p>åŸŸåæŸ¥è¯¢å·¥å…·ï¼Œä¸€èˆ¬ç”¨äºæŸ¥çœ‹ä¸»æœº DNS è½®è¯¢è§£æçŠ¶å†µã€‚ä¸€èˆ¬ Linux ç³»ç»Ÿéƒ½ä¼šè‡ªå¸¦è¿™ä¸ªå‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">$ apt-get install dnsutils</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€æŒ‡å®š DNS Server æŸ¥çœ‹åŸŸå DNS è§£ææƒ…å†µ</span></span><br><span class="line">$ dig @8.8.8.8 shansan.top</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.16.1-Ubuntu &lt;&lt;&gt;&gt; @8.8.8.8 shansan.top</span><br><span class="line">; (1 server found)</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- <span class="string">opcode: QUERY, status: NOERROR, id: 44094</span></span><br><span class="line"><span class="string">;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">;; OPT PSEUDOSECTION:</span></span><br><span class="line"><span class="string">; EDNS: version: 0, flags:; udp: 512</span></span><br><span class="line"><span class="string">;; QUESTION SECTION:</span></span><br><span class="line"><span class="string">;shansan.top.                   IN      A</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">;; ANSWER SECTION:</span></span><br><span class="line"><span class="string">shansan.top.            600     IN      CNAME   yeshan333.github.io.</span></span><br><span class="line"><span class="string">yeshan333.github.io.    3600    IN      A       185.199.108.153</span></span><br><span class="line"><span class="string">yeshan333.github.io.    3600    IN      A       185.199.109.153</span></span><br><span class="line"><span class="string">yeshan333.github.io.    3600    IN      A       185.199.110.153</span></span><br><span class="line"><span class="string">yeshan333.github.io.    3600    IN      A       185.199.111.153</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">;; Query time: 160 msec</span></span><br><span class="line"><span class="string">;; SERVER: 8.8.8.8#53(8.8.8.8)</span></span><br><span class="line"><span class="string">;; WHEN: Sat Sep 25 21:00:48 CST 2021</span></span><br><span class="line"><span class="string">;; MSG SIZE  rcvd: 137</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 2ã€æŸ¥çœ‹æŒ‡å®š DNS ç±»å‹è®°å½•ï¼Œå¦‚ CNAME</span></span><br><span class="line"><span class="string">$ dig shansan.top CNAME</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 3ã€åå‘è§£æ IP åœ°å€å¯¹åº”åŸŸå</span></span><br><span class="line"><span class="string">$ dig -x 8.8.8.8 +short</span></span><br></pre></td></tr></table></figure><h2 id="nslookup"><a href="#nslookup" class="headerlink" title="nslookup"></a>nslookup</h2><p>nslookup å‘½ä»¤çš„ä½œç”¨å’Œ dig å‘½ä»¤ç±»ä¼¼ï¼Œåœ¨ Windows ä¸‹çš„ <a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/nslookup">PowerShell</a> &amp; Linux å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><p>å¸¸ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€æŒ‡å®š DNS Server æŸ¥è¯¢åŸŸåè§£æä¿¡æ¯</span></span><br><span class="line">âœ nslookup shan333.cn f1g1ns1.dnspod.net</span><br><span class="line">Server:         f1g1ns1.dnspod.net</span><br><span class="line">Address:        61.151.180.44<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Name:   shan333.cn</span><br><span class="line">Address: 111.230.58.139</span><br></pre></td></tr></table></figure><h2 id="telnet"><a href="#telnet" class="headerlink" title="telnet"></a>telnet</h2><p>telnet å¯ç”¨äºåˆ¤æ–­ TCP ç«¯å£æ˜¯å¦å¯é€šã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">âœ telnet github.com 22</span><br><span class="line">Trying 20.205.243.166...</span><br><span class="line">Connected to github.com.</span><br><span class="line">Escape character is &#x27;^]&#x27;.</span><br><span class="line">SSH-2.0-babeld-4f04c79d</span><br></pre></td></tr></table></figure><p>ä¸ telnet ä½œç”¨å·®ä¸å¤šçš„æœ‰ <a href="https://docs.oracle.com/cd/E56344_01/html/E54075/netcat-1.html">netcatã€nc</a>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäº Docker æ­å»ºä¸€ä¸ªæœ€å°åŒ–çš„ Prometheus Federationã€Œè”é‚¦ã€é›†ç¾¤</title>
      <link href="/2021/08/28/prometheus-federation/"/>
      <url>/2021/08/28/prometheus-federation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>ä¸€ä¸å°å¿ƒå°±å…«æœˆæœ«äº†ï¼Œæˆ‘æ•²ï¼Œæœ€è¿‘å¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨äº†è§£ Prometheusï¼Œä¸€ç›´æƒ³â€œæ‚â€ç¯‡æ–‡ç« å‡ºæ¥ï¼Œå¥ˆä½•ä¸€ç›´åœ¨å¢¨è¿¹ï¼Œæ˜¯æ—¶å€™äº†ï¼Œä¸ç„¶å°±ä¹æœˆäº†ï¼Œå®Œä¸æˆåšå®¢çš„ Flag äº†ï¼Œ233333ã€‚</p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº† Promethues Federation é›†ç¾¤åŒ–æœºåˆ¶ &amp; åŸºäº Docker æ­å»ºä¸€ä¸ªæœ€å°åŒ–çš„ Prometheus Federation é›†ç¾¤å¨±ä¹ç¯å¢ƒçš„ç›¸å…³æ“ä½œã€‚ä¸æ˜¯ Step By Step çš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/images/%E4%B9%B1%E6%9D%80.gif" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/images/%E4%B9%B1%E6%9D%80.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ä¹±æ€"></p><span id="more"></span><h2 id="Prometheus"><a href="#Prometheus" class="headerlink" title="Prometheus"></a>Prometheus</h2><p>å…ˆå›é¡¾ä¸€ä¸‹ Prometheus çš„å„ä¸ªç”Ÿæ€ç»„ä»¶ï¼Œäº†è§£ä¸‹å®ƒä»¬å„è‡ªæ‰¿æ‹…çš„è´£ä»»æ˜¯æ˜¯ä»€ä¹ˆã€‚åŸºäºä¸‹é¢ä¸€å¼ æ¥è‡ª Prometheus å®˜æ–¹æ–‡æ¡£çš„æ¶æ„ &amp; ç”Ÿæ€ç»„ä»¶å›¾åšä¸‹ç®€ä»‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/images/prometheus_architecture.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/images/prometheus_architecture.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Prometheus Architecture &amp;  Ecosystem Components"></p><ul><li>Prometheus targetsï¼ˆJobs/exportersï¼‰ï¼šæä¾›ç›‘æ§ Metrics çš„æ•°æ®æºï¼ŒPrometheus æ˜¯åŸºäºæ‹‰ï¼ˆPull-Basedï¼‰æ¨¡å‹çš„ç›‘æ§ç³»ç»Ÿï¼›</li><li>Pushgatewayï¼šMetrics æ¨é€ç½‘å…³ï¼ŒPrometheus æ‹‰å– Metrics æ˜¯æœ‰æ—¶é—´é—´éš”çš„ï¼Œæœ‰æ—¶å€™ä¸€äº›çŸ­æ—¶ä»»åŠ¡ï¼ˆShort-lived jobsï¼‰æ²¡æœ‰ç­‰åˆ° Prometheus è¿‡æ¥æ‹‰å–å…¶ Metrics å°±æ²¡äº†ï¼Œæ‰€ä»¥æä¾›äº†ä¸€ä¸ªè¿™æ ·çš„ç»„ä»¶è®© Jobs ä¸»åŠ¨æ¨é€ Metrics åˆ°ä½œä¸ºä¸­ä»‹çš„ Pushgateway ç»„ä»¶ï¼›</li><li>Prometheus Serverï¼šæ ¸å¿ƒç»„ä»¶<ul><li>Retrievalï¼šPrometheus çš„é€šè¿‡ yaml é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®çš„ï¼Œå¯ä»¥é…ç½® Prometheus æ‹‰å– Metrics çš„æ—¶é—´é—´éš”ï¼Œå‘Šè­¦è§„åˆ™è®¡ç®—é…ç½®ï¼Œçˆ¬å–æ•°æ®æºé…ç½®ç­‰èƒ½åŠ›ï¼›</li><li>TSDBï¼šPrometheus å†…ç½®çš„æœ¬åœ°å­˜å‚¨æ—¶é—´åºåˆ—æ•°æ®åº“ï¼Œè¯¥æ•°æ®åº“ç»å†äº†ä»åŸå‹åˆ° V1 åˆ°ç°åœ¨ V2 ç‰ˆæœ¬çš„æ¼”è¿›ï¼Œåšäº†è®¸å¤šçš„ä¼˜åŒ–ï¼Œæƒ³äº†è§£æ›´å¤šç»†èŠ‚å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç«  <a href="https://zhenghe-md.github.io/blog/2020/02/27/The-Evolution-of-Prometheus-Storage-Layer/">The Evolution of Prometheus Storage Layer</a>ï¼›Exporters æ˜¯åŸºäºæ–‡æœ¬æ ¼å¼è¿›è¡Œ Metrics çš„æš´éœ²çš„ï¼Œ V2 ç‰ˆæœ¬Prometheus æ”¾å¼ƒäº†åŸæœ‰çš„ Protocol Buffers åºåˆ—åŒ–åè®®ï¼Œå®ç°äº† Text Decoderï¼Œä¼˜åŒ–äº†æ€§èƒ½ï¼Œå®˜æ–¹å¯¹æ­¤æ›´å¤šçš„è€ƒè™‘å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡æ¡£ï¼š <a href="https://github.com/OpenObservability/OpenMetrics/blob/main/legacy/markdown/protobuf_vs_text.md">protobuf_vs_text</a>ï¼›</li><li>HTTP Serverï¼šæä¾›äº†ä¸ TSDB å’Œ Prometheus äº¤äº’çš„ HTTP APIï¼Œæ–¹ä¾¿åœ¨æ›´å¤šçš„åœºæ™¯ä¸‹åšä¸€äº›è‡ªå®šä¹‰æ“ä½œï¼›</li></ul></li><li>Service discoveryï¼šæœåŠ¡å‘ç°æœºåˆ¶ï¼ŒPrometheus å†…ç½®äº†åŸºäºæ–‡æœ¬æ–‡ä»¶ã€DNS Serverå’Œ Consul çš„æœåŠ¡å‘ç°æœºåˆ¶ï¼ˆéƒ½å¯ä»¥åœ¨é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®ï¼‰ï¼Œè§„æ¨¡åŒ–ç›‘æ§åœºæ™¯ä¸‹ï¼Œæ–¹ä¾¿å‘ç° Prometheus çš„çˆ¬å–å¯¹è±¡è¿›è¡Œ Metrics æ‹‰å–ï¼›</li><li>Alertmanagerï¼šå‘Šè­¦é€šçŸ¥ç»„ä»¶ï¼Œæä¾›äº†å‘Šè­¦åˆ†ç»„ï¼Œå‘Šè­¦æŠ‘åˆ¶ï¼ˆInhibitï¼‰ï¼Œå‘Šè­¦é™é»˜ï¼ˆSilenceï¼‰ï¼Œé‚®ä»¶é€šçŸ¥ï¼ŒWebHook ç­‰æœºåˆ¶ï¼›å€¼å¾—æ³¨æ„çš„æ˜¯ Prometheus Server æä¾›äº†å‘Šè­¦è§„åˆ™çš„è®¡ç®—èƒ½åŠ›ï¼Œä½†æ˜¯é€šçŸ¥å¹¶ä¸ç”±å®ƒå®Œæˆï¼Œè€Œæ˜¯ç”± Alertmanager å®Œæˆã€‚å‘Šè­¦é€šçŸ¥æ˜¯ä¸ªé‡æ´»ï¼Œå¹¶ä¸ç®€å•ã€‚æ–‡ç« <a href="https://aleiwu.com/post/alertmanager/">ææ Prometheus: Alertmanager</a> å¯¹ Alertmanager è¿›è¡Œäº†æ·±å±‚æ¬¡çš„åˆ†æï¼Œå¯ä»¥å¾®å¾®çœ‹ä¸‹ï¼›</li><li>PromQLï¼šPrometheus æä¾›çš„ä¸€ä¸ª DSLï¼ŒåŒäºç”¨äºæ—¶åºæ•°æ®çš„æŸ¥è¯¢ä¸èšåˆè¿ç®—ç­‰æ“ä½œï¼Œå‘Šè­¦è§„åˆ™ï¼ˆAlerting Rules &amp; Recording Rulesï¼‰çš„è®¡ç®—ä¹Ÿç”¨åˆ°äº† PromQLï¼›</li><li>Prometheus Web UIï¼šPrometheus è‡ªå¸¦çš„ä¸€ä¸ª Web UIï¼Œæä¾›äº†è®¸å¤šçš„æ•°æ®å¯è§†åŒ–èƒ½åŠ›ï¼Œä½†å…¶å¯¹å¯è§†åŒ–å›¾è¡¨çš„æ”¯æŒæœ‰é™ï¼Œæ‰€ä»¥ç¤¾åŒºå‡ºç°äº† Grafana å¯è§†åŒ–å·¥å…·ï¼Œå…¶æä¾›çš„ Dashboard ç®¡ç†èƒ½åŠ›æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œä½†ä»ç„¶æœ‰ç¼ºç‚¹ï¼Œæ¯”å¦‚è¿™ç¯‡æ–‡ç« å°±è¯´äº†ä¸€ç‚¹ <a href="https://xie.infoq.cn/article/be5d880666c29c66b7eff65dc">å¦‚ä½•ä½¿ Grafana as code</a>ã€‚</li></ul><h2 id="Federation-æœºåˆ¶"><a href="#Federation-æœºåˆ¶" class="headerlink" title="Federation æœºåˆ¶"></a>Federation æœºåˆ¶</h2><p>Pormetheus Federationï¼ˆè”é‚¦ï¼‰æœºåˆ¶æ˜¯ Promehteus æœ¬èº«æä¾›çš„ä¸€ç§é›†ç¾¤åŒ–çš„æ‰©å±•èƒ½åŠ›ã€‚å½“æˆ‘ä»¬è¦ç›‘æ§çš„æœåŠ¡å¾ˆå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šéƒ¨ç½²å¾ˆå¤šçš„ Prometheus èŠ‚ç‚¹åˆ†åˆ« Pull è¿™äº›æœåŠ¡æš´éœ²çš„ Metricsï¼ŒFederation æœºåˆ¶å¯ä»¥è®²è¿™äº›åˆ†åˆ«éƒ¨ç½²çš„ Prometheus èŠ‚ç‚¹æ‰€è·å¾—çš„æŒ‡æ ‡èšåˆèµ·æ¥ï¼Œå­˜æ”¾åœ¨ä¸€ä¸ªä¸­å¿ƒç‚¹çš„ Prometheusã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/images/20210828210143.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/images/20210828210143.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Federation"></p><p>åœ¨ Prometheus çš„é…ç½®é…ç½®æ–‡ä»¶ï¼Œè°ƒæ•´å¦‚ä¸‹å­—æ®µå³å¯ä½¿ç”¨ Federation æœºåˆ¶ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">scrape_configs:</span></span><br><span class="line"></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;federate&#x27;</span></span><br><span class="line">    <span class="attr">scrape_interval:</span> <span class="string">10s</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">honor_labels:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">metrics_path:</span> <span class="string">&#x27;/federate&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># é€šè¿‡ match å‚æ•°ï¼Œé…ç½®è¦æ‹‰å–çš„ Metricsï¼Œ</span></span><br><span class="line">    <span class="comment"># ä¸è¦ Pull full metrics</span></span><br><span class="line">    <span class="attr">params:</span></span><br><span class="line">      <span class="string">&#x27;match[]&#x27;</span><span class="string">:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&#x27;&#123;job=&quot;prometheus&quot;&#125;&#x27;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&#x27;&#123;job=&quot;node&quot;&#125;&#x27;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&#x27;&#123;job=&quot;blackbox&quot;&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">static_configs:</span></span><br><span class="line">      <span class="comment"># å…¶ä»– Prometheus èŠ‚ç‚¹</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">targets:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&#x27;prometheus-follower-1:9090&#x27;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&#x27;prometheus-follower-2:9090&#x27;</span></span><br></pre></td></tr></table></figure><p>å…³äº Federation è”é‚¦é›†ç¾¤æ›´å¤šçš„è®¨è®ºå¯ä»¥çœ‹çœ‹ï¼š<a href="https://segmentfault.com/a/1190000039931588">åˆ«å†ä¹±ç”¨prometheusè”é‚¦äº†ï¼Œåˆ†äº«ä¸€ä¸ªmulti_remote_readçš„æ–¹æ¡ˆæ¥å®ç°prometheusé«˜å¯ç”¨</a></p><p>åŸºäºæœåŠ¡åŠŸèƒ½åˆ†åŒºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Federation é›†ç¾¤çš„ç‰¹æ€§åœ¨ä»»åŠ¡çº§åˆ«å¯¹ Prometheus é‡‡é›†ä»»åŠ¡è¿›è¡Œåˆ’åˆ†ï¼Œä»¥æ”¯æŒè§„æ¨¡çš„æ‰©å±•ã€‚</p><h2 id="åŸºäº-Docker-æ­å»ºæœ€å°åŒ–çš„-Federation-é›†ç¾¤"><a href="#åŸºäº-Docker-æ­å»ºæœ€å°åŒ–çš„-Federation-é›†ç¾¤" class="headerlink" title="åŸºäº Docker æ­å»ºæœ€å°åŒ–çš„ Federation é›†ç¾¤"></a>åŸºäº Docker æ­å»ºæœ€å°åŒ–çš„ Federation é›†ç¾¤</h2><p>ä¸Šæ–‡å¾®å¾® Recap äº†ä¸€ä¸‹ Prometheusã€Œæ™®ç½—ç±³ä¿®æ–¯ã€ç›¸å…³çŸ¥è¯†ï¼Œç°åœ¨å›åˆ°æœ€å°åŒ– Federation çš„æ­å»ºï¼Œæœ¬æ¬¡è¦æ­å»ºçš„ä¸€ä¸ªæœ€å°åŒ– Federation é›†ç¾¤ï¼ˆArchitectureï¼‰å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/images/20210828211705.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/yeshan333/blog_images@main/images/20210828211705.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Minimal Federation"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸¤ä¸ª Prometheus Follower Container åˆ†åˆ«å¯¹ Node Exporter å’Œ Black Exporter æš´éœ²çš„ä¸»æœºçŠ¶æ€ç›¸å…³çš„ Metrics å’Œ ç½‘ç»œçŠ¶å†µç›¸å…³çš„ Metrics è¿›è¡Œæ‹‰ï¼ˆPullï¼‰å–ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªä¸­å¿ƒçš„ Prometheus Leader å¯¹ä¸Šè¿°æŒ‡æ ‡è¿›è¡Œèšåˆã€‚æˆ‘ä»¬è¿˜åˆ†åˆ«ç»™ Leader å’Œ ä¸€ä¸ª Follower éƒ¨ç½²äº†å¯è§†åŒ–é¢æ¿ Grafana ç”¨äºæŸ¥çœ‹ Metricsã€‚Alertmanager ä¹Ÿé€šè¿‡å®¹å™¨åŒ–çš„æ–¹å¼å¯åŠ¨ã€‚</p><p>å‘Šè­¦çš„é€šçŸ¥åŸºäº WebHookï¼Œè¿™é‡Œä½¿ç”¨åˆ°äº†é’‰é’‰ç¾¤æœºå™¨äººï¼Œé…ç½®äº†ä¸»æœºå†…å­˜ &amp; CPU ä½¿ç”¨æƒ…å†µçš„å‘Šè­¦ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">groups:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">targets</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">alert:</span> <span class="string">monitor_service_down</span></span><br><span class="line">    <span class="attr">expr:</span> <span class="string">up</span> <span class="string">==</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">for:</span> <span class="string">30s</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">severity:</span> <span class="string">critical</span></span><br><span class="line">    <span class="attr">annotations:</span></span><br><span class="line">      <span class="attr">summary:</span> <span class="string">&quot;Monitor service non-operational&quot;</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">&quot;Service <span class="template-variable">&#123;&#123; $labels.instance &#125;&#125;</span> is down.&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">host</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">alert:</span> <span class="string">high_cpu_load</span></span><br><span class="line">    <span class="attr">expr:</span> <span class="string">node_load1</span> <span class="string">&gt;</span> <span class="number">1.5</span></span><br><span class="line">    <span class="attr">for:</span> <span class="string">30s</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">severity:</span> <span class="string">warning</span></span><br><span class="line">    <span class="attr">annotations:</span></span><br><span class="line">      <span class="attr">summary:</span> <span class="string">&quot;Server under high load&quot;</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">&quot;Docker host is under high load, the avg load 1m is at <span class="template-variable">&#123;&#123; $value&#125;&#125;</span>. Reported by instance <span class="template-variable">&#123;&#123; $labels.instance &#125;&#125;</span> of job <span class="template-variable">&#123;&#123; $labels.job &#125;&#125;</span>.&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">alert:</span> <span class="string">high_memory_load</span></span><br><span class="line">    <span class="attr">expr:</span> <span class="string">(sum(node_memory_MemTotal_bytes)</span> <span class="bullet">-</span> <span class="string">sum(node_memory_MemFree_bytes</span> <span class="string">+</span> <span class="string">node_memory_Buffers_bytes</span> <span class="string">+</span> <span class="string">node_memory_Cached_bytes)</span> <span class="string">)</span> <span class="string">/</span> <span class="string">sum(node_memory_MemTotal_bytes)</span> <span class="string">*</span> <span class="number">100</span> <span class="string">&gt;</span> <span class="number">45</span></span><br><span class="line">    <span class="attr">for:</span> <span class="string">30s</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">severity:</span> <span class="string">warning</span></span><br><span class="line">    <span class="attr">annotations:</span></span><br><span class="line">      <span class="attr">summary:</span> <span class="string">&quot;Server memory is almost full&quot;</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">&quot;Docker host memory usage is <span class="template-variable">&#123;&#123; humanize $value&#125;&#125;</span>%. Reported by instance <span class="template-variable">&#123;&#123; $labels.instance &#125;&#125;</span> of job <span class="template-variable">&#123;&#123; $labels.job &#125;&#125;</span>.&quot;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šè¿‡ Docker Volume æŒ‚è½½çš„æ–¹å¼è®² Prometheus çš„é…ç½®æ–‡ä»¶å’Œå‘Šè­¦è§„åˆ™æ–‡ä»¶æŒ‚è½½åˆ°å¯¹åº”çš„è¯†åˆ«è·¯å¾„ï¼›Grafana çš„ Dashboard ä¸ç™»é™†ç›¸å…³çš„é…ç½®æˆ‘ä»¬ä¹ŸåŸºäºæ­¤æ–¹å¼ã€‚Prometheus çš„æ›´å¤šé…ç½®å¯å‚è€ƒ <a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/">prometheus configuration</a>ï¼šï¼›Grafana æ›´å¤šçš„é…ç½®å‚æ•°å¯ä»¥å‚è€ƒï¼š<a href="https://grafana.com/docs/grafana/latest/administration/provisioning/">Grafana Provisioning</a>ã€‚</p><p>Federation é›†ç¾¤çš„é€šä¿¡æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª Docker Networkã€Œmonitoring_networkã€ã€‚æˆ‘ä»¬ä½¿ç”¨ Dockerâ€”Compose è¿›è¡Œå®¹å™¨çš„ç¼–æ’ï¼Œç¼–æ’æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><details ><summary> docker-compose.yml </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.5&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">    <span class="attr">monitoring_network:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">    <span class="attr">prometheus_leader_data:</span> &#123;&#125;</span><br><span class="line">    <span class="attr">prometheus_follower_1_data:</span> &#123;&#125;</span><br><span class="line">    <span class="attr">prometheus_follower_2_data:</span> &#123;&#125;</span><br><span class="line">    <span class="attr">grafana_leader_data:</span> &#123;&#125;</span><br><span class="line">    <span class="attr">grafana_follower_data:</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">    <span class="attr">prometheus-leader:</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">prometheus-leader</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">prom/prometheus</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">monitoring_network</span></span><br><span class="line">        <span class="attr">volumes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/prometheus-leader/prometheus.yml:/etc/prometheus/prometheus.yml</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/prometheus-leader/alerts/alert.rules:/etc/prometheus/alert.rules</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">prometheus_leader_data:/prometheus</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;9090:9090&quot;</span></span><br><span class="line">        <span class="attr">command:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--config.file=/etc/prometheus/prometheus.yml&#x27;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--storage.tsdb.path=/prometheus&#x27;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--web.console.libraries=/etc/prometheus/console_libraries&#x27;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--web.console.templates=/etc/prometheus/consoles&#x27;</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">prometheus-follower-1:</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">prometheus-follower-1</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">prom/prometheus</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">monitoring_network</span></span><br><span class="line">        <span class="attr">volumes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/prometheus-follower-1/prometheus.yml:/etc/prometheus/prometheus.yml</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/prometheus-follower-1/records/node_exporter_recording.rules:/etc/prometheus/node_exporter_recording.rules</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/prometheus-follower-1/alerts/node_exporter_alert.rules:/etc/prometheus/node_exporter_alert.rules</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">prometheus_follower_1_data:/prometheus</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;9099:9090&quot;</span></span><br><span class="line">        <span class="attr">command:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--config.file=/etc/prometheus/prometheus.yml&#x27;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--storage.tsdb.path=/prometheus&#x27;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--web.console.libraries=/etc/prometheus/console_libraries&#x27;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--web.console.templates=/etc/prometheus/consoles&#x27;</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">prometheus-follower-2:</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">prometheus-follower-2</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">prom/prometheus</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">monitoring_network</span></span><br><span class="line">        <span class="attr">volumes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/prometheus-follower-2/prometheus.yml:/etc/prometheus/prometheus.yml</span></span><br><span class="line">            <span class="comment"># - ./configs/prometheus-follower-2/records/node_exporter_recording.rules:/etc/prometheus/node_exporter_recording.rules</span></span><br><span class="line">            <span class="comment"># - ./configs/prometheus-follower-2/alerts/node_exporter_alert.rules:/etc/prometheus/node_exporter_alert.rules</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">prometheus_follower_2_data:/prometheus</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;9098:9090&quot;</span></span><br><span class="line">        <span class="attr">command:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--config.file=/etc/prometheus/prometheus.yml&#x27;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--storage.tsdb.path=/prometheus&#x27;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--web.console.libraries=/etc/prometheus/console_libraries&#x27;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&#x27;--web.console.templates=/etc/prometheus/consoles&#x27;</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">grafana_leader:</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">grafana_leader</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">grafana/grafana</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">monitoring_network</span></span><br><span class="line">        <span class="attr">volumes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/grafana-leader/provisioning/dashboards:/etc/grafana/provisioning/dashboards</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/grafana-leader/provisioning/datasources/config.yml:/etc/grafana/provisioning/datasources/config.yml</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">grafana_leader_data:/etc/grafana</span></span><br><span class="line">        <span class="attr">environment:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">TERM=linux</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">GF_INSTALL_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">GF_SECURITY_ADMIN_USER=admin</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">GF_SECURITY_ADMIN_PASSWORD=admin123456</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;3000:3000&quot;</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">grafana_follower:</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">grafana_follower</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">grafana/grafana</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">monitoring_network</span></span><br><span class="line">        <span class="attr">volumes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/grafana-follower/provisioning/dashboards:/etc/grafana/provisioning/dashboards</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/grafana-follower/provisioning/datasources/config.yml:/etc/grafana/provisioning/datasources/config.yml</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">grafana_follower_data:/etc/grafana</span></span><br><span class="line">        <span class="attr">environment:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">TERM=linux</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">GF_INSTALL_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">GF_SECURITY_ADMIN_USER=admin</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">GF_SECURITY_ADMIN_PASSWORD=admin123456</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;3001:3000&quot;</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">node_exporter:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">quay.io/prometheus/node-exporter:latest</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">node_exporter_stats</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">monitoring_network</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;9100:9100&quot;</span></span><br><span class="line">        <span class="attr">expose:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;9100&quot;</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">blackbox_exporter:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">prom/blackbox-exporter</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">blackbox_exporter</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">monitoring_network</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;9115:9115&quot;</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">alertmanager:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">prom/alertmanager</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">alertmanager</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">monitoring_network</span></span><br><span class="line">        <span class="attr">volumes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/alertmanager/alertmanager.yml:/etc/alertmanager/alertmanager.yml</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;9093:9093&quot;</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">dingtalk-robot:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">timonwong/prometheus-webhook-dingtalk</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">dingtalk-robot</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">monitoring_network</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;8060:8060&quot;</span></span><br><span class="line">        <span class="attr">volumes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./configs/dingtalk/config.yml:/etc/prometheus-webhook-dingtalk/config.yml</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br></pre></td></tr></table></figure>              </div>            </details><p>dingtalk é€šçŸ¥çš„é…ç½®å‚è€ƒäº†è¿™ç¯‡æ–‡ç« ï¼š<a href="https://theo.im/blog/2017/10/16/release-prometheus-alertmanager-webhook-for-dingtalk/">å°†é’‰é’‰æ¥å…¥ Prometheus AlertManager WebHook</a>ã€‚</p><p>å·²ç»ç›¸å…³çš„é…ç½®æ–‡ä»¶å’Œå®¹å™¨ç¼–æ’æ–‡ä»¶ä¸Šä¼ åˆ°äº† GitHubï¼Œæ›´å¤šçš„é…ç½®ç»†èŠ‚å¯ä»¥åˆ° GitHub çš„é¡¹ç›®ä»“åº“ <a href="https://github.com/yeshan333/prometheus-federation-minimal-demo">yeshan333/prometheus-federation-minimal-demo</a> æŸ¥çœ‹ï¼Œä¹Ÿå¯å°†è¯¥é¡¹ç›® clone åˆ°æœ¬åœ°ï¼Œè·‘ä¸€ä¸‹çœ‹çœ‹ï¼š</p><ul><li>1ã€git cloneï¼›</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/yeshan333/prometheus-federation-minimal-demo</span><br><span class="line">cd prometheus-federation-minimal-demo</span><br></pre></td></tr></table></figure><ul><li>2ã€æ›´æ¢é’‰é’‰æœºå™¨äººçš„ WebHook åœ°å€ï¼Œæœºå™¨äººé…ç½®çš„ Webhook åœ°å€åœ¨ <code>configs/dingtalk/config.yml</code> æ–‡ä»¶ï¼›</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim configs/dingtalk/config.yml</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">targets:</span></span><br><span class="line">  <span class="attr">webhook1:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">https://oapi.dingtalk.com/robot/send?access_token=&lt;dingtalk-robaot-access-token&gt;</span></span><br></pre></td></tr></table></figure><ul><li>3ã€é€šè¿‡ docker-compose å¯åŠ¨è”é‚¦é›†ç¾¤ï¼Œä½ å¯èƒ½éœ€è¦å®‰è£… Docker &amp; docker-composeï¼Œå¯å‚è€ƒï¼š<a href="https://docs.docker.com/get-docker/">Get Docker</a>ï¼›</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><ul><li>4ã€æœŸå¾…çš„å®¹å™¨è¿è¡ŒçŠ¶å†µå¦‚ä¸‹ï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker-compose ps</span></span><br><span class="line">NAME                    COMMAND                  SERVICE                 STATUS              PORTS</span><br><span class="line">alertmanager            &quot;/bin/alertmanager -â€¦&quot;   alertmanager            running             0.0.0.0:9093-&gt;9093/tcp, :::9093-&gt;9093/tcp</span><br><span class="line">blackbox_exporter       &quot;/bin/blackbox_exporâ€¦&quot;   blackbox_exporter       running             0.0.0.0:9115-&gt;9115/tcp, :::9115-&gt;9115/tcp</span><br><span class="line">dingtalk-robot          &quot;/bin/prometheus-webâ€¦&quot;   dingtalk-robot          running             0.0.0.0:8060-&gt;8060/tcp, :::8060-&gt;8060/tcp</span><br><span class="line">grafana_follower        &quot;/run.sh&quot;                grafana_follower        running             0.0.0.0:3001-&gt;3000/tcp, :::3001-&gt;3000/tcp</span><br><span class="line">grafana_leader          &quot;/run.sh&quot;                grafana_leader          running             0.0.0.0:3000-&gt;3000/tcp, :::3000-&gt;3000/tcp</span><br><span class="line">node_exporter_stats     &quot;/bin/node_exporter&quot;     node_exporter           running             0.0.0.0:9100-&gt;9100/tcp, :::9100-&gt;9100/tcp</span><br><span class="line">prometheus-follower-1   &quot;/bin/prometheus --câ€¦&quot;   prometheus-follower-1   running             0.0.0.0:9099-&gt;9090/tcp, :::9099-&gt;9090/tcp</span><br><span class="line">prometheus-follower-2   &quot;/bin/prometheus --câ€¦&quot;   prometheus-follower-2   running             0.0.0.0:9098-&gt;9090/tcp, :::9098-&gt;9090/tcp</span><br><span class="line">prometheus-leader       &quot;/bin/prometheus --câ€¦&quot;   prometheus-leader       running             0.0.0.0:9090-&gt;9090/tcp, :::9090-&gt;9090/tcp</span><br></pre></td></tr></table></figure><ul><li>5ã€æŸ¥çœ‹ Grafana Leaderï¼š<a href="http://localhost:3000/">http://localhost:3000</a>ï¼ŒAlertmanager UIï¼š<a href="http://localhost:9093/">http://localhost:9093</a></li></ul><p>End.</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</p>]]></content>
      
      
      <categories>
          
          <category> Monitoring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Prometheus </tag>
            
            <tag> Grafana </tag>
            
            <tag> Federation </tag>
            
            <tag> Docker </tag>
            
            <tag> Monitoring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯¹ä¸‹è½½è½¯ä»¶/æ–‡ä»¶è¿›è¡Œæ ¡éªŒçš„å·¥å…·ï¼ˆChecksum and GPGï¼‰</title>
      <link href="/2021/07/10/checksum-gpg-tools/"/>
      <url>/2021/07/10/checksum-gpg-tools/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰è£…è½¯ä»¶ä¸€ç›´éƒ½æ²¡æœ‰éªŒè¯å®‰è£…æ–‡ä»¶çš„ä¹ æƒ¯ï¼Œä¿¡æ¯å®‰å…¨æ„è¯†ä¸é«˜ï¼Œç¢°å·§æœ€è¿‘æ²¡å•¥äº‹ï¼Œå¾®å¾®å†™ç¯‡æ–‡ç« è®°å½•ä¸‹æ ¡éªŒå·¥å…·ï¼ˆäº’è”ç½‘httpã€httpsã€ftp æœåŠ¡å¹¶æ²¡æœ‰é‚£ä¹ˆå®‰å…¨ï¼Œæ˜¯å¯ä»¥è¢«åŠ«æŒç¯¡æ”¹ã€‚è€è£…è½¯ä»¶é€‰æ‰‹äº†ï¼Œæ˜¯è¯¥å…»æˆä¸ªæ ¡éªŒæ–‡ä»¶çš„ä¹ æƒ¯äº†ï¼‰ã€‚</p><p>åœ¨äº’è”ç½‘ä¸‹è½½è½¯ä»¶/æ–‡ä»¶çš„æ—¶å€™ç»å¸¸ä¼šçœ‹åˆ°å®˜æ–¹æä¾›äº†ä¸€æ®µâŒˆæ ¡éªŒå’Œï¼ˆchecksumï¼‰âŒ‹æˆ–åŒ…å«æ ¡éªŒå’Œçš„æ–‡ä»¶ä¾›æ ¡éªŒã€‚å¸¸è§çš„æ ¡éªŒå’Œæœ‰ md5ã€SHA å®¶æ—ç­‰ã€‚è¿˜æœ‰éƒ¨åˆ†è½¯ä»¶/æ–‡ä»¶ä¼šæä¾› GPG æ ¡éªŒæ–‡ä»¶ï¼ˆsignature file, SIGï¼‰ç»™ä¸‹è½½è€…è¿›è¡Œæ ¡éªŒã€‚</p><p>æ¥çœ‹çœ‹è¿™ä¸¤ç§æ ¡éªŒæ–¹å¼ç›¸å…³çš„å·¥å…·ã€‚</p><span id="more"></span><h2 id="æ ¡éªŒå’Œæ ¡éªŒå·¥å…·"><a href="#æ ¡éªŒå’Œæ ¡éªŒå·¥å…·" class="headerlink" title="æ ¡éªŒå’Œæ ¡éªŒå·¥å…·"></a>æ ¡éªŒå’Œæ ¡éªŒå·¥å…·</h2><blockquote><p><a href="https://zh.wikipedia.org/wiki/%E6%A0%A1%E9%AA%8C%E5%92%8C">æ ¡éªŒå’Œ</a>ï¼ˆè‹±è¯­ï¼šChecksumï¼‰æ˜¯å†—ä½™æ ¡éªŒçš„ä¸€ç§å½¢å¼ã€‚ å®ƒæ˜¯é€šè¿‡é”™è¯¯æ£€æµ‹æ–¹æ³•ï¼Œå¯¹ç»è¿‡ç©ºé—´ï¼ˆå¦‚é€šä¿¡ï¼‰æˆ–æ—¶é—´ï¼ˆå¦‚è®¡ç®—æœºå­˜å‚¨ï¼‰æ‰€ä¼ é€æ•°æ®çš„å®Œæ•´æ€§è¿›è¡Œæ£€æŸ¥çš„ä¸€ç§ç®€å•æ–¹æ³•ã€‚ -æ¥è‡ªç»´åŸºç™¾ç§‘</p></blockquote><h3 id="Windows-CertUtil"><a href="#Windows-CertUtil" class="headerlink" title="Windows CertUtil"></a>Windows CertUtil</h3><p>CertUtil æ˜¯ Windows è‡ªå¸¦çš„æ–‡ä»¶æ ¡éªŒå’Œè®¡ç®—ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒè®¡ç®—ä¸‹è½½çš„è½¯ä»¶/æ–‡ä»¶çš„ checksum ä¸å®˜æ–¹æä¾›çš„ checksum ä½œå¯¹æ¯”ã€‚</p><p>åœ¨ PowerShell æˆ– CMD ä¸­å¯ä»¥æ‰§è¡Œ <code>CertUtil -?</code> å‘½ä»¤æŸ¥çœ‹ CertUtil æ”¯æŒçš„å‚æ•°ã€‚CertUtil çš„è®¡ç®—æ–‡ä»¶æ ¡éªŒå’Œå‘½ä»¤çš„ä¸€èˆ¬å½¢å¼ä¸º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CertUtil -hashfile &lt;path to file&gt; &lt;hash algorithm&gt;</span><br></pre></td></tr></table></figure><p>CertUtil æ”¯æŒçš„æ ¡éªŒå’Œè®¡ç®—çš„å“ˆå¸Œç®—æ³•æœ‰ MD2 MD4 MD5 SHA1 SHA256 SHA384 SHA512 ç­‰ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Usage:</span><br><span class="line">  CertUtil [Options] -hashfile InFile [HashAlgorithm]</span><br><span class="line">  Generate and display cryptographic hash over a file</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -Unicode          -- Write redirected output in Unicode</span><br><span class="line">  -gmt              -- Display times as GMT</span><br><span class="line">  -seconds          -- Display times with seconds and milliseconds</span><br><span class="line">  -v                -- Verbose operation</span><br><span class="line">  -privatekey       -- Display password and private key data</span><br><span class="line">  -pin PIN                  -- Smart Card PIN</span><br><span class="line">  -sid WELL_KNOWN_SID_TYPE  -- Numeric SID</span><br><span class="line">            22 -- Local System</span><br><span class="line">            23 -- Local Service</span><br><span class="line">            24 -- Network Service</span><br><span class="line"></span><br><span class="line">Hash algorithms: MD2 MD4 MD5 SHA1 SHA256 SHA384 SHA512</span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬çœ‹ä¸ªä¾‹å­ï¼Œå°±è£…ä¸ª Go å§ï¼ˆå˜¿å˜¿ï¼Œæœ€è¿‘åœ¨è£…ç³»ç»Ÿï¼Œä»€ä¹ˆè½¯ä»¶éƒ½æ²¡äº†ï¼‰ï¼Œç›´æ¥å®˜æ–¹ï¼ˆ<a href="https://golang.org/dl/">https://golang.org/dl/</a>ï¼‰ä¸‹è½½ Go çš„å®‰è£…ç¨‹åºï¼Œä¸‹è½½é¡µé¢ç»™å‡ºäº† SHA256 Checksumã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/10/WpK4aQ.png' data-fancybox='default' data-caption='Go ä¸‹è½½é¡µ'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/10/WpK4aQ.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/10/WpK4aQ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Go ä¸‹è½½é¡µ"></a><span class='image-caption'>Go ä¸‹è½½é¡µ</span></div></div><p>ä½¿ç”¨ Certutil è®¡ç®— go1.16.5.windows-amd64.msi å®‰è£…ç¨‹åºçš„æ ¡éªŒå’Œã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CertUtil -hashfile go1.16.5.windows-amd64.msi SHA256</span><br></pre></td></tr></table></figure><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/10/WpMUWn.png' data-fancybox='default' data-caption='CertUtil è®¡ç®—ç»“æœ'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/10/WpMUWn.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/10/WpMUWn.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="CertUtil è®¡ç®—ç»“æœ"></a><span class='image-caption'>CertUtil è®¡ç®—ç»“æœ</span></div></div><p>CertUtil è®¡ç®—ç»“æœï¼ˆ322dd8c585f37b62c9e603c84747b97a7a65b56fcef56b64e3021ccad90785b2ï¼‰å’Œä¸‹è½½é¡µæä¾›çš„æ ¡éªŒå’Œï¼ˆ322dd8c585f37b62c9e603c84747b97a7a65b56fcef56b64e3021ccad90785b2ï¼‰æ¯”å¯¹ï¼Œemmmï¼Œæ²¡æ¯›ç—…ï¼Œå¾®å¾®æ”¾å¿ƒå®‰è£…äº†ã€‚</p><p>æ–‡æ¡£ï¼š<a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/certutil">microsoft windows-commands certutil</a></p><h3 id="Linux-md5sum"><a href="#Linux-md5sum" class="headerlink" title="Linux md5sum"></a>Linux md5sum</h3><p>md5sum æ˜¯å¤§å¤šæ•° Linux ç³»ç»Ÿéƒ½é¢„è£…çš„æ ¡éªŒ 128 ä½ MD5 å“ˆå¸Œå€¼ï¼Œç”¨äºæ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§çš„æ ¡éªŒå’Œå·¥å…·ã€‚</p><p>å‘½ä»¤çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼Œä½¿ç”¨ <code>md5sum --help</code> æŸ¥çœ‹æ›´å¤šæ“ä½œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md5sum &lt;file-path or files-path&gt;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºæ ¼å¼ä¸€èˆ¬ç¤ºä¾‹å¦‚ä¸‹ï¼ˆæ ¡éªŒå’Œ + æ–‡ä»¶åï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/10/Wpa4XQ.png' data-fancybox='default' data-caption='md5sum è®¡ç®—æ ¡éªŒå’Œ'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/10/Wpa4XQ.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/10/Wpa4XQ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="md5sum è®¡ç®—æ ¡éªŒå’Œ"></a><span class='image-caption'>md5sum è®¡ç®—æ ¡éªŒå’Œ</span></div></div><p>éƒ¨åˆ†è½¯ä»¶ä¸‹è½½æ—¶ä¼šæ‹¿åˆ°ä¸€ä¸ªç±»ä¼¼å¦‚ä¸‹å†…å®¹æ ¼å¼çš„ checksum æ–‡ä»¶ï¼Œå§‘ä¸”å‘½åä¸º demo_hash.md5</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f4e81ade7d6f9fb342541152d08e7a97  .profile</span><br><span class="line">0f077c02d1303b89b9c5cb92e5d7d112  .bashrc</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆä½¿ç”¨ md5sum è¿›è¡Œæ ¡éªŒæ—¶å¯ä»¥è¿™ä¹ˆæ“ä½œï¼Œmd5sum ä¼šè‡ªåŠ¨æ ¹æ® demo_hash.md5 é‡Œé¢çš„æ–‡ä»¶é€ä¸ªæ£€æŸ¥ md5ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">md5sum</span> -c demo_hash.md5 <span class="comment"># åŠ ä¸ª `-c` å‚æ•°</span></span></span><br><span class="line">.profile: OK</span><br><span class="line">.bashrc: OK</span><br></pre></td></tr></table></figure><p>æ–‡æ¡£ï¼š<a href="https://www.gnu.org/software/coreutils/manual/html_node/md5sum-invocation.html#md5sum-invocation">md5sum-invocation</a></p><h2 id="GPG-key-æ ¡éªŒå·¥å…·"><a href="#GPG-key-æ ¡éªŒå·¥å…·" class="headerlink" title="GPG key æ ¡éªŒå·¥å…·"></a>GPG key æ ¡éªŒå·¥å…·</h2><blockquote><p><a href="https://www.gnupg.org/index.html">GPG</a>ï¼ˆGnuPGï¼‰æ˜¯ä¸€ä¸ªå®ç°äº† OpenPGP æ ‡å‡†çš„ç”¨äºæ•°æ®åŠ å¯†å’Œæ•°å­—ç­¾åçš„å·¥å…·ã€‚</p></blockquote><p>äº’è”ç½‘ä¸Šå­˜åœ¨ç€éƒ¨åˆ†è½¯ä»¶/æ–‡ä»¶é€šè¿‡ GPG å¯†é’¥è¿›è¡Œç­¾åæ¥è¯æ˜å…¶æ¥æºã€‚GitHub ä¹Ÿæœ‰ç€ä¸€ç§ä½¿ç”¨ GPG å¯†é’¥æ¥æ£€éªŒ Git Commit æ¥æºå¯é æ€§çš„æ‰‹æ®µï¼Œå¦‚æœå¯é ï¼Œä¼šåœ¨å‰ç«¯é¡µé¢ commit log å†å²é‚£é‡Œæ˜¾ç¤ºä¸€ä¸ªå¦‚ä¸‹çš„å°ç»¿æ ‡ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/10/Wps4PA.png' data-fancybox='default' data-caption='GitHub commit signature'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/10/Wps4PA.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/10/Wps4PA.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="GitHub commit signature"></a><span class='image-caption'>GitHub commit signature</span></div></div><p>btwï¼Œä¹‹å‰å¾®å¾®å†™è¿‡ä¸€ç¯‡æ–‡ç«  -&gt; <a href="https://shansan.top/2020/06/26/%E7%BB%99%20GitHub%20commit%20%E5%8A%A0%E4%B8%AA%E5%B0%8F%E7%BB%BF%E6%A0%87/">ç»™ GitHub commit åŠ ä¸ªå°ç»¿æ ‡</a>ã€‚</p><p>ä½¿ç”¨ GPG key è¿›è¡Œè½¯ä»¶/æ–‡ä»¶æ ¡éªŒçš„ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>step 1ï¼šè·å–è½¯ä»¶/æ–‡ä»¶ä½œè€…çš„<strong>å…¬é’¥</strong>ï¼ˆpublic keyï¼‰ï¼Œå¯¼å…¥åˆ° GPG key ç®¡ç†å™¨ï¼›</li><li>step 2ï¼šæ ¹æ®ä½œè€…çš„ gpg key <strong>æŒ‡çº¹</strong>ï¼ˆfingerprintï¼‰éªŒè¯å…¬é’¥ï¼ˆpublic keyï¼‰çš„å¯é æ€§ï¼›</li><li>step 3ï¼šæ ¹æ®è½¯ä»¶/æ–‡ä»¶çš„<strong>ç­¾åæ–‡ä»¶</strong>ï¼ˆsignature fileï¼ŒSIGï¼‰æ ¡éªŒæ¥æºæ˜¯å¦å¯é ã€‚</li></ul><h3 id="Gpg4win"><a href="#Gpg4win" class="headerlink" title="Gpg4win"></a>Gpg4win</h3><p>Gpg4win æ˜¯å®˜æ–¹çš„ Windows GnuPG å‘è¡Œç‰ˆï¼Œå…¨å®¶æ¡¶è½¯ä»¶ï¼Œå®˜ç½‘ä¸º <a href="https://gpg4win.org/about.html">gpg4win.org</a>ã€‚é€šè¿‡è‡ªå¸¦çš„ GUI å®¢æˆ·ç«¯ Kleopatraï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®Œæˆæ–‡ä»¶çš„æ ¡éªŒã€‚ç›´æ¥å®˜ç½‘ä¸‹è½½å®‰è£…å³å¯ -&gt; <a href="https://gpg4win.org/get-gpg4win.html">Download Page</a>ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/11/W9YnX9.png' data-fancybox='default' data-caption='Kleopatra'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/11/W9YnX9.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/11/W9YnX9.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Kleopatra"></a><span class='image-caption'>Kleopatra</span></div></div><p>è¿™é‡Œæˆ‘ä»¬ä»¥ Windows ä¸‹ Python 3.9.6 çš„å®‰è£…ä¸ºä¾‹ï¼Œçœ‹ä¸‹ä½¿ç”¨ Kleopatra è¿›è¡Œæ ¡éªŒçš„è¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„ âŒˆä»¥ä¸‹æ“ä½œä¸‹è½½çš„æ–‡ä»¶å‡åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹âŒ‹ã€‚</p><p>å…ˆåˆ°å®˜æ–¹ä¸‹è½½é¡µ<a href="https://www.python.org/downloads/release/python-396/">release/python-396</a>ä¸‹è½½ Windows Python 3.9.6 çš„å®‰è£…æ–‡ä»¶å’Œå¯¹åº”çš„ GPG å¯†é’¥ç­¾åæ–‡ä»¶ï¼ˆsigï¼‰ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/10/WpK4aQ.png' data-fancybox='default' data-caption='å®‰è£…æ–‡ä»¶å’Œç­¾åæ–‡ä»¶ä¸‹è½½'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/10/WpK4aQ.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/10/WpK4aQ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å®‰è£…æ–‡ä»¶å’Œç­¾åæ–‡ä»¶ä¸‹è½½"></a><span class='image-caption'>å®‰è£…æ–‡ä»¶å’Œç­¾åæ–‡ä»¶ä¸‹è½½</span></div></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -sSlO https://www.python.org/ftp/python/3.9.6/python-3.9.6-amd64.exe</span><br><span class="line">curl -O https://www.python.org/ftp/python/3.9.6/python-3.9.6-amd64.exe.asc</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/07/11/W9tKgg.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/11/W9tKgg.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ä¸‹è½½ installer &amp; sig æ–‡ä»¶"></p><p>ç°åœ¨å¼€å§‹å¯¹ç€ä¹‹å‰æ‰€çš„æ ¡éªŒæ­¥éª¤æ“ä½œä¸€ä¸‹ã€‚</p><p><strong>Step 1</strong>ï¼šè·å–è½¯ä»¶/æ–‡ä»¶ä½œè€…çš„<strong>å…¬é’¥</strong>ï¼ˆpublic keyï¼‰ï¼Œå¯¼å…¥åˆ° GPG key ç®¡ç†å™¨ï¼›</p><p>ä» <a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a> é¡µé¢å¤§æ¦‚å››åˆ†ä¹‹ä¸‰çš„åœ°æ–¹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¹‹å‰ä¸‹è½½çš„ Windows Banaries çš„ release manager æ˜¯ Steve Dowerï¼Œæˆ‘ä»¬æ ¹æ®å®˜ç½‘æä¾›çš„é“¾æ¥è·å–<a href="https://keybase.io/stevedower/">å…¬é’¥</a>ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/11/W9UCmd.png' data-fancybox='default' data-caption='è·å– Steve Dower å…¬é’¥'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/11/W9UCmd.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/11/W9UCmd.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è·å– Steve Dower å…¬é’¥"></a><span class='image-caption'>è·å– Steve Dower å…¬é’¥</span></div></p><p><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/11/W9U738.png' data-fancybox='default' data-caption='keybase ä¸Šçš„å…¬é’¥'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/11/W9U738.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/11/W9U738.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="keybase ä¸Šçš„å…¬é’¥"></a><span class='image-caption'>keybase ä¸Šçš„å…¬é’¥</span></div></div><p>ä¸‹è½½å…¬é’¥ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://keybase.io/stevedower/pgp_keys.asc</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ Kleopatra å¯¼å…¥ä¸‹è½½å¥½çš„å…¬é’¥ pgp_keys.ascã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/11/W9wpXF.png' data-fancybox='default' data-caption='å¯¼å…¥å…¬é’¥'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/11/W9wpXF.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/11/W9wpXF.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¯¼å…¥å…¬é’¥"></a><span class='image-caption'>å¯¼å…¥å…¬é’¥</span></div></div><p><strong>Step 2</strong>ï¼šæ ¹æ®ä½œè€…çš„ gpg key <strong>æŒ‡çº¹</strong>ï¼ˆfingerprintï¼‰éªŒè¯å…¬é’¥ï¼ˆpublic keyï¼‰çš„å¯é æ€§ï¼›</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/11/W9w5NR.png' data-fancybox='default' data-caption='éªŒè¯æŒ‡çº¹'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/11/W9w5NR.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/11/W9w5NR.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="éªŒè¯æŒ‡çº¹"></a><span class='image-caption'>éªŒè¯æŒ‡çº¹</span></div></div><p>å¯¼å…¥çš„å…¬é’¥æŒ‡çº¹ä¸æä¾›çš„æŒ‡çº¹ä¸€è‡´ï¼Œä¸€èˆ¬å°±æ— é—®é¢˜äº†ã€‚</p><p><strong>Step 3</strong>ï¼šæ ¹æ®è½¯ä»¶/æ–‡ä»¶çš„<strong>ç­¾åæ–‡ä»¶</strong>ï¼ˆsignature fileï¼ŒSIGï¼‰æ ¡éªŒæ¥æºæ˜¯å¦å¯é ã€‚</p><p>ä½¿ç”¨ä¹‹å‰ä¸‹è½½å¥½çš„ signature fileï¼ˆpython-3.9.6-amd64.exe.ascï¼‰è¿›è¡Œæ ¡éªŒï¼Œå¦‚ä¸‹ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/07/11/W9Bb0e.png' data-fancybox='default' data-caption='SIG æ ¡éªŒ'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/07/11/W9Bb0e.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/07/11/W9Bb0e.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="SIG æ ¡éªŒ"></a><span class='image-caption'>SIG æ ¡éªŒ</span></div></div><p>emmmï¼Œæ²¡é—®é¢˜ã€‚Good jobï¼</p><h3 id="GnuPG-GPG"><a href="#GnuPG-GPG" class="headerlink" title="GnuPG(GPG)"></a>GnuPG(GPG)</h3><p>GnuPG æ˜¯ä¹‹å‰æåˆ°çš„ Gpg4win çš„åç«¯ï¼Œé€‚åˆå‘½ä»¤è¡Œé€‰æ‰‹ã€‚å¤§éƒ¨åˆ† Linux ç³»ç»Ÿè‡ªå¸¦ã€‚ä¸‹é¢æˆ‘ä»¬åœ¨ WSLï¼ˆUbuntu-20.04ï¼‰æ„Ÿå—ä¸‹ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä»¥å¯¹ <a href="https://www.gnupg.org/download/index.html">GnuPGï¼ˆLTSï¼‰ Tarball</a> çš„ä¸‹è½½æ ¡éªŒä¸ºä¾‹å­ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir gnupg_tarball</span><br><span class="line">cd gnupg_tarball</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½ GnuPGï¼ˆLTSï¼‰ tarball</span></span><br><span class="line">curl -O https://www.gnupg.org/ftp/gcrypt/gnupg/gnupg-2.2.29.tar.bz2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½æ ¡éªŒæ–‡ä»¶</span></span><br><span class="line">curl -O https://www.gnupg.org/ftp/gcrypt/gnupg/gnupg-2.2.29.tar.bz2.sig</span><br></pre></td></tr></table></figure><ul><li>Step 1ï¼šä¿å­˜å…¬é’¥ï¼Œå¯¼å…¥å…¬é’¥ã€‚åœ¨ <a href="https://www.gnupg.org/signature_key.html">https://www.gnupg.org/signature_key.html</a> æ‹¿åˆ°ä½œè€…çš„ signature keyï¼Œä¿å­˜åˆ° gnupg-2.2.29.ascã€‚</li></ul><details open red><summary> ä¿å­˜å…¬é’¥ </summary>              <div class='content'>              <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">âœ cat&gt;gnupg-2.2.29.asc&lt;&lt;EOF</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">-----BEGIN PGP PUBLIC KEY BLOCK-----</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">&gt; mQENBE0ti4EBCACqGtKlX9jI/enhlBdy2cyQP6Q7JoyxtaG6/ckAKWHYrqFTQk3I</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Ue8TuDrGT742XFncG9PoMBfJDUNltIPgKFn8E9tYQqAOlpSA25bOb30cA2ADkrjg</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">jvDAH8cZ+fkIayWtObTxwqLfPivjFxEM//IdShFFVQj+QHmXYBJggWyEIil8Bje7</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">KRw6B5ucs4qSzp5VH4CqDr9PDnLD8lBGHk0x8jpwh4V/yEODJKATY0Vj00793L8u</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">qA35ZiyczUvvJSLYvf7STO943GswkxdAfqxXbYifiK2gjE/7SAmB+2jFxsonUDOB</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">1BAY5s3FKqrkaxZr3BBjeuGGoCuiSX/cXRIhABEBAAG0Fldlcm5lciBLb2NoIChk</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">aXN0IHNpZymJAVUEEwEIAD8CGwMGCwkIBwMCBhUIAgkKCwQWAgMBAh4BAheAFiEE</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">2GkhI8QGXepeDzq1JJs50k8l47YFAl4MxBkFCRShVzYACgkQJJs50k8l47YImQf9</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">HaqHWor+aSmaEwQnaAN0zRa4kPbAWya182aJtsFzLZJf6BbS0aoiMhwtREN/DMvB</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">jzxARKep/cELaM+mc7oDK4mEwqSX/u6BE8D7FaNA9sut8P+4xjpoLPU+UzILMg29</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">t1remjyT9rs6sbu8BqufIxueArkjoi4WCOSRiVTdw+YDd88volPkXlPfS8hg9Rct</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">wZ8kEEDywa+NrxiLx+kDgDNTNdk3PJdfcnesf8S1a+KLUTNRds5+xGTYz0JSQ9BZ</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">7Q9r4VQ/NL55muQZi5W7lVxdp3HxQFUNjHzzBfGtkpS4xqZpJvNjW50Wh5Vi5RYZ</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">LZ3M1EuIHXHmRiY4dmqqcpkBDQRUUDsjAQgA5hBwN9F3OqKf+9mXCXUDK4lb5wMj</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">dti96xG04gAn7wWo7On6c5ntriZQuRdR5GHcdw73XC6CFehHeo/eSVYiWqBNBAfE</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">9UzbkES+cY+4wDzqVacqhKxd70XmHQgyK7ppRG/MwkL1UyArCGGAKN6MV/2fzO6I</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">GQw3jntRue3/2PGGnGaisNAKlvttHWZ91uy4KY5fBM19uQCgZdx4v8/rP0+yQqsW</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">TwJUKvymx5GIfNaCJvgF+v+aPrwspxBMf9jpHXqDXnh4Lo8C/GsQMD6GClVfQjsv</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">vzUHKH2eoL4oNfku+Ua5BuAHYi+uAuzqV9TdpF9PCpQMyPfuuZclMPLdMwARAQAB</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">tDJOSUlCRSBZdXRha2EgKEdudVBHIFJlbGVhc2UgS2V5KSA8Z25paWJlQGZzaWou</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">b3JnPokBPAQTAQgAJgIbAwULBwgJAwQVCAkKBRYCAwEAAh4BAheABQJYDxRZBQkL</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">S5A2AAoJECBxsIozvT8GvG8IAMBIlGz9voYcSSXAdQOuvz2gM2kOjvMHzN6VlS9V</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">P06IjnTz2DnejFZwLmxJw8e8mZjUo0jw22uo1HREQhDrne3S1IazPMeTUCUNzpWF</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">MxXNc6SAyrw9apWa8gouGUWJv3HOwVs8EFA2E9UdtDJ2uG7MY/+eC5K/aeOAyudZ</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">EbvS8rgZypTFrBtBcNKUWZhz7FRn63HxEmYLE3p6I19ZDXrc1WTazF2oz18zym6c</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">uURr6waRbdSemUTshpLnKCBZXzJ82bXBgXNnfdmc3gtS24ZmM3ZfK/rYztEDkiTk</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s2R1gwDwf5RtDpaf5LD2ufESdbLuT+8blAlscbgYLBcwDquZAY0EWMu6rgEMAKcz</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">vM1IhpUwBpxPCNdrlMZh7XeLqKUd7hUvQ1KHOuDONxCDnfXdxGCKKI0Ds5I7Kkyp</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Wzvcl7PplRy2fYZWwcGtL+Kj01y4L2lXB/xrrVaVwRr4S0FrcbseUGYRafBpR0C1</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Yo24CL1ef4ivsfbER2SyaZ3lrT9Ccv6xfvTluhU8X+2li1ssak/Frvy02u3EORLD</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">LxaaLQgANgsjnIjv/JQZ4l3xFIJT98tEoL18btg5lGrS2w4yFU1aa1SNsbp7vcu7</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">wsqcJmCzX98LyG8/IBGJ5JXmZ03yzWhZ3uhhy1+Avi4GV4Mi0ADwaGMp6O63Mc3w</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">SL8A/DoCKJLISOc+D5xNfw6C8sYlaOSzQfqY9l4HW/+QbJmEFL2+bnjSHb8yaVU3</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">ae2IIrlNkZ5Jamp12Kq6x9Vei0xGk3gd4sqhmHhECdxoJtkX9L5gt436QxdjiTcW</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">q3V+NNfq94UJu2Ej2kN0fNT0t9RU2n0P/mS0L+1gw5Ex6BX7BIzGL0bZhYomQwAR</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">AQABiQHOBB8BCAA4FiEEW4DFdUKY8MtV2O1qvO9+KUsJLigFAljLwN0XDIABlKXJ</span></span><br><span class="line"><span class="meta prompt_">co7CV2&gt; </span><span class="language-bash">oDwv5co7CV2OH99yPPRitrECBwAACgkQvO9+KUsJLig2Cgv/T4rXEjHwlbsuTkzp</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">tgK80Dh92URzBAhPhSJ0kUz2b6y7FgVYgZ95u8elGUS4lOB0GOQSK3y4sCgldTQF</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">GQpMuvNMX6oNQTv1Z/H9H7Sc6AntozKRA6LQC+7DMxjPh2DEhVLYNqi7gMXtuH8o</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Xz5+quarw/xbVmuS4UNqcxakd4A/HW6PayRhuju4+oV2+UmGU0etzGVwKSN/UicC</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">3Re3mUy8SwJFQ9/3EAfiY0SGzSWH1z7bTRg9Ga2ctYDNzUpyQsgLxD6ZRHcONkOo</span></span><br><span class="line"><span class="meta prompt_">MEQ9&gt; </span><span class="language-bash">GUMEQ96BeSsjT4yW9ED70CcCbhg+pMxR+lnpk4BZ4WML/plBjEb8B1YaRvhYWKd3</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">OSVB/JsS6J6Q/y9TTsAJDBLAfw9h7RQKibViuVFSNftAuSdktah5mDwFnL0ZMzVS</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">3tDVDa5PDqbHEhK55/5EWBg4eNbAukVZmmoLzzERGXuj+LOIRElG3/n3chy1uM73</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">B6da3al4gDDNHifPsuozpkVN1EAROZx1K9hGGDZC3yFQTjsJtCRBbmRyZSBIZWlu</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">ZWNrZSAoUmVsZWFzZSBTaWduaW5nIEtleSmJAdQEEwEIAD4WIQRbgMV1Qpjwy1XY</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">7Wq8734pSwkuKAUCWMu6rgIbAwUJEswDAAULCQgHAgYVCAkKCwIEFgIDAQIeAQIX</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">gAAKCRC8734pSwkuKEL9DACEIL5IS9wUty62Bnwd9wK2hmwihXNkTLsOOoi8aCdO</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">ywPwcIucgAcIO+c/t0lbe4y4sJ1KrKbdyOUQiJAyxobLCSV/MkhIDAmsZB1ZIpF3</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">nfmNekRdCVcMpqX8jAwoBS3Q9m2UJz1LeDCLFCvLF0nbyUnqHZP19UOvxmzAyZMA</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Ub3W5y1+GMo4yA+3xSFI8ZbjzhawixCCRs69/4p+zCXR4e7LBf6koAHllD/0ZULp</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">SDjF+t2IkvRrMlM+e+Mxjklinr8v1FRGzmE/kCcdHaP88+iwC2wUKOZtFs4yIBLO</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">SWdQk9tLPmR8uWgNZmatRJyNvOaxd6EbK3jfckbJGFkmXjH+M9vMqFpoAewZ359F</span></span><br><span class="line"><span class="meta prompt_">Us7AX&gt; </span><span class="language-bash">qjq+Us7AXLAMNUynom7IrtR5Rvsjx6RNtKQYUD6XY5rc7r9js9iGruHDAAW5lyRg</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">j3wikc0IbV9L1bTsXIp29BsrU9sXUkVEp+xQJZgwqoOduoSjmOK88QdkibDqJiGF</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">dzIRiXx+Nxv1Pr9L7A4/tq+YMwRfQ+WJFgkrBgEEAdpHDwEBB0DPvkeV6RzXomGF</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">8jQwp0RXEt2TGFwwI7RkbpYwECY2l7QfV2VybmVyIEtvY2ggKGRpc3Qgc2lnbmlu</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">ZyAyMDIwKYiaBBMWCgBCFiEEbapuZKdtKEBXG0kCUoiXuCZAOtoFAl9D7DUCGwMF</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">CRKFxxEFCwkIBwIDIgIBBhUKCQgLAgQWAgMBAh4HAheAAAoJEFKIl7gmQDraea4A</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">/24v8c50HSC/Basf4WlREkuzhudplo8iT0BGtTQRdGAmAP9gIZ8dBekg9PRlpe7A</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">l7ErThn6owVH9szWrUt6jkKOBg==</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">=h7e4</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">-----END PGP PUBLIC KEY BLOCK-----</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">EOF</span></span><br></pre></td></tr></table></figure>              </div>            </details><p>æ¥ä¸‹æ¥å¯¼å…¥å…¬é’¥åˆ° gpgã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">âœ cat gnupg-2.2.29.asc | gpg --import</span><br><span class="line">gpg: key 249B39D24F25E3B6: public key &quot;Werner Koch (dist sig)&quot; imported</span><br><span class="line">gpg: key 2071B08A33BD3F06: public key &quot;NIIBE Yutaka (GnuPG Release Key) &lt;gniibe@fsij.org&gt;&quot; imported</span><br><span class="line">gpg: key BCEF7E294B092E28: public key &quot;Andre Heinecke (Release Signing Key)&quot; imported</span><br><span class="line">gpg: key 528897B826403ADA: public key &quot;Werner Koch (dist signing 2020)&quot; imported</span><br><span class="line">gpg: Total number processed: 4</span><br><span class="line">gpg:               imported: 4</span><br></pre></td></tr></table></figure><ul><li>Step 2ï¼šæŸ¥çœ‹å¯¼å…¥çš„å…¬é’¥çš„æŒ‡çº¹æ˜¯å¦ä¸å®˜ç½‘ä¸Šå…¬å¸ƒçš„ä¸€è‡´</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">âœ gpg --list-keys --keyid-format=long Werner Koch</span><br><span class="line">pub   rsa2048/249B39D24F25E3B6 2011-01-12 [SC] [expires: 2021-12-31]</span><br><span class="line">      D8692123C4065DEA5E0F3AB5249B39D24F25E3B6</span><br><span class="line">uid                 [ unknown] Werner Koch (dist sig)</span><br><span class="line"></span><br><span class="line">pub   ed25519/528897B826403ADA 2020-08-24 [SC] [expires: 2030-06-30]</span><br><span class="line">      6DAA6E64A76D2840571B4902528897B826403ADA</span><br><span class="line">uid                 [ unknown] Werner Koch (dist signing 2020)</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸€è‡´çš„è¯ï¼Œä¿¡ä»»æ­¤å…¬é’¥ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">âœ gpg --edit-key D8692123C4065DEA5E0F3AB5249B39D24F25E3B6</span><br><span class="line">gpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc.</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pub  rsa2048/249B39D24F25E3B6</span><br><span class="line">     created: 2011-01-12  expires: 2021-12-31  usage: SC</span><br><span class="line">     trust: unknown       validity: unknown</span><br><span class="line">[ unknown] (1). Werner Koch (dist sig)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">gpg&gt; </span><span class="language-bash">sign</span></span><br><span class="line"></span><br><span class="line">pub  rsa2048/249B39D24F25E3B6</span><br><span class="line">     created: 2011-01-12  expires: 2021-12-31  usage: SC</span><br><span class="line">     trust: unknown       validity: unknown</span><br><span class="line"> Primary key fingerprint: D869 2123 C406 5DEA 5E0F  3AB5 249B 39D2 4F25 E3B6</span><br><span class="line"></span><br><span class="line">     Werner Koch (dist sig)</span><br><span class="line"></span><br><span class="line">This key is due to expire on 2021-12-31.</span><br><span class="line">Are you sure that you want to sign this key with your</span><br><span class="line">key &quot;yeshan333 &lt;1329441308@qq.com&gt;&quot; (582AAB66132A3FDA)</span><br><span class="line"></span><br><span class="line">Really sign? (y/N) y</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">gpg&gt; </span><span class="language-bash">save</span></span><br></pre></td></tr></table></figure><p>è¿™ç©æ„è¿˜éœ€è¦ä¸€ä¸ªæŒ‡çº¹ sign  å…¬é’¥ï¼Œå¯é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¿«é€Ÿæ“ä½œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --lsign-key &quot;6DAA6E64A76D2840571B4902528897B826403ADA&quot;</span><br></pre></td></tr></table></figure><blockquote><p>Signing a key tells your software that you trust the key that you have been provided with and that you have verified that it is associated with the person in question.</p></blockquote><ul><li>Step 3ï¼šä½¿ç”¨ signature file æ ¡éªŒ Tarball</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">âœ gpg --verify gnupg-2.2.29.tar.bz2.sig</span><br><span class="line">gpg: assuming signed data in &#x27;gnupg-2.2.29.tar.bz2&#x27;</span><br><span class="line">gpg: Signature made Sun Jul  4 22:54:50 2021 CST</span><br><span class="line">gpg:                using EDDSA key 6DAA6E64A76D2840571B4902528897B826403ADA</span><br><span class="line">gpg: checking the trustdb</span><br><span class="line">gpg: marginals needed: 3  completes needed: 1  trust model: pgp</span><br><span class="line">gpg: depth: 0  valid:   2  signed:   2  trust: 0-, 0q, 0n, 0m, 0f, 2u</span><br><span class="line">gpg: depth: 1  valid:   2  signed:   0  trust: 2-, 0q, 0n, 0m, 0f, 0u</span><br><span class="line">gpg: next trustdb check due at 2021-12-31</span><br><span class="line">gpg: Good signature from &quot;Werner Koch (dist signing 2020)&quot; [full]</span><br></pre></td></tr></table></figure><p>emmmï¼Œé—®é¢˜ä¸å¤§ã€‚è¿™é‡Œæœ‰ä¸€ä¸¢ä¸¢é—®å·â“<a href="https://security.stackexchange.com/questions/41208/what-is-the-exact-meaning-of-this-gpg-output-regarding-trust">What is the exact meaning of this gpg output regarding trust?</a></p><details ><summary> å¾®å¾®æå‡ä¸‹ä¿¡ä»»æ°´å¹³ </summary>              <div class='content'>              <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">âœ gpg --edit-key 6DAA6E64A76D2840571B4902528897B826403ADA D8692123C4065DEA5E0F3AB5249B39D24F25E3B6</span><br><span class="line">gpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc.</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pub  ed25519/528897B826403ADA</span><br><span class="line">     created: 2020-08-24  expires: 2030-06-30  usage: SC</span><br><span class="line">     trust: undefined     validity: full</span><br><span class="line">[  full  ] (1). Werner Koch (dist signing 2020)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Invalid command  (try &quot;help&quot;)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">gpg&gt; </span><span class="language-bash">trust</span></span><br><span class="line">pub  ed25519/528897B826403ADA</span><br><span class="line">     created: 2020-08-24  expires: 2030-06-30  usage: SC</span><br><span class="line">     trust: undefined     validity: full</span><br><span class="line">[  full  ] (1). Werner Koch (dist signing 2020)</span><br><span class="line"></span><br><span class="line">Please decide how far you trust this user to correctly verify other users&#x27; keys</span><br><span class="line">(by looking at passports, checking fingerprints from different sources, etc.)</span><br><span class="line"></span><br><span class="line">  1 = I don&#x27;t know or won&#x27;t say</span><br><span class="line">  2 = I do NOT trust</span><br><span class="line">  3 = I trust marginally</span><br><span class="line">  4 = I trust fully</span><br><span class="line">  5 = I trust ultimately</span><br><span class="line">  m = back to the main menu</span><br><span class="line"></span><br><span class="line">Your decision? 4</span><br><span class="line"></span><br><span class="line">pub  ed25519/528897B826403ADA</span><br><span class="line">     created: 2020-08-24  expires: 2030-06-30  usage: SC</span><br><span class="line">     trust: full          validity: full</span><br><span class="line">[  full  ] (1). Werner Koch (dist signing 2020)</span><br><span class="line">Please note that the shown key validity is not necessarily correct</span><br><span class="line">unless you restart the program.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">gpg&gt; </span><span class="language-bash">save</span></span><br><span class="line">Key not changed so no update needed.</span><br><span class="line"></span><br><span class="line">âœ gpg --edit-key D8692123C4065DEA5E0F3AB5249B39D24F25E3B6</span><br><span class="line">gpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc.</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gpg: checking the trustdb</span><br><span class="line">gpg: marginals needed: 3  completes needed: 1  trust model: pgp</span><br><span class="line">gpg: depth: 0  valid:   2  signed:   2  trust: 0-, 0q, 0n, 0m, 0f, 2u</span><br><span class="line">gpg: depth: 1  valid:   2  signed:   0  trust: 0-, 1q, 0n, 0m, 1f, 0u</span><br><span class="line">gpg: next trustdb check due at 2021-12-31</span><br><span class="line">pub  rsa2048/249B39D24F25E3B6</span><br><span class="line">     created: 2011-01-12  expires: 2021-12-31  usage: SC</span><br><span class="line">     trust: undefined     validity: full</span><br><span class="line">[  full  ] (1). Werner Koch (dist sig)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">gpg&gt; </span><span class="language-bash">trust</span></span><br><span class="line">pub  rsa2048/249B39D24F25E3B6</span><br><span class="line">     created: 2011-01-12  expires: 2021-12-31  usage: SC</span><br><span class="line">     trust: undefined     validity: full</span><br><span class="line">[  full  ] (1). Werner Koch (dist sig)</span><br><span class="line"></span><br><span class="line">Please decide how far you trust this user to correctly verify other users&#x27; keys</span><br><span class="line">(by looking at passports, checking fingerprints from different sources, etc.)</span><br><span class="line"></span><br><span class="line">  1 = I don&#x27;t know or won&#x27;t say</span><br><span class="line">  2 = I do NOT trust</span><br><span class="line">  3 = I trust marginally</span><br><span class="line">  4 = I trust fully</span><br><span class="line">  5 = I trust ultimately</span><br><span class="line">  m = back to the main menu</span><br><span class="line"></span><br><span class="line">Your decision? 4</span><br><span class="line"></span><br><span class="line">pub  rsa2048/249B39D24F25E3B6</span><br><span class="line">     created: 2011-01-12  expires: 2021-12-31  usage: SC</span><br><span class="line">     trust: full          validity: full</span><br><span class="line">[  full  ] (1). Werner Koch (dist sig)</span><br><span class="line">Please note that the shown key validity is not necessarily correct</span><br><span class="line">unless you restart the program.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">gpg&gt; </span><span class="language-bash">save</span></span><br><span class="line"></span><br><span class="line">âœ gpg --verify gnupg-2.2.29.tar.bz2.sig</span><br><span class="line">gpg: assuming signed data in &#x27;gnupg-2.2.29.tar.bz2&#x27;</span><br><span class="line">gpg: Signature made Sun Jul  4 22:54:50 2021 CST</span><br><span class="line">gpg:                using EDDSA key 6DAA6E64A76D2840571B4902528897B826403ADA</span><br><span class="line">gpg: checking the trustdb</span><br><span class="line">gpg: marginals needed: 3  completes needed: 1  trust model: pgp</span><br><span class="line">gpg: depth: 0  valid:   2  signed:   2  trust: 0-, 0q, 0n, 0m, 0f, 2u</span><br><span class="line">gpg: depth: 1  valid:   2  signed:   0  trust: 0-, 0q, 0n, 0m, 2f, 0u</span><br><span class="line">gpg: next trustdb check due at 2021-12-31</span><br><span class="line">gpg: Good signature from &quot;Werner Koch (dist signing 2020)&quot; [full]</span><br></pre></td></tr></table></figure>              </div>            </details><p>æ›´å¤š GPG Key æ ¡éªŒå·¥å…·æŸ¥çœ‹ GnuPG ä¸»é¡µï¼š<a href="https://www.gnupg.org/download/index.html">https://www.gnupg.org/download/index.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Cryptography </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MD5 </tag>
            
            <tag> GPG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ osmosfeed åˆ›å»ºè‡ªå·±çš„ Web RSS é˜…è¯»å™¨</title>
      <link href="/2021/06/29/osmosfeed-rss-reader/"/>
      <url>/2021/06/29/osmosfeed-rss-reader/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>ä¹‹å‰ä¸€ç›´ç”¨ App Store ä¸Šçš„ä¸€ä¸ª RSS é˜…è¯»å™¨ RSS Reader Prime è®¢é˜…æŠ€æœ¯å‘¨åˆŠå’Œ dalao çš„æŠ€æœ¯åšå®¢ï¼Œä¸å¾—ä¸è¯´æŒºå¥½ç”¨çš„ï¼Œå¥ˆä½•å…¨çº¿ä¸‹æ¶äº†ï¼Œç°åœ¨å°±å¹³æ¿ä¸Šä¿ç•™ç€è¿™ä¸ª Appï¼Œæ‰‹æœºä¸Šæ²¡æœ‰ï¼ˆå›½åŒºå¥½ç”¨çš„ RSS é˜…è¯»å™¨åŸºæœ¬æ— äº†ï¼‰ã€‚æœ‰æ—¶å€™åˆæƒ³ç€ç”¨æ‰‹æœºè¯»è¯»æŠ€æœ¯æ–‡ç« ï¼ˆæ¿å­å¤ªå¤§ï¼Œä¸å¥½æ‹¿ï¼‰ï¼Œäºæ˜¯ä¹ç¿»äº†ä¸‹ GitHub <a href="https://github.com/topics/rss-reader">rss-reader topic</a> ä¸‹çš„ç›¸å…³é˜…è¯»å™¨é¡¹ç›®ï¼ŒæŒ‘äº†æ‰‹åŸºäº Web å’Œ GitHub Pages çš„ RSS é˜…è¯»å™¨ï¼ˆWeb æ‰æ˜¯çœŸçš„â€œè·¨ç«¯â€ï¼Œ2333~ï¼‰ï¼Œæ°´ç¯‡æ–‡ç« å¾®å¾®è®°å½•ä¸‹ã€‚</p><span id="more"></span><h2 id="ä»€ä¹ˆæ˜¯-RSS"><a href="#ä»€ä¹ˆæ˜¯-RSS" class="headerlink" title="ä»€ä¹ˆæ˜¯ RSS"></a>ä»€ä¹ˆæ˜¯ RSS</h2><blockquote><p><a href="https://baike.baidu.com/item/rss/24470">RSS</a>, Really Simple Syndication. ä¸€ç§æè¿°å’ŒåŒæ­¥ç½‘ç«™å†…å®¹çš„ XML æ ¼å¼ï¼Œä¸€èˆ¬ç½‘ç«™éƒ½ä¼šæä¾› RSSï¼Œæœ‰åˆ©äºè®©ç”¨æˆ·é€šè¿‡ <strong>RSS Feed</strong>ï¼ˆRSSæºï¼Œä¸€èˆ¬å³ä¸ºç«™ç‚¹çš„RSSåœ°å€ï¼‰ è·å–ç½‘ç«™å†…å®¹çš„æœ€æ–°æ›´æ–°ã€‚</p></blockquote><p>æ›´å¤šå…³äº RSS çš„å†…å®¹åœ¨ GitHub ä¸Šæœ‰ä¸ªåä¸º ALL-about-RSS çš„é¡¹ç›®æœ‰ä»‹ç»ã€‚</p><h2 id="ä½¿ç”¨-osmosfeed-æ­å»º-Web-based-RSS-é˜…è¯»å™¨"><a href="#ä½¿ç”¨-osmosfeed-æ­å»º-Web-based-RSS-é˜…è¯»å™¨" class="headerlink" title="ä½¿ç”¨ osmosfeed æ­å»º Web-based RSS é˜…è¯»å™¨"></a>ä½¿ç”¨ osmosfeed æ­å»º Web-based RSS é˜…è¯»å™¨</h2><p>osmosfeed æ˜¯ GitHub ä¸Šå¼€æºçš„ä¸€ä¸ª RSS Web ç‰ˆé˜…è¯»å™¨ï¼Œå¯ä»¥ä½¿ç”¨ GitHub Pages æ‰˜ç®¡ï¼Œä¸»é¢˜å¯è‡ªå®šä¹‰ã€‚</p><p>1ã€é¦–å…ˆæ ¹æ® osmosfeed çš„æ¨¡æ¿ä»“ <a href="https://github.com/osmoscraft/osmosfeed-template">osmosfeed-template</a> æ–°å»ºä¸ªäººä»“åº“ã€‚</p><blockquote><p>æˆ³æ­¤é“¾æ¥ä½¿ç”¨æ¨¡æ¿ä»“åº“ï¼š<a href="https://github.com/osmoscraft/osmosfeed-template/generate">https://github.com/osmoscraft/osmosfeed-template/generate</a></p></blockquote><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/mypic/20210629211254.png' data-fancybox='default' data-caption='é€šè¿‡æ¨¡æ¿åº“æ–°å»ºä¸ªäººå…¬å…±ä»“åº“'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210629211254.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210629211254.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="é€šè¿‡æ¨¡æ¿åº“æ–°å»ºä¸ªäººå…¬å…±ä»“åº“"></a><span class='image-caption'>é€šè¿‡æ¨¡æ¿åº“æ–°å»ºä¸ªäººå…¬å…±ä»“åº“</span></div></div><p>2ã€ä»“åº“å»ºå¥½åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨è§¦å‘ RSS Web Reader æ„å»ºçš„ action<a href="https://github.com/yeshan333/osmosfeed-rss-reader/blob/main/.github/workflows/update-feed.yaml"><code>Build site on schedule or main branch update</code></a>ï¼Œæ„å»ºäº§ç‰©å°†ä¼šè¢«æ¨é€åˆ°ä»“åº“çš„ gh-pages åˆ†æ”¯ã€‚</p><p>3ã€æœ€è¿‘ GitHub æ›´æ–°äº†æ³¢ï¼ŒGitHub Pages çš„å¼€å¯æœ‰äº†æ–°çš„é€‰é¡¹å¡ï¼Œä»“åº“é¡¶éƒ¨ <code>Settings</code> -&gt; å·¦ä¾§è¾¹æ  <code>Pages</code>ï¼Œè°ƒæ•´å‘å¸ƒæºåˆ†æ”¯<em>gh-pages</em>ï¼Œåæ‰‹ä¸€ä¸ª Save å°±å¥½äº†ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/mypic/20210629212354.png' data-fancybox='default' data-caption='å¼€å¯ä»“åº“ Pagesï¼Œæºåˆ†æ”¯ä¸º gh-pages'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210629212354.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210629212354.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¼€å¯ä»“åº“ Pagesï¼Œæºåˆ†æ”¯ä¸º gh-pages"></a><span class='image-caption'>å¼€å¯ä»“åº“ Pagesï¼Œæºåˆ†æ”¯ä¸º gh-pages</span></div></div><p>4ã€è®¢é˜…æºå¯ç›´æ¥ç¼–è¾‘æ ¹ç›®å½•ä¸‹çš„ <a href="https://github.com/yeshan333/osmosfeed-rss-reader/blob/main/osmosfeed.yaml">osmosfeed.yaml</a> æ–‡ä»¶ï¼Œåæ‰‹æŠŠè‡ªå·±åšå®¢è®¢é˜…ä¸ŠğŸ‘»ğŸ˜ã€‚preview: <a href="https://shansan.top/osmosfeed-rss-reader/">https://shansan.top/osmosfeed-rss-reader/</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cacheUrl: https://GITHUB_USERNAME.github.io/REPO_NAME/cache.json</span></span><br><span class="line"><span class="attr">sources:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">href:</span> <span class="string">https://github.com/osmoscraft/osmosfeed/releases.atom</span> <span class="comment"># Get new feature announcement via this feed</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">href:</span> <span class="string">https://shansan.top/rss2.xml</span></span><br></pre></td></tr></table></figure><p>action åœ¨æ²¡æœ‰å¯¹ä»“åº“ main åˆ†æ”¯å˜åŠ¨çš„æƒ…å†µä¸‹ï¼Œä¼šæ¯å¤©è‡ªåŠ¨è§¦å‘ä¸€æ¬¡ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/mypic/20210629214608.png' data-fancybox='default' data-caption='action schedule, crontab.guru'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210629214608.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210629214608.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="action schedule, crontab.guru"></a><span class='image-caption'>action schedule, crontab.guru</span></div></div><p>æ›´å¤šæ“ä½œå¯å‚è€ƒ osmosfeed é¡¹ç›®çš„ READMEï¼š<a href="https://github.com/osmoscraft/osmosfeed">https://github.com/osmoscraft/osmosfeed</a></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
          <category> RSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RSS Reader </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾ Cauchy é—®é¢˜çš„ä¸€äº›ç¬”è®°</title>
      <link href="/2021/05/16/heat-conduction-equation/"/>
      <url>/2021/05/16/heat-conduction-equation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>æ¯•è®¾å·¥ä½œå³å°†ç»“æŸä¹‹é™…ï¼Œé™„ä¸Šä¸€ä»½ç¬”è®°åˆ°åšå®¢-æ•°å­¦ç‰©ç†æ–¹ç¨‹-çƒ­ä¼ å¯¼æ–¹ç¨‹.</p><span id="more"></span><h2 id="åé—®é¢˜ä¸ä¸é€‚å®šé—®é¢˜"><a href="#åé—®é¢˜ä¸ä¸é€‚å®šé—®é¢˜" class="headerlink" title="åé—®é¢˜ä¸ä¸é€‚å®šé—®é¢˜"></a>åé—®é¢˜ä¸ä¸é€‚å®šé—®é¢˜</h2><h3 id="åé—®é¢˜æè¿°"><a href="#åé—®é¢˜æè¿°" class="headerlink" title="åé—®é¢˜æè¿°"></a>åé—®é¢˜æè¿°</h3><div class="note quote"><p>note quote ä¸€å¯¹é—®é¢˜ç§°ä¸ºæ˜¯äº’é€†çš„</p></div><h3 id="ä¸é€‚å®šé—®é¢˜çš„ä¸‰ä¸ªåˆ¤æ–­æ ‡å‡†"><a href="#ä¸é€‚å®šé—®é¢˜çš„ä¸‰ä¸ªåˆ¤æ–­æ ‡å‡†" class="headerlink" title="ä¸é€‚å®šé—®é¢˜çš„ä¸‰ä¸ªåˆ¤æ–­æ ‡å‡†"></a>ä¸é€‚å®šé—®é¢˜çš„ä¸‰ä¸ªåˆ¤æ–­æ ‡å‡†</h3><ul><li>é—®é¢˜çš„è§£æ˜¯å­˜åœ¨çš„ï¼›</li><li>é—®é¢˜çš„è§£æ˜¯å”¯ä¸€çš„ï¼›</li><li>é—®é¢˜çš„è§£æ˜¯ç¨³å®šçš„ï¼›</li></ul><blockquote><p>è¯¥æ¦‚å¿µç”±ç°æ³•å›½ç§‘å­¦é™¢é™¢å£« <a href="https://doi.org/10.1063/1.3061337">J.Hadamard</a> åœ¨è€¶é²å¤§å­¦æå‡º. é€‚å®šï¼ˆwell-posedï¼‰é—®é¢˜ &amp; ä¸é€‚å®šï¼ˆill-posedï¼‰é—®é¢˜.</p></blockquote><p>$$ Ax=y, A: X \rightarrow Y çš„çº¿æ€§ç´§ç®—å­ $$</p><p>1ã€è§£çš„å­˜åœ¨æ€§ï¼š$ \forall y \in Y, \exist x \in X, $ ä½¿å¾— $ Ax=y. $<br>2ã€è§£çš„å”¯ä¸€æ€§ï¼š$ \forall y_1, y_2 \in Y, y_1 \neq y_2, $ æœ‰ $ Ax_1=y_1, Ax_2=y_2, $ ä½¿å¾— $ x_1 \neq x_2. $<br>3ã€è§£çš„ç¨³å®šæ€§ï¼ˆå³è§£çš„è¿ç»­æ€§ï¼‰ï¼šè‹¥æœ‰ $ Ax_1=y_1, Ax_2=y_2, $ åˆ™å½“ $ y_1 \rightarrow y_2 $ æ—¶, ä½¿å¾— $ x_1 \rightarrow x_2. $</p><div class="note info"><p>note info å½“å®šè§£æ¡ä»¶ï¼ˆåˆå€¼æ¡ä»¶ï¼Œè¾¹ç•Œæ¡ä»¶ï¼‰ä»¥åŠæ–¹ç¨‹ä¸­çš„ç³»æ•°æœ‰å¾®å°å˜åŠ¨æ—¶ï¼Œç›¸åº”çš„è§£ä¹Ÿåªæœ‰å¾®å°å˜åŠ¨. <strong>è§£çš„ç¨³å®šæ€§ä¹Ÿç§°ä¸ºè§£å…³äºå‚æ•°çš„è¿ç»­ä¾èµ–æ€§</strong>.</p></div><h2 id="å¾®åˆ†æ–¹ç¨‹"><a href="#å¾®åˆ†æ–¹ç¨‹" class="headerlink" title="å¾®åˆ†æ–¹ç¨‹"></a>å¾®åˆ†æ–¹ç¨‹</h2><blockquote><p>å¾®åˆ†æ–¹ç¨‹ï¼šåŒ…å«å¯¼æ•°çš„æ–¹ç¨‹ï¼Œå¸¸ç”¨äºæè¿°ç°å®äº‹ç‰©çš„å˜åŒ–. å¾®ç§¯åˆ†å­¦æ˜¯ä¸€é—¨ç ”ç©¶å˜åŒ–çš„å­¦é—®. å¾®åˆ†åº”ç”¨åŒ…æ‹¬å¯¹é€Ÿåº¦ã€åŠ é€Ÿåº¦ã€æ›²çº¿æ–œç‡ã€æœ€ä¼˜åŒ–ç­‰çš„è®¡ç®—.</p></blockquote><ul><li>å¾®åˆ†æ–¹ç¨‹çš„å®šè§£æ¡ä»¶ï¼šå³åˆå€¼æ¡ä»¶å’Œè¾¹ç•Œæ¡ä»¶ï¼›</li><li>ä¸‰ç±»è¾¹ç•Œæ¡ä»¶<ul><li>ç¬¬ä¸€ç±»ï¼šç‹„åˆ©å…‹é›·è¾¹ç•Œæ¡ä»¶ï¼ˆDirichlet boundary conditionï¼‰ä¹Ÿè¢«ç§°ä¸ºå¸¸å¾®åˆ†æ–¹ç¨‹æˆ–åå¾®åˆ†æ–¹ç¨‹çš„â€œç¬¬ä¸€ç±»è¾¹ç•Œæ¡ä»¶â€ï¼ŒæŒ‡å®šå¾®åˆ†æ–¹ç¨‹çš„è§£åœ¨è¾¹ç•Œå¤„çš„å€¼. æ±‚å‡ºè¿™æ ·çš„æ–¹ç¨‹çš„è§£çš„é—®é¢˜è¢«ç§°ä¸ºç‹„åˆ©å…‹é›·é—®é¢˜.</li><li>ç¬¬äºŒç±»ï¼šè¯ºä¼Šæ›¼è¾¹ç•Œæ¡ä»¶ï¼ˆNeumann boundary condition) ä¹Ÿè¢«ç§°ä¸ºå¸¸å¾®åˆ†æ–¹ç¨‹æˆ–åå¾®åˆ†æ–¹ç¨‹çš„â€œç¬¬äºŒç±»è¾¹ç•Œæ¡ä»¶â€. è¯ºä¼Šæ›¼è¾¹ç•Œæ¡ä»¶æŒ‡å®šäº†å¾®åˆ†æ–¹ç¨‹çš„è§£åœ¨è¾¹ç•Œå¤„çš„å¾®åˆ†.</li><li>ç¬¬ä¸‰ç±»ï¼šRobbinæ¡ä»¶/æ··åˆè¾¹ç•Œæ¡ä»¶ï¼ŒæœªçŸ¥å‡½æ•°åœ¨è¾¹ç•Œä¸Šçš„å‡½æ•°å€¼å’Œå¤–æ³•å‘å¯¼æ•°çš„çº¿æ€§ç»„åˆ.</li></ul></li><li>åå¾®åˆ†æ–¹ç¨‹ä¸‰å¤§é—®é¢˜<ul><li>åˆè¾¹å€¼é—®é¢˜æˆ–æ··åˆé—®é¢˜ï¼šåå¾®åˆ†æ–¹ç¨‹ + åˆå€¼æ¡ä»¶ + è¾¹ç•Œæ¡ä»¶ï¼›</li><li>åˆå€¼é—®é¢˜æˆ– Cauchy é—®é¢˜ï¼šåå¾®åˆ†æ–¹ç¨‹ + åˆå€¼æ¡ä»¶ï¼›</li><li>è¾¹å€¼é—®é¢˜ï¼šåå¾®åˆ†æ–¹ç¨‹ + è¾¹ç•Œæ¡ä»¶ï¼›</li></ul></li><li>æ–¹ç¨‹å¼ä¸æ–¹ç¨‹ç»„<ul><li>æ–¹ç¨‹å¼ï¼šæ–¹ç¨‹ä¸ªæ•°ä¸º 1ï¼›</li><li>æ–¹ç¨‹ç»„ï¼šæ–¹ç¨‹ä¸ªæ•°å¤§äº 1ï¼›</li></ul></li><li>æ¬ å®šä¸è¶…å®š<ul><li>æ¬ å®šï¼šæ–¹ç¨‹ä¸ªæ•°å°‘äºæœªçŸ¥å‡½æ•°ä¸ªæ•°ï¼›</li><li>è¶…å®šï¼šæ–¹ç¨‹ä¸ªæ•°å¤šäºæœªçŸ¥å‡½æ•°ä¸ªæ•°ï¼›</li></ul></li><li>æ–¹ç¨‹ï¼ˆç»„ï¼‰ä¸­å‡ºç°çš„æœªçŸ¥å‡½æ•°çš„æœ€é«˜é˜¶åå¯¼æ•°çš„é˜¶æ•°ç§°ä¸ºæ–¹ç¨‹ï¼ˆç»„ï¼‰çš„é˜¶æ•°.</li></ul><h3 id="æ•°å­¦ç‰©ç†å¾®åˆ†æ–¹ç¨‹åé—®é¢˜çš„åˆ†ç±»"><a href="#æ•°å­¦ç‰©ç†å¾®åˆ†æ–¹ç¨‹åé—®é¢˜çš„åˆ†ç±»" class="headerlink" title="æ•°å­¦ç‰©ç†å¾®åˆ†æ–¹ç¨‹åé—®é¢˜çš„åˆ†ç±»"></a>æ•°å­¦ç‰©ç†å¾®åˆ†æ–¹ç¨‹åé—®é¢˜çš„åˆ†ç±»</h3><p>æ–‡çŒ®<a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CMFD&dbname=CMFD2012&filename=1011261245.nh&v=joX1pOpPDKFRDYlQC3pl9eAy%25mmd2FFR6JQF03PRrUGgLtqHWDNOAV1MZLVHJTWP8lvee">[1]</a>æ ¹æ®ä»¥ä¸‹ä¸€èˆ¬å½¢å¼çš„å¾®åˆ†æ–¹ç¨‹ç»„ï¼Œç»™å‡ºäº†æ•°å­¦ç‰©ç†åé—®é¢˜çš„äº”å¤§åˆ†ç±».</p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210516235852.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210516235852.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="usual formula"></p><!--$$ \begin{align*}& å¾®åˆ†æ–¹ç¨‹ï¼šLu(x,t)=f(x,t), x \in \Omega, t \in  (0, \infty) \\& åˆå€¼æ¡ä»¶ï¼š Iu(x,t)=\varphi(x), x \in \Omega, t=0 \\& è¾¹ç•Œæ¡ä»¶ï¼š Bu(x,t)=\psi(x,t), x \in \partial \Omega \\& é™„åŠ æ¡ä»¶ï¼š Au(x,t)=k(x,t), x \in \partial \Omega^{\prime}\end{align*}$$--><p>å…¶ä¸­ $ u(x,t) $ ä¸ºå¾®åˆ†æ–¹ç¨‹ç»„çš„è§£ï¼›$ L, I, B, A $ åˆ†åˆ«æ˜¯å¾®åˆ†ç®—å­ï¼Œåˆå§‹ç®—å­ï¼Œè¾¹ç•Œç®—å­å’Œé™„åŠ ç®—å­. $ \Omega $ ä¸ºæ±‚è§£åŒºåŸŸï¼Œ$ \partial \Omega $ ä¸ºæ±‚è§£åŒºåŸŸçš„è¾¹ç•Œ. $ \partial \Omega^{\prime} $ ä¸º $ \Omega $ çš„ä¸€éƒ¨åˆ†. $ f(x,t) $ ä¸ºæ–¹ç¨‹çš„å³ç«¯é¡¹ï¼Œ$ \varphi(x), \psi(x,t), k(x,t) $ åˆ†åˆ«ä¸ºåˆå§‹æ¡ä»¶ã€è¾¹ç•Œæ¡ä»¶å’Œé™„åŠ æ¡ä»¶. ä¸Šè¿°ä»»ä¸€å·²é‡å˜ä¸ºæœªçŸ¥é‡ï¼Œå³ä¸ºå¾®åˆ†æ–¹ç¨‹åé—®é¢˜.</p><ul><li>å‚æ•°è¯†åˆ«é—®é¢˜ï¼šç®—å­ $ L $ æœªçŸ¥ï¼ˆé€šå¸¸ $ L $ çš„ç»“æ„æ˜¯å·²çŸ¥çš„ï¼ŒæœªçŸ¥çš„ä¸ºç®—å­ä¸­çš„å‚æ•°ï¼‰ï¼›</li><li>å¯»æºåé—®é¢˜ï¼šå³ç«¯æ–¹ç¨‹æºé¡¹ $ f(x,t) $ æœªçŸ¥ï¼›</li><li>é€†æ—¶åé—®é¢˜ï¼š$ \varphi(x) $ æ¡ä»¶æœªçŸ¥æ—¶ï¼Œé™„åŠ æ¡ä»¶ä¸ºç³»ç»ŸæŸä¸€æ—¶åˆ»çš„çŠ¶æ€ï¼Œè¯¥åé—®é¢˜ä»åé¢çš„çŠ¶æ€å»ç¡®å®šåˆå§‹çŠ¶æ€ï¼›</li><li>è¾¹ç•Œæ§åˆ¶é—®é¢˜ï¼šè¾¹ç•Œæ¡ä»¶ $ \psi(x,t) $ æœªçŸ¥ï¼›</li><li>å‡ ä½•åé—®é¢˜ï¼šåŒºåŸŸè¾¹ç•Œ $ \partial \Omega $ æœªçŸ¥ï¼›</li></ul><p>åé—®é¢˜é€šå¸¸æ˜¯ä¸é€‚å®šçš„ï¼Œå³åˆå§‹æ¡ä»¶ä¸Šçš„ä¸€ä¸ªå¾®å°çš„æ‰°åŠ¨ï¼Œå°†å¯¼è‡´ç»“æœçš„å·¨å¤§å˜åŒ–. å…‹æœåé—®é¢˜ä¸é€‚å®šæ€§æ˜¯æ¯”è¾ƒæ£˜æ‰‹çš„ï¼Œè¿™ä¹Ÿæ˜¯åé—®é¢˜ç ”ç©¶çš„é‡è¦è¯¾é¢˜.</p><p>éšæœºå¾®åˆ†æ–¹ç¨‹è§£çš„çˆ†ç ´ï¼šåœ¨å¤§å¤šæ•°æ—¶é—´é‡Œï¼Œè§£æ˜¯æœ‰è§£çš„ã€‚ä½†å­˜åœ¨æŸä¸€æ—¶é—´ç‚¹ï¼Œè§£è¶‹äº $ \infty $.</p><p>ä»»ä½•ä¸€ä¸ªç‰©ç†ç°è±¡éƒ½æ˜¯å¤„åœ¨ç‰¹å®šæ¡ä»¶ä¸‹çš„.</p><details green open><summary> å…³äºåé—®é¢˜çš„æ›´å¤šæè¿° </summary>              <div class='content'>              <p>å…³äºåé—®é¢˜çš„ä¸€ä¸ªæ¯”è¾ƒé€‚ç”¨çš„æ•°å­¦å®šä¹‰æ˜¯â€œç”±å®šè§£é—®é¢˜çš„è§£çš„éƒ¨åˆ†ä¿¡æ¯å»æ±‚å®šè§£é—®é¢˜ä¸­çš„æœªçŸ¥æˆåˆ†â€. æœ‰æ•ˆåé—®é¢˜çš„æ•°å€¼ç®—æ³•ä»¥æ­£é—®é¢˜çš„é«˜ç²¾åº¦è§£æ³•ä¸ºåŸºç¡€.</p><p>åé—®é¢˜çš„ä¸é€‚å®šæ€§ä¸»è¦è¡¨ç°åœ¨ä¸¤ä¸ªæ–¹é¢: ä¸€æ–¹é¢ï¼Œç”±äºå®¢è§‚æ¡ä»¶é™åˆ¶çš„è¾“å…¥æ•°æ®(å³ç»™å®šçš„è§£çš„éƒ¨åˆ†å·²çŸ¥ä¿¡æ¯)å¾€å¾€æ˜¯æ¬ å®šçš„æˆ–è€…æ˜¯è¶…å®šçš„ï¼Œè¿™å°±å¯¼è‡´è§£çš„ä¸å”¯ä¸€æ€§æˆ–è€…æ˜¯è§£çš„ä¸å­˜åœ¨æ€§; å¦ä¸€æ–¹é¢ï¼Œåé—®é¢˜çš„è§£å¯¹è¾“å…¥æ•°æ®å¾€å¾€ä¸å…·æœ‰è¿ç»­ä¾èµ–æ€§ã€‚ç”±äºè¾“å…¥æ•°æ®ä¸­ä¸å¯é¿å…çš„æµ‹é‡è¯¯å·®ï¼Œäººä»¬å°±å¿…é¡»æå‡ºç”±æ‰°åŠ¨æ•°æ®æ±‚åé—®é¢˜åœ¨ä¸€å®šæ„ä¹‰ä¸‹è¿‘ä¼¼è§£çš„ç¨³å®šçš„æ–¹æ³•. å› æ­¤ï¼Œåé—®é¢˜å’Œä¸é€‚å®šé—®é¢˜æ˜¯ç´§å¯†è”ç³»åœ¨ä¸€èµ·çš„.</p><p>å®šè§£æ¡ä»¶éƒ½æ˜¯é€šè¿‡æµ‹é‡å’Œç»Ÿè®¡è€Œå¾—åˆ°çš„ï¼Œåœ¨æµ‹é‡å’Œç»Ÿè®¡çš„è¿‡ç¨‹ä¸­è¯¯å·®æ€»æ˜¯éš¾å…çš„ï¼ŒåŒæ—¶åœ¨å»ºç«‹æ•°å­¦æ¨¡å‹çš„è¿‡ç¨‹ä¸­ä¹Ÿå¤šæ¬¡ç”¨äº†è¿‘ä¼¼. å¦‚æœè§£çš„ç¨³å®šæ€§ä¸æˆç«‹ï¼Œé‚£ä¹ˆæ‰€å»ºç«‹çš„å®šè§£é—®é¢˜å°±å¤±å»äº†å®é™…æ„ä¹‰. å¦‚æœä¸€ä¸ªå®šè§£é—®é¢˜çš„é€‚å®šæ€§ä¸æˆç«‹ï¼Œå°±è¦å¯¹å®šè§£é—®é¢˜ä½œè¿›ä¸€æ­¥åœ°ä¿®æ”¹ï¼Œç›´åˆ°å®ƒå…·æœ‰é€‚å®šæ€§[3].</p>              </div>            </details><h2 id="çƒ­ä¼ å¯¼æ–¹ç¨‹"><a href="#çƒ­ä¼ å¯¼æ–¹ç¨‹" class="headerlink" title="çƒ­ä¼ å¯¼æ–¹ç¨‹"></a>çƒ­ä¼ å¯¼æ–¹ç¨‹</h2><blockquote><p>Direct heat conduction problems (DHCPs) ç›´æ¥çƒ­ä¼ å¯¼é—®é¢˜, Inverse heat conduction problem (IHCPs) é€†çƒ­ä¼ å¯¼é—®é¢˜</p></blockquote><h3 id="çƒ­ä¼ å¯¼æ­£-åé—®é¢˜"><a href="#çƒ­ä¼ å¯¼æ­£-åé—®é¢˜" class="headerlink" title="çƒ­ä¼ å¯¼æ­£/åé—®é¢˜"></a>çƒ­ä¼ å¯¼æ­£/åé—®é¢˜</h3><ul><li>çƒ­ä¼ å¯¼åé—®é¢˜ï¼šåœ¨çƒ­äº¤æ¢æƒ…å½¢ä¸‹ï¼Œé€šè¿‡ç ”ç©¶ç‰©ä½“å†…éƒ¨æˆ–è¾¹ç•Œçš„ä¸€ç‚¹æˆ–å¤šç‚¹æ¸©åº¦åˆ†å¸ƒä¿¡æ¯æ¥åæ¼”çƒ­æºé¡¹ã€åˆå§‹æ¡ä»¶ã€è¾¹ç•Œæ¡ä»¶ã€ç‰©ç†çš„å‡ ä½•æ¡ä»¶ç­‰æœªçŸ¥é‡.</li><li>çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾ Cauchy é—®é¢˜çš„[4]ï¼šå…¸å‹çš„çƒ­ä¼ å¯¼æ–¹ç¨‹çš„éç‰¹å¾Cauchyé—®é¢˜æ˜¯é€šè¿‡ä¸€éƒ¨åˆ†è¾¹ç•Œä¸Šçš„æˆ–è€…å†…éƒ¨çš„æ•°æ®æ¥åˆ¤å®šå¦ä¸€éƒ¨åˆ†è¾¹ç•Œçš„çƒ­æµ.</li></ul><h3 id="ä¸€ç»´çƒ­ä¼ å¯¼æ–¹ç¨‹åˆè¾¹å€¼é—®é¢˜"><a href="#ä¸€ç»´çƒ­ä¼ å¯¼æ–¹ç¨‹åˆè¾¹å€¼é—®é¢˜" class="headerlink" title="ä¸€ç»´çƒ­ä¼ å¯¼æ–¹ç¨‹åˆè¾¹å€¼é—®é¢˜"></a>ä¸€ç»´çƒ­ä¼ å¯¼æ–¹ç¨‹åˆè¾¹å€¼é—®é¢˜</h3><p>æœ‰é™åŸŸä¸Šè¾¹ç•Œæ¡ä»¶ä¸ºç¬¬ä¸€ç±» Dirichlet è¾¹ç•Œæ¡ä»¶çš„æ•°å­¦æ¨¡å‹ï¼š</p><!--$$\left\{\begin{aligned}u_t(x,t) & = a^2u_{xx}, \quad (x,t) \in (0,1) \times (0,T)\\u(x,0) & = g(x), \quad \quad \quad x \in [0,1] \\u(0,t) & = f_1(t), \quad \quad \quad t \in [0,T] \\u(1,t) & = f_2(t), \quad \quad \quad t \in [0,T]\end{aligned}\right.$$--><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210517000025.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210517000025.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="1D heat conduction equation"><br>æ±‚è§£åŒºåŸŸï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210516203140.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210516203140.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="solution area"></p><h2 id="å¤„ç†çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾-Cauchy-é—®é¢˜çš„ç›¸å…³æ–¹æ³•"><a href="#å¤„ç†çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾-Cauchy-é—®é¢˜çš„ç›¸å…³æ–¹æ³•" class="headerlink" title="å¤„ç†çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾ Cauchy é—®é¢˜çš„ç›¸å…³æ–¹æ³•"></a>å¤„ç†çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾ Cauchy é—®é¢˜çš„ç›¸å…³æ–¹æ³•</h2><h3 id="åŸºæœ¬è§£æ–¹æ³•"><a href="#åŸºæœ¬è§£æ–¹æ³•" class="headerlink" title="åŸºæœ¬è§£æ–¹æ³•"></a>åŸºæœ¬è§£æ–¹æ³•</h3><p>åŸºæœ¬è§£æ–¹æ³•ï¼ˆthe method of fundamental solutions, MFSï¼‰ä½¿ç”¨å¾®åˆ†ç®—å­çš„åŸºæœ¬è§£å»è¿‘ä¼¼æ•°å€¼è§£.</p><p>çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾ Cauchy é—®é¢˜ä½¿ç”¨åŸºæœ¬è§£æ–¹æ±‚è§£æ—¶ï¼Œæ•°å€¼è¿‘ä¼¼è§£ç”±ä»¥ä¸‹åŸºæœ¬è§£çš„çº¿æ€§ç»„åˆå¾—åˆ°[5]ï¼š</p><p>$$<br>\begin{array}{c}<br>\tilde{u}(x) = \sum_{i = 1}^{N} a_{i} u^{*}\left(x-\mu_{i}\right)<br>\end{array}<br>$$</p><p>å¾…å®šç³»æ•° $ a_{i} $ é€šè¿‡å¯¹æ±‚è§£åŒºåŸŸè¾¹ç•Œå’Œè™šè¾¹ç•Œè¿›è¡Œé…ç½®ç‚¹é…ç½®å¾—åˆ°. åŸºæœ¬è§£æ–¹æ³•æ˜¯ä¸€ç§æ— ç½‘æ ¼çš„å¾„å‘åŸºå‡½æ•°ç±»æ–¹æ³•.</p><p>å›  Cauchy é—®é¢˜çš„ä¸é€‚å®šæ€§ï¼ŒåŸºæœ¬è§£æ–¹æ³•æ‰€å¾—åˆ°çš„çº¿æ€§ç³»ç»Ÿæ˜¯é«˜åº¦ç—…æ€çš„ï¼Œå¸¸è§„æ–¹æ³•æ±‚è§£å·²æ²¡æœ‰æ„ä¹‰. éœ€è¦ä½¿ç”¨æ­£åˆ™åŒ–æ–¹æ³•å¤„ç†çº¿æ€§ç³»ç»Ÿçš„ç—…æ€æ€§.</p><h3 id="æ­£åˆ™åŒ–æ–¹æ³•"><a href="#æ­£åˆ™åŒ–æ–¹æ³•" class="headerlink" title="æ­£åˆ™åŒ–æ–¹æ³•"></a>æ­£åˆ™åŒ–æ–¹æ³•</h3><blockquote><p>æ­£åˆ™åŒ–æ–¹æ³•æ±‚è§£ä¸é€‚å®šé—®é¢˜çš„æœ¬è´¨æ˜¯, å¯¹é—®é¢˜çš„è§£è¿›è¡Œä¸€å®šçš„é™åˆ¶, è€ƒè™‘ä¸€ä¸ªè¿‘ä¼¼çš„é€‚å®šé—®é¢˜æ¥ä¿è¯åŸé—®é¢˜è¿‘ä¼¼è§£çš„ç¨³å®šæ€§.</p></blockquote><ul><li>Tikhonov æ­£åˆ™åŒ–æ–¹æ³•</li></ul><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210517000100.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210517000100.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Tikhonov Regulation Method"></p><p>æ­£åˆ™åŒ–å‚æ•° $ \alpha  $ çš„é€‰å–.</p><ul><li>ç¡®å®šå¼æ–¹æ³•<ul><li>åå·®åŸåˆ™</li><li>æ‹Ÿæœ€ä¼˜æ–¹æ³•</li></ul></li><li>å¯å‘å¼æ–¹æ³•<ul><li>å¹¿ä¹‰äº¤å‰æ ¸å¼</li><li>L-æ›²çº¿æ³•åˆ™</li></ul></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li>[1] å¼ æ™ºå€. çƒ­ä¼ å¯¼æ–¹ç¨‹åé—®é¢˜çš„è‹¥å¹²æ–¹æ³•ç ”ç©¶[D]. å“ˆå°”æ»¨: å“ˆå°”æ»¨å·¥ä¸šå¤§å­¦, 2010.</li><li>[2] è‡§é¡ºå…¨. çƒ­ä¼ å¯¼æ–¹ç¨‹æ­£é—®é¢˜å’Œåé—®é¢˜çš„æ•°å€¼è§£ç ”ç©¶[D]. è¥¿å®‰: è¥¿å®‰ç†å·¥å¤§å­¦, 2019.</li><li>[3] ç‹æ˜æ–°. æ•°å­¦ç‰©ç†æ–¹ç¨‹[M]. æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾, 2005: 1-171.</li><li>[4] è´¾ç°æ­£. çƒ­ä¼ å¯¼æ–¹ç¨‹ä¸­çš„è‹¥å¹²åé—®é¢˜[D]. ä¸Šæµ·: å¤æ—¦å¤§å­¦, 2005.</li><li>[5] é‡‘é‚¦æ¢¯. ä¸€ç±»æ¤­åœ†å‹åå¾®åˆ†æ–¹ç¨‹åé—®é¢˜çš„æ— ç½‘æ ¼æ–¹æ³•[D]. æ­å·: æµ™æ±Ÿå¤§å­¦, 2005.</li></ul>]]></content>
      
      
      <categories>
          
          <category> math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®€å•äº†è§£æ³¢ Mono-repo &amp; Multi-repoï¼ˆPoly-repoï¼‰</title>
      <link href="/2021/04/30/term-monorepo-multirepo/"/>
      <url>/2021/04/30/term-monorepo-multirepo/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>Mono-repo å’Œ Multi-repo æ˜¯è½¯ä»¶å¼€å‘ä¸­ä»£ç ç®¡ç†çš„ä¸¤ä¸ªä¸åŒç­–ç•¥ã€‚Mono-repo &amp; Multi-repo å­°ä¼˜å­°åŠ£æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆå¾—è¯é¢˜äº†ï¼Œè¿™é‡Œå°±ä¸ <a href="https://hackernoon.com/mono-repo-vs-multi-repo-vs-hybrid-whats-the-right-approach-dv1a3ugn">PK</a> äº†ï¼Œâ€œç•¥å¾®â€çœ‹ä¸‹ä¸¤è€…åŒºåˆ«ã€‚</p><p>å½“æˆ‘ä»¬ä½¿ç”¨ Git ä½œä¸ºç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†é¡¹ç›®çš„ä»£ç æ—¶ï¼Œé‚£ä¹ˆ monorepo ä¸ multirepo çš„å®šä¹‰è¡¨è¿°å¦‚ä¸‹ï¼š</p><ul><li>monorepoï¼Œä½¿ç”¨ä¸€ä¸ª Git ä»“åº“ç®¡ç†é¡¹ç›®ç›¸å…³çš„å¤šä¸ª æ¨¡å—/åŒ…/åŠŸèƒ½/åº”ç”¨ã€‚</li><li>multirepoï¼ˆåˆç§°ä¸º polyrepoï¼‰ï¼Œä½¿ç”¨å¤šä¸ª Git ä»“åº“åˆ†åˆ«ç®¡ç†é¡¹ç›®çš„æ¯ä¸€ä¸ª æ¨¡å—/åŒ…/åŠŸèƒ½/åº”ç”¨ã€‚</li></ul><span id="more"></span><h2 id="Monorepo-çš„åº”ç”¨å®ä¾‹"><a href="#Monorepo-çš„åº”ç”¨å®ä¾‹" class="headerlink" title="Monorepo çš„åº”ç”¨å®ä¾‹"></a>Monorepo çš„åº”ç”¨å®ä¾‹</h2><p>GitHub æœ‰å¾ˆå¤šçš„ä½¿ç”¨ Monorepo é£æ ¼ç®¡ç†ä»£ç çš„å¼€æºé¡¹ç›®ï¼Œæ¯”å¦‚å¤§åé¼é¼çš„ Babelï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹å›¾ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501015251.png' data-fancybox='default' data-caption='Babel GitHub Repo'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501015251.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501015251.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Babel GitHub Repo"></a><span class='image-caption'>Babel GitHub Repo</span></div></div><p>packages ç›®å½•ä¸‹å­˜æ”¾äº†å¾ˆå¤šä¸ª Babel ç›¸å…³çš„å­é¡¹ç›®ã€‚</p><p><a href="https://github.com/paul-hammant/googles-monorepo-demo">googles-monorepo-demo</a>ç»™å‡ºäº†ä¸€ä¸ªåŸºäº Maven æ„å»ºå·¥å…·çš„ Google é£æ ¼çš„ Monorepo é¡¹ç›®ã€‚</p><p>è¿˜æœ‰å¤§ä½¬ç»™å‡ºäº†æœ‰ CI/CD pipeline åŸºäº Java, Maven, GitHub Actions çš„ Demo ğŸ‘‰ <a href="https://github.com/kgunnerud/monorepo-maven-example">monorepo-maven-example</a>ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501021345.png' data-fancybox='default' data-caption='monorepo-maven-example-with-github-actions'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501021345.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501021345.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="monorepo-maven-example-with-github-actions"></a><span class='image-caption'>monorepo-maven-example-with-github-actions</span></div></div><h3 id="ä½¿ç”¨å·¥å…·å¿«é€Ÿæ­å»º-Monorepo-é£æ ¼çš„é¡¹ç›®"><a href="#ä½¿ç”¨å·¥å…·å¿«é€Ÿæ­å»º-Monorepo-é£æ ¼çš„é¡¹ç›®" class="headerlink" title="ä½¿ç”¨å·¥å…·å¿«é€Ÿæ­å»º Monorepo é£æ ¼çš„é¡¹ç›®"></a>ä½¿ç”¨å·¥å…·å¿«é€Ÿæ­å»º Monorepo é£æ ¼çš„é¡¹ç›®</h3><p>ç°ä»Šï¼Œæœ‰è®¸å¤šå¯ä»¥åˆ›å»º Monorepo é£æ ¼é¡¹ç›®çš„å·¥å…·ï¼Œåœ¨å‰ç«¯ç¤¾åŒºæœ‰ Lernaã€Nxã€Rush Stackã€Yarn Workspaces ç­‰ï¼Œè¿˜æœ‰è®¸å¤šå…¶å®ƒçš„æ„å»ºå·¥å…·å¯ä»¥ç”¨äºåˆ›å»º Monorepo é£æ ¼çš„é¡¹ç›®ï¼Œè§é¡¹ç›® -&gt; <a href="https://github.com/korfuri/awesome-monorepo#build-systems--dependency-management-tools">awesome-monorepo</a>ã€‚è¿™é‡Œè®©æˆ‘ä»¬çœ‹çœ‹é€šè¿‡ Nx åˆ›å»ºçš„ Monorepo é£æ ¼çš„é¡¹ç›®æ˜¯æ€ä¹ˆæ ·çš„ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501145451.png' data-fancybox='default' data-caption='Nx create project'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501145451.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501145451.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Nx create project"></a><span class='image-caption'>Nx create project</span></div></div><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501152226.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501152226.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="project structure"></p><p>medium ä¸Šæœ‰ç¯‡æ–‡ç« ç®€è¿°äº† 11 ç§ä¸åŒ Monorepo æ„å»ºå·¥å…·çš„ç‰¹ç‚¹ï¼š<a href="">11 Great Tools for a Monorepo in 2021</a></p><h2 id="ä¸€å›¾çœ‹-Monorepo-å’Œ-Multirepo-çš„åŒºåˆ«"><a href="#ä¸€å›¾çœ‹-Monorepo-å’Œ-Multirepo-çš„åŒºåˆ«" class="headerlink" title="ä¸€å›¾çœ‹ Monorepo å’Œ Multirepo çš„åŒºåˆ«"></a>ä¸€å›¾çœ‹ Monorepo å’Œ Multirepo çš„åŒºåˆ«</h2><p>è¿™é‡Œæˆ‘ä»¬ç”¨ä¸€å¼ å›¾æ¥çœ‹ä¸‹ä½¿ç”¨ Git ç®¡ç†å¤šä¸ª package æ—¶ï¼ŒMonorepo å’Œ Multirepoï¼ˆPolyrepoï¼‰ çš„åŒºåˆ«ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501151658.png' data-fancybox='default' data-caption='Monorepo &amp; Multirepo(Polyrepo)'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501151658.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/20210501151658.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Monorepo &amp; Multirepo(Polyrepo)"></a><span class='image-caption'>Monorepo &amp; Multirepo(Polyrepo)</span></div></div><p>Donâ€™t say so much. å°±è¿™æ ·äº†ğŸ¤¨ğŸ•Šï¸ï¼Œåˆæ°´äº†ä¸€ç¯‡æ–‡ç« ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Architecture </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡¹ç›®ç®¡ç† </tag>
            
            <tag> Monorepo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows Insiders WSLg Linux GUI App æ”¯æŒå°é²œ</title>
      <link href="/2021/04/25/enjoy-wslg/"/>
      <url>/2021/04/25/enjoy-wslg/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>2021 å¹´ 4 æœˆ 21 æ—¥ï¼Œå¾®è½¯åœ¨ Developer Blogs å‘å¸ƒäº† Windows é¢„è§ˆç‰ˆ WSLï¼ˆWindows Linux å­ç³»ç»Ÿï¼‰ å¯¹ Linux GUI App çš„æ”¯æŒçš„<a href="https://devblogs.microsoft.com/commandline/the-initial-preview-of-gui-app-support-is-now-available-for-the-windows-subsystem-for-linux-2">å…¬å‘ŠğŸ”—</a>ï¼Œç¢°å·§ğŸ˜€æˆ‘æœ€è¿‘é‡è£…äº†æ³¢ç”µè„‘ï¼Œç³»ç»Ÿæ¢æˆäº† Windows Insidersï¼ˆDevï¼‰ï¼Œæ­£å¥½å¯ä»¥æ„Ÿå—æ³¢ Linux GUI App çš„æ”¯æŒã€‚btwï¼Œé¢„è§ˆç‰ˆçš„æ–‡ä»¶ç®¡ç†å™¨æ”¯æŒè®¿é—® WSL çš„æ–‡ä»¶äº†ï¼Œ6~ çš„ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/04/25/czJUAO.png' data-fancybox='default' data-caption='Windows new icons'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/04/25/czJUAO.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/04/25/czJUAO.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Windows new icons"></a><span class='image-caption'>Windows new icons</span></div></div><p>WSL ç°åœ¨å±…ç„¶æ”¯æŒè·‘ Linux å›¾å½¢åº”ç”¨äº†ï¼ŒçœŸé¦™ï¼ˆğŸ˜ï¼Œè™½ç„¶ä¸Šä¸€å¹´ WSL çš„ <a href="https://devblogs.microsoft.com/commandline/the-windows-subsystem-for-linux-build-2020-summary/#wsl-gui">Roadmap</a> ä¸­æœ‰è¯´è¿‡è¦æ”¯æŒï¼Œä½†æˆ‘æ²¡å…³æ³¨ï¼Œè€äºŒæ‰‹çŸ¥è¯†å…šäº†ï¼‰ã€‚Quickstart -&gt;</p><span id="more"></span><h2 id="WSLg-çš„æ¶æ„"><a href="#WSLg-çš„æ¶æ„" class="headerlink" title="WSLg çš„æ¶æ„"></a>WSLg çš„æ¶æ„</h2><p><a href="https://github.com/microsoft/wslg">WSLg</a> æ˜¯æ”¯æŒ Windows è¿è¡Œ Linux å›¾å½¢åº”ç”¨çš„æ ¸å¿ƒé¡¹ç›®ï¼Œ Windows Subsystem for Linux GUI çš„ç®€å†™ï¼Œçœ‹äº†çœ¼ Git commitï¼Œ8 å¤©å‰å¼€æºçš„ï¼ŒğŸ‚ã€‚README é‡Œé¢æœ‰å¼  WSLg çš„æ¶æ„å›¾ï¼Œç•¥å¾®æ“ä½œä¸‹å¸–åˆ°è¿™é‡Œï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/04/25/czneit.png' data-fancybox='default' data-caption='WSLg Architecture'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/04/25/czneit.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/04/25/czneit.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="WSLg Architecture"></a><span class='image-caption'>WSLg Architecture</span></div></div><p>æ‰«äº†çœ¼ï¼Œåªæœ‰ RDP å’Œ X11 æœ‰ç‚¹å°è±¡ï¼Œè¿™ä¸ª Wayland åœ¨æœ€è¿‘å…³äº Ubuntu 21.04 çš„æ–°é—»æœ‰çœ‹åˆ°è¿‡ï¼Œå…·ä½“åŸç†è¿™é‡Œå°±ä¸äº†è§£äº†ï¼Œéªšå°±å®Œäº‹äº†ï¼Œå…ˆè·‘ä¸ª Linux GUI App æ„Ÿå—æ³¢ã€‚</p><p>å·²æœ‰å¾®è½¯å¤§ä½¬å¯¹ WSLg çš„æ¶æ„åšäº†è¯¦ç»†çš„ä»‹ç»ï¼Œå‚è§æ–‡ç« ï¼š<a href="https://devblogs.microsoft.com/commandline/wslg-architecture/">WSLg Architecture</a></p><h2 id="Windows-Insiders-Dev-è·‘ä¸‹-Linux-GUI-App"><a href="#Windows-Insiders-Dev-è·‘ä¸‹-Linux-GUI-App" class="headerlink" title="Windows Insiders Dev è·‘ä¸‹ Linux GUI App"></a>Windows Insiders Dev è·‘ä¸‹ Linux GUI App</h2><p>è¿™é‡Œåˆåˆ°äº†ç»å…¸çš„ç¯å¢ƒé…ç½®ç¯èŠ‚ï¼ˆå¹²å•¥å•¥ä¸è¡Œï¼Œè€è£…ç¯å¢ƒé€‰æ‰‹äº†ï¼‰ã€‚ä¸å¾—ä¸è¯´ï¼ŒWindows ç³»ç»Ÿæ¢æˆ Insiders ç‰ˆæœ¬çœŸé¦™ï¼ŒWSL å®‰è£…ä¸€å¥å‘½ä»¤å°±å®Œäº‹äº†ã€‚è™½ç„¶åˆç¢°åˆ°äº†è®¸ä¹…æœªè§åˆ°çš„ç»å…¸è“å±é—®é¢˜ï¼Œä½†è¿˜æ˜¯é˜”ä»¥æ¥å—çš„ï¼Œæˆ‘ giaoã€‚</p><p>çœ‹æ³¢ WSLg çš„ READMEï¼Œé…ä¸‹ç¯å¢ƒï¼Œæ“ä½œç³»ç»Ÿç‰ˆæœ¬è¦ 21362+ï¼Œè¿˜å¾—å¾®å¾®æ›´æ–°æ³¢ğŸ¤¨ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/04/25/czKy26.png' data-fancybox='default' data-caption='Upgrade Windows System'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/04/25/czKy26.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/04/25/czKy26.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Upgrade Windows System"></a><span class='image-caption'>Upgrade Windows System</span></div></div><p>Sometime laterâ€¦â€¦â€¦â€¦â€¦â€¦.</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/04/25/czMjOO.png' data-fancybox='default' data-caption='Windows insiders version'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/04/25/czMjOO.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/04/25/czMjOO.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Windows insiders version"></a><span class='image-caption'>Windows insiders version</span></div></div><p>OKï¼Œå¯ä»¥æ“ä½œäº†ï¼Œä¹‹å‰æˆ‘å·²ç»å®‰è£…è¿‡ WSLï¼Œä¸”åˆ‡æ¢åˆ°äº† v2 ç‰ˆæœ¬ï¼Œsoï¼ŒæŒ‰ç…§ README æ‰€è¯´ï¼Œåªéœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œå³å¯ã€‚</p><p>ä»¥ <strong>Administrator èº«ä»½</strong>å¯åŠ¨ Powershell æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€é‡å¯ä¸‹ WSL</span></span><br><span class="line">wsl --shutdown</span><br><span class="line"><span class="comment"># 2ã€Update</span></span><br><span class="line">wsl --update</span><br></pre></td></tr></table></figure><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/04/25/cz8Rqf.png' data-fancybox='default' data-caption='WSL Update'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/04/25/cz8Rqf.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/04/25/cz8Rqf.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="WSL Update"></a><span class='image-caption'>WSL Update</span></div></div><p>ç„¶åéšæ„è£…ä¸ª GUI App æ„Ÿå—ä¸‹ï¼Œè£…ä¸ª gedit å§ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Nautilus æ–‡ä»¶ç®¡ç†å™¨ï¼Œå¯åœ¨ Windows å¼€å§‹èœå•å¯åŠ¨ Linux GUI App</span></span><br><span class="line">sudo apt install nautilus -y</span><br><span class="line">sudo apt install gedit -y</span><br></pre></td></tr></table></figure><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://z3.ax1x.com/2021/04/25/cz8LLV.png' data-fancybox='default' data-caption='Windows Desktop Gedit'><img fancybox itemprop="contentUrl" src="https://z3.ax1x.com/2021/04/25/cz8LLV.png" class="lazyload" data-srcset="https://z3.ax1x.com/2021/04/25/cz8LLV.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Windows Desktop Gedit"></a><span class='image-caption'>Windows Desktop Gedit</span></div></div><p>è¿˜é˜”ä»¥ï¼Œè™½ç„¶æˆ‘æ˜¯â€œå‘½ä»¤è¡Œä»”â€äº†ï¼Œä½†æ—¶ä¸æ—¶ç”¨ä¸‹ GUI App è¿˜æ˜¯é¦™çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> WSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> WSL </tag>
            
            <tag> GUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆæ¢ Git Submodules</title>
      <link href="/2021/03/10/git-submodules/"/>
      <url>/2021/03/10/git-submodules/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>ä¹‹å‰ä¸€ç›´æƒ³å°†ä¸€ä¸ª Git ä»“åº“æ”¾åˆ°å¦ä¸€ä¸ª Git ä»“åº“ï¼Œæœ‰ Maven å¤šæ¨¡å—é¡¹ç›®ï¼ˆMaven Multimodule Projectï¼‰å’Œ Gradle å¤šé¡¹ç›®æ„å»ºï¼ˆGradle Multiproject Buildï¼‰é‚£å‘³å„¿ã€‚Git è¿™ä¹ˆéªšï¼Œè‚¯å®šä¹Ÿå¯ä»¥ã€‚â€œæ‰«â€äº†å¤šä¸ªå¼€æºä»“åº“ï¼ŒGet åˆ°äº† Git <code>submodule</code> å¯ä»¥åšè¿™ç§æ“ä½œï¼Œæ°´ç¯‡æ–‡ç« è®°å½•æ³¢ã€‚</p><span id="more"></span><h2 id="æ²¡æœ‰ä½¿ç”¨-Git-Submodules-ä¹‹å‰"><a href="#æ²¡æœ‰ä½¿ç”¨-Git-Submodules-ä¹‹å‰" class="headerlink" title="æ²¡æœ‰ä½¿ç”¨ Git Submodules ä¹‹å‰"></a>æ²¡æœ‰ä½¿ç”¨ Git Submodules ä¹‹å‰</h2><p>æ²¡æœ‰ä½¿ç”¨ submodule ä¹‹å‰ï¼Œå¦‚æœåœ¨ä¸€ä¸ª Git é¡¹ç›®è¿½è¸ªå¦ä¸€ä¸ª Git é¡¹ç›®ï¼Œä¼šæŠ¥ä¸€ä¸ª warningã€Œæˆ‘æ•²ï¼Œæœ‰æš—ç¤ºç”¨ submoduleï¼Œä¹‹å‰æ²¡æ³¨æ„ã€ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir git-submodule</span><br><span class="line">cd git-submodule</span><br><span class="line">git init</span><br><span class="line">git clone https://github.com/volantis-x/hexo-theme-volantis --depth 1</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>git add hexo-theme-volantis</code>ï¼Œä¼šå‡ºç°å¦‚ä¸‹ warningï¼ˆadding embedded git repositoryï¼‰ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20210310182846.png' data-fancybox='default' data-caption='è¿½è¸ªæ‰§è¡Œç»“æœ'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20210310182846.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20210310182846.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿½è¸ªæ‰§è¡Œç»“æœ"></a><span class='image-caption'>è¿½è¸ªæ‰§è¡Œç»“æœ</span></div></div><p>ç„¶åä½¿ç”¨ <code>git status</code> æŸ¥çœ‹ï¼Œè™½ç„¶ <code>git add</code> æˆåŠŸäº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æˆåŠŸ <code>add</code> åˆ° hexo-theme-volantis é‡Œé¢çš„å†…å®¹ã€‚æç¤ºä¹Ÿè¯´äº†ï¼ˆwill not contain the contents of the embedded repositoryï¼‰ï¼Œæäº¤åˆ° GitHub åï¼Œæ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼Œ folder æˆ³ä¹Ÿæˆ³ä¸å¼€ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20210310182904.png' data-fancybox='default' data-caption='push to GitHub'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20210310182904.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20210310182904.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="push to GitHub"></a><span class='image-caption'>push to GitHub</span></div></div><p>å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼Œå¹¶ä¸èƒ½ä¿è¯ å­ç›®å½•/æ–‡ä»¶ çš„å®Œæ•´æ€§ã€‚å°±æˆ‘ä¹‹å‰å¦‚æœæƒ³åœ¨ä¸€ä¸ª Git é¡¹ç›®ä¿ç•™å¦ä¸€ä¸ª Git é¡¹ç›®ï¼Œé‚£ä¹ˆæˆ‘åªèƒ½å°†ä¸€ä¸ªé¡¹ç›®çš„ Git ç‰ˆæœ¬åº“å»æ‰ï¼Œä»åç»­çš„ä½¿ç”¨æ„Ÿå—æ¥çœ‹ï¼Œæ­¤åæˆ‘è¿½è¸ªå¦ä¸€ä¸ªé¡¹ç›®çš„æ›´æ–°ä¼šæœ‰ç‚¹éº»çƒ¦ã€‚ä» yeshan333/actions-for-hexo-blog é¡¹ç›®çš„å¯¹ volantis é¡¹ç›®è¿½è¸ªçš„å†å²commit@3ce9316 å¯ä»¥çœ‹å¾—å‡ºæ¥ <img src="https://github.com/yeshan333/actions-for-hexo-blog/tree/3ce93169ec7bfd49d91e8dc38415cc08886e052a" class="lazyload" data-srcset="https://github.com/yeshan333/actions-for-hexo-blog/tree/3ce93169ec7bfd49d91e8dc38415cc08886e052a" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="actions-for-hexo-blog@3ce9316"></p><h2 id="Git-Submodules-çš„ä½œç”¨"><a href="#Git-Submodules-çš„ä½œç”¨" class="headerlink" title="Git Submodules çš„ä½œç”¨"></a>Git Submodules çš„ä½œç”¨</h2><p>æ˜¯æ—¶å€™è¯¥è§è¯† submodule çš„ä½œç”¨äº†ï¼Œä»å®˜æ–¹æ–‡æ¡£å¯ä»¥çœ‹åˆ°ï¼Œå®ƒå¯ä»¥è§£å†³ä¹‹å‰ä¸Šé¢æåˆ°çš„ä¸€äº›é—®é¢˜ã€‚ç•¥å¾®æ¦‚æ‹¬ä¸‹å°±æ˜¯ï¼š</p><ul><li>Gitçš„ submodule å¯ä»¥å°†ä¸€ä¸ª Git ç‰ˆæœ¬åº“<strong>ä½œä¸ºä¸€ä¸ªå­ç›®å½•</strong>ä¿å­˜åœ¨å¦ä¸€ä¸ª Git ç‰ˆæœ¬åº“ä¸­ï¼Œå¹¶å¯ä»¥ä¿ç•™ä¸¤ä¸ªç‰ˆæœ¬åº“ä¹‹é—´ commit çš„åˆ†ç¦»ï¼Œä¿æŒçˆ¶é¡¹ç›®å’Œå­é¡¹ç›®ç›¸äº’ç‹¬ç«‹ï¼Œå®ç°æ›´ä¸ºç²¾ç¡®çš„ç‰ˆæœ¬æ§åˆ¶ã€‚</li></ul><h2 id="Git-Submodules-çš„æœ¬è´¨"><a href="#Git-Submodules-çš„æœ¬è´¨" class="headerlink" title="Git Submodules çš„æœ¬è´¨"></a>Git Submodules çš„æœ¬è´¨</h2><p>æ‹¿ <a href="https://github.com/yeshan333/actions-for-hexo-blog">actions-for-hexo-blog</a> é¡¹ç›®æ¥å®è·µæ„Ÿå—ä¸‹ submoduleã€‚æ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:yeshan333/actions-for-hexo-blog.git &amp;&amp; cd actions-for-hexo-blog</span><br><span class="line">git submodule add git@github.com:volantis-x/hexo-theme-volantis.git themes/volantis</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤ä¹‹åï¼Œä¼šçœ‹åˆ°å½“å‰é¡¹ç›®ä¸‹ç”Ÿæˆäº†ä¸ª <code>.gitmodules</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[submodule &quot;themes/volantis&quot;]</span><br><span class="line">path = themes/volantis</span><br><span class="line">url = git@github.com:volantis-x/hexo-theme-volantis.git</span><br></pre></td></tr></table></figure><p>åŒæ—¶ï¼Œ<code>.git/config</code> æ–‡ä»¶ä¹Ÿä¼šè¢«è¿½åŠ å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[submodule &quot;themes/volantis&quot;]</span><br><span class="line">url = git@github.com:volantis-x/hexo-theme-volantis.git</span><br><span class="line">active = true</span><br></pre></td></tr></table></figure><p>å†çœ‹çœ‹ <code>theme/volantis</code> ç›®å½•ï¼Œå‘ç°è¯¥é¡¹ç›®çš„ Git ç‰ˆæœ¬åº“ä¸è§äº†ï¼Œä¹‹å‰æåˆ° <code>git submodule</code> å¯ä»¥ä¿ç•™ä¸¤ä¸ªç‰ˆæœ¬åº“ä¹‹é—´ commit çš„åˆ†ç¦»ï¼Œé‚£ä¹ˆé¡¹ç›® volantis çš„ç‰ˆæœ¬åº“æ”¾å“ªäº†ï¼Ÿæ‘¸ç´¢ä¸‹å½“å‰é¡¹ç›®çš„ç‰ˆæœ¬åº“å¯ä»¥çœ‹åˆ°è¢«æ”¾åœ¨äº† <code>.git/modules/themes/volantis</code> ä¸‹ã€‚å°è¯•æäº¤åˆ° GitHub çœ‹çœ‹ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20210310183050.png' data-fancybox='default' data-caption='GitHub æäº¤ç»“æœ'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20210310183050.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20210310183050.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="GitHub æäº¤ç»“æœ"></a><span class='image-caption'>GitHub æäº¤ç»“æœ</span></div></div><p>emmâ€¦â€¦ï¼Œæ”¶å·¥ï¼Œç›®å½•åæ˜¾ç¤ºå¤šä¸ª commit å¼•ç”¨ï¼Œå¯ä»¥è¿›è¡Œè·³è½¬ã€‚</p><h2 id="æ›´å¤šæ“ä½œ"><a href="#æ›´å¤šæ“ä½œ" class="headerlink" title="æ›´å¤šæ“ä½œ"></a>æ›´å¤šæ“ä½œ</h2><ul><li>ä¸ submodule ç±»ä¼¼çš„ subtreeï¼š<a href="https://martowen.com/2016/05/01/git-submodules-vs-git-subtrees/">Git Submodules vs Git Subtrees</a></li><li>å­æ¨¡å—æ›´æ–°ï¼š<code>git submodule update</code></li><li><a href="http://reader.epubee.com/books/mobile/ed/ededfda8184ebf210b5960a5f22be1c7/text00025.html">submodule æœ€ä½³å®è·µ</a></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># å­æ¨¡å—åˆ é™¤</span><br><span class="line">- åˆ é™¤.gitsubmoduleæ–‡ä»¶ä¸­å­æ¨¡å—çš„ç›¸å…³å­—æ®µï¼›</span><br><span class="line">- åˆ é™¤.git/configæ–‡ä»¶ä¸­å­æ¨¡å—çš„ç›¸å…³å­—æ®µï¼›</span><br><span class="line">- åˆ é™¤æ¨¡å—ç›®å½•ï¼š</span><br><span class="line">- git rm --cached &lt;submodule-path&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ rsync-deploy-action åŒæ­¥ Hexo åšå®¢åˆ°ä¸ªäººæœåŠ¡å™¨</title>
      <link href="/2021/01/19/hexo-blog-synchronization-with-rsync/"/>
      <url>/2021/01/19/hexo-blog-synchronization-with-rsync/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å‰å‡ å¤©å†™äº†ä¸ªåŸºäº rsync è¿›è¡Œæ–‡ä»¶åŒæ­¥çš„ Action -&gt; <a href="https://github.com/yeshan333/rsync-deploy-action">rsync-deploy-action</a>ã€‚ç›®çš„æœ‰ä¸‰ä¸ªï¼š</p><ul><li>1ã€æ·±å…¥äº†è§£æ³¢ <a href="https://docs.github.com/en/actions/creating-actions">GitHub Actions</a>ï¼Œæ„Ÿå—ä¸‹ GitHub çš„æ–‡æ¡£ï¼›</li><li>2ã€ä¸ªäººåšå®¢åœ¨æˆ‘çš„è…¾è®¯äº‘ CVM æœåŠ¡å™¨ä¸Šæ˜¯éƒ¨ç½²æœ‰ä¸€ä»½çš„ã€ŒåŸŸåï¼š<a href="https://shan333.cn/">shan333.cn</a>ã€ï¼Œä¹‹å‰çš„åšå®¢åŒæ­¥æ–¹å¼æ˜¯é€šè¿‡ Linux çš„å®šæ—¶ä»»åŠ¡ï¼Œè§‰å¾—ä¸å¤ªè¡Œï¼Œå½“å‰åšå®¢çš„æ›´æ–°å¹¶æ²¡æœ‰é‚£ä¹ˆé¢‘ç¹ï¼Œæ²¡å¿…è¦æ¯éš”å‡ ä¸ªå°æ—¶å°± <code>git pull</code> ä¸€ä¸‹ï¼Œä¸”æœåŠ¡å™¨è¿˜æŒ‚ç€å…¶ä»–ä¸œè¥¿ï¼Œæ€§èƒ½è¿˜æ˜¯æœ‰ç‚¹æŸè€—çš„ï¼Œæ¢æˆé€šè¿‡ rsync è¿›è¡Œä¸»åŠ¨æ¨é€çš„æ–¹å¼å¥½ç‚¹ï¼›</li><li>3ã€ç†Ÿæ‚‰æ³¢ SSH åè®®å’Œ rsync åè®®ã€‚</li></ul><p>ä»Šå¤©æ’¸ä¸€ç¯‡æ–‡ç« ç®€å•è®°å½•ä¸‹è¿™æ¬¡æŠ˜è…¾ã€‚</p><span id="more"></span><h2 id="rsync-deploy-action-çš„åˆ›å»º"><a href="#rsync-deploy-action-çš„åˆ›å»º" class="headerlink" title="rsync-deploy-action çš„åˆ›å»º"></a>rsync-deploy-action çš„åˆ›å»º</h2><p>æŒ‘ rsync åè®®ï¼Œä¸æŒ‘ FTP æˆ– scp çš„æ–°å»º GitHub Actions çš„éƒ¨åˆ†åŸå› æ˜¯ rsync å¯ä»¥åšå¢é‡å¤‡ä»½ã€‚GitHub Action æœ‰ä¸‰ç§ç±»åˆ«ï¼Œå³ Docker containerã€JavaScript å’Œ Composite run stepsã€‚è¿™æ¬¡æ‰‹æ’¸çš„ Action å½’å±äº GitHub å®˜æ–¹æ–‡æ¡£ä»‹ç»çš„ <a href="https://docs.github.com/en/actions/creating-actions/creating-a-docker-container-action">Docker container action</a>ã€‚rsync-deploy-action å·²ç»å‘å¸ƒåˆ° GitHub çš„ Marketplaceã€‚æºä»“åº“åœ°å€ï¼š<a href="https://github.com/yeshan333/rsync-deploy-action">https://github.com/yeshan333/rsync-deploy-action</a>ã€‚</p><blockquote><p>rsync ä¸å…¶ä»–æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼ˆå¦‚ FTP æˆ– scpï¼‰ä¸åŒï¼Œrsync çš„æœ€å¤§ç‰¹ç‚¹æ˜¯ä¼šæ£€æŸ¥å‘é€æ–¹å’Œæ¥æ”¶æ–¹å·²æœ‰çš„æ–‡ä»¶ï¼Œä»…ä¼ è¾“æœ‰å˜åŠ¨çš„éƒ¨åˆ†ï¼ˆé»˜è®¤è§„åˆ™æ˜¯æ–‡ä»¶å¤§å°æˆ–ä¿®æ”¹æ—¶é—´æœ‰å˜åŠ¨ï¼‰ã€‚</p></blockquote><p>rsync-deploy-action åŸºäº SSH åè®®è¿›è¡Œæ–‡ä»¶çš„è¿œç¨‹åŒæ­¥ï¼Œä»å…ƒæ•°æ®æ–‡ä»¶ action.yml å¯ä»¥çœ‹åˆ°ï¼ŒAction æ”¯æŒ 8 ä¸ªå‚æ•°ã€Œ6ä¸ªå¿…é€‰ï¼Œ2ä¸ªå¯é€‰ã€ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">&#x27;rsync-deploy-action&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;Synchronize files to the remote server using the SSH private key&#x27;</span></span><br><span class="line"><span class="attr">inputs:</span></span><br><span class="line">  <span class="attr">ssh_login_username:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;SSH login username&#x27;</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">remote_server_ip:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;remote server ip&#x27;</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">ssh_port:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;remote server SSH port&#x27;</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">default:</span> <span class="string">&quot;22&quot;</span></span><br><span class="line">  <span class="attr">ssh_private_key:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;login user SSH private key&#x27;</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">source_path:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;The source storage path of the synchronous files&#x27;</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">destination_path:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;The destination storage path of the synchronous files&#x27;</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">ssh_args:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;SSH args&#x27;</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">rsync_args:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;rsync args&#x27;</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">outputs:</span></span><br><span class="line">  <span class="attr">start_time:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;Start time of synchronization&#x27;</span></span><br><span class="line">  <span class="attr">end_time:</span> <span class="comment"># id of output</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&#x27;End time of synchronization&#x27;</span></span><br><span class="line"><span class="attr">runs:</span></span><br><span class="line">  <span class="attr">using:</span> <span class="string">&#x27;docker&#x27;</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">&#x27;Dockerfile&#x27;</span></span><br><span class="line">  <span class="attr">args:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">inputs.ssh_login_username</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">inputs.remote_server_ip</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">inputs.ssh_port</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">inputs.ssh_private_key</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">inputs.source_path</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">inputs.destination_path</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">inputs.ssh_args</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">inputs.rsync_args</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">branding:</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">&#x27;file&#x27;</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&#x27;green&#x27;</span></span><br></pre></td></tr></table></figure><p>åˆ©ç”¨ rsync-deploy-action çš„ Dockerfile æ–‡ä»¶é…åˆ <a href="https://github.com/yeshan333/github-actions-test-repo/runs/1709315134?check_suite_focus=true">Action æ‰§è¡Œæ—¥å¿—</a>å¯ä»¥ä¸€çª¥ GitHub Actions èƒŒåæ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚ Action çš„ <a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstepswith">with</a> å‚æ•°çš„ä¼ é€’åœ¨ä¸€å®šç¨‹åº¦ä¸Šåˆ©ç”¨äº† Dockerfile çš„ ENTRYPOINTã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Container image that runs your code</span></span><br><span class="line"><span class="keyword">FROM</span> alpine:latest</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apk update \</span></span><br><span class="line"><span class="language-bash"> &amp;&amp; apk upgrade \</span></span><br><span class="line"><span class="language-bash"> &amp;&amp; apk add --no-cache \</span></span><br><span class="line"><span class="language-bash">            rsync \</span></span><br><span class="line"><span class="language-bash">            openssh-client</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Copies your code file from your action repository to the filesystem path `/` of the container</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> entrypoint.sh /entrypoint.sh</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">chmod</span> +x /entrypoint.sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Code file to execute when the docker container starts up (`entrypoint.sh`)</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;/entrypoint.sh&quot;</span>]</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ä»‹ç»ä¸‹åˆ©ç”¨ rsync-deploy-action è¿›è¡Œ Hexo åšå®¢åŒæ­¥åˆ°ä¸ªäººè…¾è®¯äº‘ CVM æœåŠ¡å™¨çš„è¿‡ç¨‹ã€‚</p><h2 id="Hexo-åšå®¢åŒæ­¥åˆ°äº‘æœåŠ¡å™¨"><a href="#Hexo-åšå®¢åŒæ­¥åˆ°äº‘æœåŠ¡å™¨" class="headerlink" title="Hexo åšå®¢åŒæ­¥åˆ°äº‘æœåŠ¡å™¨"></a>Hexo åšå®¢åŒæ­¥åˆ°äº‘æœåŠ¡å™¨</h2><p>ç”±äº rsync æ˜¯åŸºäº SSH åè®®çš„ï¼Œrsync-deploy-action éœ€è¦ä½¿ç”¨åˆ° SSH ç§é’¥ï¼Œæ‰€ä»¥éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªå¯ä»¥è¿›è¡Œ SSH è¿œç¨‹ç™»å½•çš„ç”¨æˆ·ï¼Œä¸å»ºè®®ç›´æ¥ä½¿ç”¨ root ç”¨æˆ·ã€‚</p><h3 id="SSH-å¯†é’¥ç™»å½•"><a href="#SSH-å¯†é’¥ç™»å½•" class="headerlink" title="SSH å¯†é’¥ç™»å½•"></a>SSH å¯†é’¥ç™»å½•</h3><p>1ã€å…ˆé…ç½®å¥½è¿œç¨‹è…¾è®¯äº‘ CVM æœåŠ¡å™¨ SSH å…è®¸å¯†é’¥ç™»å½•ã€‚ç¼–è¾‘ SSH é…ç½®æ–‡ä»¶ /etc/ssh/sshd_configã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><ul><li>StrictModes yes æ”¹æˆ StrictModes no ï¼ˆå»æ‰æ³¨é‡Šåæ”¹æˆ noï¼‰</li><li>æ‰¾åˆ° #PubkeyAuthentication yes æ”¹æˆ PubkeyAuthentication yes ï¼ˆå»æ‰æ³¨é‡Šï¼‰</li><li>æ‰¾åˆ° #AuthorizedKeysFile .ssh/authorized_keys æ”¹æˆ AuthorizedKeysFile .ssh/authorized_keys ï¼ˆå»æ‰æ³¨é‡Šï¼‰</li></ul><p>ä¿å­˜åï¼Œé‡å¯ sshdã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sshd</span><br></pre></td></tr></table></figure><p>2ã€æ–°å»ºç”¨æˆ· githubï¼Œç”¨äºè¿œç¨‹ SSH å…å¯†ç™»å½•ã€‚</p><p>åœ¨è¿œç¨‹æœåŠ¡å™¨æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">root ç”¨æˆ·ä¸‹åˆ›å»ºç”¨æˆ· github å¹¶ä¸”æŒ‡å®š HOME ç›®å½•</span></span><br><span class="line">useradd -d /home/github github</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¹Ÿå¯ä»¥ä½¿ç”¨ adduser githubï¼Œadduserä¼šè‡ªåŠ¨åˆ›å»º HOME ç›®å½•ç­‰</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½® github ç”¨æˆ·å¯†ç ï¼Œç”¨äºåç»­ SSH ç™»å½•å…¬é’¥çš„ä¸Šä¼ </span></span><br><span class="line">passwd github</span><br></pre></td></tr></table></figure><p>3ã€åœ¨æœ¬åœ° PC æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºç”¨äºç™»å½•çš„å¯†é’¥å¯¹ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç”Ÿæˆå¯†é’¥å¯¹</span></span><br><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;1329441308@qq.com&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å°†ç”Ÿæˆçš„å…¬é’¥ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ï¼Œserver_ip ä¸ºæœåŠ¡å™¨ IP åœ°å€ï¼Œssh_port ä¸º SSH ç«¯å£å·</span></span><br><span class="line">cat ~/.ssh/id_rsa.pub | ssh github@server_ip -p ssh_port &quot;mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ssh å¯†é’¥ç™»å½•æµ‹è¯•ï¼Œserver_ip ä¸ºæœåŠ¡å™¨ IP åœ°å€ï¼Œssh_port ä¸º SSH ç«¯å£å·</span></span><br><span class="line">ssh -p ssh_port -i ~/.ssh/id_rsa github@server_ip</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ“ä½œå®Œæˆæ²¡é—®é¢˜ä¹‹åï¼Œå³å¯ä½¿ç”¨ <a href="https://github.com/yeshan333/rsync-deploy-action">rsync-deploy-action</a> äº†ï¼Œåé¢ä»¥ä¸ªäºº Hexo åšå®¢çš„åŒæ­¥ä¸ºä¾‹å­ï¼Œç®€å•çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨æ­¤ Actionã€‚</p><h3 id="Hexo-åšå®¢åŒæ­¥"><a href="#Hexo-åšå®¢åŒæ­¥" class="headerlink" title="Hexo åšå®¢åŒæ­¥"></a>Hexo åšå®¢åŒæ­¥</h3><p>ä¸ªäºº Hexo åšå®¢ä¹‹å‰å·²ç»é…ç½®è¿‡ GitHub Action çš„ workflows è¿›è¡Œåšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€Œåšå®¢æºä»“åº“ï¼š<a href="https://github.com/yeshan333/actions-for-hexo-blog/blob/master/.github/workflows/hexo-ci.yaml#L54">yeshan333/actions-for-hexo-blog</a>ã€ï¼Œæ‰€ä»¥å†æ·»åŠ ä¸ª step ç»™  rsync-deploy-action å³å¯å¯ç”¨åšå®¢åŒæ­¥ã€‚step å£°æ˜å¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Site</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">pull_request:</span></span><br><span class="line">    <span class="attr">branches:</span> [<span class="string">master</span>]</span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span> [<span class="string">master</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="string">......</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Release</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          git config --global user.email &quot;1329441308@qq.com&quot;</span></span><br><span class="line"><span class="string">          git config --global user.name &quot;yeshan333&quot;</span></span><br><span class="line"><span class="string">          git clone git@github.com:yeshan333/yeshan333.github.io.git .deploy_git</span></span><br><span class="line"><span class="string">          chmod 755 -R .deploy_git</span></span><br><span class="line"><span class="string">          hexo clean</span></span><br><span class="line"><span class="string">          hexo generate</span></span><br><span class="line"><span class="string">          hexo deploy</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Push</span> <span class="string">to</span> <span class="string">tencentyun</span> <span class="string">CVM</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">yeshan333/rsync-deploy-action@v1.0.0</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">ssh_login_username:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SSH_LOGIN_USERNAME</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">remote_server_ip:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.REMOTE_SERVER_IP</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">ssh_port:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SSH_PORT</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">ssh_private_key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SSH_PRIVATE_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">source_path:</span> <span class="string">./.deploy_git/*</span></span><br><span class="line">          <span class="attr">destination_path:</span> <span class="string">~/shan333.cn</span></span><br><span class="line">          <span class="attr">rsync_args:</span> <span class="string">--exclude=&quot;./.deploy_git/.git/*&quot;</span></span><br></pre></td></tr></table></figure><p>workflow ä¸­åä¸º Push to tencentyun CVM çš„ <a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstepswith">step</a> ä¼šå°† .deploy_git ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ã€Œå­˜æ”¾åˆ° ~/shan333.cn ç›®å½•ä¸‹ã€ï¼Œç†Ÿæ‚‰ Hexo çš„æœ‹å‹åº”è¯¥çŸ¥é“ <code>hexo deploy</code> ç”Ÿæˆçš„æ–‡ä»¶ä¼šæ”¾åœ¨ <code>.deploy_git</code> ç›®å½•ä¸‹ï¼Œè¿™é‡Œç”¨åˆ°äº† Hexo çš„ä¸€ä¸ª Plugin -&gt; <a href="https://www.npmjs.com/package/hexo-deployer-git">hexo-deployer-git</a>ã€‚å…¶å®ä¹Ÿå¯ä»¥å°† <code>hexo generate</code> ç”Ÿæˆçš„ <a href="https://hexo.io/docs/generating.html">public</a> ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŒæ­¥åˆ°äº‘æœåŠ¡å™¨ã€‚</p><p><a href="https://github.com/yeshan333/rsync-deploy-action">rsync-deploy-action</a> ä½¿ç”¨åˆ°çš„å‚æ•°è§£é‡Šã€Œæœ‰éƒ¨åˆ†æ•°æ®ä¹Ÿç®—æ˜¯éšç§æ•°æ®ï¼Œè¿™é‡Œæ„æ€ä¸‹ç”¨äº† GitHub çš„ <a href="https://docs.github.com/en/actions/reference/encrypted-secrets">repository secrets</a>ã€ï¼š</p><ul><li>ssh_login_usernameï¼šå¯ä»¥è¿›è¡Œ SSH å¯†é’¥ç™»å½•çš„ç”¨æˆ·åï¼Œå³ä¹‹å‰é…ç½®å¥½çš„ <strong>github</strong> ç”¨æˆ·ã€‚</li><li>remote_server_ipï¼šäº‘æœåŠ¡å™¨ IP</li><li>ssh_private_keyï¼šSSH ç™»å½•ç”¨æˆ·çš„ç§é’¥ï¼Œå³ä¹‹å‰çš„ ~/.ssh/id_rsa æ–‡ä»¶çš„å†…å®¹</li><li>source_pathï¼šåšå®¢ç›¸å…³æ‰€æœ‰æ–‡ä»¶è·¯å¾„</li><li>destination_pathï¼šåŒæ­¥åˆ°äº‘æœåŠ¡å™¨çš„ç›®æ ‡è·¯å¾„<code>~/shan333.cn</code>ï¼Œå³<code>/home/github/shan333.cn</code></li><li>rsync_argsï¼šaction çš„å¯é€‰å‚æ•°ï¼Œ.git ç›®å½•æ˜¯æ²¡å¿…è¦åŒæ­¥ä¸Šä¼ çš„ï¼Œæ’é™¤æ‰</li></ul><p>â€œå¤§åŠŸå‘Šæˆâ€ã€‚rsync åè®®çš„æ›´å¤šä»‹ç»å¯å‚è€ƒï¼š<a href="https://wangdoc.com/ssh/rsync.html">WangDoc.com rsync</a>ã€‚</p><h3 id="More"><a href="#More" class="headerlink" title="More"></a>More</h3><p>ä¸ªäººçš„è…¾è®¯äº‘ CVM æœåŠ¡å™¨ä¹‹å‰ä¸ºäº†æ–¹ä¾¿ç»´æŠ¤å®‰è£…äº†ä¸ªè¿ç»´é¢æ¿<a href="https://www.bt.cn/bbs/thread-19376-1-1.html">BT.CN</a>ï¼ŒHexo åšå®¢æ˜¯ç”¨è¿‡ Nginx Serving çš„ï¼Œä½† Nginx æ˜¯é€šè¿‡è¿ç»´é¢æ¿å®‰è£…çš„ï¼Œé»˜è®¤çš„ user ä¸º wwwã€Œå®å¡”å¯¹ Nginx çš„é…ç½®æ–‡ä»¶è¿›è¡Œäº†æ‹†åˆ†ã€ï¼Œä½†åŒæ­¥åçš„åšå®¢æ˜¯æ”¾åœ¨ github ç”¨æˆ·çš„ HOME ç›®å½•ä¸‹çš„ shan333.cn ç›®å½•ä¸­çš„ï¼Œwww æ— æƒé™æ‰§è¡Œåšå®¢çš„ç›¸å…³æ–‡ä»¶ï¼ˆ403 Forbiddenï¼‰ï¼Œæ‰€ä»¥éœ€è¦æ“ä½œæ³¢ç»™ www ç”¨æˆ·å¯æ‰§è¡Œæƒé™ï¼Œè®© Nginx Worker å¯ä»¥ serving åšå®¢ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">root ç”¨æˆ·ä¸‹æ‰§è¡Œï¼Œgithub ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ 755 æƒé™</span></span><br><span class="line">chmod -R 755 /home/github</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å°† www ç”¨æˆ·æ·»åŠ åˆ° github user group</span></span><br><span class="line">usermod www -G -a github</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://github.com/features/actions">GitHub Actions-Creating actions</a></li><li><a href="https://docs.github.com/en/actions/reference#workflow-syntax">GitHub Actions-Workflow syntax</a></li><li><a href="https://wangdoc.com/ssh/key.html">SSH å¯†é’¥ç™»å½•-ç½‘é“æ–‡æ¡£</a></li><li><a href="https://serverfault.com/questions/707955/nginx-split-large-configuration-file">nginx-split-large-configuration-file</a></li><li><a href="https://docs.docker.com/engine/reference/builder/#entrypoint">Dockerfile ENTRYPOINT</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github Actions </tag>
            
            <tag> DevOps </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³æ³¨æ€è€ƒçš„è¿‡ç¨‹ï¼Œç»ˆå°†æ›´åŠ å“è¶Š | 2020 å¹´æ€»ç»“</title>
      <link href="/2021/01/06/2020-annual-reviewed/"/>
      <url>/2021/01/06/2020-annual-reviewed/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/thumbnail.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/thumbnail.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="2021 new chapter"></p><span id="more"></span><h2 id="å¼€ç¯‡ç¢è¯­"><a href="#å¼€ç¯‡ç¢è¯­" class="headerlink" title="å¼€ç¯‡ç¢è¯­"></a>å¼€ç¯‡ç¢è¯­</h2><p>2020 å¹´æœ«å’Œ 2021 å¹´åˆåœ¨<a href="https://juejin.cn/post/6901125532729999374">æ˜é‡‘ç¤¾åŒº</a>å’Œ Twitter çœ‹äº†è¯¸å¤šå¤§ä½¬çš„ 2020 å¹´æ€»ç»“ã€Œé¡ºä¾¿è†œæ‹œ dalao çš„åŒæ—¶å­¦ä¹ æ³¢æ–‡æ³•ğŸ˜€ï¼Œæ–¹ä¾¿å†™è‡ªå·±çš„å¹´åº¦æ€»ç»“ã€ã€‚</p><p>2020 å¹´ 12 æœˆ 08 æ—¥ï¼Œæˆ‘åœ¨ QQ ç©ºé—´å‘å¸ƒäº†ç¯‡â€œé¢„æ€»ç»“â€ï¼Œç‰¹åœ°ç«‹äº†ä¸ª flag ğŸš©ã€2020å¹´æœ€åä¸€å‘¨æˆ–è€… 2021 å¹´ç¬¬ä¸€å‘¨æŠŠå¹´åº¦æ€»ç»“å†™å‡ºæ¥ã€ï¼Œé˜²æ­¢è‡ªå·±â€œèµ–è´¦â€ğŸ˜‚ã€‚æ¯•ç«Ÿ 2019 å¹´éƒ½å†™äº†ä»½æ€»ç»“äº†ï¼Œ2020 å¹´çš„ä¸èƒ½å°‘å§ï¼ä»é‚£æ—¶å€™å¼€å§‹ï¼Œå°±åœ¨ç£¨ç£¨å”§å”§çš„å‡†å¤‡ææ–™ï¼Œå†™ç¯‡æ–‡ç« ä¸å®¹æ˜“å•Š /(ã„’oã„’)/~~ã€‚ç¬¬äºŒæ¬¡å†™å¹´åº¦æ€»ç»“ï¼Œä»Šå¹´å†™ä»½é•¿ç‚¹çš„ã€‚</p><p>æœ€è¿‘ä½¿ç”¨äº†â€œæ¯•ç”Ÿçš„ EN åŠŸåŠ›â€å»ç¿»è¯‘ä¸€ç¯‡æ¯•è®¾ç›¸å…³çš„è®ºæ–‡ -&gt; <a href="https://www.sciencedirect.com/science/article/abs/pii/S0955799706001433">ã€ŠMethod of fundamental solutions with regularization techniques for Cauchy problems of elliptic operatorsã€‹</a>ï¼Œæ•²æ‰“ç€ä¸€å †çš„æ•°å­¦å…¬å¼ã€ŒLatex å’Œ plain æ··ç€ç”¨ã€ï¼Œå›é¡¾ç€è¯¸å¤š<a href="https://en.wikipedia.org/wiki/Partial_differential_equation">åå¾®åˆ†æ–¹ç¨‹ï¼ˆPDEï¼‰</a>çš„çŸ¥è¯†ã€Œè£‚å¼€äº†~ã€ï¼Œç¬é—´æ„Ÿè§‰è‡ªå·±åˆæ˜¯ä¸€ä¸ªæ•°å­¦ç³»çš„å­¦ç”Ÿäº†ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œå›åˆ°æ­£é¢˜ï¼Œæ€»ç»“æ¥äº†ï¼</p><h2 id="å›é¡¾-2020"><a href="#å›é¡¾-2020" class="headerlink" title="å›é¡¾ 2020"></a>å›é¡¾ 2020</h2><p>å¯ä»¥æ³¨æ„åˆ°ï¼Œåœ¨è¿™ç¯‡å¹´åº¦æ€»ç»“çš„é¢˜ç›®ä¸­æˆ‘ç‰¹åˆ«æåˆ°äº†æ€è€ƒï¼Œä¸”è¿™ä¸€å¹´åšå®¢é¦–é¡µçš„ Banner æ¢äº†å‡ æ¬¡ Title ä¹Ÿæ˜¯å’Œ<strong>â€œæ€è€ƒè¿‡ç¨‹â€</strong>æœ‰å…³çš„ã€‚å¯ä»¥å¼•ç”³å‡ºä¸€ç‚¹ - è¿™ä¸€å¹´ï¼Œç›¸å¯¹äºç»“æœçš„äº§å‡ºï¼Œæˆ‘æ›´å…³æ³¨çš„æ˜¯è¿‡ç¨‹çš„æ”¶è·-è§£å†³é—®é¢˜è¿‡ç¨‹ä¸­çš„æ€è€ƒã€‚æ ¡æ‹›æ—¶éƒ¨åˆ†é¢è¯•çš„èƒŒä¹¦å¼å›ç­”è®©æˆ‘å¾ˆä¸çˆ½ã€Œè‡ªå·±å¤ªèœğŸ˜’ã€ï¼Œé€¼è‡ªå·±äº†è§£æŠŠæŸé¡¹æŠ€æœ¯å‡ºç°çš„å†å²ä¸åŸå› ï¼Œè¿™ç®—æ˜¯éƒ¨åˆ†åŸå› ã€‚å¦ä¸€éƒ¨åˆ†å˜›ï¼Œä»¥å‰å…¥é—¨æ—¶ä¸€æ­¥ä¸€æ­¥è·Ÿç€åˆ«äººåš demoï¼Œè·Ÿç€åˆ«äººçš„æ€è·¯èµ°ï¼ŒæŒ‰ç…§åˆ«äººçš„æ–¹æ³•è§£å†³é—®é¢˜ï¼Œç°åœ¨æ·±å—å…¶å®³åº“ğŸ˜¥ï¼Œç¼ºå°‘äº†ç‚¹â€œç‹¬ç«‹æ€è€ƒâ€ï¼Œå¤ªä¸çˆ½äº†ã€‚Soï¼Œ2020 å¹´å…³æ³¨äº†ä¸‹<strong>è§£å†³é—®é¢˜çš„æ€è€ƒè¿‡ç¨‹ï¼Œæ–¹æ¡ˆå¦‚ä½•é«˜æ•ˆé«˜è´¨äº§å‡º</strong>ã€‚</p><h3 id="å­¦ä¹ -æˆé•¿"><a href="#å­¦ä¹ -æˆé•¿" class="headerlink" title="å­¦ä¹  - æˆé•¿"></a>å­¦ä¹  - æˆé•¿</h3><p>è°ˆåˆ°å­¦ä¹ ï¼Œè¿™ä¸€å¹´çœ‹å¾—ä¹¦ä¸ç®—å¤šï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜æŒºç¡¬æ ¸ã€‚æˆ‘æ±²å–çŸ¥è¯†çš„æ–¹å¼ä¸ä»…æœ‰è¯»ä¹¦ &amp; æ–‡æ¡£ &amp; åšå®¢ï¼Œè¿˜ä¼šçœ‹ä¸€äº› dalao åœ¨æå®¢æ—¶é—´å¼€çš„æŠ€æœ¯ä¸“æ ï¼Œç•¥å¾®çœ‹ä¸‹æˆ‘çš„<a href="https://promo.geekbang.org/activity/report-2020/3EBF3AE4863D57">æå®¢æ—¶é—´ 2020 å¹´ç»ˆæŠ¥å‘Š</a>ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/geektime-learning.jpeg' data-fancybox='default' data-caption='æå®¢æ—¶é—´ 2020 å¹´ç»ˆæŠ¥å‘Š'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/geektime-learning.jpeg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/geektime-learning.jpeg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æå®¢æ—¶é—´ 2020 å¹´ç»ˆæŠ¥å‘Š"></a><span class='image-caption'>æå®¢æ—¶é—´ 2020 å¹´ç»ˆæŠ¥å‘Š</span></div></div><p>â€œæœ‰ä¸€å¤©è‚å¾—å¤ªæ™šäº†ï¼Œä¸å¾—ï¼Œä»¥åå¥½å¥½æ‘¸é±¼å‘€ï¼Œå•Š sirã€‚â€</p><p>è·Ÿç€<a href="https://coolshell.cn/haoel">è€—å­å”</a>è®¤è¯†äº†è¿™ä¸ªå¹³å°ï¼Œå‰äº†å¥½å‡ æ¬¡æ‰‹ 2333~ï¼Œä¸è¿‡åˆ°ç°åœ¨çœ‹æ¥å¹¶ä¸äºï¼Œç›¸å¯¹äºè§†é¢‘å­¦ä¹ ï¼Œä¸ªäººè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢è¿™ç§æ–‡å­—å½¢å¼çš„å­¦ä¹ çš„ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åå¤ç¢ç£¨ï¼Œé€šè¿‡è¿™ä¸ªå¹³å°è¿˜äº†è§£åˆ°äº†è®¸å¤šå„ä¸ªé¢†åŸŸçš„ dalaoã€‚</p><h4 id="Podcast"><a href="#Podcast" class="headerlink" title="Podcast"></a>Podcast</h4><p>ä»ä¸Šä¸€å¹´ï¼ˆ2019ï¼‰ GET åˆ°çš„æ’­å®¢ã€Œ<a href="https://pythonhunter.org/">æ•è›‡è€…è¯´</a>ã€æ±²å–çŸ¥è¯†çš„å§¿åŠ¿ 2020 å¹´ä»ç„¶ä¿æŒç€ï¼Œå¯¹ä¸ªäººæ¥è¯´åˆæ–°é¢–ã€åˆæœ‰è¶£ï¼Œå¯ä»¥å¬åˆ° dalao çš„å£°éŸ³ã€å°å£° bbï¼Œæ ¡æ‹›é¢è¯•æ€»æ„Ÿè§‰æœ‰ä¸ªé¢è¯•å®˜å£°éŸ³åœ¨å“ªé‡Œå¬è¿‡ğŸ¤£ã€ã€‚</p><h4 id="Reading"><a href="#Reading" class="headerlink" title="Reading"></a>Reading</h4><p>è¿™ä¸€å¹´çœ‹å¾—ä¹¦è¿˜çœŸçš„ä¸ç®—å¤šï¼Œç•¥å¾®ç½—åˆ—ä¸‹ï¼š</p><ul><li>åœ¨è¯»ï¼Œæœ‰éƒ¨åˆ†å·®ä¸å¤šè¯»å®Œäº†<ul><li>ã€ŠReact è®¾è®¡æ¨¡å¼ä¸æœ€ä½³å®è·µã€‹</li><li>ã€Šè®¡ç®—æœºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ã€‹</li><li>ã€Šç½‘ç»œæ˜¯æ€æ ·è¿æ¥çš„ã€‹</li><li>ã€ŠPython äº‘åŸç”Ÿï¼šæ„å»ºåº”å¯¹æµ·é‡ç”¨æˆ·æ•°æ®çš„é«˜å¯æ‰©å±• Web åº”ç”¨ã€‹</li><li>ã€Šç°ä»£æ“ä½œç³»ç»Ÿ åŸä¹¦ç¬¬å››ç‰ˆã€‹</li><li>ã€Šäº‘åŸç”Ÿ Javaã€‹</li><li>ã€ŠCloud Native Go æ„å»ºåŸºäº Go å’Œ React çš„äº‘åŸç”Ÿ Web åº”ç”¨ä¸å¾®æœåŠ¡ã€‹</li><li>ã€ŠKubernetes Handbookã€‹</li><li>ã€ŠTypeScript Deep Diveã€‹</li><li>ã€Šå¤§å‹ç½‘ç«™æŠ€æœ¯æ¶æ„ï¼šæ ¸å¿ƒåŸç†ä¸æ¡ˆä¾‹åˆ†æã€‹</li><li>ã€ŠNginx é«˜æ€§èƒ½ä¸ Web æœåŠ¡å™¨è¯¦è§£ã€‹</li></ul></li><li>ä»Šå¹´å‡†å¤‡äº†è§£ä¸‹<ul><li>ã€ŠGo è¯­è¨€è®¾è®¡ä¸å®ç°ã€‹</li><li>ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…» - é“¾æ¥ã€è£…è½½ä¸åº“ã€‹</li><li>â€¦â€¦</li></ul></li></ul><p>è¿™ä¸€å¹´ï¼Œæˆ‘å…³æ³¨äº†è®¸å¤š CS åŸºç¡€ç›¸å…³ã€Œæ·±çŸ¥ä¸ CS ä¸“ä¸šçš„ dalao çš„å·®è·è¿˜æ˜¯å¾ˆå¤§çš„ã€çš„ä¹¦ç±ï¼Œä¸ºäº†æ ¡æ‹›é¢è¯•ï¼Œæ›´ä¸ºäº†ä»¥åæ›´å¥½çš„å‘å±•ã€‚ä»Šå¹´çœ‹çš„ä¹¦æœ‰éƒ¨åˆ†æ˜¯å’Œ <a href="https://jimmysong.io/about/">Jimmy Song</a> dalao ç›¸å…³çš„ï¼Œä¹Ÿå› è¿™ä½ dalao å…³æ³¨ä¸Šäº† Cloud Nativeã€‚æ„Ÿå¹ä¸‹ã€ŠGo è¯­è¨€è®¾è®¡ä¸å®ç°ã€‹ä½œè€…æ·±åšçš„åŠŸåº•ï¼Œ2021 å¹´æƒ³å†æ·±å…¥äº†è§£æ³¢ç¼–è¯‘åŸç†ã€‚</p><h4 id="Coding"><a href="#Coding" class="headerlink" title="Coding"></a>Coding</h4><p>åˆ°äº†ï¼ŒCoding ç›¸å…³çš„ï¼Œä¸å¾—ä¸æ GitHubï¼Œä½œä¸ºâ€œèµ„æ·± GitHub æ‰“å¡æ··å­â€ï¼Œé™¤äº† Gitee ä¸Šä¸ºäº†æ„Ÿå—ä¸‹ DevOps åšçš„ AI ç›¸å…³çš„å…¥é—¨çº§é¡¹ç›®çš„ä»£ç ï¼Œä»Šå¹´å†™çš„å¤§éƒ¨åˆ†ä»£ç éƒ½ä»¥æ”¾åˆ°äº† GitHub ä¸ªäººå…¬æœ‰ä»“æˆ–è€…ç§æœ‰ä»“ä¸Šã€‚çœ‹çœ‹æˆ‘çš„ <a href="https://report.mdnice.com/">GitHub å¹´åº¦æŠ¥å‘Š</a>ï¼Œå¯ä»¥å¤§è‡´äº†è§£ä¸‹æˆ‘çš„ Coding æƒ…å†µï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/github-coding-report.jpeg' data-fancybox='default' data-caption='2020 GitHub annual report'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/github-coding-report.jpeg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/github-coding-report.jpeg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="2020 GitHub annual report"></a><span class='image-caption'>2020 GitHub annual report</span></div></div><p>å†çœ‹çœ‹å°ç»¿ç‚¹ï¼Œè¿™ä¸€å¹´è¿‡å¾—è¿˜ç®—â€œå……å®â€ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/github-contribution.png' data-fancybox='default' data-caption='GitHub Card'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/github-contribution.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/github-contribution.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="GitHub Card"></a><span class='image-caption'>GitHub Card</span></div></div><h3 id="è¯¸å¤šçš„ç¬¬ä¸€æ¬¡"><a href="#è¯¸å¤šçš„ç¬¬ä¸€æ¬¡" class="headerlink" title="è¯¸å¤šçš„ç¬¬ä¸€æ¬¡"></a>è¯¸å¤šçš„ç¬¬ä¸€æ¬¡</h3><p>2020 å¹´ï¼Œæœ‰ç€è¯¸å¤šå¯¹äºæˆ‘æ¥è¯´ç‰¹åˆ«æœ‰æ„ä¹‰çš„ç¬¬ä¸€æ¬¡ï¼Œè®¤è¯†äº†è®¸å¤šçš„æœ‹å‹ã€dalaoã€‚</p><h4 id="ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººçš„è¿œé€”"><a href="#ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººçš„è¿œé€”" class="headerlink" title="ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººçš„è¿œé€”"></a>ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººçš„è¿œé€”</h4><p>2020 å¹´çš„ 21 å±Šæš‘å‡å®ä¹ æ˜¥æ‹›ï¼Œæˆ‘æœ€ç»ˆæ¥äº†ä¸€å®¶æ­å·äº’è”ç½‘å¤§å‚çš„ offerï¼Œå¤§è€è¿œçš„ä»æ¡‚æ—è·‘å»æ­å·å®ä¹ ã€‚è¿™è¿˜æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººè·‘è¿™ä¹ˆè¿œï¼Œå¤§å­¦å…¥å­¦æ—¶è¿˜æœ‰çˆ¶æ¯é™ªåŒï¼Œè¿™çœŸçš„æ˜¯ç¬¬ä¸€æ¬¡è·‘åˆ°æ­å·è¿™ä¹ˆè¿œçš„åœ°æ–¹ã€‚å“ªä¸ªå‚ï¼Ÿçœ‹ä¸‹å›¾ğŸ˜€ã€Œå­¦é™¢ç¤¾å›¢ï¼Œç’å¤©è¿‡æµ·ï¼Œå˜¿å˜¿å˜¿~(<em>^_^</em>)ï¼Œå¯¹ä¸ä½-å¯¹ä¸ä½ã€ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/first-time-series.jpeg' data-fancybox='default' data-caption='HangZhou Netease'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/first-time-series.jpeg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/first-time-series.jpeg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="HangZhou Netease"></a><span class='image-caption'>HangZhou Netease</span></div></div><p>é¡ºå¸¦ä¸€æï¼Œç¬¬ä¸€æ¬¡ç™½å¤©åâ€œç°æœºâ€ï¼Œè§è¯†äº†ä¸‹ç¥–å›½çš„å¤§å¥½æ²³å±±ã€Œä¸œå—ä¸˜é™µã€æ±Ÿæµ™å¹³åŸã€ã€‚</p><h4 id="ç¬¬ä¸€æ¬¡å®ä¹ "><a href="#ç¬¬ä¸€æ¬¡å®ä¹ " class="headerlink" title="ç¬¬ä¸€æ¬¡å®ä¹ "></a>ç¬¬ä¸€æ¬¡å®ä¹ </h4><p>è¯´èµ·å®ä¹ ï¼Œè¿™è¿˜æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å®ä¹ ã€Œâ€œæ‰“å·¥ä»”â€ã€ï¼Œä¸åƒæœ‰äº›å¤§ä½¬ä»å¤§ä¸€å°±å¼€å§‹æœ‰å®ä¹ æœºä¼šäº†ã€‚ä¸‰ä¸ªæœˆçš„å®ä¹ æœŸéƒ½åœ¨â€œæ··â€ä¸€ä¸ªå¹³å°çš„å¼€å‘ï¼Œå¤ä¹ å·©å›º &amp; å­¦ä¹ äº†æŒºå¤šçš„å‰ç«¯ã€æœåŠ¡ç«¯ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³çš„æŠ€æœ¯ï¼Œè¿™é‡Œæœ‰ <a href="https://cloudnative.to/">Cloud Native</a> ç›¸å…³æŠ€æœ¯çš„è½åœ°ï¼Œåœ¨è¿™é‡Œç—›å¿«çš„ç©äº†å‡ ä¸‹ <a href="https://kubernetes.io/">Kubernetes</a> å’Œ <a href="https://xebialabs.com/periodic-table-of-devops-tools/">DevOps å…ƒç´ å‘¨æœŸè¡¨</a>é‡Œé¢çš„ä¸œè¥¿ï¼Œçœ‹äº†æ³¢â€œä¼ è¯´â€ä¸­çš„ <a href="https://pingcap.com/about-cn/">PingCAP</a> dalao çš„åˆ†äº«ã€‚åœ¨è¿™é‡Œè¦éå¸¸æ„Ÿè°¢æˆ‘çš„ mentor ç»™äº†æˆ‘å¾ˆå¤šæœºä¼šè®©æˆ‘å®è·µæˆ‘çš„æƒ³æ³•ï¼Œå°†ç›¸å…³æŠ€æœ¯ã€è§„èŒƒèå…¥åˆ°å¹³å°çš„å¼€å‘ä¸­æ¥ã€‚ä¸å¾—ä¸æçš„æ˜¯-æˆ‘æ‰€åœ¨çš„éƒ¨é—¨å½’å±äº Netease çš„ä¸€ä¸ª AI Labï¼Œå¾ˆå¹¸è¿èƒ½å¤Ÿäº†è§£åˆ°å‰æ²¿ <a href="https://easyai.tech/ai-definition/reinforcement-learning/">RL</a> ç›¸å…³æŠ€æœ¯çš„è½åœ°å®è·µï¼Œå…·ä½“å°±ä¸å±•å¼€æ¸¯äº†ã€‚</p><p>åœ¨æ­å·å®ä¹ è®¤è¯†äº†å‡ ä¸ªæ¥è‡ªæ­¦å¤§ã€æµ™å¤§ã€åŒ—å¤§ã€ç”µå­ç§‘å¤§ã€HongKong çš„æœ‹å‹ &amp; ç­–åˆ’dalaoã€åŠ¨æ•ˆdalaoã€ç¾æœ¯dalaoï¼Œæœ‰åŒå‚çš„ä¹Ÿæœ‰ä¸åŒå‚çš„ï¼Œè¿™äº›äººçœŸçš„å¼ºï¼Œæˆ‘åäº†ï¼Œæˆ‘ä¸€ç›´æƒ³è·Ÿä»–ä»¬è¯´èƒ½ä¸èƒ½ç»™ç‚¹æœºä¼šï¼Œåˆ«åŠæ‰“æˆ‘äº†ï¼Œæ±‚æ”¾è¿‡ï¼Œç–¯ç‹‚æš—ç¤º+æ˜ç¤ºğŸ¤ªæŠ¬å‡ æ‰‹ã€‚å’Œå‡ ä¸ªå¤§ä½¬å¼€äº†å¾ˆå¤šæ¬¡å°ç¶ï¼Œæ¶¨äº†å¾ˆå¤šçŸ¥è¯†ï¼Œåªæƒ³æ„Ÿå¹ï¼šå·®è·å’‹è¿™ä¹ˆå¤§ï¼Œä¸æ¯”äº†-ä¸å¿…äº†ã€‚</p><h4 id="ç¬¬ä¸€æ¬¡æ ¡æ‹›"><a href="#ç¬¬ä¸€æ¬¡æ ¡æ‹›" class="headerlink" title="ç¬¬ä¸€æ¬¡æ ¡æ‹›"></a>ç¬¬ä¸€æ¬¡æ ¡æ‹›</h4><p>2020 å¹´ï¼Œç¬¬ä¸€æ¬¡å‚åŠ æ ¡æ‹›ï¼ˆ2021å±Šæ˜¥ã€ç§‹æ‹›ï¼‰ï¼Œä¹Ÿè®¸æ˜¯æœ€åä¸€æ¬¡æ ¡æ‹›äº†ï¼Œæ— è¯»ç ”æ‰“ç®—ï¼ˆâ€œèœâ€å°±ä¸€ä¸ªå­—ï¼‰ã€‚æ²¡æƒ³åˆ°æˆ‘ä¸ªèœé¸¡å±…ç„¶æœ‰æœºä¼šå¤§å‚ä¸€è½®æ¸¸ï¼ˆBATã€TMDã€èŠå‚ã€ğŸ–å‚ç­‰ï¼‰ï¼Œéå¸¸æ„Ÿè°¢æ¯ä¸ªé¢è¯•å®˜ç»™çš„æœºä¼šï¼Œè¿˜é¡ºå¸¦ç»™äº†æˆ‘éå¸¸å¤šæˆé•¿ã€æ²Ÿé€šæ–¹é¢çš„å»ºè®®ï¼Œå°è±¡æœ€æ·±åˆ»çš„å°±æ˜¯ç¾å›¢å’Œé¹…å‚çš„é¢è¯•ï¼ŒçŸ¥è¯†é¢æ‰“æ»¡äº†ï¼Œè¿˜é¡ºå¸¦é—®äº†æ•°ç†ç»Ÿè®¡ç›¸å…³çš„çŸ¥è¯†ï¼Œå¸®æˆ‘æ‰“é€šäº†ä¸‹çŸ¥è¯†ä½“ç³»ã€‚æ€»å¾—æ¥è¯´ï¼Œè¿™æ¬¡æ ¡æ‹›ä¸äºä¸äºï¼Œæ‹¿äº†å‡ ä¸ªä¸ç®—å¥½ä¹Ÿä¸ç®—å·®çš„ offerï¼Œå¯èƒ½å› ä¸ºæˆ‘å¤ªèœï¼Œæ²¡èƒ½ç•™ğŸ–å‚ï¼Œæœ€ç»ˆé€‰æ‹©äº† A å‚ï¼Œç»§ç»­åŠªåŠ›ï¼ŒæœŸå¾…ä»¥åæ›´å¥½çš„æˆé•¿ã€‚</p><p>å†æ¬¡é¡ºå¸¦ä¸€æï¼Œ20 å¹´å‡‘ï¼ˆâ€œç™½å«–â€ï¼‰äº†å‡ ä¸ªå‚çš„å°ç‰©ä»¶ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/campus-recruitment.jpeg' data-fancybox='default' data-caption='Gift'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/campus-recruitment.jpeg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/campus-recruitment.jpeg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Gift"></a><span class='image-caption'>Gift</span></div></div><h4 id="ç¬¬ä¸€æ¬¡æ”¯æŒæ°å“¥çš„æ¼”å”±ä¼š"><a href="#ç¬¬ä¸€æ¬¡æ”¯æŒæ°å“¥çš„æ¼”å”±ä¼š" class="headerlink" title="ç¬¬ä¸€æ¬¡æ”¯æŒæ°å“¥çš„æ¼”å”±ä¼š"></a>ç¬¬ä¸€æ¬¡æ”¯æŒæ°å“¥çš„æ¼”å”±ä¼š</h4><p>ä½œä¸ºæ°å“¥å°†è¿‘å…«å¹´çš„æ­Œè¿·ï¼Œä»Šå¹´å¬äº†åœºç½‘æ˜“äº‘éŸ³ä¹çš„çº¿ä¸Šæ¼”å”±ä¼šï¼Œ2333~ï¼Œç»ˆäºæ”¯æŒäº†æ³¢æ°å“¥ï¼Œå¸Œæœ› 2021 å¹´æœ‰æœºä¼šçº¿ä¸‹å¬ä¸€åœºæ°å“¥çš„å·¡å›æ¼”å”±ä¼šã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/zhangjie.jpeg' data-fancybox='default' data-caption='WE LIVE ç”Ÿæ—¥æ¼”å”±ä¼š'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/zhangjie.jpeg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/zhangjie.jpeg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="WE LIVE ç”Ÿæ—¥æ¼”å”±ä¼š"></a><span class='image-caption'>WE LIVE ç”Ÿæ—¥æ¼”å”±ä¼š</span></div></div><h4 id="ç¬¬ä¸€æ¬¡æŠŠè‡ªå·±çš„ç¬”è®°æœ¬â€œå¹²æ‰äº†â€"><a href="#ç¬¬ä¸€æ¬¡æŠŠè‡ªå·±çš„ç¬”è®°æœ¬â€œå¹²æ‰äº†â€" class="headerlink" title="ç¬¬ä¸€æ¬¡æŠŠè‡ªå·±çš„ç¬”è®°æœ¬â€œå¹²æ‰äº†â€"></a>ç¬¬ä¸€æ¬¡æŠŠè‡ªå·±çš„ç¬”è®°æœ¬â€œå¹²æ‰äº†â€</h4><p>2020 å¹´ï¼Œå®‰å¥ˆä¸ä½å¿ƒä¸­çš„â€œå†²åŠ¨â€ï¼ŒæŠŠè‡ªå·±çš„æ¸£æ¸£ç¬”è®°æœ¬ç”µè„‘â€œè§£å‰–â€äº†ï¼Œã€Œç‰¹åˆ«æƒ³æ¢ä¸€ä¸‹ï¼Œå¥ˆä½•æ²¡èµ„æœ¬ï¼Œè·‘ä¸ª IDEA çœŸè´¹åŠ²ï¼Œç­‰æˆ‘å…¥èŒç¬¬ä¸€ä¸ªæœˆ salary åˆ°æ‰‹ï¼Œåæ‰‹â€œå± â€äº†å®ƒã€ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/campus-pc.jpeg' data-fancybox='default' data-caption='ä¸ªäººç¬”è®°æœ¬é…ç½®'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/campus-pc.jpeg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/campus-pc.jpeg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ä¸ªäººç¬”è®°æœ¬é…ç½®"></a><span class='image-caption'>ä¸ªäººç¬”è®°æœ¬é…ç½®</span></div></div><h2 id="å±•æœ›-2021"><a href="#å±•æœ›-2021" class="headerlink" title="å±•æœ› 2021"></a>å±•æœ› 2021</h2><p>ä¸€æ³¢æ“ä½œæ°´ä¸‹æ¥ï¼Œå‘ç° 2020 å¹´è¿‡å¾—è¿˜å‡‘åˆã€‚2021 å¹´å¸Œæœ›æ´»å¾—æ›´ç²¾å½©ã€æ›´å¿«ä¹ã€‚ä¸€æ³¢é¢è¯•å’Œå®ä¹ ä¸‹æ¥ï¼Œå‘ç°è‡ªå·±å„æ–¹é¢çš„èƒ½åŠ›è¿˜æ˜¯ä¸è¡Œå•Šï¼Œå¸Œæœ›ä»Šå¹´èƒ½å­¦å¥½å†°å±±ä¸Šå±‚çš„åŒæ—¶å¥½å¥½æå‡ä¸‹å†°å±±ä¸‹å±‚çš„èƒ½åŠ›ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/skill-mountain.png' data-fancybox='default' data-caption='ç½‘å›¾-å†°å±±æ¨¡å‹'><img fancybox itemprop="contentUrl" src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/skill-mountain.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2020/skill-mountain.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç½‘å›¾-å†°å±±æ¨¡å‹"></a><span class='image-caption'>ç½‘å›¾-å†°å±±æ¨¡å‹</span></div></div><p>2020 å¹´çš„å¼€æºæŠ€æœ¯ç¤¾åŒºå‚ä¸ç¨‹åº¦è¿˜æ˜¯ä¸è¡Œï¼Œ2021 å¹´ç»§ç»­åŠªåŠ›ã€‚2020 å¹´æœ«ï¼Œæœ‰å¹¸å—èµµè€å¸ˆé‚€è¯·ç»™ä¸Š Linux è¯¾çš„å­¦å¼Ÿå­¦å¦¹åšäº†æ¬¡ Linux ç›¸å…³çš„åˆ†äº«ï¼Œç‰¹åœ°å›é¡¾äº†ä¸‹ä¹‹å‰å­¦åˆ°çš„ä¸œè¥¿ï¼Œå¤ªå¤šçº°æ¼ï¼ˆâ€œè™½ç„¶æˆ‘åœ¨å¹æ°´ï¼Œè€Œä¸”æˆ‘ä¹Ÿæ²¡è®²å¤šå°‘ Linuxï¼Œå¯¹ä¸ä½ï¼Œå“ˆå“ˆå“ˆï¼Œè¿˜ç™½å«–äº†ä¸ªå°ç±³æ‰‹ç¯~å“ˆå“ˆå“ˆï¼â€ï¼‰ã€‚<a href="https://slide.shan333.cn/slides/20201112/">Slides</a> ã€ŒTipï¼šä¸‹å›¾å¯ä»¥æ‹¨åŠ¨å“¦(<em>^_^</em>)ã€</p><iframe src="https://slide.shan333.cn/slides/20201112/" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>2021 å¹´ï¼ŒåšæŒè¾“å‡ºï¼Œå¸Œæœ›ä¸ªäººåšå®¢æ›´æœ‰å‘³é“ï¼Œä¸åªæ˜¯æŠ€æœ¯æ–‡ç« ï¼Œèƒ½æœ‰ç‚¹ç”Ÿæ´»å‘³å„¿~ï¼</p><hr><ul><li><a href="https://shansan.top/2019/12/31/2019%E5%B9%B4%E6%80%BB%E7%BB%93/">2019 å¹´æ€»ç»“</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2021 Happy New Year</title>
      <link href="/2021/01/01/2021-new-year/"/>
      <url>/2021/01/01/2021-new-year/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://s3.ax1x.com/2020/12/31/rvR7lj.png" class="lazyload" data-srcset="https://s3.ax1x.com/2020/12/31/rvR7lj.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="2020 Happy New Year"></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®€å•è€ä¸€ä¸‹-Kafka</title>
      <link href="/2020/12/13/%E8%80%8D%E4%B8%80%E4%B8%8BKafka/"/>
      <url>/2020/12/13/%E8%80%8D%E4%B8%80%E4%B8%8BKafka/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>è¶ç€æ¯•è®¾åˆæœŸï¼Œè¿˜èƒ½æ‘¸ä¼šå„¿ğŸŸï¼Œäº†è§£æ³¢ Kafkaã€‚</p></blockquote><h2 id="Kafka-æœ¯è¯­ä¸€è§ˆ"><a href="#Kafka-æœ¯è¯­ä¸€è§ˆ" class="headerlink" title="Kafka æœ¯è¯­ä¸€è§ˆ"></a>Kafka æœ¯è¯­ä¸€è§ˆ</h2><blockquote><p>Kafkaï¼Œåˆ†å¸ƒå¼æ¶ˆæ¯å¼•æ“ç³»ç»Ÿï¼Œä¸»è¦åŠŸèƒ½æ˜¯æä¾›ä¸€å¥—å®Œå¤‡çš„æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…è§£å†³æ–¹æ¡ˆã€‚Kafka ä¹Ÿæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ã€åˆ†åŒºçš„ã€å¤šå‰¯æœ¬çš„å¤šè®¢é˜…è€…ï¼ŒåŸºäº Zookeeper åè°ƒçš„åˆ†å¸ƒå¼æ—¥å¿—ç³»ç»Ÿï¼Œå¯ç”¨äºå¤„ç† Web æ—¥å¿—å’Œæ¶ˆæ¯æœåŠ¡ã€‚</p></blockquote><ul><li>Topicï¼šä¸»é¢˜ï¼Œæ‰¿è½½æ¶ˆæ¯ï¼ˆRecordï¼‰çš„é€»è¾‘å®¹å™¨ï¼Œæ¯æ¡å‘å¸ƒåˆ° Kafka é›†ç¾¤çš„æ¶ˆæ¯éƒ½å½’å±äºæŸä¸€ä¸ª Topicï¼Œå®é™…åº”ç”¨ä¸­ï¼Œä¸åŒçš„ topic å¯¹åº”ç€ä¸åŒçš„ä¸šåŠ¡ï¼›</li><li>Brokerï¼šKafka æœåŠ¡è¿›ç¨‹ï¼Œä¸€ä¸ª Kafka é›†ç¾¤ç”±å¤šä¸ª Broker æœåŠ¡è¿›ç¨‹ç»„æˆï¼Œè™½ç„¶å¤šä¸ª Broker å¯åœ¨åŒä¸€æœåŠ¡å™¨ä¸Šè¿›è¡Œéƒ¨ç½²ï¼Œä½†ä¸ºäº†é«˜å¯ç”¨ï¼Œä¼šå°†ä¸åŒçš„ Broker éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼›</li><li>Partitionï¼šåˆ†åŒºï¼Œä¸€ç»„æœ‰åºçš„æ¶ˆæ¯åºåˆ—ï¼Œä¸€ä¸ª Topic å¯ä»¥æœ‰å¤šä¸ªåˆ†åŒºï¼ŒåŒä¸€ Topic ä¸‹çš„ Partition å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ Broker ä¸­ã€‚Producer ç”Ÿäº§çš„æ¯ä¸€æ¡æ¶ˆæ¯éƒ½ä¼šè¢«æ”¾åˆ°ä¸€ä¸ª Partition ä¸­ï¼Œæ¯æ¡æ¶ˆæ¯åœ¨ Partition ä¸­çš„ä½ç½®ä¿¡æ¯ç”±ä¸€ä¸ª Offsetï¼ˆåç§»é‡ï¼‰æ•°æ®è¡¨å¾ã€‚Kafka é€šè¿‡åç§»é‡ï¼ˆOffsetï¼‰æ¥ä¿è¯æ¶ˆæ¯åœ¨åˆ†åŒºå†…çš„é¡ºåºæ€§ï¼›</li></ul><span id="more"></span><ul><li>Leaderï¼šæ¯ä¸ª Partition ä¸‹å¯ä»¥é…ç½®å¤šä¸ª Replicaï¼ˆå‰¯æœ¬ï¼‰ï¼ŒReplica ç”±ä¸€ä¸ª Leader å’Œå¤šä¸ª Follower ç»„æˆï¼ŒLeader è´Ÿè´£å½“å‰ Partition æ¶ˆæ¯çš„è¯»å†™ï¼›</li><li>Followerï¼šç”¨äºåŒæ­¥ Leader ä¸­çš„æ•°æ®ï¼Œæ•°æ®å†—ä½™ï¼ŒLeader å¤±æ•ˆæ—¶ä¼šä» Followers ä¸­é€‰å–ï¼›</li><li>Producerï¼šç”Ÿäº§è€…å³æ•°æ®çš„å‘å¸ƒè€…ã€‚Producer å°†æ¶ˆæ¯å‘é€ç»™ Kafka å¯¹åº”çš„ Topic ä¸­ï¼ŒBroker æ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œä¼šå°†æ¶ˆæ¯å­˜å‚¨åˆ° Partition ä¸­ï¼›</li><li>Consumerï¼šæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹å¤šä¸ª Topic ä¸­çš„æ¶ˆæ¯ï¼Œä¸€ä¸ª Topic ä¸­çš„æ¶ˆæ¯ä¹Ÿå¯ä»¥è¢«å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼›</li><li>Consumer Groupï¼šæ¶ˆè´¹è€…ç»„ï¼Œæ¯ä¸€ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šå½’å±äºæŸä¸€ä¸ªæ¶ˆè´¹è€…ç»„ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œåˆ™å–é»˜è®¤çš„ Groupï¼›</li><li>Consumer Offsetï¼šæ¶ˆè´¹è€…ä½ç§»ï¼Œç”¨äºè¡¨ç¤ºæ¶ˆè´¹è€…çš„æ¶ˆè´¹è¿›åº¦ï¼›</li></ul><p>ä¸ Kafka ç›¸å…³çš„å‡ ä¸ªé—®é¢˜ï¼š</p><div class="tabs" id="tab-kafka-problem"><ul class="nav-tabs"><li class="tab active"><a class="#kafka-problem-1">Kafka å®ç°é«˜å¯ç”¨çš„æ‰‹æ®µ</a></li><li class="tab"><a class="#kafka-problem-2">Kafka å®ç°ä¼¸ç¼©æ€§çš„æ‰‹æ®µ</a></li><li class="tab"><a class="#kafka-problem-3">Zookeeperåœ¨Kafkaä¸­çš„ä½œç”¨</a></li><li class="tab"><a class="#kafka-problem-4">Kafkaå¦‚ä½•å®ç°æ¶ˆæ¯çš„æœ‰åº</a></li></ul><div class="tab-content"><div class="tab-pane active" id="kafka-problem-1"><ul><li>Broker åˆ†å¸ƒå¼éƒ¨ç½²</li><li>å¤‡ä»½æœºåˆ¶ï¼ˆReplacationï¼‰ï¼ŒæŠŠç›¸åŒçš„æ•°æ®æ‹·è´åˆ°å¤šå°æœºå™¨ä¸Šã€‚å³ Kafka Replicaï¼ŒLeader Replica æä¾›æ•°æ®çš„è¯»å†™æ“ä½œï¼ŒFollower Replica è´Ÿè´£åŒæ­¥æ•°æ®ã€‚</li></ul></div><div class="tab-pane" id="kafka-problem-2"><p>Partition æœºåˆ¶ï¼Œä¸€ä¸ª Topic åˆ’åˆ†ä¸ºå¤šä¸ª Partitionï¼Œé˜²æ­¢å•å° Broker æœºå™¨æ— æ³•å®¹çº³å¤ªå¤šçš„æ•°æ®ï¼ŒPartition æœºåˆ¶ä¸ Replica æœºåˆ¶è”ç³»ç´§å¯†ï¼Œæ¯ä¸ª Partition å¯ä»¥æœ‰å¤šä¸ª Replicaï¼ˆ1 Leader + N Followersï¼‰ã€‚</p></div><div class="tab-pane" id="kafka-problem-3"><blockquote><p>Zookeeper å¯ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿæä¾›åˆ†å¸ƒå¼é…ç½®æœåŠ¡ã€åŒæ­¥æœåŠ¡å’Œå‘½åæ³¨å†ŒæœåŠ¡ã€‚</p></blockquote><ul><li><p>Broker æ³¨å†Œï¼›</p></li><li><p>Topic æ³¨å†Œï¼ŒPartition ä¸ Broker ä¿¡æ¯çš„ä¿å­˜ï¼›</p></li><li><p>è´Ÿè½½å‡è¡¡æœæœåŠ¡ï¼ŒProducer ä¸ Consumer çš„è´Ÿè½½å‡è¡¡ï¼›</p></li><li><p>åˆ†åŒºä¸æ¶ˆè´¹è€…å…³ç³»çš„ç®¡ç†ï¼›</p></li><li><p>â€¦ç­‰</p></li><li><p><a href="https://zhuanlan.zhihu.com/p/41953232">æºç è§£è¯´zookeeperåœ¨kafkaä¸­çš„ä½œç”¨</a></p></li></ul></div><div class="tab-pane" id="kafka-problem-4"><p>ä»å‰æ–‡å¯çŸ¥ï¼ŒKafka çš„æ¶ˆæ¯å­˜å‚¨åœ¨ Topic ä¸­ï¼Œä¸€ä¸ª Topic åˆå¯ä»¥åˆ’åˆ†ä¸ºå¤šä¸ª Partitionï¼Œå¤š Partition æ—¶ï¼ŒKafka åªèƒ½ä¿è¯ Partition å†…çš„æ¶ˆæ¯æœ‰åºï¼ˆOffsetä¿è¯æœ‰åºï¼‰ï¼Œå¦‚éœ€ä¿è¯ Topic æ¶ˆæ¯çš„æœ‰åºï¼Œé‚£ä¹ˆåªèƒ½ä½¿ç”¨å•ä¸ªPartitionäº†ã€‚å¦‚æœä»è¦ä½¿ç”¨å¤šä¸ª Partitionï¼Œæ¶ˆæ¯çš„åˆ†åŒºå†™å…¥ç­–ç•¥åº”é€‰æ‹©æŒ‰é”®ï¼ˆKeyï¼‰ä¿å­˜ã€‚</p><ul><li><a href="https://www.cnblogs.com/listenfwind/p/12465409.html">è¯¦ç»†è§£ækafkaä¹‹kafkaåˆ†åŒºå’Œå‰¯æœ¬</a></li></ul></div></div></div><h2 id="é€šè¿‡-Go-ä½“éªŒä¸€ä¸‹-Kafka"><a href="#é€šè¿‡-Go-ä½“éªŒä¸€ä¸‹-Kafka" class="headerlink" title="é€šè¿‡ Go ä½“éªŒä¸€ä¸‹ Kafka"></a>é€šè¿‡ Go ä½“éªŒä¸€ä¸‹ Kafka</h2><h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><p>æ—¢ç„¶åªæ˜¯ç©ä¸€ä¸‹ï¼Œä¸å¦‚ä½¿ç”¨ Docker æ­å»º Kafka ç¯å¢ƒå§ï¼Œâ€œå³ç”¨å³ç„šâ€ã€‚</p><blockquote><p>ç¯å¢ƒï¼šWindows 10 Docker Desktop + WSL</p></blockquote><p>è¿™é‡Œé€šè¿‡ Docker-Compose æ­å»ºä¸ªå•æœºç‰ˆçš„ kafka é›†ç¾¤ï¼Œç¼–æ’æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.4&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">zoo1:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">zookeeper-one</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">zookeeper:3.4.9</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">zoo1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;2181:2181&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">ZOO_MY_ID:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">ZOO_PORT:</span> <span class="number">2181</span></span><br><span class="line">      <span class="attr">ZOO_SERVERS:</span> <span class="string">server.1=zoo1:2888:3888</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./zk-single-kafka-single/zoo1/data:/data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./zk-single-kafka-single/zoo1/datalog:/datalog</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">kafka1:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">kafka-one</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">confluentinc/cp-kafka:5.3.1</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">kafka1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;9092:9092&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">KAFKA_ADVERTISED_LISTENERS:</span> <span class="string">LISTENER_DOCKER_INTERNAL://kafka1:19092,LISTENER_DOCKER_EXTERNAL://$&#123;DOCKER_HOST_IP:-127.0.0.1&#125;:9092</span></span><br><span class="line">      <span class="attr">KAFKA_LISTENER_SECURITY_PROTOCOL_MAP:</span> <span class="string">LISTENER_DOCKER_INTERNAL:PLAINTEXT,LISTENER_DOCKER_EXTERNAL:PLAINTEXT</span></span><br><span class="line">      <span class="attr">KAFKA_INTER_BROKER_LISTENER_NAME:</span> <span class="string">LISTENER_DOCKER_INTERNAL</span></span><br><span class="line">      <span class="attr">KAFKA_ZOOKEEPER_CONNECT:</span> <span class="string">&quot;zoo1:2181&quot;</span></span><br><span class="line">      <span class="attr">KAFKA_BROKER_ID:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">KAFKA_LOG4J_LOGGERS:</span> <span class="string">&quot;kafka.controller=INFO,kafka.producer.async.DefaultEventHandler=INFO,state.change.logger=INFO&quot;</span></span><br><span class="line">      <span class="attr">KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR:</span> <span class="number">1</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./zk-single-kafka-single/kafka1/data:/var/lib/kafka/data</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">zoo1</span></span><br></pre></td></tr></table></figure><p>è¯¥ç¼–æ’æ–‡ä»¶æ¥è‡ªï¼š<a href="https://github.com/simplesteph/kafka-stack-docker-compose">https://github.com/simplesteph/kafka-stack-docker-compose</a> çš„ zk-single-kafka-single.ymlã€‚ä½¿ç”¨ <code>docker-compose up</code> å¯åŠ¨å®¹å™¨ã€‚</p><p>ç¼–æ’æ–‡ä»¶ä¸­æ‰€ä½¿ç”¨åˆ°çš„é•œåƒ <code>confluentinc/cp-kafka:5.3.1</code> å’Œ <code>zookeeper:3.4.9</code> é…ç½®å‚è€ƒï¼š</p><ul><li><a href="https://hub.docker.com/_/zookeeper">https://hub.docker.com/_/zookeeper</a></li><li><a href="https://hub.docker.com/r/confluentinc/cp-kafka">https://hub.docker.com/r/confluentinc/cp-kafka</a></li></ul><p>Kafka å’Œ Zookeeper å®¹å™¨å¯åŠ¨åï¼Œé…åˆ IDEA çš„ä¸¤ä¸ªæ’ä»¶ <code>Kafkalytic</code> å’Œ <code>Zoolytic</code> ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„è§‚å¯Ÿé›†ç¾¤çš„æƒ…å†µï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s3.ax1x.com/2020/12/14/rmg9W6.png' data-fancybox='default' data-caption='Cluster Management'><img fancybox itemprop="contentUrl" src="https://s3.ax1x.com/2020/12/14/rmg9W6.png" class="lazyload" data-srcset="https://s3.ax1x.com/2020/12/14/rmg9W6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Cluster Management"></a><span class='image-caption'>Cluster Management</span></div></div><p>é€šè¿‡ vscode æ’ä»¶æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„å¯¹å¯åŠ¨çš„å®¹å™¨è¿›è¡Œç®¡ç†ï¼ˆæ—¥å¿—è¿½è¸ªã€shell attachç­‰ï¼‰ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s3.ax1x.com/2020/12/14/rnTN0P.png' data-fancybox='default' data-caption='vscode docker plugin'><img fancybox itemprop="contentUrl" src="https://s3.ax1x.com/2020/12/14/rnTN0P.png" class="lazyload" data-srcset="https://s3.ax1x.com/2020/12/14/rnTN0P.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="vscode docker plugin"></a><span class='image-caption'>vscode docker plugin</span></div></div><p>é€šè¿‡ Kafka è‡ªå¸¦çš„å‘½ä»¤è¡Œå·¥å…·å¯ä»¥æŸ¥çœ‹ Topicï¼šï¼ˆå…ˆè¿æ¥åˆ° Kafka å®¹å™¨ï¼š<code>docker exec -it kafka-one bash</code>ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@kafka1:/# kafka-topics --describe --zookeeper zoo1:2181</span><br><span class="line">Topic:__confluent.support.metrics       PartitionCount:1        ReplicationFactor:1     Configs:retention.ms=31536000000</span><br><span class="line">        Topic: __confluent.support.metrics      Partition: 0    Leader: 1       Replicas: 1      Isr: 1</span><br><span class="line">Topic:__consumer_offsets        PartitionCount:50       ReplicationFactor:1     Configs:s</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-confluent-kafka-go-ä½“éªŒ-Kafka"><a href="#ä½¿ç”¨-confluent-kafka-go-ä½“éªŒ-Kafka" class="headerlink" title="ä½¿ç”¨ confluent-kafka-go ä½“éªŒ Kafka"></a>ä½¿ç”¨ confluent-kafka-go ä½“éªŒ Kafka</h3><p>Go ä¸­æœ‰ä¸¤ä¸ªæ¯”è¾ƒæœ‰åçš„ Go Clientï¼Œå³ <a href="https://github.com/segmentio/kafka-go">kafka-go</a> å’Œ <a href="https://github.com/confluentinc/confluent-kafka-go">confluent-kafka-go</a>ã€‚æˆ‘éƒ½ä¸ç†Ÿæ‚‰ğŸ˜‚ï¼Œä½†æ˜¯å‰é¢ç¼–æ’æ—¶ç”¨åˆ°äº† confluent å…¬å¸çš„ Kafka é•œåƒï¼Œæ‰€ä»¥è¿™é‡Œé€‰ç”¨ <code>confluent-kafka-go</code> åˆ›å»º Clientã€‚confluent-kafka-go é¡¹ç›®çš„ example æ‹¿æ¥å³ç”¨ã€‚</p><p>1ã€åˆ›å»º Go Module</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir go-kafka-demo</span><br><span class="line">cd go-kafka-demo</span><br><span class="line">go mod init github.com/yeshan333/go-kafka-demo</span><br><span class="line">go get -u github.com/confluentinc/confluent-kafka-go</span><br></pre></td></tr></table></figure><p>2ã€åˆ›å»º Consumerã€‚è¿™ä¸ª Consumer è®¢é˜…çš„ Topic ä¸º myTopicã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// kafka_consumer.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/confluentinc/confluent-kafka-go/kafka&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">c, err := kafka.NewConsumer(&amp;kafka.ConfigMap&#123;</span><br><span class="line"><span class="string">&quot;bootstrap.servers&quot;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line"><span class="string">&quot;group.id&quot;</span>:          <span class="string">&quot;myGroup&quot;</span>,</span><br><span class="line"><span class="string">&quot;auto.offset.reset&quot;</span>: <span class="string">&quot;earliest&quot;</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c.SubscribeTopics([]<span class="type">string</span>&#123;<span class="string">&quot;myTopic&quot;</span>, <span class="string">&quot;^aRegex.*[Tt]opic&quot;</span>&#125;, <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">msg, err := c.ReadMessage(<span class="number">-1</span>)</span><br><span class="line"><span class="keyword">if</span> err == <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;Message on %s: %s\n&quot;</span>, msg.TopicPartition, <span class="type">string</span>(msg.Value))</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// The client will automatically try to recover from all errors.</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;Consumer error: %v (%v)\n&quot;</span>, err, msg)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c.Close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€åˆ›å»º Producerã€‚è¿™ä¸ª Producer å‘ myTopic Topic å‘é€äº† 7 æ¡æ¶ˆæ¯ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// kafka_producer.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/confluentinc/confluent-kafka-go/kafka&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">p, err := kafka.NewProducer(&amp;kafka.ConfigMap&#123;<span class="string">&quot;bootstrap.servers&quot;</span>: <span class="string">&quot;localhost&quot;</span>&#125;)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">defer</span> p.Close()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Delivery report handler for produced messages</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> e := <span class="keyword">range</span> p.Events() &#123;</span><br><span class="line"><span class="keyword">switch</span> ev := e.(<span class="keyword">type</span>) &#123;</span><br><span class="line"><span class="keyword">case</span> *kafka.Message:</span><br><span class="line"><span class="keyword">if</span> ev.TopicPartition.Error != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;Delivery failed: %v\n&quot;</span>, ev.TopicPartition)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;Delivered message to %v\n&quot;</span>, ev.TopicPartition)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Produce messages to topic (asynchronously)</span></span><br><span class="line">topic := <span class="string">&quot;myTopic&quot;</span></span><br><span class="line"><span class="keyword">for</span> _, word := <span class="keyword">range</span> []<span class="type">string</span>&#123;<span class="string">&quot;Welcome&quot;</span>, <span class="string">&quot;to&quot;</span>, <span class="string">&quot;the&quot;</span>, <span class="string">&quot;Confluent&quot;</span>, <span class="string">&quot;Kafka&quot;</span>, <span class="string">&quot;Golang&quot;</span>, <span class="string">&quot;client&quot;</span>&#125; &#123;</span><br><span class="line">p.Produce(&amp;kafka.Message&#123;</span><br><span class="line">TopicPartition: kafka.TopicPartition&#123;Topic: &amp;topic, Partition: kafka.PartitionAny&#125;,</span><br><span class="line">Value:          []<span class="type">byte</span>(word),</span><br><span class="line">&#125;, <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Wait for message deliveries before shutting down</span></span><br><span class="line">p.Flush(<span class="number">15</span> * <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4ã€ä¸¤ä¸ª terminalï¼Œå…ˆè·‘ Consumerï¼Œå†è·‘ Producerã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">terminal 1</span></span><br><span class="line">go run kafka_consumer.go</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ternimal 2</span></span><br><span class="line">go run kafka_producer.go</span><br></pre></td></tr></table></figure><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s3.ax1x.com/2020/12/14/rmcYRK.png' data-fancybox='default' data-caption='run result'><img fancybox itemprop="contentUrl" src="https://s3.ax1x.com/2020/12/14/rmcYRK.png" class="lazyload" data-srcset="https://s3.ax1x.com/2020/12/14/rmcYRK.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="run result"></a><span class='image-caption'>run result</span></div></div><p>æ”¶å·¥ï¼Œå…¶ä»–ä¸œè¥¿åç»­æ…¢æ…¢å•ƒã€‚æœ¬æ–‡æºæ–‡ä»¶ï¼š<a href="https://github.com/yeshan333/go-kafka-demo">https://github.com/yeshan333/go-kafka-demo</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://docs.confluent.io/clients-confluent-kafka-go/current/#go-example-code">CONFLUENT-Kafka Go Client</a></li><li><a href="http://kafka.apache.org/documentation/#operations">Apache Kafka Operations</a></li><li><a href="https://github.com/simplesteph/kafka-stack-docker-compose/blob/master/zk-single-kafka-single.yml">kafka-stack-docker-compose</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ä¸­é—´ä»¶ </category>
          
          <category> Kafka </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kafka </tag>
            
            <tag> æ¶ˆæ¯å¼•æ“ç³»ç»Ÿ </tag>
            
            <tag> æµå¤„ç†å¹³å° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨tcpdumpå’ŒWiresharkçœ‹ä¸‹TCPæ¡æ‰‹</title>
      <link href="/2020/11/15/%E4%BD%BF%E7%94%A8tcpdump%E5%92%8Cwireshark%E7%9C%8B%E4%B8%8BTCP%E6%8F%A1%E6%89%8B/"/>
      <url>/2020/11/15/%E4%BD%BF%E7%94%A8tcpdump%E5%92%8Cwireshark%E7%9C%8B%E4%B8%8BTCP%E6%8F%A1%E6%89%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>tcpdump å’Œ Wireshark æ˜¯æœ€å¸¸ç”¨çš„ç½‘ç»œæŠ“åŒ…å’Œåˆ†æå·¥å…·ï¼Œä½œä¸ºç»å¸¸å’Œç½‘ç»œæ‰“äº¤é“çš„åˆ’æ°´é€‰æ‰‹ï¼Œæ€ä¹ˆèƒ½ä¸äº†è§£ä¸‹å‘¢ï¼Ÿè¡¥ç¯‡åšæ–‡å›é¡¾ä¸‹ç›¸å…³æ“ä½œã€‚è¿™é‡Œä»¥ example.com çš„ä¸€æ¬¡ GET è¯·æ±‚ä¸ºä¾‹ï¼Œå…ˆä½¿ç”¨ tcpdump æŠ“ä¸ªåŒ…ï¼Œå†ä½¿ç”¨ Wireshark çœ‹ä¸‹ TCP çš„æ¡æ‰‹ã€‚</p><blockquote><p>æ“ä½œç¯å¢ƒï¼šWSL2(Ubuntu 20.04 LTS) + Windows 10</p></blockquote><span id="more"></span><h2 id="ç”¨-tcpdump-æŠ“ä¸ªåŒ…"><a href="#ç”¨-tcpdump-æŠ“ä¸ªåŒ…" class="headerlink" title="ç”¨ tcpdump æŠ“ä¸ªåŒ…"></a>ç”¨ tcpdump æŠ“ä¸ªåŒ…</h2><p>å…ˆåœ¨ WSL2 Ubuntu å®‰è£…ä¸‹ tcpdumpã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨ wsl</span></span><br><span class="line">wsl</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£… tcpdump</span></span><br><span class="line">apt-get install tcpdump</span><br></pre></td></tr></table></figure><p>æŠ“åŒ…éœ€è¦ä½¿ç”¨ä¸¤ä¸ªç»ˆç«¯ï¼Œä¸€ä¸ªç»ˆç«¯ä½¿ç”¨ curl å‘ example.com å‘é€è¯·æ±‚ï¼Œä¸€ä¸ªç”¨äº packets çš„æŠ“å–ã€‚OKï¼ŒæŠ“åŒ…å¼€å§‹ï¼š</p><p>1ã€ä¸€ä¸ªç»ˆç«¯ä½¿ç”¨ tcpdump ç›‘å¬ example.comã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">terminal 1ï¼Œç›‘å¬ example.com çš„ç½‘ç»œåŒ…</span></span><br><span class="line">tcpdump -nn host example.com -w web.pcap</span><br></pre></td></tr></table></figure><p>2ã€å¦ä¸€ä¸ªç»ˆç«¯ä½¿ç”¨ curl å‘é€ç½‘ç»œè¯·æ±‚ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">terminal 2ï¼Œå‘é€ç½‘ç»œè¯·æ±‚</span></span><br><span class="line">curl example.com</span><br></pre></td></tr></table></figure><p>è¯·æ±‚å‘é€å®Œæ¯•åï¼Œ<code>Ctrl + C</code> ç»ˆæ­¢ç»ˆç«¯ 1 çš„ç›‘å¬ï¼Œå°†æŠ“å–ç»“æœ <code>wep.pcap</code> æ‹·è´åˆ° Windows 10 æ¡Œé¢ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv web.pcap /mnt/c/Users/yeshan/Desktop/web.pcap</span><br></pre></td></tr></table></figure><p><img src="https://s3.ax1x.com/2020/11/15/DFPm6O.gif" class="lazyload" data-srcset="https://s3.ax1x.com/2020/11/15/DFPm6O.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ“ä½œ"></p><h2 id="æ‹¿-Wireshark-çœ‹ä¸‹åŒ…"><a href="#æ‹¿-Wireshark-çœ‹ä¸‹åŒ…" class="headerlink" title="æ‹¿ Wireshark çœ‹ä¸‹åŒ…"></a>æ‹¿ Wireshark çœ‹ä¸‹åŒ…</h2><p>ç”±äº tcpdump çš„è¾“å‡ºæ ¼å¼å¹¶ä¸ç›´è§‚ï¼Œæ‰€ä»¥ä¹‹å‰å°†æŠ“å–ç»“æœå†™å…¥åˆ° web.pcapã€‚ç„¶åè¿™é‡Œä½¿ç”¨æœ‰å›¾å½¢åŒ–ç•Œé¢çš„ Wireshark å»çœ‹ä¸‹åˆšåˆšæŠ“ä¸‹æ¥çš„ç½‘ç»œåŒ… web.pcapã€‚</p><ul><li>ä¸‹è½½å®‰è£… Wiresharkï¼š<a href="https://www.wireshark.org/download.html">https://www.wireshark.org/download.html</a></li></ul><p>1ã€ä½¿ç”¨ Wireshark æ‰“å¼€ web.pcapã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20201115173534.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20201115173534.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="wireshark çœ‹åŒ…"></p><p>2ã€ä½¿ç”¨ Wireshark çš„ç»Ÿè®¡å·¥å…·å¯ä»¥çœ‹åˆ° TCP æ¡æ‰‹çš„æµç¨‹ã€‚<code>åˆ†æ-&gt;æµé‡å›¾</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¡®å®š example.com ip</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">dig +short example.com</span></span><br><span class="line">93.184.216.34</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20201115174333.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20201115174333.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æµé‡å›¾"></p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20201115174144.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20201115174144.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="TCP æµ"></p><p>å®Œç¾ï¼Œå¯ä»¥çœ‹åˆ°ç»å…¸çš„ TCP æ¡æ‰‹è¿‡ç¨‹ã€‚ã€ŒTCPä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹ï¼šã€</p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20201115174718.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20201115174718.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="TCPä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹"></p><p>å¾ˆé¦™çš„æ˜¯ Wireshark æä¾›äº†è®¸å¤šç¤ºä¾‹ç½‘ç»œåŒ…ã€<a href="https://gitlab.com/wireshark/wireshark/-/wikis/SampleCaptures#grpc">SampleCaptures</a>ã€ï¼Œè®¡ç½‘å­¦ä¹ æ–°ä¸–ç•Œï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Wireshark </tag>
            
            <tag> è®¡ç®—æœºç½‘è·¯ </tag>
            
            <tag> TCP </tag>
            
            <tag> tcpdump </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è§£shallow copyã€deep copy</title>
      <link href="/2020/10/09/%E6%B5%85%E8%A7%A3shallow%20copy%E3%80%81deep%20copy/"/>
      <url>/2020/10/09/%E6%B5%85%E8%A7%A3shallow%20copy%E3%80%81deep%20copy/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>â€œå›ğŸ‘‹æâ€ã€‚æœ€è¿‘åšä¸œè¥¿ï¼Œæœ‰ç‚¹å„¿ç©ä¸è½¬å¤æ‚æ•°æ®ç±»å‹ï¼Œå†™ç¯‡åšæ–‡å†å›é¡¾ä¸‹æ·±ã€æµ…æ‹·è´ç›¸å…³çŸ¥è¯†ã€‚æ·±ã€æµ…çš„åŒºåˆ†ä¸»è¦åœ¨å¯¹å¤æ‚æ•°æ®ç±»å‹è¿›è¡Œæ“ä½œçš„æ—¶å€™ã€‚</p><blockquote><p>By the wayï¼šæ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼Œåæœˆäº†ï¼Œä¹‹å‰å®šäº†ä¸ªå°ç›®æ ‡ï¼š<code>ä¸€ä¸ªæœˆè‡³å°‘ä¸€ç¯‡æ–‡ç« äº§å‡º</code>ã€‚2020å¹´çš„ $ \frac{5}{6} $ å·²ç»è¿‡å»ã€‚å¾ˆåº†å¹¸è‡ªå·±åšæŒäº†ä¸‹æ¥ï¼Œå­¦åˆ°äº†ä¸å°‘ä¸œè¥¿ã€‚å®ä¹ æœŸé—´å…¶å®æœ‰ä¸å°‘çš„æ–‡ç« ä¸»é¢˜çš„æƒ³æ³•ï¼Œä½†çœŸæ­£æƒ³åŠ¨æ‰‹å†™ç¯‡åšæ–‡çš„æ—¶å€™ï¼Œå‘ç°äº‹æƒ…å¹¶æ²¡æœ‰æƒ³æƒ³ä¸­çš„é‚£ä¹ˆç®€å•ï¼Œä¸€ä¸ªä¸»é¢˜æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼Œå†åŠ ä¸Šå®è·µç»éªŒçš„ä¸è¶³ï¼Œæœ‰äº›ä¸œè¥¿å¾ˆéš¾å†™é“ç‚¹ä¸Šï¼Œcopy &amp; paste æ€»æ˜¯ä¸å¤ªå¥½çš„ã€åŠªåŠ›æé«˜æ–‡ç« è´¨é‡ï¼Œhhh~ã€ã€‚å¸Œæœ›è‡ªå·±åç»­ç»§ç»­åŠ æ²¹ã€‚<br><img src="https://s1.ax1x.com/2020/10/11/0cgxOg.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/10/11/0cgxOg.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ä¸€äº›æƒ³æ³•"></p></blockquote><span id="more"></span><h2 id="æµ…æ‹·è´ï¼ˆshallow-copyï¼‰"><a href="#æµ…æ‹·è´ï¼ˆshallow-copyï¼‰" class="headerlink" title="æµ…æ‹·è´ï¼ˆshallow copyï¼‰"></a>æµ…æ‹·è´ï¼ˆshallow copyï¼‰</h2><blockquote><ul><li>æµ…æ‹·è´æ€»ç»“ï¼šæ–°å¯¹è±¡å†…å®¹ä¸º<strong>åŸå¯¹è±¡å†…ç¬¬ä¸€å±‚å¯¹è±¡çš„å¼•ç”¨</strong>ã€‚</li></ul></blockquote><h3 id="Python-ä¸­çš„æµ…æ‹·è´"><a href="#Python-ä¸­çš„æµ…æ‹·è´" class="headerlink" title="Python ä¸­çš„æµ…æ‹·è´"></a>Python ä¸­çš„æµ…æ‹·è´</h3><p>å…³é”®ç‚¹å°±åœ¨äºè¿™ç¬¬ä¸€å±‚å¯¹è±¡ã€‚è®©æˆ‘ä»¬å…ˆçœ‹çœ‹ Python ä¸­çš„æµ…æ‹·è´ã€‚</p><p>å…ˆçœ‹çœ‹ä¸å«åµŒå¥—å…ƒç´ çš„æƒ…å½¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›´æ¥èµ‹å€¼ï¼Œä½¿ç”¨ is æ¯”è¾ƒåœ°å€</span></span><br><span class="line">l2 = l1</span><br><span class="line"><span class="built_in">print</span>(l1 <span class="keyword">is</span> l2)  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨æ„é€ å™¨</span></span><br><span class="line">l3 = <span class="built_in">list</span>(l1)</span><br><span class="line"><span class="built_in">print</span>(l1 <span class="keyword">is</span> l3)  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡ç‰‡</span></span><br><span class="line">l4 = l1[:]</span><br><span class="line"><span class="built_in">print</span>(l1 <span class="keyword">is</span> l4)  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(l1), <span class="built_in">id</span>(l2), <span class="built_in">id</span>(l3), <span class="built_in">id</span>(l4))  <span class="comment"># æŸ¥çœ‹å†…å­˜åœ°å€</span></span><br><span class="line"><span class="comment"># 2124445454144 2124445454144 2124445477568 2124445029248</span></span><br></pre></td></tr></table></figure><p>å«åµŒå¥—å…ƒç´ çš„æƒ…å½¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="number">1</span>, [<span class="number">2</span>,<span class="number">3</span>], <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›´æ¥èµ‹å€¼</span></span><br><span class="line">l2 = l1</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„é€ å™¨</span></span><br><span class="line">l3 = <span class="built_in">list</span>(l1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡ç‰‡</span></span><br><span class="line">l4 = l1[:]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> first, second, third, fourth <span class="keyword">in</span> <span class="built_in">zip</span>(l1, l2, l3, l4):</span><br><span class="line">    <span class="comment"># æŸ¥çœ‹æ¯å±‚å¯¹è±¡çš„åœ°å€</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;value&quot;</span>, first, <span class="string">&quot;address:&quot;</span>, <span class="built_in">id</span>(first), <span class="built_in">id</span>(second), <span class="built_in">id</span>(third), <span class="built_in">id</span>(fourth))</span><br><span class="line"><span class="comment"># value 1 address: 140729744430752 140729744430752 140729744430752 140729744430752</span></span><br><span class="line"><span class="comment"># value [2, 3] address: 1924217248768 1924217248768 1924217248768 1924217248768</span></span><br><span class="line"><span class="comment"># value 4 address: 140729744430848 140729744430848 140729744430848 140729744430848</span></span><br><span class="line"></span><br><span class="line">l4[<span class="number">1</span>].append(<span class="string">&quot;new&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(l1)  <span class="comment"># [1, [2, 3, &#x27;new&#x27;], 4]</span></span><br><span class="line"><span class="built_in">print</span>(l2)  <span class="comment"># [1, [2, 3, &#x27;new&#x27;], 4]</span></span><br><span class="line"><span class="built_in">print</span>(l3)  <span class="comment"># [1, [2, 3, &#x27;new&#x27;], 4]</span></span><br><span class="line"><span class="built_in">print</span>(l4)  <span class="comment"># [1, [2, 3, &#x27;new&#x27;], 4]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> first, second, third, fourth <span class="keyword">in</span> <span class="built_in">zip</span>(l1, l2, l3, l4):</span><br><span class="line">    <span class="comment"># æŸ¥çœ‹æ¯å±‚å¯¹è±¡çš„åœ°å€</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;value&quot;</span>, first, <span class="string">&quot;address:&quot;</span>, <span class="built_in">id</span>(first), <span class="built_in">id</span>(second), <span class="built_in">id</span>(third), <span class="built_in">id</span>(fourth))</span><br><span class="line"><span class="comment"># value 1 address: 140729744430752 140729744430752 140729744430752 140729744430752</span></span><br><span class="line"><span class="comment"># value [2, 3, &#x27;new&#x27;] address: 1639298767872 1639298767872 1639298767872 1639298767872</span></span><br><span class="line"><span class="comment"># value 4 address: 140729744430848 140729744430848 140729744430848 140729744430848</span></span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥çœ‹åˆ°ï¼ŒPythonä¸­åˆ‡ç‰‡æ“ä½œã€å·¥å‚å‡½æ•°å’Œ<code>=</code>æ“ä½œå‡æ˜¯æµ…æ‹·è´ï¼Œåªæ‹·è´äº†åŸå¯¹è±¡çš„ç¬¬ä¸€å±‚å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯¹ç¬¬ä¸€å±‚å¯¹è±¡çš„æ“ä½œä¼šå½±å“åˆ°å…¶å®ƒå¯¹å…ƒå¯¹è±¡è¿›è¡Œæµ…æ‹·è´çš„å¯¹è±¡ã€‚ä½†<code>=</code>æ“ä½œå’Œåˆ‡ç‰‡ã€æ„é€ å™¨ï¼ˆå·¥å‚å‡½æ•°ï¼‰ä¸åŒçš„æ˜¯ï¼Œ<code>=</code>æ“ä½œä¸ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒPython ä¸­ tuple çš„ tuple() å’Œåˆ‡ç‰‡æ“ä½œå’Œ<code>=</code>è¿›è¡Œçš„æ‹·è´ä¸€æ ·ï¼Œä¸ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚å­—å…¸çš„æµ…æ‹·è´å¯ä»¥ä½¿ç”¨ dict.copy()ã€‚</p><h3 id="JS-ä¸­çš„æµ…æ‹·è´"><a href="#JS-ä¸­çš„æµ…æ‹·è´" class="headerlink" title="JS ä¸­çš„æµ…æ‹·è´"></a>JS ä¸­çš„æµ…æ‹·è´</h3><p>è®©æˆ‘ä»¬å†æ¥çœ‹çœ‹ JS ä¸­çš„æµ…æ‹·è´æ“ä½œã€‚</p><p>è€è§„çŸ©ï¼Œå…ˆçœ‹çœ‹ç®€å•å¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// èµ‹å€¼</span></span><br><span class="line"><span class="keyword">let</span> obj2 = obj1;  <span class="comment">// &#123; a: 1, b: 2 &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.assign</span></span><br><span class="line"><span class="keyword">let</span> obj3 = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj1);  <span class="comment">// &#123; a: 1, b: 2 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj3)</span><br><span class="line"></span><br><span class="line"><span class="comment">// spread</span></span><br><span class="line"><span class="keyword">let</span> obj4 = &#123;...obj1&#125;;  <span class="comment">// // &#123; a: 1, b: 2 &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj2.<span class="property">a</span> = <span class="string">&quot;new&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: &#x27;new&#x27;, b: 2 &#125; &#123; a: &#x27;new&#x27;, b: 2 &#125; &#123; a: 1, b: 2 &#125; &#123; a: 1, b: 2 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1, obj2, obj3, obj4)</span><br></pre></td></tr></table></figure><p>å†çœ‹ä¸‹å¤æ‚å¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">    <span class="attr">b</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">c</span>: <span class="number">2</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">d</span>: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›´æ¥èµ‹å€¼</span></span><br><span class="line"><span class="keyword">let</span> obj2 = obj1;  <span class="comment">// &#123; a: &#123; b: 1, c: 2 &#125;, d: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.assign</span></span><br><span class="line"><span class="keyword">let</span> obj3 = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj1);  <span class="comment">// &#123; a: &#123; b: 1, c: 2 &#125;, d: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object Spread</span></span><br><span class="line"><span class="keyword">let</span> obj4 = &#123;...obj1&#125;;  <span class="comment">// &#123; a: &#123; b: 1, c: 2 &#125;, d: 3 &#125;</span></span><br><span class="line"></span><br><span class="line">obj2.<span class="property">a</span>.<span class="property">b</span> = <span class="string">&quot;new&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1);  <span class="comment">// &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2);  <span class="comment">// &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj3);  <span class="comment">// &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj4);  <span class="comment">// &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼ŒJS å¯¹è±¡çš„<code>=</code>æ“ä½œã€Object.assign({}, originObject) å’Œå¯¹è±¡æ‰©å±•è¿ç®—å‡æ˜¯æµ…æ‹·è´ã€‚ä½†æ˜¯ Object.assignå’Œå¯¹è±¡çš„æ‰©å±•è¿ç®—å¯¹åªæœ‰ä¸€å±‚çš„å¯¹è±¡è¿›è¡Œçš„æ˜¯æ·±æ‹·è´ã€‚æ­¤å¤– JS æ•°ç»„ã€Œarray ä¹Ÿæ˜¯ objectã€çš„ mapã€reduceã€filterã€slice ç­‰æ–¹æ³•å¯¹åµŒå¥—æ•°ç»„è¿›è¡Œçš„ä¹Ÿæ˜¯æµ…æ‹·è´æ“ä½œã€‚</p><p><strong>å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼ŒJS å’Œ Python ä¸­çš„æµ…æ‹·è´æ‹·è´çš„å‡æ˜¯ç¬¬ä¸€å±‚å¯¹è±¡çš„å¼•ç”¨ã€‚</strong></p><h2 id="æ·±æ‹·è´ï¼ˆdeep-copyï¼‰"><a href="#æ·±æ‹·è´ï¼ˆdeep-copyï¼‰" class="headerlink" title="æ·±æ‹·è´ï¼ˆdeep copyï¼‰"></a>æ·±æ‹·è´ï¼ˆdeep copyï¼‰</h2><blockquote><ul><li>æ·±æ‹·è´æ€»ç»“ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶ä¸”å°†åŸå¯¹è±¡ä¸­çš„å…ƒç´ ï¼Œä»¥é€’å½’çš„æ–¹å¼ï¼Œé€šè¿‡åˆ›å»ºæ–°çš„å­å¯¹è±¡æ‹·è´åˆ°æ–°å¯¹è±¡ä¸­ã€‚æ·±æ‹·è´æ‹·è´äº†å¯¹è±¡çš„æ‰€æœ‰å…ƒç´ ï¼ŒåŒ…æ‹¬å¤šå±‚åµŒå¥—çš„å…ƒç´ ã€‚</li></ul></blockquote><h3 id="Python-ä¸­çš„æ·±æ‹·è´"><a href="#Python-ä¸­çš„æ·±æ‹·è´" class="headerlink" title="Python ä¸­çš„æ·±æ‹·è´"></a>Python ä¸­çš„æ·±æ‹·è´</h3><p>åœ¨ Python ä¸­å®ç°å¤æ‚å¯¹è±¡çš„æ‹·è´å¯ä»¥é€šè¿‡æ ‡å‡†åº“<a href="https://docs.python.org/zh-cn/3/library/copy.html">copy</a> æä¾›çš„ copy.deepcopy å®ç°ï¼Œæ­¤å¤– copy æ¨¡å—è¿˜æä¾›äº† copy.copy è¿›è¡Œå¯¹è±¡çš„æµ…æ‹·è´ã€‚</p><p>çœ‹ä¸‹æ·±æ‹·è´çš„æƒ…å†µï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">l1 = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>]</span><br><span class="line">l2 = copy.deepcopy(l1)</span><br><span class="line"></span><br><span class="line">l2[<span class="number">1</span>].append(<span class="string">&quot;new&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(l1)  <span class="comment"># [1, [2, 3], 4]</span></span><br><span class="line"><span class="built_in">print</span>(l2)  <span class="comment"># [1, [2, 3, &#x27;new&#x27;], 4]</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæœ‰åˆ«äºæµ…æ‹·è´ï¼Œå¯¹æ·±æ‹·è´ l1 çš„æ–°å¯¹è±¡ l2 çš„å­å…ƒç´ å¢åŠ æ–°å…ƒç´ ï¼Œå¹¶ä¸ä¼šå½±å“åˆ° l1ã€‚</p><h3 id="JS-ä¸­çš„æ·±æ‹·è´"><a href="#JS-ä¸­çš„æ·±æ‹·è´" class="headerlink" title="JS ä¸­çš„æ·±æ‹·è´"></a>JS ä¸­çš„æ·±æ‹·è´</h3><p>åœ¨ JS ä¸­è¿›è¡Œå¤æ‚å¯¹è±¡çš„æ·±æ‹·è´ï¼Œå¯ä»¥ä½¿ç”¨ JSON.stringify å…ˆå°† JS å¯¹è±¡è½¬æˆ JSON å†è½¬ JS å¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">    <span class="attr">b</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">c</span>: <span class="number">2</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">d</span>: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj1));</span><br><span class="line"></span><br><span class="line">obj2.<span class="property">a</span>.<span class="property">b</span> = <span class="string">&quot;new&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1);  <span class="comment">// &#123; a: &#123; b: 1, c: 2 &#125;, d: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2); <span class="comment">// &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæ·±æ‹·è´åå¯¹æ–°å¯¹è±¡æ·±å±‚æ¬¡å¯¹è±¡çš„æ›´æ”¹ä¸ä¼šä½¿åŸå¯¹è±¡å‘ç”Ÿå˜æ›´ã€‚</p><h2 id="æ‰‹åŠ¨å®ç°æ·±æ‹·è´æ“ä½œ"><a href="#æ‰‹åŠ¨å®ç°æ·±æ‹·è´æ“ä½œ" class="headerlink" title="æ‰‹åŠ¨å®ç°æ·±æ‹·è´æ“ä½œ"></a>æ‰‹åŠ¨å®ç°æ·±æ‹·è´æ“ä½œ</h2><p>åœ¨æŸäº›æƒ…å†µä¸‹éœ€è¦æˆ‘ä»¬å®ç°æ·±æ‹·è´æ“ä½œï¼Œæ¯”å¦‚å¯¹è‡ªå®šä¹‰æ•°æ®ç±»å‹è¿›è¡Œæ·±æ‹·è´ã€‚å‰é¢ JS æ‰€è¿°ä½¿ç”¨ JSON è¿›è¡Œçš„æ·±æ‹·è´æ–¹æ³•ä»æœ‰ç¼ºé™·ï¼Œæ¯”å¦‚ï¼šä¼šå¿½ç•¥ undefinedã€ä¼šå¿½ç•¥ symbolã€ä¸èƒ½åºåˆ—åŒ–å‡½æ•°ã€ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ã€‚è¿™æ—¶å€™å°±éœ€è¦äº†è§£æ³¢æ·±æ‹·è´çš„å®ç°äº†ã€‚</p><p>ä»å‰é¢æ‰€è¿°å¯çŸ¥ï¼Œæ·±æ‹·è´ä¸æµ…æ‹·è´çš„åŒºåˆ«ä¸»è¦åœ¨äº copy çš„å±‚æ¬¡ï¼Œæµ…æ‹·è´ copy çš„æ˜¯ç¬¬ä¸€å±‚å¯¹è±¡çš„å¼•ç”¨ï¼Œæ·±æ‹·è´éœ€è¦ copy æ·±å±‚æ¬¡å¯¹è±¡ã€‚Soï¼Œä»¥ deepcopy å±‚æ¬¡ Object ä¸ºä¾‹å­ï¼Œè¦å®ç°çœŸæ­£çš„æ·±æ‹·è´æ“ä½œåˆ™éœ€è¦é€šè¿‡éå†é”®æ¥èµ‹å€¼å¯¹åº”çš„å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å¦‚æœé‡åˆ° Object ç±»å‹è¿˜éœ€è¦å†æ¬¡è¿›è¡Œéå†ã€ŒåŒæ ·çš„æ–¹æ³•ã€ã€‚é€’å½’æ— ç–‘äº†ã€‚æ¥çœ‹æ³¢å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepclone</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">WeakMap</span>(); <span class="comment">// è§£å†³å¾ªç¯å¼•ç”¨</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">deep</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = &#123;&#125;;</span><br><span class="line">    <span class="comment">// æ”¯æŒ Symbol ç±»å‹çš„å±æ€§</span></span><br><span class="line">    <span class="keyword">const</span> keys = [...<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(data), ...<span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(data)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!keys.<span class="property">length</span>) <span class="keyword">return</span> data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> exist = map.<span class="title function_">get</span>(data);</span><br><span class="line">    <span class="keyword">if</span> (exist) <span class="keyword">return</span> exist;</span><br><span class="line"></span><br><span class="line">    map.<span class="title function_">set</span>(data, result);</span><br><span class="line"></span><br><span class="line">    keys.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> item = data[key];</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> item === <span class="string">&#x27;object&#x27;</span> &amp;&amp; item) &#123;</span><br><span class="line">        result[key] = <span class="title function_">deep</span>(item);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result[key] = item;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">deep</span>(obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>OKï¼Œå†çœ‹äº› Python çš„ copy.deepcopy çš„å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">deepcopy</span>(<span class="params">x, memo=<span class="literal">None</span>, _nil=[]</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Deep copy operation on arbitrary Python objects.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  See the module&#x27;s __doc__ string for more info.</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> memo <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        memo = &#123;&#125;</span><br><span class="line">    d = <span class="built_in">id</span>(x) <span class="comment"># æŸ¥è¯¢è¢«æ‹·è´å¯¹è±¡xçš„id</span></span><br><span class="line">  y = memo.get(d, _nil) <span class="comment"># æŸ¥è¯¢å­—å…¸é‡Œæ˜¯å¦å·²ç»å­˜å‚¨äº†è¯¥å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">if</span> y <span class="keyword">is</span> <span class="keyword">not</span> _nil:</span><br><span class="line">      <span class="keyword">return</span> y <span class="comment"># å¦‚æœå­—å…¸é‡Œå·²ç»å­˜å‚¨äº†å°†è¦æ‹·è´çš„å¯¹è±¡ï¼Œåˆ™ç›´æ¥è¿”å›</span></span><br><span class="line">        ...</span><br></pre></td></tr></table></figure><p>emmâ€¦ï¼Œå®ç°æ€æƒ³ä¹Ÿæ˜¯ä½¿ç”¨é€’å½’ï¼ŒåŒæ—¶å€ŸåŠ©äº† memo ï¼ˆå¤‡å¿˜å½•ï¼‰è§£å†³å¯¹è±¡çš„å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œé¿å… StackOverflowã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://github.com/tc39/proposal-object-rest-spread/blob/master/Spread.md">Object Spread Initializer</a></li><li><a href="https://github.com/python/cpython/blob/20bdeedfb4ebd250dad9834c96cb858d83c896cb/Lib/copy.py#L128">Python copy.deepcopy</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Symbol">JS Symbol</a></li><li><a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=180#/detail/pc?id=3178">å…³äº JavaScript çš„æ•°æ®ç±»å‹ï¼Œä½ çŸ¥å¤šå°‘ï¼Ÿ</a></li><li><a href="https://time.geekbang.org/column/article/100105">Pythonå¯¹è±¡çš„æ¯”è¾ƒã€æ‹·è´</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±æ‹·è´ä¸æµ…æ‹·è´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è´Ÿè½½å‡è¡¡æŠ€æœ¯å°è®°</title>
      <link href="/2020/09/20/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E6%8A%80%E6%9C%AF%E5%B0%8F%E8%AE%B0/"/>
      <url>/2020/09/20/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E6%8A%80%E6%9C%AF%E5%B0%8F%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><details open red><summary> OSI æ¨¡å‹ </summary>              <div class='content'>              <p><img src="https://i.loli.net/2020/03/22/qthHTNlXyOvEfm3.png" class="lazyload" data-srcset="https://i.loli.net/2020/03/22/qthHTNlXyOvEfm3.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç½‘ç»œæ¨¡å‹"></p>              </div>            </details><h2 id="å¸¸è§-OSI-æ¨¡å‹è´Ÿè½½å‡è¡¡æ–¹æ¡ˆ"><a href="#å¸¸è§-OSI-æ¨¡å‹è´Ÿè½½å‡è¡¡æ–¹æ¡ˆ" class="headerlink" title="å¸¸è§ OSI æ¨¡å‹è´Ÿè½½å‡è¡¡æ–¹æ¡ˆ"></a>å¸¸è§ OSI æ¨¡å‹è´Ÿè½½å‡è¡¡æ–¹æ¡ˆ</h2><ul><li><p>2 å±‚è´Ÿè½½å‡è¡¡ï¼šä¸€èˆ¬æ˜¯ç”¨è™šæ‹Ÿ MAC åœ°å€æ–¹å¼ï¼Œå¤–éƒ¨å¯¹è™šæ‹Ÿ MAC åœ°å€è¯·æ±‚ï¼Œè´Ÿè½½å‡è¡¡å™¨æ¥æ”¶ååˆ†é…åç«¯å®é™…çš„ MAC åœ°å€å“åº”ã€‚</p></li><li><p>3 å±‚è´Ÿè½½å‡è¡¡ï¼šä¸€èˆ¬é‡‡ç”¨è™šæ‹Ÿ IP åœ°å€æ–¹å¼ï¼Œå¤–éƒ¨å¯¹è™šæ‹Ÿçš„ IP åœ°å€è¯·æ±‚ï¼Œè´Ÿè½½å‡è¡¡å™¨æ¥æ”¶ååˆ†é…åç«¯å®é™…çš„ IP åœ°å€å“åº”ã€‚</p></li></ul><span id="more"></span><ul><li><p>4 å±‚è´Ÿè½½å‡è¡¡ï¼šåŸºäº IP + ç«¯å£çš„è´Ÿè½½å‡è¡¡æ–¹æ¡ˆï¼Œå¯¹åº”äº OSI ä¸ƒå±‚æ¨¡å‹çš„ç¬¬å››å±‚ã€‚åŸºäºä¼ è¾“å±‚çš„åº•å±‚è´Ÿè½½å‡è¡¡æ–¹æ¡ˆï¼Œå¯ä»¥å®ç° TCP è¿æ¥å±‚çš„ä¼šè¯ä¿æŒã€‚</p></li><li><p>7 å±‚è´Ÿè½½å‡è¡¡ï¼šå³åº”ç”¨å±‚çš„è´Ÿè½½å‡è¡¡ã€‚7 å±‚çš„è´Ÿè½½å‡è¡¡æ›´åŠ é’ˆå¯¹ç‰¹å®šçš„åº”ç”¨åè®®ã€‚åŸºäº HTTP åº”ç”¨çš„è´Ÿè½½å‡è¡¡å¯ä»¥å®ç°å¯¹ URL çš„è½¬å‘åº”ç”¨ã€HTTP è¯·æ±‚çš„å¤„ç†ã€session ä¿¡æ¯ä¼šè¯ä¿æŒç­‰ç­‰ã€‚</p></li></ul><details open blue><summary> 4 å±‚ä¸ 7 å±‚è´Ÿè½½å‡è¡¡ </summary>              <div class='content'>              <p>4 å±‚çš„è´Ÿè½½å‡è¡¡æ›´åå‘åº•å±‚èƒ½åŠ›çš„è½¬å‘ï¼Œç›¸å¯¹äº 7 å±‚è´Ÿè½½å‡è¡¡ï¼Œè´Ÿè½½æ€§èƒ½æ›´å¥½ã€‚7 å±‚è´Ÿè½½å‡è¡¡èƒ½åšæ›´ç»†å¾®ç²’åº¦çš„è´Ÿè½½å†³ç­–ã€‚</p><ul><li>å¸¸è§è´Ÿè½½å‡è¡¡å™¨ï¼ˆLoad Balancerï¼‰ï¼š<ul><li><a href="https://www.f5.com/zh_cn/products/f5-technologies">F5</a>ï¼šç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨ï¼›</li><li><a href="http://www.linuxvirtualserver.org/zh/lvs1.html">LVS</a>ï¼šåŸºäºIPå±‚å’ŒåŸºäºå†…å®¹è¯·æ±‚åˆ†å‘çš„è´Ÿè½½å‡è¡¡å™¨ï¼›</li><li><a href="https://www.nginx.com/">Nginx</a>ï¼šè½»é‡çº§è´Ÿè½½å‡è¡¡å™¨ï¼ŒTCP/UDPã€HTTP è´Ÿè½½å‡è¡¡æ”¯æŒï¼›</li><li><a href="https://www.haproxy.org/#feat">HAProxy</a>ï¼šæ”¯æŒ TCP/HTTP çš„è´Ÿè½½å‡è¡¡ï¼›</li></ul></li></ul>              </div>            </details><h2 id="å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•"><a href="#å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•" class="headerlink" title="å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•"></a>å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•</h2><ul><li>è½®è¯¢ï¼ˆRound Robinï¼‰<ul><li>å°†å¤–éƒ¨è¯·æ±‚æŒ‰é¡ºåºè½®æµåˆ†é…åˆ°é›†ç¾¤ä¸­çš„çœŸå®æœåŠ¡å™¨ä¸Šï¼Œå®ƒå‡ç­‰åœ°å¯¹å¾…æ¯ä¸€å°æœåŠ¡å™¨ï¼Œè€Œä¸ç®¡æœåŠ¡å™¨ä¸Šå®é™…çš„è¿æ¥æ•°å’Œç³»ç»Ÿè´Ÿè½½ã€‚</li></ul></li><li>åŠ æƒè½®è¯¢ï¼ˆWeighted Round Robinï¼‰<ul><li>æ ¹æ®çœŸå®æœåŠ¡å™¨çš„ä¸åŒå¤„ç†èƒ½åŠ›æ¥è°ƒåº¦è®¿é—®è¯·æ±‚ã€‚è¿™æ ·å¯ä»¥ä¿è¯å¤„ç†èƒ½åŠ›å¼ºçš„æœåŠ¡å™¨å¤„ç†æ›´å¤šçš„è®¿é—®æµé‡ã€‚è‡ªåŠ¨é—®è¯¢çœŸå®æœåŠ¡å™¨çš„è´Ÿè½½æƒ…å†µï¼Œå¹¶åŠ¨æ€åœ°è°ƒæ•´å…¶æƒå€¼ã€‚</li></ul></li><li>ç›®æ ‡åœ°å€æ•£åˆ—ï¼ˆDestination Hashingï¼‰<ul><li>â€œç›®æ ‡åœ°å€æ•£åˆ—â€è°ƒåº¦ç®—æ³•æ ¹æ®è¯·æ±‚çš„ç›®æ ‡IPåœ°å€ï¼Œä½œä¸ºæ•£åˆ—é”®ï¼ˆHash Keyï¼‰ä»é™æ€åˆ†é…çš„æ•£åˆ—è¡¨æ‰¾å‡ºå¯¹åº”çš„æœåŠ¡å™¨ï¼Œè‹¥è¯¥æœåŠ¡å™¨æ˜¯å¯ç”¨çš„ä¸”æœªè¶…è½½ï¼Œå°†è¯·æ±‚å‘é€åˆ°è¯¥æœåŠ¡å™¨ï¼Œå¦åˆ™è¿”å›ç©ºã€‚</li></ul></li><li>æºåœ°å€æ•£åˆ—ï¼ˆSource Hashingï¼‰<ul><li>â€œæºåœ°å€æ•£åˆ—â€è°ƒåº¦ç®—æ³•æ ¹æ®è¯·æ±‚çš„æºIPåœ°å€ï¼Œä½œä¸ºæ•£åˆ—é”®ï¼ˆHash Keyï¼‰ä»é™æ€åˆ†é…çš„æ•£åˆ—è¡¨æ‰¾å‡ºå¯¹åº”çš„æœåŠ¡å™¨ï¼Œè‹¥è¯¥æœåŠ¡å™¨æ˜¯å¯ç”¨çš„ä¸”æœªè¶…è½½ï¼Œå°†è¯·æ±‚å‘é€åˆ°è¯¥æœåŠ¡å™¨ï¼Œå¦åˆ™è¿”å›ç©ºã€‚</li></ul></li><li>æœ€å°‘é“¾æ¥ï¼ˆLeast Connectionsï¼‰<ul><li>å°†è¯·æ±‚åˆ†é…åˆ°è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨ä¸Šï¼ˆç›®å‰å¤„ç†è¯·æ±‚æœ€å°‘çš„æœåŠ¡å™¨ï¼‰ã€‚æ ¹æ®æœåŠ¡å™¨å½“å‰çš„è¯·æ±‚å¤„ç†æƒ…å†µï¼ŒåŠ¨æ€åˆ†é….</li></ul></li><li>åŠ æƒæœ€å°‘é“¾æ¥ï¼ˆWeighted Least Connectionsï¼‰<ul><li>åœ¨é›†ç¾¤ç³»ç»Ÿä¸­çš„æœåŠ¡å™¨æ€§èƒ½å·®å¼‚è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œè´Ÿè½½å‡è¡¡å™¨é‡‡ç”¨â€åŠ æƒæœ€å°‘é“¾æ¥â€è°ƒåº¦ç®—æ³•ä¼˜åŒ–è´Ÿè½½å‡è¡¡æ€§èƒ½ï¼Œå…·æœ‰è¾ƒé«˜æƒå€¼çš„æœåŠ¡å™¨å°†æ‰¿å—è¾ƒå¤§æ¯”ä¾‹çš„æ´»åŠ¨è¿æ¥è´Ÿè½½ã€‚è´Ÿè½½å‡è¡¡å™¨å¯ä»¥è‡ªåŠ¨é—®è¯¢çœŸå®æœåŠ¡å™¨çš„è´Ÿè½½æƒ…å†µï¼Œå¹¶åŠ¨æ€åœ°è°ƒæ•´å…¶æƒå€¼ã€‚</li></ul></li><li>éšæœºæ³•ã€åŠ æƒéšæœºï¼ˆRandomï¼‰<ul><li>é€šè¿‡ç³»ç»Ÿéšæœºå‡½æ•°ï¼Œæ ¹æ®åå°æœåŠ¡å™¨åˆ—è¡¨çš„å¤§å°å€¼æ¥éšæœºé€‰å–å…¶ä¸­ä¸€å°è¿›è¡Œè®¿é—®ã€‚ç”±æ¦‚ç‡æ¦‚ç‡ç»Ÿè®¡ç†è®ºå¯ä»¥å¾—çŸ¥ï¼Œéšç€è°ƒç”¨é‡çš„å¢å¤§ï¼Œå…¶å®é™…æ•ˆæœè¶Šæ¥è¶Šæ¥è¿‘äºå¹³å‡åˆ†é…æµé‡åˆ°åå°çš„æ¯ä¸€å°æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯è½®è¯¢æ³•çš„æ•ˆæœã€‚ åŠ æƒéšæœºæ³•è·ŸåŠ æƒè½®è¯¢æ³•ç±»ä¼¼ï¼Œæ ¹æ®åå°æœåŠ¡å™¨ä¸åŒçš„é…ç½®å’Œè´Ÿè½½æƒ…å†µï¼Œé…ç½®ä¸åŒçš„æƒé‡ã€‚ä¸åŒçš„æ˜¯ï¼Œå®ƒæ˜¯æŒ‰ç…§æƒé‡æ¥éšæœºé€‰å–æœåŠ¡å™¨çš„ï¼Œè€Œéé¡ºåºã€‚</li></ul></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.nginx.com/resources/glossary/layer-7-load-balancing/">What Is Layer 7 Load Balancing?</a></li><li><a href="https://www.cnblogs.com/will-shun/archive/2017/09/22/7574644.html">å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Load Balance </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>setTimeout æ˜¯åˆ°äº†xx ms å°±æ‰§è¡Œå—ï¼Œäº†è§£æµè§ˆå™¨çš„ Event-Loop æœºåˆ¶</title>
      <link href="/2020/08/22/setTimeout%E6%98%AF%E5%88%B0%E4%BA%86xx%20ms%20%E5%B0%B1%E6%89%A7%E8%A1%8C%E5%90%97%EF%BC%8C%E4%BA%86%E8%A7%A3%20Event-Loop%20%E6%9C%BA%E5%88%B6/"/>
      <url>/2020/08/22/setTimeout%E6%98%AF%E5%88%B0%E4%BA%86xx%20ms%20%E5%B0%B1%E6%89%A7%E8%A1%8C%E5%90%97%EF%BC%8C%E4%BA%86%E8%A7%A3%20Event-Loop%20%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>è¦æƒ³ JavaScript ç©å¾—æºœï¼Œè¿˜å¾—äº†è§£æ³¢ JavaScript æ‰§è¡Œæœºåˆ¶/(ã„’oã„’)/~~ã€‚</p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘çœ‹äº†æ³¢ JavaScript ç›¸å…³çš„æ–‡ç« ï¼Œä¸å¾—ä¸è¯´ï¼ŒJavaScript æˆ‘è¿˜çœŸæ²¡ç©æ˜ç™½ï¼ˆç»™æˆ‘å“­~ã€‚ã€‚ã€‚ğŸ˜…ï¼‰ã€‚ä¹ŸæŒºä¹…æ²¡å†™æ–‡äº†ï¼Œå®ä¹ ï¼ˆâ€œæ‘¸ğŸŸâ€ï¼‰ä¹‹ä½™å°è®°ä¸€æ³¢ã€‚</p><blockquote><p>å›é¡¾ä¸€å¥è¯ï¼šJavaScript æ˜¯ä¸€é—¨å•çº¿ç¨‹ã€éé˜»å¡ã€å¼‚æ­¥ã€è§£é‡Šæ€§è„šæœ¬è¯­è¨€ã€‚</p></blockquote><p>æœ¬æ–‡çš„æ ‡é¢˜æ˜¯ï¼šsetTimeout æ˜¯åˆ°äº†xx ms å°±æ‰§è¡Œå—ï¼Œäº†è§£ Event-Loop æœºåˆ¶ã€‚å…ˆå›ç­”æ³¢ï¼šä¸æ˜¯ã€‚</p><p>æ¥çœ‹ä¸‹ç½‘ä¸Šçš„ä¸€æ®µç»å…¸ js ä»£ç åœ¨æµè§ˆå™¨ä¸­ã€ŒMicrosoft Edge 84.0.522.63ï¼ˆ64ä½ï¼‰ã€çš„æ‰§è¡Œç»“æœã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;promise2&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200822164050.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200822164050.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ‰§è¡Œç»“æœ"></p><p>å¯ä»¥æ˜æ˜¾çœ‹åˆ° <code>setTimeout</code> çš„ callback å¹¶éåœ¨ 0 ms åç«‹å³æ‰§è¡Œã€‚é‚£ä¹ˆï¼Œè¿™æ˜¯é—®ä»€ä¹ˆï¼Ÿè¦äº†è§£åŸå› ï¼Œéœ€è¦äº†è§£åç»­ä»‹ç»çš„ Event Loop æœºåˆ¶ã€‚</p><h2 id="æ¦‚å¿µä¸€è§ˆ"><a href="#æ¦‚å¿µä¸€è§ˆ" class="headerlink" title="æ¦‚å¿µä¸€è§ˆ"></a>æ¦‚å¿µä¸€è§ˆ</h2><ul><li>æµè§ˆå™¨çš„å†…æ ¸-å¤šçº¿ç¨‹çš„æ¸²æŸ“è¿›ç¨‹ï¼š<strong>é¡µé¢çš„æ¸²æŸ“ã€js çš„æ‰§è¡Œã€äº‹ä»¶çš„å¾ªç¯</strong>éƒ½åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­è¿›è¡Œã€‚æ¸²æŸ“è¿›ç¨‹ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªçº¿ç¨‹ï¼š</li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200822183240.png' data-fancybox='default' data-caption='JSå†…æ ¸ä¸­çš„çº¿ç¨‹'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200822183240.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200822183240.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="JSå†…æ ¸ä¸­çš„çº¿ç¨‹"></a><span class='image-caption'>JSå†…æ ¸ä¸­çš„çº¿ç¨‹</span></div></div><ul><li>Taskï¼šTask æœ‰ MicroTask å’Œ MacroTask ä¹‹åˆ†ï¼ŒMicroTask åœ¨ Promise å‡ºç°ä¹‹åå¼•å…¥ã€‚MacroTask å’Œ MicroTask åˆ†åˆ«åœ¨ä»¥ä¸‹å‡ ç§åœºæ™¯å½¢æˆï¼š<ul><li>MacroTaskï¼šä¸»ä»£ç å—ã€setTimeoutã€setIntervalã€IO äº‹ä»¶ç­‰ã€‚</li><li>MicroTaskï¼šPromiseã€process.nextTick ç­‰ã€‚</li></ul></li></ul><h2 id="æµè§ˆå™¨ä¸­çš„Event-Loop"><a href="#æµè§ˆå™¨ä¸­çš„Event-Loop" class="headerlink" title="æµè§ˆå™¨ä¸­çš„Event Loop"></a>æµè§ˆå™¨ä¸­çš„Event Loop</h2><p>æœ‰äº†åŸºç¡€æ¦‚å¿µï¼Œè®©æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹æ–‡ç« å¼€å¤´ç»™å‡ºçš„ä»£ç æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;promise2&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure><ul><li>1ã€é¦–å…ˆï¼Œæ•´ä¸ªä»£ç å—ä½œä¸ºç¬¬ä¸€ä¸ª MacroTask è¢«æ‰§è¡Œï¼Œ<strong>åŒæ­¥çš„ä»£ç </strong>ç›´æ¥è¢«å‹å…¥æ‰§è¡Œæ ˆè¢«æ‰§è¡Œã€ŒåŒæ­¥ä»»åŠ¡åœ¨JSå¼•æ“çº¿ç¨‹ä¸Šæ‰§è¡Œã€ï¼Œscript start å’Œ script end è¢«æ‰“å°ï¼›</li><li>2ã€setTimeout è¢«ä½œä¸º MacroTask å¤„ç†ï¼ŒåŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼›</li><li>3ã€Promise è¢«ä½œä¸º MicroTask å¤„ç†ï¼ŒåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼›</li><li>4ã€æœ¬æ¬¡ MacroTask å¤„ç†å®Œæ¯•ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç° promise then çš„ callbackï¼Œpromise1ï¼Œpromise2 å…ˆåæ‰“å°ï¼›</li><li>5ã€æ¥ä¸‹æ¥æ‰§è¡Œä¸‹ä¸€ä¸ª MacroTaskï¼Œå³ setTimeout æ¨é€ç»™ä»»åŠ¡é˜Ÿåˆ—çš„ callbackï¼Œæ‰“å° setTimeoutã€‚</li></ul><p>soï¼Œä»£ç æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">script start</span><br><span class="line">script end</span><br><span class="line">promise1</span><br><span class="line">promise2</span><br><span class="line">setTimeout</span><br></pre></td></tr></table></figure><p>ç”±æ­¤ï¼Œå¯å¤§è‡´äº†è§£åˆ°æµè§ˆå™¨ä¸‹ Event-Loop æ‰§è¡Œæœºåˆ¶å¤§è‡´å¦‚ä¸‹ï¼š</p><details open red><summary> Event-Loop æ‰§è¡Œæœºåˆ¶ </summary>              <div class='content'>              <ul><li>1ã€ä¸€å¼€å§‹ï¼Œæ•´æ®µè„šæœ¬è¢«å½“ä½œ MacroTask æ‰§è¡Œ</li><li>2ã€æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒåŒæ­¥ä»£ç è¿›å…¥å¯æ‰§è¡Œæ ˆä¸­ç›´æ¥æ‰§è¡Œï¼ŒMacroTask è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼ŒMicroTask è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li><li>3ã€å½“å‰ MacroTask æ‰§è¡Œå®Œå°±å‡ºé˜Ÿï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™ä¾æ¬¡æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ MicroTaskï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º</li><li>4ã€æ‰§è¡Œæµè§ˆå™¨çš„ UI çº¿ç¨‹çš„æ¸²æŸ“å·¥ä½œã€Œä¸¤ä¸ª MicroTask æ‰§è¡Œç©ºéš™ï¼Œæœ‰æ¬¡ render å·¥ä½œã€</li><li>6ã€æ‰§è¡Œé˜Ÿé¦–çš„ MacroTaskï¼Œå›åˆ° 2ï¼Œä¾æ­¤å¾ªç¯ï¼Œç›´è‡³å®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—éƒ½ä¸ºç©º</li></ul><p>å¯é€šè¿‡ä¸‹å›¾ç®€å•ç†è§£ä¸€æ³¢ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200822201854.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200822201854.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æµè§ˆå™¨ Event-Loop ç®€è§ˆ"></p>              </div>            </details><p>ç”±æ­¤å¯çŸ¥é“ï¼ŒsetTimeout ä¸­çš„ callback ä¸èƒ½æŒ‰æ—¶æ‰§è¡Œæ˜¯å› ä¸º Event-Loopï¼Œå¯¼è‡´ JS å¼•æ“çº¿ç¨‹è¿˜æœ‰å…¶å®ƒçš„ task ï¼ˆpromise MicroTaskï¼‰è¦å¤„ç†ï¼Œä¸»çº¿ç¨‹è¿˜æœªç©ºé—²ä¸‹æ¥ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.youtube.com/watch?reload=9&v=8aGhZQkoFbQ">What the heck is the event loop anyway?</a>ã€Œå¾ˆç²¾å½©çš„æ¼”è®²ğŸ‚ã€</li><li><a href="https://segmentfault.com/a/1190000012925872">ä»æµè§ˆå™¨å¤šè¿›ç¨‹åˆ°JSå•çº¿ç¨‹ï¼ŒJSè¿è¡Œæœºåˆ¶æœ€å…¨é¢çš„ä¸€æ¬¡æ¢³ç†</a></li><li><a href="https://zhuanlan.zhihu.com/p/187069497">ç²¾è¯»ã€ŠTasks, microtasks, queues and schedulesã€‹</a></li><li><a href="https://juejin.im/post/6844904004007247880#heading-6">ğŸ˜‡åŸç”ŸJSçµé­‚ä¹‹é—®(ä¸‹)</a></li><li><a href="https://juejin.im/post/6844903955286196237">ã€THE LAST TIMEã€‘å½»åº•åƒé€ JavaScript æ‰§è¡Œæœºåˆ¶</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Event-Loop </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“ä½œç³»ç»Ÿç¬”è®°-IPC æœºåˆ¶</title>
      <link href="/2020/08/02/Process-IPC/"/>
      <url>/2020/08/02/Process-IPC/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼ŒInter-Process Communicationï¼‰ï¼ŒæŒ‡è‡³å°‘ä¸¤ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹é—´ä¼ é€æ•°æ®æˆ–ä¿¡å·çš„ä¸€äº›æŠ€æœ¯æˆ–æ–¹æ³•ã€‚</p></blockquote><h2 id="æ€»è§ˆ"><a href="#æ€»è§ˆ" class="headerlink" title="æ€»è§ˆ"></a>æ€»è§ˆ</h2><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/08/02/atGjjf.png' data-fancybox='default' data-caption='IPC'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/08/02/atGjjf.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/08/02/atGjjf.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="IPC"></a><span class='image-caption'>IPC</span></div></div><span id="more"></span><h3 id="è¿›ç¨‹é—´é€šä¿¡çš„é—®é¢˜"><a href="#è¿›ç¨‹é—´é€šä¿¡çš„é—®é¢˜" class="headerlink" title="è¿›ç¨‹é—´é€šä¿¡çš„é—®é¢˜"></a>è¿›ç¨‹é—´é€šä¿¡çš„é—®é¢˜</h3><ul><li>ç«æ€æ¡ä»¶ï¼ˆrace conditionï¼‰ï¼šå¤šä¸ªè¿›ç¨‹å¯¹å…±äº«æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œå½±å“ç¨‹åºçš„æ­£ç¡®è¿è¡Œã€‚åœ¨è®¡ç®—æœºå†…å­˜æˆ–è€…å­˜å‚¨é‡Œï¼Œå¦‚æœ<strong>åŒæ—¶</strong>å‘å‡ºè¯»å†™å¤§é‡æ•°æ®çš„æŒ‡ä»¤çš„æ—¶å€™ç«æ€æ¡ä»¶å¯èƒ½å‘ç”Ÿï¼Œæœºå™¨è¯•å›¾è¦†ç›–ç›¸åŒçš„æˆ–è€…æ—§çš„æ•°æ®ï¼Œè€Œæ­¤æ—¶æ—§çš„æ•°æ®ä»ç„¶åœ¨è¢«è¯»å–ã€‚</li><li>ä¸´ç•ŒåŒºï¼ˆcritical sectionï¼‰ï¼šå¯¹å…±äº«èµ„æºè¿›è¡Œè®¿é—®çš„ç¨‹åºç‰‡æ®µã€‚</li></ul><h3 id="è¿›ç¨‹çš„åŒæ­¥ä¸äº’æ–¥"><a href="#è¿›ç¨‹çš„åŒæ­¥ä¸äº’æ–¥" class="headerlink" title="è¿›ç¨‹çš„åŒæ­¥ä¸äº’æ–¥"></a>è¿›ç¨‹çš„åŒæ­¥ä¸äº’æ–¥</h3><details open red><summary> è¿›ç¨‹çš„åŒæ­¥ä¸äº’æ–¥ </summary>              <div class='content'>              <ul><li>è¿›ç¨‹çš„åŒæ­¥ï¼ˆSynchronizationï¼‰æ˜¯<strong>è§£å†³è¿›ç¨‹é—´åä½œå…³ç³»(ç›´æ¥åˆ¶çº¦å…³ç³») çš„æ‰‹æ®µ</strong>ã€‚è¿›ç¨‹åŒæ­¥æŒ‡ä¸¤ä¸ªä»¥ä¸Šè¿›ç¨‹åŸºäºæŸä¸ªæ¡ä»¶æ¥åè°ƒå®ƒä»¬çš„æ´»åŠ¨ã€‚ä¸€ä¸ªè¿›ç¨‹çš„æ‰§è¡Œä¾èµ–äºå¦ä¸€ä¸ªåä½œè¿›ç¨‹çš„æ¶ˆæ¯æˆ–ä¿¡å·ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹æ²¡æœ‰å¾—åˆ°æ¥è‡ªäºå¦ä¸€ä¸ªè¿›ç¨‹çš„æ¶ˆæ¯æˆ–ä¿¡å·æ—¶åˆ™éœ€ç­‰å¾…ï¼Œç›´åˆ°æ¶ˆæ¯æˆ–ä¿¡å·åˆ°è¾¾æ‰è¢«å”¤é†’ã€‚</li><li>è¿›ç¨‹äº’æ–¥å…³ç³»æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿›ç¨‹åŒæ­¥å…³ç³»ã€‚åœ¨ç³»ç»Ÿä¸­å¤šä¸ªè¿›ç¨‹å› äº‰ç”¨ä¸´ç•Œèµ„æºï¼ˆCritical Resourceï¼‰è€Œäº’æ–¥æ‰§è¡Œã€‚</li></ul>              </div>            </details><h4 id="äº’æ–¥è®¾è®¡"><a href="#äº’æ–¥è®¾è®¡" class="headerlink" title="äº’æ–¥è®¾è®¡"></a>äº’æ–¥è®¾è®¡</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/08/02/atJSHg.png' data-fancybox='default' data-caption='äº’æ–¥è®¾è®¡'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/08/02/atJSHg.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/08/02/atJSHg.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="äº’æ–¥è®¾è®¡"></a><span class='image-caption'>äº’æ–¥è®¾è®¡</span></div></div><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://book.douban.com/subject/27096665/">ç°ä»£æ“ä½œç³»ç»Ÿ</a></li><li><a href="https://en.wikipedia.org/wiki/Inter-process_communication#Approaches">Inter-process communication</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUxODAzNDg4NQ==&mid=2247485318&idx=1&sn=0da0a684639106f548e9d4454fd49904&chksm=f98e432ccef9ca3ab4e10734fd011c898785f18d842ec3b148c7a8ee500790377858e0dbd8d6&scene=158#rd">è¿›ç¨‹é—´é€šä¿¡</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¿›ç¨‹é€šä¿¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“ä½œç³»ç»Ÿç¬”è®°-è¿›/çº¿ç¨‹æ¨¡å‹</title>
      <link href="/2020/07/22/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%9B-%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B/"/>
      <url>/2020/07/22/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%9B-%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>æ¨¡å‹æ˜¯æŒ‡å¯¹äºæŸä¸ªå®é™…é—®é¢˜æˆ–å®¢è§‚äº‹ç‰©ã€è§„å¾‹è¿›è¡ŒæŠ½è±¡åçš„ä¸€ç§å½¢å¼åŒ–è¡¨è¾¾æ–¹å¼ã€‚- MBA æ™ºåº“ç™¾ç§‘ - <a href="https://wiki.mbalib.com/wiki/%E6%A8%A1%E5%9E%8B">æ¨¡å‹</a></p></blockquote><h2 id="æ¦‚å¿µæ¢³ç†"><a href="#æ¦‚å¿µæ¢³ç†" class="headerlink" title="æ¦‚å¿µæ¢³ç†"></a>æ¦‚å¿µæ¢³ç†</h2><h3 id="è¿›ç¨‹"><a href="#è¿›ç¨‹" class="headerlink" title="è¿›ç¨‹"></a>è¿›ç¨‹</h3><ul><li>è¿›ç¨‹æ˜¯å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹å•ä½ã€‚</li><li>ä¸€ä¸ªè¿›ç¨‹æ˜¯æŸç§ç±»å‹æ´»åŠ¨çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œå®ƒæœ‰ç¨‹åºã€è¾“å…¥ã€è¾“å‡ºä»¥åŠçŠ¶æ€ã€‚è¿›ç¨‹æ˜¯å¯¹æ­£åœ¨è¿è¡Œç¨‹åºçš„ä¸€ä¸ªæŠ½è±¡ã€‚å•ä¸ªå¤„ç†å™¨å¯ä»¥è¢«è‹¥å¹²è¿›ç¨‹å…±äº«ï¼Œå®ƒä½¿ç”¨æŸç§è°ƒåº¦ç®—æ³•å†³å®šä½•æ—¶åœæ­¢ä¸€ä¸ªè¿›ç¨‹çš„å·¥ä½œï¼Œå¹¶è½¬è€Œä¸ºå¦ä¸€ä¸ªè¿›ç¨‹æä¾›æœåŠ¡ã€‚ä¸€ä¸ªç¨‹åºå¯å¯¹åº”å¤šä¸ªè¿›ç¨‹ã€‚</li><li>ç³»ç»Ÿèµ„æºä»¥è¿›ç¨‹ä¸ºå•ä½åˆ†é…ï¼Œå¦‚å†…å­˜ã€æ–‡ä»¶ã€æ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ã€‚</li></ul><span id="more"></span><h3 id="è¿›ç¨‹è¡¨"><a href="#è¿›ç¨‹è¡¨" class="headerlink" title="è¿›ç¨‹è¡¨"></a>è¿›ç¨‹è¡¨</h3><p>è¿›ç¨‹è¡¨ï¼ˆprocess tableï¼‰ï¼Œä¹Ÿç§°è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ï¼Œæ˜¯ç”±æ“ä½œç³»ç»Ÿç»´æŠ¤çš„ï¼Œæ¯ä¸ªè¿›ç¨‹å ç”¨å…¶ä¸­ä¸€ä¸ªè¡¨é¡¹ã€‚è¯¥è¡¨é¡¹åŒ…å«äº†æ“ä½œç³»ç»Ÿå¯¹è¿›ç¨‹è¿›è¡Œæè¿°å’Œæ§åˆ¶çš„å…¨éƒ¨ä¿¡æ¯ï¼Œä»è€Œä¿è¯è¯¥è¿›ç¨‹æ¢å‡ºåå†æ¬¡å¯åŠ¨æ—¶ï¼Œå°±åƒä»æœªä¸­æ–­è¿‡ä¸€æ ·ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200722215936.png' data-fancybox='default' data-caption='å…¸å‹è¿›ç¨‹è¡¨è¡¨é¡¹çš„ä¸€äº›å­—æ®µ'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200722215936.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200722215936.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å…¸å‹è¿›ç¨‹è¡¨è¡¨é¡¹çš„ä¸€äº›å­—æ®µ"></a><span class='image-caption'>å…¸å‹è¿›ç¨‹è¡¨è¡¨é¡¹çš„ä¸€äº›å­—æ®µ</span></div></div><details green><summary> segment </summary>              <div class='content'>              <p>æ®µå®šä¹‰( segment ) æ˜¯ç”¨æ¥åŒºåˆ†æˆ–è€…åˆ’åˆ†èŒƒå›´åŒºåŸŸçš„æ„æ€ã€‚æ±‡ç¼–è¯­è¨€çš„ segment ä¼ªæŒ‡ä»¤è¡¨ç¤ºæ®µå®šä¹‰çš„èµ·å§‹ï¼Œends ä¼ªæŒ‡ä»¤è¡¨ç¤ºæ®µå®šä¹‰çš„ç»“æŸã€‚æ®µå®šä¹‰æ˜¯ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ã€‚</p><ul><li>refï¼š<a href="https://juejin.im/post/5de5eab4f265da05de588224">ç¨‹åºå‘˜éœ€è¦äº†è§£çš„ç¡¬æ ¸çŸ¥è¯†ä¹‹æ±‡ç¼–è¯­è¨€(å…¨)</a></li></ul>              </div>            </details><h3 id="è¿›ç¨‹æ§åˆ¶åŸè¯­"><a href="#è¿›ç¨‹æ§åˆ¶åŸè¯­" class="headerlink" title="è¿›ç¨‹æ§åˆ¶åŸè¯­"></a>è¿›ç¨‹æ§åˆ¶åŸè¯­</h3><details red open><summary> åŸè¯­ </summary>              <div class='content'>              <p>åŸè¯­ï¼šå®ŒæˆæŸç§ç‰¹å®šåŠŸèƒ½çš„ä¸€æ®µç¨‹åºï¼Œå…·æœ‰ä¸å¯åˆ†å‰²æ€§æˆ–ä¸å¯ä¸­æ–­æ€§ã€‚å³åŸè¯­çš„æ‰§è¡Œå¿…é¡»æ˜¯è¿ç»­çš„ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸å…è®¸è¢«ä¸­æ–­ã€‚ä¹Ÿå°±æ˜¯æ»¡è¶³<strong>åŸå­æ€§</strong>ã€‚</p><p>åŸå­æ€§æ“ä½œï¼Œä¸€ç»„ç›¸å…³æ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œä¸å¯ä¸­æ–­ï¼Œè¦ä¹ˆå°±ä¸æ‰§è¡Œã€‚</p>              </div>            </details><ul><li>è¿›ç¨‹åˆ›å»ºåŸè¯­</li><li>è¿›ç¨‹æ’¤æ¶ˆåŸè¯­</li><li>é˜»å¡åŸè¯­</li><li>å”¤é†’åŸè¯­</li><li>æŒ‚èµ·åŸè¯­</li><li>æ¿€æ´»åŸè¯­</li><li>æ”¹å˜è¿›ç¨‹ä¼˜å…ˆçº§</li></ul><h3 id="ä¸Šä¸‹æ–‡åˆ‡æ¢"><a href="#ä¸Šä¸‹æ–‡åˆ‡æ¢" class="headerlink" title="ä¸Šä¸‹æ–‡åˆ‡æ¢"></a>ä¸Šä¸‹æ–‡åˆ‡æ¢</h3><p>ä»ä¸€ä¸ªè¿›ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹éœ€è¦ä¸€å®šçš„æ—¶é—´è¿›è¡Œç®¡ç†å¤„ç†ï¼ŒåŒ…æ‹¬ä¿å­˜å¯„å­˜å™¨çš„å€¼å’Œå†…å­˜æ˜ å°„ï¼Œæ›´æ–°ä¸åŒçš„è¡¨æ ¼å’Œåˆ—è¡¨ã€æ¸…é™¤å’Œé‡æ–°è°ƒå…¥å†…å­˜é«˜é€Ÿç¼“å­˜ç­‰ã€‚</p><p>è¿›ç¨‹é—´åˆ‡æ¢ï¼ˆprocess switchï¼‰åˆç§°ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆcontext switchï¼‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªå­˜å‚¨å’Œé‡å»º CPU çŠ¶æ€çš„æœºåˆ¶ï¼Œè¦äº¤æ¢ CPU ä¸Šçš„è¿›ç¨‹æ—¶ï¼Œå¿…éœ€å…ˆè¡Œå­˜å‚¨å½“å‰è¿›ç¨‹çš„çŠ¶æ€ï¼Œç„¶åå†å°†è¿›ç¨‹çŠ¶æ€è¯»å› CPU ä¸­ã€‚è¿›ç¨‹ä¸è¿è¡Œæ—¶ï¼Œå°†å¯„å­˜å™¨çš„å€¼ä¿å­˜åœ¨è¿›ç¨‹æ§åˆ¶å—PCBä¸­ï¼›å½“æ“ä½œç³»ç»Ÿè¦è¿è¡Œä¸€ä¸ªæ–°çš„è¿›ç¨‹æ—¶ï¼Œä¼šå°†PCBä¸­çš„ç›¸å…³å€¼é€åˆ°å¯¹åº”çš„å¯„å­˜å™¨ä¸­ã€‚</p><h3 id="åœ°å€ç©ºé—´"><a href="#åœ°å€ç©ºé—´" class="headerlink" title="åœ°å€ç©ºé—´"></a>åœ°å€ç©ºé—´</h3><p>åœ°å€ç©ºé—´æ˜¯å†…å­˜ä¸­å¯ä¾›ç¨‹åºæˆ–è¿›ç¨‹ä½¿ç”¨çš„æœ‰æ•ˆåœ°å€èŒƒå›´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæ˜¯ç¨‹åºæˆ–è¿›ç¨‹å¯ä»¥è®¿é—®çš„å†…å­˜ã€‚å­˜å‚¨å™¨å¯ä»¥æ˜¯ç‰©ç†çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯è™šæ‹Ÿçš„ï¼Œç”¨äºæ‰§è¡ŒæŒ‡ä»¤å’Œå­˜å‚¨æ•°æ®ã€‚</p><h3 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h3><p>çº¿ç¨‹ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªè¿è¡Œå®ä½“ï¼Œæ˜¯ CPU è°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚çº¿ç¨‹çš„ä¸‹æ–‡ç¯å¢ƒæ˜¯ç¨‹åºè®¡æ•°å™¨ç­‰å¯„å­˜å™¨ã€‚çº¿ç¨‹æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„æ ˆå’Œå…±äº«çš„å †ã€‚</p><h4 id="çº¿ç¨‹å¼•å…¥è§£å†³çš„é—®é¢˜"><a href="#çº¿ç¨‹å¼•å…¥è§£å†³çš„é—®é¢˜" class="headerlink" title="çº¿ç¨‹å¼•å…¥è§£å†³çš„é—®é¢˜"></a>çº¿ç¨‹å¼•å…¥è§£å†³çš„é—®é¢˜</h4><ul><li>é™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ï¼Œçº¿ç¨‹çš„åˆ›å»ºã€æ’¤é”€èŠ±è´¹æ—¶é—´å°‘äºè¿›ç¨‹</li><li>å¤šçº¿ç¨‹å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU çš„è®¡ç®—èƒ½åŠ›ã€Œå†…æ ¸çº¿ç¨‹ã€ï¼Œåœ¨çº¿ç¨‹ç²’åº¦è¿›è¡Œé˜»å¡è€Œä¸æ˜¯è¿›ç¨‹</li><li>é™ä½é€šä¿¡éš¾åº¦ï¼ŒåŒä¸€è¿›ç¨‹å†…çš„çº¿ç¨‹å…±äº«å†…å­˜å’Œæ–‡ä»¶</li></ul><h4 id="è¿›ç¨‹å’Œçº¿ç¨‹å„è‡ªæŒæœ‰çš„èµ„æº"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹å„è‡ªæŒæœ‰çš„èµ„æº" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹å„è‡ªæŒæœ‰çš„èµ„æº"></a>è¿›ç¨‹å’Œçº¿ç¨‹å„è‡ªæŒæœ‰çš„èµ„æº</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200722014253.png' data-fancybox='default' data-caption='è¿›ç¨‹å’Œçº¿ç¨‹å„è‡ªæŒæœ‰çš„èµ„æº'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200722014253.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200722014253.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿›ç¨‹å’Œçº¿ç¨‹å„è‡ªæŒæœ‰çš„èµ„æº"></a><span class='image-caption'>è¿›ç¨‹å’Œçº¿ç¨‹å„è‡ªæŒæœ‰çš„èµ„æº</span></div></div><h2 id="å¤šé“ç¨‹åºè®¾è®¡ä¸­çš„è¿›ç¨‹æ¨¡å‹"><a href="#å¤šé“ç¨‹åºè®¾è®¡ä¸­çš„è¿›ç¨‹æ¨¡å‹" class="headerlink" title="å¤šé“ç¨‹åºè®¾è®¡ä¸­çš„è¿›ç¨‹æ¨¡å‹"></a>å¤šé“ç¨‹åºè®¾è®¡ä¸­çš„è¿›ç¨‹æ¨¡å‹</h2><blockquote><p>å¤šé“ç¨‹åºè®¾è®¡ï¼šå…è®¸å¤šä¸ªç¨‹åºåŒæ—¶è¿›å…¥å†…å­˜å¹¶è¿è¡Œï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†æé«˜ç³»ç»Ÿæ•ˆç‡ã€‚</p></blockquote><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200722234520.jpg' data-fancybox='default' data-caption='å¤šé“ç¨‹åºè®¾è®¡ä¸­çš„è¿›ç¨‹æ¨¡å‹'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200722234520.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200722234520.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¤šé“ç¨‹åºè®¾è®¡ä¸­çš„è¿›ç¨‹æ¨¡å‹"></a><span class='image-caption'>å¤šé“ç¨‹åºè®¾è®¡ä¸­çš„è¿›ç¨‹æ¨¡å‹</span></div></div><p>å›¾ä¾‹ã€Œæ¥è‡ªã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹ã€ä¸­å¤šé“ç¨‹åºè®¾è®¡è®¡ç®—æœºçš„å†…å­˜ä¸­æœ‰ 4 é“ç¨‹åºï¼Œè¿™ 4 é“ç¨‹åºè¢«æŠ½è±¡ä¸ºå„è‡ªæ‹¥æœ‰è‡ªå·±æ§åˆ¶æµç¨‹çš„è¿›ç¨‹ï¼ˆæ¯é“ç¨‹åºéƒ½æ‹¥æœ‰è‡ªå·±çš„é€»è¾‘è®¡æ•°å™¨ï¼‰ã€‚å›¾ c ï¼Œåœ¨ä»»ä½•ä¸€ç»™å®šç¬é—´ä»…æœ‰ä¸€ä¸ªè¿›ç¨‹çœŸæ­£åœ¨è¿è¡Œï¼Œè¿›ç¨‹è¿è¡Œæ—¶ä¼šå°†è‡ªå·±çš„é€»è¾‘ç¨‹åºè®¡æ•°å™¨è£…å…¥å®é™…çš„ç‰©ç†ç¨‹åºè®¡æ•°å™¨ä¸­ï¼Œè¿›ç¨‹ç»“æŸæˆ–æš‚åœæ‰§è¡Œæ—¶ï¼Œç‰©ç†ç¨‹åºè®¡æ•°å™¨å°†è¢«ä¿å­˜åœ¨å†…å­˜ä¸­è¯¥è¿›ç¨‹çš„é€»è¾‘ç¨‹åºè®¡æ•°å™¨ä¸­ã€‚</p><h2 id="å¸¸è§çº¿ç¨‹æ¨¡å‹"><a href="#å¸¸è§çº¿ç¨‹æ¨¡å‹" class="headerlink" title="å¸¸è§çº¿ç¨‹æ¨¡å‹"></a>å¸¸è§çº¿ç¨‹æ¨¡å‹</h2><details red open><summary> ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸çº¿ç¨‹ä¹‹åˆ† </summary>              <div class='content'>              <ul><li>ç”¨æˆ·çº¿ç¨‹ï¼Œæ˜¯å®Œå…¨å»ºç«‹åœ¨ç”¨æˆ·ç©ºé—´çš„çº¿ç¨‹åº“ï¼Œç”¨æˆ·çº¿ç¨‹çš„åˆ›å»ºã€è°ƒåº¦ã€åŒæ­¥å’Œé”€æ¯å…¨ç”±åº“å‡½æ•°åœ¨ç”¨æˆ·ç©ºé—´å®Œæˆï¼Œä¸éœ€è¦å†…æ ¸çš„å¸®åŠ©ã€‚å› æ­¤è¿™ç§çº¿ç¨‹æ˜¯æå…¶ä½æ¶ˆè€—å’Œé«˜æ•ˆçš„ã€‚ä½†åŒä¸€è¿›ç¨‹ä¸‹åˆ›å»ºçš„ç”¨æˆ·çº¿ç¨‹å¯¹ CPU çš„ç«äº‰æ˜¯ä»¥è¿›ç¨‹çš„ç»´åº¦å‚ä¸çš„ï¼Œè¿™ä¼šå¯¼è‡´è¯¥è¿›ç¨‹ä¸‹çš„ç”¨æˆ·çº¿ç¨‹åªèƒ½åˆ†æ—¶å¤ç”¨æ‰€å±è¿›ç¨‹è¢«åˆ†é…çš„ CPU æ—¶é—´ç‰‡ï¼Œæ‰€ä»¥æ— æ³•å¾ˆå¥½çš„åˆ©ç”¨ CPU å¤šæ ¸è¿ç®—çš„ä¼˜åŠ¿ã€‚ä¸€èˆ¬æƒ…å†µä¸‹è¯´çš„çº¿ç¨‹æŒ‡çš„æ˜¯ç”¨æˆ·çº¿ç¨‹ã€‚</li><li>å†…æ ¸çº¿ç¨‹ï¼Œç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†å’Œè°ƒåº¦ï¼Œèƒ½å¤Ÿç›´æ¥æ“ä½œè®¡ç®—æœºçš„åº•å±‚èµ„æºï¼Œçº¿ç¨‹åˆ‡æ¢æ—¶ CPU éœ€è¦åˆ‡æ¢åˆ°å†…æ ¸æ€ã€‚å†…æ ¸çº§çº¿ç¨‹å¯ä»¥å¾ˆå¥½åˆ©ç”¨å¤šæ ¸ CPU çš„å¹¶è¡Œè®¡ç®—é¢ä¼˜åŠ¿ï¼Œå¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨çš„æ–¹å¼ä½¿ç”¨å†…æ ¸çº¿ç¨‹ã€‚</li></ul>              </div>            </details><ul><li>ç”¨æˆ·ç©ºé—´ç®¡ç†çº¿ç¨‹ï¼Œæ•´ä¸ªçº¿ç¨‹åŒ…æ”¾åœ¨ç”¨æˆ·ç©ºé—´ï¼Œå†…æ ¸å¯¹çº¿ç¨‹åŒ…ä¸€æ— æ‰€çŸ¥ï¼Œå†…æ ¸ç®¡ç†çš„è¿˜æ˜¯è¿›ç¨‹<ul><li>æ¯ä¸ªçº¿ç¨‹æœ‰ç”¨è‡ªå·±çš„çº¿ç¨‹è¡¨ï¼Œçº¿ç¨‹åœ¨ä¸€ä¸ªè¿è¡Œæ—¶ç³»ç»Ÿä¸Šæ‰§è¡Œï¼ˆè¿è¡Œæ—¶ç³»ç»Ÿæ—¶ä¸€ä¸ªç®¡ç†çº¿ç¨‹çš„è¿‡ç¨‹çš„é›†åˆï¼Œå¸¸ç”¨è¿‡ç¨‹æœ‰ pthread_createã€pthread_yieldç­‰ï¼‰</li><li>ä¼˜ç‚¹ï¼š<ul><li>ä¿å­˜çº¿ç¨‹çŠ¶æ€çš„è¿‡ç¨‹å’Œè°ƒåº¦ç¨‹åºéƒ½åªæ˜¯æœ¬åœ°è¿‡ç¨‹ï¼Œæ•ˆç‡æ¯”è¿›è¡Œå†…æ ¸è°ƒç”¨é«˜</li><li>çº¿ç¨‹åˆ‡æ¢ä¸éœ€è¦å†…æ ¸ç‰¹æƒï¼Œçº¿ç¨‹è°ƒåº¦éå¸¸å¿«æ·ï¼Œè°ƒåº¦ç®—æ³•å¯ç”±åº”ç”¨ç¨‹åºç‰¹å®š</li></ul></li><li>ç¼ºç‚¹<ul><li>å¤§å¤šæ•°ç³»ç»Ÿè°ƒç”¨éƒ½æ˜¯é˜»å¡çš„ï¼Œæˆ‘ä»¬éœ€è¦é¿å…è¢«é˜»å¡çº¿ç¨‹å½±å“å…¶ä»–çº¿ç¨‹ï¼Œæ­¤æ—¶é˜»å¡ç³»ç»Ÿè°ƒç”¨å¦‚ä½•å®ç°ï¼Ÿ</li><li>å†…æ ¸åªå°†å¤„ç†å™¨åˆ†é…ç»™è¿›ç¨‹ï¼ŒåŒä¸€è¿›ç¨‹ä¸­çš„ä¸¤ä¸ªçº¿ç¨‹ä¸èƒ½åŒæ—¶è¿è¡Œäºä¸¤ä¸ªå¤„ç†å™¨ä¸Š</li></ul></li></ul></li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723152508.png' data-fancybox='default' data-caption='ç”¨æˆ·ç©ºé—´ç®¡ç†çº¿ç¨‹'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723152508.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723152508.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç”¨æˆ·ç©ºé—´ç®¡ç†çº¿ç¨‹"></a><span class='image-caption'>ç”¨æˆ·ç©ºé—´ç®¡ç†çº¿ç¨‹</span></div></div><ul><li>åœ¨å†…æ ¸ç©ºé—´ç®¡ç†çº¿ç¨‹<ul><li>å†…æ ¸ç©ºé—´ä½¿ç”¨çº¿ç¨‹è¡¨è®°å½•æ‰€æœ‰çš„çº¿ç¨‹ï¼Œçº¿ç¨‹çš„æ›´æ–°ã€çº¿ç¨‹åˆ›å»ºã€é”€æ¯é€šè¿‡ç³»ç»Ÿè°ƒç”¨å®ç°</li><li>çº¿ç¨‹é˜»å¡æ—¶ï¼Œå†…æ ¸å¯é€‰æ‹©è¿è¡Œå¤„äºå°±ç»ªæ€çš„çº¿ç¨‹ï¼ˆåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹æˆ–å…¶å®ƒè¿›ç¨‹ä¸­çš„çº¿ç¨‹ï¼‰</li><li>é—®é¢˜ï¼š<ul><li>å¤šçº¿ç¨‹è¿›ç¨‹åˆ›å»ºæ–°çš„è¿›ç¨‹æ—¶ä¼šé‡åˆ°åˆ°åº•æ˜¯æ‹¥æœ‰ä¸åŸè¿›ç¨‹ç›¸åŒæ•°é‡çš„çº¿ç¨‹è¿˜æ˜¯ä¸€ä¸ªçº¿ç¨‹çš„é—®é¢˜</li><li>å¦‚æœçº¿ç¨‹çš„åˆ›å»ºã€ç»ˆæ­¢æ“ä½œè¾ƒä¸ºé¢‘ç¹ï¼Œç³»ç»Ÿè°ƒç”¨çš„å¼€é”€è¿˜æ˜¯ä¸å¯å¿½è§†çš„</li></ul></li></ul></li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723165451.png' data-fancybox='default' data-caption='åœ¨å†…æ ¸ç©ºé—´å®ç°çº¿ç¨‹'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723165451.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723165451.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="åœ¨å†…æ ¸ç©ºé—´å®ç°çº¿ç¨‹"></a><span class='image-caption'>åœ¨å†…æ ¸ç©ºé—´å®ç°çº¿ç¨‹</span></div></div><h3 id="çº¿ç¨‹æ¨¡å‹"><a href="#çº¿ç¨‹æ¨¡å‹" class="headerlink" title="çº¿ç¨‹æ¨¡å‹"></a>çº¿ç¨‹æ¨¡å‹</h3><p>æ··åˆæ¨¡å‹ï¼Œå³å†…æ ¸çº¿ç¨‹ä¸ç”¨æˆ·çº¿ç¨‹é—´å¤šè·¯å¤ç”¨ã€‚</p><h3 id="ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹"><a href="#ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹" class="headerlink" title="ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹"></a>ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹</h3><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723170434.png' data-fancybox='default' data-caption='ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723170434.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723170434.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹"></a><span class='image-caption'>ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹</span></div></div><p>æ­¤æ¨¡å‹ä¸‹ï¼ˆç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹ï¼‰ï¼Œçº¿ç¨‹çš„åˆ›å»ºã€åˆ‡æ¢å’ŒåŒæ­¥ç­‰å·¥ä½œè¾ƒä¸ºè½»é‡ä¸é«˜æ•ˆï¼Œä¾èµ–äºç¼–ç¨‹è¯­è¨€å®ç°ã€‚ä½†åŒè¿›ç¨‹å†…çš„å¤šçº¿ç¨‹æ— æ³•å¾ˆå¥½çš„åˆ©ç”¨å¤šæ ¸ CPU ä¼˜åŠ¿ï¼Œåªèƒ½é€šè¿‡åˆ†æ—¶å¤ç”¨æ–¹å¼è½®æ¢æ‰§è¡Œã€‚å½“è¿›ç¨‹å†…çš„ä»»æ„çº¿ç¨‹é˜»å¡ï¼Œæ¯”å¦‚çº¿ç¨‹ A è¯·æ±‚ I/O æ“ä½œè¢«é˜»å¡ï¼Œå¾ˆå¯èƒ½å¯¼è‡´æ•´ä¸ªè¿›ç¨‹èŒƒå›´å†…çš„é˜»å¡ï¼Œè¿™æ˜¯å› ä¸ºè¿›ç¨‹å¯¹åº”çš„å†…æ ¸çº¿ç¨‹å› è¿›ç¨‹å†…çš„çº¿ç¨‹è¢«é˜»å¡è€Œè¢«å‰¥å¤º CPU æ‰§è¡Œæ—¶é—´ï¼Œå¯¼è‡´æ•´ä¸ªè¿›ç¨‹ä¸¢å¤±åœ¨ CPU æ‰§è¡ŒæŒ‡ä»¤çš„æœºä¼šã€‚</p><h3 id="è¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹"><a href="#è¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹" class="headerlink" title="è¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹"></a>è¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹</h3><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723171449.png' data-fancybox='default' data-caption='è¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723171449.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723171449.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹"></a><span class='image-caption'>è¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹</span></div></div><p>æ­¤æ¨¡å‹ä¸‹ï¼ˆå†…æ ¸çº§çº¿ç¨‹æ¨¡å‹ï¼‰ï¼Œçº¿ç¨‹çš„è°ƒåº¦å’Œç®¡ç†ç”±æ“ä½œç³»ç»Ÿå†…æ ¸è´Ÿè´£ï¼Œæ¯æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢éƒ½ä¼šä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œä¼šäº§ç”Ÿä¸å°çš„èµ„æºæ¶ˆè€—ï¼Œç”¨æˆ·ç©ºé—´åˆ›å»ºçš„çº¿ç¨‹æ•°é‡å—é™äºæ“ä½œç³»ç»Ÿå†…æ ¸å¯åˆ›å»ºå†…æ ¸çº¿ç¨‹çš„æ•°é‡ã€‚ä½†æ­¤æ¨¡å‹ä¸‹ï¼Œå¤šçº¿ç¨‹å¯å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ï¼Œå› ä¸ºæ¯ä¸ªçº¿ç¨‹å¯ä»¥ç‹¬ç«‹åœ°è¢«æ“ä½œç³»ç»Ÿè°ƒåº¦åˆ†é…åˆ° CPU ä¸Šæ‰§è¡ŒæŒ‡ä»¤ï¼ŒæŸä¸ªçº¿ç¨‹çš„é˜»å¡ä¸ä¼šå½±å“åˆ°è¿›ç¨‹å†…å…¶ä»–çº¿ç¨‹å·¥ä½œçš„æ‰§è¡Œã€‚</p><h3 id="ä¸¤çº§çº¿ç¨‹æ¨¡å‹"><a href="#ä¸¤çº§çº¿ç¨‹æ¨¡å‹" class="headerlink" title="ä¸¤çº§çº¿ç¨‹æ¨¡å‹"></a>ä¸¤çº§çº¿ç¨‹æ¨¡å‹</h3><p>æ­¤æ¨¡å‹ä¸ºç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹ä¸å†…æ ¸çº§çº¿ç¨‹æ¨¡å‹çš„æ··åˆï¼Œå®ç°å¤šä¸ªç”¨æˆ·çº§çº¿ç¨‹ä¸å¤šä¸ªå†…æ ¸çº§çº¿ç¨‹çš„å¤šè·¯å¤ç”¨ã€‚æ­¤æ¨¡å‹ä¸‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯¹åº”å¤šä¸ªå†…æ ¸çº¿ç¨‹ï¼Œæœ‰è¿›ç¨‹å†…çš„è°ƒåº¦å™¨å†³å®šè¿›ç¨‹å†…çš„çº¿ç¨‹å¦‚ä½•ä¸ç”³è¯·çš„å†…æ ¸çº¿ç¨‹å¯¹åº”ã€‚</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723173158.png' data-fancybox='default' data-caption='ä¸¤çº§çº¿ç¨‹æ¨¡å‹'><img fancybox itemprop="contentUrl" src="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723173158.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/picgo-pic/img/20200723173158.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ä¸¤çº§çº¿ç¨‹æ¨¡å‹"></a><span class='image-caption'>ä¸¤çº§çº¿ç¨‹æ¨¡å‹</span></div></div><p>æ­¤çº¿ç¨‹æ¨¡å‹å¯æœ‰æ•ˆé™ä½çº¿ç¨‹åˆ›å»ºå’Œç®¡ç†çš„èµ„æºæ¶ˆè€—ï¼ŒåŒæ—¶æä¾›è‰¯å¥½çš„å¹¶è¡Œèƒ½åŠ›ã€‚ç”¨æˆ·çº¿ç¨‹çš„è°ƒåº¦å’Œç®¡ç†åˆè¿›ç¨‹çš„è°ƒåº¦å™¨è´Ÿè´£ï¼Œå†…æ ¸çº¿ç¨‹çš„è°ƒåº¦å’Œç®¡ç†ç”±æ“ä½œç³»ç»Ÿè´Ÿè´£ã€‚ä½†æ­¤æ¨¡å‹çš„çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯çš„ä¿å­˜å’Œæ¢å¤ï¼Œæ ˆç©ºé—´çš„å¤§å°ç®¡ç†ç»™å¼€å‘äººå‘˜å¸¦æ¥çš„è¾ƒå¤§çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚</p><h3 id="Go-ä¸­çš„-MPG-çº¿ç¨‹æ¨¡å‹"><a href="#Go-ä¸­çš„-MPG-çº¿ç¨‹æ¨¡å‹" class="headerlink" title="Go ä¸­çš„ MPG çº¿ç¨‹æ¨¡å‹"></a>Go ä¸­çš„ MPG çº¿ç¨‹æ¨¡å‹</h3><p>GO è¯­è¨€çš„ MPG çº¿ç¨‹æ¨¡å‹åŸºäºä¸¤çº§çº¿ç¨‹æ¨¡å‹è¿›è¡Œäº†æ”¹é€ ï¼Œæé«˜äº†çº¿ç¨‹è°ƒåº¦çš„çµæ´»åº¦ã€‚å¦‚å›¾ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/07/23/UOLwvt.png' data-fancybox='default' data-caption='MPG çº¿ç¨‹æ¨¡å‹'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/07/23/UOLwvt.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/07/23/UOLwvt.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="MPG çº¿ç¨‹æ¨¡å‹"></a><span class='image-caption'>MPG çº¿ç¨‹æ¨¡å‹</span></div></div><details red open><summary> MPG è§£é‡Š </summary>              <div class='content'>              <ul><li>Mï¼ˆMachineï¼‰ï¼šä¸€ä¸ª Machine å¯¹åº”ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ï¼Œåœ¨ M çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå®ƒåªä¼šä¸ä¸€ä¸ªå†…æ ¸çº¿ç¨‹è¿›è¡Œç»‘å®šã€‚</li><li>Pï¼ˆProcessorï¼‰ï¼šä¸€ä¸ª Processor è¡¨ç¤ºæ‰§è¡Œ Go ä»£ç ç‰‡æ®µæ‰€éœ€çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œåœ¨è¿è¡Œæ—¶ä¸€ä¸ª M åªèƒ½ç»‘å®šä¸€ä¸ª Pï¼ŒM å’Œ P çš„ç»„åˆä¸º G æä¾›è¿è¡Œç¯å¢ƒã€‚åœ¨å•ä¸ª Go è¯­è¨€è¿›ç¨‹ä¸­ï¼ŒP çš„æœ€å¤§æ•°é‡å†³å®šäº†ç¨‹åºçš„å¹¶å‘è§„æ¨¡ã€‚</li><li>Gï¼ˆGoroutineï¼‰ï¼šGo è¯­è¨€ä»£ç ç‰‡æ®µçš„å°è£…ï¼ˆé€šå¸¸ä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œå‡½æ•°æ˜¯ Go çš„ä¸€ç­‰å…¬æ°‘ï¼‰ï¼Œä¸€ä¸ªå¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼ŒGo åç¨‹ã€‚</li></ul><blockquote><p>åç¨‹ï¼ˆcoroutineï¼‰ï¼Œä¸€ç§ç”¨æˆ·æ€è½»é‡çº§çº¿ç¨‹ï¼Œä¸åŒäºä¹‹å‰æ‰€è¯´çš„çº¿ç¨‹ï¼Œåç¨‹å®ç°çš„æ˜¯<strong>éæŠ¢å å¼</strong>è°ƒåº¦ï¼ˆå³ç”±å½“å‰åç¨‹åˆ‡æ¢åˆ°å…¶ä»–åç¨‹ç”±å½“å‰åç¨‹å†³å®šï¼‰ï¼Œåç¨‹æ˜¯è¯­è¨€çº§åˆ«çš„ã€‚ã€Œåä½œå¼è°ƒåº¦ã€</p></blockquote><ul><li>åç¨‹ä¼˜ç¼ºç‚¹ï¼š<a href="https://www.jianshu.com/p/2782f8c49b2a">coroutineåç¨‹è¯¦è§£</a></li><li><a href="https://gocn.vip/topics/9884?locale=zh-CN">Go 1.14 åŸºäºä¿¡å·çš„æŠ¢å å¼è°ƒåº¦å®ç°åŸç†</a></li></ul>              </div>            </details><p>åœ¨å®é™…è¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒM å’Œ P çš„ç»„åˆä¸º G æä¾›æœ‰æ•ˆçš„è¿è¡Œç¯å¢ƒï¼Œè€Œå¤šä¸ªå¯æ‰§è¡Œ G å°†ä¼šé¡ºåºæ’æˆä¸€ä¸ªé˜Ÿåˆ—æŒ‚åœ¨æŸä¸ª P ä¸Šé¢ï¼Œç­‰å¾…è°ƒåº¦å’Œæ‰§è¡Œã€‚<strong>M å’Œ P ä¼šé€‚æ—¶çš„ç»„åˆå’Œæ–­å¼€</strong>ï¼Œä»¥ä¿è¯æ‰§è¡Œ G é˜Ÿåˆ—èƒ½å¤Ÿå¾—åˆ°åŠæ—¶è¿è¡Œã€‚å¦‚ä¸‹å›¾ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/07/23/UOOXFg.png' data-fancybox='default' data-caption='Goroutine é˜»å¡'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/07/23/UOOXFg.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/07/23/UOOXFg.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Goroutine é˜»å¡"></a><span class='image-caption'>Goroutine é˜»å¡</span></div></div><p>ä¸Šå›¾å³åŠéƒ¨åˆ†ï¼Œå½“ M å¯¹åº”çš„å†…æ ¸çº¿ç¨‹è¢«å”¤é†’æ—¶ï¼ŒM ä¼šå°è¯•ä¸º G0 æ•è·ä¸€ä¸ª P ä¸Šä¸‹æ–‡ï¼Œå¯èƒ½æ˜¯ä»ç©ºé—²çš„ P åˆ—è¡¨ä¸­è·å–ï¼Œå¦‚æœè·å–ä¸æˆåŠŸï¼ŒM ä¼šæŠŠ G0 æ”¾å…¥è°ƒåº¦å™¨çš„å¯æ‰§è¡Œ G é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…å…¶ä»– P çš„æŸ¥æ‰¾ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://book.douban.com/subject/27096665/">ç°ä»£æ“ä½œç³»ç»Ÿ</a></li><li><a href="https://gocn.vip/topics/9884?locale=zh-CN">go1.14 åŸºäºä¿¡å·çš„æŠ¢å å¼è°ƒåº¦å®ç°åŸç†</a></li><li><a href="https://cloud.tencent.com/developer/article/1339562">Linuxä¸‹çš„è¿›ç¨‹ç±»åˆ«ï¼ˆå†…æ ¸çº¿ç¨‹ã€è½»é‡çº§è¿›ç¨‹å’Œç”¨æˆ·è¿›ç¨‹ï¼‰</a></li><li><a href="https://liuyehcf.github.io/2017/09/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86-%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B/">æ“ä½œç³»ç»ŸåŸç†-è¿›ç¨‹çº¿ç¨‹æ¨¡å‹ã€Œè¿›ç¨‹çŠ¶æ€è½¬æ¢æ¨¡å‹ã€</a></li><li><a href="https://book.douban.com/subject/26244729/">Go å¹¶å‘ç¼–ç¨‹å®æˆ˜</a></li><li><a href="https://www.jianshu.com/p/2782f8c49b2a">coroutineåç¨‹è¯¦è§£</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
          <category> è¿›/çº¿ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¿›ç¨‹ </tag>
            
            <tag> çº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React Hooks é‚£äº›äº‹å„¿</title>
      <link href="/2020/07/08/React-Hooks-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/"/>
      <url>/2020/07/08/React-Hooks-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>ç¿»äº†æ³¢ä¹‹å‰å†™çš„æ–‡ç« è¿˜æœ‰ç¬”è®°ï¼Œå‘ç°å…³äºå‰ç«¯çš„æ–‡ç« å¹¶ä¸å¤šï¼ˆå¥½æ­¹ä¹Ÿåˆ’æ°´åšè¿‡ç‚¹å‰ç«¯å¼€å‘ï¼‰ã€‚å·§äº†ï¼Œæœ€è¿‘æ²¡ä»€ä¹ˆå¥½è¯é¢˜å¯å†™ï¼Œåšä¸‹ React Hooks å­¦ä¹ ç¬”è®°å§ã€‚</p><h2 id="Effect-Hook"><a href="#Effect-Hook" class="headerlink" title="Effect Hook"></a>Effect Hook</h2><p>ä¸å¾—ä¸è¯´ Hook çš„å‡ºç°é™ä½äº†æˆ‘ä»¬åœ¨ React ä¸­å¤„ç†å‰¯ä½œç”¨ï¼ˆside effectï¼‰çš„å¿ƒæ™ºè´Ÿæ‹…ï¼Œé€šè¿‡ useEffect å°±å¯ä»¥å¾ˆå¥½çš„å®Œæˆä¹‹å‰éœ€è¦ä½¿ç”¨å‡ ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°é…åˆæ‰èƒ½å®Œæˆçš„äº‹ã€‚</p><h3 id="Effect-Hook-æ­»å¾ªç¯è¯·æ±‚é—®é¢˜"><a href="#Effect-Hook-æ­»å¾ªç¯è¯·æ±‚é—®é¢˜" class="headerlink" title="Effect Hook æ­»å¾ªç¯è¯·æ±‚é—®é¢˜"></a>Effect Hook æ­»å¾ªç¯è¯·æ±‚é—®é¢˜</h3><p>ç”±äº Effect Hook ä¸ç†Ÿã€Œå®˜æ–¹æ–‡æ¡£æ²¡è¯»é€ã€ï¼Œæœ€è¿‘ä½¿ç”¨ useEffect å‡ºç°äº†å¼‚æ­¥è¯·æ±‚å‘é€äº†æ— é™æ¬¡çš„é—®é¢˜ï¼Œç¿»ğŸš—äº†ã€‚æˆ‘æœ‰ä¸ªç»„ä»¶å¤§æ¦‚æ˜¯è¿™ä¹ˆå†™çš„ï¼š</p><span id="more"></span><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;umi-request&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;./logo.svg&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./App.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [data, setData] = <span class="title function_">useState</span>([]);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">request</span>(<span class="string">&#x27;https://jsonplaceholder.typicode.com/todos/&#x27;</span>, &#123;</span><br><span class="line">     <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fetch data&#x27;</span>);</span><br><span class="line">      <span class="title function_">setData</span>(response);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;report error: &quot;</span>, error);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">header</span> <span class="attr">className</span>=<span class="string">&quot;App-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;logo&#125;</span> <span class="attr">className</span>=<span class="string">&quot;App-logo&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;logo&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          &#123;data.map(item =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">            return (</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span>&#123;item.title&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            );</span></span><br><span class="line"><span class="language-xml">          &#125;)&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><iframe src="https://codesandbox.io/embed/nice-sea-zo2c2?fontsize=14&hidenavigation=1&theme=dark" width="100%" height="500" frameborder="0" loading="lazy" allowfullscreen></iframe><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/07/08/UZXngK.gif' data-fancybox='default' data-caption='æ•ˆæœ'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/07/08/UZXngK.gif" class="lazyload" data-srcset="https://s1.ax1x.com/2020/07/08/UZXngK.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ•ˆæœ"></a><span class='image-caption'>æ•ˆæœ</span></div></div><p><a href="https://zo2c2.csb.app/">https://zo2c2.csb.app/</a>ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä»è°ƒè¯•æ§åˆ¶å°çœ‹åˆ°ï¼Œå¼‚æ­¥è¯·æ±‚ä¸€ç›´åœ¨å‘ï¼Œé™·å…¥äº†æ­»å¾ªç¯ä¹‹ä¸­ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º useEffect ä¼šåœ¨ç»„ä»¶ Mounting å’Œ Updating é˜¶æ®µæ‰§è¡Œã€‚æ¯æ¬¡ request è¯·æ±‚æˆåŠŸï¼Œæˆ‘ä»¬éƒ½ä¼šè®¾ç½®ä¸€æ¬¡ç»„ä»¶çš„ state -&gt; dataï¼Œæ‰€ä»¥ç»„ä»¶ä¼šæ›´æ–°ï¼ŒuseEffect ä¼šå†æ¬¡æ‰§è¡Œï¼Œå¾ªç¯å¾€å¤ï¼Œé€ æˆäº†æ— é™é‡å¤è¯·æ±‚é—®é¢˜ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿä¹‹å‰æˆ‘å¿½ç•¥äº† useEffect ç¬¬äºŒä¸ªå‚æ•°çš„å­˜åœ¨ï¼Œä½¿ç”¨ useEffect çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›ç»„ä»¶åªåœ¨ mounting é˜¶æ®µå¼‚æ­¥è·å–æ•°æ®ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆè®¾ç½® useEffect çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè®©å®ƒå…·æœ‰å’Œ componentDidMount ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç±»ä¼¼çš„è¡Œä¸ºï¼ˆç»„ä»¶ç¬¬ä¸€æ¬¡ mount åæ‰§è¡Œï¼‰ï¼š</p><details red open><summary> React ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ </summary>              <div class='content'>              <p><img src="https://s1.ax1x.com/2020/07/08/UZ5T6s.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/07/08/UZ5T6s.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="lifecycle"></p><p>æ¥æºï¼š<a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/</a></p>              </div>            </details><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">request</span>(<span class="string">&#x27;https://jsonplaceholder.typicode.com/todos/&#x27;</span>, &#123;</span><br><span class="line">   <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fetch data&#x27;</span>);</span><br><span class="line marked">    <span class="title function_">setData</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;report error: &quot;</span>, error);</span><br><span class="line">  &#125;)</span><br><span class="line marked">&#125;, []);</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ªç©ºæ•°ç»„ä½œä¸º useEffect çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™æ ·å°±èƒ½é¿å…åœ¨ç»„ä»¶ Updating é˜¶æ®µæ‰§è¡Œ useEffectã€‚è¿™ä¸ªæ•°ç»„æˆä¸º<strong>ä¾èµ–æ•°ç»„</strong>ã€‚ä¾èµ–æ•°ç»„ä¸ºç©ºï¼Œè¡¨æ˜ useEffect ä¸ä¼šå› ä¸ºæŸä¸ªå˜é‡çš„å˜åŒ–è€Œå†æ¬¡æ‰§è¡Œã€‚åœ¨ç»„ä»¶éœ€è¦æ ¹æ®æŸä¸ªå˜é‡å˜åŒ–è¿›è¡Œæ¸²æŸ“çš„æ—¶å€™ï¼Œå¯ä»¥å°†æ­¤å˜é‡æ”¾åˆ°ä¾èµ–æ•°ç»„ä¸­ï¼Œä¸€æ—¦è¿™ä¸ªä¾èµ–çš„å˜é‡å˜åŠ¨ï¼ŒuseEffect å°±ä¼šé‡æ–°æ‰§è¡Œã€‚</p><h3 id="è®©ç»„ä»¶å¸è½½ååšç‚¹äº‹"><a href="#è®©ç»„ä»¶å¸è½½ååšç‚¹äº‹" class="headerlink" title="è®©ç»„ä»¶å¸è½½ååšç‚¹äº‹"></a>è®©ç»„ä»¶å¸è½½ååšç‚¹äº‹</h3><p>åœ¨ class ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç»„ä»¶å¸è½½åè¦åšçš„äº‹æ”¾åœ¨ componentWillUnmount ä¸­ã€‚å¼•å…¥ Hook åï¼Œåœ¨ function ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç»„ä»¶å¸è½½è¦åšçš„äº‹æ”¾åœ¨ useEffect ä¸­ï¼Œè®©å®ƒè¿”å›ä¸€ä¸ª callback å³å¯ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Child</span>(<span class="params">&#123; visible &#125;</span>) &#123;</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;ç»„ä»¶å·²æŒ‚è½½&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;  <span class="comment">// return ä¸€ä¸ª callback</span></span><br><span class="line">      <span class="title function_">alert</span>(<span class="string">&quot;ç»„ä»¶å·²è¢«å¸è½½ï¼ï¼&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> visible ? <span class="string">&quot;true&quot;</span> : <span class="string">&quot;false&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [visible, changeVisible] = <span class="title function_">useState</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;visible &amp;&amp; <span class="tag">&lt;<span class="name">Child</span> <span class="attr">visible</span>=<span class="string">&#123;visible&#125;</span> /&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">          changeVisible(!visible);</span></span><br><span class="line"><span class="language-xml">        &#125;&#125;</span></span><br><span class="line"><span class="language-xml">      &gt;</span></span><br><span class="line"><span class="language-xml">        &#123;visible ? &quot;å¸è½½ç»„ä»¶&quot; : &quot;æŒ‚è½½ç»„ä»¶&quot;&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><iframe src="https://codesandbox.io/embed/condescending-minsky-jnzcc?fontsize=14&hidenavigation=1&theme=dark" width="100%" height="500" frameborder="0" loading="lazy" allowfullscreen></iframe><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/07/09/UmgGaF.gif' data-fancybox='default' data-caption='effect å¸è½½ç»„ä»¶åšç‚¹äº‹å„¿'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/07/09/UmgGaF.gif" class="lazyload" data-srcset="https://s1.ax1x.com/2020/07/09/UmgGaF.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="effect å¸è½½ç»„ä»¶åšç‚¹äº‹å„¿"></a><span class='image-caption'>effect å¸è½½ç»„ä»¶åšç‚¹äº‹å„¿</span></div></div><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://juejin.im/post/5c9827745188250ff85afe50">ç²¾è¯» useEffect å®Œå…¨æŒ‡å—</a></li><li><a href="https://overreacted.io/zh-hans/a-complete-guide-to-useeffect/">useEffect å®Œæ•´æŒ‡å—</a></li><li><a href="https://zhuanlan.zhihu.com/p/65773322">useEffect ä½¿ç”¨æŒ‡å—</a></li><li><a href="https://www.robinwieruch.de/react-hooks-fetch-data">How to fetch data with React Hooks?</a></li><li><a href="https://www.zoo.team/article/react-hooks">çœ‹å®Œè¿™ç¯‡ï¼Œä½ ä¹Ÿèƒ½æŠŠ React Hooks ç©å‡ºèŠ±</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨docker-composeç¼–æ’å‰åç«¯åˆ†ç¦»åº”ç”¨</title>
      <link href="/2020/06/28/%E4%BD%BF%E7%94%A8docker-compose%E7%BC%96%E6%8E%92%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E5%BA%94%E7%94%A8/"/>
      <url>/2020/06/28/%E4%BD%BF%E7%94%A8docker-compose%E7%BC%96%E6%8E%92%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å‡ ä¸ªæœˆè¿‡å»äº†ï¼Œæ˜¯æ—¶å€™æŠŠå½“åˆçš„ <a href="https://github.com/yeshan333/Flask-React-ToDoList#%E6%9B%B4%E6%96%B0%E8%AE%A1%E5%88%92">ğŸš©</a> å¹²æ‰äº†ã€‚</p><p>é¡ºä¾¿æé«˜ä¸‹ docker çš„ç†Ÿç»ƒåº¦ï¼Œå¾—é—²çœ‹ä¸‹åŸç†ğŸš©ï¼ˆå‡æœŸçœ‹è¿‡ï¼Œæ²¡æ€»ç»“â€¦ï¼‰ã€‚</p><p>é‡è£…äº†æ³¢ç³»ç»Ÿï¼ˆWindows 2004 ç‰ˆæœ¬ï¼‰ï¼Œè¿™ä¸ªç‰ˆæœ¬ä¸‹ï¼ŒDocker Desktop æ˜¯ä»¥ WSL2 ä¸º backend çš„ï¼Œä¸ç”¨ Hyper -V äº†ï¼Œèˆ’æœäº†å¾ˆå¤šã€‚</p><p>ç»†å“äº†ä¸‹ï¼ˆåˆæ‘¸é±¼æ DevOpsï¼‰ï¼Œè·‘è¿™ä¸ªå‰åç«¯åˆ†ç¦»é¡¹ç›®éœ€è¦åˆ°çš„å®¹å™¨è¿˜æŒºå¤šï¼Œ4 ä¸ªå·¦å³ï¼ˆåç«¯ REST æœåŠ¡ã€æ•°æ®åº“æœåŠ¡ã€å‰ç«¯æœåŠ¡ï¼‰ï¼Œå‰ç«¯æœåŠ¡ä¸Šäº†ä¸¤ä¸ªå®¹å™¨ã€è²Œä¼¼æ²¡å¿…è¦ã€ï¼Œä¸€ä¸ªç”¨æ¥è¿‡æ¸¡ï¼Œä¸€ä¸ªè·‘æŒ‚ç€ SPA çš„ Nginxã€‚</p><p>è¿™æ¬¡ç¥­å‡ºäº† Docker Composeï¼Œæ¯•ç«Ÿå®¹å™¨æœ‰ç‚¹â€œå°å¤šâ€ï¼Œå•å•ç”¨å‘½ä»¤è´¹åŠ²ã€‚</p><span id="more"></span><h2 id="Demo-å®æˆ˜"><a href="#Demo-å®æˆ˜" class="headerlink" title="Demo å®æˆ˜"></a>Demo å®æˆ˜</h2><ul><li>Demo åœ°å€ï¼š<a href="https://github.com/yeshan333/Flask-React-ToDoList">https://github.com/yeshan333/Flask-React-ToDoList</a></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/yeshan333/Flask-React-ToDoList</span><br><span class="line"><span class="built_in">cd</span> Flask-React-ToDoList</span><br><span class="line">git checkout docker</span><br></pre></td></tr></table></figure><h3 id="1ã€å…ˆç»™åç«¯æœåŠ¡å†™ä¸ª-Dockerfile"><a href="#1ã€å…ˆç»™åç«¯æœåŠ¡å†™ä¸ª-Dockerfile" class="headerlink" title="1ã€å…ˆç»™åç«¯æœåŠ¡å†™ä¸ª Dockerfile"></a>1ã€å…ˆç»™åç«¯æœåŠ¡å†™ä¸ª Dockerfile</h3><p>è¿™ä¸ªé¡¹ç›®çš„åç«¯æœåŠ¡æ˜¯ç”¨ Flask å†™çš„ï¼ŒDockerfile å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.8</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> maintainer = <span class="string">&quot;yeshan &lt;yeshan1329441308@gmail.com&gt;&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Keeps Python from generating .pyc files in the container</span></span><br><span class="line"><span class="keyword">ENV</span> PYTHONDONTWRITEBYTECODE <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Turns off buffering for easier container logging</span></span><br><span class="line"><span class="keyword">ENV</span> PYTHONUNBUFFERED <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Install pip requirements</span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> requirements.txt .</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> python -m pip install -r requirements.txt</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> . /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># production web server</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;gunicorn&quot;</span>, <span class="string">&quot;--bind&quot;</span>, <span class="string">&quot;0.0.0.0:5000&quot;</span>, <span class="string">&quot;app:app&quot;</span>]</span></span><br><span class="line"><span class="comment"># CMD [&quot;flask&quot;, &quot;run&quot;, &quot;--host&quot;, &quot;0.0.0.0&quot;, &quot;--port&quot;, &quot;5000&quot;]</span></span><br></pre></td></tr></table></figure><p>ç”Ÿäº§ç¯å¢ƒä¸‹ï¼ŒFlask è‡ªå¸¦çš„æœåŠ¡å™¨ä¸å¤Ÿéªšï¼Œæ‰€ä»¥è¿™é‡Œä¸Š gunicornã€‚</p><h3 id="2ã€å†ç»™å‰ç«¯-React-SPA-å†™ä¸ª-Dockerfile"><a href="#2ã€å†ç»™å‰ç«¯-React-SPA-å†™ä¸ª-Dockerfile" class="headerlink" title="2ã€å†ç»™å‰ç«¯ React-SPA å†™ä¸ª Dockerfile"></a>2ã€å†ç»™å‰ç«¯ React-SPA å†™ä¸ª Dockerfile</h3><p>å‰ç«¯ä½¿ç”¨ React ç¼–å†™ã€Œæƒ³èµ·åˆå­¦é‚£æ—¶å€™æŠ½ç»„ä»¶é‚£å«ä¸€ä¸ªç—›è‹¦ã€ï¼ŒDockerfile å¦‚ä¸‹</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:<span class="number">12.18</span>-alpine as frontend-react</span><br><span class="line"></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> maintainer = <span class="string">&quot;yeshan &lt;yeshan1329441308@gmail.com&gt;&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> NODE_ENV production</span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /usr/src/app</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> [<span class="string">&quot;package.json&quot;</span>, <span class="string">&quot;package-lock.json*&quot;</span>, <span class="string">&quot;npm-shrinkwrap.json*&quot;</span>, <span class="string">&quot;./&quot;</span>]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> npm install &amp;&amp; npm install -g serve</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> npm run build</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;serve&quot;</span>, <span class="string">&quot;-l&quot;</span>, <span class="string">&quot;tcp://0.0.0.0:5000&quot;</span>, <span class="string">&quot;-s&quot;</span>, <span class="string">&quot;build&quot;</span>]</span></span><br></pre></td></tr></table></figure><p>åŸæ¥æƒ³çš„æ˜¯ç›´æ¥ä½¿ç”¨ react-script è‡ªå¸¦çš„ HTTP æœåŠ¡å™¨çš„ï¼Œå‰ç«¯åº”ç”¨ä¹Ÿåœ¨å®¹å™¨è·‘ï¼Œä½†æ˜¯è¿™ä¸ª HTTP æœåŠ¡å™¨ä¸å¤Ÿéªšï¼Œä¸ºäº†ç”Ÿäº§ç¯å¢ƒï¼Œè¿˜æ˜¯ä¸Š Nginx äº†ã€‚ä¸ºäº†è°ƒè¯•ï¼Œä½¿ç”¨ serve å¥—ä¸€ä¸‹æ„å»ºå¥½çš„é¡µé¢ã€‚</p><h3 id="3ã€ç¼–å†™-docker-compose-yml-å¯¹å®¹å™¨è¿›è¡Œç¼–æ’"><a href="#3ã€ç¼–å†™-docker-compose-yml-å¯¹å®¹å™¨è¿›è¡Œç¼–æ’" class="headerlink" title="3ã€ç¼–å†™ docker-compose.yml å¯¹å®¹å™¨è¿›è¡Œç¼–æ’"></a>3ã€ç¼–å†™ docker-compose.yml å¯¹å®¹å™¨è¿›è¡Œç¼–æ’</h3><p>æ¥ä¸‹æ¥çš„ç¼–æ’æ–‡ä»¶æ‰æ˜¯å¤§å¤´ï¼Œè°ƒè¯•äº†åŠå¤©ã€ğŸ¤£è¿æ¥ MongoDBğŸ˜‚ã€ã€‚è¿™ä¸ª URI è¿æ¥å­—ç¬¦ä¸²è¯•äº†å¤šç§æ“ä½œï¼Œæ¯”å¦‚ï¼š<code>connection = MongoClient(&quot;mongodb://mongo:27017/&quot;)</code>ã€<code>connection = MongoClient(&quot;mongo:27017&quot;)</code>ï¼Œæœ€åè¿˜æ˜¯çœ‹æ–‡æ¡£è§£å†³çš„ï¼Œè¿™â€¦ï¼Œæ–‡æ¡£è¿˜æ˜¯é¦™çš„ã€‚</p><p>åŸæ¥ compose v2 ä»¥ä¸Šï¼Œä½¿ç”¨ compose è¿›è¡Œç¼–æ’æ—¶ï¼Œä¼šé»˜è®¤å»ºç«‹ä¸€ä¸ªç½‘ç»œï¼ˆbridge ç±»å‹ï¼‰ï¼Œè¿æ¥å„ä¸ªå®¹å™¨ï¼Œ<code>ä¸»æœºåå’Œå®¹å™¨åç›¸åŒ</code>ï¼Œåé¢æŒ‡å®šäº†ä¸‹<code>container_name: flask_backend</code>ã€<code>container_name: mongo_database</code>æ‰åœ¨ flask_backend å®¹å™¨ <code>ping</code> é€š MongoDB æœåŠ¡ã€‚</p><p>æ–‡æ¡£åŸæ–‡å¦‚ä¸‹ï¼š</p><blockquote><p>By default Compose sets up a single network for your app. Each container for a service joins the default network and is both reachable by other containers on that network, and discoverable by them at a hostname identical to the container name.<a href="https://docs.docker.com/compose/networking/">ğŸ”—</a></p></blockquote><p>OKï¼Œçœ‹ä¸‹è¿™ä¸ªå° demo çš„ç¼–æ’æ–‡ä»¶ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.4&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">backend:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">flask_backend</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">backend</span></span><br><span class="line">    <span class="attr">build:</span></span><br><span class="line">      <span class="attr">context:</span> <span class="string">./backend</span></span><br><span class="line">      <span class="attr">dockerfile:</span> <span class="string">Dockerfile</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5000:5000&quot;</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">database</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">database:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">mongo_database</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mongo</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">data:/data/db</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">frontend:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">frontend-react</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">frontend</span></span><br><span class="line">    <span class="attr">build:</span></span><br><span class="line">      <span class="attr">context:</span> <span class="string">./frontend</span></span><br><span class="line">      <span class="attr">dockerfile:</span> <span class="string">Dockerfile</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">static:/usr/src/app/build</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3000:5000&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">webserver-nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">static:/usr/share/nginx/html</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">&quot;/bin/bash -c &quot;</span><span class="string">nginx</span> <span class="string">-g</span> <span class="string">&#x27;daemon off;&#x27;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">volumes:</span></span><br><span class="line"><span class="string">  data:</span></span><br><span class="line"><span class="string">  static:</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼Œä¹‹å‰ä¸ºå‰ç«¯ SPA åˆ›å»ºçš„å®¹å™¨åªæ˜¯ä¸ºäº†åšä¸‹è¿‡æ¸¡ã€Œé€šè¿‡ static volumn è¿›è¡Œè¿‡æ¸¡ã€ã€‚æœ€ç»ˆçš„åº”ç”¨è¿˜æ˜¯æŒ‚åœ¨ Nginx ä¸Šçš„ã€‚é€šè¿‡ volume åšä¸‹æŒä¹…å­˜å‚¨ã€‚</p><p>æœ€åï¼Œè·‘ä¸‹è¯•è¯•ï¼Œçœ‹çœ‹æ•ˆæœå¦‚ä½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–æ•°æ®åº“</span></span><br><span class="line">docker <span class="built_in">exec</span> -i  flask_backend flask create-database</span><br></pre></td></tr></table></figure><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/06/28/NRJe8x.png' data-fancybox='default' data-caption='å¼€å§‹ç¼–æ’å®¹å™¨'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/06/28/NRJe8x.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/28/NRJe8x.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¼€å§‹ç¼–æ’å®¹å™¨"></a><span class='image-caption'>å¼€å§‹ç¼–æ’å®¹å™¨</span></div></p><p><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/06/28/NRJxdH.png' data-fancybox='default' data-caption='åˆ›å»ºçš„ç½‘ç»œä¸å·'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/06/28/NRJxdH.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/28/NRJxdH.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="åˆ›å»ºçš„ç½‘ç»œä¸å·"></a><span class='image-caption'>åˆ›å»ºçš„ç½‘ç»œä¸å·</span></div></p><p><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/06/28/NRJaM8.png' data-fancybox='default' data-caption='æ•ˆæœ'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/06/28/NRJaM8.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/28/NRJaM8.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ•ˆæœ"></a><span class='image-caption'>æ•ˆæœ</span></div></div><p>æ”¶å·¥ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯åšä¸‹æœåŠ¡æŠ½ç¦»ï¼Œéƒ¨ç½²åˆ°äº‘åŸç”Ÿçš„æ“ä½œç³»ç»Ÿä¸Š-Kubernetesï¼ğŸš©</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://docs.docker.com/compose/compose-file/#compose-documentation">Compose file version 3 reference</a></li><li><a href="https://docs.docker.com/compose/networking/">Networking in Compose</a></li><li><a href="https://code.visualstudio.com/docs/containers/quickstart-python">Python in a container</a></li><li><a href="https://yeasy.gitbook.io/docker_practice/">docker-practice</a></li><li><a href="https://www.npmjs.com/package/serve">npm serve</a></li><li><a href="https://zhuanlan.zhihu.com/p/69536325">ä½¿ç”¨ Docker éƒ¨ç½² NodeJS + MongoDB é¡¹ç›®</a></li><li><a href="https://segmentfault.com/a/1190000010415158">Docker Nginx éƒ¨ç½² React</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> DevOps </tag>
            
            <tag> æœåŠ¡ç¼–æ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»™ GitHub commit åŠ ä¸ªå°ç»¿æ ‡</title>
      <link href="/2020/06/26/%E7%BB%99%20GitHub%20commit%20%E5%8A%A0%E4%B8%AA%E5%B0%8F%E7%BB%BF%E6%A0%87/"/>
      <url>/2020/06/26/%E7%BB%99%20GitHub%20commit%20%E5%8A%A0%E4%B8%AA%E5%B0%8F%E7%BB%BF%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>æœ€è¿‘ä¸€æ³¢é‡è£…ç³»ç»Ÿå•¥éƒ½æ²¡äº†ï¼Œæœ€å¸¸ç”¨çš„ Git é…ç½®è‚¯å®šå¾—å®‰æ’å›æ¥çš„ã€‚è®°å¾—ä¹‹å‰ç»™ git çš„ commit åŠ äº†ä¸ªç­¾åï¼Œå›æƒ³ä¸‹ä¸ºä»€ä¹ˆè¦ç»™ commit åšä¸‹ç­¾åï¼Ÿå› ä¸ºå®ƒèƒ½è®© GitHub çš„ commit å†å²æ›´å¸…ï¼Ÿçœ‹ä¸‹åŠ ç­¾åä¹‹å‰æ˜¯æ€ä¹ˆæ ·çš„ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/06/26/NstacQ.png' data-fancybox='default' data-caption='å¯¹commitè¿›è¡Œç­¾åå‰'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/06/26/NstacQ.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/NstacQ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¯¹commitè¿›è¡Œç­¾åå‰"></a><span class='image-caption'>å¯¹commitè¿›è¡Œç­¾åå‰</span></div></div><span id="more"></span><p>å†çœ‹ä¸‹å¯¹ commit ç­¾ååæ˜¯æ€ä¹ˆæ ·çš„ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/06/26/Nstg9U.png' data-fancybox='default' data-caption='å¯¹commitè¿›è¡Œç­¾åå'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/06/26/Nstg9U.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/Nstg9U.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¯¹commitè¿›è¡Œç­¾åå"></a><span class='image-caption'>å¯¹commitè¿›è¡Œç­¾åå</span></div></div><p>è¿™ä¹ˆä¸€å¯¹æ¯”ï¼Œæ˜¯æ›´å¸…äº†ï¼ä½†æˆ‘å¥½åƒä¸æ˜¯å› ä¸ºè¿™çš„æ‰åšçš„ã€‚æˆ‘æ˜¯ä¸ºäº†æ›´å¥½çš„å»æ··<strong>å¼€æºé¡¹ç›®</strong>åšçš„ï¼Œè¿™ä¸ªç»¿æ ‡èƒ½æ›´å¥½çš„è¯æ˜æˆ‘çš„èº«ä»½ï¼ï¼ï¼ï¼ˆå‡è£…æˆ‘å¾ˆä¸“ä¸šï¼Œ2333~ï¼‰ã€‚ä½¿ç”¨è¿‡ Git çš„åŒå­¦åº”è¯¥éƒ½æ™“å¾—ï¼Œæˆ‘ä»¬çš„æäº¤ä½œè€…ä¿¡æ¯æ˜¯å¯ä»¥è‡ªå·±è®¾ç½®çš„ï¼ˆè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»–äººèº«ä»½ä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config user.name <span class="string">&quot;tester&quot;</span></span><br><span class="line">$ git config user.email <span class="string">&quot;gg@qq.com&quot;</span></span><br></pre></td></tr></table></figure><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://s1.ax1x.com/2020/06/26/NsOPv6.png' data-fancybox='default' data-caption='å†’ç”¨ä½œè€…ä¿¡æ¯'><img fancybox itemprop="contentUrl" src="https://s1.ax1x.com/2020/06/26/NsOPv6.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/NsOPv6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å†’ç”¨ä½œè€…ä¿¡æ¯"></a><span class='image-caption'>å†’ç”¨ä½œè€…ä¿¡æ¯</span></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ˜¯å¯ä»¥ push åˆ° GitHub çš„[æ²¡æœ‰å°ç»¿æ ‡è€Œå·²]ã€‚è¿™çœ‹èµ·æ¥å°±ä¸å¤ªå¥½ï¼Œå¾—è®© GitHub è¯æ˜ä¸‹è‡ªå·±å¾—èº«ä»½æ‰è¡Œï¼Œä»å®˜æ–¹æ–‡æ¡£å¯ä»¥çœ‹åˆ°ï¼Œ GitHub æä¾›äº†ä¸€ç§ä½¿ç”¨ GPG çš„æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬çš„ commit â€œæˆ´â€ä¸Šå°ç»¿æ ‡ã€‚</p><p>å¿˜äº†å½“åˆæ˜¯æ€ä¹ˆæ“ä½œçš„äº†ï¼Œåœ¨ Windows ä¸‹æ“ä½œè²Œä¼¼è¿˜æŒºéº»çƒ¦çš„ï¼Œè¶æ­¤æ‹ä¸€ä¸‹è¿‡ç¨‹ï¼Œè¶æœºæ°´ç¯‡æ–‡ç« ã€‚</p><blockquote><p>GNU Privacy Guardï¼ˆGnuPGæˆ–GPGï¼‰æ˜¯ä¸€ä¸ªå¯†ç å­¦è½¯ä»¶ï¼Œç”¨äºåŠ å¯†ã€ç­¾åé€šä¿¡å†…å®¹åŠç®¡ç†éå¯¹ç§°å¯†ç å­¦çš„å¯†é’¥ã€‚</p></blockquote><h2 id="ç”Ÿæˆ-GPG-å¯†é’¥å¯¹"><a href="#ç”Ÿæˆ-GPG-å¯†é’¥å¯¹" class="headerlink" title="ç”Ÿæˆ GPG å¯†é’¥å¯¹"></a>ç”Ÿæˆ GPG å¯†é’¥å¯¹</h2><p>ç¬¬ä¸€æ­¥è‚¯å®šå°±æ˜¯é€šè¿‡ GPG ç”Ÿæˆå¯†é’¥å¯¹äº†ã€‚è¿™æ—¶å€™éœ€è¦åˆ°ä¸€ä¸ª GnuPG è½¯ä»¶ï¼ŒOKï¼Œå»ä¸‹è½½ï¼š<a href="https://www.gnupg.org/index.html">ğŸ”GnuPG</a>ã€‚å…¶å® Git fot windows è‡ªå¸¦ä¸€ä¸ª gpg å‘½ä»¤è¡Œç¨‹åºï¼Œä½†æ˜¯å‘½ä»¤è¡Œç”¨å¤šäº†ï¼Œè¿˜æ˜¯ä¸Š GUI æ„‰å¿«ç‚¹å§ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨å¸¦ GUI çš„ <a href="https://gpg4win.org/get-gpg4win.html">Gpg4winğŸ”—</a>ã€‚</p><p><img src="https://s1.ax1x.com/2020/06/26/Ns63HU.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/Ns63HU.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Gpg4winä¸‹è½½"></p><p>æˆ‘ä»¬é€šè¿‡å…¨å®¶æ¡¶è½¯ä»¶ä¹‹ Kleopatra æ–°å»ºç«‹ä¸€å¯¹å¯†é’¥ï¼Œåå­—ä¸º GitHub ç”¨æˆ·åï¼Œé‚®ç®±ä¸º GitHub çš„æ³¨å†Œé‚®ç®±ï¼ˆä½¿ç”¨ 4096 bitsçš„å¯†é’¥ï¼‰ï¼š</p><p><img src="https://s1.ax1x.com/2020/06/26/NscXJH.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/NscXJH.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Kleopatraæ–°å»ºå¯†é’¥å¯¹"></p><p><img src="https://s1.ax1x.com/2020/06/26/NsgnO0.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/NsgnO0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="4096 bitså¯†é’¥"></p><p>è®¾ç½® passphrase ï¼ˆé€šè¡Œå£ä»¤ï¼‰æ¥ä¿æŠ¤æˆ‘ä»¬çš„å¯†é’¥å¯¹ï¼Œæ¯æ¬¡ç­¾åéƒ½ä¼šç”¨å®ƒåˆ°ã€‚ï¼ˆä¹Ÿå¯ä»¥ä¸è®¾ç½®ï¼Œä¸ç”¨å£ä»¤éªŒè¯å°±å¯ä»¥ç›´æ¥ä½¿ç”¨å¯†é’¥ï¼‰</p><p><img src="https://s1.ax1x.com/2020/06/26/Ns2R29.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/Ns2R29.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è®¾ç½®passphrase"></p><p>å¥½äº†ï¼Œå¯†é’¥å¯¹ç”Ÿæˆå®Œæ¯•ã€‚ä¸‹ä¸€æ­¥ï¼Œå°±æ˜¯æŠŠæŠŠå…¬é’¥æ”¾åˆ° GitHub ä¸Šï¼Œè®© GitHub å¯¹æˆ‘ä»¬çš„æäº¤è¿›è¡ŒéªŒè¯ï¼Œåˆ¤æ–­æ˜¯å¦è¯¥ç»™ commit â€œæˆ´â€ä¸Šå°ç»¿æ ‡ã€‚[è·å–å…¬é’¥ï¼šé¼ æ ‡å³é”®-&gt;ç»†èŠ‚-&gt;å¯¼å‡º]ã€[GitHub æ·»åŠ å…¬é’¥ï¼šSettings-&gt;SSH and GPG keys]ã€‚</p><p><img src="https://s1.ax1x.com/2020/06/26/NsW1k8.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/NsW1k8.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ‹¿åˆ°å…¬é’¥"></p><p><img src="https://s1.ax1x.com/2020/06/26/NsWbjA.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/NsWbjA.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="GitHubä¸Šæ·»åŠ å…¬é’¥"></p><p>ä¸‹ä¸€æ­¥å°±æ˜¯å¼€å¯ Git æäº¤ç­¾åã€‚</p><h2 id="å¯ç”¨-Git-æäº¤ç­¾å"><a href="#å¯ç”¨-Git-æäº¤ç­¾å" class="headerlink" title="å¯ç”¨ Git æäº¤ç­¾å"></a>å¯ç”¨ Git æäº¤ç­¾å</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®© Git çŸ¥é“ gpg çš„å¯æ‰§è¡Œç¨‹åºåœ¨å“ªé‡Œï¼Ÿgpg çš„å¯æ‰§è¡Œç¨‹åºä½äº<a href="https://gpg4win.org/get-gpg4win.html">Gpg4winğŸ”—</a>åŒçº§ç›®å½•ä¸‹çš„<code>GnuPG/bin</code>ä¸­ï¼ˆGnuPG æ˜¯ Gpg4win ç»„ä»¶ä¹‹ä¸€ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global gpg.program &lt;path_to_gpg&gt;</span><br></pre></td></tr></table></figure><p>æˆ‘çš„è®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">where</span> gpg</span><br><span class="line">E:\Git\usr\bin\gpg.exe  <span class="comment"># è¿™ä¸ªæ˜¯ Git for windows è‡ªå¸¦çš„</span></span><br><span class="line">E:\GnuPG\bin\gpg.exe    <span class="comment"># è¿™ä¸ªæ‰æ˜¯æˆ‘ä»¬è¦ç”¨çš„</span></span><br><span class="line">$ git config --global gpg.program <span class="string">&quot;E:\GnuPG\bin\gpg.exe&quot;</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ¯æ¬¡<code>git commit</code>æ—¶ï¼ŒåŠ ä¸Š<code>-S</code>å³å¯å¯ç”¨ç­¾åã€‚</p><p><img src="https://s1.ax1x.com/2020/06/26/NsbMvT.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/NsbMvT.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="åŠ ä¸ª-Så‚æ•°å¯ç”¨ç­¾å"></p><p>æ¯æ¬¡éƒ½è¦å¤šæ‰“ä¸ªå‚æ•°å¤šéº»çƒ¦ï¼Œæˆ‘ä»¬é€šè¿‡å¦‚ä¸‹é…ç½®è®© Git é»˜è®¤å¯ç”¨ GPG ç­¾åï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global commit.gpgsign <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>æœ€åæˆ‘ä»¬<code>git push</code>ä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰æ•ˆæœã€‚<a href="https://github.com/yeshan333/anonymous-git-commit/commits/master">https://github.com/yeshan333/anonymous-git-commit/commits/master</a></p><p><img src="https://s1.ax1x.com/2020/06/26/NsqndH.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/06/26/NsqndH.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ•ˆæœé¢„è§ˆ"></p><p>æ²¡é—®é¢˜ï¼Œæ”¶å·¥äº†ã€‚æˆ‘çš„ Git å…¨å±€é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> ~/.gitconfig</span><br><span class="line">[user]</span><br><span class="line">        name = yeshan333</span><br><span class="line">        email = 1329441308@qq.com</span><br><span class="line">[gpg]</span><br><span class="line">        program = E:\\GnuPG\\bin\\gpg.exe</span><br><span class="line">[commit]</span><br><span class="line">        gpgsign = <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://zh.wikipedia.org/wiki/GnuPG">GunPG</a></li><li><a href="https://help.github.com/en/github/authenticating-to-github/signing-commits">GitHub - Signing commits</a></li><li><a href="https://frostming.com/2019/11-25/git-commit-sign">ç»™ä½ çš„ Git commit åŠ ä¸Šç»¿å‹¾ - ä¸€ä¸ªç®€å•ä½†å¾ˆå¤šäººæ²¡æ³¨æ„çš„ç»†èŠ‚</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GPG </tag>
            
            <tag> åŠ å¯† </tag>
            
            <tag> éšç§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°† Web åº”ç”¨ä¸¢ç»™å®ˆæŠ¤è¿›ç¨‹</title>
      <link href="/2020/06/21/%E5%B0%86Web%E5%BA%94%E7%94%A8%E4%B8%A2%E7%BB%99%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/"/>
      <url>/2020/06/21/%E5%B0%86Web%E5%BA%94%E7%94%A8%E4%B8%A2%E7%BB%99%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>æœ€è¿‘è€æ˜¯è¦æŠŠ Web App/Service éƒ¨ç½²åœ¨ä¸ªäººçš„æœåŠ¡å™¨ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œå‘ç°è‡ªå·±ä¸æ€ä¹ˆç†Ÿæ‚‰ã€Œå‰æï¼šä¸ä¸Š docker ï¼Œé€ƒ~ã€ï¼Œç‰¹å†™æ­¤æ–‡ç« æ¥çºªå¿µä¸‹ğŸ¤”ğŸ‘€ï¼ˆä¹‹å‰éƒ¨ç½²çš„  Web App/Service éƒ½æ˜¯ä¸¢ç»™ <a href="https://www.heroku.com/">Heroku</a>ã€<a href="https://www.netlify.com/">Netlify</a>ã€GitHub è¿™æ ·çš„ PaaS å¹³å°è¿è¡Œï¼Œå†™ä¸ªé…ç½®æ–‡ä»¶ã€Œactionã€yamlã€tomlã€å°±å®Œäº‹äº†ã€‚è‡ªå·±æ•´çš„ç©æ„å„¿ä¸¢åœ¨è‡ªå·±æœåŠ¡å™¨ä¸Šè·‘çš„å¹¶ä¸ç®—å¤šï¼Œä»Šå¤©è´¹ç‚¹åŠ²ï¼Œäº†è§£ç‚¹åŸºç¡€è®¾æ–½ã€‚æ ¹æ®å†°å±±æ¨¡å‹ï¼Œäº†è§£ä¸‹ FaaS èƒ½æ›´å¥½çš„äº†è§£ <a href="https://shansan.top/knowledge-base/#/backend?id=iaas%e3%80%81paas%e3%80%81saas">PaaS</a>ï¼‰ã€‚</p><span id="more"></span><h2 id="å†°å±±çš„åº•éƒ¨-åŸºç¡€"><a href="#å†°å±±çš„åº•éƒ¨-åŸºç¡€" class="headerlink" title="å†°å±±çš„åº•éƒ¨-åŸºç¡€"></a>å†°å±±çš„åº•éƒ¨-åŸºç¡€</h2><p>åœ¨æŠŠ Web åº”ç”¨ä¸¢ç»™å®ˆæŠ¤ï¼ˆdaemonï¼‰è¿›ç¨‹å‰ï¼Œåº”è¯¥äº†è§£éƒ¨åˆ†åŸºç¡€æ¦‚å¿µã€‚</p><blockquote><p>å®ˆæŠ¤è¿›ç¨‹æ˜¯åœ¨åå°è¿è¡Œä¸å—ç»ˆç«¯æ§åˆ¶çš„è¿›ç¨‹ï¼ˆå¦‚è¾“å…¥ã€è¾“å‡ºç­‰ï¼‰ã€‚</p></blockquote><p>æ’å…¥ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬ä¹‹å‰åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œæ˜¯å¦‚ä½•è¿è¡Œ Web æœåŠ¡çš„ï¼Ÿå¯¹äº Spring Bootï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯ä½¿ç”¨ <code>mvn spring-boot:run</code> åœ¨å‰å°è·‘ Web æœåŠ¡ï¼›å¯¹äº React å‰ç«¯åº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>npm script</code> å³ <code>npm start</code> å¯åŠ¨å‰ç«¯ HTTP æœåŠ¡å™¨è¿›è¡Œ view å±‚é¢„è§ˆã€‚é—®é¢˜æ¥äº†ï¼Œè¿™æ ·æ“ä½œï¼ŒæœåŠ¡è¿›ç¨‹æ˜¯è·‘åœ¨å‰å°çš„ï¼ˆæ‰€è°“çš„å‰å°ä»»åŠ¡/è¿›ç¨‹ï¼‰ï¼Œå½“æˆ‘ä»¬é€€å‡ºæ“ä½œç»ˆç«¯æˆ–è€…æ‰‹åŠ¨ç»ˆæ­¢æ—¶ï¼Œè¿™äº›æœåŠ¡ä¹Ÿå°±ä¸èƒ½ç”¨äº†ï¼Œè€Œä¸”å‰å°ä»»åŠ¡ç‹¬å äº†ä¸€ä¸ªç»ˆç«¯ï¼Œä½¿å¾—æˆ‘ä»¬ä¸èƒ½å†åœ¨æ­¤ç»ˆç«¯æ‰§è¡Œå…¶ä»–å‘½ä»¤ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬è¦è®©æœåŠ¡æŒä¹…è¿è¡Œï¼Œè¿™ç§æƒ…å†µæ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æƒ³çœ‹åˆ°çš„ï¼Œé‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ</p><blockquote><p>æ‰€è°“çš„å‰å°ä»»åŠ¡æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥çœ‹å¾—åˆ°çš„ã€‚</p></blockquote><p><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621153114.gif" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621153114.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å‰å°è¿›ç¨‹/ä»»åŠ¡"></p><p>åœ¨äº†è§£å¦‚ä½•è§£å†³é—®é¢˜å‰ï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦äº†è§£ä¸‹ä¸ºä»€ä¹ˆå‰å°ä»»åŠ¡ä¼šéšç€ session çš„é€€å‡ºè€Œé€€å‡ºï¼ˆæ”¶åˆ°äº† SIGHUPï¼‰ã€‚Linux ç³»ç»Ÿå¯¹æ­¤çš„è®¾è®¡å¦‚ä¸‹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1ã€ç”¨æˆ·å‡†å¤‡é€€å‡º session</span><br><span class="line">2ã€ç³»ç»Ÿå‘è¯¥ session å‘å‡ºSIGHUPä¿¡å·</span><br><span class="line">3ã€session å°†SIGHUPä¿¡å·å‘ç»™æ‰€æœ‰å­è¿›ç¨‹</span><br><span class="line">4ã€å­è¿›ç¨‹æ”¶åˆ°SIGHUPä¿¡å·åï¼Œè‡ªåŠ¨é€€å‡º</span><br></pre></td></tr></table></figure><details cyan open><summary> SIGHUP æ˜¯ä»€ä¹ˆ </summary>              <div class='content'>              <p>SIGHUPï¼ˆsignal hang upï¼‰ ä¿¡å·åœ¨ç”¨æˆ·ç»ˆç«¯è¿æ¥(æ­£å¸¸æˆ–éæ­£å¸¸)ç»“æŸæ—¶å‘å‡º, é€šå¸¸æ˜¯åœ¨ç»ˆç«¯çš„æ§åˆ¶è¿›ç¨‹ç»“æŸæ—¶, é€šçŸ¥åŒä¸€ session å†…çš„å„ä¸ªä½œä¸š, è¿™æ—¶å®ƒä»¬ä¸æ§åˆ¶ç»ˆç«¯ä¸å†å…³è”. ç³»ç»Ÿå¯¹ SIGHUP ä¿¡å·çš„é»˜è®¤å¤„ç†æ˜¯ç»ˆæ­¢æ”¶åˆ°è¯¥ä¿¡å·çš„è¿›ç¨‹ã€‚</p><ul><li>æŸ¥çœ‹ç»´åŸºç™¾ç§‘ï¼š<a href="https://zh.wikipedia.org/wiki/Unix%E4%BF%A1%E5%8F%B7">Unix ä¿¡å·</a></li></ul>              </div>            </details><details green><summary> ä»€ä¹ˆæ˜¯è¿›ç¨‹ç»„ </summary>              <div class='content'>              <p>è¿›ç¨‹ç»„æ˜¯ä¸€ç³»åˆ—ç›¸äº’å…³è”çš„è¿›ç¨‹é›†åˆï¼Œç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªè¿›ç¨‹å¿…é¡»ä»å±äºæŸä¸€ä¸ªè¿›ç¨‹ç»„ï¼›æ¯ä¸ªè¿›ç¨‹ç»„ä¸­éƒ½ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„ ID(process group id)ï¼Œç®€ç§° PGIDï¼›PGID ä¸€èˆ¬ç­‰åŒäºè¿›ç¨‹ç»„çš„åˆ›å»ºè¿›ç¨‹çš„ Process IDï¼Œè€Œè¿™ä¸ªè¿›ç¨‹ä¸€èˆ¬ä¹Ÿä¼šè¢«ç§°ä¸ºè¿›ç¨‹ç»„å…ˆå¯¼(process group leader)ï¼ŒåŒä¸€è¿›ç¨‹ç»„ä¸­é™¤äº†è¿›ç¨‹ç»„å…ˆå¯¼å¤–çš„å…¶ä»–è¿›ç¨‹éƒ½æ˜¯å…¶å­è¿›ç¨‹ï¼›</p><p>è¿›ç¨‹ç»„çš„å­˜åœ¨ï¼Œæ–¹ä¾¿äº†ç³»ç»Ÿå¯¹å¤šä¸ªç›¸å…³è¿›ç¨‹æ‰§è¡ŒæŸäº›ç»Ÿä¸€çš„æ“ä½œï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§å‘é€ä¸€ä¸ªä¿¡å·é‡ç»™åŒä¸€è¿›ç¨‹ç»„ä¸­çš„æ‰€æœ‰è¿›ç¨‹ã€‚</p>              </div>            </details><details green><summary> ä»€ä¹ˆæ˜¯ session </summary>              <div class='content'>              <p>ä¼šè¯ï¼ˆsessionï¼‰æ˜¯ä¸€ä¸ªè‹¥å¹²è¿›ç¨‹ç»„çš„é›†åˆï¼ŒåŒæ ·çš„ï¼Œç³»ç»Ÿä¸­æ¯ä¸€ä¸ªè¿›ç¨‹ç»„ä¹Ÿéƒ½å¿…é¡»ä»å±äºæŸä¸€ä¸ªä¼šè¯ï¼›ä¸€ä¸ªä¼šè¯åªæ‹¥æœ‰æœ€å¤šä¸€ä¸ªæ§åˆ¶ç»ˆç«¯ï¼ˆä¹Ÿå¯ä»¥æ²¡æœ‰ï¼‰ï¼Œè¯¥ç»ˆç«¯ä¸ºä¼šè¯ä¸­æ‰€æœ‰è¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹æ‰€å…±ç”¨ã€‚ä¸€ä¸ªä¼šè¯ä¸­å‰å°è¿›ç¨‹ç»„åªä¼šæœ‰ä¸€ä¸ªï¼Œåªæœ‰å…¶ä¸­çš„è¿›ç¨‹æ‰å¯ä»¥å’Œæ§åˆ¶ç»ˆç«¯è¿›è¡Œäº¤äº’ï¼›é™¤äº†å‰å°è¿›ç¨‹ç»„å¤–çš„è¿›ç¨‹ç»„ï¼Œéƒ½æ˜¯åå°è¿›ç¨‹ç»„ï¼›å’Œè¿›ç¨‹ç»„å…ˆå¯¼ç±»ä¼¼ï¼Œä¼šè¯ä¸­ä¹Ÿæœ‰ä¼šè¯å…ˆå¯¼(session leader)çš„æ¦‚å¿µï¼Œç”¨æ¥è¡¨ç¤ºå»ºç«‹èµ·åˆ°æ§åˆ¶ç»ˆç«¯è¿æ¥çš„è¿›ç¨‹ã€‚åœ¨æ‹¥æœ‰æ§åˆ¶ç»ˆç«¯çš„ä¼šè¯ä¸­ï¼Œsession leader ä¹Ÿè¢«ç§°ä¸ºæ§åˆ¶è¿›ç¨‹(controlling process)ï¼Œä¸€èˆ¬æ¥è¯´æ§åˆ¶è¿›ç¨‹ä¹Ÿå°±æ˜¯ç™»å…¥ç³»ç»Ÿçš„ shell è¿›ç¨‹(login shell)ï¼›</p>              </div>            </details><p>OKï¼Œå›åˆ°æˆ‘ä»¬çš„é—®é¢˜ï¼Œå¦‚ä½•è®©ä»»åŠ¡æŒä¹…è¿è¡Œã€ä¸å½±å“å…¶ä»–æ“ä½œã€‚è¿™æ—¶ï¼Œåå°è¿›ç¨‹å°±è¯¥ç™»åœºäº†ï¼Œå°†ä»»åŠ¡ä¸¢åœ¨åå°æ‰§è¡Œã€‚ä¸€ä¸ªä»»åŠ¡è¦ä¸¢ç»™å®ˆæŠ¤è¿›ç¨‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯è¦å°†ä»–å˜ä¸ºåå°è¿›ç¨‹ã€‚å˜ä¸ºåå°è¿›ç¨‹åï¼Œä¸€ä¸ªè¿›ç¨‹æ˜¯å¦å°±æˆä¸ºäº†å®ˆæŠ¤è¿›ç¨‹å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œç”¨æˆ·é€€å‡º session ä»¥åï¼Œåå°è¿›ç¨‹æ˜¯å¦è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Ÿç­”æ¡ˆæ˜¯æœªå¿…ã€‚çœ‹å®Œåé¢å°±æ˜ç™½äº†ã€‚</p><h2 id="å†°å±±çš„ä¸Šå±‚-åº”ç”¨"><a href="#å†°å±±çš„ä¸Šå±‚-åº”ç”¨" class="headerlink" title="å†°å±±çš„ä¸Šå±‚-åº”ç”¨"></a>å†°å±±çš„ä¸Šå±‚-åº”ç”¨</h2><p>Linux æä¾›äº†å¾ˆå¤šç§æ–¹æ³•è®©æˆ‘ä»¬å°†å‰å°è¿›ç¨‹å˜ä¸ºåå°è¿›ç¨‹ï¼ŒæŒ‘å‡ ç§ä»‹ç»ä¸‹ã€‚</p><h3 id="å°†å‰å°è¿›ç¨‹å˜ä¸ºåå°è¿›ç¨‹çš„å‡ ç§æ–¹å¼"><a href="#å°†å‰å°è¿›ç¨‹å˜ä¸ºåå°è¿›ç¨‹çš„å‡ ç§æ–¹å¼" class="headerlink" title="å°†å‰å°è¿›ç¨‹å˜ä¸ºåå°è¿›ç¨‹çš„å‡ ç§æ–¹å¼"></a>å°†å‰å°è¿›ç¨‹å˜ä¸ºåå°è¿›ç¨‹çš„å‡ ç§æ–¹å¼</h3><h4 id="ä½ä¸è¿ç®—ç¬¦-amp"><a href="#ä½ä¸è¿ç®—ç¬¦-amp" class="headerlink" title="ä½ä¸è¿ç®—ç¬¦-&amp;"></a>ä½ä¸è¿ç®—ç¬¦-&amp;</h4><p>é€šè¿‡åœ¨å‘½ä»¤çš„å°¾éƒ¨åŠ ä¸ªç¬¦å·<code>&amp;</code>å³å¯å°†è¿›ç¨‹å¯åŠ¨ä¸ºåå°è¿›ç¨‹ï¼Œåå°è¿›ç¨‹çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><details red open><summary> åå°è¿›ç¨‹ç‰¹ç‚¹ </summary>              <div class='content'>              <p>1ã€ç»§æ‰¿å½“å‰ session ï¼ˆå¯¹è¯ï¼‰çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰å’Œæ ‡å‡†é”™è¯¯ï¼ˆstderrï¼‰ã€‚å› æ­¤ï¼Œåå°ä»»åŠ¡çš„æ‰€æœ‰è¾“å‡ºä¾ç„¶ä¼šåŒæ­¥åœ°åœ¨å‘½ä»¤è¡Œä¸‹æ˜¾ç¤ºã€‚</p><p>2ã€ä¸å†ç»§æ‰¿å½“å‰ session çš„æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰ã€‚ä½ æ— æ³•å‘è¿™ä¸ªä»»åŠ¡è¾“å…¥æŒ‡ä»¤äº†ã€‚å¦‚æœå®ƒè¯•å›¾è¯»å–æ ‡å‡†è¾“å…¥ï¼Œå°±ä¼šæš‚åœæ‰§è¡Œï¼ˆhaltï¼‰ã€‚è¿™ä¸ªç‰¹ç‚¹ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ‰§è¡Œå…¶ä»–å‘½ä»¤ã€‚</p>              </div>            </details><p>æˆ‘ä»¬å¯ä»¥è¿è¡Œä¸€ä¸ª <a href="https://fastapi.tiangolo.com/">FastAPI</a> ç¼–å†™çš„ Web æœåŠ¡è§‚å¯Ÿä¸‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uvicorn main:app --reload &amp;</span><br></pre></td></tr></table></figure><p><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621161927.gif" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621161927.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="é›†æˆäº†sessionçš„æ ‡å‡†è¾“å‡º"></p><p>å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼Œåå°è¿›ç¨‹ç»§æ‰¿äº†å½“å‰ session ï¼ˆå¯¹è¯ï¼‰çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰ã€‚æˆ‘ä»¬çŸ¥é“è¿›ç¨‹æ”¶åˆ° SIGHUP ä¿¡å·ä¼šè¢«ç»ˆæ­¢ï¼Œé‚£ä¹ˆåå°è¿›ç¨‹æ˜¯å¦ä¼šæ”¶åˆ° SIGHUP ä¿¡å·æŒ‚æ‰ï¼Ÿæå‡ºé˜¿é‡Œäº‘æœåŠ¡å™¨å®éªŒä¸‹ã€‚</p><p><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621165541.gif" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621165541.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æœ‰IOäº¤äº’çš„åå°è¿›ç¨‹"></p><p>è¿™ã€‚ã€‚ã€‚åå°è¿›ç¨‹åœ¨æˆ‘ä»¬é€€å‡º session åæŒ‚æ‰äº†ï¼ï¼ï¼ï¼Œè¿™æ˜¯ä¸ºå•¥ï¼Ÿé‚£æ˜¯å› ä¸ºåå°è¿›ç¨‹ä¸æ ‡å‡† I/O æœ‰äº¤äº’ï¼ˆè¿™ä¸ªæœåŠ¡æ‰“æ—¥å¿—äº†ï¼‰ï¼Œåå°è¿›ç¨‹çš„çš„æ ‡å‡† I/O ç»§æ‰¿è‡ªå½“å‰ sessionï¼Œå°±ç®—åŠ ä¸ª <code>&amp;</code> ç¬¦å·ä¹Ÿæ²¡æœ‰æ”¹å˜è¿™ä¸€ç‰¹ç‚¹ã€‚æˆ‘ä»¬æƒ³è¦çš„æ˜¯æœåŠ¡åœ¨åå°æŒä¹…è¿è¡Œï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ</p><p>Linux æä¾›äº†ä¸€ä¸ª <code>nohup</code> å‘½ä»¤å¯ä»¥å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><details green><summary> FastAPI Web æœåŠ¡ä»£ç  </summary>              <div class='content'>              <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    name: <span class="built_in">str</span></span><br><span class="line">    age: <span class="built_in">int</span></span><br><span class="line">    country: <span class="built_in">str</span></span><br><span class="line">    offer_call: <span class="built_in">bool</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">root</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;status&quot;</span>: <span class="string">&quot;hello world&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&#x27;/person/&#123;your_name&#125;&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_people_info</span>(<span class="params">your_name: <span class="built_in">str</span>, q: <span class="built_in">int</span> = <span class="literal">None</span></span>):</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;your name&quot;</span>: your_name, <span class="string">&quot;query&quot;</span>: q&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.put(<span class="params"><span class="string">&#x27;/person/&#123;your_name&#125;&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_people_info</span>(<span class="params">your_name: <span class="built_in">str</span>, person: People</span>):</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;people name&quot;</span>: your_name, <span class="string">&quot;locate&quot;</span>: person.age&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h4 id="é˜»æ–­-SIGHUP-ä¿¡å·çš„-nohup"><a href="#é˜»æ–­-SIGHUP-ä¿¡å·çš„-nohup" class="headerlink" title="é˜»æ–­ SIGHUP ä¿¡å·çš„ nohup"></a>é˜»æ–­ SIGHUP ä¿¡å·çš„ nohup</h4><p><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621171128.png" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621171128.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="nohupå‘½ä»¤çš„ä½¿ç”¨"></p><p>å¥½äº†ï¼Œå°±ç®—ç»“æŸäº† session æ­¤ Web æœåŠ¡ä»åœ¨è¿è¡Œã€‚<code>nohup</code> å‘½ä»¤å®é™…ä¸Šå°†å­è¿›ç¨‹ä¸å®ƒæ‰€åœ¨çš„ session åˆ†ç¦»äº†ã€‚OKï¼Œè¿›ç¨‹ç”±åå°è¿›ç¨‹å˜ä¸ºå®ˆæŠ¤è¿›ç¨‹äº†ï¼ˆæœ‰é‚£å‘³äº†ï¼Œè¿˜ä¸ç®—çœŸæ­£çš„å®ˆæŠ¤è¿›ç¨‹ï¼‰ã€‚</p><blockquote><p>å®ˆæŠ¤è¿›ç¨‹åœ¨ session å…³é—­æ—¶ä¸ä¼šå—å½±å“ã€‚å®ˆæŠ¤è¿›ç¨‹çš„ä¼šè¯ç»„å’Œå½“å‰ç›®å½•ï¼Œæ–‡ä»¶æè¿°ç¬¦éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚åå°è¿è¡Œåªæ˜¯ç»ˆç«¯è¿›è¡Œäº†ä¸€æ¬¡forkï¼Œè®©ç¨‹åºåœ¨åå°æ‰§è¡Œï¼Œè¿™äº›éƒ½æ²¡æ”¹å˜ã€‚</p></blockquote><details red open><summary> nohup åšçš„é‚£äº›äº‹ </summary>              <div class='content'>              <ul><li>é˜»æ­¢SIGHUPä¿¡å·å‘åˆ°è¿™ä¸ªè¿›ç¨‹ï¼ˆPIDï¼š14229ï¼‰ã€‚</li><li>å…³é—­æ ‡å‡†è¾“å…¥ã€‚è¯¥è¿›ç¨‹ä¸å†èƒ½å¤Ÿæ¥æ”¶ä»»ä½•è¾“å…¥ï¼Œå³ä½¿è¿è¡Œåœ¨å‰å°ã€‚</li><li>é‡å®šå‘æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯åˆ°æ–‡ä»¶nohup.outã€‚</li></ul>              </div>            </details><h4 id="å®ˆæŠ¤è¿›ç¨‹ç®¡ç†å·¥å…·-systemd"><a href="#å®ˆæŠ¤è¿›ç¨‹ç®¡ç†å·¥å…·-systemd" class="headerlink" title="å®ˆæŠ¤è¿›ç¨‹ç®¡ç†å·¥å…·-systemd"></a>å®ˆæŠ¤è¿›ç¨‹ç®¡ç†å·¥å…·-systemd</h4><p>Systemdï¼ˆSystem Daemonï¼‰ å¹¶ä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œæ˜¯ä¸€ç»„å‘½ä»¤ï¼Œæ¶‰åŠåˆ°ç³»ç»Ÿç®¡ç†çš„æ–¹æ–¹é¢é¢ã€‚è¿™é‡Œä¸åšä»‹ç»ï¼Œç›´æ¥ç»“åˆåœºæ™¯æ¥ç©è€ã€‚æ•™ç¨‹å¯çœ‹ï¼š<a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html">Systemd å…¥é—¨æ•™ç¨‹ï¼šå‘½ä»¤ç¯‡</a>ã€‚</p><p>æ˜¯æ—¶å€™æå‡º <a href="https://gitee.com/yeshan333/body">Spring-Boot</a> åº”ç”¨äº†ï¼ˆmvn clean package æ„å»ºå¥½ jar åŒ…ï¼‰ã€‚å…ˆä¸ºè¿™ä¸ªåº”ç”¨å†™ä¸ª Systemd çš„é…ç½®æ–‡ä»¶<code>spring-boot-app.service</code>ï¼Œå¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Spring Boot RESTful APIs Services</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/local/java/jdk1.8.0_221/bin/java -jar /home/www/body/target/bodymanagement-0.0.1-SNAPSHOT.jar</span><br><span class="line">Restart=always</span><br><span class="line">User=root</span><br><span class="line">Group=root</span><br><span class="line">Environment=PATH=/usr/local/java/jdk1.8.0_221/bin/java</span><br><span class="line">WorkingDirectory=/home/www/body/</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†é…ç½®æ–‡ä»¶æ‹·è´åˆ° systemd ä¸­</span></span><br><span class="line"><span class="built_in">cp</span> spring-boot-app.service /etc/systemd/system</span><br><span class="line"><span class="comment"># é‡è½½é…ç½®æ–‡ä»¶</span></span><br><span class="line">$ sudo systemctl daemon-reload</span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">$ sudo systemctl start spring-boot-app.service</span><br></pre></td></tr></table></figure><p>è®¿é—®ï¼š<a href="http://47.92.4.141:8080/api/user/findLatestInf">http://47.92.4.141:8080/api/user/findLatestInf</a>ï¼Œå³å¯çœ‹åˆ°ç½‘é¡µæ˜¾ç¤º<code>[]</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl <span class="built_in">enable</span> spring-boot-app.service  <span class="comment"># è®¾ç½®å¼€æœºå¯åŠ¨</span></span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/spring-boot-app.service to /etc/systemd/system/spring-boot-app.service.</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>systemctl status spring-boot-app.service</code>å¯ä»¥æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼Œä½¿ç”¨<code>journalctl -u spring-boot-app</code>å¯ä»¥æŸ¥çœ‹æœåŠ¡çŠ¶æ€ã€‚</p><p><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621184905.png" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200621184905.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æŸ¥çœ‹æœåŠ¡çŠ¶æ€"></p><p>æ›´å¤šå¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æŸä¸ª Unit çš„æ—¥å¿—</span></span><br><span class="line">$ sudo journalctl -u nginx.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŸä¸ª Unit çŠ¶æ€</span></span><br><span class="line">$ sudo systemctl status mongod</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®©æŸä¸ª Unit å¼€æœºæ—¶å¯åŠ¨</span></span><br><span class="line">$ sudo systemctl <span class="built_in">enable</span> mongod</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«‹å³å¯åŠ¨ä¸€ä¸ªæœåŠ¡</span></span><br><span class="line">$ sudo systemctl start apache.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«‹å³åœæ­¢ä¸€ä¸ªæœåŠ¡</span></span><br><span class="line">$ sudo systemctl stop apache.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯ä¸€ä¸ªæœåŠ¡</span></span><br><span class="line">$ sudo systemctl restart apache.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ€æ­»ä¸€ä¸ªæœåŠ¡çš„æ‰€æœ‰å­è¿›ç¨‹</span></span><br><span class="line">$ sudo systemctl <span class="built_in">kill</span> apache.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½ä¸€ä¸ªæœåŠ¡çš„é…ç½®æ–‡ä»¶, ä¸€æ—¦é…ç½®æ–‡ä»¶ä¿®æ”¹å°±éœ€è¦ä½¿ç”¨</span></span><br><span class="line">$ sudo systemctl reload apache.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŸä¸ªæœåŠ¡çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">$ systemctl <span class="built_in">cat</span> sshd.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½æ‰€æœ‰é…ç½®æ–‡ä»¶</span></span><br><span class="line">$ sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://blog.csdn.net/z_ryan/article/details/80952498">ç½‘ç»œç¼–ç¨‹çš„ä¸‰ä¸ªé‡è¦ä¿¡å·ï¼ˆSIGHUP ï¼ŒSIGPIPEï¼ŒSIGURGï¼‰</a></li><li><a href="http://www.ruanyifeng.com/blog/2016/02/linux-daemon.html">Linux å®ˆæŠ¤è¿›ç¨‹çš„å¯åŠ¨æ–¹æ³•</a></li><li><a href="https://www.zhihu.com/question/38609004">ä»€ä¹ˆæ˜¯å®ˆæŠ¤è¿›ç¨‹</a></li><li><a href="http://www.ruanyifeng.com/blog/2016/03/node-systemd-tutorial.html">Node åº”ç”¨çš„ Systemd çš„å¯åŠ¨</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨è¿›ç¨‹ç®¡ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(è¯‘)é€šè¿‡ Git å’Œ Angular äº†è§£è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯</title>
      <link href="/2020/06/04/%E8%AF%91-%E9%80%9A%E8%BF%87-Git-%E5%92%8C-Angular-%E4%BA%86%E8%A7%A3%E8%AF%AD%E4%B9%89%E5%8C%96%E6%8F%90%E4%BA%A4%E4%BF%A1%E6%81%AF/"/>
      <url>/2020/06/04/%E8%AF%91-%E9%80%9A%E8%BF%87-Git-%E5%92%8C-Angular-%E4%BA%86%E8%A7%A3%E8%AF%AD%E4%B9%89%E5%8C%96%E6%8F%90%E4%BA%A4%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å—ä¼ ç»Ÿæäº¤è§„èŒƒå’Œ Angular çº¦å®šçš„å¯å‘ï¼Œè®©æˆ‘ä»¬æ¥è§£é‡Šè¯­ä¹‰åŒ–æäº¤æœ¯è¯­ï¼Œå¹¶æ¼”ç¤ºæäº¤ä¿¡æ¯çš„å®é™…ç¤ºä¾‹ã€‚</p><p>è®¸å¤šé¡¹ç›®å†³å®šä»¥æŸç§çº¦å®šæ–¹å¼æ¥æ ‡å‡†åŒ–å®ƒä»¬çš„æäº¤ä¿¡æ¯ã€‚è¿™ç§åšæ³•å¹¶ä¸æ˜¯æ–°å‡ºç°çš„ï¼Œä½†åœ¨æœ€è¿‘å‡ å¹´ä¸­è¶Šæ¥è¶Šå¤šåœ°å¾—åˆ°äº†åº”ç”¨ã€‚è€Œä¸”å¾ˆå¯èƒ½æ‚¨å·²ç»åœ¨æŸäº›é¡¹ç›®ä¸­é‡åˆ°è¿‡è¿™æ ·çš„æäº¤æ¶ˆæ¯ã€‚</p><span id="more"></span><p>æœ€æ—©å‡ºç°çš„è§„èŒƒä¹‹ä¸€æ¥è‡ªä¸ AngularJS é¡¹ç›®ã€‚è¿™ä¸ªé¡¹ç›®å›¢é˜Ÿåˆ›å»ºäº†ä¸€ä¸ªè¯¦ç»†çš„<a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#">æ–‡æ¡£</a>ï¼Œå…¶ä¸­æŒ‡å®šäº†ä»–ä»¬åº”è¯¥æäº¤çš„ç›®æ ‡å’Œæ–¹å¼ã€‚è¿™äº›æäº¤çº¦å®šéå¸¸æµè¡Œï¼Œæœ‰äº›æ‚¨å¯èƒ½é€šè¿‡ <a href="http://karma-runner.github.io/4.0/dev/git-commit-msg.html">Karma</a> æŒ‡å—é‡åˆ°è¿‡ã€‚ä½†æ˜¯ï¼Œè¿˜æœ‰ä¸€äº›ä¸åŒçš„çº¦å®šï¼Œåƒ <a href="https://contribute.jquery.org/commits-and-pull-requests/#commit-guidelines">jQuery</a>, <a href="https://github.com/jshint/jshint/blob/master/CONTRIBUTING.md#commit-message-guidelines">JSHint</a>, <a href="https://github.com/emberjs/ember.js/blob/master/CONTRIBUTING.md#commit-tagging">Ember</a>, <a href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-commit-message-guidelines">Angular</a>(ä¸€ä¸ªå—AngularJS æäº¤è§„èŒƒå¯å‘çš„å¢å¼ºç‰ˆçº¦å®š)ï¼Œç”šè‡³<a href="https://github.com/conventional-changelog/conventional-changelog/tree/master/packages">æ›´å¤š</a>:</p><p><img src="https://d33wubrfki0l68.cloudfront.net/eb16595d0c6862c0c013a36c339317a4d82bdce7/9195b/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/conventions-diagram.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/eb16595d0c6862c0c013a36c339317a4d82bdce7/9195b/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/conventions-diagram.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Commit convention variations"></p><p>å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ä¸Šé¢å„ç§å„æ ·çš„æäº¤çº¦å®šï¼Œè¿™æ— ç–‘æ„æˆäº†ä¸€ä¸ªæ ‡å‡†åŒ–å®˜æ–¹è§„èŒƒçš„æ­£å½“ç†ç”±ã€‚<a href="https://www.conventionalcommits.org/zh-hans/v1.0.0-beta.4/">çº¦å®šå¼æäº¤</a>å°±æ˜¯è¿™æ ·ä¸€ç§è§„èŒƒï¼Œå®ƒåœ¨å®è·µä¸­ç®€åŒ–äº† Angular çº¦å®šï¼Œå¹¶ç®€åŒ–æŒ‡å‡ºäº†æäº¤æ¶ˆæ¯è§„èŒƒçš„è¦ç‚¹ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»â€œè¯­ä¹‰åŒ–æäº¤â€èƒŒåçš„æ¦‚å¿µï¼Œå¹¶ä½¿ç”¨ Git å’Œ Angular çš„æäº¤çº¦å®šæ¥æ¼”ç¤ºå…·ä½“çš„ä¾‹å­ã€‚å£°æ˜ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å®ƒä»¬åªæ˜¯ä¸ºäº†æ¾„æ¸…æ¦‚å¿µâ€”â€”æ„å‘³ç€ç‰ˆæœ¬æ§åˆ¶å·¥å…·å’Œè§„èŒƒçš„é€‰æ‹©å–å†³äºæ‚¨ã€‚</p><p>é‚£æˆ‘ä»¬å°±å¼€å§‹å§ï¼ğŸ‘¨ğŸ»â€ğŸ«</p><h1 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h1><p>è®©æˆ‘ä»¬ä»å®šä¹‰å¼€å§‹:</p><blockquote><p>è¯­ä¹‰åŒ–æäº¤æ˜¯<strong>éµå¾ªç€ç‰¹å®šçº¦å®š</strong>å¹¶å…·æœ‰äººç±»å’Œæœºå™¨å¯è¯»å«ä¹‰çš„æäº¤æ¶ˆæ¯</p></blockquote><p>è¿™æ„å‘³ç€ï¼Œå®ƒåªæ˜¯æäº¤æ¶ˆæ¯çš„æŒ‡å¯¼æ–¹é’ˆï¼Œå› æ­¤:</p><ul><li>æäº¤æ¶ˆæ¯æ˜¯è¯­ä¹‰åŒ–çš„ï¼šå› ä¸ºå®ƒä»¬è¢«åˆ’åˆ†ä¸ºæœ‰æ„ä¹‰çš„ç±»å‹ï¼Œæ ‡è¯†äº†æäº¤(commit)çš„æ„å›¾</li><li>æäº¤æ¶ˆæ¯æ˜¯çº¦å®šä¿—æˆçš„ï¼šå¯¹äºå¼€å‘è€…å’Œå·¥å…·ï¼Œå®ƒä»¬æœ‰ç€ç»Ÿä¸€çš„ç»“æ„å’Œè‰¯å¥½çš„ç±»å‹æ ‡è¯†</li></ul><p>æ­¤å¤–ï¼Œå½“æˆ‘ä»¬é€šå¸¸éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œæ—¶ï¼Œè¯­ä¹‰åŒ–æäº¤å¯èƒ½ä¼šæ´¾ä¸Šç”¨åœºï¼š</p><ol><li>å…è®¸ç»´æŠ¤äººå‘˜å’Œè´¡çŒ®è€…è½»æ¾åœ°æµè§ˆé¡¹ç›®å†å²å¹¶ç†è§£æäº¤çš„æ„å›¾ï¼ŒåŒæ—¶é€šè¿‡æäº¤æ¶ˆæ¯ç±»å‹å¿½ç•¥ä¸é‡è¦çš„æ›´æ”¹</li><li>å¼ºåˆ¶æäº¤ä¿¡æ¯çš„ç»“æ„ï¼Œé¼“åŠ±æœ‰é’ˆå¯¹ç‰¹å®šç›®çš„çš„å°å‹æäº¤</li><li>ç›´æ¥æäº¤ä¿¡æ¯çš„ä¸»ä½“ï¼Œä¸å¿…è¯å¤§æ®µè¯å»è§£è¯´</li><li>æ ¹æ®æäº¤ä¿¡æ¯ç±»å‹è‡ªåŠ¨æ›´æ–°åŒ…ç‰ˆæœ¬å·(Bump the package version)</li><li>è‡ªåŠ¨ç”Ÿæˆæ—¥å¿—(CHANGELOGs)å’Œ release è¯´æ˜</li></ol><p>æœ€åï¼Œè¯­ä¹‰åŒ–æäº¤è‡´åŠ›äºå®ç°æ›´å¥½çš„å¯è¯»æ€§å’Œè‡ªåŠ¨åŒ–ï¼Œä»¥åŠé€Ÿåº¦çš„æé«˜ã€‚</p><p>è¯è™½å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¸­çš„ä¸€äº›äººå¯èƒ½ä¸æ¥å—è¿™äº›æ¶ˆæ¯çº¦å®šï¼Œè®¤ä¸ºå®ƒä»¬æ˜¯å¯è¯»çš„æˆ–æä¾›ä¿¡æ¯çš„ï¼Œè¿™æ˜¾ç„¶æ˜¯æœ‰æ„ä¹‰çš„ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬ä¹Ÿä¸éœ€è¦è¿™äº›é™„å¸¦çš„å¥½å¤„ï¼Œé‚£åœ¨é¡¹ç›®ä¸­æ‰§è¡Œè¿™æ ·çš„è§„èŒƒæ˜¾ç„¶æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p><p>å¥½äº†ï¼Œæ˜¯æ—¶å€™äº†è§£æˆ‘ä»¬å¦‚ä½•å®é™…éµå¾ªè¿™äº›çº¦å®šäº†ã€‚</p><p>å…è´£å£°æ˜ï¼šä»è¿™ä¸€åˆ»èµ·ï¼Œæˆ‘ä»¬å°†å¼•ç”¨ Angular æäº¤ä¿¡æ¯çº¦å®šåŠå…¶å¥½å¤„ã€‚</p><h2 id="æäº¤ä¿¡æ¯çš„æ ¼å¼"><a href="#æäº¤ä¿¡æ¯çš„æ ¼å¼" class="headerlink" title="æäº¤ä¿¡æ¯çš„æ ¼å¼"></a>æäº¤ä¿¡æ¯çš„æ ¼å¼</h2><p>Angular è§„èŒƒè¦æ±‚æ ¹æ®ä»¥ä¸‹ç»“æ„æ¥æ„é€ æäº¤æ¶ˆæ¯(Commit Message):</p><p><img src="https://d33wubrfki0l68.cloudfront.net/ab6c349cef44ee6b617234b4f2574b978ef2fa3e/42749/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/commit-message-format-by-angular.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/ab6c349cef44ee6b617234b4f2574b978ef2fa3e/42749/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/commit-message-format-by-angular.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="The commit message format according to Angular conventions"></p><p>ä¸Šå›¾å‘æˆ‘ä»¬è¯´æ˜äº†æäº¤æ¶ˆæ¯ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ â€”â€” headerã€body å’Œ footer ã€‚</p><h3 id="Header"><a href="#Header" class="headerlink" title="Header"></a>Header</h3><p>Header æ˜¯<strong>å¼ºåˆ¶</strong>è¦æ±‚çš„ä¸€è¡Œï¼Œå®ƒç®€å•åœ°æè¿°äº†æ›´æ”¹çš„ç›®çš„(æœ€å¤š100ä¸ªå­—ç¬¦)ã€‚<br>æ›´å¥½çš„æ˜¯ï¼Œå®ƒæœ¬èº«ç”±ä¸‰éƒ¨åˆ†ç»„æˆ:</p><ol><li>ç±»å‹(Type)ï¼šæ ‡è¯†æ›´æ”¹ç±»å‹çš„çŸ­å‰ç¼€</li><li>èŒƒå›´(Scope)ï¼šå¯é€‰é¡¹ï¼Œè¡¨æ˜ Commit å½±å“çš„èŒƒå›´</li><li>ä¸»ä½“(Subject)ï¼šè¡¨ç¤ºå¯¹å®é™…æ›´æ”¹çš„ç®€æ˜æè¿°</li></ol><p>å®é™…ä¸Šï¼Œå°± Git è€Œè¨€ï¼Œå®ƒå°±æ˜¯æäº¤æ¶ˆæ¯çš„é¦–è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;fix(core): remove deprecated and defunct wtf* apis&quot;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ’å…¥å•è¡Œæ¶ˆæ¯ï¼Œå¹¶ç”¨ <code>:</code> åˆ†éš”ã€‚å½“ <code>fix</code>å’Œ <code>core</code>ï¼ˆå—å½±å“çš„åŒ…ï¼‰åˆ†åˆ«æ˜¯ç±»å‹å’ŒèŒƒå›´æ—¶ï¼Œæˆ‘ä»¬å°†å·¦åˆ†åŒºå‡è®¾ç§°ä¸ºâ€œå‰ç¼€â€ã€‚å¦ä¸€æ–¹é¢ï¼Œå³åˆ†åŒºæ˜¾ç„¶æ„æˆäº†ä¸»ä½“(Subject)ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œä¸Šè¿°æ¶ˆæ¯å«ä¹‰æ˜¯ï¼š<em>â€œæœ¬æ¬¡æ›´æ”¹é€šè¿‡ç§»é™¤ä¸æ¨èä½¿ç”¨(deprecated)å’Œä¸å­˜åœ¨çš„ wtf * api ä¿®å¤äº†æ¥è‡ªCoreè½¯ä»¶åŒ…çš„é”™è¯¯â€</em>ã€‚</p><h3 id="Body"><a href="#Body" class="headerlink" title="Body"></a>Body</h3><p>ä¸»ä½“(Body)æ˜¯<strong>å¯é€‰</strong>è¡Œï¼Œç”¨äºä»‹ç»æœ¬æ¬¡æ›´æ”¹èƒŒåçš„åŠ¨æœºæˆ–ä»…æè¿°ä¸€äº›æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚</p><p>è®©æˆ‘ä»¬ä»¥ä¸Šè¿°çš„ä¾‹å­ä¸ºä¾‹ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªä¸»ä½“ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;fix(core): remove deprecated and defunct wtf* apis&quot; -m &quot;These apis have been deprecated in v8, so they should stick around till v10, but since they are defunct we are removing them early so that they don&#x27;t take up payload size.&quot;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨æ¶ˆæ¯ä¸Šé™„åŠ äº†å‡ å¥è¯ï¼Œè¯¦ç»†è¯´æ˜äº†æ­¤æäº¤(Commit)ç›®çš„ã€‚</p><p>è¯·æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>æˆ‘ä»¬ä½¿ç”¨äº†å¤šä¸ª<code>-m</code>æ¥è¿æ¥æ®µè½è€Œä¸æ˜¯ç®€å•çš„è¡Œ</li><li>å¤´éƒ¨å’Œä¸»ä½“åº”è¯¥ç”¨ç©ºç™½è¡Œåˆ†éš”ï¼ˆæ ¹æ®è¿™äº›æ®µè½ï¼Œè¿™æ˜¾ç„¶æ˜¯æ­£ç¡®çš„ï¼‰</li></ul><p><strong>æ³¨æ„</strong>ï¼šå°½ç®¡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¶ä»–æ–¹å¼å°†æ¶ˆæ¯åˆ†æˆå‡ è¡Œï¼Œä½†ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ä¸ªç¤ºä¾‹ä¸­ç»§ç»­ä½¿ç”¨å¤šä¸ª <code>-m</code>ï¼ˆå±•ç¤ºäº†ä¸€ä¸ªä¸shellæ— å…³çš„è§£å†³æ–¹æ¡ˆï¼‰ã€‚</p><h3 id="Footer"><a href="#Footer" class="headerlink" title="Footer"></a>Footer</h3><p>å°¾éƒ¨(Footer)æ˜¯<strong>å¯é€‰</strong>è¡Œï¼Œå…¶ä¸­æåˆ°äº†ç”±äºæ›´æ”¹è€Œäº§ç”Ÿçš„å½±å“ï¼Œä¾‹å¦‚ï¼šå®£å¸ƒé‡å¤§æ›´æ”¹ã€é“¾æ¥å…³é—­å·²è§£å†³çš„é—®é¢˜(issues)ã€æåŠè´¡çŒ®è€…ç­‰ç­‰ã€‚</p><p>è¿™æ˜¯ä¸Šè¿°å¸¦æœ‰å°¾éƒ¨(footer)çš„æäº¤æ¶ˆæ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;fix(core): remove deprecated and defunct wtf* apis&quot; -m &quot;These apis have been deprecated in v8, so they should stick around till v10, but since they are defunct we are removing them early so that they don&#x27;t take up payload size.&quot; -m &quot;PR Close #33949&quot;</span><br></pre></td></tr></table></figure><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯ç®€å•åœ°æ·»åŠ äº†å¯¹ç›¸å…³æ‹‰è¯·æ±‚(pull request)çš„å¼•ç”¨ï¼Œè€Œæ²¡æœ‰æ·»åŠ å…¶ä»–å†…å®¹ã€‚</p><p>æœ€åï¼Œè®©æˆ‘ä»¬æŸ¥çœ‹å®Œæ•´çš„æäº¤æ—¥å¿—ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/f477a323548298d5e4d42bc7be6f8a62aad62250/27eec/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/final-commit-message.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/f477a323548298d5e4d42bc7be6f8a62aad62250/27eec/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/final-commit-message.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Showing the commit log in one piece"><p>æ­£å¦‚æ‚¨å¯èƒ½ä¼šæ¨æ–­çš„ï¼Œæ­¤<a href="https://github.com/angular/angular/commit/cf420194ed91076afb66d9179245b9dbaabc4fd4">æäº¤</a>å®é™…ä¸Šæ˜¯ Angular å­˜å‚¨åº“ä¸­å­˜åœ¨çš„ã€‚</p><h2 id="å¸¸è§ç±»å‹"><a href="#å¸¸è§ç±»å‹" class="headerlink" title="å¸¸è§ç±»å‹"></a>å¸¸è§ç±»å‹</h2><p>é™¤äº†å®šä¹‰æäº¤æ¶ˆæ¯æ ¼å¼å¤–ï¼ŒAngular çš„æäº¤æ¶ˆæ¯çº¦å®šè¿˜æŒ‡å®šäº†ä¸€ä¸ªæœ‰ç”¨çš„ç±»å‹åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«äº†å„ç§å„æ ·çš„æ›´æ”¹ã€‚</p><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥åŒºåˆ†å¦‚ä¸‹ä¸¤ç§ç±»å‹ï¼š</p><ul><li>å¼€å‘(Development)ï¼šä¸€ç§ç»´æŠ¤ç±»å‹ï¼Œå®ƒå¯¹å˜æ›´è¿›è¡Œåˆ†ç±»ï¼Œé¢å‘å¼€å‘äººå‘˜ï¼Œè¿™äº›å˜æ›´å®é™…ä¸Šå¹¶ä¸å½±å“äº§å“ä»£ç ï¼Œè€Œæ˜¯å½±å“å†…éƒ¨çš„å¼€å‘ç¯å¢ƒå’Œå·¥ä½œæµç¨‹(workflows)</li><li>ç”Ÿäº§(Production)ï¼šä¸€ç§å¢å¼ºç±»å‹ï¼Œç”¨äºå¯¹ä»…å½±å“äº§å“ä»£ç çš„æœ€ç»ˆç”¨æˆ·(end users)è¿›è¡Œæ›´æ”¹åˆ†ç±»</li></ul><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä»‹ç»å’Œè§£é‡Šè¿™äº›ç±»å‹ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šä»¥ä¸‹ç¤ºä¾‹ç›´æ¥å–è‡ªAngularå­˜å‚¨åº“çš„æäº¤æ—¥å¿—ã€‚</p><h3 id="ğŸ‘·æ„å»º"><a href="#ğŸ‘·æ„å»º" class="headerlink" title="ğŸ‘·æ„å»º"></a>ğŸ‘·æ„å»º</h3><p>æ„å»ºç±»å‹ <code>build</code>(ä»¥å‰ç§°ä¸º<code>chore</code>)ç”¨äºè¯†åˆ«ä¸æ„å»ºç³»ç»Ÿç›¸å…³çš„<strong>å¼€å‘</strong>æ›´æ”¹(æ¶‰åŠè„šæœ¬ã€é…ç½®æˆ–å·¥å…·)å’ŒåŒ…ä¾èµ–é¡¹(dependencies)ã€‚</p><p>ä¾‹å­ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/241c157655b2a391d15b49f46d5eca5e3568a6e4/402a5/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-build-type.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/241c157655b2a391d15b49f46d5eca5e3568a6e4/402a5/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-build-type.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Examples of commit messages with `build` type"><h3 id="ğŸ’šci"><a href="#ğŸ’šci" class="headerlink" title="ğŸ’šci"></a>ğŸ’šci</h3><p><code>ci </code>ç±»å‹ç”¨äºè¯†åˆ«ä¸æŒç»­é›†æˆå’Œéƒ¨ç½²ç³»ç»Ÿç›¸å…³çš„å¼€å‘æ›´æ”¹â€”â€”åŒ…æ‹¬è„šæœ¬ã€é…ç½®æˆ–å·¥å…·ã€‚</p><p>ä¾‹å­ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/2d7b17c202f31f63a6eec7e46df2d18ea7868d6a/e8324/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-ci-type.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/2d7b17c202f31f63a6eec7e46df2d18ea7868d6a/e8324/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-ci-type.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Examples of commit messages with `ci` type"><h3 id="ğŸ“æ–‡æ¡£docs"><a href="#ğŸ“æ–‡æ¡£docs" class="headerlink" title="ğŸ“æ–‡æ¡£docs"></a>ğŸ“æ–‡æ¡£docs</h3><p>æ–‡æ¡£ç±»å‹ç”¨äºè¯†åˆ«ä¸é¡¹ç›®ç›¸å…³çš„æ–‡æ¡£æ›´æ”¹â€”â€”æ— è®ºæ˜¯é’ˆå¯¹æœ€ç»ˆç”¨æˆ·çš„å¤–éƒ¨æ›´æ”¹(å¯¹äºåº“)è¿˜æ˜¯é’ˆå¯¹å¼€å‘äººå‘˜çš„å†…éƒ¨æ›´æ”¹ã€‚</p><p>ä¾‹å­ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/bc74f1e6bd91dd88c6d622ce8804f77be4718836/1d37a/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-docs-type.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/bc74f1e6bd91dd88c6d622ce8804f77be4718836/1d37a/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-docs-type.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Examples of commit messages with `docs` type"><h3 id="âœ¨ç‰¹æ€§"><a href="#âœ¨ç‰¹æ€§" class="headerlink" title="âœ¨ç‰¹æ€§"></a>âœ¨ç‰¹æ€§</h3><p>è¯¥<code>feat</code>ç±»å‹ç”¨äºæ ‡è¯†ç”Ÿäº§ç¯å¢ƒç›¸å…³çš„æ–°çš„å‘åå…¼å®¹èƒ½åŠ›(backward-compatible)æˆ–åŠŸèƒ½çš„æ›´æ”¹ã€‚</p><p>ä¾‹å­ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/942e86121f5c88e50462b05d80dd6e372dce96b3/c26af/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-feat-type.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/942e86121f5c88e50462b05d80dd6e372dce96b3/c26af/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-feat-type.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Examples of commit messages with `feat` type"><h3 id="ğŸ›ä¿®å¤"><a href="#ğŸ›ä¿®å¤" class="headerlink" title="ğŸ›ä¿®å¤"></a>ğŸ›ä¿®å¤</h3><p><code>fix</code>ç±»å‹ç”¨äºæ ‡è¯†ç”Ÿäº§ç¯å¢ƒç›¸å…³å‘åå…¼å®¹(backward-compatible)çš„ bug ä¿®å¤(bug fixes)</p><p>ä¾‹å­ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/69f22fa96e84fc5c1a09bf3055d8447224c9a9fc/ca58b/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-fix-type.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/69f22fa96e84fc5c1a09bf3055d8447224c9a9fc/ca58b/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-fix-type.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Examples of commit messages with `fix` type"><h3 id="âš¡ï¸æ€§èƒ½"><a href="#âš¡ï¸æ€§èƒ½" class="headerlink" title="âš¡ï¸æ€§èƒ½"></a>âš¡ï¸æ€§èƒ½</h3><p><code>perf</code>ç±»å‹ç”¨äºæ ‡è¯†ç”Ÿäº§ç¯å¢ƒç›¸å…³å‘åå…¼å®¹çš„<strong>æ€§èƒ½</strong>(performance)æ”¹è¿›ç›¸å…³çš„äº§å“æ›´æ”¹ã€‚</p><p>ä¾‹å­ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/661b70093cf0b94cae4129bc44257ea239caa3db/e060d/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-perf-type.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/661b70093cf0b94cae4129bc44257ea239caa3db/e060d/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-perf-type.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Examples of commit messages with `perf` type"><h3 id="â™»ï¸é‡æ„"><a href="#â™»ï¸é‡æ„" class="headerlink" title="â™»ï¸é‡æ„"></a>â™»ï¸é‡æ„</h3><p><code>refactor</code>ç±»å‹ç”¨äºè¯†åˆ«ä¸ä¿®æ”¹ä»£ç åº“ç›¸å…³çš„å¼€å‘æ›´æ”¹ï¼Œè¿™äº›æ›´æ”¹æ—¢æ²¡æœ‰æ·»åŠ åŠŸèƒ½ï¼Œä¹Ÿæ²¡æœ‰ä¿®å¤ bug â€”â€” ä¾‹å¦‚åˆ é™¤å†—ä½™ä»£ç ã€ç®€åŒ–ä»£ç ã€é‡å‘½åå˜é‡ç­‰ç­‰ã€‚</p><p>ä¾‹å­ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/b9d8ae7afa8a026445a2ac28b92a90595115e523/5b26d/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-refactor-type.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/b9d8ae7afa8a026445a2ac28b92a90595115e523/5b26d/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-refactor-type.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Examples of commit messages with `refactor` type"><h3 id="ğŸ¨é£æ ¼"><a href="#ğŸ¨é£æ ¼" class="headerlink" title="ğŸ¨é£æ ¼"></a>ğŸ¨é£æ ¼</h3><p><code>style</code>ç±»å‹ç”¨äºæ ‡è¯†ä»£ç æ ·å¼å˜åŠ¨ç›¸å…³çš„å¼€å‘æ›´æ”¹ï¼Œè€Œä¸è€ƒè™‘å…¶å«ä¹‰â€”â€”ä¾‹å¦‚ç¼©è¿›ã€åˆ†å·ã€å¼•å·ã€ç»“å°¾é€—å·ç­‰ç­‰ã€‚</p><p>ä¾‹å­ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/ad8400fbbbeb00a2809c4d0805adee32026254c2/8f851/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-style-type.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/ad8400fbbbeb00a2809c4d0805adee32026254c2/8f851/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-style-type.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Examples of commit messages with `style` type"><h3 id="âœ…æµ‹è¯•"><a href="#âœ…æµ‹è¯•" class="headerlink" title="âœ…æµ‹è¯•"></a>âœ…æµ‹è¯•</h3><p><code>test</code>ç±»å‹ç”¨äºæ ‡è¯†ä¸æµ‹è¯•ç›¸å…³çš„å¼€å‘æ›´æ”¹â€”â€”ä¾‹å¦‚é‡æ„ç°æœ‰æµ‹è¯•æˆ–æ·»åŠ æ–°æµ‹è¯•ã€‚</p><p>ä¾‹å­ï¼š</p><img src="https://d33wubrfki0l68.cloudfront.net/db341477c4a017c37929c5fe80ffec77d37bcc10/cac60/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-test-type.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/db341477c4a017c37929c5fe80ffec77d37bcc10/cac60/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/examples-of-test-type.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Examples of commit messages with `test` type"><h2 id="å¥½å¤„"><a href="#å¥½å¤„" class="headerlink" title="å¥½å¤„"></a>å¥½å¤„</h2><p>ç°åœ¨æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰äº†è¿™äº›çº¦å®šï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä»ä¸­æ”¶è·çš„ä¸¤ç§å¥½å¤„ã€‚</p><h3 id="æµè§ˆå†å²å˜æ›´è®°å½•"><a href="#æµè§ˆå†å²å˜æ›´è®°å½•" class="headerlink" title="æµè§ˆå†å²å˜æ›´è®°å½•"></a>æµè§ˆå†å²å˜æ›´è®°å½•</h3><p>Git ä¸ºæˆ‘ä»¬æä¾›äº†æµè§ˆå­˜å‚¨åº“æäº¤å†å²çš„èƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“å®é™…å‘ç”Ÿäº†ä»€ä¹ˆï¼Œè°åšäº†è´¡çŒ®ç­‰ç­‰ã€‚</p><p>è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›çº¦å®šæ˜¯å¦‚ä½•ç®€åŒ–æˆ‘ä»¬å¯¹è¿™äº›è®°å½•çš„æµè§ˆ:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --oneline --grep &quot;^feat\|^fix\|^perf&quot;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä½¿ç”¨æäº¤æ¶ˆæ¯ç±»å‹æ¥è¿‡æ»¤ï¼Œå› æ­¤åªæ˜¾ç¤ºç”Ÿäº§æ›´æ”¹(æ‰€æœ‰ä»¥ <code>feat</code>ã€<code>fix</code> æˆ– <code>perf</code>å¼€å¤´çš„æ¶ˆæ¯)ã€‚</p><p>å¦ä¸€ä¸ªä¾‹å­:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --oneline --grep &quot;^feat&quot; | wc -l</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åªæ‰“å° <code>feat</code> æ›´æ”¹çš„æ€»æ•°ã€‚</p><p>ä¸Šè¿°çš„å…³é”®æ˜¯æäº¤æ¶ˆæ¯æ ¼å¼éå¸¸ç»“æ„åŒ–ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬åœ¨æ‰«ææˆ–è¿‡æ»¤æäº¤å†å²è®°å½•æ—¶èƒ½å¤Ÿæœ‰æ•ˆåœ°ä¾èµ–äºæ­¤æ ¼å¼ã€‚</p><p>å³ï¼Œæ›´åŠ è¿…é€Ÿ!ğŸ’ªğŸ»</p><h3 id="è‡ªåŠ¨å‘å¸ƒ"><a href="#è‡ªåŠ¨å‘å¸ƒ" class="headerlink" title="è‡ªåŠ¨å‘å¸ƒ"></a>è‡ªåŠ¨å‘å¸ƒ</h3><p>æäº¤æ¶ˆæ¯æ ¼å¼å¯¹äºè‡ªåŠ¨åŒ–å‘å¸ƒè¿‡ç¨‹çš„æ­¥éª¤ä¹Ÿå¾ˆæœ‰ç”¨ã€‚</p><p>äº‹å®ä¸Šï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºåƒ<a href="https://github.com/conventional-changelog/standard-version">Standard Version</a>å’Œ<a href="https://github.com/semantic-release/semantic-release">Semantic Versioning</a>è¿™æ ·çš„å·¥å…·ä¸¥æ ¼éµå¾ªè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬è§„èŒƒå’Œç‰¹å®šçš„ä¿¡æ¯æäº¤çº¦å®š(åˆ†åˆ«æ˜¯ä¼ ç»Ÿçš„æäº¤çº¦å®šå’Œ Angular çº¦å®š)ã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äº <a href="https://github.com/conventional-changelog/standard-version#how-is-standard-version-different-from-semantic-release">approach</a>ï¼Œä½†æ˜¯è®©æˆ‘ä»¬å…³æ³¨è¯­ä¹‰åŒ–å‘å¸ƒ(Semantic Release)ã€‚</p><p>å› æ­¤ï¼ŒåŸºäºæäº¤ä¿¡æ¯(ç‰¹åˆ«æ˜¯ç±»å‹)â€”â€”è¯­ä¹‰åŒ–å‘å¸ƒ(Semantic Release)èƒ½å¤Ÿç»™æˆ‘ä»¬æä¾›ä»¥ä¸‹èƒ½åŠ›:</p><ul><li>è½¬åˆ°ä¸‹ä¸€ä¸ªè¯­ä¹‰åŒ–åŒ…ç‰ˆæœ¬(å‘ç”Ÿé‡å¤§å˜æ›´æ—¶-è¡¥ä¸å‘å¸ƒã€ç›‘æ§åˆ°æ–°ç‰¹æ€§å’Œæ€§èƒ½çš„ä¼˜åŒ–)</li><li>åˆ›å»ºä¸€ä¸ªåŒ…å«ç”Ÿäº§ç¯å¢ƒç›¸å…³å‘å¸ƒä¿¡æ¯çš„ CHANGELOG æ–‡ä»¶</li><li>ä¸ºæ–°çš„å‘å¸ƒç‰ˆæœ¬åˆ›å»ºä¸€ä¸ª Git tag</li><li>å°†release artifactå‘å¸ƒ(Publish)åˆ° npm æ³¨å†Œä¸­å¿ƒ</li></ul><p>é…·å§?</p><p>ä¾‹å¦‚ï¼ŒIonic çš„<a href="https://github.com/ionic-team/angular-toolkit">angular-toolkit</a>é¡¹ç›®ï¼Œé›†æˆäº†è¯­ä¹‰åŒ–å‘å¸ƒæ¥è‡ªåŠ¨åŒ–å‘å¸ƒè¿‡ç¨‹(åœ¨æ­¤éµå¾ª Angular çš„æäº¤çº¦å®š):</p><img src="https://d33wubrfki0l68.cloudfront.net/ac174adb87bdd863ccd14b588b25d444504fefb8/d1d92/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/example-of-release-note.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/ac174adb87bdd863ccd14b588b25d444504fefb8/d1d92/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/example-of-release-note.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="An example of a generated release version"><p>æ­£å¦‚æˆ‘ä»¬æ‰€æ³¨æ„åˆ°çš„ï¼Œå‘å¸ƒçš„ç‰ˆæœ¬æ˜¯åŸºäº tag å’Œæ³¨é‡Šç”Ÿæˆçš„â€”â€”ä½†é‡ç‚¹æ˜¯ï¼Œè¿™æ˜¯<strong>è‡ªåŠ¨</strong>å®Œæˆçš„ã€‚ğŸ¤–</p><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><p>ä¸ºäº†å……åˆ†åˆ©ç”¨è¯­ä¹‰åŒ–æäº¤(semantic commit)ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›ä¸œè¥¿ã€‚</p><h3 id="ä½¿ç”¨Emojis"><a href="#ä½¿ç”¨Emojis" class="headerlink" title="ä½¿ç”¨Emojis"></a>ä½¿ç”¨Emojis</h3><p>å°†è¡¨æƒ…ç¬¦å·é™„åŠ åˆ°æäº¤æ¶ˆæ¯å¯èƒ½ä¼šè¿›ä¸€æ­¥æé«˜å¯è¯»æ€§ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æµè§ˆæäº¤å†å²æ—¶éå¸¸å¿«é€Ÿå’Œå®¹æ˜“åœ°è¯†åˆ«å®ƒä»¬ã€‚ğŸ’¯</p><p>è¯·å‚é˜…ä»¥ä¸‹é“¾æ¥:</p><ul><li><a href="https://gitmoji.carloscuesta.me/">gitmoji</a></li><li><a href="https://github.com/dannyfritz/commit-message-emoji">Commit Message Emoji ğŸ‘‹</a></li></ul><h3 id="CLIå·¥å…·"><a href="#CLIå·¥å…·" class="headerlink" title="CLIå·¥å…·"></a>CLIå·¥å…·</h3><p><a href="https://github.com/commitizen/cz-cli">Commitizen</a> æ˜¯ä¸€ä¸ªé€šè¿‡å‘½ä»¤è¡Œå¼ºåˆ¶æ ¼å¼åŒ–æäº¤ä¿¡æ¯çš„å·¥å…·:</p><img src="https://d33wubrfki0l68.cloudfront.net/de5e032567b4cccae05bafd47636c4b20f84868d/61d9f/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/commitizen-example.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/de5e032567b4cccae05bafd47636c4b20f84868d/61d9f/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/commitizen-example.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Semantic commit message using the command line"><h3 id="æ£€æŸ¥å™¨-Linter"><a href="#æ£€æŸ¥å™¨-Linter" class="headerlink" title="æ£€æŸ¥å™¨(Linter)"></a>æ£€æŸ¥å™¨(Linter)</h3><p><a href="https://github.com/conventional-changelog/commitlint">commitlint</a> æ˜¯ä¸€ä¸ªä¿è¯æäº¤æ¶ˆæ¯æ ¼å¼ç¬¦åˆçº¦å®šçš„å·¥å…·:</p><img src="https://d33wubrfki0l68.cloudfront.net/e71e415ceec4372fb6130d6f5501291362abb1be/1c7f0/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/commitlint-example.png" class="lazyload" data-srcset="https://d33wubrfki0l68.cloudfront.net/e71e415ceec4372fb6130d6f5501291362abb1be/1c7f0/images/posts/2019-11-01-understanding-semantic-commit-messages-using-git-and-angular/commitlint-example.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Linting the commit messages"><h3 id="VSCodeæ‰©å±•"><a href="#VSCodeæ‰©å±•" class="headerlink" title="VSCodeæ‰©å±•"></a>VSCodeæ‰©å±•</h3><p>å¦‚æœä½ æƒ³ä½¿ç”¨ä¸€ä¸ªå¯å®šåˆ¶çš„<a href="https://github.com/nitayneeman/vscode-git-semantic-commit">VScodeæ‰©å±•</a>ï¼Œé‚£ä¹ˆä¸‹é¢çš„å†…å®¹å¯èƒ½ä¼šè®©ä½ æ„Ÿå…´è¶£:</p><img src="https://github.com/nitayneeman/vscode-git-semantic-commit/blob/master/images/examples/preview.gif?raw=true" class="lazyload" data-srcset="https://github.com/nitayneeman/vscode-git-semantic-commit/blob/master/images/examples/preview.gif?raw=true" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Semantic commit message using the Command Palette"><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æˆ‘ä»¬ä»Šå¤©ä»‹ç»äº†â€œè¯­ä¹‰åŒ–æäº¤â€è¿™ä¸ªæœ¯è¯­ï¼Œå¹¶é€šè¿‡éµå¾ª Angular æäº¤æ¶ˆæ¯çº¦å®šçš„å…·ä½“ä¾‹å­ï¼Œè§£é‡Šäº†è¿™ç§æ¶ˆæ¯çš„ç»“æ„ã€‚</p><p>æ¦‚æ‹¬è¦ç‚¹:</p><ul><li>è¯­ä¹‰åŒ–æäº¤æ˜¯å¯¹å¼€å‘äººå‘˜å’Œå·¥å…·éƒ½æœ‰é‡è¦æ„ä¹‰çš„æäº¤ä¿¡æ¯æ–¹å¼ï¼Œå®ƒä»¬éµå¾ªç‰¹å®šçš„çº¦å®š</li><li>è¯­ä¹‰åŒ–æäº¤(ä»¥åŠåŸºäºå®ƒçš„å·¥å…·)æœ‰åŠ©äºæé«˜å¯è¯»æ€§ã€é€Ÿåº¦å’Œè‡ªåŠ¨åŒ–</li><li>Conventional Commits æ˜¯ä¸€ä¸ªè¯¦ç»†æè¿°è¯­ä¹‰æäº¤çš„è§„èŒƒï¼Œéµå¾ªè½»é‡çº§çº¦å®š</li><li>Angular çš„æŒ‡å¯¼åŸåˆ™è¯¦ç»†æè¿°äº†éµå¾ªé¡¹ç›®çº¦å®šçš„è¯­ä¹‰åŒ–æäº¤ï¼ŒåŒ…æ‹¬:<ul><li>åŒ…å« headerã€body å’Œ footer çš„ä¿¡æ¯æ ¼å¼</li><li>ä¸å¼€å‘å’Œç”Ÿäº§ç›¸å…³çš„æäº¤æ›´æ”¹çš„ç±»å‹</li></ul></li><li>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¿¡æ¯çº¦å®šè½»æ¾æµè§ˆæäº¤å†å²</li><li>æˆ‘ä»¬å¯ä»¥ä»è¿™äº›è§„èŒƒæ”¶è·è‡ªåŠ¨åŒ–å‘å¸ƒæµç¨‹(release process)çš„å¥½å¤„</li></ul><p>æœ€åï¼Œä¸ç®¡æ‚¨æ˜¯å¦å†³å®šé‡‡ç”¨è¿™äº›çº¦å®š,æ‚¨å¯èƒ½ä¼šå¶å°”é‡åˆ°å®ƒä»¬ï¼Œæ‰€ä»¥è¯·è®°ä½ä¸Šé¢çš„å‡ ç‚¹ã€‚ğŸ˜‰</p><blockquote><ul><li>åŸæ–‡åœ°å€ï¼š<a href="https://nitayneeman.com/posts/understanding-semantic-commit-messages-using-git-and-angular/#motivation">Understanding Semantic Commit Messages Using Git and Angular</a></li><li>åŸæ–‡ä½œè€…ï¼š<a href="https://github.com/nitayneeman">Nitay Neeman</a></li><li>è¯‘æ–‡é¦–å‘äºï¼š<a href="https://seven-innovation-base.github.io/Git-IN-ACTION-docs/">Seven innovation base/Git-IN-ACTION-docs</a></li><li>è¯‘è€…ï¼š<a href="https://github.com/MrGo123">MrGo123</a></li><li>æ ¡å¯¹è€…ï¼š<a href="https://github.com/yeshan333">yeshan333</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> å·¥ç¨‹åŒ– </tag>
            
            <tag> è¯‘æ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äº†è§£ä¸€æ³¢ç»å…¸çš„ I/O æ¨¡å‹</title>
      <link href="/2020/05/19/%E4%BA%86%E8%A7%A3%E4%B8%80%E6%B3%A2%E7%BB%8F%E5%85%B8%E7%9A%84-IO-%E6%A8%A1%E5%9E%8B/"/>
      <url>/2020/05/19/%E4%BA%86%E8%A7%A3%E4%B8%80%E6%B3%A2%E7%BB%8F%E5%85%B8%E7%9A%84-IO-%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>æœ€è¿‘è¯»äº†æ³¢ç½‘ç»œ I/O ç›¸å…³çš„æ–‡ç« ï¼Œåšä¸‹æ€»ç»“ã€æ‘˜å½•ã€‚ï¼ˆæœªå®Œï¼‰</p><h2 id="ç»å…¸-I-O-æ¨¡å‹"><a href="#ç»å…¸-I-O-æ¨¡å‹" class="headerlink" title="ç»å…¸ I/O æ¨¡å‹"></a>ç»å…¸ I/O æ¨¡å‹</h2><ul><li><div class='checkbox red checked'><input type="checkbox" checked="checked"/>            <p>é˜»å¡å¼ I/Oï¼ˆblocking I/Oï¼‰</p>            </div></li><li><div class='checkbox red checked'><input type="checkbox" checked="checked"/>            <p>éé˜»å¡å¼ I/Oï¼ˆnon-blocking I/Oï¼‰</p>            </div></li><li><div class='checkbox red'><input type="checkbox" />            <p>I/O å¤šè·¯å¤ç”¨ï¼ˆI/O multiplexingï¼‰</p>            </div></li><li><div class='checkbox cyan'><input type="checkbox" />            <p>ä¿¡å·é©±åŠ¨å¼ I/Oï¼ˆsignal driven I/Oï¼‰</p>            </div></li><li><div class='checkbox cyan'><input type="checkbox" />            <p>å¼‚æ­¥ I/Oï¼ˆasynchronous I/Oï¼‰</p>            </div></li></ul><h3 id="é˜»å¡å¼-I-O-æ¨¡å‹"><a href="#é˜»å¡å¼-I-O-æ¨¡å‹" class="headerlink" title="é˜»å¡å¼ I/O æ¨¡å‹"></a>é˜»å¡å¼ I/O æ¨¡å‹</h3><p>å¯¹äºé˜»å¡å¼ I/Oï¼Œä»¥å¥—æ¥å­—ï¼ˆSocketï¼‰çš„è¾“å…¥æ“ä½œä¸ºä¾‹ã€‚</p><ul><li>1ã€é¦–å…ˆåº”ç”¨è¿›ç¨‹å‘èµ· I/O ç³»ç»Ÿè°ƒç”¨åï¼Œåº”ç”¨è¿›ç¨‹é˜»å¡ï¼Œè½¬åˆ°å†…æ ¸ç©ºé—´å¤„ç†ã€‚</li><li>2ã€ä¹‹åï¼Œå†…æ ¸å¼€å§‹ç­‰å¾…æ•°æ®ï¼Œç­‰å¾…æ•°æ®åˆ°è¾¾ä¹‹åï¼Œå°†å†…æ ¸ä¸­çš„æ•°æ®æ‹·è´åˆ°ç”¨æˆ·çš„ç¼“å†²åŒºä¸­ï¼Œæ•´ä¸ª I/O å¤„ç†å®Œæ¯•åè¿”å›è¿›ç¨‹ã€‚æœ€ååº”ç”¨è¿›ç¨‹è§£é™¤é˜»å¡çŠ¶æ€ï¼Œå¤„ç†æ•°æ®ã€‚</li></ul><span id="more"></span><p><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200519164453.png" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200519164453.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="é˜»å¡å¼ç¤ºä¾‹"></p><p>ä¸Šå›¾ä»¥ UDP çš„ Socket è°ƒç”¨ä¸ºä¾‹ï¼Œè¿›ç¨‹è°ƒç”¨ recvfrom åï¼Œç³»ç»Ÿè°ƒç”¨ç›´åˆ°æ•°æ®æŠ¥åˆ°è¾¾ä¸”è¢«å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´ä¸­æˆ–å‘ç”Ÿé”™è¯¯æ‰è¿”å›ã€‚è¿›ç¨‹ä»è°ƒç”¨å¼€å§‹åˆ°å®ƒè¿”å›çš„æ•´æ®µæ—¶é—´å†…æ˜¯è¢«é˜»å¡çš„ã€‚recvfrom æˆåŠŸè¿”å›åï¼Œåº”ç”¨è¿›ç¨‹å¼€å§‹å¤„ç†æ•°æ®æŠ¥ã€‚</p><blockquote><p>é»˜è®¤æƒ…å½¢ï¼ŒLinux/Unix çš„æ‰€æœ‰ Socket æ˜¯é˜»å¡çš„ã€‚</p></blockquote><p>é™„ï¼šåŸºäº UDP åè®®çš„ Socket ç¨‹åºå‡½æ•°è°ƒç”¨è¿‡ç¨‹å›¾</p><p><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200519164642.png" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200519164642.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="åŸºäº UDP åè®®çš„ Socket ç¨‹åºå‡½æ•°è°ƒç”¨è¿‡ç¨‹å›¾"></p><blockquote><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯éœ€è¦ç®¡ç†å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼ˆå¤„ç†å¹¶å‘è¿æ¥ï¼‰ï¼Œè€Œ recvfrom åªèƒ½ç›‘è§†å•ä¸ª Socketã€‚ä¸Šå›¾çš„é˜»å¡å¼ I/O æ¨¡å‹è¡¨ç¤ºçš„æ˜¯ä¸€å¯¹ä¸€æ²Ÿé€šçš„æƒ…å½¢ï¼Œä½¿ç”¨å¤šçº¿ç¨‹/è¿›ç¨‹ + é˜»å¡å¼ I/O æˆ‘ä»¬å¯ä»¥ç®¡ç†å¤šä¸ª Socket ï¼Œå®ç°ä¸€å¯¹å¤šæœåŠ¡ã€‚</p></blockquote><h3 id="éé˜»å¡å¼-I-O-æ¨¡å‹"><a href="#éé˜»å¡å¼-I-O-æ¨¡å‹" class="headerlink" title="éé˜»å¡å¼ I/O æ¨¡å‹"></a>éé˜»å¡å¼ I/O æ¨¡å‹</h3><p>åœ¨ç±» Unix ç³»ç»Ÿä¸‹ï¼Œå¯ä»¥æŠŠä¸€ä¸ª Socket è®¾ç½®æˆéé˜»å¡çš„ã€‚è¿™æ„å‘³ç€å†…æ ¸åœ¨æ•°æ®æŠ¥æ²¡æœ‰å‡†å¤‡å¥½æ—¶ä¸ä¼šé˜»å¡åº”ç”¨è¿›ç¨‹ï¼ˆç¡çœ æ€ï¼‰ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</p><p><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200519170609.png" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200519170609.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="éé˜»å¡å¼ I/O æ¨¡å‹ç¤ºä¾‹å›¾"></p><p>ä¸Šå›¾ä»¥ UDP çš„ Socket è°ƒç”¨ä¸ºä¾‹ï¼Œè¿›ç¨‹åå¤è°ƒç”¨ recvfromï¼ˆpollingï¼Œè½®è¯¢ï¼‰ï¼Œæ— æ•°æ®è¿”å› EWOULDBLOCK é”™è¯¯ï¼Œç›´è‡³æ•°æ®æŠ¥å‡†å¤‡å¥½ã€‚</p><p>é—®é¢˜ï¼š<strong>å•è¿›ç¨‹å¤„ç†æ•°æ®æŠ¥ï¼Œä¸åŒäºé˜»å¡I/Oï¼Œç”±äºéœ€è¦åå¤ pollingï¼Œéé˜»å¡ I/O ä¼šè€—è´¹å¤§é‡çš„ CPU èµ„æºï¼Œè¿›ç¨‹é˜»å¡ä¸è€—è´¹ CPU èµ„æº</strong>ã€‚å¦‚æœè€ä¸Šäº†å¤šè¿›ç¨‹ï¼Œé‚£è€—è´¹ï¼Œæ˜¯ä¸å¯æ‰¿å—çš„ã€‚</p><p>å…³äºé˜»å¡çš„åŸç†ï¼Œè¿™ç¯‡æ–‡ç« æœ‰ç®€å•ä»‹ç»<a href="https://zhuanlan.zhihu.com/p/63179839">âœ”ğŸ”—</a>ã€‚</p><h3 id="I-O-å¤šè·¯å¤ç”¨æ¨¡å‹"><a href="#I-O-å¤šè·¯å¤ç”¨æ¨¡å‹" class="headerlink" title="I/O å¤šè·¯å¤ç”¨æ¨¡å‹"></a>I/O å¤šè·¯å¤ç”¨æ¨¡å‹</h3><p>ä»€ä¹ˆæ˜¯å¤šè·¯å¤ç”¨ï¼Ÿå¤šè·¯æŒ‡çš„æ˜¯å¤šä¸ªé€šé“ï¼Œä¸€èˆ¬å°±æ˜¯å¤šä¸ªç½‘ç»œè¿æ¥çš„ I/Oï¼›å¤ç”¨æŒ‡çš„æ˜¯å¤šä¸ªé€šé“å¤ç”¨åœ¨ä¸€ä¸ªå¤ç”¨å™¨ä¸Šã€‚</p><p>å¼•å…¥å¤šè·¯å¤ç”¨æœºåˆ¶çš„ä¸€ä¸ªç›®çš„æ˜¯ä¸ºäº†å¤„ç†å¤šä¸ªç½‘ç»œè¿æ¥ I/Oã€‚</p><blockquote><p>I/Oå¤šè·¯å¤ç”¨æ–¹æ³•çš„æ¼”è¿›å†ç¨‹ï¼šselect æ¨¡å‹-&gt; poll æ¨¡å‹-&gt; epoll æ¨¡å‹</p></blockquote><h4 id="select-æ¨¡å‹"><a href="#select-æ¨¡å‹" class="headerlink" title="select æ¨¡å‹"></a>select æ¨¡å‹</h4><p><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200519214552.png" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200519214552.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="selectå¤šè·¯å¤ç”¨ç¤ºä¾‹"></p><p>ä¸Šå›¾æ‰€ç¤ºçš„æ•´ä¸ªç”¨æˆ·è¿›ç¨‹ä¸€èˆ¬ä¸€ç›´æ˜¯è¢«é˜»å¡çš„ï¼ˆblockingï¼‰ï¼Œå³è¢« selectï¼ˆå¤ç”¨å™¨ï¼‰ æ‰€é˜»å¡ï¼Œå¤šä¸ª Socket è¢«æ³¨å†Œåœ¨ select ä¸­ã€‚è¿›ç¨‹é˜»å¡äº select è°ƒç”¨ï¼Œç­‰å¾…æ•°æ®æŠ¥å¥—æ¥å­—å˜ä¸ºå¯è¯»ï¼Œä¸€ä½† select è¿”å›å¥—æ¥å­—å¯è¯»ï¼Œç³»ç»Ÿè°ƒç”¨ recvfrom æŠŠæ‰€è¯»æ•°æ®æŠ¥å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹ç¼“å†²åŒºã€‚</p><div class="note blue"><p>é—®é¢˜æ¥äº†ï¼Ÿä¸ºäº†å¤„ç†å¤šä¸ªç½‘ç»œè¿æ¥ I/Oï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å¤šçº¿ç¨‹/è¿›ç¨‹çš„æ–¹å¼å®ç°ï¼Œå¤šè·¯å¤ç”¨çš„ä¼˜åŠ¿ä½•åœ¨ï¼Ÿè¿™é‡Œçš„å¤šè·¯å¤ç”¨æ¨¡å‹ä¼¼ä¹æ¯”é˜»å¡å¼ I/O æ¨¡å‹æ›´ä¸ºå¤æ‚ï¼Œä½†å®ƒæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹/çº¿ç¨‹å†…åŒæ—¶å¤„ç†å¤šä¸ª socket çš„ IO è¯·æ±‚ã€‚ç”¨æˆ·å¯ä»¥æ³¨å†Œå¤šä¸ª socketï¼Œç„¶åä¸æ–­åœ°è°ƒç”¨ select è¯»å–è¢«æ¿€æ´»çš„ socketï¼Œå³å¯è¾¾åˆ°åœ¨åŒä¸€ä¸ªçº¿ç¨‹å†…åŒæ—¶å¤„ç†å¤šä¸ª IO è¯·æ±‚çš„ç›®çš„ã€‚ï¼ˆselect å¯æ¥å—çš„ socket æè¿°ç¬¦æ•°ä¼šæœ‰ä¸€å®šé™åˆ¶ï¼‰</p></div><div class="note red"><p>æˆ‘ä»¬çŸ¥é“ï¼Œæ“ä½œç³»ç»Ÿå¤šä¸ªè¿›ç¨‹/çº¿ç¨‹çš„å¼€é”€ç»´æŠ¤è¿˜æ˜¯è›®å¤§çš„ã€‚å¯¹äºé«˜å¹¶å‘åœºæ™¯ï¼Œå¦‚æœä¸€å°æœºå™¨è¦ç»´æŠ¤ 1 ä¸‡ä¸ªè¿æ¥ï¼ˆC10Ké—®é¢˜ï¼‰ï¼Œä½¿ç”¨å¤šçº¿ç¨‹/è¿›ç¨‹çš„æ–¹å¼å¤„ç†ï¼Œæ“ä½œç³»ç»Ÿæ˜¯æ— æ³•æ‰¿å—çš„ã€‚å¦‚æœç»´æŒ 1 äº¿ç”¨æˆ·åœ¨çº¿éœ€è¦ 10 ä¸‡å°æœåŠ¡å™¨ï¼Œæˆæœ¬é‚£æ˜¯ç›¸å½“çš„é«˜ã€‚</p></div><div class="note yellow"><p>$ æœåŠ¡ç«¯å•æœºæœ€å¤§ TCP è¿æ¥æ•°=å®¢æˆ·ç«¯ IP æ•°Ã—å®¢æˆ·ç«¯ç«¯å£æ•° $ï¼Œå¯¹äº IPv4ï¼Œå®¢æˆ·ç«¯çš„ IP æ•°æœ€å¤šä¸º 2 çš„ 32 æ¬¡æ–¹ï¼Œå®¢æˆ·ç«¯çš„ç«¯å£æ•°æœ€å¤šä¸º 2 çš„ 16 æ¬¡æ–¹ã€‚è¿™åªæ˜¯ç†è®ºä¸Šé™ï¼Œæ¯ä¸ª TCP è¿æ¥çš„å»ºç«‹ä¼šå—åˆ¶äºæ“ä½œç³»ç»Ÿå†…å­˜ç­‰å› ç´ çš„å½±å“ã€‚</p></div><h4 id="epoll-æ¨¡å‹"><a href="#epoll-æ¨¡å‹" class="headerlink" title="epoll æ¨¡å‹"></a>epoll æ¨¡å‹</h4><p>æ–°æ¨¡å‹çš„å‡ºç°è‚¯å®šæ˜¯ä¸ºäº†è§£å†³æ—§æ¨¡å‹çš„é—®é¢˜ï¼Œé‚£ä¹ˆ select æ¨¡å‹æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿæ¯æ¬¡ Socket æ‰€åœ¨çš„æ–‡ä»¶æè¿°ç¬¦é›†åˆä¸­æœ‰ Socket å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œselect éƒ½éœ€è¦é€šè¿‡è½®è¯¢çš„æ–¹å¼å»æ£€æŸ¥ï¼Œè€Œ epoll å¼•å…¥äº† CallBackï¼ˆå›è°ƒï¼‰æœºåˆ¶ï¼Œå½“æŸä¸ªæ–‡ä»¶æè¿°ç¬¦å‘é€å˜åŒ–çš„æ—¶å€™ï¼Œä¸»åŠ¨é€šçŸ¥ã€‚éšç€ç›‘å¬çš„ Socket æ•°æ®å¢åŠ çš„æ—¶å€™ï¼Œæ•ˆç‡ç›¸æ¯”äº select çš„è½®è¯¢å¿«å¤šäº†ã€‚</p><p>äº†è§£ epoll çš„æœ¬è´¨ -&gt; <a href="https://zhuanlan.zhihu.com/p/64138532">å¦‚æœè¿™ç¯‡æ–‡ç« è¯´ä¸æ¸…epollçš„æœ¬è´¨ï¼Œé‚£å°±è¿‡æ¥ææ­»æˆ‘å§ï¼ ï¼ˆ2ï¼‰</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://book.douban.com/subject/4859464/">ã€ŠUNIXç½‘ç»œç¼–ç¨‹ å·1ï¼šå¥—æ¥å­—è”ç½‘APIã€‹</a></li><li><a href="https://time.geekbang.org/column/article/9293">è¶£è°ˆç½‘ç»œåè®®</a></li><li><a href="https://time.geekbang.org/column/article/204696">RPCå®æˆ˜ä¸æ ¸å¿ƒåŸç†</a></li><li><a href="https://zhuanlan.zhihu.com/p/63179839">å¦‚æœè¿™ç¯‡æ–‡ç« è¯´ä¸æ¸…epollçš„æœ¬è´¨ï¼Œé‚£å°±è¿‡æ¥ææ­»æˆ‘å§ï¼</a></li><li><a href="https://zhuanlan.zhihu.com/p/54580385">5ç§ç½‘ç»œIOæ¨¡å‹ï¼ˆæœ‰å›¾ï¼Œå¾ˆæ¸…æ¥šï¼‰</a></li><li><a href="https://book.douban.com/subject/25773187/">ã€ŠNginxé«˜æ€§èƒ½WebæœåŠ¡å™¨è¯¦è§£ã€‹</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> I/Oæ¨¡å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç¬”è®°ã€å¯æ‰©å±•æ¶æ„è®¾è®¡ä¹‹æ¶ˆæ¯é˜Ÿåˆ—</title>
      <link href="/2020/04/06/%E5%8F%AF%E6%89%A9%E5%B1%95%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B9%8B%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"/>
      <url>/2020/04/06/%E5%8F%AF%E6%89%A9%E5%B1%95%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B9%8B%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå¼€å‘ä½è€¦åˆç³»ç»Ÿæ˜¯è½¯ä»¶å¼€å‘çš„ç»ˆæç›®æ ‡ä¹‹ä¸€ã€‚ä½è€¦åˆçš„ç³»ç»Ÿæ›´åŠ å®¹æ˜“æ‰©å±•ï¼Œä½è€¦åˆçš„æ¨¡å—æ›´åŠ å®¹æ˜“å¤ç”¨ï¼Œæ›´æ˜“äºç»´æŠ¤å’Œç®¡ç†ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯æ”¶å‘æ¶ˆæ¯ï¼Œä½†æ˜¯å®ƒçš„ä½œç”¨ä¸ä»…ä»…åªæ˜¯è§£å†³åº”ç”¨ä¹‹é—´çš„é€šä¿¡é—®é¢˜è¿™ä¹ˆç®€å•ã€‚æ¶ˆæ¯é˜Ÿåˆ—ä½œä¸ºå¸¸ç”¨çš„ä¸­é—´ä»¶ï¼Œç»å¸¸è¢«ç”¨æ¥å¯¹ç³»ç»Ÿè§£è€¦ï¼Œå¯¹æ¨¡å—è§£è€¦ã€‚å¢å¼ºç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œæ¨¡å—çš„å¯å¤ç”¨æ€§ã€‚</p><p>é™¤äº†å¯¹ç”¨äºå¯¹ç³»ç»Ÿã€æ¨¡å—è§£è€¦ï¼Œæ¶ˆæ¯é˜Ÿåˆ—è¿˜æœ‰ä»¥ä¸‹å‡ ç§é€šé€”ï¼š</p><ul><li>æœåŠ¡å¼‚æ­¥å¤„ç†</li><li>æµé‡æ§åˆ¶</li><li>ä½œä¸ºå‘å¸ƒ / è®¢é˜…ç³»ç»Ÿå®ç°ä¸€ä¸ªå¾®æœåŠ¡çº§ç³»ç»Ÿé—´çš„è§‚å¯Ÿè€…æ¨¡å¼</li><li>è¿æ¥æµè®¡ç®—ä»»åŠ¡å’Œæ•°æ®</li><li>ç”¨äºå°†æ¶ˆæ¯å¹¿æ’­ç»™å¤§é‡æ¥æ”¶è€…</li></ul><p>äº‹ç‰©çš„å­˜åœ¨æ€»ä¼šæœ‰å¯¹ç«‹çš„ä¸€é¢ï¼Œå¼•å…¥æ¶ˆæ¯é˜Ÿåˆ—å¯èƒ½ä¼šå¸¦æ¥å»¶è¿Ÿé—®é¢˜ã€äº§ç”Ÿæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€å¢åŠ ç³»ç»Ÿå¤æ‚åº¦çš„é—®é¢˜ç­‰ç­‰ã€‚</p><span id="more"></span><h2 id="EDA-æ¶æ„ä¹‹ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼"><a href="#EDA-æ¶æ„ä¹‹ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼" class="headerlink" title="EDA æ¶æ„ä¹‹ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼"></a>EDA æ¶æ„ä¹‹ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼</h2><blockquote><p>äº‹ä»¶é©±åŠ¨æ¶æ„(Event Driven Architecture, EDA)</p></blockquote><h3 id="EDA-æ¶æ„åŸç†"><a href="#EDA-æ¶æ„åŸç†" class="headerlink" title="EDA æ¶æ„åŸç†"></a>EDA æ¶æ„åŸç†</h3><p>äº‹ä»¶é©±åŠ¨æ¶æ„ç”±äº‹ä»¶å‘èµ·è€…å’Œäº‹ä»¶ä½¿ç”¨è€…ç»„æˆã€‚äº‹ä»¶çš„å‘èµ·è€…æ£€æµ‹æˆ–æ„ŸçŸ¥äº‹ä»¶ï¼Œå¹¶ä»¥æ¶ˆæ¯çš„å½¢å¼æ¥è¡¨ç¤ºäº‹ä»¶ã€‚å®ƒå¹¶ä¸çŸ¥é“äº‹ä»¶çš„ä½¿ç”¨è€…æˆ–äº‹ä»¶å¼•èµ·çš„ç»“æœã€‚</p><p>æ£€æµ‹åˆ°äº‹ä»¶åï¼Œç³»ç»Ÿä¼šé€šè¿‡äº‹ä»¶é€šé“ä»äº‹ä»¶å‘èµ·è€…ä¼ è¾“ç»™äº‹ä»¶ä½¿ç”¨è€…ï¼Œè€Œäº‹ä»¶å¤„ç†å¹³å°åˆ™ä¼šåœ¨è¯¥é€šé“ä¸­ä»¥å¼‚æ­¥æ–¹å¼å¤„ç†äº‹ä»¶ã€‚äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œéœ€è¦é€šçŸ¥äº‹ä»¶ä½¿ç”¨è€…ã€‚ä»–ä»¬å¯èƒ½ä¼šå¤„ç†äº‹ä»¶ï¼Œä¹Ÿå¯èƒ½åªæ˜¯å—äº‹ä»¶çš„å½±å“ã€‚</p><p>äº‹ä»¶å¤„ç†å¹³å°å°†å¯¹äº‹ä»¶åšå‡ºæ­£ç¡®å“åº”ï¼Œå¹¶å°†æ´»åŠ¨ä¸‹å‘ç»™ç›¸åº”çš„äº‹ä»¶ä½¿ç”¨è€…ã€‚é€šè¿‡è¿™ç§ä¸‹å‘æ´»åŠ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°äº‹ä»¶çš„ç»“æœã€‚</p><p>æ£€æµ‹åˆ°äº‹ä»¶åï¼Œç³»ç»Ÿä¼šé€šè¿‡äº‹ä»¶é€šé“ä»äº‹ä»¶å‘èµ·è€…ä¼ è¾“ç»™äº‹ä»¶ä½¿ç”¨è€…ï¼Œè€Œäº‹ä»¶å¤„ç†å¹³å°åˆ™ä¼šåœ¨è¯¥é€šé“ä¸­ä»¥å¼‚æ­¥æ–¹å¼å¤„ç†äº‹ä»¶ã€‚äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œéœ€è¦é€šçŸ¥äº‹ä»¶ä½¿ç”¨è€…ã€‚ä»–ä»¬å¯èƒ½ä¼šå¤„ç†äº‹ä»¶ï¼Œä¹Ÿå¯èƒ½åªæ˜¯å—äº‹ä»¶çš„å½±å“ã€‚</p><p>äº‹ä»¶å¤„ç†å¹³å°å°†å¯¹äº‹ä»¶åšå‡ºæ­£ç¡®å“åº”ï¼Œå¹¶å°†æ´»åŠ¨ä¸‹å‘ç»™ç›¸åº”çš„äº‹ä»¶ä½¿ç”¨è€…ã€‚é€šè¿‡è¿™ç§ä¸‹å‘æ´»åŠ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°äº‹ä»¶çš„ç»“æœã€‚</p><h3 id="ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹"><a href="#ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹" class="headerlink" title="ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹"></a>ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹</h3><p>æ“ä½œç³»ç»Ÿä¸­å¸¸è§çš„ EDA æ¶æ„å°±æ˜¯ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ã€‚æ¶ˆæ¯é˜Ÿåˆ—å¸¸ç”¨æ¥ä½œä¸ºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´çš„ç¼“å†²å¸¦ï¼Œå¹³è¡¡ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å¤„ç†èƒ½åŒæ—¶å¯¹æœåŠ¡è¿›è¡Œè§£è€¦ã€‚æœ‰äº†è¿™å±‚ç¼“å†²å¸¦ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å¯èƒ½éƒ½ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚</p><p><fancybox><img src="https://i.loli.net/2020/04/06/rCAbFk9RO7jIply.png" class="lazyload" data-srcset="https://i.loli.net/2020/04/06/rCAbFk9RO7jIply.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼"></fancybox></p><p>ä»¥ä¸‹ä¸ºç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹çš„ç®€å•å®ç°ï¼Œ(å†…å­˜æ¶ˆæ¯é˜Ÿåˆ—)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> queue <span class="keyword">import</span> Queue</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer</span>(<span class="title class_ inherited__">Thread</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, queue</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.queue = queue</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            productA = randint(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line">            productB = randint(<span class="number">90</span>, <span class="number">100</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Produce Aã€Œnumberã€: &#123;&#125;, Produce Bã€Œnumberã€: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(productA, productB))</span><br><span class="line">            self.queue.put((productA, productB))</span><br><span class="line">            time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Consumer</span>(<span class="title class_ inherited__">Thread</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, queue</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.queue = queue</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># block=True, if queue is empty, block(é˜»å¡)</span></span><br><span class="line">            products_tuple = self.queue.get(block=<span class="literal">True</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;Consume products: <span class="subst">&#123;products_tuple[<span class="number">0</span>]&#125;</span> &amp; <span class="subst">&#123;products_tuple[<span class="number">1</span>]&#125;</span>&#x27;</span>)</span><br><span class="line">            time.sleep(randint(<span class="number">0</span>, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    queue = Queue()</span><br><span class="line">    producer = Producer(queue)</span><br><span class="line">    consumer = Consumer(queue)</span><br><span class="line"></span><br><span class="line">    producer.start()</span><br><span class="line">    consumer.start()</span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Produce Aã€Œnumberã€: 8, Produce Bã€Œnumberã€: 95</span></span><br><span class="line"><span class="string">Consume products: 8 &amp; 95</span></span><br><span class="line"><span class="string">Produce Aã€Œnumberã€: 4, Produce Bã€Œnumberã€: 92</span></span><br><span class="line"><span class="string">Consume products: 4 &amp; 92</span></span><br><span class="line"><span class="string">Produce Aã€Œnumberã€: 9, Produce Bã€Œnumberã€: 90</span></span><br><span class="line"><span class="string"><span class="meta">... </span>&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="åŸºäºZeroMQ-PubSubæ¨¡å¼çš„è§‚å¯Ÿè€…æ¨¡å¼å®ä¾‹"><a href="#åŸºäºZeroMQ-PubSubæ¨¡å¼çš„è§‚å¯Ÿè€…æ¨¡å¼å®ä¾‹" class="headerlink" title="åŸºäºZeroMQ PubSubæ¨¡å¼çš„è§‚å¯Ÿè€…æ¨¡å¼å®ä¾‹"></a>åŸºäºZeroMQ PubSubæ¨¡å¼çš„è§‚å¯Ÿè€…æ¨¡å¼å®ä¾‹</h3><p><fancybox><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200522171643.png" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200522171643.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ZeroMQ"></fancybox></p><p><fancybox><img src="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200522171357.png" class="lazyload" data-srcset="https://mypic-1258313760.cos.ap-guangzhou.myqcloud.com/img/20200522171357.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="PubSubæ¨¡å¼"></fancybox></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># publisher1.py</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> zmq</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">publisher1</span>():</span><br><span class="line">    context = zmq.Context()</span><br><span class="line">    socket = context.socket(zmq.PUB)</span><br><span class="line">    socket.bind(<span class="string">&quot;tcp://*:5555&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        count = <span class="number">99</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            socket.send_string(<span class="string">&#x27;publisher1 pushes event %d&#x27;</span> % count)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;push event %d&#x27;</span> % count)</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    publisher1()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># publisher2.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> zmq</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">publisher2</span>():</span><br><span class="line">    context = zmq.Context()</span><br><span class="line">    socket = context.socket(zmq.PUB)</span><br><span class="line">    socket.bind(<span class="string">&quot;tcp://*:5556&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        count = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            socket.send_string(<span class="string">&#x27;publisher2 pushes event %d&#x27;</span> % count)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;push event %d&#x27;</span> % count)</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    publisher2()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># subscriber1.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> zmq</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">subscriber1</span>():</span><br><span class="line">    context = zmq.Context()</span><br><span class="line">    socket = context.socket(zmq.SUB)</span><br><span class="line">    socket.connect(<span class="string">&#x27;tcp://127.0.0.1:5555&#x27;</span>)</span><br><span class="line">    socket.connect(<span class="string">&#x27;tcp://127.0.0.1:5556&#x27;</span>)</span><br><span class="line">    socket.setsockopt_string(zmq.SUBSCRIBE, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        message = socket.recv()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;message: %s&#x27;</span> % message)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    subscriber1()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># subscriber2.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> zmq</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">subscriber2</span>():</span><br><span class="line">    context = zmq.Context()</span><br><span class="line">    socket = context.socket(zmq.SUB)</span><br><span class="line">    socket.connect(<span class="string">&#x27;tcp://127.0.0.1:5555&#x27;</span>)</span><br><span class="line">    socket.connect(<span class="string">&#x27;tcp://127.0.0.1:5556&#x27;</span>)</span><br><span class="line">    socket.setsockopt_string(zmq.SUBSCRIBE, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        message = socket.recv()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;message: %s&#x27;</span> % message)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    subscriber2()</span><br></pre></td></tr></table></figure><h2 id="ç§’æ€ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ä¸æ¶ˆæ¯é˜Ÿåˆ—"><a href="#ç§’æ€ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ä¸æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="ç§’æ€ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ä¸æ¶ˆæ¯é˜Ÿåˆ—"></a>ç§’æ€ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ä¸æ¶ˆæ¯é˜Ÿåˆ—</h2><p>æŸç§’æ€ç³»ç»Ÿçš„ä¸»è¦å¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>é£é™©æ§åˆ¶</li><li>åº“å­˜é”å®š</li><li>ç”Ÿæˆè®¢å•</li><li>çŸ­ä¿¡é€šçŸ¥</li><li>æ›´æ–°ç»Ÿè®¡æ•°æ®</li></ul><h3 id="ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥å¤„ç†"><a href="#ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥å¤„ç†" class="headerlink" title="ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥å¤„ç†"></a>ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥å¤„ç†</h3><p>ç”±äºç§’æ€æˆåŠŸçš„å…³é”®å–å†³äºé£é™©æ§åˆ¶ã€åº“å­˜é”å®šè¿™ä¸¤æ­¥éª¤ï¼Œæ‰€ä»¥ server ç«¯å¤„ç†äº†è¿™ä¸¤æ­¥ä¹‹åå¯ä»¥ç»™ client ç«¯è¿”å›ç»“æœäº†ï¼Œåç»­çš„æ­¥éª¤å¯æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­å¼‚æ­¥æ‰§è¡Œã€‚ä¸ä¸€å®šè¦åœ¨<strong>ç§’æ€è¯·æ±‚</strong>ä¸­å®Œæˆã€‚é›†ä¸­èµ„æºå¤„ç†å…³é”®æ­¥éª¤ï¼ˆåŒæ­¥ï¼‰ï¼Œç¢ç‰‡æ—¶é—´ï¼ˆå…¨éƒ¨ç§’æ€è¯·æ±‚å¤„ç†ç»“æŸï¼‰å¤„ç†æ¬¡è¦æ­¥éª¤ï¼ˆå¼‚æ­¥ï¼‰ã€‚</p><p><fancybox><img src="https://i.loli.net/2020/04/06/2gitIYUMlOoK8S5.png" class="lazyload" data-srcset="https://i.loli.net/2020/04/06/2gitIYUMlOoK8S5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demo"></fancybox></p><h3 id="ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œæµé‡æ§åˆ¶-å‰Šå³°"><a href="#ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œæµé‡æ§åˆ¶-å‰Šå³°" class="headerlink" title="ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œæµé‡æ§åˆ¶(å‰Šå³°)"></a>ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œæµé‡æ§åˆ¶(å‰Šå³°)</h3><p>ç§’æ€å¼€å§‹åï¼Œå°†è¶…è¿‡ server ç«¯å¤„ç†ä¸Šé™ï¼ˆçŸ­æ—¶é—´å†…ï¼‰çš„ç§’æ€è¯·æ±‚æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œåç»­æœ‰èƒ½åŠ›å¤„ç†æ—¶å†å¯¹æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¶ˆè´¹è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚å¯¹äºè¶…æ—¶çš„è¯·æ±‚å¯ä»¥ç›´æ¥ä¸¢å¼ƒï¼ˆç§’æ€å¤±è´¥ï¼‰ã€‚</p><p><fancybox><img src="https://i.loli.net/2020/04/06/24zoWGpgLlJkC6U.png" class="lazyload" data-srcset="https://i.loli.net/2020/04/06/24zoWGpgLlJkC6U.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demo"></fancybox></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://book.douban.com/subject/25723064/">å¤§å‹ç½‘ç«™æŠ€æœ¯æ¶æ„</a></li><li><a href="https://www.redhat.com/zh/topics/integration/what-is-event-driven-architecture">ä»€ä¹ˆæ˜¯äº‹ä»¶é©±åŠ¨æ¶æ„</a></li><li><a href="https://time.geekbang.org/column/article/109572">ä¸ºä»€ä¹ˆéœ€è¦æ¶ˆæ¯é˜Ÿåˆ—-æå®¢æ—¶é—´</a></li><li><a href="https://zeromq.org/">ZeroMQ</a></li><li><a href="https://github.com/zeromq/pyzmq">pyzmq</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Architecture </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¶æ„è®¾è®¡ </tag>
            
            <tag> æ¶ˆæ¯é˜Ÿåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä¾‹æ¨¡å¼å¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§</title>
      <link href="/2020/04/04/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%94%AF%E4%B8%80%E6%80%A7/"/>
      <url>/2020/04/04/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%94%AF%E4%B8%80%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ€è¿‘é¢è¯•å‘ç°è‡ªå·±ä¸æ‡‚çš„ä¸œè¥¿è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œå†™ä¸€æ³¢æ–‡ç« æ¥å·©å›ºå’ŒæŒ–æ˜æ¬ ç¼ºçš„çŸ¥è¯†ç‚¹ä»¥åŠåŠ æ·±å¯¹å·²æœ‰çŸ¥è¯†ç‚¹åŸç†çš„ç†è§£ã€‚</p></blockquote><p><fancybox><img src="https://i.loli.net/2020/04/04/aq3S2RgwfWEuB7K.jpg" class="lazyload" data-srcset="https://i.loli.net/2020/04/04/aq3S2RgwfWEuB7K.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ— çŸ¥.jpg"></fancybox></p><span id="more"></span><h2 id="ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼"><a href="#ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼"></a>ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼</h2><ul><li>æŒ‡ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¸”è¯¥ç±»èƒ½è‡ªè¡Œåˆ›å»ºè¿™ä¸ªå®ä¾‹çš„ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ã€‚</li><li>ä½¿ç”¨ç›®çš„ï¼šç¡®ä¿åœ¨æ•´ä¸ªç³»ç»Ÿä¸­åªèƒ½å‡ºç°ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œå³ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå¯¹è±¡ã€‚å¯¹äºé¢‘ç¹ä½¿ç”¨çš„å¯¹è±¡ï¼Œâ€œå¿½ç•¥â€åˆ›å»ºæ—¶çš„å¼€é”€ã€‚</li><li>ç‰¹ç‚¹ï¼š<ul><li>å•ä¾‹ç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼›</li><li>è¯¥å•ä¾‹å¯¹è±¡å¿…é¡»ç”±å•ä¾‹ç±»è‡ªè¡Œåˆ›å»ºï¼›</li><li>å•ä¾‹ç±»å¯¹å¤–æä¾›ä¸€ä¸ªè®¿é—®è¯¥å•ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ï¼›</li></ul></li></ul><h2 id="å¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§"><a href="#å¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§" class="headerlink" title="å¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§"></a>å¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§</h2><p>é‚£ä¹ˆï¼Œå¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§ï¼Ÿ</p><h3 id="Java-çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€"><a href="#Java-çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€" class="headerlink" title="Java çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€"></a>Java çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€</h3><p>å¯¹äº Java æ¥è¯´ï¼Œè¦ç¡®ä¿ç±»çš„æ„é€ æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä½¿ç”¨ static final çš„ç§æœ‰æˆå‘˜å˜é‡å­˜æ”¾è¿™ä¸ªå”¯ä¸€å®ä¾‹ã€‚æˆ‘ä»¬è¿˜è¦æä¾›ä¸€ä¸ªè·å–å®ä¾‹çš„æ¥å£ï¼ˆç”±äºæˆ‘ä»¬è¦é€šè¿‡ç±»åè·å–å®ä¾‹ï¼Œæ‰€ä»¥æ¥å£æ–¹æ³•æ˜¯ static çš„ï¼‰ã€‚å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton instance=<span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äº static çš„å˜é‡ï¼Œç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å¯ä»¥å…±äº«è¿™ä¸ªå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ç±»åæ¥è®¿é—®å®ƒã€‚å†ä½¿ç”¨ final ä¿®é¥°è¿™ä¸ªå˜é‡ï¼Œä½¿å¾—å®ƒä¸èƒ½å†è¢«æ”¹å˜ã€‚</p></blockquote><p><a href="https://juejin.im/post/5b50b0dd6fb9a04f932ff53f#heading-4">æˆ³æ­¤å¤„æ·±å…¥äº†è§£ â†’</a></p><h3 id="Python-çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€"><a href="#Python-çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€" class="headerlink" title="Python çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€"></a>Python çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€</h3><p>ä»¥ä¸‹ä¸º Python ä½¿ç”¨è£…é¥°å™¨å®ç°çš„å•ä¾‹æ¨¡å¼ã€‚è¿™é‡Œå°†ä¸å¯å˜çš„<strong>ç±»åœ°å€</strong>å­˜æ”¾åœ¨äº† dict ä¸­ï¼Œå€¼ä¸ºé‚£ä¸ªå”¯ä¸€çš„å®ä¾‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Singleton</span>(<span class="params">cls</span>):</span><br><span class="line">    _instance = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getInstance</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">if</span> cls <span class="keyword">not</span> <span class="keyword">in</span> _instance:</span><br><span class="line">            _instance[cls] = cls()</span><br><span class="line">        <span class="keyword">return</span> _instance[cls]</span><br><span class="line">    <span class="keyword">return</span> getInstance</span><br><span class="line"></span><br><span class="line"><span class="meta">@Singleton</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">test_singleton</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    class1 = test_singleton()</span><br><span class="line">    class2 = test_singleton()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;class1 id: &#123;&#125;, class2 id: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>( <span class="built_in">id</span>(class1), <span class="built_in">id</span>(class2)))</span><br><span class="line">    <span class="built_in">print</span>(class1 == class2)</span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"><span class="comment"># class1 id: 1814844368152, class2 id: 1814844368152</span></span><br><span class="line"><span class="comment"># True</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://stackoverflow.com/questions/6760685/creating-a-singleton-in-python">Creating a singleton in Python</a></li><li><a href="http://c.biancheng.net/view/1338.html">å•ä¾‹æ¨¡å¼ï¼ˆå•ä¾‹è®¾è®¡æ¨¡å¼ï¼‰è¯¦è§£</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ mypy åš type check</title>
      <link href="/2020/03/06/%E4%BD%BF%E7%94%A8-mypy-%E5%81%9Atype-check/"/>
      <url>/2020/03/06/%E4%BD%BF%E7%94%A8-mypy-%E5%81%9Atype-check/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å®Œæ®‹ï¼ğŸ˜‚ï¼Œæœ€è¿‘çœ‹ä¹‹å‰å†™çš„ Python ä»£ç è€å¾—ç¢ç£¨è¿™æ¯”å˜é‡çš„ç±»å‹æ˜¯å•¥ï¼ˆ<del>Python æ— ç±»å‹ç³»ç»Ÿxxx</del>ï¼‰ï¼Œä¸æ„§æ˜¯æˆ‘å†™çš„ï¼</p><p>çœ‹æ®µä¹‹å‰å†™çš„å®ç°è¿­ä»£å™¨æ¨¡å¼çš„ä»£ç ï¼š</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŠ½è±¡è¿­ä»£å™¨ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Iterator</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">hasNext</span>():</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">next</span>():</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠ½è±¡èšé›†ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Aggregate</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">iterator</span>():</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BookShelf</span>(<span class="title class_ inherited__">Aggregate</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self._books = []</span><br><span class="line">        self._last = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getBookAt</span>(<span class="params">self, index</span>):</span><br><span class="line">        <span class="keyword">return</span> self._books[index]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">appendBook</span>(<span class="params">self, book</span>):</span><br><span class="line">        self._books.append(book)</span><br><span class="line">        self._last = self._last + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getLength</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._last</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">iterator</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> BookShelfIterator(self)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BookShelfIterator</span>(<span class="title class_ inherited__">Iterator</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, bookShelf</span>):</span><br><span class="line">        self._bookShelf = bookShelf</span><br><span class="line">        self._index = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">hasNext</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self._index &lt; self._bookShelf.getLength():</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">next</span>(<span class="params">self</span>):</span><br><span class="line">        book = self._bookShelf.getBookAt(self._index)</span><br><span class="line">        self._index = self._index + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> book</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self._name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getName</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._name</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    bookShelf = BookShelf()</span><br><span class="line">    bookShelf.appendBook(Book(<span class="string">&quot;A&quot;</span>))</span><br><span class="line">    bookShelf.appendBook(Book(<span class="string">&quot;B&quot;</span>))</span><br><span class="line">    bookShelf.appendBook(Book(<span class="string">&quot;C&quot;</span>))</span><br><span class="line">    bookShelf.appendBook(Book(<span class="string">&quot;D&quot;</span>))</span><br><span class="line"></span><br><span class="line">    it = bookShelf.iterator()</span><br><span class="line">    <span class="keyword">while</span> it.hasNext():</span><br><span class="line">        book = it.<span class="built_in">next</span>()</span><br><span class="line">        <span class="built_in">print</span>(book.getName())</span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸¢ä¸¢éš¾è¯»ï¼ˆä¸é€šè¯»çš„è¯ï¼Œä¼šä¹±çŒœæŸå˜é‡ç±»å‹ï¼‰ï¼Œå›æƒ³ä¹‹å‰åœ¨ PyCon China 2019 çš„å¤§ä¼šèµ„èŠæ›¾çœ‹åˆ°è¿‡ç±»å‹æ£€æŸ¥ç›¸å…³çš„æ¼”è®²ä¸»é¢˜ï¼Œå›é¡¾ä¸‹æ¼”è®²è§†é¢‘ã€‚æ°´ä¸€æ³¢ï¼Œå†™ç¯‡æ–‡ç« äº†è§£ä¸‹ Python æ ‡å‡†(<a href="https://www.python.org/dev/peps/pep-3107/">PEP 3107</a> &amp; <a href="https://www.python.org/dev/peps/pep-0484/">PEP 484</a> )æ”¯æŒçš„ mypyã€‚</p><blockquote><p>ç±»å‹ç³»ç»Ÿï¼šç¼–è¯‘æœŸçš„ç±»å‹æ¨å¯¼æ£€æŸ¥è§„åˆ™ï¼Œç±»å‹ç³»ç»Ÿå±äºä¸€ç§è½»é‡çº§çš„å½¢å¼åŒ–æ–¹æ³•ï¼ˆä¸€ç§æ•°å­¦æ–¹æ³•ï¼‰</p></blockquote><h2 id="ä½¿ç”¨-mypy"><a href="#ä½¿ç”¨-mypy" class="headerlink" title="ä½¿ç”¨-mypy"></a>ä½¿ç”¨-mypy</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£… mypy</span></span><br><span class="line">pip install mypy</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ç”¨ mypy åšç±»å‹æ£€æŸ¥</span></span><br><span class="line">mypy module_name.py</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹ä½¿ç”¨æ–¹å¼é€‚ç”¨äº Python 3.6 åŠä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚<strong>å€¼å¾—æ³¨æ„</strong>ï¼šmypy é»˜è®¤çš„æ¨å¯¼ç±»å‹ä¸å¯ä¸º None</p><h3 id="å˜é‡çš„ç±»å‹æ³¨é‡Š"><a href="#å˜é‡çš„ç±»å‹æ³¨é‡Š" class="headerlink" title="å˜é‡çš„ç±»å‹æ³¨é‡Š"></a>å˜é‡çš„ç±»å‹æ³¨é‡Š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">integer: <span class="built_in">int</span> = <span class="number">1</span></span><br><span class="line">string: <span class="built_in">str</span> = <span class="string">&quot;ShanSan&quot;</span></span><br><span class="line">err_str: <span class="built_in">str</span> = <span class="number">1</span>  <span class="comment"># error: Incompatible types in assignment</span></span><br><span class="line">child: <span class="built_in">bool</span> = <span class="literal">True</span></span><br><span class="line"><span class="comment"># mypy é»˜è®¤çš„æ¨å¯¼ç±»å‹ä¸å¯ä¸º None</span></span><br><span class="line">none: <span class="built_in">int</span> - <span class="literal">None</span>  <span class="comment"># error: Invalid type comment or annotation</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(integer, string)</span><br></pre></td></tr></table></figure><h3 id="å†…å»ºç±»å‹"><a href="#å†…å»ºç±»å‹" class="headerlink" title="å†…å»ºç±»å‹"></a>å†…å»ºç±»å‹</h3><p>å…³äºæ›´å¤š mypy çš„ç±»å‹ç³»ç»Ÿå†…å»ºçš„ç±»å‹å¯å‚è€ƒï¼š<a href="https://mypy.readthedocs.io/en/stable/builtin_types.html">https://mypy.readthedocs.io/en/stable/builtin_types.html</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Dict</span>, <span class="type">Tuple</span>, <span class="type">Optional</span>, Iterable, <span class="type">Union</span></span><br><span class="line"><span class="comment"># å¯¹äºæ˜ å°„(Map)æ•°æ®ç»“æ„ï¼Œéœ€è¦æŒ‡å®š key å’Œ value çš„ç±»å‹</span></span><br><span class="line">x: <span class="type">Dict</span>[<span class="built_in">str</span>, <span class="built_in">float</span>] = &#123;<span class="string">&#x27;field&#x27;</span>: <span class="number">2.0</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tuple éœ€è¦æŒ‡å®šæ‰€æœ‰å…ƒç´ çš„ç±»å‹</span></span><br><span class="line">x: <span class="type">Tuple</span>[<span class="built_in">int</span>, <span class="built_in">str</span>, <span class="built_in">float</span>] = (<span class="number">3</span>, <span class="string">&quot;yes&quot;</span>, <span class="number">7.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># error: Incompatible types in assignment (expression has type &quot;Tuple[int, str, float, int]&quot;, variable has type &quot;Tuple[int, str, float]&quot;)</span></span><br><span class="line">y: <span class="type">Tuple</span>[<span class="built_in">int</span>, <span class="built_in">str</span>, <span class="built_in">float</span>] = (<span class="number">3</span>, <span class="string">&quot;yes&quot;</span>, <span class="number">7.5</span>, <span class="number">11</span>)</span><br><span class="line"></span><br><span class="line">op: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span>  <span class="comment"># å¯ä¸º str æˆ– None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³›ç”¨å¯è¿­ä»£å¯¹è±¡</span></span><br><span class="line">l: Iterable = [<span class="number">1</span>]</span><br><span class="line">t: Iterable = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">d: Iterable = &#123;<span class="number">1</span>: <span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ä¸º str æˆ– int</span></span><br><span class="line">str_int1: <span class="type">Union</span>[<span class="built_in">str</span>, <span class="built_in">int</span>] = <span class="number">1</span></span><br><span class="line">str_int2: <span class="type">Union</span>[<span class="built_in">str</span>, <span class="built_in">int</span>] = <span class="string">&quot;ss&quot;</span></span><br><span class="line">str_int3: <span class="type">Union</span>[<span class="built_in">str</span>, <span class="built_in">int</span>] = <span class="literal">None</span>  <span class="comment"># error</span></span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°æ³¨è§£"><a href="#å‡½æ•°æ³¨è§£" class="headerlink" title="å‡½æ•°æ³¨è§£"></a>å‡½æ•°æ³¨è§£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> NoReturn</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>() -&gt; <span class="literal">None</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f2</span>() -&gt; NoReturn:  <span class="comment"># æ— è¿”å›å€¼</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plus</span>(<span class="params">num1: <span class="built_in">int</span>, num2: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸¦é»˜è®¤å€¼</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plus_default</span>(<span class="params">num1: <span class="built_in">int</span>, num2: <span class="built_in">int</span> = <span class="number">3</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¹å™¨çš„å‚æ•°ç±»å‹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">container_param</span>(<span class="params">names: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">        <span class="built_in">print</span>(name)</span><br></pre></td></tr></table></figure><h3 id="ç±»æˆå‘˜æ³¨è§£"><a href="#ç±»æˆå‘˜æ³¨è§£" class="headerlink" title="ç±»æˆå‘˜æ³¨è§£"></a>ç±»æˆå‘˜æ³¨è§£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>:</span><br><span class="line">    attr: <span class="built_in">int</span></span><br><span class="line">    <span class="comment"># å¸¦é»˜è®¤å€¼çš„å®ä¾‹å˜é‡</span></span><br><span class="line">    charge_percent: <span class="built_in">int</span> = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ²¡æœ‰ä»»ä½•è¿”å›å€¼åº”è¯¥æ³¨è§£ä¸º None</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¿½ç•¥å¯¹ self ç±»å‹çš„æ³¨è§£</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">my_method</span>(<span class="params">self, num: <span class="built_in">int</span>, str1: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> num * str1</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¯æŒè‡ªå®šä¹‰ç±»å‹çš„æ³¨è§£</span></span><br><span class="line">x: MyClass = MyClass()</span><br></pre></td></tr></table></figure><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>OKï¼Œ å·®ä¸å¤šäº†ï¼Œå¯¹ä¹‹å‰çš„è¿­ä»£å™¨æ¨¡å¼çš„ä»£ç æ”¹é€ ä¸€æ³¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span>, Iterable</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠ½è±¡è¿­ä»£å™¨ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Iterator</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">hasNext</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">next</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠ½è±¡èšé›†ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Aggregate</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">iterator</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BookShelf</span>(<span class="title class_ inherited__">Aggregate</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self._books: <span class="type">List</span>[Book] = []</span><br><span class="line">        self._last: <span class="built_in">int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getBookAt</span>(<span class="params">self, index: <span class="built_in">int</span></span>) -&gt; Book:</span><br><span class="line">        <span class="keyword">return</span> self._books[index]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">appendBook</span>(<span class="params">self, book: Book</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self._books.append(book)</span><br><span class="line">        self._last = self._last + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getLength</span>(<span class="params">self</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">return</span> self._last</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">iterator</span>(<span class="params">self</span>) -&gt; BookShelfIterator:</span><br><span class="line">        <span class="keyword">return</span> BookShelfIterator(self)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BookShelfIterator</span>(<span class="title class_ inherited__">Iterator</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, bookShelf</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self._bookShelf: BookShelf = bookShelf</span><br><span class="line">        self._index: <span class="built_in">int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">hasNext</span>(<span class="params">self</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">if</span> self._index &lt; self._bookShelf.getLength():</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">next</span>(<span class="params">self</span>) -&gt; Book:</span><br><span class="line">        book: Book = self._bookShelf.getBookAt(self._index)</span><br><span class="line">        self._index = self._index + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> book</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self._name: <span class="built_in">str</span> = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getName</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> self._name</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    bookShelf: BookShelf = BookShelf()</span><br><span class="line">    bookShelf.appendBook(Book(<span class="string">&quot;A&quot;</span>))</span><br><span class="line">    bookShelf.appendBook(Book(<span class="string">&quot;B&quot;</span>))</span><br><span class="line">    bookShelf.appendBook(Book(<span class="string">&quot;C&quot;</span>))</span><br><span class="line">    bookShelf.appendBook(Book(<span class="string">&quot;D&quot;</span>))</span><br><span class="line"></span><br><span class="line">    it: Iterator = bookShelf.iterator()</span><br><span class="line">    <span class="keyword">while</span> it.hasNext():</span><br><span class="line">        book: Book = it.<span class="built_in">next</span>()</span><br><span class="line">        <span class="built_in">print</span>(book.getName())</span><br></pre></td></tr></table></figure><p>emmm, èˆ’æœäº†ä¸€ä¸¢ä¸¢/(ã„’oã„’)/~~</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://github.com/python/mypy">https://github.com/python/mypy</a></li><li><a href="https://shimo.im/docs/dpq9q6hJttwVcqHy/read">PyCon China 2019 æˆéƒ½åˆ†ä¼šåœº-åˆ˜çŸ¥æ­-é™æ€ç±»å‹çš„ Python</a>, <a href="https://www.bilibili.com/video/av75148536?p=5">videoğŸ”—</a></li><li><a href="https://shimo.im/docs/HRdRxCDXtKy9TPVh/read">PyCon China 2019 åŒ—äº¬åˆ†ä¼šåœº-ä¾äº‘-ç±»å‹æ£€æŸ¥æ‹¯æ•‘ç²—å¿ƒå¼€å‘è€…</a>, <a href="https://www.bilibili.com/video/av75279850?p=9">videoğŸ”—</a></li><li><a href="https://mypy.readthedocs.io/en/stable/cheat_sheet_py3.html">Type hints cheat sheet (Python 3)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> é™æ€ç±»å‹æ£€æŸ¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´æ‚‰æŠ€æœ¯çš„æœ¬è´¨-Gitå†…éƒ¨åŸç†æ¢ç´¢</title>
      <link href="/2020/02/03/Git%E5%86%85%E9%83%A8%E5%8E%9F%E7%90%86%E6%8E%A2%E7%B4%A2/"/>
      <url>/2020/02/03/Git%E5%86%85%E9%83%A8%E5%8E%9F%E7%90%86%E6%8E%A2%E7%B4%A2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æ´æ‚‰æŠ€æœ¯çš„æœ¬è´¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨å±‚å‡ºä¸ç©·çš„æ¡†æ¶é¢å‰ä»èƒ½æ³°ç„¶å¤„ä¹‹ã€‚ç”¨äº†é‚£ä¹ˆä¹…çš„ Gitï¼Œä¸æ‡‚ç‚¹å†…éƒ¨åŸç†ï¼Œé‚£å¯ä¸è¡Œï¼æ‡‚ç‚¹åŸç†å¯ä»¥è®©æˆ‘ä»¬é‡åˆ°é—®é¢˜çš„æ—¶å€™èƒ½å¤Ÿæ›´å¥½æ›´å¿«çš„ç†æ¸…è§£å†³é—®é¢˜çš„æ€è·¯ã€‚</p><p>è¦çœŸæ­£è¯»æ‡‚æœ¬æ–‡å¯èƒ½éœ€è¦ä»¥ä¸‹åŸºç¡€ï¼š</p><ul><li>æœ‰ Git ä½¿ç”¨ç»éªŒ</li><li>å¯¹ Git çš„ä¸‰ä¸ªåˆ†åŒºæœ‰æ‰€äº†è§£</li><li>ç†Ÿæ‚‰å¸¸ç”¨çš„ Linux å‘½ä»¤</li><li>å¯¹ç»å…¸å“ˆå¸Œç®—æ³•æœ‰ä¸€å®šçš„äº†è§£ï¼Œæ¯”å¦‚<a href="https://zh.wikipedia.org/zh/SHA-1">SHA-1</a>ã€SHA-256ã€MD5ç­‰</li></ul><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæŠ›å‡ºå‡ ä¸ªé—®é¢˜ï¼Œç„¶åä¸€ä¸€è§£å†³ã€å›ç­”å®ƒä»¬</p><ul><li>.gitç‰ˆæœ¬åº“é‡Œçš„æ–‡ä»¶/ç›®å½•æ˜¯å¹²ä»€ä¹ˆçš„?</li><li>Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„ï¼Ÿ</li><li>å½“æˆ‘ä»¬æ‰§è¡Œgit addã€git commitæ—¶ï¼ŒGitèƒŒååšäº†ä»€ä¹ˆï¼Ÿ</li><li>Gitåˆ†æ”¯çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ?</li></ul><span id="more"></span><h1 id="Gitåˆ†åŒº"><a href="#Gitåˆ†åŒº" class="headerlink" title="Gitåˆ†åŒº"></a>Gitåˆ†åŒº</h1><p>åœ¨çœŸæ­£å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå›é¡¾ä¸‹Gitçš„ä¸‰ä¸ªåˆ†åŒºï¼ˆWorkspaceã€Index / Stageã€git repositoryï¼‰</p><ul><li>å·¥ä½œåŒºï¼ˆWorkspaceï¼‰ï¼šæ­¤å¤„è¿›è¡Œä»£ç æ–‡ä»¶çš„ç¼–è¾‘</li><li>ç´¢å¼•æˆ–ç§°æš‚å­˜åŒºï¼ˆIndex / Stageï¼‰ï¼šå­˜å‚¨æ–‡ä»¶çŠ¶æ€ä¿¡æ¯ï¼Œè¿›è¡Œcommitå‰ä¼šå¯¹æ­¤æ—¶çš„æ–‡ä»¶çŠ¶æ€ä½œå¿«ç…§ï¼ˆSnapshotï¼‰</li><li>Gitç‰ˆæœ¬åº“ï¼ˆgit repositoryï¼‰ï¼šç”±Git ObjectæŒä¹…è®°å½•æ¯ä¸€æ¬¡commitçš„å¿«ç…§å’Œé“¾å¼ç»“æ„çš„commitå˜æ›´å†å²</li></ul><p>å…ˆçœ‹ä¸‹ä»ã€ŠGot Gitã€‹å’Œç½‘ç»œä¸Šæ¬æ¥çš„Gitåˆ†åŒºå·¥ä½œåŸç†å›¾å’Œå¾…remoteçš„å·¥ä½œæµå†æ¬¡æ„Ÿæ€§å›é¡¾ä¸‹ä¹‹å‰ä½¿ç”¨Gitè‡ªå·±æ—¶æ€ä¹ˆæ“ä½œçš„</p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20200202210748.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20200202210748.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å·¥ä½œåŒºã€ç‰ˆæœ¬åº“ã€æš‚å­˜åŒºå·¥ä½œåŸç†å›¾"></p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20200202210624.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20200202210624.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¸¦Remoteçš„å·¥ä½œæµ"></p><p>ç›¸ä¿¡çœ‹äº†è¿™äº›ï¼Œä¼šå¯¹Gitæœ‰æ–°çš„è®¤çŸ¥ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ğŸ‰ï¼</p><h1 id="gitç‰ˆæœ¬åº“é‡Œçš„æ–‡ä»¶-ç›®å½•æ˜¯å¹²ä»€ä¹ˆçš„"><a href="#gitç‰ˆæœ¬åº“é‡Œçš„æ–‡ä»¶-ç›®å½•æ˜¯å¹²ä»€ä¹ˆçš„" class="headerlink" title=".gitç‰ˆæœ¬åº“é‡Œçš„æ–‡ä»¶/ç›®å½•æ˜¯å¹²ä»€ä¹ˆçš„"></a>.gitç‰ˆæœ¬åº“é‡Œçš„æ–‡ä»¶/ç›®å½•æ˜¯å¹²ä»€ä¹ˆçš„</h1><p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä»GitHub cloneä¸‹æ¥çš„ä¸€ä¸ªå®é™…é¡¹ç›®çš„ç‰ˆæœ¬åº“æ¥çœ‹ä¸‹è¿™äº›æ–‡ä»¶/ç›®å½•ï¼Œ<a href="https://github.com/yeshan333/Explore-Git">cloneä¸‹æ¥çš„repository</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/yeshan333/Explore-Git</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">ls</span> -F1</span><br><span class="line">config</span><br><span class="line">description</span><br><span class="line">HEAD</span><br><span class="line">hooks/</span><br><span class="line">index</span><br><span class="line">info/</span><br><span class="line">logs/</span><br><span class="line">objects/</span><br><span class="line">packed-refs</span><br><span class="line">refs/</span><br></pre></td></tr></table></figure><p><strong>æŒ‘å‡ ä¸ªé‡è¦æ–‡ä»¶/ç›®å½•çš„åšä¸‹è§£é‡Š</strong></p><ul><li>HEADæ–‡ä»¶ï¼šç”¨äºå­˜æ”¾å½“å‰æ‰€åœ¨åˆ†æ”¯çš„å¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨æ˜¯ä¸ªç¬¦å·å¼•ç”¨ï¼ˆsymbolic referenceï¼‰</li><li>indexæ–‡ä»¶ï¼šäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®ƒå°±æ˜¯æš‚å­˜åŒºï¼ˆStage Areaï¼‰ã€‚å®ƒæ˜¯ä¸€ä¸ªç›®å½•æ ‘ï¼Œè®°å½•äº†æ–‡ä»¶çš„æ—¶é—´æˆ³ã€æ–‡ä»¶é•¿åº¦ã€SHA-1ç­‰</li><li>refsç›®å½•ï¼šåŸºæœ¬æ‰€æœ‰çš„å¼•ç”¨ï¼ˆreferencesï¼‰æ–‡ä»¶éƒ½å­˜æ”¾åœ¨è¿™é‡Œï¼Œå¼•ç”¨æ–‡ä»¶ä¸­çš„å†…å®¹ä¸ºSHA-1å€¼ï¼Œä¸€èˆ¬æ˜¯commit objectçš„SHA-1å€¼</li><li>objectsç›®å½•ï¼šç”¨äºå­˜æ”¾æ•°æ®çš„æ‰€æœ‰ Git Objectå‡å­˜æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œæ¯ä¸ª Git Object å¯¹åº”ä¸€ä¸ªç›®å½•ï¼Œobjectå¯¹åº”çš„SHA-1å€¼çš„å‰ 2 ä½ä¸ºç›®å½•åï¼Œå 38 ä½ä¸ºæ–‡ä»¶å</li></ul><p>æŠ±ç€ä¸€äº›åˆæ­¥çš„è®¤çŸ¥ï¼Œæˆ‘ä»¬ç»§ç»­è§£å†³åé¢å‡ ä¸ªé—®é¢˜ï¼ŒåŠ æ·±å¯¹.gitç‰ˆæœ¬åº“å†…æ–‡ä»¶çš„ç†è§£</p><h1 id="Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„"><a href="#Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„" class="headerlink" title="Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„"></a>Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„</h1><p>è¦çŸ¥é“Gitå¦‚ä½•å­˜å‚¨ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹å¸¸è§çš„Gitå¯¹è±¡ï¼ŒGitå°±æ˜¯é€šè¿‡è¿™äº›å¯¹è±¡å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„ã€‚Git Objectæ˜¯Gitå­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„æœ€å°å•å…ƒï¼Œå¦‚ä¸‹ä¸ºå‡ ç§å¸¸è§çš„Git Objectä»¥åŠå®ƒä»¬çš„ä½œç”¨ï¼Œå®ƒä»¬ä¸€èˆ¬æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œè¿™äº›å¯¹è±¡ä½¿ç”¨40ä½çš„SHA-1å€¼è¿›è¡Œæ ‡è¯†ã€‚</p><ul><li><a href="https://en.wikipedia.org/wiki/Binary_large_object">blob</a>ï¼šç”¨äºå­˜å‚¨æ–‡ä»¶å†…å®¹ï¼ŒGitä¿å­˜æ–‡ä»¶çš„æ—¶å€™ä¸ä¼šä¿å­˜æ–‡ä»¶å</li><li>tree objectï¼šå½“å‰ç›®å½•ç»“æ„çš„ä¸€ä¸ªå¿«ç…§ï¼ˆSnapshotï¼‰ï¼Œå®ƒå­˜å‚¨äº†ä¸€æ¡æˆ–å¤šæ¡æ ‘è®°å½•ï¼ˆtree entriesï¼‰ï¼Œæ¯æ¡è®°å½•å«æœ‰ä¸€ä¸ªæŒ‡å‘æ•°æ®å¯¹è±¡ï¼ˆblobï¼‰æˆ–å­æ ‘å¯¹è±¡ï¼ˆå­æ ‘æœ¨å¯¹è±¡å¯ç†è§£ä¸ºå­ç›®å½•ï¼‰çš„SHA-1æŒ‡é’ˆä»¥åŠç›¸åº”çš„æ–‡ä»¶æ¨¡å¼ã€ç±»å‹ã€æ–‡ä»¶åï¼Œç”¨äºè¡¨ç¤ºå†…å®¹ä¹‹é—´çš„ç›®å½•å±‚æ¬¡å…³ç³»</li><li>commit objectï¼šå­˜å‚¨<strong>é¡¶å±‚tree object</strong>çš„SHA-1å€¼ã€ä½œè€…/æäº¤è€…ä¿¡æ¯+æ—¶é—´æˆ³ä»¥åŠæäº¤æ³¨é‡Šï¼Œå¦‚æœæœ‰çˆ¶commit objectï¼Œè¿˜ä¼šä¿å­˜æœ‰è¿™ä¸ªcommit objectå¯¹åº”çš„SHA-1å€¼ã€‚å¯¹äºmerge commitå¯èƒ½ä¼šæœ‰å¤šä¸ªçˆ¶commit object</li><li>tag objectï¼šç”¨äºæ ‡è®°commit objectã€‚å…³äº<a href="https://git-scm.com/book/en/v2/Git-Internals-Git-References">tag object</a></li></ul><p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…çš„ç‰ˆæœ¬åº“äº†è§£ä¸‹è¿™äº›å¯¹è±¡ï¼Œä½¿ç”¨<a href="https://git-scm.com/docs/git-log#Documentation/git-log.txt---prettyltformatgt"><code>git log</code></a>æŸ¥çœ‹è¿™ä¸ªç‰ˆæœ¬åº“è¯¦å°½çš„å†å²æäº¤è®°å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --pretty=raw</span><br><span class="line">commit ee8a0dbc0c6fe89e6ff39b16c77543e8e2c6475b</span><br><span class="line">tree fb12b3e52ce18ce281bfc2b11a5e4350c2d10358</span><br><span class="line">parent 7b94dcbe89c9534913854284b4af727a9a5dfc84</span><br><span class="line">author yeshan333 &lt;1329441308@qq.com&gt; 1580629391 +0800</span><br><span class="line">committer yeshan333 &lt;1329441308@qq.com&gt; 1580629391 +0800</span><br><span class="line"></span><br><span class="line">    final commit</span><br><span class="line"></span><br><span class="line">commit 7b94dcbe89c9534913854284b4af727a9a5dfc84</span><br><span class="line">tree 8feb4afbab18e8d386413224a9e74f871c15a5ca</span><br><span class="line">author yeshan333 &lt;1329441308@qq.com&gt; 1580629170 +0800</span><br><span class="line">committer GitHub &lt;noreply@github.com&gt; 1580629170 +0800</span><br><span class="line"></span><br><span class="line">    Initial commit</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>Gitæä¾›äº†ä¸€æŠŠéå¸¸å¥½ç”¨çš„ç‘å£«å†›åˆ€ğŸ”ªç»™æˆ‘ä»¬å‰–æè¿™äº›å¯¹è±¡ï¼Œå®ƒæ˜¯å°±æ˜¯<code>cat-file</code>ï¼Œé€šè¿‡<code>-t</code>å‚æ•°å¯ä»¥æŸ¥çœ‹objectçš„ç±»å‹ï¼Œé€šè¿‡<code>-p</code>å‚æ•°æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹objectå­˜å‚¨çš„å…·ä½“å†…å®¹ã€‚æŸ¥çœ‹ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°objectå¯¹åº”çš„SHA-1å€¼ï¼Œå¯ä¸å¿…å†™å®Œï¼Œä»å¤´å¼€å§‹çš„å‰å‡ ä½ä¸å†²çªå³å¯ã€‚</strong><a href="https://git-scm.com/docs/git-cat-file">git cat-file</a></p><p>è®©æˆ‘ä»¬é€šè¿‡å®ƒæŸ¥çœ‹ä¸‹SHA-1å€¼<code>ee8a0dbc0c6fe89e6ff39b16c77543e8e2c6475b</code>å¯¹åº”çš„commit objectçš„ç±»å‹ä»¥åŠå­˜æ”¾çš„å†…å®¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git cat-file -t ee8a</span><br><span class="line">commit</span><br><span class="line"></span><br><span class="line">$ git cat-file -p ee8a</span><br><span class="line">tree fb12b3e52ce18ce281bfc2b11a5e4350c2d10358</span><br><span class="line">parent 7b94dcbe89c9534913854284b4af727a9a5dfc84</span><br><span class="line">author yeshan333 &lt;1329441308@qq.com&gt; 1580629391 +0800</span><br><span class="line">committer yeshan333 &lt;1329441308@qq.com&gt; 1580629391 +0800</span><br><span class="line"></span><br><span class="line">final commit</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬å†æŸ¥çœ‹ä¸‹è¿™ä¸ªcommit objectï¼ˆee8aï¼‰å­˜å‚¨çš„tree objectï¼ˆfb12ï¼‰çš„ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git cat-file -p fb12</span><br><span class="line">100644 blob 6116a7dd8f752dabff8730a46b46846b2d0a696b    README.md</span><br><span class="line">040000 tree 41ed97c2adb97658107069582b6a27e474b4cc64    <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">$ git cat-file -t fb12</span><br><span class="line">tree</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çŸ¥é“tree objectå­˜å‚¨äº†ä¸€æ¡æˆ–å¤šæ¡æ ‘è®°å½•ï¼ˆtree entriesï¼‰ï¼Œæ¯æ¡è®°å½•å«æœ‰ä¸€ä¸ªæŒ‡å‘æ•°æ®å¯¹è±¡ï¼ˆblobï¼‰æˆ–å­æ ‘å¯¹è±¡ï¼ˆå­æ ‘æœ¨å¯¹è±¡å¯ç†è§£ä¸ºå­ç›®å½•ï¼‰çš„SHA-1æŒ‡é’ˆä»¥åŠç›¸åº”çš„æ–‡ä»¶æ¨¡å¼ã€ç±»å‹ã€æ–‡ä»¶åã€‚100644å³ä¸ºå¯¹åº”çš„æ–‡ä»¶æ¨¡å¼ï¼Œ100644è¡¨ç¤ºæ™®é€šæ–‡æœ¬æ–‡ä»¶ï¼Œ040000è¡¨ç¤ºç›®å½•æ–‡ä»¶ã€‚<a href="https://cloud.tencent.com/developer/ask/82974/answers/created">å…³äºæ–‡ä»¶æ¨¡å¼çš„ä¸€ç‚¹ç–‘é—®</a></p><p>è®©æˆ‘ä»¬å†çœ‹ä¸‹tree objectï¼ˆfb12ï¼‰å­˜å‚¨çš„SHA-1æŒ‡é’ˆï¼ˆ6116ï¼‰å¯¹åº”çš„blobï¼ˆ6116ï¼‰å­˜æ”¾çš„å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git cat-file -p 6116</span><br><span class="line"><span class="comment"># Explore-Git</span></span><br><span class="line">$ git cat-file -t 6116</span><br><span class="line">blob</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Niceï¼Œå¾ˆå¥½çš„å¯¹åº”äº†ä¹‹å‰å¯¹blobã€tree objectã€commit objectçš„æè¿°ã€‚å…³äºæ–‡ä»¶çš„å¤§éƒ¨åˆ†ä¿¡æ¯éƒ½å­˜æ”¾åœ¨è¿™äº›objectä¸­ã€‚</p><h1 id="å½“æˆ‘ä»¬æ‰§è¡Œgit-addã€git-commitæ—¶ï¼ŒGitèƒŒååšäº†ä»€ä¹ˆ"><a href="#å½“æˆ‘ä»¬æ‰§è¡Œgit-addã€git-commitæ—¶ï¼ŒGitèƒŒååšäº†ä»€ä¹ˆ" class="headerlink" title="å½“æˆ‘ä»¬æ‰§è¡Œgit addã€git commitæ—¶ï¼ŒGitèƒŒååšäº†ä»€ä¹ˆ"></a>å½“æˆ‘ä»¬æ‰§è¡Œgit addã€git commitæ—¶ï¼ŒGitèƒŒååšäº†ä»€ä¹ˆ</h1><p>è§£ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å®è·µå»ä¸€æ­¥æ­¥æ„Ÿå—GitèƒŒåçš„æ“ä½œã€‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„ä¾‹å­æ„Ÿå—ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ—¶åˆ»å…³æ³¨.git/objectsè¿™ä¸ªç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mkdir</span> demo</span><br><span class="line">$ <span class="built_in">cd</span> demo</span><br><span class="line">$ git init <span class="comment"># åˆå§‹åŒ–Gitä»“åº“</span></span><br><span class="line">$ find .git/objects -<span class="built_in">type</span> f <span class="comment"># æ²¡æœ‰æ–‡ä»¶</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;test&quot;</span> &gt; test.txt</span><br><span class="line">$ <span class="built_in">mkdir</span> hi</span><br><span class="line">$ <span class="built_in">cd</span> hi</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;Hello&quot;</span> &gt; hello.txt</span><br><span class="line">$ <span class="built_in">cd</span> ..</span><br><span class="line">$ find .git/objects -<span class="built_in">type</span> f</span><br><span class="line">$ <span class="comment"># ä»€ä¹ˆéƒ½æ²¡æœ‰</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬åˆ›å»ºå…ˆäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œtest.txtã€hello.txtï¼Œå…¶ä¸­hello.txtæ–‡ä»¶æ”¾åˆ°äº†hiç›®å½•ä¸­ï¼Œç„¶åæˆ‘ä»¬æŸ¥çœ‹äº†.git/objectsç›®å½•ï¼Œæ²¡æœ‰æ–‡ä»¶ã€‚æ¥ä¸‹æ¥å°±æ˜¯é‡å¤´æˆäº†ï¼Œæˆ‘ä»¬è¦å°†å½“å‰ç›®å½•çš„æ–‡ä»¶/ç›®å½•ï¼ˆLinuxä¸€åˆ‡çš†æ–‡ä»¶ï¼‰æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆstage/indexï¼‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ find .git/objects -<span class="built_in">type</span> f</span><br><span class="line">.git/objects/9d/aeafb9864cf43055ae93beb0afd6c7d144bfa4</span><br><span class="line">.git/objects/e9/65047ad7c57865823c7d992b1d046ea66edf78</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ‰§è¡Œäº†<code>git add</code>ä¹‹åç”Ÿæˆäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œè®©æˆ‘ä»¬é€šè¿‡<code>git cat-file</code>çœ‹çœ‹è¿™ä¸¤ä¸ªæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git cat-file -t 9dae</span><br><span class="line">blob</span><br><span class="line">$ git cat-file -p 9dae</span><br><span class="line"><span class="built_in">test</span> <span class="comment"># test.txtæ–‡ä»¶ä¸­çš„å†…å®¹</span></span><br><span class="line">$ git cat-file -t e965</span><br><span class="line">blob</span><br><span class="line">$ git cat-file -p e965</span><br><span class="line">Hello <span class="comment"># hi/hello.txtæ–‡ä»¶ä¸­çš„å†…å®¹</span></span><br></pre></td></tr></table></figure><p>å“¦ï¼ŒGitä¸ºæˆ‘ä»¬ç”Ÿæˆäº†ä¸¤ä¸ªobjectï¼Œä¸¤ä¸ªblobï¼Œå­˜æ”¾çš„æ˜¯test.txtã€hello.txtçš„å†…å®¹ï¼Œè®©æˆ‘ä»¬commitä¸€ä¸‹çœ‹çœ‹Gitåˆåšäº†ä»€ä¹ˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ find .git/objects -<span class="built_in">type</span> f</span><br><span class="line">.git/objects/27/1c49aa4a2c8eb1b2ef503c19378aa6810fca1e</span><br><span class="line">.git/objects/2e/8ebea76975c98806e73c0b7aea6c40c58d427c</span><br><span class="line">.git/objects/8c/3c7fbcd903744b20fd7567a1fcefa99133b5bc</span><br><span class="line">.git/objects/9d/aeafb9864cf43055ae93beb0afd6c7d144bfa4</span><br><span class="line">.git/objects/e9/65047ad7c57865823c7d992b1d046ea66edf78</span><br><span class="line">$ git cat-file -t 271c</span><br><span class="line">commit</span><br><span class="line">$ git cat-file -t 2e8e</span><br><span class="line">tree</span><br><span class="line">$ git cat-file -t 8c3c</span><br><span class="line">tree</span><br><span class="line">$</span><br><span class="line">$ git cat-file -p 271c</span><br><span class="line">tree 2e8ebea76975c98806e73c0b7aea6c40c58d427c</span><br><span class="line">author root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580651827 +0800</span><br><span class="line">committer root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580651827 +0800</span><br><span class="line"></span><br><span class="line">Hello Git</span><br><span class="line">$ git cat-file -p 8c3c</span><br><span class="line">100644 blob e965047ad7c57865823c7d992b1d046ea66edf78    hello.txt</span><br><span class="line">$ git cat-file -p 2e8e</span><br><span class="line">040000 tree 8c3c7fbcd903744b20fd7567a1fcefa99133b5bc    hi</span><br><span class="line">100644 blob 9daeafb9864cf43055ae93beb0afd6c7d144bfa4    test.txt</span><br></pre></td></tr></table></figure><p>å“¦ï¼ŒcommitåGitä¸ºæˆ‘ä»¬æ–°åˆ›å»ºäº†3ä¸ªobjectï¼Œåˆ†åˆ«æ˜¯æ ¹æ ‘å¯¹è±¡tree objectï¼ˆ2e8eï¼‰ã€å­æ ‘å¯¹è±¡tree objectï¼ˆ8c3cï¼‰ã€commit objectï¼ˆ271cï¼‰ã€‚ç°åœ¨ä¸€å…±æœ‰5ä¸ªGit Objectã€‚è¿™äº›objectå­˜æ”¾çš„å†…å®¹ç¬¦åˆæˆ‘ä»¬åœ¨è§£ç­”<strong>Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„</strong>æ—¶å¯¹å®ƒä»¬çš„è¡¨è¿°ã€‚Gitåœ¨addã€commitåæœ‰æ¡ä¸ç´Šçš„æŠŠå®ƒä»¬ç»„ç»‡äº†èµ·æ¥ã€‚tqlğŸ‘</p><p>è®©æˆ‘ä»¬çœ‹ä¸‹æ­¤æ¬¡æäº¤çš„æ—¥å¿—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --pretty=raw</span><br><span class="line">commit 271c49aa4a2c8eb1b2ef503c19378aa6810fca1e</span><br><span class="line">tree 2e8ebea76975c98806e73c0b7aea6c40c58d427c</span><br><span class="line">author root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580651827 +0800</span><br><span class="line">committer root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580651827 +0800</span><br><span class="line"></span><br><span class="line">    Hello Git</span><br></pre></td></tr></table></figure><p>é—®é¢˜æ¥äº†ï¼ŒGitæ˜¯å¦‚ä½•ç»„ç»‡è¿™äº›objectçš„â“ä»¤äººå…´å¥‹çš„æ˜¯Gitåœ¨æä¾›ç»™æˆ‘ä»¬è¿™äº›é¡¶å±‚APIå»æ„‰å¿«ä½¿ç”¨çš„åŒæ—¶è¿˜æä¾›äº†ä¸€äº›è¾ƒä¸ºåº•å±‚çš„APIè®©æˆ‘ä»¬èƒ½å¤Ÿæ›´æ·±å…¥çš„äº†è§£å®ƒã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†é€šè¿‡éƒ¨åˆ†åº•å±‚çš„APIæ¥é‡ç°æœ¬æ¬¡commit logçš„åˆ›å»ºè¿‡ç¨‹ã€‚ä¸»è¦ç”¨åˆ°çš„åº•å±‚APIå¦‚ä¸‹ï¼š</p><ul><li><a href="https://git-scm.com/docs/git-hash-object#Documentation/git-hash-object.txt--w">git hash-object</a>ï¼šç”Ÿæˆblob</li><li><a href="https://git-scm.com/docs/git-update-index">git update-index</a>ï¼šå¯¹æš‚å­˜åŒºè¿›è¡Œæ“ä½œ</li><li><a href="https://git-scm.com/docs/git-write-tree">git write-tree</a>ï¼šæ ¹æ®å½“å‰æš‚å­˜åŒºï¼ˆindexï¼‰çŠ¶æ€åˆ›å»ºä¸€ä¸ªtree object</li><li><a href="https://git-scm.com/docs/git-read-tree">git read-tree</a>ï¼šå°†tree objectè¯»å…¥æš‚å­˜åŒº</li><li><a href="https://git-scm.com/docs/git-commit-tree#_synopsis">git commit-tree</a>ï¼šåˆ›å»ºcommit object</li></ul><p><strong>é‡ç°æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p><p>1ã€å…ˆåˆå§‹åŒ–ç‰ˆæœ¬åº“ï¼Œå†ä¸ºå†…å®¹åˆ†åˆ«ä¸º<code>test</code>çš„test.txtã€<code>Hello</code>çš„hello.txtåˆ›å»ºä¸¤ä¸ªblobï¼Œblobä¸å­˜å‚¨æ–‡ä»¶å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mkdir</span> <span class="built_in">test</span></span><br><span class="line">$ <span class="built_in">cd</span> <span class="built_in">test</span></span><br><span class="line">git init</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;test&#x27;</span> | git hash-object -w --stdin</span><br><span class="line">9daeafb9864cf43055ae93beb0afd6c7d144bfa4</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;Hello&#x27;</span> | git hash-object -w --stdin</span><br><span class="line">e965047ad7c57865823c7d992b1d046ea66edf78</span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨<code>git update-index -add</code>å°†blobï¼ˆe965ï¼‰åŠ å…¥æš‚å­˜åŒºï¼Œä½¿ç”¨<code>--cacheinfo</code>å‚æ•°æŒ‡å®šæ–‡ä»¶æ¨¡å¼ã€SHA-1å€¼ã€æ–‡ä»¶åï¼ˆhello.txtï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$  git update-index --add --cacheinfo 100644 e965047ad7c57865823c7d992b1d046ea66edf78 hello.txt</span><br></pre></td></tr></table></figure><p>3ã€ä½¿ç”¨<code>git write-tree</code>å°†å½“å‰æš‚å­˜åŒºçŠ¶æ€å†™å…¥ä¸€ä¸ªtree objectï¼ˆ8c3cï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git write-tree</span><br><span class="line">8c3c7fbcd903744b20fd7567a1fcefa99133b5bc</span><br></pre></td></tr></table></figure><p>4ã€å°†hello.txtç§»å‡ºæš‚å­˜åŒºï¼Œå°†blobï¼ˆ9daeï¼‰åŠ å…¥æš‚å­˜åŒºï¼ˆå³å°†test.txtåŠ å…¥æš‚å­˜åŒºï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git update-index --remove hello.txt</span><br><span class="line">$ git update-index --add --cacheinfo 100644 9daeafb9864cf43055ae93beb0afd6c7d144bfa4 test.txt</span><br></pre></td></tr></table></figure><p>5ã€ä½¿ç”¨<code>git read-tree</code>å°†å·²æœ‰tree objectä½œä¸º<strong>å­æ ‘å¯¹è±¡</strong>åŠ å…¥æš‚å­˜åŒºï¼Œé€šè¿‡<code>--prefix</code>è®¾ç½®åç§°ä¸ºhi</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git read-tree --prefix=hi 8c3c7fbcd903744b20fd7567a1fcefa99133b5bc</span><br></pre></td></tr></table></figure><p>6ã€è®°å½•ä¸‹å½“å‰æš‚å­˜åŒºçŠ¶æ€åˆ°tree object</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git write-tree</span><br><span class="line">2e8ebea76975c98806e73c0b7aea6c40c58d427c</span><br></pre></td></tr></table></figure><p>7ã€ä½¿ç”¨<code>git commit-tree</code>æ ¹æ®tree objectçš„SHA-1å€¼åˆ›å»ºcommit object</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;Hello Git&#x27;</span> | git commit-tree 2e8e</span><br><span class="line">2616a5b40ead79df23736f61b346080423f438fe</span><br></pre></td></tr></table></figure><p>8ã€æŸ¥çœ‹commit logï¼Œæ²¡å¤šå¤§æ¯›ç—…ï¼Œæ”¶å·¥ğŸ‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --pretty=raw 2616</span><br><span class="line">commit 2616a5b40ead79df23736f61b346080423f438fe</span><br><span class="line">tree 2e8ebea76975c98806e73c0b7aea6c40c58d427c</span><br><span class="line">author root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580660050 +0800</span><br><span class="line">committer root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580660050 +0800</span><br><span class="line"></span><br><span class="line">    Hello Git</span><br><span class="line"></span><br><span class="line">$ git cat-file -p 2616</span><br><span class="line">tree 2e8ebea76975c98806e73c0b7aea6c40c58d427c</span><br><span class="line">author root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580660050 +0800</span><br><span class="line">committer root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580660050 +0800</span><br><span class="line"></span><br><span class="line">Hello Git</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç›¸ä¿¡åˆ°äº†è¿™é‡Œï¼Œå·²ç»å¯¹Gitåœ¨æˆ‘ä»¬<code>git add</code>ã€<code>git commit</code>æ—¶åšäº†ä»€ä¹ˆæœ‰äº†ä¸€å®šçš„äº†è§£ã€‚å¦‚æœæƒ³äº†è§£Git Objectå¯¹åº”çš„SHA-1å€¼å¦‚ä½•ç”Ÿæˆå’Œå¦‚ä½•å¤ç°å¹¶ä¸²è”å¤šä¸ªcommit objectå½¢æˆä¸€ä¸ªæäº¤å†å²é“¾ï¼Œå¯æŸ¥çœ‹ã€ŠPro Gitã€‹çš„ç¬¬åç« ç¬¬äºŒå°èŠ‚æˆ–å‚çœ‹åé¢çš„å‚è€ƒèµ„æ–™ã€‚</p><h1 id="Gitåˆ†æ”¯çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ"><a href="#Gitåˆ†æ”¯çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="Gitåˆ†æ”¯çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ"></a>Gitåˆ†æ”¯çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ</h1><p><strong>Gitåˆ†æ”¯çš„æœ¬è´¨æ˜¯æŒ‡å‘æŸä¸€ç³»åˆ—æäº¤ä¹‹é¦–çš„æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚</strong>Gitä½¿ç”¨å¼•ç”¨çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯æˆ‘ä»¬ä¸éœ€è¦èŠ±å¿ƒæ€å»è®°é‚£äº›Git Objecté•¿é•¿çš„SHA-1å€¼ã€‚å¼•ç”¨æ˜¯å­˜æ”¾SHA-1å€¼çš„æ–‡ä»¶ï¼Œå®ƒä»¬ä½äº<code>.git/refs</code>ç›®å½•ä¸­ã€‚Gitæä¾›äº†ä¸€ä¸ªAPIè®©æˆ‘ä»¬æ›´æ–°å¼•ç”¨-<code>update-ref</code>ï¼Œç¤ºä¾‹å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git update-ref refs/heads/master 2616 <span class="comment"># 2616ä¸ºä¹‹å‰æµ®ç°commit logåˆ›å»ºçš„commit objectçš„SHA-1å€¼</span></span><br><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit 2616a5b40ead79df23736f61b346080423f438fe (HEAD -&gt; master)</span><br><span class="line">Author: root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt;</span><br><span class="line">Date:   Mon Feb 3 00:14:10 2020 +0800</span><br><span class="line"></span><br><span class="line">    Hello Git</span><br><span class="line">$ git <span class="built_in">log</span> master</span><br><span class="line">commit 2616a5b40ead79df23736f61b346080423f438fe (HEAD -&gt; master)</span><br><span class="line">Author: root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt;</span><br><span class="line">Date:   Mon Feb 3 00:14:10 2020 +0800</span><br><span class="line"></span><br><span class="line">    Hello Git</span><br><span class="line">$ <span class="built_in">cat</span> .git/refs/heads/master</span><br><span class="line">2616a5b40ead79df23736f61b346080423f438fe</span><br></pre></td></tr></table></figure><h2 id="HEADå¼•ç”¨"><a href="#HEADå¼•ç”¨" class="headerlink" title="HEADå¼•ç”¨"></a>HEADå¼•ç”¨</h2><p>åœ¨ä»‹ç»HEADæ–‡ä»¶çš„æ—¶å€™æˆ‘ä»¬è¯´è¿‡å®ƒå­˜æ”¾çš„æ˜¯å½“å‰æ‰€åœ¨åˆ†æ”¯çš„å¼•ç”¨ï¼Œè€Œä¸”è¿™ä¸ªå¼•ç”¨æ˜¯ä¸ª<strong>ç¬¦å·å¼•ç”¨</strong>ï¼ˆsymbolic referenceï¼‰ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯ç¬¦å·å¼•ç”¨ï¼Ÿ<strong>å®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘å…¶å®ƒå¼•ç”¨çš„æŒ‡é’ˆ</strong>ã€‚æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¹‹å‰cloneä¸‹æ¥çš„<a href="https://github.com/yeshan333/Explore-Git">Explore-Git</a>çš„HEADæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> .git/HEAD</span><br><span class="line">ref: refs/heads/master</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬checkoutåˆ°æŸä¸ªåˆ†æ”¯æ—¶ï¼ŒHEADæ–‡ä»¶å†…å®¹å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git branch yeshan</span><br><span class="line">$ git checkout yeshan</span><br><span class="line">Switched to branch <span class="string">&#x27;yeshan&#x27;</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> .git/HEAD</span><br><span class="line">ref: refs/heads/yeshan</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼ŒæŠ›å‡ºçš„é—®é¢˜å·²è§£ç­”å®Œæ¯•ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><p><a href="https://developer.aliyun.com/article/720615?spm=a2c6h.12873639.0.0.176712eeP7J5d0&tdsourcetag=s_pctim_aiomsg">Go Gitï¼šé¢å‘æœªæ¥çš„ä»£ç å¹³å°</a>ï¼Œäº†è§£ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å‘å±•å’ŒGitç°å­˜çš„é—®é¢˜ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæœªæ¥çš„èµ°å‘</p></li><li><p><a href="https://github.com/gotgit/gotgit">ã€ŠGitæƒå¨æŒ‡å—ã€‹</a> - <a href="http://www.worldhello.net/gotgit/02-git-solo/030-head-master-commit-refs.html">Gitå¯¹è±¡æ¢ç§˜</a></p></li><li><p><a href="https://mp.weixin.qq.com/s/UQKrAR3zsdTRz8nFiLk2uQ">è¿™æ‰æ˜¯çœŸæ­£çš„Gitâ€”â€”Gitå†…éƒ¨åŸç†æ­ç§˜ï¼</a></p></li><li><p><a href="https://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Basic-Snapshotting">ã€ŠPro Gitã€‹- Basic Snapshotting</a></p></li><li><p><a href="http://gitbook.liuhui998.com/1_2.html">Gitå¯¹è±¡æ¨¡å‹</a></p></li><li><p><a href="https://github.com/tank0317/git-learning/issues/5">ä½ çŸ¥é“ Git æ˜¯å¦‚ä½•åšç‰ˆæœ¬æ§åˆ¶çš„å—</a></p></li><li><p><a href="https://marklodato.github.io/visual-git-guide/index-zh-cn.html#rebase">å›¾è§£Git</a></p></li><li><p><a href="https://developer.github.com/v3/git/blobs/">GitHub Developer REST API Git Blobs</a></p></li><li><p><a href="https://cloud.tencent.com/developer/ask/82974/answers/created">å¦‚ä½•è¯»å–git-ls-treeè¾“å‡ºçš„æ¨¡å¼å­—æ®µ</a></p></li><li><p><a href="https://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html">å¸¸ç”¨Gitå‘½ä»¤æ¸…å•</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React+Flaskæ‰“é€ å‰åç«¯åˆ†ç¦»é¡¹ç›®å¼€å‘ç¯å¢ƒ</title>
      <link href="/2020/01/13/React-Flask%E6%89%93%E9%80%A0%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
      <url>/2020/01/13/React-Flask%E6%89%93%E9%80%A0%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>æ–°çš„ä¸€å¹´ï¼Œå¼€å§‹æ°´ç¬¬ä¸€ç¯‡æŠ€æœ¯æ–‡ã€‚ç¢°å·§æœ€è¿‘Reactç©å¾—å¤šï¼Œæ’¸ä¸€ç¯‡æ–‡ç« çºªå¿µä¸€ä¸‹å¼€å‘ç¯å¢ƒçš„æ­å»ºã€‚ğŸ¤”</p></blockquote><ul><li>å¼€ç¯‡ä¸¤é—®ï¼š<ul><li>ä»€ä¹ˆæ˜¯Reactï¼Ÿï¼šReactï¼Œç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼ˆå®˜ç½‘å¤åˆ¶ç²˜è´´ï¼ŒçœŸé¦™ï¼Œä¸ç”¨æ€ä¹ˆå†™templateäº†ï¼Œèˆ’æœ</li><li>ä»€ä¹ˆæ˜¯Flaskï¼Ÿï¼šä¸€ä¸ªä½¿ç”¨Pythonç¼–å†™çš„è½»é‡çº§Webåº”ç”¨æ¡†æ¶ã€‚ç”¨æ¥å†™<a href="https://jimmysong.io/kubernetes-handbook/cloud-native/cloud-native-definition.html">äº‘åŸç”Ÿåº”ç”¨</a>å¾ˆé¦™ï¼</li></ul></li></ul><p>å…ˆçœ‹ä¸‹æœ€ç»ˆçš„é¡¹ç›®ç»“æ„ï¼Œå¦‚ä¸‹ï¼š<a href="https://github.com/yeshan333/React-Flask--Development-Environment">ã€Šé¡¹ç›®æºç ã€‹</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ app.py</span><br><span class="line">â”œâ”€â”€ <span class="built_in">env</span></span><br><span class="line">|  â”œâ”€â”€ Include</span><br><span class="line">|  â”œâ”€â”€ Lib</span><br><span class="line">|  â”œâ”€â”€ LICENSE.txt</span><br><span class="line">|  â”œâ”€â”€ Scripts</span><br><span class="line">|  â””â”€â”€ tcl</span><br><span class="line">â”œâ”€â”€ frontend</span><br><span class="line">|  â”œâ”€â”€ build</span><br><span class="line">|  â”œâ”€â”€ node_modules</span><br><span class="line">|  â”œâ”€â”€ package-lock.json</span><br><span class="line">|  â”œâ”€â”€ package.json</span><br><span class="line">|  â”œâ”€â”€ public</span><br><span class="line">|  â”œâ”€â”€ README.md</span><br><span class="line">|  â””â”€â”€ src</span><br><span class="line">â”œâ”€â”€ static</span><br><span class="line">|  â””â”€â”€ js</span><br><span class="line">â””â”€â”€ templates</span><br><span class="line">   â””â”€â”€ index.html</span><br></pre></td></tr></table></figure><span id="more"></span><blockquote><p>å¼€å‘ç¯å¢ƒï¼šWindows+Flask+React+Git Bash+vscode</p></blockquote><h1 id="Backend-Flask"><a href="#Backend-Flask" class="headerlink" title="Backend-Flask"></a>Backend-Flask</h1><blockquote><p>ä¸ªäººæ¯”è¾ƒå–œæ¬¢ç”¨CLIï¼ŒSoï¼Œé¡¹ç›®å¼€å‘ä¾èµ–ä½¿ç”¨<code>virtualenv+pip</code>ç®¡ç†ï¼Œ<a href="https://github.com/pypa/pipenv">pipenv</a>ä¹Ÿè¿˜è¡Œï¼Œè™½ç„¶lock packageæœ‰ç‚¹ä¹…ã€‚å¬è¯´æ¯”è¾ƒæ–°çš„<a href="https://github.com/python-poetry/poetry">poetry</a>å¾ˆé¦™ï¼Ÿ</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€å®‰è£…virtualenv</span></span><br><span class="line">pip install virtualenv</span><br><span class="line"><span class="comment"># 2ã€ä¸ºé¡¹ç›®ï¼ˆFlask_Reactï¼‰åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ-&gt;env</span></span><br><span class="line">virtualenv <span class="built_in">env</span></span><br><span class="line"><span class="comment"># 3ã€æ¿€æ´»è™šæ‹Ÿç¯å¢ƒenv</span></span><br><span class="line"><span class="built_in">source</span> <span class="built_in">env</span>/Scripts/activate</span><br><span class="line"><span class="comment"># 4ã€å®‰è£…é¡¹ç›®ä¾èµ–</span></span><br><span class="line">pip install -r requirments.txt</span><br><span class="line"><span class="comment"># 5ã€åˆ›å»ºå¥½templateså’Œstaticç›®å½•ï¼Œç”¨äºå­˜æ”¾Reactæ‰“åŒ…å¥½çš„æ¸²æŸ“æ¨¡æ¿å’Œé™æ€æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">mkdir</span> templates</span><br><span class="line"><span class="built_in">mkdir</span> static</span><br></pre></td></tr></table></figure><p>åç«¯æœåŠ¡çš„åŸºç¡€ç¯å¢ƒæ­å»ºå¥½äº†ï¼Œéšæ‰‹å†™ä¸ªè·¯ç”±ï¼Œçœ‹ä¸‹èƒ½ä¸èƒ½ç”¨å…ˆ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># app.py</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&lt;h1&gt;Hello React+Flask!&lt;/h1&gt;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(<span class="string">&#x27;127.0.0.1&#x27;</span>, port=<span class="number">5000</span>, debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/6367a11a16f2c2beb16e86ad.jpg" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367a11a16f2c2beb16e86ad.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ•ˆæœ.png"></p><h1 id="Frontend-React"><a href="#Frontend-React" class="headerlink" title="Frontend-React"></a>Frontend-React</h1><blockquote><p>å‰ç«¯Reactåº”ç”¨çš„å¼€å‘ç¯å¢ƒä½¿ç”¨å®˜æ–¹æä¾›çš„è„šæ‰‹æ¶<a href="https://zh-hans.reactjs.org/docs/create-a-new-react-app.html#create-react-app">create-react-app</a>æ­å»ºã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€å®‰è£…è„šæ‰‹æ¶</span></span><br><span class="line">npm install -g create-react-app</span><br><span class="line"><span class="comment"># 2ã€ä¸ºFlask_Reacté¡¹ç›®åˆ›å»ºReact App-&gt;frontend</span></span><br><span class="line">create-react-app frontend <span class="comment"># è¿™é‡Œæœ‰ç‚¹å°ä¹…ï¼Œå–æ¯å’–å•¡â˜•æ‘¸ä¸‹é±¼</span></span><br></pre></td></tr></table></figure><p>OKï¼Œå‰ç«¯å¼€å‘ç¯å¢ƒæ­å»ºå¥½äº†ï¼Œæ¸…ç†æ‰srcç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œè‡ªå·±å†™ä¸ªç»„ä»¶ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> frontend/src</span><br><span class="line"><span class="built_in">rm</span> -rf *</span><br><span class="line"><span class="built_in">touch</span> index.js</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&quot;center-align&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    ç›’è£…ä¸€æµå¼Š<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&quot;waves-effect waves-light btn&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">className</span>=<span class="string">&quot;material-icons right&quot;</span>&gt;</span>cloud<span class="tag">&lt;/<span class="name">i</span>&gt;</span>æ‚¨è¯´çš„éƒ½å¯¹</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>))</span><br></pre></td></tr></table></figure><p>OKï¼Œé¢„è§ˆä¸‹æ•ˆæœï¼Œé¡ºä¾¿è°ƒè¯•ï¼ˆæ²¡å•¥å¯è°ƒè¯•çš„/(ã„’oã„’)/~~ï¼‰ã€‚<code>npm start</code>ã€‚æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://pic1.imgdb.cn/item/6367a12b16f2c2beb16e99dd.jpg" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367a12b16f2c2beb16e99dd.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="React Appé¢„è§ˆæ•ˆæœ.png"></p><p>æ²¡å¤šå¤§é—®é¢˜çš„è¯ï¼Œæ˜¯æ—¶å€™æ‰“åŒ…å†™å¥½çš„React Appç»™åç«¯æœåŠ¡äº†ã€‚</p><h1 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h1><p>å¾ˆèˆ’æœçš„æ˜¯<a href="https://create-react-app.dev/docs/deployment">create-react-app</a>å°è£…å¥½äº† Babel å’Œ webpackï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨<code>npm run build</code>æ‰“åŒ…å†™å¥½çš„Appåˆ°frontend/buildç›®å½•ä¸­ã€‚ç„¶åæ‰‹åŠ¨å°†ç”Ÿæˆçš„æ–‡ä»¶åˆ†åˆ«æŒªåˆ°Flaskçš„<a href="https://exploreflask.com/en/latest/templates.html">templates</a>å’Œ<a href="https://exploreflask.com/en/latest/static.html">static</a>ç›®å½•ä¸­å³å¯ã€‚<strong>ç­‰ç­‰ï¼Ÿæ‰‹åŠ¨</strong>ï¼Œèƒ½ä¸èƒ½ä½¿ç”¨CLIï¼Œdangç„¶é˜”ä»¥ã€‚</p><p>npm å…è®¸æˆ‘ä»¬åœ¨package.jsonæ–‡ä»¶é‡Œé¢ï¼Œä½¿ç”¨scriptså­—æ®µè‡ªå®šä¹‰è„šæœ¬å‘½ä»¤ã€‚æ›´èˆ’æœçš„æ˜¯<code>npm script</code>æä¾›äº†<code>pre</code>å’Œ<code>post</code>é’©å­ã€‚æˆ‘ä»¬å¯ä»¥ç»™<code>build</code>è„šæœ¬å‘½ä»¤æä¾›ä¸¤ä¸ªé’©å­<code>prebuild</code>å’Œ<code>postbuild</code>ã€‚ç¼–è¾‘åçš„<code>package.json</code>æ–‡ä»¶çš„Scriptå‘½ä»¤å¦‚ä¸‹å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="string">&quot;react-scripts start&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;prebuild&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rm -rf ..\\templates\\index.html &amp;&amp; rm -rf ..\\static&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;react-scripts build&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;postbuild&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mv build\\index.html ..\\templates\\ &amp;&amp;  mv build\\static ..\\static&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;react-scripts test&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;eject&quot;</span><span class="punctuation">:</span> <span class="string">&quot;react-scripts eject&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬æ‰§è¡Œ<code>npm run build</code>å‘½ä»¤æ—¶ï¼Œä¼šè‡ªåŠ¨æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf ..\\templates\\index.html &amp;&amp; <span class="built_in">rm</span> -rf ..\\static</span><br><span class="line">react-scripts build</span><br><span class="line"><span class="built_in">mv</span> build\\index.html ..\\templates\\ &amp;&amp;  <span class="built_in">mv</span> build\\static ..\\static</span><br></pre></td></tr></table></figure><p>OKï¼Œæˆ‘ä»¬è¯•è¯•ã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://pic1.imgdb.cn/item/6367a1c116f2c2beb16f6008.gif" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367a1c116f2c2beb16f6008.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºèŒƒ.gif"></p><p>Niceï¼Œæ²¡æ¯›ç—…ã€‚ğŸ‰ğŸ‰ğŸ‰ã€‚æ”¹ä¸‹<code>app.py</code>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;index.html&#x27;</span>)  <span class="comment"># æ¸²æŸ“æ‰“åŒ…å¥½çš„React Appçš„é¡µé¢</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(<span class="string">&#x27;127.0.0.1&#x27;</span>, port=<span class="number">5000</span>, debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/6367a1e216f2c2beb16fbeb6.png" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367a1e216f2c2beb16fbeb6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ•ˆæœ.png"></p><p><strong>å†‡é—®é¢˜å•Šï¼æ”¶å·¥ï¼ï¼ï¼</strong></p><h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul><li><a href="https://zh-hans.reactjs.org/docs/create-a-new-react-app.html#create-react-app">React Docs</a></li><li><a href="https://create-react-app.dev/docs/documentation-intro">Create React App</a></li><li><a href="https://docs.npmjs.com/misc/scripts">npm-scripts</a></li><li><a href="http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html">npm scripts ä½¿ç”¨æŒ‡å—</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flask </tag>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019 å¹´æ€»ç»“</title>
      <link href="/2019/12/31/2019%E5%B9%B4%E6%80%BB%E7%BB%93/"/>
      <url>/2019/12/31/2019%E5%B9%B4%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/2019-banner.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/2019-banner.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="banner"></p><span id="more"></span><h2 id="å‰è¨€æ‰¯ğŸ¥š"><a href="#å‰è¨€æ‰¯ğŸ¥š" class="headerlink" title="å‰è¨€æ‰¯ğŸ¥š"></a>å‰è¨€æ‰¯ğŸ¥š</h2><p>ç»ˆäºè€ƒå®Œè¯•äº†ï¼ˆæ˜¨å¤©ä¸‹åˆç»ˆç»“äº†æœ€åä¸€ç§‘-â€œä¸‡æ¶â€çš„å¤å˜å‡½æ•°ğŸˆğŸ‰ï¼‰ï¼Œå¯ä»¥æ‘©æ“¦ä¸‹å¹´ç»ˆæ€»ç»“äº†ï¼ŒèŠ±ç‚¹æ—¶é—´æƒ³ä¸‹2019å¹´æˆ‘å¹²äº†ä»€ä¹ˆğŸã€‚<del>å®Œäº†å†™ä¸ä¸‹å»äº†ï¼ˆæ­¤æ—¶ä¸­åˆ12ç‚¹59åˆ†30ç§’ã€‚</del></p><h2 id="å¿†å¾€æ˜”-xxx-2019"><a href="#å¿†å¾€æ˜”-xxx-2019" class="headerlink" title="å¿†å¾€æ˜”-xxx~2019"></a>å¿†å¾€æ˜”-xxx~2019</h2><p>è¿™ä¸€å¹´è¿‡å¾—æ— æ¯”çš„å……å®ï¼Œä¸ªäººæ„Ÿè§‰é«˜ä¸­çš„æ—¶å€™éƒ½æ²¡å¯¹è‡ªå·±è¿™ä¹ˆç‹ è¿‡ï¼Œæˆ‘æ€•æ˜¯ä¸Šäº†ä¸ªå‡çš„å¤§å­¦ï¼ˆå¿½ç„¶æƒ³èµ·é«˜ä¸‰ä¸´è¿‘é«˜è€ƒé‚£æ®µæ—¶é—´ï¼Œåˆ«äººåœ¨å¤ä¹ ï¼Œè€Œæˆ‘å´è¶´åœ¨æ¡Œé¢ä¸Šåœ¨ç¡è§‰&lt;è¢«â€œå†œè¯â€æ¯’å®³ï¼Œè¶´äº†æ•´ä¸ªé«˜ä¸‰ï¼ŒæŒºå¯¹ä¸èµ·è€å¸ˆçš„ï¼Œæƒ­æ„§ğŸ˜¥ï¼‰ã€‚</p><p><strong>ä»¥ä¸‹å¼€å§‹ç•¥å¾®æ€»ç»“ä¸‹ä»Šå¹´çš„æ“ä½œã€æ”¶è·ä¸é—æ†¾ã€‚</strong></p><h3 id="é˜…è¯»æ–¹é¢"><a href="#é˜…è¯»æ–¹é¢" class="headerlink" title="é˜…è¯»æ–¹é¢"></a>é˜…è¯»æ–¹é¢</h3><p>è¿™ä¸€å¹´çœ‹äº†å¾ˆå¤šçš„ä¹¦ï¼Œæœ‰æŠ€æœ¯æ–¹é¢çš„ä¹Ÿæœ‰éæŠ€æœ¯æ–¹é¢çš„éƒ½æœ‰ï¼Œæˆ‘ä½›äº†ï¼Œå¤§ä¸‰ä¸Šä¸€æ•´ä¸ªå­¦æœŸå°±æ²¡æ‰“è¿‡æ¸¸æˆï¼Œæˆ‘éƒ½ä½©æœæˆ‘è‡ªå·±ï¼ŒÎµ=Îµ=Îµ=â”(ã‚œãƒ­ã‚œ;)â”›ï¼Œç•¥å¾®ç½—åˆ—ä¸‹ï¼š</p><ul><li>æ²¡çœ‹å®Œçš„ï¼Œçœ‹äº†å¤§éƒ¨åˆ†ï¼Œä½†æ˜¯æ²¡å†ç»§ç»­çœ‹<ul><li>ã€ŠPythonå¯†ç å­¦ç¼–ç¨‹ã€‹</li><li>ã€ŠPythonä»å…¥é—¨åˆ°å®è·µã€‹</li><li>ã€ŠC++ Primer Plusã€‹</li><li>ã€ŠPythonåŸºç¡€æ•™ç¨‹ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹</li><li>ã€Šç®—æ³•å›¾è§£ã€‹</li><li>ã€Šå•Šå“ˆï¼ç®—æ³•ã€‹</li><li>ã€ŠHTTPæƒå¨æŒ‡å—ã€‹</li><li>ã€ŠFlask Webå¼€å‘ï¼šåŸºäºPythonçš„Webåº”ç”¨å¼€å‘å®æˆ˜ã€‹</li><li>ã€ŠFlask å…¥é—¨æ•™ç¨‹ã€‹</li><li>ã€ŠDocker Deep Diveã€‹</li><li>ã€ŠLinux å°±è¯¥è¿™ä¹ˆå­¦ã€‹</li><li>ã€ŠHow To Think Like A Computer Scientistã€‹</li></ul></li><li>å¯ä»¥è¯´æ˜¯çœ‹å®Œäº†çš„<ul><li>ã€ŠWebå…¨æ ˆå·¥ç¨‹å¸ˆçš„è‡ªæˆ‘ä¿®å…»ã€‹</li><li>ã€ŠDonâ€™t Make Me Thinkã€‹</li><li>ã€ŠGrowth: å…¨æ ˆå¢é•¿å·¥ç¨‹å¸ˆæŒ‡å—ã€‹</li><li>ã€Šæˆ‘çš„èŒä¸šæ˜¯å‰ç«¯å·¥ç¨‹å¸ˆã€‹</li><li>ã€ŠRePractiseã€‹</li></ul></li><li>â€¦â€¦</li></ul><p>ä¸Šå›¾ï¼Œemmmâ€¦æˆ‘æ­£åœ¨çœ‹çš„ï¼Œå¸Œæœ›å¼€å­¦å‰èƒ½çœ‹å®Œå¤§éƒ¨åˆ†ï¼Œåˆèƒ½â€œå¹æ°´â€äº†ï¼Œéƒ½æ˜¯ğŸ’ªåŠ›é‡å•Šï¼</p><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/book.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/book.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="2019-ä¹¦å•"></p><p><del>å°å£°bbï¼Œæˆ‘å…¥æ‰‹äº†å¥—ã€Šå‘¨æ˜“ã€‹</del>ï¼Œçœ‹äº†é‚£ä¹ˆå¤šè¿˜æ˜¯èœï¼ˆå¤ªå‘å¾®äº†ï¼Œæ€»æœ‰é‚£ä¹ˆç§å¥½é«˜éª›è¿œçš„æ„Ÿè§‰ï¼ï¼ï¼<del>æ–‘é©³</del></p><h3 id="æŠ€æœ¯å®è·µä¸äº¤æµ"><a href="#æŠ€æœ¯å®è·µä¸äº¤æµ" class="headerlink" title="æŠ€æœ¯å®è·µä¸äº¤æµ"></a>æŠ€æœ¯å®è·µä¸äº¤æµ</h3><p>è¿™ä¸€å¹´ï¼Œæˆ‘å–œæ¬¢ä¸Šäº†å¼€æºç¤¾åŒºï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ª<a href="https://github.com/greyli/helloflask/issues/164">issue</a>ã€‚å¾ˆå¹¸è¿èƒ½å¤Ÿå·å·çš„åœ¨å›¾çµè¯»è€…ç¾¤QQå½“ä¸ªæ··å­ï¼ŒçŸ¥é“äº†<a href="https://github.com/Zheaoli">Manjusaka</a>ï¼ˆç’ˆå”<del>ï¼Œä¸€ç›´åœ¨å¬å¤§ä½¬å‡º<a href="https://zhuanlan.zhihu.com/p/63557057">ã€Šæ•è›‡è€…è¯´ã€‹</a>æ’­å®¢ï¼Œæ”¶è·æ»¡æ»¡ï¼‰ï¼Œé€šè¿‡å¤§ä½¬åˆçŸ¥é“äº†<a href="http://cn.pycon.org/">PyCon China</a>ã€‚ä»Šå¹´Python30å‘¨å¹´ï¼Œ<a href="https://github.com/PyConChina">PyCon China 2019</a>å¤§ä½¬äº‘é›†ï¼Œå¤ªé¦™äº†ï¼Œè·¯è´¹å¤ªè´µæ²¡èƒ½å»æˆï¼Œæ²¡èƒ½çº¿ä¸‹è§è¯¸ä½å¤§ä½¬ï¼ˆå¤ªè‹¦biäº†</del>/(ã„’oã„’)/~~ï¼Œè¿˜å¥½æœ‰PPTå’Œè§†é¢‘æ”¾å‡ºæ¥ï¼Œç°åœ¨ä»åœ¨åå¤çš„çœ‹ä¸€äº›æ„Ÿå…´è¶£çš„Topicçš„Slideå’Œè§†é¢‘ï¼Œåˆgetâœ…åˆ°äº†å­¦ä¹ çš„æ–°å§¿åŠ¿ã€‚</p><p>è¿™ä¸€å¹´æˆ‘åšçš„éƒ½æ˜¯ä¸€äº›å°ç©æ„ï¼Œå¤ªå‘å¾®äº†ï¼Œä¸æ•¢åˆ—å‡ºæ¥ã€‚ä¸å¾—ä¸è¯´GitHubçœŸé¦™ï¼Œä¸€äº›å¼€æºé¡¹ç›®æ‹¿æ¥å³å¯ç”¨ï¼Œå¯ä»¥å¿«é€Ÿé›†æˆåˆ°è‡ªå·±å¼„å¾—ä¸œè¥¿ä¸Šï¼ˆæ­¤å¤„åæ§½ğŸ˜’æ–‡æ¡£å†™çš„ä¸å¥½æˆ–è€…è¿æ–‡æ¡£éƒ½æ²¡æœ‰çš„ï¼Œçœ‹çš„å¤ªéš¾å—äº†ï¼‰ã€‚è™½ç„¶æ•´çš„éƒ½æ˜¯ä¸€äº›èŠ±é‡Œèƒ¡å“¨çš„å°ä¸œè¥¿ï¼Œè‡³å°‘æˆ‘çœ‹åˆ°äº†è‡ªå·±åœ¨æˆé•¿ï¼Œä¸äºï¼Œæ­¤å¤„ä¸Šæˆ‘çš„GitHubå°ç»¿ç‚¹ï¼š</p><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/2019-github-contribution.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/2019-github-contribution.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="2019-GitHub å°ç»¿ç‚¹"></p><p>å†çœ‹ä¸‹å¤§ä½¬çš„ï¼Œæˆ‘é€ï¼Œæˆ‘å°±æ˜¯didiï¼Œæˆ‘æ•´çš„è¿˜è´¼æ°´ã€‚</p><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/dalao-github-2022-update.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/dalao-github-2022-update.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¤§ä½¬çš„GitHub"></p><p>GitHubè¿˜æœ‰ä¸€ç‚¹ç‰¹åˆ«é¦™ï¼Œé€šè¿‡followå„é¢†åŸŸçš„å¤§ä½¬ï¼Œæˆ‘èƒ½äº†è§£åˆ°ä¸€äº›â€œéªšâ€æŠ€æœ¯ï¼ˆemmmã€‚ã€‚ã€‚ï¼Œæœ‰äº›ä¸œè¥¿æˆ‘è¿˜ç”¨ä¸Šäº†ï¼Œä¸æ„§æ˜¯ç»ˆæç¨‹åºå‘˜ç¤¾äº¤ç½‘ç«™ã€‚æ­¤å¤„è‰¾ç‰¹ä¸€ä½å‹é“¾å°ä¼™ä¼´<a href="https://www.itrhx.com/">TRHXğŸ”—</a>ï¼Œå˜¿å˜¿å˜¿ï¼Œä½ starçš„å¤§éƒ¨åˆ†é¡¹ç›®æˆ‘éƒ½æ‹¿æ¥è€è¿‡å‡ ä¸‹ã€‚</p><blockquote><p>emmmï¼Œå¾ˆå¹¸è¿çš„è®¤è¯†äº†å‹é“¾é‡Œè¯¸ä½å¤§ä½¬ï¼Œæ— èŠçš„æ—¶å€™ç»å¸¸å»luä½ ä»¬çš„æ–‡ç« ï¼Œæ”¶è·è¿˜æ˜¯è›®å¤šçš„ã€‚</p></blockquote><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/end.png" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/end.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ„Ÿè°¢"></p><h2 id="ç¼ºæ†¾ä¸æœŸå¾…"><a href="#ç¼ºæ†¾ä¸æœŸå¾…" class="headerlink" title="ç¼ºæ†¾ä¸æœŸå¾…"></a>ç¼ºæ†¾ä¸æœŸå¾…</h2><h3 id="è¿™ä¸€å¹´æœ‰ç‚¹éš¾"><a href="#è¿™ä¸€å¹´æœ‰ç‚¹éš¾" class="headerlink" title="è¿™ä¸€å¹´æœ‰ç‚¹éš¾"></a>è¿™ä¸€å¹´æœ‰ç‚¹éš¾</h3><ul><li><p>è‡ªå­¦å¤ªç—›è‹¦äº†ï¼ˆçº¿ä¸‹æ‰¾ä¸åˆ°å€¾è¯‰çš„ä¼™ä¼´ï¼Œé™¢é‡Œæ‰¾ä¸åˆ°â€œçœŸæ­£â€æœ‰å…±åŒå…´è¶£ã€çˆ±å¥½ã€çƒ­æƒ…çš„ä¼™ä¼´ï¼Œå¤§éƒ¨åˆ†äººåªæ˜¯è¯´è¯´è€Œå·²ï¼Œè¡ŒåŠ¨ä¸Šçš„å¼±è€…ï¼‰ï¼ŒçœŸå¸Œæœ›æœ‰ä¸ªdalaoå¸¦å¸¦æˆ‘ï¼ˆæ¯äº†</p></li><li><p>æˆ‘åï¼Œä¸€å¹´å¤šæ²¡è·³èˆäº†ï¼Œæˆ‘å±…ç„¶æŠ›å¼ƒäº†æˆ‘æ›¾ç»çƒ­çˆ±çš„<a href="https://baike.baidu.com/item/Breaking/216670?fr=aladdin">Breaking</a>ï¼Œè™½ç„¶ä»åœ¨çœ‹ä¸€äº›è¡—èˆæ–‡åŒ–ç›¸å…³çš„èŠ‚ç›®å’Œæ¯”èµ›-&gt;<a href="https://baike.baidu.com/item/%E8%BF%99%EF%BC%81%E5%B0%B1%E6%98%AF%E8%A1%97%E8%88%9E/22293892?fromtitle=%E8%BF%99%E5%B0%B1%E6%98%AF%E8%A1%97%E8%88%9E&fromid=22473357&fr=aladdin">ã€Šè¿™ï¼å°±æ˜¯è¡—èˆã€‹</a>ã€<a href="https://www.redbull.com/int-en/event-series/bc-one">ã€ŠRed Bull BC Oneã€‹</a>ï¼Œä½†æˆ‘å·²ç»ä¸å†æ˜¯ä¸ªçº¯ç²¹çš„B-Boyäº†</p></li><li><p>æ„Ÿè§‰è‡ªå·±æ²¡èƒ½çœŸæ­£çš„èå…¥å¼€æºç¤¾åŒºï¼Œå¹¶æœªå‚ä¸å¤šäººä¼˜è´¨å¼€æºé¡¹ç›®çš„å¼€å‘</p></li><li><p>æ’¸äº†ä¸€ä¸‹è‘£è€å¸ˆçš„<a href="https://annual2019.pycourses.com/#0">ã€Šçˆ±æ¾æ¹ƒ2019å¹´åº¦Pythonæ¦œå•ã€‹</a>ï¼Œå‘ç°æˆ‘çŸ¥é“çš„ä¸œè¥¿è¿˜æ˜¯å¤ªå°‘ï¼Œçœ‹æ¥æˆ‘å¯¹Pythonçš„çƒ­çˆ±æ²¡æœ‰é‚£ä¹ˆçº¯ç²¹ï¼Œä¿¡æ¯çš„æ¥æºä¸å¤ªè¡Œ</p></li><li><p>çœ‹äº†ä¸‹<a href="https://githubreport.mdnice.com/?username=yeshan333">æˆ‘çš„GitHubå¹´åº¦æŠ¥å‘Š</a>ï¼Œçœ‹æ¥å¾—å¥½å¥½å…»ç”Ÿäº†</p></li></ul><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/2019-github-report.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/2019-github-report.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="2019 Github å¹´åº¦æŠ¥å‘Š"></p><h3 id="æœŸå¾…"><a href="#æœŸå¾…" class="headerlink" title="æœŸå¾…"></a>æœŸå¾…</h3><ul><li>æ–°çš„ä¸€å¹´ï¼Œæˆ‘åˆç«‹ä¸‹äº†ä¸€ä¸¢ä¸¢flagğŸš©ï¼Œä¸çŸ¥é“ä¸‹å­¦æœŸç»“æŸå‰èƒ½ä¸èƒ½æ“ä½œå®Œ(â˜†â–½â˜†)</li></ul><p><img src="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/2019-todo-list.jpg" class="lazyload" data-srcset="https://guangzhoushan.oss-cn-guangzhou.aliyuncs.com/blog_annual_reviewed/2019/2019-todo-list.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="To-DO lists"></p><ul><li><p>ç¨³ä½ï¼Œåˆ«æµªï¼ŒHello World -&gt; Cloud Native, Meta Year</p></li><li><p>æœŸå¾…ä¸‹ä¸€å¹´èƒ½æ’¸ä¸€ä¸ªä¼˜ç§€çš„æŠ€æœ¯å¼€æºé¡¹ç›®æˆ–è€…å»ä¸ºä¼˜ç§€çš„å¼€æºé¡¹ç›®è´¡çŒ®ä»£ç </p></li><li><p>æœŸå¾…è‡ªå·±æ‰€å¾…çš„ç§‘ååœ¨æœªæ¥æœ‰çœŸæ­£å¼ºæœ‰åŠ›çš„ç§¯ç´¯ï¼Œèƒ½å‘æŒ¥å‡ºâ€œé©¬å¤ªæ•ˆåº”â€</p></li><li><p>æˆ‘ä¼¼ä¹è¿˜æ²¡çœŸæ­£æƒ³æ˜ç™½æˆ‘æƒ³è¦ä»€ä¹ˆï¼Œä¸ç»™åŠ›å•Šï¼</p></li><li><p>æ–°ä¸€å¹´å¯¹è‡ªå·±çš„è¦æ±‚ï¼šä¸åªæ˜¯è¦åšæ€æƒ³ä¸Šçš„å¼ºè€…ï¼Œæ›´è¦åšè¡ŒåŠ¨ä¸Šçš„å¼ºè€…ï¼›å¤šæ€è€ƒã€å¤šæŠ˜è…¾ã€å¤šæ›´æ–°ã€‚å¾ˆå–œæ¬¢çš„ä¸€å¥è¯ï¼š<strong>I hear and I forget. I see and I remember. I do and I understand.</strong></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„¿å’Œå¹³æ°¸é©»äººé—´</title>
      <link href="/2019/12/13/%E6%84%BF%E5%92%8C%E5%B9%B3%E6%B0%B8%E9%A9%BB%E4%BA%BA%E9%97%B4/"/>
      <url>/2019/12/13/%E6%84%BF%E5%92%8C%E5%B9%B3%E6%B0%B8%E9%A9%BB%E4%BA%BA%E9%97%B4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><img src="https://img.vim-cn.com/48/c4ac563eaa0515caea6bef70698c8265f76016.png" class="lazyload" data-srcset="https://img.vim-cn.com/48/c4ac563eaa0515caea6bef70698c8265f76016.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" width="80%">]]></content>
      
      
      <categories>
          
          <category> memory </category>
          
      </categories>
      
      
        <tags>
            
            <tag> memory </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>â¤Thanksgivingâ¤</title>
      <link href="/2019/11/28/heart/"/>
      <url>/2019/11/28/heart/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://pic1.imgdb.cn/item/6367b0e816f2c2beb18d5f4a.jpg" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367b0e816f2c2beb18d5f4a.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ„Ÿæ©èŠ‚"></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Serialization and Deserialization</title>
      <link href="/2019/11/25/Serialization-and-Deserialization/"/>
      <url>/2019/11/25/Serialization-and-Deserialization/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h1><blockquote><p>Serializationï¼šData Structure/Object â€“&gt; Binary String<br>Deserializationï¼šBinary String â€“&gt; Data Structure/Object<br>Goalsï¼šCross-platform Communicationã€Persistent Storage and More</p></blockquote><h1 id="Pythonä¸­å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#Pythonä¸­å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="Pythonä¸­å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>Pythonä¸­å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h1><h2 id="pickle-module"><a href="#pickle-module" class="headerlink" title="pickle module"></a>pickle module</h2><blockquote><p>pickle ä»…å¯ç”¨äº Pythonï¼Œpickleæ‰€ä½¿ç”¨çš„æ•°æ®æµæ ¼å¼ä»…å¯ç”¨äº Python<br>pickle æ¨¡å—å¯ä»¥å°†å¤æ‚å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµï¼Œä¹Ÿå¯ä»¥å°†å­—èŠ‚æµè½¬æ¢ä¸ºå…·æœ‰ç›¸åŒå†…éƒ¨ç»“æ„çš„å¯¹è±¡ã€‚<br>å¯è¢«picklingå’Œunpicklingçš„å¯¹è±¡ï¼š<a href="https://docs.python.org/zh-cn/3/library/pickle.html#what-can-be-pickled-and-unpickled">https://docs.python.org/zh-cn/3/library/pickle.html#what-can-be-pickled-and-unpickled</a></p></blockquote><p>pickleæä¾›äº†ä¼˜ç§€çš„æ–¹æ³•æ–¹ä¾¿æˆ‘ä»¬å¯¹å¯¹è±¡è¿›è¡Œpicklingï¼ˆå°å­˜ï¼‰å’Œunpicklingï¼ˆè§£å°ï¼‰</p><span id="more"></span><h3 id="ä½¿ç”¨dumpså’Œloadsæ–¹æ³•è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–"><a href="#ä½¿ç”¨dumpså’Œloadsæ–¹æ³•è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–" class="headerlink" title="ä½¿ç”¨dumpså’Œloadsæ–¹æ³•è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–"></a>ä½¿ç”¨dumpså’Œloadsæ–¹æ³•è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pickle</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person = <span class="built_in">dict</span>(name=<span class="string">&#x27;shan&#x27;</span>, age=<span class="number">20</span>, sex=<span class="string">&quot;man&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pickle.dumps(person)  <span class="comment"># dumpsæ–¹æ³•ä¼šå°†objåºåˆ—åŒ–ä¸ºbytesè¿”å›</span></span><br><span class="line"><span class="string">b&#x27;\x80\x03&#125;q\x00(X\x04\x00\x00\x00nameq\x01X\x04\x00\x00\x00shanq\x02X\x03\x00\x00\x00ageq\x03K\x14X\x03\x00\x00\x00sexq\x04X\x03\x00\x00\x00manq\x05u.</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; with open(&quot;dump.txt&quot;,&quot;wb&quot;) as f:</span></span><br><span class="line"><span class="string">...     pickle.dump(person, f)</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; f = open(&quot;dump.txt&quot;,&quot;rb&quot;)</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; d = pickle.load(f)</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; f.close()</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; d</span></span><br><span class="line"><span class="string">&#123;&#x27;</span>name<span class="string">&#x27;: &#x27;</span>shan<span class="string">&#x27;, &#x27;</span>age<span class="string">&#x27;: 20, &#x27;</span>sex<span class="string">&#x27;: &#x27;</span>man<span class="string">&#x27;&#125;</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; pickle.loads(pickle.dumps(d))</span></span><br><span class="line"><span class="string">&#123;&#x27;</span>name<span class="string">&#x27;: &#x27;</span>shan<span class="string">&#x27;, &#x27;</span>age<span class="string">&#x27;: 20, &#x27;</span>sex<span class="string">&#x27;: &#x27;</span>man<span class="string">&#x27;&#125;</span></span><br></pre></td></tr></table></figure><ul><li><a href="https://docs.python.org/zh-cn/3/library/pickle.html#pickle.dump">https://docs.python.org/zh-cn/3/library/pickle.html#pickle.dump</a></li><li>byteså¯¹è±¡æ˜¯ç”±å•ä¸ªå­—èŠ‚ç»„æˆçš„ä¸å¯å˜åºåˆ—</li><li>ä½¿ç”¨<code>dump</code>æ–¹æ³•å¯å°†åºåˆ—åŒ–çš„å¯¹è±¡å†™å…¥file obj</li><li>loadç”¨äºè¿˜åŸå°å­˜ç”Ÿæˆçš„bytes_objectï¼Œloadsæ–¹æ³•ç”¨äºè¿˜åŸä»æ–‡ä»¶ä¸­è¯»å–çš„å°å­˜å¯¹è±¡</li></ul><h2 id="json-module"><a href="#json-module" class="headerlink" title="json module"></a>json module</h2><blockquote><p>ç›¸æ¯”äºpickleï¼Œjsonåªèƒ½è¡¨ç¤ºå†…ç½®ç±»å‹çš„å­é›†ï¼Œä¸èƒ½è¡¨ç¤ºè‡ªå®šä¹‰çš„ç±»<br>jsonæ ¼å¼çš„æ–‡ä»¶çš„æ˜“è¯»æ€§æ›´å¥½<br>Python jsonæ¨¡å—æä¾›çš„APIä¸pickleæ¨¡å—å¾ˆç›¸ä¼¼</p></blockquote><h3 id="ä½¿ç”¨dumpså’Œloadsè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–"><a href="#ä½¿ç”¨dumpså’Œloadsè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–" class="headerlink" title="ä½¿ç”¨dumpså’Œloadsè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–"></a>ä½¿ç”¨dumpså’Œloadsè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> json</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person = <span class="built_in">dict</span>(name=<span class="string">&#x27;shan&#x27;</span>, age=<span class="number">20</span>, sex=<span class="string">&quot;man&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>json.dumps(person)</span><br><span class="line"><span class="string">&#x27;&#123;&quot;name&quot;: &quot;shan&quot;, &quot;age&quot;: 20, &quot;sex&quot;: &quot;man&quot;&#125;&#x27;</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>json_str = json.dumps(person)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>json.loads(json_str)</span><br><span class="line">&#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;shan&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;sex&#x27;</span>: <span class="string">&#x27;man&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><ul><li>dumpsæ–¹æ³•ä¼šå°†objè½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼çš„JSON strå¹¶è¿”å›</li><li>loadsæ–¹æ³•å¯å°†åŒ…å«JSONæ–‡æ¡£çš„strã€bytesæˆ–è€…bytearrayååºåˆ—åŒ–ä¸ºPythonå¯¹è±¡</li></ul><h3 id="è‡ªå®šä¹‰å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#è‡ªå®šä¹‰å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="è‡ªå®šä¹‰å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>è‡ªå®šä¹‰å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h3><blockquote><p>å¯¹äºè‡ªå®šä¹‰å¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œéœ€è¦æˆ‘ä»¬å®ç°ä¸“é—¨çš„encoderå’Œdecoder<br>éœ€è¦ç”¨åˆ°dumpsæ–¹æ³•çš„defaultå‚æ•°å’Œloadsæ–¹æ³•çš„object_hookå‚æ•°<br><a href="https://docs.python.org/3/library/json.html#json.loads">https://docs.python.org/3/library/json.html#json.loads</a><br><a href="https://docs.python.org/3/library/json.html#json.loads">https://docs.python.org/3/library/json.html#json.loads</a></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> json</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, score</span>):</span><br><span class="line"><span class="meta">... </span>        self.name = name</span><br><span class="line"><span class="meta">... </span>        self.age = age</span><br><span class="line"><span class="meta">... </span>        self.score = score</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">student2dict</span>(<span class="params">std</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> &#123;</span><br><span class="line"><span class="meta">... </span>        <span class="string">&#x27;name&#x27;</span>: std.name,</span><br><span class="line"><span class="meta">... </span>        <span class="string">&#x27;age&#x27;</span>: std.age,</span><br><span class="line"><span class="meta">... </span>        <span class="string">&#x27;score&#x27;</span>: std.score</span><br><span class="line"><span class="meta">... </span>    &#125;</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">dict2student</span>(<span class="params">d</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> Student(d[<span class="string">&#x27;name&#x27;</span>], d[<span class="string">&#x27;age&#x27;</span>], d[<span class="string">&#x27;score&#x27;</span>])</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = Student(<span class="string">&#x27;Bob&#x27;</span>, <span class="number">20</span>, <span class="number">88</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(json.dumps(s, default=student2dict))</span><br><span class="line">&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>, <span class="string">&quot;score&quot;</span>: <span class="number">88</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>json_str = json.dumps(s, default=student2dict)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(json.loads(json_str, object_hook=dict2student))</span><br><span class="line">&lt;__main__.Student <span class="built_in">object</span> at <span class="number">0x000001B101675198</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>json.loads(json_str, object_hook=dict2student)</span><br><span class="line">&lt;__main__.Student <span class="built_in">object</span> at <span class="number">0x000001B101675128</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>old = json.loads(json_str, object_hook=dict2student)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>old.name</span><br><span class="line"><span class="string">&#x27;Bob&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="third-party-moduleï¼šmarshmallow"><a href="#third-party-moduleï¼šmarshmallow" class="headerlink" title="third-party moduleï¼šmarshmallow"></a>third-party moduleï¼šmarshmallow</h2><blockquote><p>marshmallow is an ORM/ODM/framework-agnostic library for converting complex datatypes, such as objects, to and from native Python datatypes.</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> datetime <span class="keyword">as</span> dt</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> marshmallow</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> dataclasses <span class="keyword">import</span> dataclass</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> marshmallow <span class="keyword">import</span> Schema, fields</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>@dataclass</span><br><span class="line"><span class="meta">... </span><span class="keyword">class</span> <span class="title class_">Album</span>:</span><br><span class="line"><span class="meta">... </span>    title: <span class="built_in">str</span></span><br><span class="line"><span class="meta">... </span>    release_date: dt.date</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">AlbumSchema</span>(<span class="title class_ inherited__">Schema</span>):</span><br><span class="line"><span class="meta">... </span>    title = fields.Str()</span><br><span class="line"><span class="meta">... </span>    release_date = fields.Date()</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>album = Album(<span class="string">&quot;Seven Innovation Base&quot;</span>, dt.date(<span class="number">2019</span>, <span class="number">11</span>, <span class="number">23</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>schema = AlbumSchema()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data = schema.dump(album)  <span class="comment"># obj -&gt; dict</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data</span><br><span class="line">&#123;<span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;Seven Innovation Base&#x27;</span>, <span class="string">&#x27;release_date&#x27;</span>: <span class="string">&#x27;2019-11-23&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data_str = schema.dumps(album)  <span class="comment"># obj -&gt; str</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data_str</span><br><span class="line"><span class="string">&#x27;&#123;&quot;title&quot;: &quot;Seven Innovation Base&quot;, &quot;release_date&quot;: &quot;2019-11-23&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ marshmallow å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹è‡ªå®šä¹‰å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</li><li>å¯¹objectè¿›è¡Œåœ¨åºåˆ—åŒ–ä¹‹å‰ï¼Œéœ€è¦ä¸ºobjectåˆ›å»ºä¸€ä¸ªschema,schemaä¸­çš„å­—æ®µåå¿…é¡»ä¸è‡ªå®šä¹‰çš„objectä¸­çš„æˆå‘˜ä¸€è‡´</li><li>dumps methodï¼šobj -&gt; str, dump methodï¼šobj -&gt; dict</li><li>ååºåˆ—åŒ–çš„ dict -&gt; obj éœ€è¦ä½¿ç”¨decoratorï¼š<code>post_load</code>è‡ªå·±å®ç°</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> marshmallow <span class="keyword">import</span> Schema, fields, post_load</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, email</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.email = email</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;User(name=&#123;self.name!r&#125;)&gt;&quot;</span>.<span class="built_in">format</span>(self=self)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserSchema</span>(<span class="title class_ inherited__">Schema</span>):</span><br><span class="line">    name = fields.Str()</span><br><span class="line">    email = fields.Email()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @post_load</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">make_user</span>(<span class="params">self, data, **kwargs</span>):</span><br><span class="line">        <span class="keyword">return</span> User(**data)</span><br><span class="line"></span><br><span class="line">user_data = &#123;</span><br><span class="line">    <span class="string">&quot;email&quot;</span>: <span class="string">&quot;ken@yahoo.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Ken&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">schema = UserSchema()</span><br><span class="line">result = schema.load(user_data)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># è¾“å‡ºç»“æœï¼š&lt;User(name=&#x27;Ken&#x27;)&gt;</span></span><br></pre></td></tr></table></figure><h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul><li><a href="https://www.infoq.cn/article/serialization-and-deserialization">åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a></li><li><a href="https://docs.python.org/zh-cn/3/library/pickle.html">pickle module</a></li><li><a href="https://docs.python.org/zh-cn/3/library/json.html#module-json">json module</a></li><li><a href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes">bytes</a></li><li><a href="https://blog.igevin.info/posts/restful-api-get-started-to-write/">RESTful APIç¼–å†™æŒ‡å—</a></li><li><a href="https://blog.igevin.info/posts/flask-rest-serialize-deserialize/">Flask RESTful APIå¼€å‘ä¹‹åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a></li><li><a href="https://marshmallow.readthedocs.io/en/stable/quickstart.html">marshmallow</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>map-filter-reduce</title>
      <link href="/2019/11/14/map-filter-reduce/"/>
      <url>/2019/11/14/map-filter-reduce/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>å¬è¯´å‡½æ•°å¼ç¼–ç¨‹å¾ˆâ‘¥ï¼Œå’±ä¹Ÿä¸çŸ¥é“ï¼Œå’±ä¹Ÿä¸æ™“å¾—ï¼Œè¿˜æ²¡å®é™…ç”¨è¿‡ã€‚emmmã€‚ã€‚ã€‚ã€‚ï¼Œå…ˆmarkä¸‹Pythonä¸­å’Œå‡½æ•°å¼ç¼–ç¨‹æœ‰å…³çš„éƒ¨åˆ†åŠŸèƒ½å…ˆï¼Œåˆå¼€å§‹æ°´äº†ï¼Œç«‹ä¸ªflagğŸš©ï¼šæ…¢æ…¢å®Œå–„</p></blockquote><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p>å…ˆçœ‹ä¸‹Pythonå®˜æ–¹æ–‡æ¡£çš„è¯´æ³•</p><blockquote><p>map(function, iterable, â€¦)ï¼Œè¿”å›ä¸€ä¸ªå°† function åº”ç”¨äº iterable ä¸­æ¯ä¸€é¡¹å¹¶è¾“å‡ºå…¶ç»“æœçš„è¿­ä»£å™¨ã€‚ å¦‚æœä¼ å…¥äº†é¢å¤–çš„ iterable å‚æ•°ï¼Œfunction å¿…é¡»æ¥å—ç›¸åŒä¸ªæ•°çš„å®å‚å¹¶è¢«åº”ç”¨äºä»æ‰€æœ‰å¯è¿­ä»£å¯¹è±¡ä¸­å¹¶è¡Œè·å–çš„é¡¹ã€‚</p></blockquote><p>è§è¯†ä¸€ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">cook</span>(<span class="params">something</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> something == <span class="string">&quot;cow&quot;</span>:</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="string">&quot;hamburger&quot;</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">elif</span> something == <span class="string">&quot;tomato&quot;</span>:</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="string">&quot;chips&quot;</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">elif</span> something == <span class="string">&quot;chicken&quot;</span>:</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="string">&quot;ddrumstick&quot;</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">elif</span> something == <span class="string">&quot;corn&quot;</span>:</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="string">&quot;popcorn&quot;</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">map</span>(cook, [<span class="string">&quot;cow&quot;</span>, <span class="string">&quot;tomato&quot;</span>, <span class="string">&quot;chicken&quot;</span>, <span class="string">&quot;corn&quot;</span>]))</span><br><span class="line">[<span class="string">&#x27;hamburger&#x27;</span>, <span class="string">&#x27;chips&#x27;</span>, <span class="string">&#x27;ddrumstick&#x27;</span>, <span class="string">&#x27;popcorn&#x27;</span>]</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h2><p>ä¹Ÿçœ‹ä¸‹å®˜æ–¹æ–‡æ¡£çš„è¯´æ³•</p><blockquote><p>filter(function, iterable),ç”¨ iterable ä¸­å‡½æ•° function è¿”å›çœŸçš„é‚£äº›å…ƒç´ ï¼Œæ„å»ºä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ã€‚iterable å¯ä»¥æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œä¸€ä¸ªæ”¯æŒè¿­ä»£çš„å®¹å™¨ï¼Œæˆ–ä¸€ä¸ªè¿­ä»£å™¨ã€‚å¦‚æœ function æ˜¯ None ï¼Œåˆ™ä¼šå‡è®¾å®ƒæ˜¯ä¸€ä¸ªèº«ä»½å‡½æ•°ï¼Œå³ iterable ä¸­æ‰€æœ‰è¿”å›å‡çš„å…ƒç´ ä¼šè¢«ç§»é™¤ã€‚</p></blockquote><p>ä¹Ÿè§è¯†ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">isVegetarian</span>(<span class="params">food</span>):</span><br><span class="line"><span class="meta">... </span>    check = [<span class="string">&#x27;chips&#x27;</span>, <span class="string">&#x27;popcorn&#x27;</span>]</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> food <span class="keyword">in</span> check:</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">filter</span>(isVegetarian, [<span class="string">&#x27;hamburger&#x27;</span>, <span class="string">&#x27;chips&#x27;</span>, <span class="string">&#x27;ddrumstick&#x27;</span>, <span class="string">&#x27;popcorn&#x27;</span>]))</span><br><span class="line">[<span class="string">&#x27;chips&#x27;</span>, <span class="string">&#x27;popcorn&#x27;</span>]</span><br></pre></td></tr></table></figure><h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><p>å†çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£</p><blockquote><p>Apply function of two arguments cumulatively to the items of iterable, from left to right, so as to &gt;<strong>reduce the iterable to a single value</strong>.</p></blockquote><p>è§è¯†ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(<span class="keyword">lambda</span> x, y: x+y, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="number">15</span></span><br></pre></td></tr></table></figure><h2 id="ä¸€å›¾èƒœåƒè¨€"><a href="#ä¸€å›¾èƒœåƒè¨€" class="headerlink" title="ä¸€å›¾èƒœåƒè¨€"></a>ä¸€å›¾èƒœåƒè¨€</h2><blockquote><p>æ›¾çœ‹åˆ°è¿‡ä¸€å¼ æŠŠfilterã€mapã€reduceæè¿°å¾—å¾ˆé€å½»å¾—å›¾ï¼ŒçœŸæ»´å…­ğŸ‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191114233050.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191114233050.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="references"><a href="#references" class="headerlink" title="references"></a>references</h2><ul><li><a href="http://www.globalnerdy.com/2016/06/26/demonstrating-map-filter-and-reduce-in-swift-using-food-emoji/?tdsourcetag=s_pctim_aiomsg">Demonstrating map, filter, and reduce in Swift using food emoji</a></li><li><a href="https://docs.python.org/zh-cn/3.7/howto/functional.html">å‡½æ•°å¼ç¼–ç¨‹æŒ‡å¼•</a></li><li><a href="https://docs.python.org/zh-cn/3/library/functools.html?highlight=reduce#functools.reduce">functools.reduce</a></li><li><a href="https://docs.python.org/zh-cn/3/library/functions.html#map">map</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‡½æ•°å¼ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> å‡½æ•°å¼ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git cloneåå¦‚ä½•checkoutåˆ°remote branch</title>
      <link href="/2019/10/27/clone%E5%90%8E%E5%A6%82%E4%BD%95checkout%E5%88%B0remote-branch/"/>
      <url>/2019/10/27/clone%E5%90%8E%E5%A6%82%E4%BD%95checkout%E5%88%B0remote-branch/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="what-why"><a href="#what-why" class="headerlink" title="what/why"></a>what/why</h2><p>é€šå¸¸æƒ…å†µä½¿ç”¨<code>git clone github_repository_address</code>ä¸‹è½½ä¸‹æ¥çš„ä»“åº“ä½¿ç”¨<code>git branch</code>æŸ¥çœ‹å½“å‰æ‰€æœ‰åˆ†æ”¯æ—¶åªèƒ½çœ‹åˆ°masteråˆ†æ”¯ï¼Œä½†æ˜¯æƒ³è¦åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯è¿›è¡Œå·¥ä½œæ€ä¹ˆåŠâ“</p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191027014941.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191027014941.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>å…¶å®ä½¿ç”¨git cloneä¸‹è½½çš„repositoryæ²¡é‚£ä¹ˆç®€å•ğŸ˜¥ï¼Œcloneå¾—åˆ°çš„æ˜¯ä»“åº“æ‰€æœ‰çš„æ•°æ®ï¼Œä¸ä»…ä»…æ˜¯å¤åˆ¶åœ¨Github repositoryæ‰€èƒ½çœ‹åˆ°çš„masteråˆ†æ”¯ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œ<strong>cloneä¸‹æ¥çš„æ˜¯ä»“åº“ä¸‹çš„æ¯ä¸€ä¸ªæ–‡ä»¶å’Œæ¯ä¸€ä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬ï¼ˆä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„åˆ†æ”¯éƒ½è¢«æä¸‹æ¥äº†å’¯ï¼‰</strong>ï¼Œé‚£ä¸ºå•¥çœ‹ä¸åˆ°ï¼Œå…¶å®remote branchè¢«éšè—äº†ï¼Œéœ€è¦ä½¿ç”¨<code>git branch -a</code>æ‰èƒ½çœ‹åˆ°ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191027015046.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191027015046.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="how"><a href="#how" class="headerlink" title="how"></a>how</h2><p>emmmâ€¦ï¼Œç°åœ¨çœ‹åˆ°äº†ï¼Œé‚£ä¹ˆæ€ä¹ˆåˆ‡æ¢åˆ°remote branchå‘¢ï¼Ÿï¼ˆæˆ‘å¤ªéš¾äº†ğŸ™ƒï¼‰ï¼Œåˆåˆ°äº†æŸ¥æ–‡æ¡£çš„æ—¶å€™äº†ï¼Œä¸€æ³¢æ“ä½œè¿‡åäº†è§£åˆ°git checkoutæ˜¯æœ‰restore working tree filesçš„åŠŸèƒ½çš„ï¼Œå¯ä»¥ç”¨æ¥restore remote branchï¼Œæ¯”å¦‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨æœ¬åœ°åˆ›å»ºä¸ªæ–°åˆ†æ”¯trackè¿œç¨‹åˆ†æ”¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b &lt;branch&gt; --track &lt;remote&gt;/&lt;branch&gt;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¾‹å­ï¼Œæœ¬åœ°ä¸ºè¿œç¨‹åˆ†æ”¯CkaiGrac-PYMOåˆ›å»ºçš„æ–°åˆ†æ”¯åä¸ºyeshanï¼Œpushæ—¶éœ€è¦æ³¨æ„</span></span><br><span class="line">git checkout -b yeshan --track origin/CkaiGrac-PYMO</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191027015123.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191027015123.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>tipsï¼šä½¿ç”¨<code>git checkout -t &lt;remote/branch&gt;</code>é»˜è®¤ä¼šåœ¨æœ¬åœ°å»ºç«‹ä¸€ä¸ªå’Œè¿œç¨‹åˆ†æ”¯åå­—ä¸€æ ·çš„åˆ†æ”¯</p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191027015200.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191027015200.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><ul><li><a href="https://git-scm.com/docs/git-branch">git-branch: https://git-scm.com/docs/git-branch</a></li><li><a href="https://git-scm.com/docs/git-checkout">git-checkout: https://git-scm.com/docs/git-checkout</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Microsoft Edge Betaå°†ç½‘é¡µå˜æˆåº”ç”¨</title>
      <link href="/2019/10/11/%E4%BD%BF%E7%94%A8Microsoft-Edge-Beta%E5%B0%86%E7%BD%91%E9%A1%B5%E5%8F%98%E6%88%90%E5%BA%94%E7%94%A8/"/>
      <url>/2019/10/11/%E4%BD%BF%E7%94%A8Microsoft-Edge-Beta%E5%B0%86%E7%BD%91%E9%A1%B5%E5%8F%98%E6%88%90%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>ä»Šå¤©æ— èŠçš„æˆ‘æ‰“å¼€äº†è£…äº†å¾ˆä¹…éƒ½æ²¡ç”¨çš„Microsoft Edge Betaï¼Œä¸€æ³¢ä¹±æˆ³ï¼ŒæƒŠè®¶çš„å‘ç°<a href="https://www.microsoftedgeinsider.com/zh-cn/">Microsoft Edge Beta</a>å±…ç„¶æœ‰å°†ç½‘é¡µæ‰“åŒ…ä¸ºåº”ç”¨çš„åŠŸèƒ½ğŸ˜‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191011222459.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191011222459.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191011222513.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191011222513.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191011222538.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191011222538.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><strong>Bç«™ä¹Ÿæœ‰PCâ€å®¢æˆ·ç«¯â€äº†ï¼ŒçœŸé¦™ğŸ˜‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®€å•æ„Ÿå—ä¸‹Pythonå†…ç½®æ•°æ®ç±»å‹å¸¸ç”¨æ“ä½œçš„æ€§èƒ½</title>
      <link href="/2019/10/02/%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3%E4%B8%8BPython%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E7%9A%84%E6%80%A7%E8%83%BD/"/>
      <url>/2019/10/02/%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3%E4%B8%8BPython%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E7%9A%84%E6%80%A7%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨çš„å‡ ç§æ–¹å¼çš„æ€§èƒ½å¯¹æ¯”"><a href="#ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨çš„å‡ ç§æ–¹å¼çš„æ€§èƒ½å¯¹æ¯”" class="headerlink" title="ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨çš„å‡ ç§æ–¹å¼çš„æ€§èƒ½å¯¹æ¯”"></a>ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨çš„å‡ ç§æ–¹å¼çš„æ€§èƒ½å¯¹æ¯”</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> timeit <span class="keyword">import</span> Timer</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—è¡¨å¸¸ç”¨æ“ä½œæ€§èƒ½æµ‹è¯•</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿­ä»£ + &#x27;+&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test1</span>():</span><br><span class="line">    l = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        l = l + [i]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿­ä»£ + append</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test2</span>():</span><br><span class="line">    l = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        l.append(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—è¡¨ç”Ÿæˆå¼</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test3</span>():</span><br><span class="line">    l = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># listæ„é€ å‡½æ•° + range</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test4</span>():</span><br><span class="line">    l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1000</span>))</span><br><span class="line"></span><br><span class="line">t1 = Timer(<span class="string">&quot;test1()&quot;</span>, <span class="string">&quot;from __main__ import test1&quot;</span>)</span><br><span class="line"><span class="comment"># print(&quot;concat %f seconds&quot; % t1.timeit(number=1000))</span></span><br><span class="line"></span><br><span class="line">t2 = Timer(<span class="string">&quot;test2()&quot;</span>, <span class="string">&quot;from __main__ import test2&quot;</span>)</span><br><span class="line"><span class="comment"># print(&quot;concat %f seconds&quot; % t2.timeit(number=1000))</span></span><br><span class="line"></span><br><span class="line">t3 = Timer(<span class="string">&quot;test3()&quot;</span>, <span class="string">&quot;from __main__ import test3&quot;</span>)</span><br><span class="line"><span class="comment"># print(&quot;concat %f seconds&quot; % t3.timeit(number=1000))</span></span><br><span class="line"></span><br><span class="line">t4 = Timer(<span class="string">&quot;test4()&quot;</span>, <span class="string">&quot;from __main__ import test4&quot;</span>)</span><br><span class="line"><span class="comment"># print(&quot;concat %f seconds&quot; % t4.timeit(number=1000))</span></span><br><span class="line"></span><br><span class="line">result = [t1.timeit(<span class="number">1000</span>), t2.timeit(<span class="number">1000</span>), t3.timeit(<span class="number">1000</span>), t4.timeit(<span class="number">1000</span>)]</span><br><span class="line">method = [<span class="string">&quot;for+ &#x27;+&#x27;&quot;</span>, <span class="string">&quot;for + append&quot;</span>, <span class="string">&quot;list comprehension&quot;</span>, <span class="string">&quot;list + range&quot;</span>]</span><br><span class="line"></span><br><span class="line">plt.bar(method, result, color=<span class="string">&#x27;rgby&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.legend(&#x27;concat time&#x27;)</span></span><br><span class="line"><span class="comment"># print(zip(method, result))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> <span class="built_in">zip</span>(method, result):</span><br><span class="line">    plt.text(x, y, <span class="string">&quot;%fs&quot;</span> % y)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191002194307.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191002194307.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Cost time"></p><span id="more"></span><h1 id="listå’Œdictçš„æ£€ç´¢æ•ˆç‡å¯¹æ¯”"><a href="#listå’Œdictçš„æ£€ç´¢æ•ˆç‡å¯¹æ¯”" class="headerlink" title="listå’Œdictçš„æ£€ç´¢æ•ˆç‡å¯¹æ¯”"></a>listå’Œdictçš„æ£€ç´¢æ•ˆç‡å¯¹æ¯”</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> timeit <span class="keyword">import</span> Timer</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">lst_result = []</span><br><span class="line">d_result = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>,<span class="number">1000001</span>,<span class="number">20000</span>):</span><br><span class="line">    t = Timer(<span class="string">&quot;random.randrange(%d) in x&quot;</span> % i, <span class="string">&quot;from __main__ import random,x&quot;</span>)</span><br><span class="line"></span><br><span class="line">    x = <span class="built_in">list</span>(<span class="built_in">range</span>(i))</span><br><span class="line">    lst_time = t.timeit(number=<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">    x = &#123;j:<span class="literal">None</span> <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i)&#125;</span><br><span class="line">    d_time = t.timeit(number=<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">    lst_result.append(lst_time)</span><br><span class="line">    d_result.append(d_time)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;%d,%10.3f,%10.3f&quot;</span> % (i, lst_time, d_time))</span><br><span class="line"></span><br><span class="line">test = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>,<span class="number">1000001</span>,<span class="number">20000</span>)]</span><br><span class="line"></span><br><span class="line">plt.plot(test, lst_result, <span class="string">&#x27;ro&#x27;</span>)</span><br><span class="line">plt.plot(test, d_result, <span class="string">&#x27;bo&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.legend([<span class="string">&#x27;List&#x27;</span>,<span class="string">&#x27;Dictionary&#x27;</span>])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191002202553.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191002202553.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="result plot"></p><h1 id="del-list-index-ä¸del-dict-key-æ€§èƒ½å¯¹æ¯”"><a href="#del-list-index-ä¸del-dict-key-æ€§èƒ½å¯¹æ¯”" class="headerlink" title="del list[index]ä¸del dict[key] æ€§èƒ½å¯¹æ¯”"></a>del list[index]ä¸del dict[key] æ€§èƒ½å¯¹æ¯”</h1><blockquote><p>average time complexityï¼š$ O(n)\ \ vs\ \ O(1) $</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> timeit <span class="keyword">import</span> Timer</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">size = <span class="number">20000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">l_result = []</span><br><span class="line">d_result = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(size):</span><br><span class="line">    test_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(size)]</span><br><span class="line">    list_t = Timer(<span class="string">&quot;del test_list[%d]&quot;</span> % i,<span class="string">&quot;from __main__ import test_list&quot;</span>)</span><br><span class="line">    list_result = list_t.timeit(number=<span class="number">1</span>)</span><br><span class="line">    l_result.append(list_result)</span><br><span class="line"></span><br><span class="line">    test_dict = &#123;j:<span class="literal">None</span> <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(size)&#125;</span><br><span class="line">    dict_t = Timer(<span class="string">&quot;del test_dict[%d]&quot;</span> % i,<span class="string">&quot;from __main__ import test_dict&quot;</span>)</span><br><span class="line">    dict_result = dict_t.timeit(number=<span class="number">1</span>)</span><br><span class="line">    d_result.append(dict_result)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(&quot;%d,%f,%f&quot; % (i, list_result, dict_result))</span></span><br><span class="line"></span><br><span class="line">plt.plot(<span class="built_in">range</span>(size), l_result)</span><br><span class="line">plt.plot(<span class="built_in">range</span>(size), d_result)</span><br><span class="line"></span><br><span class="line">plt.legend([<span class="string">&#x27;del list[index]&#x27;</span>, <span class="string">&#x27;del dict[key]&#x27;</span>])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191002211901.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20191002211901.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="result"></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><p><a href="https://www.matplotlib.org.cn/index.html">matplotlibä¸­æ–‡æ–‡æ¡£</a></p></li><li><p><a href="https://wiki.python.org/moin/TimeComplexity">TimeComplexity<Python Wiki></a></p></li><li><p><a href="https://www.icourse163.org/course/PKU-1206307812">åŒ—å¤§æ•°æ®ç»“æ„ä¸ç®—æ³•å…¬å¼€è¯¾</a></p></li><li><p><a href="https://docs.python.org/zh-cn/3/library/timeit.html">Python timeit</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python ç¯å¢ƒç®¡ç†ä¸é¡¹ç›®ä¾èµ–ç®¡ç†</title>
      <link href="/2019/09/02/Python%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/"/>
      <url>/2019/09/02/Python%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>ä¸ªäººç®€å•è®°å½•ä¸‹</p></blockquote><h1 id="virtualenv-pip"><a href="#virtualenv-pip" class="headerlink" title="virtualenv + pip"></a>virtualenv + pip</h1><blockquote><p>virtualenvæ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºâ€éš”ç¦»çš„ythonè¿è¡Œç¯å¢ƒâ€çš„å·¥å…·ï¼Œ<a href="https://virtualenv.pypa.io/en/latest/">Docs</a><br>pipæ˜¯Pythonçš„åŒ…ç®¡ç†å·¥å…·ï¼Œ<a href="https://pip.pypa.io/en/stable/">Docs</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…virtualenv</span></span><br><span class="line">pip install virtualenv</span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------------------- #</span></span><br><span class="line"><span class="comment"># è™šæ‹Ÿç¯å¢ƒçš„åˆ›å»ºä¸ä½¿ç”¨</span></span><br><span class="line"><span class="comment"># 1ã€åœ¨å½“å‰å·¥ç¨‹ç›®å½•ä¸‹ä½¿ç”¨virtualenvåˆ›å»ºä¸€å¥—ç‹¬ç«‹çš„Pythonè¿è¡Œç¯å¢ƒ</span></span><br><span class="line">virtualenv venv  <span class="comment"># ç¯å¢ƒåä¸ºvenvï¼ˆè‡ªç”±å®šä¹‰ï¼‰</span></span><br><span class="line"><span class="comment"># 2ã€cd åˆ°åˆ›å»ºå¥½çš„è™šæ‹Ÿç¯å¢ƒçš„Scriptsç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯æ¿€æ´»æˆ–è€…é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</span></span><br><span class="line">activate    <span class="comment"># æ¿€æ´»ï¼Œæ¿€æ´»åå‘½ä»¤æç¤ºç¬¦ä¼šå˜æˆå½“å‰å·¥ç¨‹ç›®å½•Pythonç¯å¢ƒå</span></span><br><span class="line">deactivate  <span class="comment"># é€€å‡º</span></span><br><span class="line"><span class="comment"># 3ã€æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåå¯ä½¿ç”¨pipä¸ºå½“å‰é¡¹ç›®å®‰è£…ä¾èµ–ï¼Œexampleï¼š</span></span><br><span class="line">pip install numpy</span><br><span class="line"><span class="comment"># 4ã€ä½¿ç”¨pip freeze &gt; requirements.txt å¯å¯¼å‡ºé¡¹ç›®ä¾èµ–åˆ°requirements.txtä¸­</span></span><br><span class="line"><span class="comment"># ä¸ºé¡¹ç›®åˆ›å»ºä¸€ä¸ªæ–°çš„ã€å¹²å‡€çš„ç¯å¢ƒæ—¶ï¼Œå¯ä½¿ç”¨ pip install -r requiremen.txt ä¸ºé¡¹ç›®å®‰è£…ä¾èµ–</span></span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="Pipenv"><a href="#Pipenv" class="headerlink" title="Pipenv"></a>Pipenv</h1><blockquote><p>Pipenvé›†åŒ…ç®¡ç†å’Œè™šæ‹Ÿç¯å¢ƒç®¡ç†äºä¸€èº«ï¼Œä½¿ç”¨Pipfileå’ŒPipfile.lockç®¡ç†é¡¹ç›®ä¾èµ–ï¼ˆPipfileä¸­ä¿å­˜ç€å„ä¸ªä¾èµ–åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ï¼ŒPipfile.lockä¿å­˜ç€ä¾èµ–åŒ…çš„é”ä¿¡æ¯ï¼‰ã€‚<a href="https://docs.pipenv.org/en/latest/">Docs</a></p></blockquote><p><a href="https://rootnroll.com/d/pipenv/">Pipenv playground</a></p><p><a href="https://blog.windrunner.me/python/pip.html#pipfile-%E4%B8%8E-pipfilelock">Pipfile and Pipfile.lock</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">pip install pipenv</span><br><span class="line"><span class="comment"># ------------------ #</span></span><br><span class="line"><span class="comment"># Pipenvçš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment"># 1ã€ä¸ºå½“å‰å·¥ç¨‹åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span></span><br><span class="line">pipenv install  <span class="comment"># è¿™é‡Œä¼šç”ŸæˆPipfileå’ŒPipfile.lockæ–‡ä»¶</span></span><br><span class="line"><span class="comment"># 2ã€è™šæ‹Ÿç¯å¢ƒçš„æ¿€æ´»</span></span><br><span class="line">pipenv shell    <span class="comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span></span><br><span class="line"><span class="comment"># 3ã€å®‰è£…ä¾èµ–</span></span><br><span class="line">pipenv install [package_name]</span><br><span class="line"><span class="comment"># 4ã€åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡ŒPythonè„šæœ¬</span></span><br><span class="line">pipenv run xxx.py</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/11/06/xjuEo6.png" class="lazyload" data-srcset="https://s1.ax1x.com/2022/11/06/xjuEo6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="help"></p><h1 id="Poetry"><a href="#Poetry" class="headerlink" title="Poetry"></a>Poetry</h1><blockquote><p>Poetryæ˜¯æ–°ä¸€ä»£çš„ç”¨æ¥å¤„ç†ä¾èµ–é¡¹çš„å®‰è£…ã€æ„å»ºå’Œæ‰“åŒ…æˆPythonåŒ…çš„å·¥å…·ï¼ˆ2018å¹´2æœˆ28æ—¥å‘å¸ƒ0.1.0ç‰ˆæœ¬ï¼‰ï¼ŒPoetryä½¿ç”¨pyproject.tomlç®¡ç†é¡¹ç›®ä¾èµ–ã€‚<a href="https://poetry.eustace.io/docs/">Docs</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Poetryçš„å®‰è£…</span></span><br><span class="line">pip install poetry</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------- #</span></span><br><span class="line"><span class="comment"># poetryçš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment"># 1ã€å¿«é€Ÿåˆ›å»ºä¸€ä¸ªPythoné¡¹ç›®</span></span><br><span class="line">poetry new [project_name]</span><br><span class="line"><span class="comment"># 2ã€ä»¥äº¤äº’å¼çš„æ–¹å¼ä¸ºå½“å‰é¡¹ç›®åˆ›å»ºpyproject.tomlæ–‡ä»¶</span></span><br><span class="line">poetry init</span><br><span class="line"><span class="comment"># 3ã€ä¸ºå½“å‰é¡¹ç›®æ·»åŠ ä¾èµ–</span></span><br><span class="line">poetry add [package_name]</span><br><span class="line"><span class="comment"># 4ã€æ„å»ºæºç å¹¶å¯¹å½“å‰é¡¹ç›®è¿›è¡Œwheels archiveï¼ˆæ‰“åŒ…æˆPythonåŒ…ï¼‰</span></span><br><span class="line">poetry build</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/11/06/xjuke1.png" class="lazyload" data-srcset="https://s1.ax1x.com/2022/11/06/xjuke1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="help"></p><h1 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h1><p><a href="https://www.python.org/dev/peps/pep-0427/">å…³äºWheelæ‰“åŒ…æ ¼å¼ã€ŠPEP427ã€‹</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> ç¯å¢ƒç®¡ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dockerå­¦ä¹ ç¬”è®°</title>
      <link href="/2019/08/08/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/08/08/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p><a href="https://labs.play-with-docker.com/">Play With Dockerä¸€ä¸ªå…è´¹ä½¿ç”¨çš„åŸºäºwebç•Œé¢çš„Dockerç¯å¢ƒ</a></p></blockquote><h1 id="å¸¸ç”¨dockerå‘½ä»¤"><a href="#å¸¸ç”¨dockerå‘½ä»¤" class="headerlink" title="å¸¸ç”¨dockerå‘½ä»¤"></a>å¸¸ç”¨dockerå‘½ä»¤</h1><p><strong>å¯ä½¿ç”¨<code>docker COMMAND --help</code>æŸ¥çœ‹å‘½ä»¤çš„ç”¨æ³•</strong></p><h2 id="Dockeré•œåƒç›¸å…³"><a href="#Dockeré•œåƒç›¸å…³" class="headerlink" title="Dockeré•œåƒç›¸å…³"></a>Dockeré•œåƒç›¸å…³</h2><ul><li>1ã€<code>docker image pull</code>ï¼šç”¨äºä¸‹è½½é•œåƒï¼Œé•œåƒä»è¿œç¨‹é•œåƒä»“åº“æœåŠ¡çš„ä»“åº“ä¸­ä¸‹è½½ï¼Œé»˜è®¤ä»Docker Hubçš„ä»“åº“ä¸­æ‹‰å–</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šdocker pull [OPTIONS] NAME[:TAG|@DIGEST]</span></span><br><span class="line"><span class="comment"># è¯´æ˜ï¼šå¦‚æœç»™å‡ºtagï¼Œä¸€èˆ¬æ‹‰å–latestï¼Œnameä¸€èˆ¬ä¸ºusername/repository,digestä¸ºé•œåƒæ‘˜è¦å¯ä¸ç»™å‡º</span></span><br><span class="line">docker image pull ubuntu:latest</span><br><span class="line"><span class="comment"># è¿™ä¸ªæ‹‰å–æ ‡ç­¾ä¸ºlatestçš„ubuntuå®˜æ–¹é•œåƒï¼Œlatest: Pulling from library/ubuntuï¼Œlatestä¸ä¸€å®šæ˜¯æœ€æ–°é•œåƒ</span></span><br></pre></td></tr></table></figure><span id="more"></span><ul><li><p>2ã€<code>docker image ls</code>ï¼šåˆ—å‡ºæœ¬åœ°Dockerä¸»æœºä¸Šå­˜å‚¨çš„é•œåƒ</p></li><li><p>3ã€<code>docker image inspect</code>ï¼šæŸ¥çœ‹é•œåƒçš„ç»†èŠ‚ï¼ŒåŒ…æ‹¬é•œåƒå±‚æ•°æ®å’Œå…ƒæ•°æ®</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker image inspect [OPTIONS] IMAGE [IMAGE...]</span></span><br><span class="line"><span class="comment"># inspectåä¸€èˆ¬è·Ÿrepository nameæˆ–image id</span></span><br></pre></td></tr></table></figure><ul><li><p>4ã€<code>docker image rm</code>ï¼šç”¨äºåˆ é™¤é•œåƒã€‚å¦‚æœé•œåƒå­˜åœ¨å…³è”çš„å®¹å™¨ï¼Œå¹¶ä¸”å®¹å™¨å¤„äºè¿è¡Œ(Up)æˆ–åœæ­¢(Exit)çŠ¶æ€æ—¶ï¼Œä¸å…è®¸åˆ é™¤è¯¥é•œåƒã€‚rmåå¯è·Ÿrepositoryæˆ–image id</p></li><li><p>5ã€<code>dicker image search</code>ï¼šä»Docker HubæŸ¥æ‰¾é•œåƒ</p></li><li><p>6ã€<code>docker image build</code>ï¼šæ ¹æ®Dockerfileæ„å»ºé•œåƒ</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¾‹å¦‚ï¼šä½¿ç”¨å½“å‰ç›®å½•çš„ Dockerfile åˆ›å»ºé•œåƒï¼Œæ ‡ç­¾ä¸º runoob/ubuntu:v1ã€‚</span></span><br><span class="line">docker build -t yeshan333/ubuntu:latest .</span><br></pre></td></tr></table></figure><ul><li>7ã€<code>docker image history</code>ï¼šç”¨äºæŸ¥çœ‹é•œåƒæ„å»ºçš„ç›¸å…³ä¿¡æ¯</li></ul><h2 id="Dockerå®¹å™¨ç›¸å…³"><a href="#Dockerå®¹å™¨ç›¸å…³" class="headerlink" title="Dockerå®¹å™¨ç›¸å…³"></a>Dockerå®¹å™¨ç›¸å…³</h2><ul><li>1ã€<code>docker container run</code>ï¼šç”¨äºå¯åŠ¨æ–°å®¹å™¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šdocker run [OPTIONS] IMAGE [COMMAND] [ARG...]</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨optionsï¼š</span></span><br><span class="line"><span class="comment"># -d: åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼›</span></span><br><span class="line"><span class="comment"># -i: ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼›</span></span><br><span class="line"><span class="comment"># -t: ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼›</span></span><br><span class="line"><span class="comment"># -P: éšæœºç«¯å£æ˜ å°„ï¼Œå®¹å™¨å†…éƒ¨ç«¯å£éšæœºæ˜ å°„åˆ°ä¸»æœºçš„é«˜ç«¯å£</span></span><br><span class="line"><span class="comment"># -p: æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£</span></span><br><span class="line"><span class="comment"># --name=&quot;container-name&quot;: ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line">docker container run -it ubuntu:latest /bin/bash</span><br><span class="line"><span class="comment"># è¯´æ˜ï¼š-itä½¿å®¹å™¨å…·å¤‡äº¤äº’æ€§å¹¶ä¸ç»ˆç«¯è¿æ¥ï¼Œå‘½ä»¤æœ€åè¡¨æ˜è¿è¡Œå®¹å™¨ä¸­çš„Bash Shellç¨‹åº</span></span><br></pre></td></tr></table></figure><ul><li><p>2ã€<code>docker container ls</code>ï¼šåˆ—å‡ºæ‰€æœ‰è¿è¡ŒçŠ¶æ€çš„å®¹å™¨å¯ç”¨<code>docker p</code>sä»£æ›¿ï¼Œå¦‚æœåŠ ä¸ª**-a*é™„åŠ å‚æ•°ï¼Œä¼šåˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å¤„äºåœæ­¢çŠ¶æ€çš„å®¹å™¨ï¼‰</p></li><li><p>3ã€<code>docker container stop</code>ï¼šåœæ­¢è¿è¡Œä¸­çš„å®¹å™¨ï¼Œå¹¶å°†å…¶çŠ¶æ€è®¾ç½®ä¸ºExited(0)ï¼Œstopåè·Ÿcontainer nameæˆ–container id</p></li><li><p>4ã€<code>docker container rm</code>ï¼šç”¨äºåˆ é™¤åœæ­¢è¿è¡Œçš„å®¹å™¨ï¼Œrmåè·Ÿcontainer nameæˆ–container idï¼Œä½¿ç”¨-få‚æ•°å¯å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨</p></li><li><p>5ã€<code>docker container exec</code>ï¼šç”¨äºè¿æ¥ä¸€ä¸ªå¤„äºè¿è¡ŒçŠ¶æ€çš„å®¹å™¨</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¾‹å¦‚ï¼š</span></span><br><span class="line">docker container <span class="built_in">exec</span> -t &lt;container-name or container-id&gt; bash</span><br><span class="line"><span class="comment"># è¯¥å‘½ä»¤ä¼šå°†dockerä¸»æœºä¸­çš„shellè¿æ¥åˆ°ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼Œåœ¨å®¹å™¨å†…éƒ¨å¯åŠ¨ä¸€ä¸ªæ–°çš„bash shellè¿›ç¨‹</span></span><br></pre></td></tr></table></figure><ul><li><p>6ã€<code>docker container start</code>ï¼šç”¨äºé‡å¯å¤„äºåœæ­¢(Exited)çŠ¶æ€çš„å®¹å™¨ï¼Œstartåè·Ÿcontainer nameæˆ–container id</p></li><li><p>7ã€<code>docker container inspect</code>ï¼šæŸ¥çœ‹å®¹å™¨çš„é…ç½®ä¿¡æ¯å’Œè¿è¡Œæ—¶ä¿¡æ¯ï¼Œinspectåè·Ÿcontainer nameæˆ–container id</p></li><li><p>8ã€å¿«æ·é”®<code>Ctrl+PQ</code>ç”¨äºæ–­å¼€dockerä¸»æœºçš„shellç»ˆç«¯ä¸å®¹å™¨ç»ˆç«¯çš„è¿æ¥ï¼Œå¹¶åœ¨é€€å‡ºåä¿è¯å®¹å™¨åœ¨åå°è¿è¡Œ</p></li></ul><h1 id="åº”ç”¨å®¹å™¨åŒ–"><a href="#åº”ç”¨å®¹å™¨åŒ–" class="headerlink" title="åº”ç”¨å®¹å™¨åŒ–"></a>åº”ç”¨å®¹å™¨åŒ–</h1><blockquote><p>(Containerizing|Dockerizing)å³å°†åº”ç”¨æ•´åˆåˆ°å®¹å™¨ä¸­å¹¶ä¸”è¿è¡Œçš„è¿‡ç¨‹</p></blockquote><h2 id="åº”ç”¨å®¹å™¨åŒ–çš„ä¸€èˆ¬æ­¥éª¤"><a href="#åº”ç”¨å®¹å™¨åŒ–çš„ä¸€èˆ¬æ­¥éª¤" class="headerlink" title="åº”ç”¨å®¹å™¨åŒ–çš„ä¸€èˆ¬æ­¥éª¤"></a>åº”ç”¨å®¹å™¨åŒ–çš„ä¸€èˆ¬æ­¥éª¤</h2><ul><li>1ã€ç¼–å†™åº”ç”¨ä»£ç </li><li>2ã€åˆ›å»ºDockerfileï¼Œå…¶ä¸­åŒ…æ‹¬å½“å‰åº”ç”¨çš„æè¿°ã€ä¾èµ–ä»¥åŠå¦‚ä½•è¿è¡Œè¿™ä¸ªåº”ç”¨</li><li>3ã€å¯¹Dockerfileæ‰§è¡Œdocker image buildå‘½ä»¤</li><li>4ã€ç­‰å¾…Dockerå°†åº”ç”¨ç¨‹åºæ„å»ºåˆ°Dockeré•œåƒä¸­</li></ul><blockquote><p>Once your app is containerized (made into a Docker image), youâ€™re ready to ship it and run it as a container.ã€ŠDocker Deep Diveã€‹</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190808213453.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190808213453.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="docker deep dive"></p><h2 id="ä½¿ç”¨Dockerfileå®šåˆ¶é•œåƒ"><a href="#ä½¿ç”¨Dockerfileå®šåˆ¶é•œåƒ" class="headerlink" title="ä½¿ç”¨Dockerfileå®šåˆ¶é•œåƒ"></a>ä½¿ç”¨Dockerfileå®šåˆ¶é•œåƒ</h2><ul><li><a href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/">Dockerfileæœ€ä½³å®è·µ</a></li><li><a href="https://docker_practice.gitee.io/image/build.html">ä½¿ç”¨Dockerfileå®šåˆ¶é•œåƒ</a></li></ul><blockquote><p>Dockerfileä¸­ä»¥#å¼€å¤´çš„éƒ½æ˜¯æ³¨é‡Šè¡Œï¼Œé™¤æ³¨é‡Šä¹‹å¤–ï¼Œæ¯ä¸€è¡Œéƒ½æ˜¯ä¸€æ¡æŒ‡ä»¤<br>æŒ‡ä»¤çš„çš„ä¸€èˆ¬æ ¼å¼ï¼šINSTRUCTION argumentï¼ŒINSTRUCTIONä¸€èˆ¬éƒ½ä¸ºå¤§å†™</p></blockquote><p>ç¤ºä¾‹Dockerfileï¼š<a href="https://github.com/yeshan333/psweb">https://github.com/yeshan333/psweb</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">FROM alpine</span><br><span class="line"></span><br><span class="line">LABEL maintainer=&quot;nigelpoulton@hotmail.com&quot;</span><br><span class="line"></span><br><span class="line"># Install Node and NPM</span><br><span class="line">RUN apk add --update nodejs nodejs-npm</span><br><span class="line"></span><br><span class="line"># Copy app to /src</span><br><span class="line">COPY . /src</span><br><span class="line"></span><br><span class="line">WORKDIR /src</span><br><span class="line"></span><br><span class="line"># Install dependencies</span><br><span class="line">RUN  npm install</span><br><span class="line"></span><br><span class="line">EXPOSE 8080</span><br><span class="line"></span><br><span class="line">ENTRYPOINT [&quot;node&quot;, &quot;./app.js&quot;]</span><br></pre></td></tr></table></figure><ul><li>è¯´æ˜ï¼š<ul><li>æ¯ä¸ªDockerfileæ–‡ä»¶æ–‡ä»¶çš„ç¬¬ä¸€è¡Œä¸€èˆ¬éƒ½æ˜¯<code>FROM</code>æŒ‡ä»¤ã€‚<strong>FROMæŒ‡å®šçš„é•œåƒä¼šä½œä¸ºå½“å‰é•œåƒçš„ä¸€ä¸ªåŸºç¡€é•œåƒå±‚ï¼Œå½“å‰åº”ç”¨çš„å‰©ä½™å†…å®¹ä¼šä½œä¸ºæ–°çš„é•œåƒå±‚æ·»åŠ åˆ°åŸºç¡€é•œåƒå±‚ä¹‹ä¸Šã€‚</strong>ï¼ŒFROMå»ºè®®å¼•ç”¨å®˜æ–¹é•œåƒ</li><li>LABELæŒ‡å®šå½“å‰é•œåƒç»´æŠ¤è€…ï¼Œç»™é•œåƒä½¿ç”¨è€…ä¸€ä¸ªæ²Ÿé€šæ¸ é“</li><li><code>RUN apk add --update nodejs nodejs-npm</code>å°†å½“å‰åº”ç”¨çš„ä¾èµ–å®‰è£…åˆ°é•œåƒä¸­ï¼ŒRUNæŒ‡ä»¤ä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚å­˜å‚¨è¿™äº›å†…å®¹</li><li><code>COPY . /src</code>ä¼šå°†åº”ç”¨ç›¸å…³æ–‡ä»¶ä»æ„å»ºä¸Šä¸‹æ–‡å¤åˆ¶åˆ°å½“å‰é•œåƒä¸­ï¼Œè¿™ä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚</li><li><code>WORKDIR /src</code>ä¼šä¸ºDockerfileä¸­æœªæ‰§è¡Œçš„æŒ‡ä»¤è®¾ç½®å·¥ä½œç›®å½•</li><li><code>RUN  npm install</code>åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ä¸ºåº”ç”¨å®‰è£…ä¾èµ–ï¼Œè¿™ä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚</li><li><code>EXPOSE 8080</code>å¯¹å¤–æä¾›ä¸€ä¸ªwebæœåŠ¡ç«¯å£</li><li><code>ENTRYPOINT [&quot;node&quot;, &quot;./app.js&quot;]</code>æŒ‡å®šäº†å½“å‰é•œåƒçš„å…¥å£ç¨‹åºï¼Œcontainerè¿è¡Œæ—¶å°±ä¼šè¿è¡Œ</li></ul></li></ul><h3 id="æ„å»ºé•œåƒ"><a href="#æ„å»ºé•œåƒ" class="headerlink" title="æ„å»ºé•œåƒ"></a>æ„å»ºé•œåƒ</h3><p>ä½¿ç”¨docker image buildæ ¹æ®Dockerfileåˆ¶ä½œé•œåƒï¼Œç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># -tç”¨äºæŒ‡å®šåˆ¶ä½œå¥½çš„é•œåƒçš„åå­—åŠæ ‡ç­¾ï¼Œé€šå¸¸ name:tag æˆ–è€… name</span><br><span class="line"># æœ€åçš„ . è¡¨ç¤ºä½¿ç”¨å½“å‰ç›®å½•ä½œä¸ºæ„å»ºä¸Šä¸‹æ–‡</span><br><span class="line">docker image build -t web:latest .</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨<code>docker image history web:latest</code>å¯ä»¥æŸ¥çœ‹æ„å»ºé•œåƒè¿‡ç¨‹ä¸­æ‰§è¡Œäº†å“ªäº›æŒ‡ä»¤</strong></p><h3 id="æ¨é€é•œåƒåˆ°Docker-Hub"><a href="#æ¨é€é•œåƒåˆ°Docker-Hub" class="headerlink" title="æ¨é€é•œåƒåˆ°Docker Hub"></a>æ¨é€é•œåƒåˆ°Docker Hub</h3><ul><li>æ¨é€é•œåƒå‰å»ºè®®ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç»™é•œåƒæ‰“æ–°æ ‡ç­¾<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># new-tagå»ºè®®ä»¥è‡ªå·±çš„ DockerHub ID/new-tag çš„æ ¼å¼å‘½åï¼Œæ–¹ä¾¿æ¨é€åˆ°è‡ªå·±çš„repo</span><br><span class="line">docker image tag &lt;current-tag&gt; &lt;new-tag&gt;</span><br></pre></td></tr></table></figure></li><li>ä½¿ç”¨<code>docker image push &lt;tag-name&gt;</code>æ¨é€é•œåƒï¼Œæ¨é€å‰éœ€è¦<code>docker login</code>,<strong>è®°å¾—æµ‹è¯•æ‰“åŒ…å¥½çš„åº”ç”¨å†æ¨é€ï¼ï¼ï¼</strong></li></ul><h3 id="Dockerfileå¸¸ç”¨æŒ‡ä»¤"><a href="#Dockerfileå¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="Dockerfileå¸¸ç”¨æŒ‡ä»¤"></a>Dockerfileå¸¸ç”¨æŒ‡ä»¤</h3><table><thead><tr><th align="center">æŒ‡ä»¤</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">FROM</td><td align="center">æŒ‡å®šè¦æ„å»ºçš„é•œåƒçš„åŸºç¡€é•œåƒï¼Œä¸€èˆ¬ä¸ºDockerfileæ–‡ä»¶ç¬¬ä¸€è¡Œ</td></tr><tr><td align="center">RUN</td><td align="center">ç”¨äºåœ¨é•œåƒä¸­æ‰§è¡Œå‘½ä»¤ï¼Œä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚</td></tr><tr><td align="center">COPY</td><td align="center">ä¸€èˆ¬ç”¨äºå°†åº”ç”¨ä»£ç copyåˆ°é•œåƒä¸­ï¼Œè¿™ä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚</td></tr><tr><td align="center">WORKDIR</td><td align="center">ç”¨äºè®¾ç½®Dockerfileä¸­æœªæ‰§è¡Œçš„æŒ‡ä»¤çš„å·¥ä½œç›®å½•</td></tr><tr><td align="center">ENTRYPOINT</td><td align="center">æŒ‡å®šé•œåƒä»¥å®¹å™¨æ–¹å¼å¯åŠ¨åé»˜è®¤è¿è¡Œçš„ç¨‹åºï¼Œ ENTRYPOINT çš„å‘½ä»¤ä¸ä¼šè¢«docker runæŒ‡å®šè¦æ‰§è¡Œçš„å‘½ä»¤è¦†ç›–</td></tr><tr><td align="center">CMD</td><td align="center">æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œä¸€ä¸ª Dockerfile ä¸­åªèƒ½æœ‰ä¸€ä¸ª CMD æŒ‡ä»¤ï¼Œå¦‚æœå†™äº†å¤šä¸ªï¼Œé‚£ä¹ˆåªæœ‰æœ€åä¸€ä¸ªä¼šæ‰§è¡Œã€‚CMD å’Œ ENTRYPOINT åŒæ—¶å­˜åœ¨æ—¶ï¼ŒCMD ä¸­çš„å†…å®¹ä¼šå˜æˆ ENTRYPOINT ä¸­æŒ‡ä»¤å‘½ä»¤çš„é»˜è®¤å‚æ•°ï¼Œè¯¥å‚æ•°å¯ä»¥è¢« docker run æ—¶è®¾ç½®çš„å‘½ä»¤è¦†ç›–</td></tr><tr><td align="center">ENV</td><td align="center">è®¾ç½®é•œåƒä¸­çš„ç¯å¢ƒå˜é‡</td></tr><tr><td align="center">EXPOSE</td><td align="center">è®°å½•åº”ç”¨æ‰€ä½¿ç”¨çš„ç½‘ç»œç«¯å£</td></tr></tbody></table><p>æ›´å¤šï¼š</p><ul><li><a href="https://docker_practice.gitee.io/image/dockerfile/">DockerfileæŒ‡ä»¤è¯¦è§£</a></li><li><a href="https://docs.docker.com/engine/reference/builder/">Dockerfile reference</a></li></ul><p align="middle"><a src="https://labs.play-with-docker.com/"><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190808232118.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190808232118.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></a></p>]]></content>
      
      
      <categories>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡ ä¸ªä¸é”™çš„Jupyter Notebookäº‘ç«¯å±•ç¤ºå¹³å°</title>
      <link href="/2019/08/07/%E5%87%A0%E4%B8%AA%E4%B8%8D%E9%94%99%E7%9A%84Jupyter%20Notebook%E4%BA%91%E7%AB%AF%E5%B1%95%E7%A4%BA%E5%B9%B3%E5%8F%B0/"/>
      <url>/2019/08/07/%E5%87%A0%E4%B8%AA%E4%B8%8D%E9%94%99%E7%9A%84Jupyter%20Notebook%E4%BA%91%E7%AB%AF%E5%B1%95%E7%A4%BA%E5%B9%B3%E5%8F%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="jupyter-nbviewer"><a href="#jupyter-nbviewer" class="headerlink" title="jupyter nbviewer"></a>jupyter nbviewer</h1><p><a href="https://nbviewer.jupyter.org/">URL:https://nbviewer.jupyter.org/</a></p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807100641.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807100641.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>ç»“åˆGithubçš„ç¤ºä¾‹ç”¨æ³•ï¼š<a href="https://nbviewer.jupyter.org/github/">https://nbviewer.jupyter.org/github/</a> + &lt;<code>ç”¨æˆ·å</code>æˆ–è€…<code>ç”¨æˆ·å/å­˜æ”¾ipynbæ–‡ä»¶çš„ä»“åº“</code>æˆ–è€…<code>Gist ID</code>&gt;</p><p>ä¾‹å¦‚ï¼š<a href="https://nbviewer.jupyter.org/github/yeshan333/JupyterNotebook-Show-sample">https://nbviewer.jupyter.org/github/yeshan333/JupyterNotebook-Show-sample</a></p><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807101034.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807101034.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807101015.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807101015.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>è¿˜è¡Œ~~~</p><h1 id="binder"><a href="#binder" class="headerlink" title="binder"></a>binder</h1><p><a href="https://mybinder.org/">URL:https://mybinder.org</a></p><p>ä½¿ç”¨æ–‡æ¡£ï¼š<a href="https://mybinder.readthedocs.io/en/latest/index.html#">https://mybinder.readthedocs.io/en/latest/index.html#</a></p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807102351.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807102351.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>ç»“åˆGithubçš„ç¤ºä¾‹ç”¨æ³•ï¼š<a href="https://mybinder.org/v2/gh/">https://mybinder.org/v2/gh/</a> + &lt;ç”¨æˆ·å/ä»“åº“å&gt; + /åˆ†æ”¯å + ?filepath= + ipynbæ–‡ä»¶å</p><p>ä¾‹å¦‚ï¼š<a href="https://mybinder.org/v2/gh/yeshan333/JupyterNotebook-Show-sample/master?filepath=demo.ipynb">https://mybinder.org/v2/gh/yeshan333/JupyterNotebook-Show-sample/master?filepath=demo.ipynb</a></p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807103106.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807103106.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><strong>å¾ˆniceå•Šï¼Œåœ¨çº¿äº¤äº’å¼ç¯å¢ƒï¼Œåœ¨çº¿è·‘ä»£ç ï¼Œå°±æ˜¯æ¸²æŸ“æœ‰ç‚¹å°æ…¢</strong></p><h1 id="google-colab"><a href="#google-colab" class="headerlink" title="google colab"></a>google colab</h1><p><a href="https://colab.research.google.com/notebooks/welcome.ipynb">å®˜æ–¹ä»‹ç»:https://colab.research.google.com/notebooks/welcome.ipynb</a>ï¼Œéœ€è¦ç§‘å­¦ä¸Šç½‘</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=62772711&cid=109062819&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807103836.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807103836.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>ç»“åˆGithubçš„ç¤ºä¾‹ç”¨æ³•ï¼š<a href="https://colab.research.google.com/github/">https://colab.research.google.com/github/</a> + ç”¨æˆ·å/ + å­˜æ”¾ipynbæ–‡ä»¶çš„ä»“åº“å/ + blob/ + åˆ†æ”¯å + è¦å±•ç¤ºçš„ipynbæ–‡ä»¶è·¯å¾„</p><p>ç¤ºä¾‹ï¼š<a href="https://colab.research.google.com/github/yeshan333/JupyterNotebook-Show-sample/blob/master/demo.ipynb">https://colab.research.google.com/github/yeshan333/JupyterNotebook-Show-sample/blob/master/demo.ipynb</a></p><p><img src="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807105348.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/ssmath/mypic/img/20190807105348.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>ä¹Ÿæ˜¯ä¸ªåœ¨çº¿çš„äº¤äº’å¼ç¯å¢ƒï¼Œå¾ˆniceäº†</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Jupyter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pdb &amp;&amp; cProfile</title>
      <link href="/2019/07/28/pdb-profile/"/>
      <url>/2019/07/28/pdb-profile/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="pdb"><a href="#pdb" class="headerlink" title="pdb"></a>pdb</h1><blockquote><p><a href="https://docs.python.org/zh-cn/3.7/library/pdb.html#module-pdb">https://docs.python.org/zh-cn/3.7/library/pdb.html#module-pdb</a></p></blockquote><h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><ul><li>1ã€åœ¨å‘½ä»¤è¡Œä¸‹ç›´æ¥è¿è¡Œè°ƒè¯•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pdb test.py</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/6367b13116f2c2beb18dfc6c.jpg" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367b13116f2c2beb18dfc6c.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><ul><li>2ã€åœ¨éœ€è¦è¢«è°ƒè¯•çš„ä»£ç ä¸­æ·»åŠ <code>import pdb</code>ã€<code>pdb.set_trace()</code>å†è¿è¡Œä»£ç è¿›è¡Œè°ƒè¯•</li></ul><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># test.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;enter func()&#x27;</span>)</span><br><span class="line"></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line"><span class="keyword">import</span> pdb</span><br><span class="line">pdb.set_trace() <span class="comment"># è¿è¡Œåˆ°æ­¤å¤„å¯åŠ¨pdb</span></span><br><span class="line">func()</span><br><span class="line">c = <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(a + b + c)</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/6367b14416f2c2beb18e1e14.jpg" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367b14416f2c2beb18e1e14.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><table><thead><tr><th align="center">ç®€å†™</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">p &lt;å˜é‡å&gt;</td><td align="center">è¾“å‡ºå˜é‡çš„å€¼</td></tr><tr><td align="center">l</td><td align="center">åˆ—å‡ºæºç ï¼Œå½“å‰ä½ç½®å‰å11è¡Œ</td></tr><tr><td align="center">n</td><td align="center">æ‰§è¡Œå“ä¸€æ¡è¯­å¥</td></tr><tr><td align="center">s</td><td align="center">æ‰§è¡Œä¸‹ä¸€æ¡è¯­å¥ï¼Œå¦‚æœæ˜¯å‡½æ•°ï¼Œåˆ™ä¼šè¿›å…¥å‡½æ•°å†…ï¼Œæ˜¾ç¤ºâ€“callâ€“ï¼Œæ‰§è¡Œå‡½æ•°å†…ç¬¬ä¸€æ¡è¯­å¥ï¼Œæ‰§è¡Œå®Œå‡½æ•°å†…è¯­å¥åè·³å‡ºæ˜¾ç¤ºâ€“returnâ€“</td></tr><tr><td align="center">b</td><td align="center">åˆ—å‡ºå½“å‰æ‰€æœ‰æ–­ç‚¹</td></tr><tr><td align="center">b <code>lineno</code></td><td align="center">åœ¨æŸè¡Œæ·»åŠ æ–­ç‚¹</td></tr><tr><td align="center">cl</td><td align="center">æ¸…é™¤æ–­ç‚¹</td></tr><tr><td align="center">q</td><td align="center">é€€å‡ºè°ƒè¯•pdb</td></tr><tr><td align="center">help</td><td align="center">å¸®åŠ©</td></tr></tbody></table><p><img src="https://pic1.imgdb.cn/item/6367b16216f2c2beb18e748f.jpg" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367b16216f2c2beb18e748f.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><h1 id="cProfile-æ€§èƒ½åˆ†æ"><a href="#cProfile-æ€§èƒ½åˆ†æ" class="headerlink" title="cProfile-æ€§èƒ½åˆ†æ"></a>cProfile-æ€§èƒ½åˆ†æ</h1><blockquote><p><a href="https://docs.python.org/zh-cn/3.7/library/profile.html">https://docs.python.org/zh-cn/3.7/library/profile.html</a></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># test.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">memoize</span>(<span class="params">f</span>):</span><br><span class="line">    memo = &#123;&#125;</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">helper</span>(<span class="params">x</span>):</span><br><span class="line">        <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> memo:</span><br><span class="line">            memo[x] = f(x)</span><br><span class="line">        <span class="keyword">return</span> memo[x]</span><br><span class="line">    <span class="keyword">return</span> helper</span><br><span class="line"></span><br><span class="line"><span class="meta">@memoize</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> fib(n-<span class="number">1</span>) + fib(n-<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib_seq</span>(<span class="params">n</span>):</span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">0</span>:</span><br><span class="line">        res.extend(fib_seq(n-<span class="number">1</span>))</span><br><span class="line">    res.append(fib(n))</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">fib_seq(<span class="number">30</span>)</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m cProfile test.py</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/6367b17716f2c2beb18eaeed.png" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367b17716f2c2beb18eaeed.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><ul><li>ncallsï¼šç›¸åº”ä»£ç /å‡½æ•°è¢«è°ƒç”¨çš„æ¬¡æ•°</li><li>tottimeï¼šç›¸åº”ä»£ç /å‡½æ•°æ‰§è¡Œæ‰€éœ€æ—¶é—´ï¼ˆä¸åŒ…æ‹¬å®ƒè°ƒç”¨çš„å…¶ä»–ä»£ç /å‡½æ•°çš„æ—¶é—´ï¼‰</li><li>tottime percallï¼štottime/ncallsçš„ç»“æœ</li><li>cumtimeï¼šå¯¹åº”ä»£ç /å‡½æ•°æ‰§è¡Œæ‰€éœ€æ—¶é—´ï¼ŒåŒ…å«å®ƒè°ƒç”¨çš„å…¶ä»–ä»£ç /å‡½æ•°çš„æ—¶é—´</li><li>cumtime percallï¼šcumtimeå’Œncallç›¸é™¤çš„å¹³å‡ç»“æœ</li></ul><p><img src="https://pic1.imgdb.cn/item/6367b1cc16f2c2beb18f777a.jpg" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367b1cc16f2c2beb18f777a.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> debug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python-è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨</title>
      <link href="/2019/07/26/Python-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8/"/>
      <url>/2019/07/26/Python-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ä¸Šä¸‹æ–‡ç®¡ç†å™¨"><a href="#ä¸Šä¸‹æ–‡ç®¡ç†å™¨" class="headerlink" title="ä¸Šä¸‹æ–‡ç®¡ç†å™¨"></a>ä¸Šä¸‹æ–‡ç®¡ç†å™¨</h1><ul><li>ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åˆ†é…å’Œé‡Šæ”¾èµ„æº</li><li>ä¸Šä¸‹æ–‡ç®¡ç†å™¨éœ€è¦é…åˆ<strong>withè¯­å¥</strong>ä½¿ç”¨</li></ul><p>æ¯”å¦‚è¿›è¡Œæ–‡ä»¶æ“ä½œçš„æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šå¿˜è®°æ“ä½œåå…³é—­æ–‡ä»¶ï¼ˆfile closeï¼‰ï¼Œä½¿ç”¨<code>with open(filename, mode) as f</code>ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å…³é—­æ–‡ä»¶ï¼Œä¸ç®¡å¤„ç†æ–‡ä»¶ä¸­æ˜¯å¦æœ‰å¼‚å¸¸å‡ºç°ï¼Œéƒ½èƒ½ä¿è¯withè¯­å¥æ‰§è¡Œå®Œæ¯•åå…³é—­æ–‡ä»¶ï¼Œæœ‰æ•ˆé˜²æ­¢èµ„æºæ³„éœ²ï¼Œå®‰å…¨å¤šäº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># with è¯­å¥çš„ä¸€èˆ¬æ ¼å¼</span></span><br><span class="line"><span class="keyword">with</span> context_expression [<span class="keyword">as</span> target(s)]:</span><br><span class="line">    <span class="keyword">with</span>-body</span><br></pre></td></tr></table></figure><p><strong>åœ¨æ‰§è¡Œwith-bodyä¼šè°ƒç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„__enter__æ–¹æ³•ï¼Œæ‰§è¡Œå®Œwith-bodyä¹‹åå†è°ƒç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„__exit__æ–¹æ³•</strong></p><span id="more"></span><h1 id="åŸºä¸ç±»çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨"><a href="#åŸºä¸ç±»çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨" class="headerlink" title="åŸºä¸ç±»çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨"></a>åŸºä¸ç±»çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨</h1><ul><li>åŸºä¸ç±»çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨éœ€è¦æˆ‘ä»¬å®ç°å¯¹è±¡çš„<code>__enter()__</code>å’Œ<code>__exit()__</code>æ–¹æ³•</li><li>æˆ‘ä»¬éœ€è¦åœ¨<code>__enter()__</code>ä¸­ç®¡ç†èµ„æºå¯¹è±¡ï¼Œåœ¨<code>__exit__()</code>ä¸­é‡Šæ”¾èµ„æº</li><li><strong>enter</strong> æ–¹æ³•åœ¨ with è¯­å¥ä½“æ‰§è¡Œå‰è°ƒç”¨ï¼Œwith è¯­å¥å°†è¯¥æ–¹æ³•çš„è¿”å›å€¼èµ‹ç»™ as å­—å¥ä¸­çš„å˜é‡ï¼Œå¦‚æœæœ‰ as å­—å¥çš„è¯</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¨¡æ‹Ÿ Python çš„æ‰“å¼€æ–‡ä»¶ã€å…³é—­æ–‡ä»¶æ“ä½œ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Filemanager</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, mode</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;calling __init__ method&#x27;</span>)</span><br><span class="line">        self.name = name</span><br><span class="line">        self.mode = mode</span><br><span class="line">        self.file = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;caling __enter__ method&#x27;</span>)</span><br><span class="line">        self.file = <span class="built_in">open</span>(self.name, self.mode)</span><br><span class="line">        <span class="keyword">return</span> self.file</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, exc_type, exc_val, exc_tb</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;caling __exit__ method&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> self.file:</span><br><span class="line">            self.file.close</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Filemanagerä¸ºä¸Šä¸‹æ–‡ç®¡ç†å™¨</span></span><br><span class="line"><span class="comment"># with Filemanager(&#x27;test.txt&#x27;, &#x27;w&#x27;) as f æ˜¯ä¸Šä¸‹æ–‡è¡¨è¾¾å¼ï¼Œfä¸ºèµ„æºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">with</span> Filemanager(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;ready to write to file&#x27;</span>)</span><br><span class="line">    f.write(<span class="string">&#x27;Hello World&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/6367a21716f2c2beb17018d0.png" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367a21716f2c2beb17018d0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><ul><li>è¿è¡Œç»“æœè§£æï¼š<ul><li>1ã€with è¯­å¥è°ƒç”¨__init__æ–¹æ³•ï¼Œåˆå§‹åŒ–å¯¹è±¡</li><li>2ã€with è¯­å¥å…ˆæš‚å­˜äº†Filemanagerçš„__exit__æ–¹æ³•</li><li>3ã€ç„¶åè°ƒç”¨__enter__æ–¹æ³•ï¼Œè¾“å‡ºcaling <strong>enter</strong> methodï¼Œè¿”å›èµ„æºå¯¹è±¡ï¼ˆè¿™é‡Œæ˜¯æ–‡ä»¶å¥æŸ„ï¼‰ç»™f</li><li>4ã€è¾“å‡ºready to write to fileï¼Œå°†Hello Worldå†™å…¥æ–‡ä»¶</li><li>5ã€æœ€åè°ƒç”¨__exit__æ–¹æ³•ï¼Œè¾“å‡ºcaling <strong>exit</strong> methodï¼Œå…³é—­ä¹‹å‰æ‰“å¼€çš„æ–‡ä»¶æµ</li></ul></li></ul><p><strong>æ³¨æ„</strong>ï¼š__exit__æ–¹æ³•ä¸­çš„å‚æ•°exc_typeã€exc_valã€exc_tbåˆ†åˆ«è¡¨ç¤ºexception typeã€exception valueã€tracebackã€‚è¿›è¡Œèµ„æºå›æ”¶æ—¶å¦‚æœæœ‰å¼‚å¸¸æŠ›å‡ºï¼Œé‚£ä¹ˆå¼‚å¸¸çš„ä¿¡æ¯å°±ä¼šåŒ…å«å†è¿™ä¸‰ä¸ªå˜é‡ä¸­ï¼Œè®©æˆ‘ä»¬å¯ä»¥å†__exit__ä¸­å¤„ç†è¿™äº›å¼‚å¸¸ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Foo</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;__init__ called&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;__enter__ called&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, exc_type, exc_value, exc_tb</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;__exit__ called&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> exc_type:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;exc_type: <span class="subst">&#123;exc_type&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;exc_value: <span class="subst">&#123;exc_value&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;exc_traceback: <span class="subst">&#123;exc_tb&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;exception handled&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Foo() <span class="keyword">as</span> obj:</span><br><span class="line">    <span class="keyword">raise</span> Exception(<span class="string">&#x27;exception raised&#x27;</span>).with_traceback(<span class="literal">None</span>)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºç»“æœï¼š</span><br><span class="line">---------------------------------------</span><br><span class="line">1ã€__exit__è¿”å› True</span><br><span class="line">__init__ called</span><br><span class="line">__enter__ called</span><br><span class="line">__exit__ called</span><br><span class="line">exc_type: &lt;class &#x27;Exception&#x27;&gt;</span><br><span class="line">exc_value: exception raised</span><br><span class="line">exc_traceback: &lt;traceback object at 0x00000234AA532F08&gt;</span><br><span class="line">exception handled</span><br><span class="line">---------------------------------------</span><br><span class="line">2ã€__exit__è¿”å› False</span><br><span class="line">__init__ called</span><br><span class="line">__enter__ called</span><br><span class="line">__exit__ called</span><br><span class="line">exc_type: &lt;class &#x27;Exception&#x27;&gt;</span><br><span class="line">exc_value: exception raised</span><br><span class="line">exc_traceback: &lt;traceback object at 0x00000120D0324F88&gt;</span><br><span class="line">exception handled</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;e:\Blog\shansan\source\_posts\context.py&quot;, line 19, in &lt;module&gt;</span><br><span class="line">    raise Exception(&#x27;exception raised&#x27;).with_traceback(None)</span><br><span class="line">Exception: exception raised</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure><p><strong>å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œ__exit__æ–¹æ³•è¿”å› True è¡¨ç¤ºä¸å¤„ç†å¼‚å¸¸ï¼Œå¦åˆ™ä¼šåœ¨é€€å‡ºè¯¥æ–¹æ³•åé‡æ–°æŠ›å‡ºå¼‚å¸¸ä»¥ç”± with è¯­å¥ä¹‹å¤–çš„ä»£ç é€»è¾‘è¿›è¡Œå¤„ç†ã€‚</strong></p><h1 id="åŸºä¸ç”Ÿæˆå™¨çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨"><a href="#åŸºä¸ç”Ÿæˆå™¨çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨" class="headerlink" title="åŸºä¸ç”Ÿæˆå™¨çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨"></a>åŸºä¸ç”Ÿæˆå™¨çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨</h1><ul><li>åŸºäºç”Ÿæˆå™¨çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„å®ç°éœ€è¦ä½¿ç”¨<code>@contextmanage</code>è£…é¥°å™¨</li><li>æˆ‘ä»¬éœ€è¦åœ¨finally block ä¸­é‡Šæ”¾èµ„æº</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> contextlib <span class="keyword">import</span> contextmanager</span><br><span class="line"></span><br><span class="line"><span class="meta">@contextmanager</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">file_manager</span>(<span class="params">name, mode</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(name, mode)</span><br><span class="line">        <span class="keyword">yield</span> f</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        f.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> file_manager(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/">æµ…è°ˆPythonçš„withè¯­å¥</a></li><li><a href="http://wiki.jikexueyuan.com/project/explore-python/Advanced-Features/context.html">ä¸Šä¸‹æ–‡ç®¡ç†å™¨-æå®¢å­¦é™¢</a></li><li><a href="http://wiki.jikexueyuan.com/project/interpy-zh/context_managers/README.html">http://wiki.jikexueyuan.com/project/interpy-zh/context_managers/README.html</a></li><li><a href="https://juejin.im/post/5c87b165f265da2dac4589cc">æ·±å…¥ç†è§£ Python ä¸­çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨</a></li><li><a href="https://time.geekbang.org/column/article/106821">Pythonæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜-æå®¢æ—¶é—´</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> ä¸Šä¸‹æ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonåç¨‹-asyncioã€async/await</title>
      <link href="/2019/07/19/Python%E5%8D%8F%E7%A8%8B%EF%BC%88Coroutine%EF%BC%89/"/>
      <url>/2019/07/19/Python%E5%8D%8F%E7%A8%8B%EF%BC%88Coroutine%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>çœ‹åˆ°åè¡€ <em>(Â´à½€`ã€ âˆ )</em></p></blockquote><ul><li>åç¨‹(Coroutine)æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç‰¹ç‚¹æ˜¯åœ¨ä»£ç å—ä¸­å¯ä»¥å°†æ‰§è¡Œæƒäº¤ç»™å…¶ä»–åç¨‹</li><li>ä¼—æ‰€å‘¨çŸ¥ï¼Œå­ç¨‹åºï¼ˆå‡½æ•°ï¼‰éƒ½æ˜¯å±‚çº§è°ƒç”¨çš„ï¼Œå¦‚æœåœ¨Aä¸­è°ƒç”¨äº†Bï¼Œé‚£ä¹ˆBæ‰§è¡Œå®Œæ¯•è¿”å›åAæ‰èƒ½æ‰§è¡Œå®Œæ¯•ã€‚<strong>åç¨‹ä¸å­ç¨‹åºæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥ä¸­æ–­ï¼Œè½¬è€Œæ‰§è¡Œå…¶ä»–çš„åç¨‹ï¼Œåœ¨é€‚å½“çš„æ—¶å€™å†å›æ¥ç»§ç»­æ‰§è¡Œã€‚</strong></li><li>åç¨‹ä¸å¤šçº¿ç¨‹ç›¸æ¯”çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºï¼šåç¨‹æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œæ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼›åç¨‹ç”±ç”¨æˆ·å†³å®šåœ¨å“ªé‡Œäº¤å‡ºæ§åˆ¶æƒ</li><li>è¿™é‡Œç”¨åˆ°çš„æ˜¯asyncioåº“(Python 3.7)ï¼Œè¿™ä¸ªåº“åŒ…å«äº†å¤§éƒ¨åˆ†å®ç°åç¨‹çš„é­”æ³•å·¥å…·<ul><li>ä½¿ç”¨ async ä¿®é¥°è¯å£°æ˜å¼‚æ­¥å‡½æ•°</li><li>ä½¿ç”¨ await è¯­å¥æ‰§è¡Œå¯ç­‰å¾…å¯¹è±¡ï¼ˆCoroutineã€Taskã€Futureï¼‰</li><li>ä½¿ç”¨ asyncio.create_task åˆ›å»ºä»»åŠ¡ï¼Œå°†å¼‚æ­¥å‡½æ•°ï¼ˆåç¨‹ï¼‰ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œç­‰å¾…<a href="https://docs.python.org/3/library/asyncio-eventloop.html">event loop</a>æ‰§è¡Œ</li><li>ä½¿ç”¨ asyncio.run å‡½æ•°è¿è¡Œåç¨‹ç¨‹åºï¼Œåç¨‹å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥</li></ul></li></ul><span id="more"></span><h1 id="è§£æåç¨‹è¿è¡Œæ—¶"><a href="#è§£æåç¨‹è¿è¡Œæ—¶" class="headerlink" title="è§£æåç¨‹è¿è¡Œæ—¶"></a>è§£æåç¨‹è¿è¡Œæ—¶</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">a</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿ä½¿ç”¨ a ï¼&quot;</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿å›åˆ° a ï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">b</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿æ¥åˆ° b ï¼&quot;</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿å›åˆ° b ï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    task1 = asyncio.create_task(a())</span><br><span class="line">    task2 = asyncio.create_task(b())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å‡†å¤‡å¼€å§‹&quot;</span>)</span><br><span class="line">    <span class="keyword">await</span> task1</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;task1 ç»“æŸ&quot;</span>)</span><br><span class="line">    <span class="keyword">await</span> task2</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;task2 ç»“æŸ&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    start = time.perf_counter()</span><br><span class="line"></span><br><span class="line">    asyncio.run(main())</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;èŠ±è´¹ &#123;&#125; s&#x27;</span>.<span class="built_in">format</span>(time.perf_counter() - start))</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/11/06/xjumWD.png" class="lazyload" data-srcset="https://s1.ax1x.com/2022/11/06/xjumWD.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><ul><li>è§£é‡Šï¼š<ul><li>1ã€asyncio.run(main())ï¼Œç¨‹åºè¿›å…¥main()å‡½æ•°ï¼Œå¼€å¯äº‹ä»¶å¾ªç¯</li><li>2ã€åˆ›å»ºä»»åŠ¡task1ã€task2å¹¶è¿›å…¥äº‹ä»¶å¾ªç¯ç­‰å¾…è¿è¡Œ</li><li>3ã€è¾“å‡ºå‡†å¤‡å¼€å§‹</li><li>4ã€æ‰§è¡Œawait task1ï¼Œç”¨æˆ·é€‰æ‹©ä»å½“å‰ä¸»ä»»åŠ¡ä¸­åˆ‡å‡ºï¼Œ<strong>äº‹ä»¶è°ƒåº¦å™¨å¼€å§‹è°ƒåº¦ a</strong></li><li>5ã€a å¼€å§‹è¿è¡Œï¼Œè¾“å‡ºæ¬¢è¿ä½¿ç”¨aï¼ï¼Œ<strong>è¿è¡Œåˆ°await asyncio.sleep(1)ï¼Œä»å½“å‰ä»»åŠ¡åˆ‡å‡ºï¼Œäº‹ä»¶è°ƒåº¦å™¨å¼€å§‹è°ƒåº¦ b</strong></li><li>6ã€b å¼€å§‹è¿è¡Œï¼Œè¾“å‡ºæ¬¢è¿æ¥åˆ°bï¼ï¼Œ<strong>è¿è¡Œåˆ°await asyncio.sleep(2)ï¼Œä»å½“å‰ä»»åŠ¡åˆ‡å‡º</strong></li><li>7ã€ä»¥ä¸Šäº‹ä»¶è¿è¡Œæ—¶é—´éå¸¸çŸ­ï¼ˆæ¯«ç§’ï¼‰ï¼Œ<strong>äº‹ä»¶è°ƒåº¦å™¨å¼€å§‹æš‚åœè°ƒåº¦</strong></li><li>8ã€<strong>ä¸€ç§’é’Ÿåï¼Œaçš„sleepå®Œæˆï¼Œäº‹ä»¶è°ƒåº¦å™¨å°†æ§åˆ¶æƒé‡æ–°äº¤ç»™a</strong>ï¼Œè¾“å‡ºæ¬¢è¿å›åˆ°aï¼ï¼Œtask1å®Œæˆä»»åŠ¡ï¼Œé€€å‡ºäº‹ä»¶å¾ªç¯</li><li>9ã€await task1å®Œæˆï¼Œäº‹ä»¶è°ƒåº¦å™¨å°†æ§åˆ¶æƒè¿˜ç»™ä¸»ä»»åŠ¡ï¼Œè¾“å‡ºtask1ç»“æŸï¼Œç„¶ååœ¨await task2å¤„ç»§ç»­ç­‰å¾…</li><li>10ã€<strong>ä¸¤ç§’é’Ÿåï¼Œbçš„sleepå®Œæˆï¼Œäº‹ä»¶è°ƒåº¦å™¨å°†æ§åˆ¶æƒé‡æ–°ä¼ ç»™ b</strong>ï¼Œè¾“å‡ºæ¬¢è¿å›åˆ° bï¼ï¼Œtask2å®Œæˆä»»åŠ¡ï¼Œä»äº‹ä»¶å¾ªç¯ä¸­é€€å‡º</li><li>11ã€äº‹ä»¶è°ƒåº¦å™¨å°†æ§åˆ¶æƒäº¤è¿˜ç»™ä¸»ä»»åŠ¡ï¼Œä¸»ä»»åŠ¡è¾“å‡ºtask2ç»“æŸï¼Œè‡³æ­¤åç¨‹ä»»åŠ¡å…¨éƒ¨ç»“æŸï¼Œäº‹ä»¶å¾ªç¯ç»“æŸã€‚</li></ul></li></ul><p><strong>ä¸Šé¢çš„ä»£ç ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼Œå°†15åˆ°21è¡Œæ¢æˆä¸€è¡Œ<code>await asyncio.gather(a(), b())</code>ä¹Ÿèƒ½å®ç°ç±»ä¼¼çš„æ•ˆæœ</strong>ï¼Œawait asyncio.gather ä¼šå¹¶å‘è¿è¡Œä¼ å…¥çš„å¯ç­‰å¾…å¯¹è±¡ï¼ˆCoroutineã€Taskã€Futureï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">a</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿ä½¿ç”¨ a ï¼&quot;</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿å›åˆ° a ï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">b</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿æ¥åˆ° b ï¼&quot;</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿å›åˆ° b ï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="keyword">await</span> asyncio.gather(a(), b())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    start = time.perf_counter()</span><br><span class="line"></span><br><span class="line">    asyncio.run(main())</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;èŠ±è´¹ &#123;&#125; s&#x27;</span>.<span class="built_in">format</span>(time.perf_counter() - start))</span><br></pre></td></tr></table></figure><h1 id="å¼‚æ­¥æ¥å£åŒæ­¥å®ç°"><a href="#å¼‚æ­¥æ¥å£åŒæ­¥å®ç°" class="headerlink" title="å¼‚æ­¥æ¥å£åŒæ­¥å®ç°"></a>å¼‚æ­¥æ¥å£åŒæ­¥å®ç°</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">- ç®€å•çˆ¬è™«æ¨¡æ‹Ÿ</span></span><br><span class="line"><span class="string">- è¿™é‡Œç”¨å¼‚æ­¥æ¥å£å†™äº†ä¸ªåŒæ­¥ä»£ç </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">crawl_page</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;crawling &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(url))</span><br><span class="line">    sleep_time = <span class="built_in">int</span>(url.split(<span class="string">&#x27;_&#x27;</span>)[-<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(sleep_time)  <span class="comment"># ä¼‘çœ </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;OK &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(url))</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">urls</span>):</span><br><span class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">        <span class="keyword">await</span> crawl_page(url)  <span class="comment"># awaitä¼šå°†ç¨‹åºé˜»å¡åœ¨è¿™é‡Œï¼Œè¿›å…¥è¢«è°ƒç”¨çš„åç¨‹å‡½æ•°ï¼Œæ‰§è¡Œå®Œæ¯•åå†ç»§ç»­</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">start = time.perf_counter()</span><br><span class="line"></span><br><span class="line"><span class="comment"># pip install nest-asyncio</span></span><br><span class="line">asyncio.run(main([<span class="string">&#x27;url_1&#x27;</span>, <span class="string">&#x27;url_2&#x27;</span>])) <span class="comment"># åç¨‹æ¥å£</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Cost &#123;&#125; s&quot;</span>.<span class="built_in">format</span>(time.perf_counter() - start))</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/11/06/xjuKQH.png" class="lazyload" data-srcset="https://s1.ax1x.com/2022/11/06/xjuKQH.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h1 id="ä½¿ç”¨-Task-å®ç°å¼‚æ­¥"><a href="#ä½¿ç”¨-Task-å®ç°å¼‚æ­¥" class="headerlink" title="ä½¿ç”¨ Task å®ç°å¼‚æ­¥"></a>ä½¿ç”¨ Task å®ç°å¼‚æ­¥</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼‚æ­¥å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">crawl_page</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;crawling &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(url))</span><br><span class="line">    sleep_time = <span class="built_in">int</span>(url.split(<span class="string">&#x27;_&#x27;</span>)[-<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(sleep_time)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;OK &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(url))</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">urls</span>):</span><br><span class="line">    tasks = [asyncio.create_task(crawl_page(url)) <span class="keyword">for</span> url <span class="keyword">in</span> urls]</span><br><span class="line">    <span class="keyword">for</span> task <span class="keyword">in</span> tasks:</span><br><span class="line">        <span class="keyword">await</span> task</span><br><span class="line">    <span class="comment"># 14ã€15è¡Œä¹Ÿå¯ä»¥æ¢æˆè¿™ä¸€è¡Œawait asyncio.gather(*tasks)</span></span><br><span class="line">    <span class="comment"># *tasks è§£åŒ…åˆ—è¡¨ï¼Œå°†åˆ—è¡¨å˜æˆäº†å‡½æ•°çš„å‚æ•°ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯ï¼Œ** dict å°†å­—å…¸å˜æˆäº†å‡½æ•°çš„å‚æ•°</span></span><br><span class="line"></span><br><span class="line">start = time.perf_counter()</span><br><span class="line"></span><br><span class="line">asyncio.run(main([<span class="string">&#x27;url_1&#x27;</span>, <span class="string">&#x27;url_2&#x27;</span>]))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Cost &#123;&#125; s&quot;</span>.<span class="built_in">format</span>(time.perf_counter() - start))</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/11/06/xjuQOA.png" class="lazyload" data-srcset="https://s1.ax1x.com/2022/11/06/xjuQOA.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h1 id="ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹çš„åç¨‹ç‰ˆæœ¬"><a href="#ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹çš„åç¨‹ç‰ˆæœ¬" class="headerlink" title="ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹çš„åç¨‹ç‰ˆæœ¬"></a>ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹çš„åç¨‹ç‰ˆæœ¬</h1><p><a href="https://zh.wikipedia.org/wiki/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><img src="https://s1.ax1x.com/2022/11/06/xju1eI.png" class="lazyload" data-srcset="https://s1.ax1x.com/2022/11/06/xju1eI.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="wiki ç™¾ç§‘ ä»‹ç»"></a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æå®¢æ—¶é—´ï¼šPythonæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">consumer</span>(<span class="params">queue, <span class="built_in">id</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;æ¶ˆè´¹è€…&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        val = <span class="keyword">await</span> queue.get()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; get a val : &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">id</span>, val))</span><br><span class="line">        <span class="keyword">await</span> asyncio.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">producer</span>(<span class="params">queue, <span class="built_in">id</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ç”Ÿäº§è€…&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        val = random.randint(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="keyword">await</span> queue.put(val)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; put a val: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">id</span>, val))</span><br><span class="line">        <span class="keyword">await</span> asyncio.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    queue = asyncio.Queue()</span><br><span class="line"></span><br><span class="line">    consumer_1 = asyncio.create_task(consumer(queue, <span class="string">&#x27;consumer_1&#x27;</span>))</span><br><span class="line">    consumer_2 = asyncio.create_task(consumer(queue, <span class="string">&#x27;consumer_2&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    producer_1 = asyncio.create_task(producer(queue, <span class="string">&#x27;producer_1&#x27;</span>))</span><br><span class="line">    producer_2 = asyncio.create_task(producer(queue, <span class="string">&#x27;producer_2&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># cancelæ‰æ‰§è¡Œä¹‹é—´è¿‡é•¿çš„consumer_1ã€consumer_2,while True</span></span><br><span class="line">    consumer_1.cancel()</span><br><span class="line">    consumer_2.cancel()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># return_exceptions è®¾ä¸ºTrueï¼Œä¸è®©å¼‚å¸¸throwåˆ°æ‰§è¡Œå±‚ï¼Œå½±å“åç»­ä»»åŠ¡çš„æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">await</span> asyncio.gather(consumer_1, consumer_2, producer_1, producer_2, return_exceptions=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    start = time.perf_counter()</span><br><span class="line"></span><br><span class="line">    asyncio.run(main())</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Cost &#123;&#125; s&quot;</span>.<span class="built_in">format</span>(time.perf_counter() - start))</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/6367a0fc16f2c2beb16e6290.gif" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367a0fc16f2c2beb16e6290.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># è¾“å‡ºç»“æœ</span><br><span class="line">producer_1 put a val: 7</span><br><span class="line">producer_2 put a val: 4</span><br><span class="line">consumer_1 get a val : 7</span><br><span class="line">consumer_2 get a val : 4</span><br><span class="line">producer_1 put a val: 6</span><br><span class="line">producer_2 put a val: 1</span><br><span class="line">consumer_2 get a val : 6</span><br><span class="line">consumer_1 get a val : 1</span><br><span class="line">producer_1 put a val: 8</span><br><span class="line">producer_2 put a val: 1</span><br><span class="line">consumer_1 get a val : 8</span><br><span class="line">consumer_2 get a val : 1</span><br><span class="line">producer_1 put a val: 6</span><br><span class="line">producer_2 put a val: 4</span><br><span class="line">consumer_2 get a val : 6</span><br><span class="line">consumer_1 get a val : 4</span><br><span class="line">producer_1 put a val: 7</span><br><span class="line">producer_2 put a val: 8</span><br><span class="line">consumer_1 get a val : 7</span><br><span class="line">consumer_2 get a val : 8</span><br><span class="line">Cost 10.0093015 s</span><br></pre></td></tr></table></figure><p>æ‹“å±•é˜…è¯»ï¼š<a href="https://cloud.tencent.com/developer/article/1153746">Pythonçš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº†</a></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><p><a href="https://docs.python.org/3/library/asyncio.html#module-asyncio">https://docs.python.org/3/library/asyncio.html#module-asyncio</a></p></li><li><p><a href="https://www.dongwm.com/post/142/">æ·±å…¥ç†è§£asyncioï¼ˆä¸€ï¼‰</a></p></li><li><p><a href="https://time.geekbang.org/column/article/101855">æ­å¯†Pythonåç¨‹</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> åç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>breakingä¸€å¦‚æ—¢å¾€çš„å¸…</title>
      <link href="/2019/07/12/breaking%E4%B8%80%E5%A6%82%E6%97%A2%E5%BE%80%E7%9A%84%E5%B8%85/"/>
      <url>/2019/07/12/breaking%E4%B8%80%E5%A6%82%E6%97%A2%E5%BE%80%E7%9A%84%E5%B8%85/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=57840142&cid=100946886&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div><p>** çœ‹åˆ°äº†å°±çˆ±ä¸Šäº†ï¼Œ(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§Cloudçš„style moveçœŸçš„å¸…~~~ï¼ˆè™½ç„¶å¾ˆä¹…æ²¡ç©breakingäº†ã€‚ã€‚ã€‚ã€‚ã€‚(ãƒã¸ï¿£ã€)ï¼‰**</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LatexåŸºæœ¬è¯­æ³•ç®€è®°</title>
      <link href="/2019/06/18/latex%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%E7%AE%80%E8%AE%B0/"/>
      <url>/2019/06/18/latex%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%E7%AE%80%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>å¤‡æ³¨ï¼šå½“å‰åšå®¢ä½¿ç”¨çš„ latex æ¸²æŸ“å¼•æ“æœ‰ç‚¹é—®é¢˜ï¼Œæœ¬ç¯‡æ–‡ç« æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼š<a href="https://blog.csdn.net/qq_41022329/article/details/92798759">https://blog.csdn.net/qq_41022329/article/details/92798759</a></p></blockquote><h1 id="å…¬å¼æ’å…¥æ–¹å¼"><a href="#å…¬å¼æ’å…¥æ–¹å¼" class="headerlink" title="å…¬å¼æ’å…¥æ–¹å¼"></a>å…¬å¼æ’å…¥æ–¹å¼</h1><ol><li>è¡Œå†…å…¬å¼å¯ç”¨<code>\(...\)</code>æˆ–<code>$...$</code></li></ol><ul><li>ä¾‹å¦‚<code>$ f(x)=x^2 $</code>,æ˜¾ç¤ºä¸º$ f(x)=x^2 $</li></ul><ol start="2"><li>ç‹¬ç«‹å…¬å¼ï¼ˆå•ç‹¬å¦èµ·ä¸€è¡Œ,å…¬å¼ä¼šå±…ä¸­ï¼‰ï¼Œä½¿ç”¨<code>$$...$$</code>æˆ–<code>\[...\]</code></li></ol><ul><li>ä¾‹å¦‚ï¼š<code>$$ \int&#123;f(x)dx&#125; $$</code>æˆ– <code>$$ \int_a^b&#123;f(x)dx&#125; $$</code>ï¼Œæ˜¾ç¤ºä¸º:</li></ul><p>$$ \int{f(x)dx} $$</p><p>$$ \int_a^b{f(x)dx} $$</p><span id="more"></span><h1 id="å¤§æ‹¬å·çš„ä½¿ç”¨"><a href="#å¤§æ‹¬å·çš„ä½¿ç”¨" class="headerlink" title="å¤§æ‹¬å·çš„ä½¿ç”¨"></a>å¤§æ‹¬å·çš„ä½¿ç”¨</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">æ–¹æ³•ä¸€ï¼š</span><br><span class="line">$$ f(x)=\left\&#123;</span><br><span class="line">\begin&#123;aligned&#125;</span><br><span class="line">x &amp; = &amp; \cos(t) \\</span><br><span class="line">y &amp; = &amp; \sin(t) \\</span><br><span class="line">z &amp; = &amp; \frac xy</span><br><span class="line">\end&#123;aligned&#125;</span><br><span class="line">\right.</span><br><span class="line">$$</span><br><span class="line">æ–¹æ³•äºŒï¼š</span><br><span class="line">$$ F^&#123;HLLC&#125;=\left\&#123;</span><br><span class="line">\begin&#123;array&#125;&#123;rcl&#125;</span><br><span class="line">F_L       &amp;      &amp; &#123;0      &lt;      S_L&#125;\\</span><br><span class="line">F^*_L     &amp;      &amp; &#123;S_L \leq 0 &lt; S_M&#125;\\</span><br><span class="line">F^*_R     &amp;      &amp; &#123;S_M \leq 0 &lt; S_R&#125;\\</span><br><span class="line">F_R       &amp;      &amp; &#123;S_R \leq 0&#125;</span><br><span class="line">\end&#123;array&#125; \right. $$</span><br><span class="line">æ–¹æ³•ä¸‰:</span><br><span class="line">$$f(x)=</span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">0&amp; \text&#123;x=0&#125;\\</span><br><span class="line">1&amp; \text&#123;x!=0&#125;</span><br><span class="line">\end&#123;cases&#125;$$</span><br></pre></td></tr></table></figure><p>æ–¹æ³•ä¸€ï¼š</p><p>$$ f(x)=\left{<br>\begin{aligned}<br>x &amp; = &amp; \cos(t) \<br>y &amp; = &amp; \sin(t) \<br>z &amp; = &amp; \frac xy<br>\end{aligned}<br>\right.<br>$$</p><p>æ–¹æ³•äºŒï¼š</p><p>$$ F^{HLLC}=\left{<br>\begin{array}{rcl}<br>F_L       &amp;      &amp; {0      &lt;      S_L}\<br>F^*_L     &amp;      &amp; {S_L \leq 0 &lt; S_M}\<br>F^*_R     &amp;      &amp; {S_M \leq 0 &lt; S_R}\<br>F_R       &amp;      &amp; {S_R \leq 0}<br>\end{array} \right. $$</p><p>æ–¹æ³•ä¸‰:</p><p>$$f(x)=<br>\begin{cases}<br>0&amp; \text{x=0}\<br>1&amp; \text{x!=0}<br>\end{cases}$$</p><h1 id="ç¬¦å·è¡¨"><a href="#ç¬¦å·è¡¨" class="headerlink" title="ç¬¦å·è¡¨"></a>ç¬¦å·è¡¨</h1><p>è¦è¾“å‡ºå­—ç¬¦ã€€ç©ºæ ¼ã€€#ã€€$ã€€%ã€€&amp;ã€€_ã€€{ã€€}ã€€ï¼Œç”¨å‘½ä»¤ï¼š<code>\ç©ºæ ¼ã€€#ã€€\$ã€€\%ã€€\&amp;ã€€_ã€€&#123;ã€€&#125;</code></p><h2 id="è¿ç®—ç¬¦è¡¨"><a href="#è¿ç®—ç¬¦è¡¨" class="headerlink" title="è¿ç®—ç¬¦è¡¨"></a>è¿ç®—ç¬¦è¡¨</h2><h3 id="å…³ç³»è¿ç®—ç¬¦"><a href="#å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦"></a>å…³ç³»è¿ç®—ç¬¦</h3><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th></tr></thead><tbody><tr><td align="center">\pm</td><td align="center">$\pm$</td><td align="center">\times</td><td align="center">$\times$</td></tr><tr><td align="center">\div</td><td align="center">$\div$</td><td align="center">\mid</td><td align="center">$\mid$</td></tr><tr><td align="center">\nmid</td><td align="center">$\nmid$</td><td align="center">\cdot</td><td align="center">$\cdot$</td></tr><tr><td align="center">\circ</td><td align="center">$\circ$</td><td align="center">\ast</td><td align="center">$\ast$</td></tr><tr><td align="center">\bigodot</td><td align="center">$\bigodot$</td><td align="center">\bigotimes</td><td align="center">$\bigotimes$</td></tr><tr><td align="center">\bigoplus</td><td align="center">$\bigoplus$</td><td align="center">\leq</td><td align="center">$\leq$</td></tr><tr><td align="center">\geq</td><td align="center">$\geq$</td><td align="center">\neq</td><td align="center">$\neq$</td></tr><tr><td align="center">\approx</td><td align="center">$\approx$</td><td align="center">\equiv</td><td align="center">$\equiv$</td></tr><tr><td align="center">\sum</td><td align="center">$\sum$</td><td align="center">\prod</td><td align="center">$\prod$</td></tr></tbody></table><h3 id="é›†åˆè¿ç®—ç¬¦"><a href="#é›†åˆè¿ç®—ç¬¦" class="headerlink" title="é›†åˆè¿ç®—ç¬¦"></a>é›†åˆè¿ç®—ç¬¦</h3><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th></tr></thead><tbody><tr><td align="center">\emptyset</td><td align="center">$\emptyset$</td><td align="center">\in</td><td align="center">$\in$</td></tr><tr><td align="center">\notin</td><td align="center">$\notin$</td><td align="center">\subset</td><td align="center">$\subset$</td></tr><tr><td align="center">\supset</td><td align="center">$\supset$</td><td align="center">\subseteq</td><td align="center">$\subseteq$</td></tr><tr><td align="center">\supseteq</td><td align="center">$\supseteq$</td><td align="center">\bigcap</td><td align="center">$\bigcap$</td></tr><tr><td align="center">\bigcup</td><td align="center">$\bigcup$</td><td align="center">\bigvee</td><td align="center">$\bigvee$</td></tr><tr><td align="center">\bigwedge</td><td align="center">$\bigwedge$</td><td align="center">\biguplus</td><td align="center">$\biguplus$</td></tr><tr><td align="center">\bigsqcup</td><td align="center">$\bigsqcup$</td><td align="center">&ensp;</td><td align="center">&ensp;</td></tr></tbody></table><h3 id="å¯¹æ•°è¿ç®—ç¬¦"><a href="#å¯¹æ•°è¿ç®—ç¬¦" class="headerlink" title="å¯¹æ•°è¿ç®—ç¬¦"></a>å¯¹æ•°è¿ç®—ç¬¦</h3><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th></tr></thead><tbody><tr><td align="center">\log</td><td align="center">$\log$</td><td align="center">\lg</td><td align="center">$\lg$</td><td align="center">\ln</td><td align="center">$\ln$</td></tr></tbody></table><h3 id="ä¸‰è§’è¿ç®—ç¬¦"><a href="#ä¸‰è§’è¿ç®—ç¬¦" class="headerlink" title="ä¸‰è§’è¿ç®—ç¬¦"></a>ä¸‰è§’è¿ç®—ç¬¦</h3><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th></tr></thead><tbody><tr><td align="center">\bot</td><td align="center">$\bot$</td><td align="center">\angle</td><td align="center">$\angle$</td><td align="center">30^\circ</td><td align="center">$30^\circ$</td></tr><tr><td align="center">\sin</td><td align="center">$\sin$</td><td align="center">\cos</td><td align="center">$\cos$</td><td align="center">\tan</td><td align="center">$\tan$</td></tr><tr><td align="center">\cot</td><td align="center">$\cot$</td><td align="center">\sec</td><td align="center">$\sec$</td><td align="center">\csc</td><td align="center">$\csc$</td></tr></tbody></table><h3 id="å¾®ç§¯åˆ†è¿ç®—ç¬¦"><a href="#å¾®ç§¯åˆ†è¿ç®—ç¬¦" class="headerlink" title="å¾®ç§¯åˆ†è¿ç®—ç¬¦"></a>å¾®ç§¯åˆ†è¿ç®—ç¬¦</h3><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th></tr></thead><tbody><tr><td align="center">\prime</td><td align="center">$\prime$</td><td align="center">\int</td><td align="center">$\int$</td><td align="center">\iint</td><td align="center">$\iint$</td></tr><tr><td align="center">\iiint</td><td align="center">$\iiint$</td><td align="center">\oint</td><td align="center">$\oint$</td><td align="center">\lim</td><td align="center">$\lim$</td></tr><tr><td align="center">\infty</td><td align="center">$\infty$</td><td align="center">\nabla</td><td align="center">$\nabla$</td><td align="center">&ensp;</td><td align="center">&ensp;</td></tr></tbody></table><h3 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h3><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th></tr></thead><tbody><tr><td align="center">\because</td><td align="center">$\because$</td><td align="center">\therefore</td><td align="center">$\therefore$</td><td align="center">\forall</td><td align="center">$\forall$</td></tr><tr><td align="center">\exists</td><td align="center">$\exists$</td><td align="center">\not=</td><td align="center">$\not=$</td><td align="center">\not&gt;</td><td align="center">$\not&gt;$</td></tr><tr><td align="center">\not&lt;</td><td align="center">$\not&lt;$</td><td align="center">\not\subset</td><td align="center">$\not\subset$</td><td align="center">&ensp;</td><td align="center">&ensp;</td></tr></tbody></table><h2 id="å…¶å®ƒç¬¦å·"><a href="#å…¶å®ƒç¬¦å·" class="headerlink" title="å…¶å®ƒç¬¦å·"></a>å…¶å®ƒç¬¦å·</h2><h3 id="æˆ´å¸½å’Œè¿çº¿ç¬¦å·"><a href="#æˆ´å¸½å’Œè¿çº¿ç¬¦å·" class="headerlink" title="æˆ´å¸½å’Œè¿çº¿ç¬¦å·"></a>æˆ´å¸½å’Œè¿çº¿ç¬¦å·</h3><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th></tr></thead><tbody><tr><td align="center">\hat{y}</td><td align="center">$\hat{y}$</td><td align="center">\check{y}</td><td align="center">$\check{y}$</td><td align="center">\breve</td><td align="center">$\breve{y}$</td></tr><tr><td align="center">\overline{a+b+c+d}</td><td align="center">$\overline{a+b+c+d}$</td><td align="center">\underline{a+b+c+d}</td><td align="center">$\underline{a+b+c+d}$</td><td align="center">\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}</td><td align="center">$\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}$</td></tr></tbody></table><h3 id="ç®­å¤´ç¬¦å·"><a href="#ç®­å¤´ç¬¦å·" class="headerlink" title="ç®­å¤´ç¬¦å·"></a>ç®­å¤´ç¬¦å·</h3><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th></tr></thead><tbody><tr><td align="center">\uparrow</td><td align="center">$\uparrow$</td><td align="center">\downarrow</td><td align="center">$\downarrow$</td><td align="center">\Uparrow</td><td align="center">$\Uparrow$</td></tr><tr><td align="center">\Downarrow</td><td align="center">$\Downarrow$</td><td align="center">\rightarrow</td><td align="center">$\rightarrow$</td><td align="center">\leftarrow</td><td align="center">$\leftarrow$</td></tr><tr><td align="center">\Rightarrow</td><td align="center">$\Rightarrow$</td><td align="center">\Leftarrow</td><td align="center">$\Leftarrow$</td><td align="center">\longrightarrow</td><td align="center">$\longrightarrow$</td></tr><tr><td align="center">\Longrightarrow</td><td align="center">$\Longrightarrow$</td><td align="center">\longleftarrow</td><td align="center">$\longleftarrow$</td><td align="center">\Longleftarrow</td><td align="center">$\Longleftarrow$</td></tr></tbody></table><h1 id="çŸ©é˜µ"><a href="#çŸ©é˜µ" class="headerlink" title="çŸ©é˜µ"></a>çŸ©é˜µ</h1><h2 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h2><ul><li>èµ·å§‹æ ‡è®°<code>\begin&#123;matrix&#125;</code>,ç»“æŸæ ‡è®°<code>\end&#123;matrix&#125;</code></li><li>æ¯ä¸€è¡Œæœ«æ ‡è®°<code>\\</code>è¿›è¡Œæ¢è¡Œï¼Œè¡Œé—´å…ƒç´ ä»¥<code>&amp;</code>åˆ†éš”ç”¨äºå¯¹é½ã€‚</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span><span class="keyword">\begin</span>&#123;matrix&#125;</span><br><span class="line">1<span class="built_in">&amp;</span>0<span class="built_in">&amp;</span>0<span class="keyword">\\</span></span><br><span class="line">0<span class="built_in">&amp;</span>1<span class="built_in">&amp;</span>0<span class="keyword">\\</span></span><br><span class="line">0<span class="built_in">&amp;</span>0<span class="built_in">&amp;</span>1<span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>&#123;matrix&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>$$\begin{matrix}<br>1&amp;0&amp;0\<br>0&amp;1&amp;0\<br>0&amp;0&amp;1\<br>\end{matrix}$$</p><h2 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h2><ul><li>å¯ç”¨ä¸‹åˆ—è¯æ›¿æ¢<code>matrix</code>è®¾ç½®çŸ©é˜µè¾¹æ¡†<ul><li>pmatrixã€bmatrixã€Bmatrixï¼šå°æ‹¬å·ã€ä¸­æ‹¬å·ã€å¤§æ‹¬å·è¾¹æ¡†</li><li>vmatrixã€Vmatrixï¼šå•ç«–çº¿ã€åŒç«–çº¿è¾¹æ¡†</li></ul></li><li>çœç•¥å…ƒç´ <ul><li>æ¨ªçœç•¥å·ï¼š<code>\cdots</code></li><li>ç«–çœç•¥å·ï¼š<code>\vdots</code></li><li>æ–œçœç•¥å·ï¼š<code>\ddots</code></li></ul></li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span><span class="keyword">\begin</span>&#123;Bmatrix&#125;</span><br><span class="line">&#123;a<span class="built_in">_</span>&#123;11&#125;&#125;<span class="built_in">&amp;</span>&#123;a<span class="built_in">_</span>&#123;12&#125;&#125;<span class="built_in">&amp;</span>&#123;<span class="keyword">\cdots</span>&#125;<span class="built_in">&amp;</span>&#123;a<span class="built_in">_</span>&#123;1n&#125;&#125;<span class="keyword">\\</span></span><br><span class="line">&#123;a<span class="built_in">_</span>&#123;21&#125;&#125;<span class="built_in">&amp;</span>&#123;a<span class="built_in">_</span>&#123;22&#125;&#125;<span class="built_in">&amp;</span>&#123;<span class="keyword">\cdots</span>&#125;<span class="built_in">&amp;</span>&#123;a<span class="built_in">_</span>&#123;2n&#125;&#125;<span class="keyword">\\</span></span><br><span class="line">&#123;<span class="keyword">\vdots</span>&#125;<span class="built_in">&amp;</span>&#123;<span class="keyword">\vdots</span>&#125;<span class="built_in">&amp;</span>&#123;<span class="keyword">\ddots</span>&#125;<span class="built_in">&amp;</span>&#123;<span class="keyword">\vdots</span>&#125;<span class="keyword">\\</span></span><br><span class="line">&#123;a<span class="built_in">_</span>&#123;m1&#125;&#125;<span class="built_in">&amp;</span>&#123;a<span class="built_in">_</span>&#123;m2&#125;&#125;<span class="built_in">&amp;</span>&#123;<span class="keyword">\cdots</span>&#125;<span class="built_in">&amp;</span>&#123;a<span class="built_in">_</span>&#123;mn&#125;&#125;<span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>&#123;Bmatrix&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>$$\begin{Bmatrix}<br>{a_{11}}&amp;{a_{12}}&amp;{\cdots}&amp;{a_{1n}}\<br>{a_{21}}&amp;{a_{22}}&amp;{\cdots}&amp;{a_{2n}}\<br>{\vdots}&amp;{\vdots}&amp;{\ddots}&amp;{\vdots}\<br>{a_{m1}}&amp;{a_{m2}}&amp;{\cdots}&amp;{a_{mn}}\<br>\end{Bmatrix}$$</p><h1 id="å¸Œè…Šå­—æ¯è¡¨"><a href="#å¸Œè…Šå­—æ¯è¡¨" class="headerlink" title="å¸Œè…Šå­—æ¯è¡¨"></a>å¸Œè…Šå­—æ¯è¡¨</h1><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th><th align="center">å‘½ä»¤</th><th align="center">æ˜¾ç¤º</th></tr></thead><tbody><tr><td align="center">\alpha</td><td align="center">$\alpha$</td><td align="center">\beta</td><td align="center">$\beta$</td></tr><tr><td align="center">\gamma</td><td align="center">$\gamma$</td><td align="center">\delta</td><td align="center">$\delta$</td></tr><tr><td align="center">\epsilon</td><td align="center">$\epsilon$</td><td align="center">\zeta</td><td align="center">$\zeta$</td></tr><tr><td align="center">\eta</td><td align="center">$\eta$</td><td align="center">\theta</td><td align="center">$\theta$</td></tr><tr><td align="center">\iota</td><td align="center">$\iota$</td><td align="center">\kappa</td><td align="center">$\kappa$</td></tr><tr><td align="center">\lambda</td><td align="center">$\lambda$</td><td align="center">\mu</td><td align="center">$\mu$</td></tr><tr><td align="center">\nu</td><td align="center">$\nu$</td><td align="center">\xi</td><td align="center">$\xi$</td></tr><tr><td align="center">\pi</td><td align="center">$\pi$</td><td align="center">\rho</td><td align="center">$\rho$</td></tr><tr><td align="center">\sigma</td><td align="center">$\sigma$</td><td align="center">\tau</td><td align="center">$\tau$</td></tr><tr><td align="center">\upsilon</td><td align="center">$\upsilon$</td><td align="center">\phi</td><td align="center">$\phi$</td></tr><tr><td align="center">\chi</td><td align="center">$\chi$</td><td align="center">\psi</td><td align="center">$\psi$</td></tr><tr><td align="center">\omega</td><td align="center">$\omega$</td><td align="center">&ensp;</td><td align="center">&ensp;</td></tr></tbody></table><ul><li>å¦‚æœéœ€è¦å¤§å†™çš„å¸Œè…Šå­—æ¯ï¼Œå°†å‘½ä»¤é¦–å­—æ¯å¤§å†™å³å¯<ul><li>ä¾‹å¦‚ï¼š<code>\Gamma</code>,æ˜¾ç¤º$ \Gamma $</li></ul></li><li>å¦‚æœè¦å°†å­—æ¯æ–œä½“æ˜¾ç¤ºï¼Œä½¿ç”¨<code>\var</code>å‰ç¼€å³å¯<ul><li>ä¾‹å¦‚ï¼š<code>\varGamma</code>ï¼Œæ˜¾ç¤º$ \varGamma $</li></ul></li></ul><h1 id="æ‚é¡¹"><a href="#æ‚é¡¹" class="headerlink" title="æ‚é¡¹"></a>æ‚é¡¹</h1><ul><li>åˆ†ç»„ï¼š<ul><li>ä½¿ç”¨<code>&#123;&#125;</code>å°†å…·æœ‰ç›¸åŒç­‰çº§çš„å†…å®¹æ‰©å…¥å…¶ä¸­ï¼Œæˆç»„å¤„ç†ã€‚</li><li>æ¯”å¦‚ï¼š<code>\10^10</code>å‘ˆç°ä¸º$10^10$ï¼Œ<code>10^&#123;10&#125;</code>å‘ˆç°ä¸º$10^{10}$ã€‚</li></ul></li><li>ç©ºæ ¼ï¼š<ul><li>å•ä¸ªç©ºæ ¼ï¼š<code>a\ b</code>ï¼Œ$a\ b$</li><li>å››ä¸ªç©ºæ ¼ï¼š<code>a\quad b</code>,$a\quad b$</li></ul></li><li>ä¸Šæ ‡<code>^</code>ï¼Œä¸‹æ ‡<code>_</code></li><li>å°–æ‹¬å·<code>\langle\rangle</code>ï¼š$\langle\rangle$</li><li>ä½¿ç”¨<code>\left</code>æˆ–<code>\right</code>ä½¿ç¬¦å·å¤§å°ä¸ä¸´è¿‘çš„å…¬å¼ç¬¦å·ç›¸é€‚åº”ï¼Œå¯¹æ¯”å¦‚ä¸‹ï¼š<ul><li><code>(\frac&#123;x&#125;&#123;y&#125;)</code>ï¼š$(\frac{x}{y})$</li><li><code>\left(\frac&#123;x&#125;&#123;y&#125;\right)</code>ï¼š$\left(\frac{x}{y}\right)$</li></ul></li><li>åˆ†å¼ï¼š<ul><li><code>\frac&#123;1&#125;&#123;3&#125;</code>ï¼š$\frac{1}{3}$</li><li><code>1 \over 3</code>ï¼š$1 \over 3$</li></ul></li><li>å¼€æ ¹<code>\sqrt[n]&#123;3&#125;</code>ï¼š$\sqrt[n]{3}$</li><li>çœç•¥å·ï¼š<ul><li><code>\ldots</code>ï¼šä¸æ–‡æœ¬åº•çº¿å¯¹é½çš„çœç•¥å·</li><li><code>\cdots</code>ï¼šä¸æ–‡æœ¬ä¸­çº¿å¯¹é½çš„çœç•¥å·</li><li><code>$f(x_1,x_2,\ldots,x_n) = x_1^2 + x_2^2 + \cdots + x_n^2$</code>ï¼š$f(x_1,x_2,\ldots,x_n) = x_1^2 + x_2^2 + \cdots + x_n^2$</li></ul></li></ul><h2 id="ç»¼åˆè¿ç”¨ç¤ºèŒƒ"><a href="#ç»¼åˆè¿ç”¨ç¤ºèŒƒ" class="headerlink" title="ç»¼åˆè¿ç”¨ç¤ºèŒƒ"></a>ç»¼åˆè¿ç”¨ç¤ºèŒƒ</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% æé™è¿ç®—</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span><span class="keyword">\lim</span><span class="keyword">\limits</span><span class="built_in">_</span>&#123;n <span class="keyword">\rightarrow</span> +<span class="keyword">\infty</span>&#125; <span class="keyword">\frac</span>&#123;1&#125;&#123;n(n+1)&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span><span class="keyword">\lim</span><span class="built_in">_</span>&#123;n <span class="keyword">\rightarrow</span> +<span class="keyword">\infty</span>&#125; <span class="keyword">\frac</span>&#123;1&#125;&#123;n(n+1)&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>$$\lim\limits_{n \rightarrow +\infty} \frac{1}{n(n+1)}$$</p><p>$$\lim_{n \rightarrow +\infty} \frac{1}{n(n+1)}$$</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span> <span class="keyword">\left</span>[J<span class="built_in">_</span><span class="keyword">\alpha</span>(x) = <span class="keyword">\sum</span><span class="built_in">_</span>&#123;m=0&#125;<span class="built_in">^</span><span class="keyword">\infty</span> <span class="keyword">\frac</span>&#123;(-1)<span class="built_in">^</span>m&#125;&#123;m! <span class="keyword">\Gamma</span> (m + <span class="keyword">\alpha</span> + 1)&#125; &#123;<span class="keyword">\left</span>(&#123; <span class="keyword">\frac</span>&#123;x&#125;&#123;2&#125; &#125;<span class="keyword">\right</span>)&#125;<span class="built_in">^</span>&#123;2m + <span class="keyword">\alpha</span>&#125;<span class="keyword">\right</span>] <span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>$$ \left[J_\alpha(x) = \sum_{m=0}^\infty \frac{(-1)^m}{m! \Gamma (m + \alpha + 1)} {\left({ \frac{x}{2} }\right)}^{2m + \alpha}\right] $$</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><a href="https://www.zybuluo.com/knight/note/96093">MathJaxä½¿ç”¨LaTeXè¯­æ³•ç¼–å†™æ•°å­¦å…¬å¼æ•™ç¨‹</a></li><li><a href="https://qianwenma.cn/2018/05/17/mathjax-yu-fa-can-kao/#">MathJax è¯­æ³•å‚è€ƒ</a></li><li><a href="https://blog.csdn.net/ethmery/article/details/50670297">åŸºæœ¬æ•°å­¦å…¬å¼è¯­æ³•(of MathJax)</a></li><li><a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">MathJax basic tutorial and quick reference</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Latex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MATLABåŸºæ“å¤ä¹ </title>
      <link href="/2019/06/17/MATLAB%E5%9F%BA%E6%93%8D%E5%A4%8D%E4%B9%A0/"/>
      <url>/2019/06/17/MATLAB%E5%9F%BA%E6%93%8D%E5%A4%8D%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="MATLABåŸºæœ¬æ“ä½œ"><a href="#MATLABåŸºæœ¬æ“ä½œ" class="headerlink" title="MATLABåŸºæœ¬æ“ä½œ"></a>MATLABåŸºæœ¬æ“ä½œ</h1><p><strong>1. å¯¹è±¡å®šä¹‰</strong><br>ä½¿ç”¨symå®šä¹‰å•ä¸ªå¯¹è±¡ã€ä½¿ç”¨symså®šä¹‰å¤šä¸ªå¯¹è±¡</p><p><strong>2. ä½¿ç”¨<code>limit</code>æ±‚æé™</strong></p><p>$$ \lim_{v \rightarrow a} f(x) $$</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">limit(f,v,a) <span class="comment">% ä½¿ç”¨limit(f,v,a,&#x27;left&#x27;)å¯æ±‚å·¦æé™</span></span><br></pre></td></tr></table></figure><p><strong>3. å¯¼æ•°</strong><br>ä½¿ç”¨<code>diff(f,v,n)</code>å¯¹$ f(v)=v^{t-1} $æ±‚ $ n $ é˜¶å¯¼ $ \frac{d^nf}{d^nv} $ï¼Œnç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º1ï¼Œdiff(f)é»˜è®¤æ±‚ä¸€é˜¶å¯¼æ•°ã€‚</p><p><strong>4. å®šç§¯åˆ†å’Œä¸å®šç§¯åˆ†</strong><br>ä½¿ç”¨<code>int(f,v)</code>æ±‚få¯¹å˜é‡vçš„ä¸å®šç§¯åˆ†ï¼Œä½¿ç”¨<code>int(f,v,a,b)</code>æ±‚få¯¹å˜é‡vçš„å®šç§¯åˆ†,aã€bä¸ºç§¯åˆ†ä¸Šä¸‹æ ‡ã€‚$ \int{f(v)dv} $ã€$ \int^{a}_{b}{f(v)dv} $ã€‚</p><span id="more"></span><p><strong>5. matlabå‡½æ•°æ–‡ä»¶å®šä¹‰å½¢å¼</strong></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[è¾“å‡ºå½¢å‚åˆ—è¡¨]</span> = å‡½æ•°åï¼ˆè¾“å…¥å½¢å‚åˆ—è¡¨ï¼‰</span></span><br><span class="line">    å‡½æ•°ä½“</span><br></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">spir_len</span> = <span class="title">spirallength</span><span class="params">(d, n, lcolor)</span></span></span><br><span class="line"><span class="comment">% SPIRALLENGTH plot a circle of radius as r in the provided color and calculate its area</span></span><br><span class="line"><span class="comment">% è¾“å…¥å‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">%   d: èºæ—‹çš„æ—‹è·</span></span><br><span class="line"><span class="comment">%   n: èºæ—‹çš„åœˆæ•°</span></span><br><span class="line"><span class="comment">%   lcolorï¼šç”»å›¾çº¿çš„é¢œè‰²</span></span><br><span class="line"><span class="comment">% è¾“å‡ºå‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">%   spir_lenï¼šèºæ—‹çš„å‘¨é•¿</span></span><br><span class="line"><span class="comment">% è°ƒç”¨è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">%   spirallength(d,n):ä»¥å‚æ•°d,nç”»èºæ—‹çº¿ï¼Œèºæ—‹çº¿é»˜è®¤ä¸ºè“è‰²</span></span><br><span class="line"><span class="comment">%   spirallength(d,n,lcolor):ä»¥å‚æ•°d,n,lcolorç”»èºæ—‹çº¿</span></span><br><span class="line"><span class="comment">%   spir_len = spirallength(d,n):è®¡ç®—èºæ—‹çº¿çš„å‘¨é•¿ï¼Œå¹¶ä»¥è“è‰²å¡«å……èºæ—‹çº¿</span></span><br><span class="line"><span class="comment">%   spir_len = spirallength(d,n,lcolor):è®¡ç®—èºæ—‹çº¿çš„å‘¨é•¿ï¼Œå¹¶ä»¥lcoloré¢œè‰²å¡«å……èºæ—‹çº¿</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ç‰ˆæœ¬å·V1.0ï¼Œç¼–å†™äº1999å¹´9æœˆ9å·ï¼Œä¿®æ”¹äº1999å¹´9æœˆ10å·ï¼Œä½œè€…ï¼šäºšç´¢</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> nargin &gt; <span class="number">3</span></span><br><span class="line">    error(<span class="string">&#x27;è¾“å…¥å˜é‡è¿‡å¤šï¼&#x27;</span>);</span><br><span class="line"><span class="keyword">elseif</span> nargin == <span class="number">2</span></span><br><span class="line">    lcolor = <span class="string">&#x27;b&#x27;</span>; <span class="comment">% é»˜è®¤æƒ…å†µä¸‹ä¸ºè“è‰²</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">j</span> = <span class="built_in">sqrt</span>(<span class="number">-1</span>);</span><br><span class="line">phi = <span class="number">0</span> : <span class="built_in">pi</span>/<span class="number">1000</span> : n*<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">amp = <span class="number">0</span> : d/<span class="number">2000</span> : n*d;</span><br><span class="line">spir = amp .* <span class="built_in">exp</span>(<span class="built_in">j</span>*phi);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> nargout == <span class="number">1</span></span><br><span class="line">    spir_len = sum(<span class="built_in">abs</span>(diff(spir)));</span><br><span class="line">    fill(<span class="built_in">real</span>(spir), <span class="built_in">imag</span>(spir), lcolor);</span><br><span class="line"><span class="keyword">elseif</span> nargout == <span class="number">0</span></span><br><span class="line">    <span class="built_in">plot</span>(spir, lcolor);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    error(<span class="string">&#x27;è¾“å‡ºå˜é‡è¿‡å¤šï¼&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">axis(<span class="string">&#x27;square&#x27;</span>);</span><br></pre></td></tr></table></figure><p><strong>6. matlabç¨‹åºè®¾è®¡è¯­å¥</strong></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% forå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span> å¾ªç¯å˜é‡=åˆå€¼:æ­¥é•¿:ç»ˆå€¼</span><br><span class="line">    å¾ªç¯ä½“</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% whileå¾ªç¯</span></span><br><span class="line"><span class="keyword">while</span> æ¡ä»¶</span><br><span class="line">    å¾ªç¯ä½“</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ifè¯­å¥</span></span><br><span class="line"><span class="keyword">if</span> æ¡ä»¶</span><br><span class="line">    è¯­å¥ç»„<span class="number">1</span></span><br><span class="line"><span class="keyword">elseif</span></span><br><span class="line">    è¯­å¥ç»„<span class="number">2</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    è¯­å¥ç»„<span class="number">3</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% switchè¯­å¥</span></span><br><span class="line"><span class="keyword">switch</span> è¡¨è¾¾å¼</span><br><span class="line">   <span class="keyword">case</span>  è¡¨è¾¾å¼<span class="number">1</span></span><br><span class="line">         è¯­å¥ç»„<span class="number">1</span></span><br><span class="line">   <span class="keyword">case</span>  è¡¨è¾¾å¼<span class="number">2</span></span><br><span class="line">         è¯­å¥ç»„<span class="number">2</span></span><br><span class="line">      ... ...</span><br><span class="line">   <span class="keyword">case</span>   è¡¨è¾¾å¼m</span><br><span class="line">          è¯­å¥ç»„m</span><br><span class="line">   <span class="keyword">otherwise</span></span><br><span class="line">          è¯­å¥ç»„</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% tryè¯­å¥</span></span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">   è¯­å¥ç»„<span class="number">1</span>                <span class="comment">%è¯­å¥ç»„1è‹¥æ­£ç¡®åˆ™è·³å‡ºè¯¥ç»“æ„</span></span><br><span class="line"><span class="keyword">catch</span></span><br><span class="line">   è¯­å¥ç»„<span class="number">2</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p><strong>7. çŸ©é˜µæ“ä½œ</strong></p><table><thead><tr><th align="center">æ“ä½œ</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="center">size(A)</td><td align="left">æ±‚çŸ©é˜µAçš„è¡Œæ•°å’Œåˆ—æ•°</td></tr><tr><td align="center">length(x)</td><td align="left">è¿”å›å‘é‡xçš„é•¿åº¦</td></tr><tr><td align="center">Aâ€™</td><td align="left">Açš„è½¬ç½®</td></tr><tr><td align="center">A(:,n)</td><td align="left">å–çŸ©é˜µAç¬¬nåˆ—æ•°ï¼ŒA(n,:)å–ç¬¬nè¡Œ</td></tr><tr><td align="center">det(A)</td><td align="left">æ±‚çŸ©é˜µAçš„è¡Œåˆ—å¼</td></tr><tr><td align="center">inv(A)</td><td align="left">æ±‚Açš„é€†</td></tr><tr><td align="center">rank(A)</td><td align="left">æ±‚Açš„ç§©</td></tr><tr><td align="center">trace(A)</td><td align="left">æ±‚Açš„è¿¹</td></tr><tr><td align="center">max(A)ã€min(A)</td><td align="left">æ±‚Açš„å„åˆ—æœ€å¤§ã€æœ€å°å…ƒç´ </td></tr><tr><td align="center">mean(A)</td><td align="left">æ±‚Aå„åˆ—çš„å¹³å‡å€¼</td></tr><tr><td align="center">sum(A)</td><td align="left">æ±‚Aå„åˆ—å…ƒç´ ä¹‹å’Œ</td></tr></tbody></table><p><strong>8. matlabç®€å•ç»˜å›¾</strong></p><p>&ensp;plotå‡½æ•°æ˜¯MATLABä¸­æœ€æ ¸å¿ƒçš„äºŒç»´ç»˜å›¾å‡½æ•°ï¼Œæœ‰è¯¸å¤šè¯­æ³•æ ¼å¼ï¼Œå¯å®ç°å¤šç§åŠŸèƒ½ã€‚å¸¸ç”¨æ ¼å¼æœ‰ï¼š</p><ul><li>plot(x)ï¼šç¼ºçœè‡ªå˜é‡çš„ç»˜å›¾æ ¼å¼ï¼Œxå¯ä¸ºå‘é‡æˆ–çŸ©é˜µã€‚</li><li>plot(x, y)ï¼šåŸºæœ¬æ ¼å¼ï¼Œxå’Œyå¯ä¸ºå‘é‡æˆ–çŸ©é˜µã€‚</li><li>plot(x1, y1, x2, y2,â€¦)ï¼šå¤šæ¡æ›²çº¿ç»˜å›¾æ ¼å¼ï¼Œåœ¨åŒä¸€åæ ‡ç³»ä¸­ç»˜åˆ¶å¤šä¸ªå›¾å½¢ã€‚</li><li>plot(x, y,â€˜sâ€™)ï¼šå¼€å…³æ ¼å¼ï¼Œå¼€å…³é‡å­—ç¬¦ä¸²sè®¾å®šäº†å›¾å½¢æ›²çº¿çš„é¢œè‰²ã€çº¿å‹åŠæ ‡ç¤ºç¬¦å·ï¼ˆè§ä¸‹è¡¨ï¼‰ã€‚</li></ul><p><img src="https://s2.ax1x.com/2019/06/17/VbQVgI.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/06/17/VbQVgI.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VbQVgI.png"></p><h1 id="æ— çº¦æŸä¼˜åŒ–é—®é¢˜æ±‚è§£"><a href="#æ— çº¦æŸä¼˜åŒ–é—®é¢˜æ±‚è§£" class="headerlink" title="æ— çº¦æŸä¼˜åŒ–é—®é¢˜æ±‚è§£"></a>æ— çº¦æŸä¼˜åŒ–é—®é¢˜æ±‚è§£</h1><h2 id="fminbndã€fminuncå‡½æ•°è¾“å‡ºå˜é‡è§£é‡Š"><a href="#fminbndã€fminuncå‡½æ•°è¾“å‡ºå˜é‡è§£é‡Š" class="headerlink" title="fminbndã€fminuncå‡½æ•°è¾“å‡ºå˜é‡è§£é‡Š"></a>fminbndã€fminuncå‡½æ•°è¾“å‡ºå˜é‡è§£é‡Š</h2><table><thead><tr><th align="center">å˜é‡</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="center">x</td><td align="left">ç”±ä¼˜åŒ–å‡½æ•°æ±‚å¾—çš„å€¼. è‹¥exitflag&gt;0,åˆ™xä¸ºè§£; å¦åˆ™,xä¸æ˜¯æœ€ç»ˆè§£, å®ƒåªæ˜¯è¿­ä»£åˆ¶æ­¢æ—¶ä¼˜åŒ–è¿‡ç¨‹çš„å€¼</td></tr><tr><td align="center">fval</td><td align="left">è§£ x å¤„çš„ç›®æ ‡å‡½æ•°å€¼</td></tr><tr><td align="center">exitflag</td><td align="left">æè¿°é€€å‡ºæ¡ä»¶:exitflag&gt;0,è¡¨ç›®æ ‡å‡½æ•°æ”¶æ•›äºè§£xå¤„ï¼›exitflag=0,è¡¨å·²è¾¾åˆ°å‡½æ•°è¯„ä»·æˆ–è¿­ä»£çš„æœ€å¤§æ¬¡æ•°ï¼›exitflag&lt;0,è¡¨ç›®æ ‡å‡½æ•°ä¸æ”¶æ•›</td></tr><tr><td align="center">output</td><td align="left">åŒ…å«ä¼˜åŒ–ç»“æœä¿¡æ¯çš„è¾“å‡ºç»“æ„ã€‚Iterations:è¿­ä»£æ¬¡æ•°ï¼›Algorithm:æ‰€é‡‡ç”¨çš„ç®—æ³•ï¼›FuncCount:å‡½æ•°è¯„ä»·æ¬¡æ•°</td></tr></tbody></table><h2 id="ä¸€å…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminbnd"><a href="#ä¸€å…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminbnd" class="headerlink" title="ä¸€å…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminbnd"></a>ä¸€å…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminbnd</h2><h3 id="å¸¸ç”¨æ ¼å¼"><a href="#å¸¸ç”¨æ ¼å¼" class="headerlink" title="å¸¸ç”¨æ ¼å¼"></a>å¸¸ç”¨æ ¼å¼</h3><p>$$ min f(x)ï¼Œ x_1&lt;x&lt;x_2 $$</p><p>ï¼ˆ1ï¼‰x= fminbnd (fun, x1, x2)<br>ï¼ˆ2ï¼‰x= fminbnd (fun, x1, x2 , options)<br>ï¼ˆ3ï¼‰[x , fval]= fminbndï¼ˆâ€¦ï¼‰<br>ï¼ˆ4ï¼‰[x , fval , exitflag]= fminbndï¼ˆâ€¦ï¼‰<br>ï¼ˆ5ï¼‰[x , fval , exitflag , output]= fminbndï¼ˆâ€¦ï¼‰<br>å‡½æ•°fminbndçš„ç®—æ³•åŸºäºé»„é‡‘åˆ†å‰²æ³•å’ŒäºŒæ¬¡æ’å€¼æ³•ï¼Œå®ƒè¦æ±‚ç›®æ ‡å‡½æ•°å¿…é¡»æ˜¯è¿ç»­å‡½æ•°ï¼Œå¹¶å¯èƒ½åªç»™å‡ºå±€éƒ¨æœ€ä¼˜è§£</p><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>æ±‚å‡½æ•° $ f(x)=2e^{-x}sin(x) $ åœ¨ $ 0&lt;x&lt;8 $ æ—¶çš„æœ€å°å€¼</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% å¦‚æœæ±‚æœ€å¤§éœ€è¦å¯¹få–å</span></span><br><span class="line">f = @(x) (<span class="number">2</span>*<span class="built_in">exp</span>(-x)*<span class="built_in">sin</span>(x));</span><br><span class="line">[x,fval] = fminbnd(f,<span class="number">0</span>,<span class="number">8</span>);</span><br><span class="line">x</span><br><span class="line">fval</span><br></pre></td></tr></table></figure><h2 id="å¤šå…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminunc"><a href="#å¤šå…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminunc" class="headerlink" title="å¤šå…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminunc"></a>å¤šå…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminunc</h2><h3 id="å¸¸ç”¨æ ¼å¼-1"><a href="#å¸¸ç”¨æ ¼å¼-1" class="headerlink" title="å¸¸ç”¨æ ¼å¼"></a>å¸¸ç”¨æ ¼å¼</h3><p>$$ min f(X)ï¼Œè¿™é‡ŒXä¸ºnç»´å˜é‡ $$<br>fminuncå¸¸ç”¨æ ¼å¼ä¸º:<br>   ï¼ˆ1ï¼‰x= fminuncï¼ˆfun, X0ï¼‰ï¼›<br>   ï¼ˆ2ï¼‰x= fminuncï¼ˆfun, X0ï¼Œoptionsï¼‰ï¼›<br>   ï¼ˆ3ï¼‰[xï¼Œfval]= fminuncï¼ˆâ€¦ï¼‰ï¼›<br>   ï¼ˆ4ï¼‰[xï¼Œfvalï¼Œexitflag]= fminuncï¼ˆâ€¦ï¼‰ï¼›<br>   ï¼ˆ5ï¼‰[xï¼Œfvalï¼Œexitflagï¼Œoutput]= fminuncï¼ˆâ€¦ï¼‰<br>å…¶ä¸­ X0ä¸ºåˆå§‹å€¼</p><h3 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>æ±‚å‡½æ•°$ f(x_1,x_2)=(4x_1^2+2x_2^2+4x_1x_2+2x_2^2+1)e^x $çš„æœ€å°å€¼,$ X_0=[-1,1] $</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">f = @(x) (<span class="number">4</span>*x(<span class="number">1</span>)^<span class="number">2</span>+<span class="number">2</span>*x(<span class="number">2</span>)^<span class="number">2</span>+<span class="number">4</span>*x(<span class="number">1</span>)*x(<span class="number">2</span>)+<span class="number">2</span>*x(<span class="number">2</span>)+<span class="number">1</span>)*<span class="built_in">exp</span>(x(<span class="number">1</span>));</span><br><span class="line">x0 = [<span class="number">-1</span>,<span class="number">1</span>];</span><br><span class="line">[x,fval] = fminunc(f, x0);</span><br><span class="line">x</span><br><span class="line">fval</span><br></pre></td></tr></table></figure><h1 id="çº¿æ€§è§„åˆ’é—®é¢˜æ±‚è§£"><a href="#çº¿æ€§è§„åˆ’é—®é¢˜æ±‚è§£" class="headerlink" title="çº¿æ€§è§„åˆ’é—®é¢˜æ±‚è§£"></a>çº¿æ€§è§„åˆ’é—®é¢˜æ±‚è§£</h1><h2 id="ä½¿ç”¨linprogæ±‚è§£ä¸€èˆ¬çº¿æ€§è§„åˆ’é—®é¢˜"><a href="#ä½¿ç”¨linprogæ±‚è§£ä¸€èˆ¬çº¿æ€§è§„åˆ’é—®é¢˜" class="headerlink" title="ä½¿ç”¨linprogæ±‚è§£ä¸€èˆ¬çº¿æ€§è§„åˆ’é—®é¢˜"></a>ä½¿ç”¨linprogæ±‚è§£ä¸€èˆ¬çº¿æ€§è§„åˆ’é—®é¢˜</h2><p>å¸¸è§é—®é¢˜ï¼ˆlinprogé»˜è®¤æ±‚æœ€å°å€¼ï¼‰<br>$$ minz=cX $$</p><p>$$ s.t. \begin{cases}<br>AX\leq{b}\<br>Aeq\cdot{X}=beq\<br>VLB\leq{X}\leq{VUB}<br>\end{cases}$$</p><p>æ±‚è§£å‘½ä»¤</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x,fval] = linprog(c,A,b,Aeq,beq,VLB,VUB)</span><br></pre></td></tr></table></figure><h2 id="ä¾‹å­-2"><a href="#ä¾‹å­-2" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>$$ min z=13x_1+9x_2+10x_3+11x_4+12x_5+8x_6 $$</p><p>$$ s.t.\left{<br>\begin{aligned}<br>&amp; x_1+x_2=400\<br>&amp; x_2+x_5=600\<br>&amp; x_3+x_6=500\<br>&amp; 0.4x_1+1.1x_2+x_3\leq{800}\<br>&amp; 0.5x_4+1.2x_5+1.3x_6\leq{900}\<br>&amp; x_i\geq0,i=1,2,â€¦,6<br>\end{aligned}<br>\right.<br>$$</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">f = [<span class="number">13</span> <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">8</span>];</span><br><span class="line">A =  [<span class="number">0.4</span> <span class="number">1.1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">      <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0.5</span> <span class="number">1.2</span> <span class="number">1.3</span>];</span><br><span class="line">b = [<span class="number">800</span>; <span class="number">900</span>];</span><br><span class="line">Aeq=[<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">     <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line">     <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>];</span><br><span class="line">beq=[<span class="number">400</span> <span class="number">600</span> <span class="number">500</span>];</span><br><span class="line">vlb = <span class="built_in">zeros</span>(<span class="number">6</span>,<span class="number">1</span>);</span><br><span class="line">vub=[];</span><br><span class="line">[x,fval] = linprog(f,A,b,Aeq,beq,vlb,vub)</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨bintprogæ±‚è§£0-1è§„åˆ’é—®é¢˜"><a href="#ä½¿ç”¨bintprogæ±‚è§£0-1è§„åˆ’é—®é¢˜" class="headerlink" title="ä½¿ç”¨bintprogæ±‚è§£0-1è§„åˆ’é—®é¢˜"></a>ä½¿ç”¨bintprogæ±‚è§£0-1è§„åˆ’é—®é¢˜</h2><p><strong>matlab2014ä»¥ä¸Šç‰ˆæœ¬ä½¿ç”¨<code>intlinprog</code>æ±‚è§£0-1è§„åˆ’é—®é¢˜</strong></p><p>$$ minz=cX $$</p><p>$$ s.t. \begin{cases}<br>AX\leq{b}\<br>Aeq\cdot{X}=beq\<br>Xä¸º0-1å˜é‡<br>\end{cases}$$</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% å‘½ä»¤</span></span><br><span class="line">[x,fval] = bintprog(c,A,b,Aeq,beq)</span><br></pre></td></tr></table></figure><h3 id="ä¾‹å­-3"><a href="#ä¾‹å­-3" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>$$ min z=3x_1+7x_2-x_3+x_4 $$<br>$$ s.t.<br>\begin{cases}<br>2x_1-x_2+x_3-x_4\geq{1}\<br>x_1-x_2+6x_3+4x_4\geq{8}\<br>5x_1+3x_2+x_4\geq{5}\<br>x_i=0æˆ–1ï¼ˆi=1,2,3,4ï¼‰<br>\end{cases}<br>$$</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">z = [<span class="number">3</span>;<span class="number">7</span>;<span class="number">-1</span>;<span class="number">1</span>];</span><br><span class="line">A = [<span class="number">-2</span> <span class="number">1</span> <span class="number">-1</span> <span class="number">1</span>;</span><br><span class="line">     <span class="number">-1</span> <span class="number">1</span> <span class="number">-6</span> <span class="number">-4</span>;</span><br><span class="line">     <span class="number">-5</span> <span class="number">-3</span> <span class="number">0</span> <span class="number">-1</span>];</span><br><span class="line">b = [<span class="number">-1</span>;<span class="number">-8</span>;<span class="number">-5</span>];</span><br><span class="line">Aeq = [];</span><br><span class="line">beq = [];</span><br><span class="line"></span><br><span class="line">[x,fval] = bintprog(z,A,b,Aeq,beq)</span><br></pre></td></tr></table></figure><h1 id="æ•°æ®æ’å€¼ä¸æ‹Ÿåˆ"><a href="#æ•°æ®æ’å€¼ä¸æ‹Ÿåˆ" class="headerlink" title="æ•°æ®æ’å€¼ä¸æ‹Ÿåˆ"></a>æ•°æ®æ’å€¼ä¸æ‹Ÿåˆ</h1><h2 id="æ•°æ®æ’å€¼ï¼Œä½¿ç”¨interplè¿›è¡Œä¸€ç»´æ’å€¼"><a href="#æ•°æ®æ’å€¼ï¼Œä½¿ç”¨interplè¿›è¡Œä¸€ç»´æ’å€¼" class="headerlink" title="æ•°æ®æ’å€¼ï¼Œä½¿ç”¨interplè¿›è¡Œä¸€ç»´æ’å€¼"></a>æ•°æ®æ’å€¼ï¼Œä½¿ç”¨interplè¿›è¡Œä¸€ç»´æ’å€¼</h2><p>matlabå‘½ä»¤</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yi = interpl(X,Y,xi,method)</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ç”¨æŒ‡å®šçš„ç®—æ³•æ‰¾å‡ºä¸€ä¸ªä¸€å…ƒå‡½æ•°ï¼Œç„¶åä»¥è¯¥å‡½æ•°ç»™å‡ºxiå¤„çš„å€¼ã€‚å…¶ä¸­x=[x1,x2,â€¦,xn]â€™å’Œ y=[y1,y2,â€¦,yn]â€™ä¸¤ä¸ªå‘é‡åˆ†åˆ«ä¸ºç»™å®šçš„ä¸€ç»„è‡ªå˜é‡å’Œå‡½æ•°å€¼ï¼Œç”¨æ¥è¡¨ç¤ºå·²çŸ¥æ ·æœ¬ç‚¹æ•°æ®ï¼›<strong>xiä¸ºå¾…æ±‚æ’å€¼ç‚¹å¤„æ¨ªåæ ‡ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ ‡é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‘é‡</strong>ï¼Œæ˜¯å‘é‡æ—¶ï¼Œå¿…é¡»å•è°ƒï¼›yiå¾—åˆ°è¿”å›çš„å¯¹åº”çºµåæ ‡ã€‚</p><ul><li>methodå¯ä»¥é€‰å–ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼š<ul><li>â€˜nearestâ€™ï¼šæœ€è¿‘é‚»ç‚¹æ’å€¼ï¼Œç›´æ¥å®Œæˆè®¡ç®—ï¼›</li><li>â€˜splineâ€™ï¼šä¸‰æ¬¡æ ·æ¡å‡½æ•°æ’å€¼ï¼›</li><li>â€˜linearâ€™ï¼šçº¿æ€§æ’å€¼ï¼ˆç¼ºçœæ–¹å¼ï¼‰ï¼Œç›´æ¥å®Œæˆè®¡ç®—ï¼›</li><li>â€˜cubicâ€™ï¼šä¸‰æ¬¡å‡½æ•°æ’å€¼ï¼›</li></ul></li></ul><h3 id="ä¾‹å­-4"><a href="#ä¾‹å­-4" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>ä½œå‡½æ•°$ y=(x^2-3x+7)e^{-4x}sin(2x) $åœ¨[0,1]å–é—´éš”ä¸º0.1çš„ç‚¹å›¾ï¼Œç”¨æ’å€¼è¿›è¡Œå®éªŒ</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">1</span>;</span><br><span class="line">y=(x.^<span class="number">2</span><span class="number">-3</span>*x+<span class="number">7</span>).*<span class="built_in">exp</span>(<span class="number">-4</span>*x).*<span class="built_in">sin</span>(<span class="number">2</span>*x);  <span class="comment">%äº§ç”ŸåŸå§‹æ•°æ®</span></span><br><span class="line"></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,y,x,y,<span class="string">&#x27;ro&#x27;</span>)    <span class="comment">%ä½œå›¾</span></span><br><span class="line">xx=<span class="number">0</span>:<span class="number">0.02</span>:<span class="number">1</span>;  <span class="comment">%å¾…æ±‚æ’å€¼ç‚¹</span></span><br><span class="line">yy=interp1(x,y,xx,<span class="string">&#x27;spline&#x27;</span>);   <span class="comment">%æ­¤å¤„å¯ç”¨nearest,cubic,splineåˆ†åˆ«è¯•éªŒ</span></span><br><span class="line"></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;ro&#x27;</span>,xx,yy,<span class="string">&#x27;b&#x27;</span>)    <span class="comment">%ä½œå›¾</span></span><br></pre></td></tr></table></figure><h2 id="æ›²çº¿æ‹Ÿåˆ"><a href="#æ›²çº¿æ‹Ÿåˆ" class="headerlink" title="æ›²çº¿æ‹Ÿåˆ"></a>æ›²çº¿æ‹Ÿåˆ</h2><h3 id="æ‹Ÿåˆå‡½æ•°polyfit"><a href="#æ‹Ÿåˆå‡½æ•°polyfit" class="headerlink" title="æ‹Ÿåˆå‡½æ•°polyfit"></a>æ‹Ÿåˆå‡½æ•°polyfit</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p=polyfit(x,y,n)</span><br><span class="line">[p,s]= polyfit(x,y,n)</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼šx,yä¸ºæ•°æ®ç‚¹ï¼Œnä¸ºå¤šé¡¹å¼é˜¶æ•°ï¼Œè¿”å›pä¸ºå¹‚æ¬¡ä»é«˜åˆ°ä½çš„å¤šé¡¹å¼ç³»æ•°å‘é‡pã€‚pæ˜¯n+1ç»´å‚æ•°å‘é‡p(1)ï¼Œp(2)â€¦.é‚£ä¹ˆæ‹Ÿåˆåå¯¹åº”çš„å¤šé¡¹å¼å³ä¸ºï¼š<br>$$ p(1)x^n+p(2)x^{n-1}+\cdot\cdot\cdot+p(n)x+p(n+1) $$</p><p>xå¿…é¡»æ˜¯å•è°ƒçš„ã€‚çŸ©é˜µsç”¨äºç”Ÿæˆé¢„æµ‹å€¼çš„è¯¯å·®ä¼°è®¡</p><h3 id="å¤šé¡¹å¼æ±‚å€¼å‡½æ•°polyval"><a href="#å¤šé¡¹å¼æ±‚å€¼å‡½æ•°polyval" class="headerlink" title="å¤šé¡¹å¼æ±‚å€¼å‡½æ•°polyval"></a>å¤šé¡¹å¼æ±‚å€¼å‡½æ•°polyval</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y=polyval(p,x)</span><br><span class="line">[y,DELTA]=polyval(p,x,s)</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼šy=polyval(p,x)ä¸ºè¿”å›å¯¹åº”è‡ªå˜é‡xåœ¨ç»™å®šç³»æ•°pçš„å¤šé¡¹å¼çš„å€¼ï¼›<br>[y,DELTA]=polyval(p,x,s) ä½¿ç”¨polyfitå‡½æ•°çš„é€‰é¡¹è¾“å‡ºså¾—å‡ºè¯¯å·®ä¼°è®¡DELTAã€‚å®ƒå‡è®¾polyfitå‡½æ•°æ•°æ®è¾“å…¥çš„è¯¯å·®æ˜¯ç‹¬ç«‹æ­£æ€çš„ï¼Œå¹¶ä¸”æ–¹å·®ä¸ºå¸¸æ•°ã€‚åˆ™DELTAå°†è‡³å°‘åŒ…å«50%çš„é¢„æµ‹å€¼ã€‚</p><h3 id="ä¾‹å­-5"><a href="#ä¾‹å­-5" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>æ±‚å¦‚ä¸‹ç»™å®šæ•°æ®çš„æ‹Ÿåˆæ›²çº¿<br>x=[0.5,1.0,1.5,2.0,2.5,3.0]ï¼Œy=[1.75,2.45,3.81,4.80,7.00,8.60]</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x=[<span class="number">0.5</span>,<span class="number">1.0</span>,<span class="number">1.5</span>,<span class="number">2.0</span>,<span class="number">2.5</span>,<span class="number">3.0</span>];</span><br><span class="line">y=[<span class="number">1.75</span>,<span class="number">2.45</span>,<span class="number">3.81</span>,<span class="number">4.80</span>,<span class="number">7.00</span>,<span class="number">8.60</span>];</span><br><span class="line"><span class="built_in">plot</span>(x,y,â€˜*râ€™)  <span class="comment">%å…ˆè§‚å¯Ÿæ•°æ®ç‚¹çš„å¤§è‡´å½¢æ€</span></span><br><span class="line">p=polyfit(x,y,<span class="number">2</span>)  <span class="comment">%ç”¨äºŒæ¬¡å¤šé¡¹å¼æ‹Ÿåˆ</span></span><br><span class="line">x1=<span class="number">0.5</span>:<span class="number">0.05</span>:<span class="number">3.0</span>; <span class="comment">% æ­¥é•¿0.05</span></span><br><span class="line">y1=polyval(p,x1);</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;*r&#x27;</span>,x1,y1,<span class="string">&#x27;-b&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MATLAB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœç´¢æŠ€å·§</title>
      <link href="/2019/06/08/%E6%90%9C%E7%B4%A2%E6%8A%80%E5%B7%A7/"/>
      <url>/2019/06/08/%E6%90%9C%E7%B4%A2%E6%8A%80%E5%B7%A7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://img.vim-cn.com/53/05dc36e9f6a84026c3eeba794c9e7c473f57be.png" class="lazyload" data-srcset="https://img.vim-cn.com/53/05dc36e9f6a84026c3eeba794c9e7c473f57be.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://img.vim-cn.com/53/05dc36e9f6a84026c3eeba794c9e7c473f57be.png"></p><blockquote><p>æœç´¢ä¹Ÿæ˜¯é—¨å­¦é—®å•Šï¼ŒGFWä¹‹ä¸‹ï¼Œä¸–é“è‰°éš¾ã€‚ (ãƒ~ã€)</p></blockquote><span id="more"></span><h1 id="ç™¾åº¦é«˜çº§æœç´¢æŠ€å·§"><a href="#ç™¾åº¦é«˜çº§æœç´¢æŠ€å·§" class="headerlink" title="ç™¾åº¦é«˜çº§æœç´¢æŠ€å·§"></a>ç™¾åº¦é«˜çº§æœç´¢æŠ€å·§</h1><h1 id="åŒå¼•å·ç²¾ç¡®åŒ¹é…"><a href="#åŒå¼•å·ç²¾ç¡®åŒ¹é…" class="headerlink" title="åŒå¼•å·ç²¾ç¡®åŒ¹é…"></a>åŒå¼•å·ç²¾ç¡®åŒ¹é…</h1><ul><li>æ ¼å¼ï¼šâ€æœç´¢è¯â€</li></ul><p><strong>åœ¨æŸ¥è¯¢è¯ä¸¤è¾¹åŠ ä¸ŠåŒå¼•å·è¡¨ç¤ºæŸ¥è¯¢è¯ä¸èƒ½è¢«æ‹†åˆ†ã€‚</strong></p><p><img src="https://img.vim-cn.com/bc/6db6bd53348e5e857d7c8880d4b271f6ac7255.png" class="lazyload" data-srcset="https://img.vim-cn.com/bc/6db6bd53348e5e857d7c8880d4b271f6ac7255.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://img.vim-cn.com/bc/6db6bd53348e5e857d7c8880d4b271f6ac7255.png"></p><h1 id="å‡å·ï¼ˆ-ï¼‰ä¸å«ç‰¹å®šæŸ¥è¯¢"><a href="#å‡å·ï¼ˆ-ï¼‰ä¸å«ç‰¹å®šæŸ¥è¯¢" class="headerlink" title="å‡å·ï¼ˆ-ï¼‰ä¸å«ç‰¹å®šæŸ¥è¯¢"></a>å‡å·ï¼ˆ-ï¼‰ä¸å«ç‰¹å®šæŸ¥è¯¢</h1><ul><li>æ ¼å¼ï¼šæœç´¢è¯ -æ’é™¤è¯</li></ul><p>** å‡å·åé¢ç´§è·Ÿçš„æ˜¯éœ€è¦æ’é™¤çš„è¯ï¼Œå‰é¢ä¸ºè¦æœç´¢çš„è¯ï¼ˆæœ‰ä¸ªç©ºæ ¼éš”å¼€ï¼‰ **</p><p><img src="https://img.vim-cn.com/03/4cef7028150512ceecbb155020f89af18eba86.png" class="lazyload" data-srcset="https://img.vim-cn.com/03/4cef7028150512ceecbb155020f89af18eba86.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://img.vim-cn.com/03/4cef7028150512ceecbb155020f89af18eba86.png"></p><h1 id="siteï¼Œé™åˆ¶æœç´¢èŒƒå›´åœ¨ç‰¹å®šç«™ç‚¹"><a href="#siteï¼Œé™åˆ¶æœç´¢èŒƒå›´åœ¨ç‰¹å®šç«™ç‚¹" class="headerlink" title="siteï¼Œé™åˆ¶æœç´¢èŒƒå›´åœ¨ç‰¹å®šç«™ç‚¹"></a>siteï¼Œé™åˆ¶æœç´¢èŒƒå›´åœ¨ç‰¹å®šç«™ç‚¹</h1><ul><li>æ ¼å¼ï¼šæœç´¢è¯ site:ç«™ç‚¹åŸŸå</li></ul><p><strong><code>site:</code>åé¢ç´§è·Ÿç«™ç‚¹åŸŸåï¼Œ ä¸è¦å¸¦åè®®å¤´ã€‚<code>site:</code>å’ŒåŸŸåä¹‹å‰æ²¡æœ‰ç©ºæ ¼ã€‚</strong></p><p><img src="https://img.vim-cn.com/d6/6a3c425c3301f838a20e3bf6c819f31d7bddbd.png" class="lazyload" data-srcset="https://img.vim-cn.com/d6/6a3c425c3301f838a20e3bf6c819f31d7bddbd.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://img.vim-cn.com/d6/6a3c425c3301f838a20e3bf6c819f31d7bddbd.png"></p><h1 id="inurlï¼Œæœç´¢èŒƒå›´é™å®šåœ¨urlé“¾æ¥ä¸­"><a href="#inurlï¼Œæœç´¢èŒƒå›´é™å®šåœ¨urlé“¾æ¥ä¸­" class="headerlink" title="inurlï¼Œæœç´¢èŒƒå›´é™å®šåœ¨urlé“¾æ¥ä¸­"></a>inurlï¼Œæœç´¢èŒƒå›´é™å®šåœ¨urlé“¾æ¥ä¸­</h1><ul><li>æ ¼å¼ï¼šæœç´¢è¯ inurl:urlä¸­å¿…é¡»å­˜åœ¨çš„è¯</li></ul><h1 id="intitleï¼Œæœç´¢èŒƒå›´é™å®šåœ¨ç½‘é¡µæ ‡é¢˜"><a href="#intitleï¼Œæœç´¢èŒƒå›´é™å®šåœ¨ç½‘é¡µæ ‡é¢˜" class="headerlink" title="intitleï¼Œæœç´¢èŒƒå›´é™å®šåœ¨ç½‘é¡µæ ‡é¢˜"></a>intitleï¼Œæœç´¢èŒƒå›´é™å®šåœ¨ç½‘é¡µæ ‡é¢˜</h1><ul><li>æ ¼å¼ï¼šæœç´¢è¯ intitle:æ ‡é¢˜å¿…é¡»å«æœ‰çš„è¯</li></ul><h1 id="filetypeï¼Œæœç´¢èŒƒå›´é™å®šåœ¨æŒ‡å®šæ–‡ä»¶æ ¼å¼ä¸­"><a href="#filetypeï¼Œæœç´¢èŒƒå›´é™å®šåœ¨æŒ‡å®šæ–‡ä»¶æ ¼å¼ä¸­" class="headerlink" title="filetypeï¼Œæœç´¢èŒƒå›´é™å®šåœ¨æŒ‡å®šæ–‡ä»¶æ ¼å¼ä¸­"></a>filetypeï¼Œæœç´¢èŒƒå›´é™å®šåœ¨æŒ‡å®šæ–‡ä»¶æ ¼å¼ä¸­</h1><ul><li>æ ¼å¼ï¼šæœç´¢è¯ filetype:æ–‡ä»¶æ ¼å¼å</li></ul><p>-<br>æºäºç™¾åº¦:<a href="https://jingyan.baidu.com/article/d621e8dae7593c2864913f7b.html">https://jingyan.baidu.com/article/d621e8dae7593c2864913f7b.html</a></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythoné¢å‘å¯¹è±¡</title>
      <link href="/2019/05/24/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
      <url>/2019/05/24/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><ul><li>å¯¹è±¡ï¼šä¸€ä¸ªè‡ªåŒ…å«çš„å®ä½“ï¼Œç”¨ä¸€ç»„å¯è¯†åˆ«çš„ç‰¹æ€§å’Œè¡Œä¸ºæ¥æ ‡è¯†</li><li>ç±»ï¼šå…·æœ‰ç›¸åŒçš„å±æ€§å’ŒåŠŸèƒ½çš„å¯¹è±¡çš„æŠ½è±¡çš„é›†åˆ</li><li>å®ä¾‹ï¼šä¸€ä¸ªçœŸå®çš„å¯¹è±¡ï¼Œå®ä¾‹åŒ–å°±æ˜¯åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹</li><li>å¤šæ€ï¼šå¯å¯¹ä¸åŒç±»å‹çš„å¯¹è±¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œè€Œè¿™äº›æ“ä½œå°±åƒâ€œè¢«æ–½äº†é­”æ³•â€ä¸€æ ·èƒ½å¤Ÿæ­£å¸¸è¿è¡Œ</li><li>å°è£…ï¼šå¯¹å¤–éƒ¨éšè—æœ‰å…³å¯¹è±¡å·¥ä½œåŸç†çš„ç»†èŠ‚</li><li>ç»§æ‰¿ï¼šå¯åŸºäºé€šç”¨ç±»åˆ›å»ºä¸“ç”¨ç±»</li></ul><h1 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h1><ul><li>å¤šæ€å¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸çŸ¥é“å˜é‡æŒ‡å‘å“ªç§å¯¹è±¡æ—¶ï¼Œä¹Ÿèƒ½å¤Ÿå¯¹å…¶æ‰§è¡Œæ“ä½œï¼Œä¸”æ“ä½œçš„è¡Œä¸ºå°†éšå¯¹è±¡æ‰€å±çš„ç±»å‹ï¼ˆç±»ï¼‰è€Œå¼‚ã€‚æ¯å½“ä¸çŸ¥é“å¯¹è±¡æ˜¯ä»€ä¹ˆæ ·å°±èƒ½å¯¹å…¶æ‰§è¡Œæ“ä½œï¼Œéƒ½æ˜¯å¤šæ€åœ¨èµ·ä½œç”¨</li><li>å¤šæ€ä»¥ ç»§æ‰¿ å’Œ é‡å†™ çˆ¶ç±»æ–¹æ³• ä¸ºå‰æ</li><li>å¤šæ€æ˜¯è°ƒç”¨æ–¹æ³•çš„æŠ€å·§ï¼Œä¸ä¼šå½±å“åˆ°ç±»çš„å†…éƒ¨è®¾è®¡</li><li>å¤šæ€æ€§å³å‘ä¸åŒçš„å¯¹è±¡å‘é€åŒä¸€ä¸ªæ¶ˆæ¯ï¼Œä¸åŒçš„å¯¹è±¡åœ¨æ¥æ”¶æ—¶ä¼šäº§ç”Ÿä¸åŒçš„è¡Œä¸ºï¼ˆå³æ–¹æ³•ï¼‰</li><li>å¬è¯´Pythonå¤©ç„¶å°±å¤šæ€</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,sex</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_title</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.sex == <span class="string">&quot;male&quot;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;man&quot;</span>)</span><br><span class="line">        <span class="keyword">elif</span> self.sex == <span class="string">&quot;female&quot;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;woman&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span>(<span class="title class_ inherited__">Person</span>):                <span class="comment"># Child ç»§æ‰¿ Person</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_title</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.sex == <span class="string">&quot;male&quot;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;boy&quot;</span>)</span><br><span class="line">        <span class="keyword">elif</span> self.sex == <span class="string">&quot;female&quot;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;girl&quot;</span>)</span><br><span class="line"></span><br><span class="line">May = Child(<span class="string">&quot;May&quot;</span>,<span class="string">&quot;female&quot;</span>)</span><br><span class="line">Peter = Person(<span class="string">&quot;Peter&quot;</span>,<span class="string">&quot;male&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(May.name,May.sex,Peter.name,Peter.sex)</span><br><span class="line"><span class="comment"># åŒä¸€æ¶ˆæ¯</span></span><br><span class="line">May.print_title()</span><br><span class="line">Peter.print_title()</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h1><ul><li><p>å°è£…æŒ‡çš„æ˜¯å‘å¤–éƒ¨éšè—ä¸å¿…è¦çš„ç»†èŠ‚ã€‚ä¸å¤šæ€æœ‰ç‚¹åƒï¼Œä»–ä»¬éƒ½æ˜¯æŠ½è±¡çš„åŸåˆ™ã€‚<strong>å¤šæ€è®©ä½ æ— éœ€çŸ¥é“å¯¹è±¡æ‰€å±çš„ç±»ï¼ˆå¯¹è±¡çš„ç±»å‹ï¼‰å°±èƒ½è°ƒç”¨å…¶æ–¹æ³•ã€‚å°è£…è®©ä½ æ— éœ€çŸ¥é“å¯¹è±¡çš„æ„é€ å°±èƒ½å¤Ÿä½¿ç”¨å®ƒã€‚</strong></p></li><li><p>å®ç°å°è£…å¯ä»¥å¯¹ç±»å†…çš„å±æ€§å’Œæ–¹æ³•çš„è®¿é—®åŠ ä»¥é™åˆ¶ã€‚å°±åƒC++ç±»ä½¿ç”¨privateã€protectedä¸€æ ·å¯¹ç±»çš„æˆå‘˜è®¿é—®è¿›è¡Œé™åˆ¶ä¸€æ ·</p></li><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPythonä¸­çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯å…¬å¼€çš„ï¼Œå¯ä»¥åœ¨å¯¹è±¡å¤–éƒ¨è®¿é—®</p></li></ul><h2 id="ç§æœ‰å˜é‡"><a href="#ç§æœ‰å˜é‡" class="headerlink" title="ç§æœ‰å˜é‡"></a>ç§æœ‰å˜é‡</h2><ul><li>Pythonå¹¶æ²¡æœ‰çœŸæ­£çš„ç§æœ‰åŒ–æ”¯æŒï¼Œä½†å¯ç”¨ä¸‹åˆ’çº¿å¾—åˆ°ä¼ªç§æœ‰ã€‚</li><li>åœ¨Pythonå®šä¹‰ç§æœ‰å˜é‡åªéœ€åœ¨å˜é‡åæˆ–å‡½æ•°åå‰åŠ ä¸Šä¸¤ä¸ªä¸‹åˆ’çº¿<code>__</code>,ä¾‹å¦‚<code>__name</code>ã€‚é‚£ç§ä»…é™åœ¨ä¸€ä¸ªå¯¹è±¡å†…éƒ¨è®¿é—®çš„â€œç§æœ‰â€å˜é‡åœ¨Pythonä¸­å¹¶ä¸å­˜åœ¨</li><li>ä½¿ç”¨åŒä¸‹åˆ’çº¿å°†æ–¹æ³•æˆ–å±æ€§å˜ä¸ºç§æœ‰æ—¶ï¼Œåœ¨å†…éƒ¨ï¼ŒPythonå°†ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´çš„åå­—éƒ½è¿›è¡Œè½¬æ¢ï¼Œå³åœ¨å¼€å¤´åŠ ä¸Šä¸€ä¸ªä¸‹åˆ’çº¿å’Œç±»åã€‚ä½†è¿™æ ·çš„ç§æœ‰å˜é‡æˆ–æ–¹æ³•è¿˜æ˜¯å¯ä»¥è®¿é—®çš„ï¼Œè®¿é—®å½¢å¼å¦‚ï¼šå®ä¾‹å._ç±»å__å˜é‡åã€å®ä¾‹å._ç±»å__æ–¹æ³•å()</li><li>ä»¥å•ä¸‹åˆ’çº¿å¼€å¤´çš„æ—¶ä¿æŠ¤æˆå‘˜å˜é‡ï¼Œåªæœ‰æœ¬ç±»å’Œå­ç±»æˆå‘˜å®ä¾‹èƒ½è®¿é—®è¿™äº›å˜é‡</li></ul><p><a href="https://imgchr.com/i/VPgYDA"><img src="https://s2.ax1x.com/2019/05/23/VPgYDA.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/23/VPgYDA.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VPgYDA.png"></a></p><h2 id="propertyè£…é¥°å™¨ã€-slots-é­”æ³•"><a href="#propertyè£…é¥°å™¨ã€-slots-é­”æ³•" class="headerlink" title="propertyè£…é¥°å™¨ã€__slots__é­”æ³•"></a>propertyè£…é¥°å™¨ã€__slots__é­”æ³•</h2><ul><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨propertyè£…é¥°å™¨å¯¹å±æ€§è¿›è¡Œå°è£…ã€é€šè¿‡getterå’Œsetteræ–¹æ³•è¿›è¡Œå±æ€§çš„è®¿é—®å’Œä¿®æ”¹</li><li>Pythonæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Œå¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶ç»™å¯¹è±¡ç»‘å®šå±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å¯¹å·²ç»ç»‘å®šçš„å±æ€§å’Œæ–¹æ³•è¿›è¡Œè§£ç»‘å®šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨__slots__é­”æ³•é™å®šå¯¹è±¡å¯ä»¥ç»‘å®šçš„å±æ€§</li></ul><p><img src="https://s2.ax1x.com/2019/05/31/V1PM1x.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/31/V1PM1x.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="V1PM1x.png"></p><p><img src="https://s2.ax1x.com/2019/05/31/V1PK91.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/31/V1PK91.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="V1PK91.png"></p><h1 id="ç»§æ‰¿-amp-amp-æ´¾ç”Ÿ"><a href="#ç»§æ‰¿-amp-amp-æ´¾ç”Ÿ" class="headerlink" title="ç»§æ‰¿&amp;&amp;æ´¾ç”Ÿ"></a>ç»§æ‰¿&amp;&amp;æ´¾ç”Ÿ</h1><ul><li><p>ä¸€ä¸ªæ–°ç±»ä»å·²æœ‰ç±»é‚£é‡Œè·å¾—å…¶å·²æœ‰ç‰¹æ€§ï¼Œè¿™ç§ç°è±¡ç§°ä¸ºç»§æ‰¿ã€‚ä»ä¸€ä¸ªå·²æœ‰ç±»ï¼ˆçˆ¶ç±»ï¼ŒPythonå«è¶…ç±»ï¼‰äº§ç”Ÿä¸€ä¸ªæ–°çš„å­ç±»ï¼Œç§°ä¸ºç±»çš„æ´¾ç”Ÿã€‚è¦æŒ‡é¡¶å®šè¶…ç±»ï¼Œå¯åœ¨classè¯­å¥ä¸­çš„ç±»åååŠ ä¸Šè¶…ç±»åï¼Œå¹¶å°†å…¶ç”¨åŸæ‹¬æ‹¬èµ·æ¥</p></li><li><p>ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªç±»ï¼ˆå¤šé‡ç»§æ‰¿ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœå¤šä¸ªè¶…ç±»ä»¥ä¸åŒçš„æ–¹å¼å®ç°äº†åŒä¸€ä¸ªæ–¹æ³•ï¼ˆå³æœ‰å¤šä¸ªåŒåçš„æ–¹æ³•ï¼‰ï¼Œå¿…é¡»åœ¨classè¯­å¥ä¸­å°å¿ƒæ’åˆ—è¿™äº›ç±»ï¼Œå› ä¸ºä½äºå‰é¢çš„ç±»çš„æ–¹æ³•å°†è¦†ç›–ä½äºåé¢çš„ç±»çš„æ–¹æ³•</p></li><li><p>å¯¹å­ç±»çš„å®ä¾‹è°ƒç”¨æ–¹æ³•ï¼ˆæˆ–è®¿é—®å…¶å±æ€§ï¼‰æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¯¥æ–¹æ³•æˆ–è€…å±æ€§ï¼Œå°†åœ¨çˆ¶ç±»ä¸­æŸ¥æ‰¾</p></li><li><p>åœ¨å­ç±»ä¸­å¯ä»¥é‡å†™è¶…ç±»çš„æ–¹æ³•ï¼ˆåŒ…æ‹¬æ„é€ å‡½æ•°ï¼‰ï¼Œé‡å†™æ„é€ å‡½æ•°æ—¶ï¼Œè¦ç¡®ä¿åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨è¶…ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™å¯èƒ½æ— æ³•æ­£ç¡®çš„åˆå§‹åŒ–å¯¹è±¡</p></li><li><p>Pythonä¸­æ‰€æœ‰çš„æ–¹æ³•å®é™…ä¸Šæ˜¯virtualçš„</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æˆ‘å«&#123;&#125;&quot;</span>.<span class="built_in">format</span>(name))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">Person</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        <span class="comment"># ä½¿ç”¨superå‡½æ•°è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(name) <span class="comment"># ä¹Ÿå¯ä»¥å†™æˆè¿™æ ·ï¼šPerson.__init__(self,name)</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªå­¦ç”Ÿï¼&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/05/23/VPB0O0.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/23/VPB0O0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VPB0O0.png"></p><h1 id="æŠ½è±¡åŸºç±»"><a href="#æŠ½è±¡åŸºç±»" class="headerlink" title="æŠ½è±¡åŸºç±»"></a>æŠ½è±¡åŸºç±»</h1><ul><li>æŠ½è±¡åŸºç±»æ˜¯ä¸èƒ½ï¼ˆè‡³å°‘æ˜¯ä¸åº”è¯¥ï¼‰å®ä¾‹åŒ–çš„ç±»ï¼Œå…¶èŒè´£æ˜¯å®šä¹‰å­ç±»åº”è¯¥å®ç°çš„ä¸€ç»„æŠ½è±¡æ–¹æ³•ã€‚Pythonå¯é€šè¿‡å¼•å…¥ABCæ¨¡å—å®ç°æŠ½è±¡åŸºç±»ï¼Œä½¿ç”¨<code>@abstractmethod</code>è£…é¥°å™¨å°†æ–¹æ³•æ ‡è®°ä¸ºæŠ½è±¡çš„ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Basic</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">talk</span><span class="params">()</span> <span class="type">const</span> </span>= <span class="number">0</span>;<span class="comment">//çº¯è™šå‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> abc <span class="keyword">import</span> ABC, abstractmethod</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Basic</span>(<span class="title class_ inherited__">ABC</span>):</span><br><span class="line"><span class="meta">    @abstractmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">talk</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><ul><li>æŠ½è±¡ç±»ï¼ˆå³åŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»ï¼‰æœ€é‡è¦çš„ç‰¹å¾æ˜¯ä¸èƒ½å®ä¾‹åŒ–ã€‚å¦‚æœæ´¾ç”Ÿå‡ºçš„ç±»æ²¡æœ‰é‡å†™talkæ–¹æ³•ï¼Œé‚£ä¹ˆæ´¾ç”Ÿå‡ºçš„ç±»ä¹Ÿæ˜¯æŠ½è±¡çš„ï¼Œä¸èƒ½å®ä¾‹åŒ–ã€‚</li></ul><h1 id="é¸­å­ç±»å‹"><a href="#é¸­å­ç±»å‹" class="headerlink" title="é¸­å­ç±»å‹"></a><a href="https://baike.baidu.com/item/%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B/10845665?fr=aladdin">é¸­å­ç±»å‹</a></h1><blockquote><p>â€œé¸­å­ç±»å‹â€çš„è¯­è¨€æ˜¯è¿™ä¹ˆæ¨æ–­çš„ï¼šä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸èµ·æ³³æ¥åƒé¸­å­ã€å«èµ·æ¥ä¹Ÿåƒé¸­å­ï¼Œé‚£å®ƒå°±å¯ä»¥è¢«å½“åšé¸­å­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸å…³æ³¨å¯¹è±¡çš„ç±»å‹ï¼Œè€Œæ˜¯å…³æ³¨å¯¹è±¡å…·æœ‰çš„è¡Œä¸º(æ–¹æ³•)ã€‚<br>ä¾‹å¦‚ï¼Œåœ¨ä¸ä½¿ç”¨é¸­å­ç±»å‹çš„è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªç±»å‹ä¸ºé¸­çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„èµ°å’Œå«æ–¹æ³•ã€‚åœ¨ä½¿ç”¨é¸­å­ç±»å‹çš„è¯­è¨€ä¸­ï¼Œè¿™æ ·çš„ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„èµ°å’Œå«æ–¹æ³•ã€‚å¦‚æœè¿™äº›éœ€è¦è¢«è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°†å¼•å‘ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚ä»»ä½•æ‹¥æœ‰è¿™æ ·çš„æ­£ç¡®çš„èµ°å’Œå«æ–¹æ³•çš„å¯¹è±¡éƒ½å¯è¢«å‡½æ•°æ¥å—çš„è¿™ç§è¡Œä¸ºå¼•å‡ºäº†ä»¥ä¸Šè¡¨è¿°ï¼Œè¿™ç§å†³å®šç±»å‹çš„æ–¹å¼å› æ­¤å¾—å</p></blockquote><p><strong>é¸­å­ç±»å‹çš„å…³æ³¨ç‚¹åœ¨å¯¹è±¡çš„è¡Œä¸ºï¼Œè€Œä¸åœ¨å¯¹è±¡çš„ç±»å‹</strong></p><p><img src="https://s2.ax1x.com/2019/05/24/VF9D3V.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/24/VF9D3V.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VF9D3V.png"></p><p>å‚è€ƒï¼š<a href="https://zhuanlan.zhihu.com/p/59299729">https://zhuanlan.zhihu.com/p/59299729</a></p><h1 id="ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•"><a href="#ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•" class="headerlink" title="ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•"></a>ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•</h1><ul><li>ç±»æ–¹æ³•ï¼šä½¿ç”¨@classmethodè£…é¥°å™¨å®šä¹‰ã€‚<code>ç±»æ–¹æ³•å°†ç±»æœ¬èº«ä½œä¸ºå¯¹è±¡è¿›è¡Œæ“ä½œ</code>,ç±»æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯å½“å‰ç±»å¯¹è±¡ï¼ˆä¸€èˆ¬å‘½åä¸º<code>cls</code>,ç”¨äºä¼ é€’ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼‰ï¼Œå®ä¾‹å¯¹è±¡å’Œç±»å¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨ç±»æ–¹æ³•ã€‚</li><li>é™æ€æ–¹æ³•ï¼šä½¿ç”¨@staticmethodè£…é¥°å™¨å®šä¹‰ã€‚æ²¡æœ‰selfå’Œclså‚æ•°ã€‚åœ¨æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨ç±»æˆ–å®ä¾‹ä»»ä½•å±æ€§å’Œæ–¹æ³•ã€‚å®ä¾‹å’Œå¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³•ã€‚</li></ul><p><img src="https://s2.ax1x.com/2019/05/31/V1PQc6.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/31/V1PQc6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="V1PQc6.png"></p><p><img src="https://s2.ax1x.com/2019/05/31/V1PmN9.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/31/V1PmN9.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="V1PmN9.png"></p><p>å‚è€ƒï¼š</p><ul><li><a href="https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/Day09/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6.md">https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/Day09/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6.md</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jupyter Notebooksçš„ç®€å•äº†è§£</title>
      <link href="/2019/05/22/Jupyter-Notebooks%E7%9A%84%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3/"/>
      <url>/2019/05/22/Jupyter-Notebooks%E7%9A%84%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>ç©Pythonè¿™ä¹ˆä¹…äº†ï¼Œè¿Jupyteréƒ½ä¸ä¼šï¼Œæœ‰ç‚¹æï¼Œä»Šå¤©è¡¥ä¸€è¡¥è¿™æ–¹é¢çš„æ“ä½œã€‚ã€‚ã€‚ã€‚</p></blockquote><h1 id="Jupyter-Notebooks"><a href="#Jupyter-Notebooks" class="headerlink" title="Jupyter Notebooks"></a><a href="https://jupyter.org/">Jupyter Notebooks</a></h1><p>&ensp;&ensp;Jupyter Notebooks æ˜¯ä¸€æ¬¾å¼€æºçš„ç½‘ç»œåº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç”¨äºåˆ›å»ºå’Œå…±äº«ä»£ç ä¸æ–‡æ¡£ã€‚å…¶æä¾›äº†ä¸€ä¸ªç¯å¢ƒï¼Œä½ æ— éœ€ç¦»å¼€è¿™ä¸ªç¯å¢ƒï¼Œå°±å¯ä»¥åœ¨å…¶ä¸­ç¼–å†™ä½ çš„ä»£ç ã€è¿è¡Œä»£ç ã€æŸ¥çœ‹è¾“å‡ºã€å¯è§†åŒ–æ•°æ®å¹¶æŸ¥çœ‹ç»“æœã€‚å› æ­¤ï¼Œè¿™æ˜¯ä¸€æ¬¾å¯æ‰§è¡Œç«¯åˆ°ç«¯çš„æ•°æ®ç§‘å­¦å·¥ä½œæµç¨‹çš„ä¾¿æ·å·¥å…·ï¼Œå…¶ä¸­åŒ…æ‹¬æ•°æ®æ¸…ç†ã€ç»Ÿè®¡å»ºæ¨¡ã€æ„å»ºå’Œè®­ç»ƒæœºå™¨å­¦ä¹ æ¨¡å‹ã€å¯è§†åŒ–æ•°æ®ç­‰ç­‰ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><pre><code>pip install ipython jupyter</code></pre><h2 id="ä¸Šæ‰‹ä¸Šæ‰‹"><a href="#ä¸Šæ‰‹ä¸Šæ‰‹" class="headerlink" title="ä¸Šæ‰‹ä¸Šæ‰‹"></a>ä¸Šæ‰‹ä¸Šæ‰‹</h2><p>åœ¨ç»ˆç«¯è¾“å…¥<code>jupyter notebook</code>å¯åŠ¨Jupyter notebooks,å®ƒä¼šåœ¨é»˜è®¤æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œåœ°å€æ˜¯<a href="http://localhost:8888/tree%E3%80%82">http://localhost:8888/treeã€‚</a></p><p><img src="https://s2.ax1x.com/2019/05/22/VCCz7R.md.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/22/VCCz7R.md.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VCCz7R.md.png"></p><!-- more --><p><img src="https://s2.ax1x.com/2019/05/22/VCCxB9.md.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/22/VCCxB9.md.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VCCxB9.md.png"></p><p>æ–°å»ºä¸ªPythonæ–‡ä»¶è¯•è¯•</p><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/jupyter.gif" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/jupyter.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/jupyter.gif"></p><h1 id="Jupyterå¸¸ç”¨é”®ç›˜å¿«æ·é”®"><a href="#Jupyterå¸¸ç”¨é”®ç›˜å¿«æ·é”®" class="headerlink" title="Jupyterå¸¸ç”¨é”®ç›˜å¿«æ·é”®"></a>Jupyterå¸¸ç”¨é”®ç›˜å¿«æ·é”®</h1><p><strong>escå’Œenterç”¨äºåˆ‡æ¢Jupyterçš„é”®ç›˜è¾“å…¥æ¨¡å¼ï¼Œescåˆ‡æ¢ä¸ºå‘½ä»¤æ¨¡å¼ï¼ˆblueï¼‰ï¼Œenteråˆ‡æ¢ä¸ºç¼–è¾‘æ¨¡å¼ï¼ˆgreenï¼‰</strong></p><ul><li><p>å‘½ä»¤æ¨¡å¼(å¸¸ç”¨)</p><ul><li>è¿ç»­æŒ‰ä¸¤ä¸‹Dï¼Œåˆ é™¤å½“å‰æ´»è·ƒå•å…ƒ</li><li>æŒ‰Aåœ¨æ´»è·ƒå•å…ƒä¸Šæ’å…¥ä¸€ä¸ªå•å…ƒï¼ŒæŒ‰Båœ¨æ´»è·ƒå•å…ƒä¸‹æ’å…¥ä¸€ä¸ªå•å…ƒ</li><li>æŒ‰Zæ’¤é”€è¢«åˆ é™¤çš„å•å…ƒ</li><li>æŒ‰Yå°†å½“å‰å•å…ƒå˜ä¸ºä»£ç å•å…ƒ</li><li>æŒ‰Shift+æ–¹å‘ä¸Šä¸‹é”®é€‰æ‹©å¤šä¸ªå•å…ƒï¼ŒæŒ‰Shift+Må¯ä»¥åˆå¹¶é€‰æ‹©çš„å•å…ƒ</li><li>Ctrl+Shift+Fç”¨äºæ‰“å¼€å‘½ä»¤é¢æ¿</li><li>æŒ‰HæŸ¥çœ‹å¿«æ·é”®å®Œæ•´åˆ—è¡¨</li></ul></li><li><p>ç¼–è¾‘æ¨¡å¼ï¼ˆå¸¸ç”¨ï¼‰</p><ul><li>Ctrl+Sä¿å­˜ï¼ˆé˜²æ­»æœº(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§ï¼‰</li><li>Ctrl+Homeå›åˆ°å•å…ƒèµ·å§‹ä½ç½®</li><li>Ctrl+Enterè¿è¡Œæ•´ä¸ªå•å…ƒå—</li><li>Alt+Enterè¿è¡Œå½“å‰æ´»è·ƒå•å…ƒå—ï¼Œå¹¶åœ¨å½“å‰æ´»è·ƒå•å…ƒå—ä¸‹æ–¹åˆ›å»ºæ–°çš„å•å…ƒå—</li></ul></li></ul><p><img src="https://s2.ax1x.com/2019/05/22/VCPpA1.md.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/22/VCPpA1.md.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VCPpA1.md.png"></p><hr><p>emmmå¯ä»¥åˆ’æ°´äº†ã€‚ã€‚ã€‚ã€‚</p><p>äº†è§£æ›´å¤šï¼š</p><p><a href="https://zhuanlan.zhihu.com/p/37553863">å§‹äºJupyter Notebooksï¼šä¸€ä»½å…¨é¢çš„åˆå­¦è€…å®ç”¨æŒ‡å—</a></p><p><a href="https://zhuanlan.zhihu.com/p/42468945">jupyter notebookä½¿ç”¨æŠ€å·§</a></p><p><a href="https://segmentfault.com/a/1190000013014274?tdsourcetag=s_pcqq_aiomsg">Jupyterä»‹ç»å’Œä½¿ç”¨ ä¸­æ–‡ç‰ˆ</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå¤šè¿›ç¨‹&amp;&amp;å¤šçº¿ç¨‹ï¼ˆåˆæ­¥ï¼‰</title>
      <link href="/2019/05/11/Python%E5%A4%9A%E8%BF%9B%E7%A8%8B-%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
      <url>/2019/05/11/Python%E5%A4%9A%E8%BF%9B%E7%A8%8B-%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="è¿›ç¨‹-amp-amp-çº¿ç¨‹"><a href="#è¿›ç¨‹-amp-amp-çº¿ç¨‹" class="headerlink" title="è¿›ç¨‹ &amp;&amp; çº¿ç¨‹"></a>è¿›ç¨‹ &amp;&amp; çº¿ç¨‹</h1><blockquote><p>è¿›ç¨‹ï¼šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿä¸­æ‰§è¡Œçš„ä¸€ä¸ªç¨‹åºï¼Œæ“ä½œç³»ç»Ÿä»¥è¿›ç¨‹ä¸ºå•ä½åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ã€æ•°æ®æ ˆä»¥åŠå…¶ä»–ç”¨äºè·Ÿè¸ªè¿›ç¨‹æ‰§è¡Œçš„è¾…åŠ©æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿç®¡ç†æ‰€æœ‰è¿›ç¨‹çš„æ‰§è¡Œï¼Œä¸ºå®ƒä»¬åˆç†çš„åˆ†é…èµ„æºã€‚è¿›ç¨‹å¯ä»¥é€šè¿‡forkæˆ–è€…wpawnçš„æ–¹å¼æ¥åˆ›å»ºæ–°çš„è¿›ç¨‹æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œä¸è¿‡æ–°çš„è¿›ç¨‹æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´å’Œæ•°æ®æ ˆï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡è¿›ç¨‹é—´çš„é€šä¿¡æœºåˆ¶ï¼ˆIPCï¼ŒInter Process Communicationï¼‰æ¥å®ç°æ•°æ®å…±äº«ï¼Œå…·ä½“çš„æ–¹å¼åŒ…æ‹¬ç®¡é“ã€ä¿¡å·ã€å¥—æ¥å­—ã€å…±äº«å†…å­˜ç­‰ã€‚</p></blockquote><blockquote><p>çº¿ç¨‹ï¼šè¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒã€‚çº¿ç¨‹åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­æ‰§è¡Œï¼Œå…±äº«ç¨‹åºçš„ä¸Šä¸‹æ–‡ã€‚ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å„ä¸ªçº¿ç¨‹ä¸ä¸»çº¿ç¨‹å…±äº«åŒä¸€ç‰‡æ•°æ®ç©ºé—´ï¼Œå› è€Œç›¸æ¯”ä¸ç‹¬ç«‹çš„è¿›ç¨‹ï¼Œçº¿ç¨‹é—´çš„ä¿¡æ¯å…±äº«å’Œé€šä¿¡æ›´ä¸ºå®¹æ˜“ã€‚çº¿ç¨‹ä¸€èˆ¬æ˜¯ä»¥å¹¶å‘çš„æ–¹å¼æ‰§è¡Œçš„ã€‚æ³¨æ„åœ¨å•æ ¸CPUç³»ç»Ÿä¸­ï¼ŒçœŸæ­£çš„å¹¶å‘æ˜¯ä¸å¯èƒ½çš„ï¼Œæ‰€ä»¥æ–°åŸçš„æ‰§è¡Œå®é™…ä¸Šæ˜¯è¿™æ ·è§„åˆ’çš„ï¼šæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€å°ä¼šï¼Œç„¶åè®©æ­¥ç»™å…¶ä»–çº¿ç¨‹çš„ä»»åŠ¡ï¼ˆå†æ¬¡æ’é˜Ÿç­‰å€™æ›´å¤šçš„CPUæ‰§è¡Œæ—¶é—´ï¼‰ã€‚åœ¨æ•´ä¸ªçº¿ç¨‹çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œå®ƒè‡ªå·±çš„ç‰¹å®šçš„ä»»åŠ¡ï¼Œåœ¨å¿…è¦æ—¶å’Œå…¶ä»–è¿›ç¨‹è¿›è¡Œç»“æœé€šä¿¡ã€‚</p></blockquote><h1 id="Pythonå¤šè¿›ç¨‹ï¼ˆä½¿ç”¨multiprocessingï¼‰"><a href="#Pythonå¤šè¿›ç¨‹ï¼ˆä½¿ç”¨multiprocessingï¼‰" class="headerlink" title="Pythonå¤šè¿›ç¨‹ï¼ˆä½¿ç”¨multiprocessingï¼‰"></a>Pythonå¤šè¿›ç¨‹ï¼ˆä½¿ç”¨multiprocessingï¼‰</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time, sleep</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_task</span>(<span class="params">name</span>):</span><br><span class="line">    sleep_time = randint(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">    sleep(sleep_time)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä½ å«äº†ä¸€å£°%sï¼Œå®ƒé¸Ÿä½ ç”¨äº†%dç§’&quot;</span> % (name, sleep_time))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    start = time()</span><br><span class="line">    process_1 = Process(target=my_task, args=[<span class="string">&quot;yeshan&quot;</span>, ])</span><br><span class="line">    process_2 = Process(target=my_task, args=[<span class="string">&quot;foel&quot;</span>, ])</span><br><span class="line">    <span class="comment"># å¯åŠ¨è¿›ç¨‹</span></span><br><span class="line">    process_1.start()</span><br><span class="line">    process_2.start()</span><br><span class="line">    <span class="comment"># ç­‰å¾…è¿›ç¨‹æ‰§è¡Œç»“æŸ</span></span><br><span class="line">    process_1.join()</span><br><span class="line">    process_2.join()</span><br><span class="line">    end = time()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä¸€å…±èŠ±è´¹äº†%fç§’&quot;</span> % (end-start))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><span id="more"></span><p><img src="https://s2.ax1x.com/2019/05/14/EIcIMt.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/14/EIcIMt.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="EIcIMt.png"></p><p>æˆ‘ä»¬é€šè¿‡Processç±»åˆ›å»ºäº†è¿›ç¨‹å¯¹è±¡ï¼Œé€šè¿‡<code>target</code>å‚æ•°æˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªå‡½æ•°æ¥è¡¨ç¤ºè¿›ç¨‹å¯åŠ¨åè¦æ‰§è¡Œçš„ä»£ç ï¼Œåé¢çš„<code>args</code>æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œå®ƒä»£è¡¨äº†ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€‚<br>Processå¯¹è±¡çš„startæ–¹æ³•ç”¨æ¥å¯åŠ¨è¿›ç¨‹ï¼Œjoinæ–¹æ³•è¡¨ç¤ºç­‰å¾…è¿›ç¨‹æ‰§è¡Œç»“æŸã€‚</p><h1 id="Pythonå¤šçº¿ç¨‹ï¼ˆä½¿ç”¨threadingï¼‰"><a href="#Pythonå¤šçº¿ç¨‹ï¼ˆä½¿ç”¨threadingï¼‰" class="headerlink" title="Pythonå¤šçº¿ç¨‹ï¼ˆä½¿ç”¨threadingï¼‰"></a>Pythonå¤šçº¿ç¨‹ï¼ˆä½¿ç”¨threadingï¼‰</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment">#-*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time, sleep</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download</span>(<span class="params">filename</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å¼€å§‹ä¸‹è½½ %s ...&quot;</span> % filename)</span><br><span class="line">    download_time = randint(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">    sleep(download_time)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä¸‹è½½å®Œæˆï¼è€—æ—¶ %d ç§’&quot;</span> % download_time)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    start = time()</span><br><span class="line"></span><br><span class="line">    t1 = Thread(target=download, args=(<span class="string">&#x27;é»‘æš—åœ°å®«&#x27;</span>,))</span><br><span class="line">    t1.start()</span><br><span class="line"></span><br><span class="line">    t2 = Thread(target=download, args=(<span class="string">&#x27;é€šå¤©&#x27;</span>,))</span><br><span class="line">    t2.start()</span><br><span class="line"></span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line"></span><br><span class="line">    end = time()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä¸‹è½½æ€»å…±è€—æ—¶ %.3f ç§’&quot;</span> % (end-start))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/05/21/VSTFr4.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/21/VSTFr4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VSTFr4.png"></p><p>** ç»§æ‰¿Threadç±»ï¼Œå®ç°è‡ªå®šä¹‰çº¿ç¨‹ç±» **</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time, sleep</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DownLoadTask</span>(<span class="title class_ inherited__">Thread</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, filename</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__() <span class="comment">#åˆå§‹åŒ–çˆ¶ç±»çš„æ„é€ å‡½æ•°</span></span><br><span class="line">        self._filename = filename <span class="comment"># ç§æœ‰çš„</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¼€å§‹ä¸‹è½½ %s ...&quot;</span> % self._filename)</span><br><span class="line">        download_time = randint(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">        sleep(download_time)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%sä¸‹è½½å®Œæˆï¼è€—æ—¶ %d ç§’&quot;</span> % (self._filename, download_time))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    strat = time()</span><br><span class="line"></span><br><span class="line">    t1 = DownLoadTask(<span class="string">&quot;ä»èœé¸Ÿåˆ°èœé¸¡&quot;</span>)</span><br><span class="line">    t1.start()</span><br><span class="line"></span><br><span class="line">    t2 = DownLoadTask(<span class="string">&quot;å»å“ªé‡Œå•Šå¼Ÿå¼Ÿ&quot;</span>)</span><br><span class="line">    t2.start()</span><br><span class="line"></span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line"></span><br><span class="line">    end = time()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä¸‹è½½å®Œæˆï¼Œæ€»å…±è€—è´¹ %.3f ç§’&quot;</span> % (end-strat))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/05/21/VSTiMF.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/05/21/VSTiMF.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VSTiMF.png"></p><h2 id="çº¿ç¨‹é—´çš„é€šä¿¡"><a href="#çº¿ç¨‹é—´çš„é€šä¿¡" class="headerlink" title="çº¿ç¨‹é—´çš„é€šä¿¡"></a>çº¿ç¨‹é—´çš„é€šä¿¡</h2><blockquote><p>å› ä¸ºå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤è¦å®ç°å¤šä¸ªçº¿ç¨‹é—´çš„é€šä¿¡ç›¸å¯¹ç®€å•ï¼Œå¤§å®¶èƒ½æƒ³åˆ°çš„æœ€ç›´æ¥çš„åŠæ³•å°±æ˜¯è®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«è¿™ä¸ªå…¨å±€å˜é‡å³å¯ã€‚ä½†æ˜¯å½“å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€ä¸ªå˜é‡ï¼ˆæˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºâ€œèµ„æºâ€ï¼‰çš„æ—¶å€™ï¼Œå¾ˆæœ‰å¯èƒ½äº§ç”Ÿä¸å¯æ§çš„ç»“æœä»è€Œå¯¼è‡´ç¨‹åºå¤±æ•ˆç”šè‡³å´©æºƒã€‚å¦‚æœä¸€ä¸ªèµ„æºè¢«å¤šä¸ªçº¿ç¨‹ç«äº‰ä½¿ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºâ€œä¸´ç•Œèµ„æºâ€ï¼Œå¯¹â€œä¸´ç•Œèµ„æºâ€çš„è®¿é—®éœ€è¦åŠ ä¸Šä¿æŠ¤ï¼Œå¦åˆ™èµ„æºä¼šå¤„äºâ€œæ··ä¹±â€çš„çŠ¶æ€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâ€œé”â€å°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡â€œé”â€æ¥ä¿æŠ¤â€œä¸´ç•Œèµ„æºâ€ï¼Œåªæœ‰è·å¾—â€œé”â€çš„çº¿ç¨‹æ‰èƒ½è®¿é—®â€œä¸´ç•Œèµ„æºâ€ï¼Œè€Œå…¶ä»–æ²¡æœ‰å¾—åˆ°â€œé”â€çš„çº¿ç¨‹åªèƒ½è¢«é˜»å¡èµ·æ¥ï¼Œç›´åˆ°è·å¾—â€œé”â€çš„çº¿ç¨‹é‡Šæ”¾äº†â€œé”â€ï¼Œå…¶ä»–çº¿ç¨‹æ‰æœ‰æœºä¼šè·å¾—â€œé”â€ï¼Œè¿›è€Œè®¿é—®è¢«ä¿æŠ¤çš„â€œä¸´ç•Œèµ„æºâ€ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread, Lock</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self._balance = <span class="number">0</span></span><br><span class="line">        self._lock = Lock()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deposit</span>(<span class="params">self, money</span>):</span><br><span class="line">        <span class="comment"># å…ˆè·å–é”æ‰èƒ½è·å–åé¢çš„ä»£ç </span></span><br><span class="line">        self._lock.acquire()</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># è®¡ç®—å­˜æ¬¾åçš„ä½™é¢</span></span><br><span class="line">            new_balance = self._balance + money</span><br><span class="line">            <span class="comment"># æ¨¡æ‹Ÿå—ç†å­˜æ¬¾ä¸šåŠ¡éœ€è¦0.01ç§’çš„æ—¶é—´</span></span><br><span class="line">            sleep(<span class="number">0.01</span>)</span><br><span class="line">            <span class="comment"># ä¿®æ”¹è´¦æˆ·ä½™é¢</span></span><br><span class="line">            self._balance = new_balance</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            self._lock.release()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">balance</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._balance</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AddMoneyThread</span>(<span class="title class_ inherited__">Thread</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, account, money</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self._account = account</span><br><span class="line">        self._money = money</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        self._account.deposit(self._money)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    account = Account()</span><br><span class="line">    threads = []</span><br><span class="line">    <span class="comment"># åˆ›å»º100ä¸ªå­˜æ¬¾çš„çº¿ç¨‹å‘åŒä¸€ä¸ªè´¦æˆ·ä¸­å­˜é’±</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        t = AddMoneyThread(account, <span class="number">1</span>)</span><br><span class="line">        threads.append(t)</span><br><span class="line">        t.start()</span><br><span class="line">    <span class="comment"># ç­‰æ‰€æœ‰å­˜æ¬¾çš„çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> threads:</span><br><span class="line">        t.join()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;è´¦æˆ·ä½™é¢ä¸º: ï¿¥%då…ƒ&#x27;</span> % account.balance)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸º100å—ï¼Œä¸ç”¨é”ä¸º2å—</p><p>** Pythonå†…ç½®è£…é¥°å™¨ property **</p><p>*** propertyè£…é¥°å™¨ä¸€èˆ¬å­˜åœ¨äºç±»ä¸­ï¼Œå¯ä»¥å°†ä¸€ä¸ªå‡½æ•°å®šä¹‰æˆä¸€ä¸ªå±æ€§ï¼Œå±æ€§çš„å€¼å°±æ˜¯è¯¥å‡½æ•°returnçš„å†…å®¹ ***</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="comment"># æŠŠä¸€ä¸ªæ–¹æ³•å˜æˆå±æ€§</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">score</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._score</span><br><span class="line"></span><br><span class="line">    <span class="comment"># setteræŠŠä¸€ä¸ªæ–¹æ³•å˜æˆä¸€ä¸ªå¯æ§å±æ€§ç”¨äºèµ‹å€¼</span></span><br><span class="line"><span class="meta">    @score.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">score</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(value, <span class="built_in">int</span>):</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;score must be an integer!&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> value &lt; <span class="number">0</span> <span class="keyword">or</span> value &gt; <span class="number">100</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;score must between 0 ~ 100!&#x27;</span>)</span><br><span class="line">        self._score = value</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/21.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/21.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/21.png"></p><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/22.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/22.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/22.png"></p><hr><p>å‚è€ƒï¼š</p><p><a href="https://zhuanlan.zhihu.com/p/65968462?utm_source=qq&utm_medium=social&utm_oi=908413169096077312">ä¸€ç¯‡æ–‡ç« ææ‡‚è£…é¥°å™¨çš„ç”¨æ³•</a></p><p><a href="https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/Day13/%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B.md">https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/Day13/%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B.md</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPieçš„ä½¿ç”¨</title>
      <link href="/2019/04/23/HTTPie%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/04/23/HTTPie%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>HTTPieï¼ˆå‘éŸ³ä¸ºaitch-tee-tee-pieï¼‰æ˜¯ä¸€ä¸ªå‘½ä»¤è¡ŒHTTPå®¢æˆ·ç«¯ã€‚å…¶ç›®æ ‡æ˜¯ä½¿ä¸WebæœåŠ¡çš„CLIäº¤äº’å°½å¯èƒ½äººæ€§åŒ–ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€å•çš„httpå‘½ä»¤ï¼Œå…è®¸ä½¿ç”¨ç®€å•è‡ªç„¶çš„è¯­æ³•å‘é€ä»»æ„HTTPè¯·æ±‚ï¼Œå¹¶æ˜¾ç¤ºå½©è‰²è¾“å‡ºã€‚HTTPieå¯ç”¨äºæµ‹è¯•ï¼Œè°ƒè¯•ä»¥åŠé€šå¸¸ä¸HTTPæœåŠ¡å™¨äº¤äº’ã€‚</p></blockquote><h1 id="HTTPieå®˜æ–¹æ–‡æ¡£"><a href="#HTTPieå®˜æ–¹æ–‡æ¡£" class="headerlink" title="HTTPieå®˜æ–¹æ–‡æ¡£"></a>HTTPieå®˜æ–¹æ–‡æ¡£</h1><ul><li><a href="https://httpie.org/doc">https://httpie.org/doc</a></li></ul><p>windowsä¸‹å®‰è£…</p><pre><code>pip install --upgrade httpie</code></pre><h1 id="HTTPieçš„ç®€å•ä½¿ç”¨"><a href="#HTTPieçš„ç®€å•ä½¿ç”¨" class="headerlink" title="HTTPieçš„ç®€å•ä½¿ç”¨"></a>HTTPieçš„ç®€å•ä½¿ç”¨</h1><h2 id="ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è¯­å¥çš„å¤§æ¦‚æ ·å­"><a href="#ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è¯­å¥çš„å¤§æ¦‚æ ·å­" class="headerlink" title="ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è¯­å¥çš„å¤§æ¦‚æ ·å­"></a>ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è¯­å¥çš„å¤§æ¦‚æ ·å­</h2><pre><code>http [é€‰é¡¹(flags)] [æ–¹æ³•] URL [æŸ¥è¯¢å­—ç¬¦ä¸²/æ•°æ®å­—æ®µ/é¦–éƒ¨å­—æ®µ]</code></pre><h2 id="HTTPieæ•°æ®è¯­æ³•"><a href="#HTTPieæ•°æ®è¯­æ³•" class="headerlink" title="HTTPieæ•°æ®è¯­æ³•"></a>HTTPieæ•°æ®è¯­æ³•</h2><table><thead><tr><th align="center">ç±»å‹</th><th align="center">ç¬¦å·</th><th align="center">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="center">URLå‚æ•°</td><td align="center">==</td><td align="center">param==value</td></tr><tr><td align="center">é¦–éƒ¨å­—æ®µ</td><td align="center">:</td><td align="center">Name:value</td></tr><tr><td align="center">æ•°æ®å­—æ®µ</td><td align="center">=</td><td align="center">field=value</td></tr><tr><td align="center">åŸç”ŸJSONå­—æ®µ</td><td align="center">:=</td><td align="center">field:=json</td></tr><tr><td align="center">è¡¨å•ä¸Šä¼ å­—æ®µ</td><td align="center">@</td><td align="center">field@dir/file</td></tr></tbody></table><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½æ–‡ä»¶</span></span><br><span class="line">$ http --download www.jb51.net/my_file.zip</span><br><span class="line"></span><br><span class="line"><span class="comment"># æäº¤è¡¨å•</span></span><br><span class="line">$ http -f POST www.jb51.net name=<span class="string">&#x27;Dan Nanni&#x27;</span> comment=<span class="string">&#x27;Hi there&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># HTTPieçš„é»˜è®¤æ•°æ®ç±»å‹ä¸ºJSONæ ¼å¼çš„</span></span><br><span class="line">$ http PUT example.org name=John email=john@example.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ä»£ç†</span></span><br><span class="line">$ http --proxy=http:http://10.10.1.10:3128 --proxy=https:https://10.10.1.10:1080 example.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šåˆ¶è¯·æ±‚å¤´</span></span><br><span class="line">$ http www.test.com User-Agent:Xmodulo/1.0 Referer:http://www.imike.me MyParam:Foo</span><br></pre></td></tr></table></figure><h2 id="æ”¾ç€å…ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å ä¸ªä½"><a href="#æ”¾ç€å…ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å ä¸ªä½" class="headerlink" title="æ”¾ç€å…ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å ä¸ªä½"></a>æ”¾ç€å…ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å ä¸ªä½</h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Git Branch Practice</title>
      <link href="/2019/04/08/Git-Branch-Practice/"/>
      <url>/2019/04/08/Git-Branch-Practice/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>æœ€è¿‘åœ¨å¼„ä¸€ä¸ªä¸œè¥¿ï¼ŒåŸºæœ¬çš„åŠŸèƒ½å·²ç»å¼„å¥½äº†ï¼Œç°åœ¨æƒ³å†æ‰©å±•ä¸€èµ·å…¶ä»–åŠŸèƒ½ï¼Œä½†è¿™æ ·åŠ¿å¿…ä¼šæ”¹åŠ¨åŸæœ‰ä»£ç ï¼Œæˆ‘åˆä¸æƒ³ç ´ååŸæœ‰çš„ä»£ç é€»è¾‘ï¼Œæ–¹ä¾¿ä»¥åæŸ¥çœ‹ã€‚è®°å¾—Gitæœ‰ä¸ªåˆ†æ”¯å·¥ä½œæµå¯ä»¥å¾ˆå¥½çš„æ»¡è¶³æˆ‘çš„éœ€æ±‚(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§ã€‚emmmï¼Œå¾ˆä¹…æ²¡å‘æ–‡äº†ï¼Œrecordä¸€ä¸‹å§ã€‚(ãƒã¸ï¿£ã€)</p></blockquote><h1 id="ä½¿ç”¨åˆ°çš„å‘½ä»¤"><a href="#ä½¿ç”¨åˆ°çš„å‘½ä»¤" class="headerlink" title="ä½¿ç”¨åˆ°çš„å‘½ä»¤"></a>ä½¿ç”¨åˆ°çš„å‘½ä»¤</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git branch <span class="comment"># æ˜¾ç¤ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">$ git branch &lt;new branch&gt; <span class="comment"># åˆ›å»ºæ–°åˆ†æ”¯</span></span><br><span class="line">$ git checkout &lt;branch&gt; <span class="comment"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯</span></span><br><span class="line">$ git branch -d &lt;branch&gt; <span class="comment"># åˆ é™¤æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">$ git push --set-upstream origin &lt;branch&gt; <span class="comment"># å°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å…³è”</span></span><br><span class="line">$ git push origin --delete &lt;branch&gt; <span class="comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line">$ git tag -n <span class="comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°æ ‡ç­¾ä»¥åŠç›¸å…³ä¿¡æ¯</span></span><br><span class="line">$ git tag &lt;tagname&gt; <span class="comment"># åŸºäºæœ€æ–°æäº¤åˆ›å»ºæ ‡ç­¾</span></span><br><span class="line">&amp; git tag &lt;tagname&gt; -m <span class="string">&quot;å¤‡æ³¨ä¿¡æ¯&quot;</span> <span class="comment"># åŸºäºæœ€æ–°æäº¤åˆ›å»ºå«å¤‡æ³¨ä¿¡æ¯çš„æ ‡ç­¾</span></span><br><span class="line">$ git tag -d &lt;tagname&gt; <span class="comment"># åˆ é™¤æ ‡ç­¾</span></span><br><span class="line">$ git push orign &lt;tagname&gt; <span class="comment"># å°†æŒ‡å®šä¿¡æ¯æ¨é€åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line">$ git push --tags <span class="comment"># æ¨é€æ‰€æœ‰æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“</span></span><br></pre></td></tr></table></figure><h1 id="æ“ä½œ-æ“ä½œ"><a href="#æ“ä½œ-æ“ä½œ" class="headerlink" title="æ“ä½œ~æ“ä½œ"></a>æ“ä½œ~æ“ä½œ</h1><p><img src="https://pic1.imgdb.cn/item/6367b0a916f2c2beb18cd5ac.png" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367b0a916f2c2beb18cd5ac.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://pic1.imgdb.cn/item/6367b0a916f2c2beb18cd5ac.png"></p><p>emmmï¼Œé¡ºä¾¿è¯•è¯•tag</p><p><img src="https://pic1.imgdb.cn/item/6367b0c016f2c2beb18d16eb.jpg" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367b0c016f2c2beb18d16eb.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://pic1.imgdb.cn/item/6367b0c016f2c2beb18d16eb.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åæ§½</title>
      <link href="/2019/03/22/%E5%90%90%E6%A7%BD/"/>
      <url>/2019/03/22/%E5%90%90%E6%A7%BD/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="better-and-better"><a href="#better-and-better" class="headerlink" title="better and better"></a>better and better</h1>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘ä¸vimçš„äº²å¯†æ¥è§¦(Ë‰â–½ï¿£ï½)</title>
      <link href="/2019/03/20/%E6%88%91%E4%B8%8Evim%E7%9A%84%E4%BA%B2%E5%AF%86%E6%8E%A5%E8%A7%A6/"/>
      <url>/2019/03/20/%E6%88%91%E4%B8%8Evim%E7%9A%84%E4%BA%B2%E5%AF%86%E6%8E%A5%E8%A7%A6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>emmmï¼Œé—²æ¥æ— äº‹ï¼Œæ‰“ç®—äº†è§£ä¸‹ç¥å¥‡vimï¼ˆç”¨æ¥zhuangbiï¼‰ã€‚åœ¨ç»ˆç«¯æ“ä½œå¾ˆå¸…(Ë‰â–½ï¿£ï½)~~ï¼<br>ä»€ä¹ˆæ˜¯vimï¼Ÿï¼ŸVimæ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p></blockquote><h1 id="vi-vimçš„ä½¿ç”¨"><a href="#vi-vimçš„ä½¿ç”¨" class="headerlink" title="vi/vimçš„ä½¿ç”¨"></a>vi/vimçš„ä½¿ç”¨</h1><p>vi/vimæœ‰ä¸‰ç§æ¨¡å¼ï¼š</p><ul><li><strong>å‘½ä»¤æ¨¡å¼</strong>ï¼šæ§åˆ¶å…‰æ ‡ç§»åŠ¨ï¼Œå¯å¯¹æ–‡æœ¬è¿›è¡Œå¤åˆ¶ã€ç²˜è´´ã€åˆ é™¤å’ŒæŸ¥æ‰¾ç­‰å·¥ä½œã€‚åˆšå¯åŠ¨æ—¶å°±æ˜¯è¿™ä¸ªæ¨¡å¼ã€‚</li><li><strong>è¾“å…¥æ¨¡å¼</strong>ï¼šæ­£å¸¸çš„æ–‡æœ¬å½•å…¥ã€‚</li><li><strong>æœ«è¡Œæ¨¡å¼</strong>ï¼šä¿å­˜æˆ–é€€å‡ºæ–‡æ¡£ï¼Œä»¥åŠè®¾ç½®ç¼–è¾‘ç¯å¢ƒã€‚åˆå¯æˆä¸ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</li></ul><span id="more"></span><p><img src="https://img.shan333.cn/images/2019/03/20/vim-vi-workmodel.png" class="lazyload" data-srcset="https://img.shan333.cn/images/2019/03/20/vim-vi-workmodel.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="vim-vi-workmodel.png"></p><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p>å‘½ä»¤æ¨¡å¼å¸¸ç”¨å‘½ä»¤ï¼š</p><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">ä½œç”¨</th></tr></thead><tbody><tr><td align="center">dd</td><td align="center">åˆ é™¤ï¼ˆå‰ªåˆ‡ï¼‰å…‰æ ‡æ‰€åœ¨æ•´è¡Œ</td></tr><tr><td align="center">5dd</td><td align="center">åˆ é™¤ï¼ˆå‰ªåˆ‡ï¼‰ä»å…‰æ ‡å¤„å¼€å§‹çš„5è¡Œ</td></tr><tr><td align="center">yy</td><td align="center">å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„æ•´è¡Œ</td></tr><tr><td align="center">5yy</td><td align="center">å¤åˆ¶ä»å…‰æ ‡å¤„å¼€å§‹çš„5è¡Œ</td></tr><tr><td align="center">n</td><td align="center">æ˜¾ç¤ºæœç´¢å‘½ä»¤å®šä½åˆ°çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²</td></tr><tr><td align="center">N</td><td align="center">æ˜¾ç¤ºæœç´¢å‘½ä»¤å®šä½åˆ°çš„ä¸Šä¸€ä¸ªå­—ç¬¦ä¸²</td></tr><tr><td align="center">u</td><td align="center">æ’¤é”€ä¸Šä¸€æ­¥çš„æ“ä½œ</td></tr><tr><td align="center">p</td><td align="center">å°†ä¹‹å‰åˆ é™¤ï¼ˆddï¼‰æˆ–å¤åˆ¶ï¼ˆyyï¼‰è¿‡çš„æ•°æ®ç²˜è´´åˆ°å…‰æ ‡åé¢</td></tr></tbody></table><p>æœ«è¡Œæ¨¡å¼å¯ç”¨å‘½ä»¤ï¼š</p><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">ä½œç”¨</th></tr></thead><tbody><tr><td align="center">:w</td><td align="center">ä¿å­˜</td></tr><tr><td align="center">:q</td><td align="center">é€€å‡º</td></tr><tr><td align="center">:q!</td><td align="center">å¼ºåˆ¶é€€å‡ºï¼ˆæ”¾å¼ƒå¯¹æ–‡æ¡£å†…å®¹çš„ä¿®æ”¹ï¼‰</td></tr><tr><td align="center">:wq!</td><td align="center">å¼ºåˆ¶ä¿å­˜é€€å‡º</td></tr><tr><td align="center">:set nu</td><td align="center">æ˜¾ç¤ºè¡Œå·</td></tr><tr><td align="center">:set nonu</td><td align="center">ä¸æ˜¾ç¤ºè¡Œå·</td></tr><tr><td align="center">:å‘½ä»¤</td><td align="center">æ‰§è¡Œè¯¥å‘½ä»¤</td></tr><tr><td align="center">:æ•´æ•°</td><td align="center">è·³è½¬åˆ°è¯¥è¡Œ</td></tr><tr><td align="center">:s/one/two</td><td align="center">å°†å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªoneæ›¿æ¢æˆtwo</td></tr><tr><td align="center">:s/one/two/p</td><td align="center">å°†å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„æ‰€æœ‰oneæ›¿æ¢æˆtwo</td></tr><tr><td align="center">:%s/one/two/g</td><td align="center">å°†å…¨æ–‡ä¸­çš„æ‰€æœ‰oneæ›¿æ¢æˆtwo</td></tr><tr><td align="center">?å­—ç¬¦ä¸²</td><td align="center">åœ¨æ–‡æœ¬ä¸­ä»ä¸‹åˆ°ä¸Šæœç´¢è¯¥å­—ç¬¦ä¸²</td></tr><tr><td align="center">/å­—ç¬¦ä¸²</td><td align="center">åœ¨æ–‡æœ¬ä¸­ä»ä¸Šåˆ°ä¸‹æœç´¢è¯¥å­—ç¬¦ä¸²</td></tr></tbody></table><h1 id="æˆ‘ä¸å®ƒçš„äº²å¯†æ¥è§¦ã€‚ã€‚ã€‚ã€‚ã€‚"><a href="#æˆ‘ä¸å®ƒçš„äº²å¯†æ¥è§¦ã€‚ã€‚ã€‚ã€‚ã€‚" class="headerlink" title="æˆ‘ä¸å®ƒçš„äº²å¯†æ¥è§¦ã€‚ã€‚ã€‚ã€‚ã€‚"></a>æˆ‘ä¸å®ƒçš„äº²å¯†æ¥è§¦ã€‚ã€‚ã€‚ã€‚ã€‚</h1><p><img src="https://img.shan333.cn/images/2019/03/20/_2019_03_21_00_34_28_680.gif" class="lazyload" data-srcset="https://img.shan333.cn/images/2019/03/20/_2019_03_21_00_34_28_680.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="_2019_03_21_00_34_28_680.gif"></p><h1 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h1><ul><li>vimå®˜ç½‘ï¼š<a href="https://www.vim.org/">https://www.vim.org/</a></li><li>vimå¿«æ·é”®é”®ä½å›¾ï¼š<a href="https://www.jianshu.com/p/8b986f572a61">https://www.jianshu.com/p/8b986f572a61</a></li></ul><p><img src="https://img.shan333.cn/images/2019/03/20/1294928-20171207102042159-1872416815.jpg" class="lazyload" data-srcset="https://img.shan333.cn/images/2019/03/20/1294928-20171207102042159-1872416815.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="1294928-20171207102042159-1872416815.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLAlchemyå»ºç«‹æ•°æ®åº“æ¨¡å‹ä¹‹é—´çš„å…³ç³»</title>
      <link href="/2019/03/20/SQLAlchemy%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9E%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"/>
      <url>/2019/03/20/SQLAlchemy%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9E%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å¸¸è§å…³ç³»ï¼š"><a href="#å¸¸è§å…³ç³»ï¼š" class="headerlink" title="å¸¸è§å…³ç³»ï¼š"></a>å¸¸è§å…³ç³»ï¼š</h1><ul><li>ä¸€å¯¹å¤šå…³ç³»</li><li>å¤šå¯¹ä¸€å…³ç³»</li><li>å¤šå¯¹å¤šå…³ç³»</li><li>ä¸€å¯¹ä¸€å…³ç³»</li></ul><h1 id="ä¸€å¯¹å¤šå…³ç³»ï¼ˆä¸€ä¸ªä½œè€…ï¼Œå¤šç¯‡æ–‡ç« ï¼‰"><a href="#ä¸€å¯¹å¤šå…³ç³»ï¼ˆä¸€ä¸ªä½œè€…ï¼Œå¤šç¯‡æ–‡ç« ï¼‰" class="headerlink" title="ä¸€å¯¹å¤šå…³ç³»ï¼ˆä¸€ä¸ªä½œè€…ï¼Œå¤šç¯‡æ–‡ç« ï¼‰"></a>ä¸€å¯¹å¤šå…³ç³»ï¼ˆä¸€ä¸ªä½œè€…ï¼Œå¤šç¯‡æ–‡ç« ï¼‰</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ä¸€å¯¹å¤šå…³ç³»ï¼Œå•ä½œè€…-å¤šæ–‡ç« ï¼Œå¤–é”®ä¸å¯å°‘</span></span><br><span class="line"><span class="comment">## å¤–é”®(ForeignKey)æ€»åœ¨å¤šçš„é‚£è¾¹å®šä¹‰,å…³ç³»(relationship)æ€»åœ¨å•çš„é‚£è¾¹å®šä¹‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Author</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">70</span>), unique=<span class="literal">True</span>)</span><br><span class="line">    phone = db.Column(db.String(<span class="number">20</span>))</span><br><span class="line">    <span class="comment"># articlesä¸ºå…³ç³»å±æ€§(ä¸€ä¸ªé›†åˆï¼Œå¯ä»¥åƒåˆ—è¡¨ä¸€æ ·æ“ä½œï¼Œåœ¨å…³ç³»çš„å‡ºå‘ä¾§å®šä¹‰</span></span><br><span class="line">    <span class="comment">## relationship()å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå…³ç³»å¦ä¸€ä¾§çš„æ¨¡å‹åç§°(Article)</span></span><br><span class="line">    articles = db.relationship(<span class="string">&#x27;Article&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Article</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    title = db.Column(db.String(<span class="number">15</span>), index=<span class="literal">True</span>)</span><br><span class="line">    body = db.Column(db.Text)</span><br><span class="line">    <span class="comment"># ä¼ å…¥ForeignKeyçš„å‚æ•°å½¢å¼ä¸ºï¼š&quot;è¡¨å.å­—æ®µå&quot;</span></span><br><span class="line">    <span class="comment">## æ¨¡å‹ç±»å¯¹åº”çš„è¡¨åç”±Flask-SQLAlchemyç”Ÿæˆï¼Œé»˜è®¤ä¸ºç±»åç§°çš„å°å†™å½¢å¼ï¼Œå¤šä¸ªå•è¯é€šè¿‡ä¸‹åˆ’çº¿åˆ†éš”</span></span><br><span class="line">    author_id = db.Column(db.Integer, db.ForeignKey(<span class="string">&#x27;author.id&#x27;</span>)) <span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤–é”®å­—æ®µ(author_id)å’Œå…³ç³»å±æ€§(articles)çš„å‘½åæ²¡æœ‰é™åˆ¶</span></span><br><span class="line"><span class="comment">## å»ºç«‹å…³ç³»å¯é€šè¿‡æ“ä½œå…³ç³»å±æ€§è¿›è¡Œ</span></span><br><span class="line">&gt;&gt;&gt;shansan = Author(name=<span class="string">&quot;shansan&quot;</span>)</span><br><span class="line">&gt;&gt;&gt;hello = Article(title=<span class="string">&quot;Hello world !&quot;</span>)</span><br><span class="line">&gt;&gt;&gt;boy = Article(title=<span class="string">&quot;Hello Boy !&quot;</span>)</span><br><span class="line">&gt;&gt;&gt;db.session.add(shansan) <span class="comment"># å°†åˆ›å»ºçš„æ•°æ®åº“è®°å½•æ·»åŠ åˆ°ä¼šè¯ä¸­</span></span><br><span class="line">&gt;&gt;&gt;db.session.add(hello)</span><br><span class="line">&gt;&gt;&gt;db.session.add(boy)</span><br><span class="line">&gt;&gt;&gt;shansan.articles.append(hello) <span class="comment"># æ“ä½œå…³ç³»å±æ€§</span></span><br><span class="line">&gt;&gt;&gt;shansan.articles.append(boy)</span><br><span class="line">&gt;&gt;&gt;db.session.commit()</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="åŸºäºä¸€å¯¹å¤šçš„åŒå‘å…³ç³»ï¼ˆbidirectional-relationshipï¼‰"><a href="#åŸºäºä¸€å¯¹å¤šçš„åŒå‘å…³ç³»ï¼ˆbidirectional-relationshipï¼‰" class="headerlink" title="åŸºäºä¸€å¯¹å¤šçš„åŒå‘å…³ç³»ï¼ˆbidirectional relationshipï¼‰"></a>åŸºäºä¸€å¯¹å¤šçš„åŒå‘å…³ç³»ï¼ˆbidirectional relationshipï¼‰</h2><p>åœ¨è¿™é‡Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥åœ¨Bookç±»ä¸­å­˜åœ¨è¿™æ ·ä¸€ä¸ªå±æ€§ï¼šé€šè¿‡è°ƒç”¨å®ƒå¯ä»¥è·å–å¯¹åº”çš„ä½œè€…çš„è®°å½•ï¼Œè¿™ç±»è¿”å›å•ä¸ªå€¼çš„å…³ç³»å±æ€§ç§°ä¸º<strong>æ ‡é‡å…³ç³»å±æ€§</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å»ºç«‹åŒå‘å…³ç³»æ—¶ï¼Œå…³ç³»ä¸¤è¾¹éƒ½æœ‰å…³ç³»å‡½æ•°</span></span><br><span class="line"><span class="comment"># åœ¨å…³ç³»å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨back_populateså‚æ•°è¿æ¥å¯¹æ–¹ï¼Œå‚æ•°çš„å€¼è®¾ç½®ä¸ºå…³ç³»å¦ä¸€ä¾§çš„å…³ç³»å±æ€§å</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Writer</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">64</span>), unique=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># back_populatesçš„å‚æ•°å€¼ä¸ºå…³ç³»å¦ä¸€ä¾§çš„å…³ç³»å±æ€§å</span></span><br><span class="line">    books = db.relationship(<span class="string">&#x27;Book&#x27;</span>, back_populates=<span class="string">&#x27;writer&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&lt;Writer %r&gt;&#x27;</span> % self.name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">50</span>), index=<span class="literal">True</span>)</span><br><span class="line">    writer_id = db.Column(db.Integer, db.ForeignKey(<span class="string">&#x27;writer.id&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    writer = db.relationship(<span class="string">&#x27;Writer&#x27;</span>, back_populates=<span class="string">&#x27;books&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&lt;Book %r&gt;&#x27;</span> % self.name</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®åŒå‘å±æ€§åï¼Œæˆ‘ä»¬æ—¢å¯ä»¥é€šè¿‡é›†åˆå±æ€§æ“ä½œå…³ç³»ï¼Œä¹Ÿå¯é€šè¿‡æ ‡é‡å…³ç³»å±æ€§æ“ä½œå…³ç³»</span></span><br></pre></td></tr></table></figure><h1 id="å¤šå¯¹ä¸€å…³ç³»ï¼ˆå¤šä¸ªå¸‚æ°‘éƒ½åœ¨åŒä¸€ä¸ªåŸå¸‚ï¼‰"><a href="#å¤šå¯¹ä¸€å…³ç³»ï¼ˆå¤šä¸ªå¸‚æ°‘éƒ½åœ¨åŒä¸€ä¸ªåŸå¸‚ï¼‰" class="headerlink" title="å¤šå¯¹ä¸€å…³ç³»ï¼ˆå¤šä¸ªå¸‚æ°‘éƒ½åœ¨åŒä¸€ä¸ªåŸå¸‚ï¼‰"></a>å¤šå¯¹ä¸€å…³ç³»ï¼ˆå¤šä¸ªå¸‚æ°‘éƒ½åœ¨åŒä¸€ä¸ªåŸå¸‚ï¼‰</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤–é”®æ€»åœ¨å¤šçš„ä¸€ä¾§å®šä¹‰</span></span><br><span class="line"><span class="comment">## å¤šå¯¹ä¸€å…³ç³»ä¸­ï¼Œå¤–é”®å’Œå…³ç³»å±æ€§éƒ½åœ¨å¤šçš„ä¸€ä¾§å®šä¹‰</span></span><br><span class="line"><span class="comment">## è¿™é‡Œçš„å…³ç³»å±æ€§æ˜¯æ ‡é‡å…³ç³»å±æ€§ï¼ˆè¿”å›å•ä¸€æ•°æ®ï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Citizen</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">20</span>), unique=<span class="literal">True</span>)</span><br><span class="line">    city_id = db.Column(db.Integer, db.ForeignKey(<span class="string">&#x27;city.id&#x27;</span>))</span><br><span class="line">    city = db.relationship(<span class="string">&#x27;City&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">City</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">20</span>), unique=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h1 id="ä¸€å¯¹ä¸€å…³ç³»ï¼ˆå›½å®¶å’Œé¦–éƒ½ï¼‰"><a href="#ä¸€å¯¹ä¸€å…³ç³»ï¼ˆå›½å®¶å’Œé¦–éƒ½ï¼‰" class="headerlink" title="ä¸€å¯¹ä¸€å…³ç³»ï¼ˆå›½å®¶å’Œé¦–éƒ½ï¼‰"></a>ä¸€å¯¹ä¸€å…³ç³»ï¼ˆå›½å®¶å’Œé¦–éƒ½ï¼‰</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ä¸€å¯¹ä¸€å…³ç³»ï¼Œå°†å…³ç³»å‡½æ•°çš„uselistå‚æ•°è®¾ä¸ºFalseï¼Œä½¿å¾—é›†åˆå…³ç³»å±æ€§æ— æ³•ä½¿ç”¨åˆ—è¡¨è¯­ä¹‰æ“ä½œ</span></span><br><span class="line"><span class="comment">## è¿™é‡Œä½¿ç”¨çš„æ˜¯ä¸€å¯¹ä¸€åŒå‘å…³ç³»</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Country</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">20</span>), unique=<span class="literal">True</span>)</span><br><span class="line">    capital = db.relationship(<span class="string">&#x27;Capital&#x27;</span>, uselist=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Capital</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">20</span>), unique=<span class="literal">True</span>)</span><br><span class="line">    country_id= db.Column(db.Integer, db.ForeignKey(<span class="string">&#x27;country.id&#x27;</span>))</span><br><span class="line">    country = db.relationship(<span class="string">&#x27;Country&#x27;</span>)</span><br></pre></td></tr></table></figure><h1 id="å¤šå¯¹å¤šåŒå‘å…³ç³»ï¼ˆè€å¸ˆå’Œå­¦ç”Ÿï¼‰"><a href="#å¤šå¯¹å¤šåŒå‘å…³ç³»ï¼ˆè€å¸ˆå’Œå­¦ç”Ÿï¼‰" class="headerlink" title="å¤šå¯¹å¤šåŒå‘å…³ç³»ï¼ˆè€å¸ˆå’Œå­¦ç”Ÿï¼‰"></a>å¤šå¯¹å¤šåŒå‘å…³ç³»ï¼ˆè€å¸ˆå’Œå­¦ç”Ÿï¼‰</h1><ul><li>å¤šå¯¹å¤šå…³ç³»çš„å»ºç«‹éœ€è¦ä½¿ç”¨å…³è”è¡¨ï¼ˆassociation tableï¼‰ã€‚å…³è”è¡¨ä¸å­˜å‚¨æ•°æ®ï¼Œåªç”¨æ¥å­˜å‚¨å…³ç³»ä¸¤ä¾§æ¨¡å‹çš„å¤–é”®å¯¹åº”å…³ç³»</li><li>å®šä¹‰å…³ç³»ä¸¤ä¾§çš„å…³ç³»å‡½æ•°æ—¶ï¼Œéœ€è¦æ·»åŠ ä¸€ä¸ª<strong>secondary</strong>å‚æ•°ï¼Œå€¼è®¾ä¸ºå…³è”è¡¨çš„åç§°</li><li>å…³è”è¡¨ç”±ä½¿ç”¨db.Tableç±»å®šä¹‰ï¼Œä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå…³è”è¡¨çš„åç§°</li><li>æˆ‘ä»¬åœ¨å…³è”è¡¨ä¸­å°†å¤šå¯¹å¤šçš„å…³ç³»åˆ†åŒ–æˆäº†ä¸¤ä¸ªä¸€å¯¹å¤šçš„å…³ç³»</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## å¤šå¯¹å¤šå…³ç³»ï¼Œä½¿ç”¨å…³è”è¡¨ï¼ˆassociation tableï¼‰ï¼Œå…³è”è¡¨ç”±db.Tableå®šä¹‰</span></span><br><span class="line"><span class="comment">## å…³ç³»å‡½æ•°éœ€è¦è®¾ç½®secondaryå‚æ•°ï¼Œå€¼ä¸ºå…³ç³»è¡¨å</span></span><br><span class="line"></span><br><span class="line">association_table = db.Table(<span class="string">&#x27;association_table&#x27;</span>,</span><br><span class="line">                             db.Column(<span class="string">&#x27;student_id&#x27;</span>, db.Integer, db.ForeignKey(<span class="string">&#x27;teacher.id&#x27;</span>)),</span><br><span class="line">                             db.Column(<span class="string">&#x27;teacher_id&#x27;</span>, db.Integer, db.ForeignKey(<span class="string">&#x27;student.id&#x27;</span>))</span><br><span class="line">                             )</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">70</span>), unique=<span class="literal">True</span>)</span><br><span class="line">    grade = db.Column(db.String(<span class="number">20</span>))</span><br><span class="line">    teachers = db.relationship(<span class="string">&#x27;Teacher&#x27;</span>, secondary=association_table,back_populates=<span class="string">&#x27;students&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span>(db.Model):</span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">70</span>), unique=<span class="literal">True</span>)</span><br><span class="line">    office = db.Column(db.String(<span class="number">20</span>))</span><br><span class="line">    students = db.relationship(<span class="string">&#x27;Student&#x27;</span>, secondary=association_table, back_populates=<span class="string">&#x27;teachers&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="å¸¸ç”¨çš„SQLAlchemyå…³ç³»å‡½æ•°å‚æ•°å’Œå¸¸ç”¨çš„SQLAlchemyå…³ç³»è®°å½•åŠ è½½æ–¹å¼ï¼ˆlazyå‚æ•°å¯é€‰å€¼ï¼‰"><a href="#å¸¸ç”¨çš„SQLAlchemyå…³ç³»å‡½æ•°å‚æ•°å’Œå¸¸ç”¨çš„SQLAlchemyå…³ç³»è®°å½•åŠ è½½æ–¹å¼ï¼ˆlazyå‚æ•°å¯é€‰å€¼ï¼‰" class="headerlink" title="å¸¸ç”¨çš„SQLAlchemyå…³ç³»å‡½æ•°å‚æ•°å’Œå¸¸ç”¨çš„SQLAlchemyå…³ç³»è®°å½•åŠ è½½æ–¹å¼ï¼ˆlazyå‚æ•°å¯é€‰å€¼ï¼‰"></a>å¸¸ç”¨çš„SQLAlchemyå…³ç³»å‡½æ•°å‚æ•°å’Œå¸¸ç”¨çš„SQLAlchemyå…³ç³»è®°å½•åŠ è½½æ–¹å¼ï¼ˆlazyå‚æ•°å¯é€‰å€¼ï¼‰</h1><ul><li>ä½¿ç”¨å…³ç³»å‡½æ•°å®šä¹‰çš„å±æ€§ä¸æ˜¯æ•°æ®åº“å­—æ®µï¼Œè€Œæ˜¯ç±»ä¼¼äºç‰¹å®šçš„æŸ¥è¯¢å‡½æ•°</li><li>å½“å…³ç³»å±æ€§è¢«è°ƒç”¨æ—¶ï¼Œå…³ç³»å‡½æ•°ä¼šåŠ è½½ç›¸åº”çš„è®°å½•</li></ul><p><img src="https://s2.ax1x.com/2019/03/20/AKnfCq.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/20/AKnfCq.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="AKnfCq.png"></p><p><img src="https://s2.ax1x.com/2019/03/20/AKn5vT.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/20/AKn5vT.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="AKn5vT.png"></p><h1 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h1><p><a href="http://www.sqlalchemy.org/">http://www.sqlalchemy.org/</a></p><p><a href="https://github.com/sqlalchemy/sqlalchemy">https://github.com/sqlalchemy/sqlalchemy</a></p><p><a href="https://github.com/mitsuhiko/flask-sqlalchemy">https://github.com/mitsuhiko/flask-sqlalchemy </a></p><hr>]]></content>
      
      
      <categories>
          
          <category> Flask </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flaskçš„è¯·æ±‚é’©å­ä¸ä¸Šä¸‹æ–‡ç®€è®°</title>
      <link href="/2019/03/16/Flask%E7%9A%84%E8%AF%B7%E6%B1%82%E9%92%A9%E5%AD%90%E4%B8%8E%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%80%E8%AE%B0/"/>
      <url>/2019/03/16/Flask%E7%9A%84%E8%AF%B7%E6%B1%82%E9%92%A9%E5%AD%90%E4%B8%8E%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%80%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="è¯·æ±‚é’©å­-Hook"><a href="#è¯·æ±‚é’©å­-Hook" class="headerlink" title="è¯·æ±‚é’©å­(Hook)"></a>è¯·æ±‚é’©å­(Hook)</h1><blockquote><p>åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤äº’çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›å‡†å¤‡å·¥ä½œæˆ–æ‰«å°¾å·¥ä½œéœ€è¦å¤„ç†ï¼Œæ¯”å¦‚ï¼šåœ¨è¯·æ±‚å¼€å§‹æ—¶ï¼Œå»ºç«‹æ•°æ®åº“è¿æ¥ï¼›åœ¨è¯·æ±‚ç»“æŸæ—¶ï¼ŒæŒ‡å®šæ•°æ®çš„äº¤äº’æ ¼å¼ã€‚ä¸ºäº†è®©&gt;æ¯ä¸ªè§†å›¾å‡½æ•°é¿å…ç¼–å†™é‡å¤åŠŸèƒ½çš„ä»£ç ï¼ŒFlaskæä¾›äº†é€šç”¨è®¾æ–½çš„åŠŸèƒ½ï¼Œå³è¯·æ±‚é’©å­ã€‚é€šè¿‡è¯·æ±‚é’©å­ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¯·æ±‚è¿›è¡Œé¢„å¤„ç†(preprocessing)å’Œåå¤„ç†&gt;(postprocessing)ã€‚</p></blockquote><p>Flaskçš„è¯·æ±‚é’©å­é€šè¿‡è£…é¥°å™¨å®ç°ï¼Œæ¯ä¸ªé’©å­å¯ä»¥æ³¨å†Œä»»æ„å¤šä¸ªå¤„ç†å‡½æ•°ï¼Œé»˜è®¤çš„äº”ç§è¯·æ±‚é’©å­å¦‚ä¸‹:</p><table><thead><tr><th align="center">é’©å­</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">before_first_request</td><td align="left">æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å¤„ç†è¯·æ±‚å‰è¿è¡Œ</td></tr><tr><td align="center">before_request</td><td align="left">æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å¤„ç†æ¯ä¸ªè¯·æ±‚å‰è¿è¡Œ</td></tr><tr><td align="center">after_request</td><td align="left">æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœæœ‰æœªå¤„ç†çš„ä¸€åœºæŠ›å‡ºã€‚ä¼šåœ¨æ¯ä¸ªè¯·æ±‚ç»“æŸåè¿è¡Œ</td></tr><tr><td align="center">teardown_request</td><td align="left">æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œå³ä½¿æœ‰æœªå¤„ç†çš„å¼‚å¸¸æŠ›å‡ºï¼Œä¼šåœ¨æ¯ä¸ªè¯·æ±‚ä»‹ç»åæ‰§è¡Œã€‚å¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œä¼šä¼ å…¥å¼‚å¸¸å¯¹è±¡ä½œä¸ºå‚æ•°æ³¨å†Œåˆ°å‡½æ•°ä¸­</td></tr><tr><td align="center">after_this_request</td><td align="left">åœ¨è§†å›¾å‡½æ•°å†…æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™ä¸ªè¯·æ±‚ç»“æŸåè¿è¡Œ</td></tr></tbody></table><span id="more"></span><p>å‡å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸‰ä¸ªè§†å›¾å‡½æ•°Aã€Bã€Cï¼Œå…¶ä¸­è§†å›¾Cä½¿ç”¨äº†after_this_requesté’©å­ï¼Œé‚£ä¹ˆå½“è¯·æ±‚Aè¿›å…¥åï¼Œæ•´ä¸ªè¯·æ±‚å¤„ç†å‘¨æœŸçš„è¯·æ±‚å¤„ç†å‡½æ•°è°ƒç”¨æµç¨‹å¦‚å›¾:</p><p><img src="https://s2.ax1x.com/2019/03/15/AEdgN4.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/15/AEdgN4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="AEdgN4.png"></p><h1 id="ä¸Šä¸‹æ–‡"><a href="#ä¸Šä¸‹æ–‡" class="headerlink" title="ä¸Šä¸‹æ–‡"></a>ä¸Šä¸‹æ–‡</h1><blockquote><p>ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡ï¼Ÿä¸Šä¸‹æ–‡ç›¸å½“äºä¸€ä¸ªå®¹å™¨ï¼Œå®ƒä¿å­˜äº†ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­çš„ä¸€äº›ä¿¡æ¯ï¼Œå®ƒæ˜¯å½“å‰ç¯å¢ƒçš„ä¸€ä¸ªå¿«ç…§(snapshot)ã€‚<br>Flaskä¸­æœ‰ä¸¤ç§ä¸Šä¸‹æ–‡ï¼Œç¨‹åºä¸Šä¸‹æ–‡(application context)å’Œè¯·æ±‚ä¸Šä¸‹æ–‡(request context)ã€‚<br>ç¨‹åºä¸Šä¸‹æ–‡ä¸­åŒ…å«äº†ç¨‹åºè¿è¡Œæ‰€å¿…é¡»çš„ä¿¡æ¯ï¼›è¯·æ±‚ä¸Šä¸‹æ–‡é‡ŒåŒ…å«äº†è¯·æ±‚çš„å„ç§ä¿¡æ¯ï¼Œæ¯”å¦‚è¯·æ±‚çš„URLã€HTTPæ–¹æ³•ç­‰</p></blockquote><h2 id="ä¸Šä¸‹æ–‡å…¨å±€å˜é‡"><a href="#ä¸Šä¸‹æ–‡å…¨å±€å˜é‡" class="headerlink" title="ä¸Šä¸‹æ–‡å…¨å±€å˜é‡"></a>ä¸Šä¸‹æ–‡å…¨å±€å˜é‡</h2><p>æˆ‘ä»¬çŸ¥é“ï¼ŒFlaskå°†è¯·æ±‚æŠ¥æ–‡å°è£…åœ¨requestå¯¹è±¡ä¸­ã€‚æŒ‰ç…§ä¸€èˆ¬çš„æ€è·¯ï¼Œå¦‚æœæˆ‘ä»¬è¦åœ¨è§†å›¾å‡½æ•°ä¸­ä½¿ç”¨å®ƒï¼Œå°±å¾—æŠŠå®ƒä½œä¸ºå‚æ•°ä¼ å…¥è§†å›¾å‡½æ•°ï¼Œå°±åƒæˆ‘ä»¬æ¥æ”¶URLå˜é‡ä¸€æ ·ã€‚ä½†è¿™æ ·å°±ä¼šå¯¼è‡´å¤§é‡çš„é‡å¤ï¼Œè€Œä¸”å¢åŠ äº†çš„ç¨‹åºçš„è´Ÿæ‹…ã€‚<br>ä¸ä¸€èˆ¬çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»Flaskå¯¼å…¥ä¸€ä¸ªå…¨å±€çš„requestå˜é‡ï¼Œåœ¨è§†å›¾å‡½æ•°ä¸­ç›´æ¥è°ƒç”¨requestçš„å±æ€§è·å–æ•°æ®ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºFlaskä¼šåœ¨æ¯ä¸ªè¯·æ±‚äº§ç”Ÿååè‡ªåŠ¨æ¿€æ´»å½“å‰è¯·æ±‚çš„ä¸Šä¸‹æ–‡ï¼Œæ¿€æ´»è¯·æ±‚ä¸Šä¸‹æ–‡åï¼Œrequestè¢«ä¸´æ—¶è®¾ç½®ä¸ºå…¨å±€å¯è®¿é—®ã€‚åœ¨æ¯ä¸ªè¯·æ±‚ç»“æŸåï¼ŒFlaskå°±ä¼šé”€æ¯å¯¹åº”çš„è¯·æ±‚ä¸Šä¸‹æ–‡ã€‚</p><p>Flaskæä¾›çš„å››ä¸ªä¸Šä¸‹æ–‡å…¨å±€å˜é‡å¦‚ä¸‹ï¼š</p><table><thead><tr><th align="center">å˜é‡å</th><th align="center">ä¸Šä¸‹æ–‡ç±»åˆ«</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">current_app</td><td align="center">ç¨‹åºä¸Šä¸‹æ–‡</td><td align="left">æŒ‡å‘å¤„ç†è¯·æ±‚çš„å½“å‰ç¨‹åºå®ä¾‹</td></tr><tr><td align="center">g</td><td align="center">ç¨‹åºä¸Šä¸‹æ–‡</td><td align="left">æ›¿ä»£Pythonçš„å…¨å±€å˜é‡ç”¨æ³•ï¼Œç¡®ä¿ä»…åœ¨å½“å‰è¯·æ±‚å¯ç”¨ï¼Œç”¨äºå­˜å‚¨å…¨å±€æ•°æ®ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šé‡è®¾</td></tr><tr><td align="center">request</td><td align="center">è¯·æ±‚ä¸Šä¸‹æ–‡</td><td align="left">å°è£…å®¢æˆ·ç«¯å‘å‡ºçš„è¯·æ±‚æŠ¥æ–‡æ•°æ®</td></tr><tr><td align="center">session</td><td align="center">è¯·æ±‚ä¸Šä¸‹æ–‡</td><td align="left">ç”¨äºè®°ä½è¯·æ±‚ä¹‹é—´çš„æ•°æ®ï¼Œé€šè¿‡ç­¾åçš„Cookieå®ç°</td></tr></tbody></table><ul><li>ä¸åŒçš„è§†å›¾å‡½æ•°ä¸­ï¼Œrequestå¯¹è±¡éƒ½è¡¨ç¤ºå’Œè§†å›¾å‡½æ•°å¯¹åº”çš„è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å½“å‰è¯·æ±‚</li><li>ç¨‹åºå­˜åœ¨å¤šä¸ªç¨‹åºå®ä¾‹çš„æƒ…å†µï¼Œä½¿ç”¨current_appå¯è·å–å¯¹åº”çš„å®ä¾‹</li></ul><h2 id="ä¸Šä¸‹æ–‡çš„æ¿€æ´»"><a href="#ä¸Šä¸‹æ–‡çš„æ¿€æ´»" class="headerlink" title="ä¸Šä¸‹æ–‡çš„æ¿€æ´»"></a>ä¸Šä¸‹æ–‡çš„æ¿€æ´»</h2><p><strong>è¯·æ±‚è¿›å…¥æ—¶ï¼ŒFlaskä¼šè‡ªåŠ¨æ¿€æ´»è¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œæ­¤æ—¶ç¨‹åºä¸Šä¸‹æ–‡ä¹Ÿè¢«è‡ªåŠ¨æ¿€æ´»ã€‚è¯·æ±‚å¤„ç†å®Œæ¯•åï¼Œè¯·æ±‚ä¸Šä¸‹æ–‡å’Œç¨‹åºä¸Šä¸‹æ–‡ä¹Ÿä¼šè‡ªåŠ¨é”€æ¯ã€‚ä¸¤è€…å…·æœ‰ç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸã€‚</strong></p><ul><li>Flaskè‡ªåŠ¨æ¿€æ´»ä¸Šä¸‹æ–‡çš„æƒ…å†µï¼š<ul><li>ä½¿ç”¨<code>flask run</code>å‘½ä»¤å¯åŠ¨ç¨‹åºæ—¶</li><li>ä½¿ç”¨æ—§çš„<code>app.run()</code>æ–¹æ³•å¯åŠ¨ç¨‹åºæ—¶</li><li>æ‰§è¡Œä½¿ç”¨<code>@app.cli.command()</code>è£…é¥°å™¨æ³¨å†Œçš„flaskå‘½ä»¤æ—¶</li><li>ä½¿ç”¨<code>flask shell</code>å‘½ä»¤å¯åŠ¨Python Shellæ—¶</li></ul></li></ul><ul><li>æ‰‹åŠ¨æ¿€æ´»çš„æ–¹æ³•:<ul><li>ä½¿ç”¨withè¯­å¥ï¼Œç¨‹åºä¸Šä¸‹æ–‡å¯¹è±¡å¯é€šè¿‡app.app_context()è·å–</li><li>ä½¿ç”¨pushï¼ˆï¼‰æ–¹æ³•æ¿€æ´»ç¨‹åºä¸Šä¸‹æ–‡</li><li>è¯·æ±‚ä¸Šä¸‹æ–‡å¯ä»¥é€šè¿‡test_request_context()æ–¹æ³•ä¸´æ—¶åˆ›å»º</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; from app import app</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; from flask import current_app</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; with app.app_context():</span></span><br><span class="line">    ... current_app.name</span><br><span class="line">&#x27;app&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; from app import app</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; from flask import current_app</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; app_ctx = app.app_context()</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; app_ctx.push()</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; current_app.name</span></span><br><span class="line">&#x27;app&#x27;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; app_ctx.pop()</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; from app import app</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; from flask import request</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; with app.test_request_context(<span class="string">&#x27;/hello&#x27;</span>):</span></span><br><span class="line">...     request.method</span><br><span class="line">&#x27;GET&#x27;</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š<a href="https://book.douban.com/subject/30310340/">https://book.douban.com/subject/30310340/</a></p>]]></content>
      
      
      <categories>
          
          <category> Flask </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°GitHubè¿œç¨‹ä»“åº“</title>
      <link href="/2019/03/08/%E5%B0%86%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E6%8E%A8%E9%80%81%E5%88%B0GitHub%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/"/>
      <url>/2019/03/08/%E5%B0%86%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E6%8E%A8%E9%80%81%E5%88%B0GitHub%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å¦‚ä½•å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°Github"><a href="#å¦‚ä½•å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°Github" class="headerlink" title="å¦‚ä½•å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°Github"></a>å¦‚ä½•å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°Github</h1><blockquote><p>Tipï¼šåœ¨æœ¬åœ°è¦å®‰è£…å¥½Gitï¼Œå®˜ç½‘ï¼š<a href="https://git-scm.com/">https://git-scm.com/</a></p></blockquote><p><img src="https://s2.ax1x.com/2019/03/08/kzni4K.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/08/kzni4K.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kzni4K.png"></p><blockquote><p>ä¸€ä¸ªå­¦ä¹ Gitçš„å¥½åœ°æ–¹ï¼š<a href="https://try.github.io/">https://try.github.io/</a></p></blockquote><blockquote><p>åœ¨çº¿é—¯å…³å®æˆ˜ï¼Œè¾¹ç»ƒè¾¹å­¦çš„å¥½åœ°æ–¹ï¼š<a href="https://learngitbranching.js.org/">https://learngitbranching.js.org/</a></p></blockquote><h2 id="æ–¹æ³•ä¸€ï¼šä½¿ç”¨httpsæ¨é€"><a href="#æ–¹æ³•ä¸€ï¼šä½¿ç”¨httpsæ¨é€" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä½¿ç”¨httpsæ¨é€"></a>æ–¹æ³•ä¸€ï¼šä½¿ç”¨httpsæ¨é€</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ­¥éª¤</span></span><br><span class="line"><span class="comment"># 1.åˆ›å»ºä¸€ä¸ªç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> Test</span><br><span class="line"><span class="comment"># 2.å°†å½“å‰ç›®å½•å˜ä¸ºgitç®¡ç†ä»“åº“</span></span><br><span class="line">git init</span><br><span class="line"><span class="comment"># 3.å°†æ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“ï¼Œè¿™é‡Œå°†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ·»åŠ è¿›å»äº†</span></span><br><span class="line">git add .</span><br><span class="line"><span class="comment"># 4.å‘Šè¯‰gitå°†æ–‡ä»¶æäº¤åˆ°ä»“åº“</span></span><br><span class="line">git commit -m <span class="string">&quot;first-commit&quot;</span></span><br><span class="line"><span class="comment"># 5.å°†å½“å‰ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”</span></span><br><span class="line">git remote add origin è¿œç¨‹ä»“åº“çš„httpsåœ°å€ <span class="comment"># eg: git remote add https://github.com/ssmath/Test.git</span></span><br><span class="line"><span class="comment"># 6.å°†ä»“åº“å†…masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“,è¿™é‡Œä¼šä½¿ç”¨åˆ°Githubçš„è´¦å·å¯†ç </span></span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><span id="more"></span><p><img src="https://s2.ax1x.com/2019/03/08/kzusFP.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/08/kzusFP.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kzusFP.png"></p><p><img src="https://s2.ax1x.com/2019/03/08/kzugSS.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/08/kzugSS.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kzugSS.png"></p><h2 id="æ–¹æ³•äºŒï¼šä½¿ç”¨sshæ¨é€"><a href="#æ–¹æ³•äºŒï¼šä½¿ç”¨sshæ¨é€" class="headerlink" title="æ–¹æ³•äºŒï¼šä½¿ç”¨sshæ¨é€"></a>æ–¹æ³•äºŒï¼šä½¿ç”¨sshæ¨é€</h2><ol><li>ç”Ÿæˆsshå¯†é’¥</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your email address&quot;</span></span><br><span class="line"><span class="comment"># eg: ssh-keygen -t rsa -C &quot;1329441308@qq.com&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/03/08/kzKcA1.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/08/kzKcA1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kzKcA1.png"></p><ol start="2"><li>æ‰¾åˆ°ç”Ÿæˆçš„æ–‡ä»¶ï¼Œå¤åˆ¶id_rsa.pubæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ–‡ä»¶ä¸€èˆ¬åœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„.sshç›®å½•ä¸­</li></ol><p><img src="https://s2.ax1x.com/2019/03/08/kzMw5t.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/08/kzMw5t.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://s2.ax1x.com/2019/03/08/kzMw5t.png"></p><ol start="3"><li>ä½¿ç”¨å¯†é’¥ä¸è¿œç¨‹ä»“åº“é…å¯¹ï¼Œæ£€éªŒèƒ½å¦æˆåŠŸé€šè®¯</li></ol><p><img src="https://s2.ax1x.com/2019/03/08/kzMdUI.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/08/kzMdUI.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://s2.ax1x.com/2019/03/08/kzMdUI.png"></p><pre><code>ssh -T git@github.com  # æ£€éªŒèƒ½å¦æˆåŠŸé€šè®¯</code></pre><p><img src="https://s2.ax1x.com/2019/03/08/kzMRVs.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/08/kzMRVs.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kzMRVs.png"></p><ol start="4"><li>æ¨é€æœ¬åœ°æ–‡ä»¶åˆ°github</li></ol><p><img src="https://s2.ax1x.com/2019/03/08/kzlilT.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/03/08/kzlilT.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kzlilT.png"></p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscodeé…ç½®Pipenvå·¥ä½œç¯å¢ƒ</title>
      <link href="/2019/03/03/vscode%E9%85%8D%E7%BD%AEPipenv%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83/"/>
      <url>/2019/03/03/vscode%E9%85%8D%E7%BD%AEPipenv%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="è®©vscodeä½¿ç”¨Pipenvå·¥ä½œç¯å¢ƒ"><a href="#è®©vscodeä½¿ç”¨Pipenvå·¥ä½œç¯å¢ƒ" class="headerlink" title="è®©vscodeä½¿ç”¨Pipenvå·¥ä½œç¯å¢ƒ"></a>è®©vscodeä½¿ç”¨Pipenvå·¥ä½œç¯å¢ƒ</h1><h2 id="1ã€æŸ¥çœ‹Pipenvçš„ä½ç½®"><a href="#1ã€æŸ¥çœ‹Pipenvçš„ä½ç½®" class="headerlink" title="1ã€æŸ¥çœ‹Pipenvçš„ä½ç½®"></a>1ã€æŸ¥çœ‹Pipenvçš„ä½ç½®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å…ˆæ¿€æ´»Pipenvç¯å¢ƒ</span><br><span class="line">pipenv shell</span><br><span class="line"># è·å–å½“å‰è™šæ‹Ÿç¯å¢ƒçš„ä½ç½®</span><br><span class="line">pipenv --venv</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/0078bOVFgy1g0pe3ndazpj30ft01l746.jpg" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/0078bOVFgy1g0pe3ndazpj30ft01l746.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="2ã€æ‰“å¼€setting-jsoné…ç½®æ–‡ä»¶"><a href="#2ã€æ‰“å¼€setting-jsoné…ç½®æ–‡ä»¶" class="headerlink" title="2ã€æ‰“å¼€setting.jsoné…ç½®æ–‡ä»¶"></a>2ã€æ‰“å¼€setting.jsoné…ç½®æ–‡ä»¶</h2><ul><li><p>Ctrl+Shift+Pï¼Œè¾“å…¥settingsï¼Œé€‰æ‹©Open Settings(JSon)</p></li><li><p>å°†ä¹‹å‰å¾—åˆ°çš„Pipenvç¯å¢ƒè·¯å¾„æ·»åŠ è¿›å»</p><p>  â€œpython.venvPathâ€: â€œC:\Users\Algorithm\.virtualenvsâ€</p></li></ul><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/0078bOVFgy1g0pdwtnoqtj30gu08rq3k.jpg" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/0078bOVFgy1g0pdwtnoqtj30gu08rq3k.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/0078bOVFgy1g0pdyyyuvqj30m405pjrh.jpg" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/0078bOVFgy1g0pdyyyuvqj30m405pjrh.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><span id="more"></span><h2 id="3ã€é‡å¯vscode"><a href="#3ã€é‡å¯vscode" class="headerlink" title="3ã€é‡å¯vscode"></a>3ã€é‡å¯vscode</h2><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/0078bOVFgy1g0pe1hhuo1j30sg0lc770.jpg" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/posts/0078bOVFgy1g0pe1hhuo1j30sg0lc770.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://segmentfault.com/a/1190000017558652">https://segmentfault.com/a/1190000017558652</a></p><p><a href="https://blog.csdn.net/weixin_34294649/article/details/87518937">https://blog.csdn.net/weixin_34294649/article/details/87518937</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Happy New Year !</title>
      <link href="/2019/02/05/Happy-New-Year/"/>
      <url>/2019/02/05/Happy-New-Year/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Cï¼šprintf(&quot;Happy New Year&quot;);</span><br><span class="line">C++ : cout&lt;&lt;&quot;Happy New Year&quot;;</span><br><span class="line">Objectivec: NSLog(@&quot;Happy New Year!&quot;);</span><br><span class="line">QBasic : Print &quot;Happy New Year&quot;</span><br><span class="line">Asp : Response.Write &quot;Happy New Year&quot;</span><br><span class="line">PHP : echo &quot;Happy New Year&quot;;</span><br><span class="line">Ruby: puts &quot;Happy New Year!&quot;</span><br><span class="line">JavaScript: alert(&quot;Happy New Year&quot;)</span><br><span class="line">VBScript:MsgBox &quot;Happy New Year&quot;</span><br><span class="line">JavaScript: document.write(&quot;Happy New Year&quot;)</span><br><span class="line">JavaScript: console.log(&#x27; Happy New Year&#x27;);</span><br><span class="line">xml &lt;TextView android:text=&quot;Happy New Year! &quot; /&gt;</span><br><span class="line">Delphi: ShowMessage(&#x27;Happy New Yearï¼&#x27;);</span><br><span class="line">VB: Msg(&quot;Happy New Yearï¼&quot;)</span><br><span class="line">VC: MessageBox(&quot;Happy New Yearï¼&quot;);</span><br><span class="line">shell: echo Happy New Year</span><br><span class="line">perl: print &#x27;Happy New Year&#x27;</span><br><span class="line">java: System.out.println(&quot;Happy New Year&quot;);</span><br><span class="line">LISP:(format t &quot;Happy New Year!~%&quot;)</span><br><span class="line">powerBuilder:messageboxï¼ˆ&quot;Happy New Year&quot;)</span><br><span class="line">C#ï¼šSystem.Console.WriteLine(&quot;Happy New Year!&quot;)</span><br><span class="line">COBOL:DISPLAY &#x27;Happy New Year!&#x27;</span><br><span class="line">Python:print(&quot;Happy New Yearï¼&quot;)</span><br><span class="line">aswing:JOptionPane.showMessageDialog(&quot;happy&quot;,&quot;Happy New Yearï¼&quot;)</span><br><span class="line">flex:Alert.show(&quot;Happy New Yearï¼&quot;);</span><br><span class="line">Clojure: (println &quot;Happy New Year&quot;)</span><br><span class="line">verilog/systemverilog/e $display(&quot;Happy New Year&quot;)</span><br><span class="line">as:trace(&quot;Happy New Yearï¼&quot;);</span><br></pre></td></tr></table></figure><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=42909530&cid=75244190&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML&amp;&amp;CSS(åˆ’æ°´~~~)</title>
      <link href="/2019/01/22/HTML-CSS-%E5%88%92%E6%B0%B4/"/>
      <url>/2019/01/22/HTML-CSS-%E5%88%92%E6%B0%B4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="HTML-è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€"><a href="#HTML-è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€" class="headerlink" title="HTML(è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)"></a><a href="http://www.w3school.com.cn/html/index.asp">HTML</a>(è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)</h1><p>HTMLæ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ã€‚</p><h2 id="HTMLå±æ€§"><a href="#HTMLå±æ€§" class="headerlink" title="HTMLå±æ€§"></a>HTMLå±æ€§</h2><ul><li>IDå±æ€§æŒ‡å®šä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†é¡µé¢å…ƒç´ ï¼Œè¿™äº›æ ‡è¯†ç¬¦ä¸»è¦ä¾›Javascriptå’ŒCSSä½¿ç”¨</li><li>classå±æ€§æ˜¯ä¸€ä¸ªå…¨å±€å±æ€§ï¼Œå¯ç”¨äºå»ºç«‹å…ƒç´ ç¼–ç»„ã€‚å¯ä»¥ç»™å¤šä¸ªå…ƒç´ æŒ‡å®šç›¸åŒçš„classå±æ€§ï¼Œä»¥ä¾¿åœ¨CSSæˆ–Javascriptä¸­å°†è¿™äº›å…ƒç´ ä½œä¸ºä¸€ä¸ªç¼–ç»„æ¥å¼•ç”¨å®ƒä»¬</li><li>styleå±æ€§ç”¨äºå®šä¹‰æ ‡ç­¾çš„æ ·å¼ã€‚ä»»ä½•æ ‡ç­¾ä¸­éƒ½å¯ä»¥æŒ‡å®šå±æ€§styleã€‚ä½¿ç”¨styleå±æ€§å¯ä»¥ä¸ºæ ‡ç­¾æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªæ ·å¼è§„åˆ™ï¼Œ** åœ¨styleå®šä¹‰å¤šæ¡è§„åˆ™çš„æ–¹æ³•æ˜¯ç”¨åˆ†å·å°†ä»–ä»¬åˆ†å¼€ **</li></ul><span id="more"></span><h2 id="HTMLçš„åˆ—è¡¨"><a href="#HTMLçš„åˆ—è¡¨" class="headerlink" title="HTMLçš„åˆ—è¡¨"></a>HTMLçš„åˆ—è¡¨</h2><p>åˆ—è¡¨æ ‡ç­¾çš„ç‰¹å¾ï¼š</p><blockquote><ol><li>æ¯ä¸ªåˆ—è¡¨éƒ½æœ‰ä¸€ä¸ªæŒ‡å®šåˆ—è¡¨ç±»å‹çš„å¤–éƒ¨å…ƒç´ ã€‚</li><li>æ¯ä¸ªåˆ—è¡¨é¡¹éƒ½æœ‰è‡ªå·±çš„æ ‡ç­¾ã€‚</li></ol></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ— åºåˆ—è¡¨ï¼š<span class="tag">&lt;<span class="name">ul</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">æœ‰åºåˆ—è¡¨ï¼š<span class="tag">&lt;<span class="name">ol</span>&gt;</span><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">å®šä¹‰åˆ—è¡¨ï¼š<span class="tag">&lt;<span class="name">dl</span>&gt;</span><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">è¯æ±‡åˆ—è¡¨çš„åˆ—è¡¨é¡¹ä¸º<span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">å…¶ä»–åˆ—è¡¨çš„åˆ—è¡¨é¡¹ä¸º<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æœ‰åºåˆ—è¡¨ï¼ˆolï¼‰"><a href="#æœ‰åºåˆ—è¡¨ï¼ˆolï¼‰" class="headerlink" title="æœ‰åºåˆ—è¡¨ï¼ˆolï¼‰"></a>æœ‰åºåˆ—è¡¨ï¼ˆolï¼‰</h3><p>æœ‰åºåˆ—è¡¨é»˜è®¤çš„ç¼–å·ä¸ºç½—é©¬æ•°å­—ï¼Œå¯ä»¥ä½¿ç”¨å±æ€§styleæŒ‡å®šåˆ—è¡¨çš„ç¼–å·æ ·å¼ï¼Œä½¿ç”¨CSSå±æ€§list-style-typeè¿›è¡Œä¿®æ”¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">egï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">style</span>=<span class="string">&quot;list-style-type: upper-roman&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç½—é©¬å‡æ—¥<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¹³å‡¡çš„ä¸–ç•Œ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>å°ç¥æ¦œ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ— é—´é“<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><ol style="list-style-type: upper-roman">    <li>ç½—é©¬å‡æ—¥</li>    <li>å¹³å‡¡çš„ä¸–ç•Œ</li>    <li>å°ç¥æ¦œ</li>    <li>æ— é—´é“</li></ol><p><strong><u>æœ‰åºåˆ—è¡¨çš„ç¼–å·æ ·å¼</u></strong></p><table><thead><tr><th align="left">CSSå±æ€§list-style-type</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">decimal(é»˜è®¤)</td><td align="left">æ ‡å‡†é˜¿æ‹‰ä¼¯æ•°å­—</td></tr><tr><td align="left">lower-alpha</td><td align="left">å°å†™å­—æ¯</td></tr><tr><td align="left">upper-alpha</td><td align="left">å¤§å†™å­—æ¯</td></tr><tr><td align="left">lower-roman</td><td align="left">å°å†™ç½—é©¬æ•°å­—</td></tr><tr><td align="left">upper-roman</td><td align="left">å¤§å†™ç½—é©¬æ•°å­—</td></tr></tbody></table><h3 id="æ— åºåˆ—è¡¨ï¼ˆulï¼‰"><a href="#æ— åºåˆ—è¡¨ï¼ˆulï¼‰" class="headerlink" title="æ— åºåˆ—è¡¨ï¼ˆulï¼‰"></a>æ— åºåˆ—è¡¨ï¼ˆulï¼‰</h3><p><strong><u>æ— åºåˆ—è¡¨ç¼–å·æ ·å¼</u></strong></p><table><thead><tr><th align="left">CSSå±æ€§list-style-type</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">disc</td><td align="left">åœ†ç›˜ï¼Œé»˜è®¤æ ·å¼</td></tr><tr><td align="left">square</td><td align="left">å®å¿ƒæ­£æ–¹å½¢</td></tr><tr><td align="left">circle</td><td align="left">ç©ºå¿ƒåœ†</td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">egï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">style</span>=<span class="string">&quot;list-style-type: square&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ­£æ–¹ä½“<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>é•¿æ–¹ä½“<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>åœ†æŸ±ä½“<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><ul style="list-style-type: square">    <li>æ­£æ–¹ä½“</li>    <li>é•¿æ–¹ä½“</li>    <li>åœ†æŸ±ä½“</li></ul><h3 id="å®šä¹‰åˆ—è¡¨ï¼ˆdlï¼‰"><a href="#å®šä¹‰åˆ—è¡¨ï¼ˆdlï¼‰" class="headerlink" title="å®šä¹‰åˆ—è¡¨ï¼ˆdlï¼‰"></a>å®šä¹‰åˆ—è¡¨ï¼ˆdlï¼‰</h3><p>å®šä¹‰åˆ—è¡¨çš„æ¯ä¸ªåˆ—è¡¨é¡¹éƒ½åŒ…å«ä¸¤éƒ¨åˆ†</p><ul><li>æœ¯è¯­ï¼Œæ ‡ç­¾ä¸º<code>&lt;dt&gt;</code></li><li>æœ¯è¯­çš„å®šä¹‰ï¼Œæ ‡ç­¾ä¸º<code>&lt;dt&gt;</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>HTML<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ä¸‹çš„ä¸€ä¸ªåº”ç”¨ã€‚æ˜¯ ç½‘é¡µåˆ¶ä½œå¿…å¤‡çš„ç¼–ç¨‹è¯­è¨€ã€‚<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>CSS<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>å±‚å æ ·å¼è¡¨(è‹±æ–‡å…¨ç§°ï¼šCascading Style Sheets)æ˜¯ä¸€ç§ç”¨æ¥è¡¨ç°HTMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªåº”ç”¨ï¼‰æˆ–XMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªå­é›†ï¼‰ç­‰æ–‡ä»¶æ ·å¼çš„è®¡ç®—æœºè¯­è¨€ã€‚<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><dl>    <dt>HTML</dt>    <dd>è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ä¸‹çš„ä¸€ä¸ªåº”ç”¨ã€‚æ˜¯ ç½‘é¡µåˆ¶ä½œå¿…å¤‡çš„ç¼–ç¨‹è¯­è¨€ã€‚</dd>    <dt>CSS</dt>    <dd>å±‚å æ ·å¼è¡¨(è‹±æ–‡å…¨ç§°ï¼šCascading Style Sheets)æ˜¯ä¸€ç§ç”¨æ¥è¡¨ç°HTMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªåº”ç”¨ï¼‰æˆ–XMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªå­é›†ï¼‰ç­‰æ–‡ä»¶æ ·å¼çš„è®¡ç®—æœºè¯­è¨€ã€‚</dd></dl><h2 id="é“¾æ¥å’Œé”š"><a href="#é“¾æ¥å’Œé”š" class="headerlink" title="é“¾æ¥å’Œé”š"></a>é“¾æ¥å’Œé”š</h2><h3 id="é“¾æ¥åˆ°å¦ä¸€ä¸ªé¡µé¢çš„ç‰¹å®šä½ç½®"><a href="#é“¾æ¥åˆ°å¦ä¸€ä¸ªé¡µé¢çš„ç‰¹å®šä½ç½®" class="headerlink" title="é“¾æ¥åˆ°å¦ä¸€ä¸ªé¡µé¢çš„ç‰¹å®šä½ç½®"></a>é“¾æ¥åˆ°å¦ä¸€ä¸ªé¡µé¢çš„ç‰¹å®šä½ç½®</h3><p>** æ–¹æ³•ï¼š ä½¿ç”¨é”šï¼Œå³åœ¨é“¾æ¥çš„URLä¸­æŒ‡å®šè¦é“¾æ¥åˆ°çš„å…ƒç´ çš„ID **</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line"></span><br><span class="line">å¦ä¸€ä¸ªé¡µé¢2.htmlï¼š</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;part4&quot;</span>&gt;</span>Part four<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">å½“å‰é¡µé¢1.htmlï¼š</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;2.html#part4&quot;</span>&gt;</span>go to part four<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="é“¾æ¥åˆ°å½“å‰é¡µé¢çš„å…¶ä»–å…ƒç´ "><a href="#é“¾æ¥åˆ°å½“å‰é¡µé¢çš„å…¶ä»–å…ƒç´ " class="headerlink" title="é“¾æ¥åˆ°å½“å‰é¡µé¢çš„å…¶ä»–å…ƒç´ "></a>é“¾æ¥åˆ°å½“å‰é¡µé¢çš„å…¶ä»–å…ƒç´ </h3><p>** æ–¹æ³•: çœç•¥é¡µé¢åå°±è¡Œï¼Œä½¿ç”¨<code>#</code>å·å’Œ<code>ID</code> **</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line">go to<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#section5&quot;</span>&gt;</span>the fifth setion<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="spanæ ‡ç­¾"><a href="#spanæ ‡ç­¾" class="headerlink" title="spanæ ‡ç­¾"></a>spanæ ‡ç­¾</h2><p>spanæ ‡ç­¾å’Œstyleå±æ€§ç»“åˆä½¿ç”¨æ—¶ï¼Œå¯å–ä»£å¾ˆå¤šæ ‡ç­¾ï¼Œæ•ˆæœå¾ˆnice</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Here is some<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;text-decoration: underline&quot;</span>&gt;</span> underline text<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Here is some<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;font-style:oblique&quot;</span>&gt;</span> oblique text<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Here is some<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;text-decoration:line-through&quot;</span>&gt;</span>line-through text<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Here is some<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;font-weight:120&quot;</span>&gt;</span> bolder text<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Here is some<span style="text-decoration: underline"> underline text</span></p><p>Here is some<span style="font-style:oblique"> oblique text</span></p><p>Here is some<span style="text-decoration:line-through">line-through text</span></p><p>Here is some<span style="font-weight:120"> bolder text</span></p><h2 id="HTMLè¡¨æ ¼"><a href="#HTMLè¡¨æ ¼" class="headerlink" title="HTMLè¡¨æ ¼"></a>HTMLè¡¨æ ¼</h2><table><thead><tr><th align="left">æ ‡ç­¾</th><th align="left">ç”¨é€”</th></tr></thead><tbody><tr><td align="left">&lt;table&gt;&lt;/table&gt;</td><td align="left">å®šä¹‰è¡¨æ ¼</td></tr><tr><td align="left">&#60;caption&#62;&#60;/caption&#62;</td><td align="left">åˆ›å»ºè¡¨é¢˜(å¯é€‰)</td></tr><tr><td align="left">&#60;tr&#62;&#60;/tr&#62;</td><td align="left">å®šä¹‰ä¸€ä¸ªè¡¨æ ¼è¡Œï¼Œå…¶ä¸­å¯åŒ…å«è¡¨å¤´å•å…ƒæ ¼æˆ–æ•°æ®å•å…ƒæ ¼</td></tr><tr><td align="left">&#60;th&#62;&#60;/th&#62;</td><td align="left">å®šä¹‰ä¸€ä¸ªè¡¨å¤´å•å…ƒæ ¼ã€‚è¡¨å¤´å•å…ƒæ ¼å¾—å†…å®¹é€šå¸¸æ˜¾ç¤ºä¸ºç²—ä½“ï¼Œä¸”åœ¨æ°´å¹³å’Œç«–ç›´æ–¹å‘ä¸Šéƒ½å±…ä¸­</td></tr><tr><td align="left">&#60;td&#62;&#60;/td&#62;</td><td align="left">å®šä¹‰ä¸€ä¸ªæ•°æ®å•å…ƒæ ¼ã€‚æ•°æ®å•å…ƒæ ¼å¾—å†…å®¹é€šå¸¸æ˜¾ç¤ºä¸ºå¸¸è§„å­—ä½“ï¼Œåœ¨æ°´å¹³æ–¹å‘ä¸Šå·¦å¯¹é½ï¼Œè€Œä¸”åœ¨å‚ç›´æ–¹å‘ä¸Šå±…ä¸­</td></tr><tr><td align="left">&#60;colgroup&#62;&#60;/colgroup&#62;</td><td align="left">å°†ä¸€åˆ—æˆ–å¤šåˆ—ç¼–ç»„</td></tr><tr><td align="left">&#60;col&#62;&#60;/col&#62;</td><td align="left">ç”¨äºå®šä¹‰è¡¨æ ¼åˆ—å±æ€§</td></tr><tr><td align="left">&#60;thead&#62;&#60;/thead&#62;</td><td align="left">åˆ›å»ºè¡¨ç¤ºè¡¨å¤´çš„è¡Œç¼–ç»„ã€‚ä¸€ä¸ªè¡¨æ ¼åªèƒ½æœ‰ä¸€ä¸ªè¡¨å¤´</td></tr><tr><td align="left">&#60;tfoot&#62;&#60;/tfoot&#62;</td><td align="left">åˆ›å»ºè¡¨ç¤ºè¡¨å°¾çš„è¡Œç¼–ç»„ã€‚ä¸€ä¸ªè¡¨æ ¼åªèƒ½æœ‰ä¸€ä¸ªè¡¨å°¾ï¼Œå®ƒå¿…é¡»åœ¨è¡¨ä½“å‰å®šä¹‰</td></tr><tr><td align="left">&#60;tbody&#62;&#60;/tbody&#62;</td><td align="left">å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ç¤ºè¡¨ä½“çš„è¡Œç¼–ç»„ã€‚ä¸€ä¸ªè¡¨æ ¼å¯åŒ…å«å¤šä¸ªè¡¨å¤´éƒ¨åˆ†</td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Table<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">caption</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Science and Mathematic Class Schedules<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">colgroup</span> <span class="attr">style</span>=<span class="string">&quot;width: 20%; text-align: center; vertical-align: top; background-color: #fcf;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">colgroup</span> <span class="attr">span</span>=<span class="string">&quot;2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 40%; vertical-align: top; background-color: #ccf;&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- spanå±æ€§æŒ‡å®šäº†åˆ—ç¼–ç»„åŒ…å«çš„åˆ—æ•°ï¼Œé»˜è®¤ä¸º1 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span> <span class="attr">style</span>=<span class="string">&quot;background-color: red;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Class<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Room<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Time<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">style</span>=<span class="string">&quot;background-color: yellow;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Biology<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Science Wing, Room 102<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>8:00 AM to 9:45 AM<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Science<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Science Wing, Room 110<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>9:50 AM to 11:30 AM<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Physics<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Science Wing, Room 107<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1:00 PM to 2:45 PM<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">style</span>=<span class="string">&quot;background-color: gray;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Geometry<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Mathematics Wing, Room 236<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>8:00 AM to 9:45 Am<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Algebra<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Mathematics Wing, Room 239<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>9:50 AM to 11:30 AM<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Trigonometry<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Mathematics Wing, Room 245<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1:00 PM to 2:45 PM<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- tfootä¸€èˆ¬æ”¾åœ¨tbodyä¹‹å‰ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tfoot</span> <span class="attr">style</span>=<span class="string">&quot;background-color: blue;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Class<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Room<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Time<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/PWucSsn.png" class="lazyload" data-srcset="https://i.imgur.com/PWucSsn.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><ul><li>text-alignï¼šæŒ‡å®šæ°´å¹³å¯¹é½æ–¹å¼ï¼Œå¯èƒ½å–å€¼ï¼šleftã€centerã€right</li><li>vertical-alignï¼šæŒ‡å®šå‚ç›´å¯¹é½æ–¹å¼ï¼Œå¯èƒ½å–å€¼ï¼štopã€middleã€bottom</li></ul><h3 id="è¡¨æ ¼å±æ€§"><a href="#è¡¨æ ¼å±æ€§" class="headerlink" title="è¡¨æ ¼å±æ€§"></a>è¡¨æ ¼å±æ€§</h3><table><thead><tr><th align="left">å±æ€§</th><th align="left">é€‚ç”¨å…ƒç´ </th><th align="left">ç”¨é€”</th></tr></thead><tbody><tr><td align="left">border</td><td align="left">table</td><td align="left">æŒ‡å®šè¡¨æ ¼æ˜¯å¦å¸¦è¾¹æ¡†ï¼Œé»˜è®¤ä¸å¸¦ã€‚è¿™ä¸ªå±æ€§æŒ‡å®šäº†è¡¨æ ¼è¾¹æ¡†çš„å®½åº¦</td></tr><tr><td align="left">span</td><td align="left">colå’Œcolgroup</td><td align="left">æŒ‡å®šåˆ—ç¼–ç»„åŒ…å«å¤šå°‘åˆ—ï¼Œå¿…é¡»æ˜¯å¤§äº0çš„æ•´æ•°</td></tr><tr><td align="left">colspan</td><td align="left">thæˆ–td</td><td align="left">æŒ‡å®šå•å…ƒæ ¼å°†å‘å³å»¶ä¼¸æ¨ªè·¨å¤šå°‘åˆ—</td></tr><tr><td align="left">rowspan</td><td align="left">thæˆ–td</td><td align="left">æŒ‡å®šå•å…ƒæ ¼å°†å‘ä¸‹å»¶ä¼¸æ¨ªè·¨å¤šå°‘è¡Œ</td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>colspan and rowspan<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;10&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">caption</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>è·¨è¡Œè·¨åˆ—è¡¨æ ¼<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è·¨åˆ— --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>æ€§åˆ«<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è·¨è¡Œ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">th</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>è¾£æ¤’<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span>ç‰›è§’æ¤’<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>ç¯ç¬¼æ¤’<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/KsbLpBt.png" class="lazyload" data-srcset="https://i.imgur.com/KsbLpBt.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="HTMLè¡¨å•"><a href="#HTMLè¡¨å•" class="headerlink" title="HTMLè¡¨å•"></a>HTMLè¡¨å•</h2><table><thead><tr><th align="center">æ ‡ç­¾/å±æ€§</th><th align="left">ç”¨é€”</th></tr></thead><tbody><tr><td align="center">&#60;form&#62;</td><td align="left">åˆ›å»ºHTMLè¡¨å•ã€‚ä¸€ä¸ªæ–‡æ¡£å¯åŒ…å«å¤šä¸ªè¡¨å•ï¼Œä½†æ˜¯ä¸å¯åµŒå¥—</td></tr><tr><td align="center">action</td><td align="left">æ ‡ç­¾&#60;form&#62;çš„ä¸€ä¸ªå±æ€§ï¼Œä½¿ç”¨URLè·¯å¾„æŒ‡å®šè´Ÿè´£å¤„ç†è¡¨å•æ•°æ®çš„æœåŠ¡å™¨è„šæœ¬</td></tr><tr><td align="center">enctype</td><td align="left">&#60;form&#62;çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å®šå°†è¡¨å•æ•°æ®å‘é€ç»™æœåŠ¡å™¨å‰å¦‚ä½•å¯¹å…¶è¿›è¡Œç¼–ç </td></tr><tr><td align="center">method</td><td align="left">&#60;form&#62;çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å®šå¦‚ä½•å°†è¡¨å•æ•°æ®å‘é€ç»™æœåŠ¡å™¨</td></tr><tr><td align="center">&#60;input&#62;</td><td align="left">ä¸€ä¸ªç”¨äºåˆ›å»ºè¡¨å•æ§ä»¶ä»¥æ”¶é›†ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯</td></tr><tr><td align="center">&#60;button&#62;</td><td align="left">åˆ›å»ºä¸€ä¸ªå¯åŒ…å«HTMLå†…å®¹çš„æŒ‰é’®</td></tr><tr><td align="center">&#60;textarea&#62;</td><td align="left">åˆ›å»ºå¤šè¡Œçš„æ–‡æœ¬è¾“å…¥å­—æ®µ</td></tr><tr><td align="center">&#60;select&#62;</td><td align="left">åˆ›å»ºä¸€ä¸ªèœå•æˆ–å¯æ»šåŠ¨åˆ—è¡¨ï¼Œåˆ—è¡¨é¡¹ç”±&#60;option&#62;åˆ›å»º</td></tr><tr><td align="center">&#60;progress&#62;</td><td align="left">æ˜¾ç¤ºä»»åŠ¡å®Œæˆè¿›åº¦çš„è¿›åº¦æ¡</td></tr><tr><td align="center">&#60;label&#62;</td><td align="left">åˆ›å»ºä¸è¡¨å•æ§ä»¶é…å¥—çš„æ ‡ç­¾</td></tr><tr><td align="center">&#60;fieldset&#62;</td><td align="left">å°†è¡¨å•æ§ä»¶ç¼–ç»„</td></tr><tr><td align="center">type</td><td align="left">æ ‡ç­¾&#60;inputçš„ä¸€ä¸ªå±æ€§&#62;ï¼ŒæŒ‡å®šäº†è¡¨å•æ§ä»¶çš„ç±»å‹ï¼Œå¯èƒ½å–å€¼ï¼š<br>textï¼šåˆ›å»ºä¸€ä¸ªå•è¡Œæ–‡æœ¬è¾“å…¥å­—æ®µ<br>passwordï¼š&ensp;åˆ›å»ºä¸€ä¸ªå¯é®æŒ¡ç”¨æˆ·è¾“å…¥çš„å•è¡Œæ–‡æœ¬è¾“å…¥å­—æ®µ<br>hiddenï¼š&ensp;åˆ›å»ºä¸€ä¸ªéšè—çš„è¡¨å•æ§ä»¶<br>checkboxï¼š&ensp;åˆ›å»ºä¸€ä¸ªå¤é€‰æ¡†<br>searchï¼š&ensp;åˆ›å»ºä¸€ä¸ªæœç´¢å…³é”®å­—è¾“å…¥å­—æ®µ<br>fileï¼š&ensp;åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ æ§ä»¶è®©ç”¨æˆ·èƒ½å¤Ÿé€‰æ‹©è¦éšè¡¨å•æ•°æ®ä¸€èµ·ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æ–‡ä»¶<br>colorã€dateã€datetimeã€emailã€urlã€resetç­‰ç­‰</td></tr></tbody></table><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><table><thead><tr><th align="left">items</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">HTMLè¯­ä¹‰æ ‡ç­¾</td><td align="left"><a href="http://www.w3school.com.cn/html/html5_semantic_elements.asp">http://www.w3school.com.cn/html/html5_semantic_elements.asp</a></td></tr><tr><td align="left">preæ ‡ç­¾</td><td align="left"><a href="http://www.w3school.com.cn/tags/tag_pre.asp">http://www.w3school.com.cn/tags/tag_pre.asp</a></td></tr><tr><td align="left">HTMLå­—ç¬¦å®ä½“</td><td align="left"><a href="http://www.w3school.com.cn/html/html_entities.asp">http://www.w3school.com.cn/html/html_entities.asp</a></td></tr></tbody></table><hr/><h1 id="CSS-å±‚å æ ·å¼è¡¨"><a href="#CSS-å±‚å æ ·å¼è¡¨" class="headerlink" title="CSS(å±‚å æ ·å¼è¡¨)"></a><a href="http://www.w3school.com.cn/css/css_jianjie.asp">CSS</a>(å±‚å æ ·å¼è¡¨)</h1><p>æ ·å¼è¡¨ç”±ä¸€ç³»åˆ—è§„åˆ™ç»„æˆï¼Œå¤§è‡´ç»“æ„å¦‚ä¸‹</p><pre><code>selector &#123; property1: value1; property &#125;</code></pre><ul><li>æ¯æ¡è§„åˆ™éƒ½ä»¥é€‰æ‹©å™¨(selector)æ‰“å¤´,åé¢æ˜¯ä¸€ç³»åˆ—æœ‰èŠ±æ‹¬å·æ‹¬èµ·æ¥çš„å±æ€§(property)å’Œå€¼(value)ã€‚</li><li>æ¯ä¸ªé€‰æ‹©å™¨å¯ä»¥æŒ‡å®šä»»æ„æ•°é‡çš„å±æ€§,ä½†å±æ€§ä¹‹é—´å¿…é¡»ç”¨åˆ†å·åˆ†éš”ã€‚</li><li>åœ¨æœ€åä¸€ä¸ªå±æ€§/å€¼å¯¹åé¢,å¯ä»¥æœ‰åˆ†å·,ä¹Ÿå¯ä»¥æ²¡æœ‰ã€‚</li></ul><h2 id="é€‰æ‹©å™¨-selector"><a href="#é€‰æ‹©å™¨-selector" class="headerlink" title="é€‰æ‹©å™¨(selector)"></a>é€‰æ‹©å™¨(selector)</h2><blockquote><p>ä»»ä½•æ ‡ç­¾éƒ½å¯ä»¥ç”¨ä½œCSSé€‰æ‹©å™¨ï¼Œä¸è¿™ç§é€‰æ‹©å™¨ç›¸å…³è”çš„è§„åˆ™å°†åº”ç”¨äºé¡µé¢ä¸­æ‰€æœ‰æŒ‡å®šçš„å…ƒç´ </p></blockquote><p>å¯ä½¿ç”¨å•ä¸ªé€‰æ‹©å™¨å°†æ ·å¼åº”ç”¨äºå¤šç§å…ƒç´ ï¼Œå…ƒç´ é—´ç”¨é€—å·é—´éš”ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>, <span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¿™ä¸ªè§„åˆ™ä¸ä¸Šé¢é‚£ä¸ªç­‰ä»·</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸Šä¸‹æ–‡é€‰æ‹©å™¨"><a href="#ä¸Šä¸‹æ–‡é€‰æ‹©å™¨" class="headerlink" title="ä¸Šä¸‹æ–‡é€‰æ‹©å™¨"></a>ä¸Šä¸‹æ–‡é€‰æ‹©å™¨</h3><p>&ensp;&ensp;ä½¿ç”¨ä¸Šä¸‹æ–‡é€‰æ‹©å™¨å¯ä»¥å°†æ ·å¼åº”ç”¨äºåµŒå¥—åœ¨æŒ‡å®šå…ƒç´ å†…çš„å…ƒç´ </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ol</span> <span class="selector-tag">em</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢é‚£æ¡è§„åˆ™åº”ç”¨äºåµŒå¥—åœ¨æœ‰åºåˆ—è¡¨ä¸­çš„emå…ƒç´ </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">cite</span> &#123; <span class="attribute">font-style</span>: inherit; <span class="attribute">font-weight</span>: <span class="number">200</span>;&#125;</span><br><span class="line"><span class="selector-tag">p</span> <span class="selector-tag">cite</span> &#123; <span class="attribute">font-style</span>: italic; <span class="attribute">font-weight</span>: <span class="number">500</span>;&#125;</span><br><span class="line"><span class="selector-tag">li</span> <span class="selector-tag">cite</span>&#123; <span class="attribute">font-style</span>: normal; <span class="attribute">font-weight</span>: bolder;&#125;</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¡ä¸ºåº”ç”¨äºæ‰€æœ‰citeæ ‡ç­¾çš„è§„åˆ™<br>å¯¹äºåµŒå¥—çš„citeæ ‡ç­¾ï¼Œåä¸¤æ¡è§„åˆ™è¯´æ˜äº†ä»–ä»¬åº”è¯¥åº”ç”¨çš„æ ·å¼</p><h3 id="ç±»-amp-amp-ID-é€‰æ‹©å™¨"><a href="#ç±»-amp-amp-ID-é€‰æ‹©å™¨" class="headerlink" title="ç±» &amp;&amp; ID é€‰æ‹©å™¨"></a>ç±» &amp;&amp; ID é€‰æ‹©å™¨</h3><ul><li>å°†é€‰æ‹©å™¨åº”ç”¨äºç±»ï¼Œä½¿ç”¨<code>.</code>+<code>ç±»å</code></li><li>å°†é€‰æ‹©å™¨åº”ç”¨äºIDï¼Œä½¿ç”¨<code>#</code>+<code>ID</code>ï¼ŒIDæ˜¯ç‹¬ä¸€æ— äºŒçš„</li><li>ç»™å¤šä¸ªå…ƒç´ æŒ‡å®šç›¸åŒçš„æ ·å¼å¯ä»¥ä½¿ç”¨ç±»åï¼Œç»™å•ä¸ªå…ƒç´ æŒ‡å®šæ ·å¼å¯ä»¥ä½¿ç”¨ID</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨ç±»å‹å --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;shan&quot;</span>&gt;</span>test<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- CSS --&gt;</span></span><br><span class="line">.shan &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ------------------------------------ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨ID --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;footer&quot;</span>&gt;</span>Copyright 2019<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- CSS --&gt;</span></span><br><span class="line">#footer &#123;</span><br><span class="line">    font-size: small;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å­é€‰æ‹©å™¨"><a href="#å­é€‰æ‹©å™¨" class="headerlink" title="å­é€‰æ‹©å™¨"></a>å­é€‰æ‹©å™¨</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &gt; <span class="selector-tag">span</span><span class="selector-class">.important</span> &#123; fot-weight: bold; &#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé€‰æ‹©å™¨åªä¸pæ ‡ç­¾ï¼Œå±äºimportantç±»çš„spanæ ‡ç­¾åŒ¹é…,ä¸ä¸‹é¢çš„spanæ ‡ç­¾ä¸åŒ¹é…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a paragraph. <span class="tag">&lt;<span class="name">em</span>&gt;</span>This is an <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;important&quot;</span>&gt;</span>important<span class="tag">&lt;/<span class="name">span</span>&gt;</span> sentence.<span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„spanä¸ºpçš„å­™å­</p><h3 id="ä¼ªç±»"><a href="#ä¼ªç±»" class="headerlink" title="ä¼ªç±»"></a>ä¼ªç±»</h3><p><a href="http://www.w3school.com.cn/css/css_pseudo_classes.asp">http://www.w3school.com.cn/css/css_pseudo_classes.asp</a></p><p>é”šä¼ªç±»</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;<span class="attribute">color</span>: <span class="number">#FF0000</span>&#125;<span class="comment">/* æœªè®¿é—®çš„é“¾æ¥ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;<span class="attribute">color</span>: <span class="number">#00FF00</span>&#125;<span class="comment">/* å·²è®¿é—®çš„é“¾æ¥ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">color</span>: <span class="number">#FF00FF</span>&#125;<span class="comment">/* é¼ æ ‡ç§»åŠ¨åˆ°é“¾æ¥ä¸Š */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;<span class="attribute">color</span>: <span class="number">#0000FF</span>&#125;<span class="comment">/* é€‰å®šçš„é“¾æ¥ */</span></span><br></pre></td></tr></table></figure><h3 id="æ›´å¤š"><a href="#æ›´å¤š" class="headerlink" title="æ›´å¤š"></a>æ›´å¤š</h3><blockquote><p><a href="http://www.w3school.com.cn/css/css_selector_descendant.asp">http://www.w3school.com.cn/css/css_selector_descendant.asp</a></p></blockquote><h2 id="CSSåº¦é‡å•ä½"><a href="#CSSåº¦é‡å•ä½" class="headerlink" title="CSSåº¦é‡å•ä½"></a>CSSåº¦é‡å•ä½</h2><blockquote><p><a href="http://www.w3school.com.cn/cssref/css_units.asp">http://www.w3school.com.cn/cssref/css_units.asp</a></p></blockquote><h2 id="CSSé¢œè‰²"><a href="#CSSé¢œè‰²" class="headerlink" title="CSSé¢œè‰²"></a>CSSé¢œè‰²</h2><blockquote><p><a href="http://www.w3school.com.cn/cssref/css_colors.asp">http://www.w3school.com.cn/cssref/css_colors.asp</a></p></blockquote><h2 id="ç›’å­æ¨¡å‹"><a href="#ç›’å­æ¨¡å‹" class="headerlink" title="ç›’å­æ¨¡å‹"></a>ç›’å­æ¨¡å‹</h2><p><img src="https://s2.ax1x.com/2019/01/22/kki3LT.gif" class="lazyload" data-srcset="https://s2.ax1x.com/2019/01/22/kki3LT.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kki3LT.gif"></p><ul><li>element: å…ƒç´ /å†…å®¹</li><li>padding: å†…è¾¹è·</li><li>border: è¾¹æ¡†</li><li>margin: å¤–è¾¹è·</li></ul><h3 id="è¾¹æ¡†çš„å±æ€§"><a href="#è¾¹æ¡†çš„å±æ€§" class="headerlink" title="è¾¹æ¡†çš„å±æ€§"></a>è¾¹æ¡†çš„å±æ€§</h3><table><thead><tr><th align="left">å±æ€§</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">border-style</td><td align="left">æŒ‡å®šæ˜¾ç¤ºçš„è¾¹æ¡†ç±»å‹ã€‚å¯èƒ½å–å€¼åŒ…æ‹¬ï¼šnoneã€dottedã€dashedã€solidã€doubleã€grooveã€ridgeã€insetã€outsetã€inheritã€‚</td></tr><tr><td align="left">border-width</td><td align="left">æŒ‡å®šè¾¹æ¡†çš„å®½åº¦ï¼Œå•ä½é€šå¸¸ä¸ºåƒç´ (px)ã€‚</td></tr><tr><td align="left">border-color</td><td align="left">æŒ‡å®šè¾¹æ¡†é¢œè‰²ã€‚</td></tr></tbody></table><p>åŒæ—¶è®¾ç½®å¤šä¸ªè¾¹æ¡†å±æ€§æ—¶ï¼Œå½¢å¼å¦‚ä¸‹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selector &#123; <span class="attribute">border</span>: style width color; &#125;</span><br></pre></td></tr></table></figure><p>eg:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123; <span class="attribute">border</span>: dashed <span class="number">3px</span> red; &#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/Bcl26OF.png" class="lazyload" data-srcset="https://i.imgur.com/Bcl26OF.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="å†…è¾¹è·å’Œå¤–è¾¹è·"><a href="#å†…è¾¹è·å’Œå¤–è¾¹è·" class="headerlink" title="å†…è¾¹è·å’Œå¤–è¾¹è·"></a>å†…è¾¹è·å’Œå¤–è¾¹è·</h3><ul><li>å†…è¾¹è·(padding)æ˜¯è¾¹æ¡†é‡Œé¢çš„ç©ºç™½åŒºåŸŸ</li><li>å¤–è¾¹è·(margin)æ˜¯è¾¹æ¡†å¤–é¢çš„ç©ºç™½åŒºåŸŸ</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.outer</span> &#123; <span class="attribute">border</span>: <span class="number">2px</span> solid black; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.inner</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">2px</span> dotted black;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    å·¥ç¨‹ç‹®</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span></span><br><span class="line">            æ”»åŸç‹®ï¼ˆè°éŸ³ï¼‰å·¥ç¨‹å¸ˆï¼Œæ¥æºäºè…¾è®¯QQæ‰‹æœºç®¡å®¶äº2012å¹´3æœˆ1æ—¥16:53åœ¨å‘å¸ƒäº†ä¸€æ¡å¾®åšï¼š<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">            å£°ç§°è…¾è®¯å…¬å¸ä¸€åä¿å®‰ç»è¿‡ä¸€å±‚å±‚æŠ€æœ¯é¢è¯•è¿›å…¥äº†è…¾è®¯ç ”ç©¶é™¢ï¼Œæˆä¸ºä¸€åæ”»åŸç‹®ï¼ˆå·¥ç¨‹å¸ˆï¼‰ã€‚<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">            è¿™ç§äº‹å„¿çœ‹èµ·æ¥ç›¸ä¿¡å¾ˆå¤šäººçš„ç¬¬ä¸€ååº”éƒ½æ˜¯æ¶æï¼Œä¸è¿‡ä¸ä¹…ï¼Œè…¾è®¯è€å¤§é©¬åŒ–è…¾äº²è‡ªå‡ºé¢ï¼Œæ ¸å®äº†è¿™ä¸€äº‹ä»¶çš„çœŸå®æ€§ï¼Œå¹¶ä¸”ç§°è¿™æ˜¯ä¸ªâ€œå¾ˆåŠ±å¿—çš„æ•…äº‹â€ã€‚<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/w4RwOST.png" class="lazyload" data-srcset="https://i.imgur.com/w4RwOST.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="å†…å®¹-element-ç›’å­"><a href="#å†…å®¹-element-ç›’å­" class="headerlink" title="å†…å®¹(element)ç›’å­"></a>å†…å®¹(element)ç›’å­</h3><ul><li>å—å¼ç›’å­</li><li>å†…åµŒç›’å­</li></ul><p>å—çº§å…ƒç´ å‰åéƒ½æ¢è¡Œï¼Œè€Œå†…åµŒå…ƒç´ çš„å°ºå¯¸å–å†³äºå…¶åŒ…å«çš„å†…å®¹ä»¥åŠå¤–è¾¹è·ã€å†…è¾¹è·å’Œè¾¹æ¡†çš„è®¾ç½®ã€‚CSSæä¾›äº†å±æ€§<code>display</code>æ¥ä¿®æ”¹å…ƒç´ çš„é»˜è®¤è¡Œä¸ºï¼Œå±æ€§displayçš„å¯èƒ½å–å€¼æœ‰ä¸‰ä¸ª:blockã€inlineå’Œnoneã€‚</p><p><img src="https://i.imgur.com/QAAOmAT.png" class="lazyload" data-srcset="https://i.imgur.com/QAAOmAT.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>è¾¹æ¡†æ˜¾ç¤ºäº†åœ¨æ ·å¼è¡¨ä¸­æŒ‡å®šçš„ç›’å­çš„å°ºå¯¸ã€‚ä½†æ–‡æœ¬å¤ªå¤šçš„æ—¶å€™ï¼Œç›’å­å¯èƒ½æ— æ³•å®¹çº³ï¼Œå¤šå‡ºæ¥çš„æ–‡æœ¬å¯èƒ½ä¼šè·‘åˆ°è¾¹æ¡†çš„ä¸‹æ–¹ã€‚è¿™æ—¶ï¼Œå¯ä»¥é€šè¿‡CSSå±æ€§<code>overflow</code>å‘Šè¯‰æµè§ˆå™¨è¦å¦‚ä½•åšã€‚overflowçš„å¯èƒ½å–å€¼åŒ…æ‹¬:visible(é»˜è®¤)ã€hiddenã€scrollã€autoå’Œinheritã€‚</p><p><img src="https://i.imgur.com/O07gEYV.png" class="lazyload" data-srcset="https://i.imgur.com/O07gEYV.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/sqVTUKQ.png" class="lazyload" data-srcset="https://i.imgur.com/sqVTUKQ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="æµ®åŠ¨ï¼ˆä¿®æ”¹å—çº§å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼‰"><a href="#æµ®åŠ¨ï¼ˆä¿®æ”¹å—çº§å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼‰" class="headerlink" title="æµ®åŠ¨ï¼ˆä¿®æ”¹å—çº§å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼‰"></a>æµ®åŠ¨ï¼ˆä¿®æ”¹å—çº§å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼‰</h3><ul><li>å±æ€§floatï¼ŒæŒ‡å‡ºæµ®åŠ¨ä½ç½®ï¼Œå–å€¼ï¼šrightã€leftã€none</li><li>å±æ€§clearï¼Œæ¶ˆé™¤æµ®åŠ¨çš„å½±å“ï¼Œå–å€¼ï¼šnoneã€leftã€rightã€both</li></ul><p class="codepen" data-height="265" data-theme-id="dark" data-default-tab="html,result" data-user="yeshan333" data-slug-hash="BMaWem" style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="1">  <span>See the Pen <a href="https://codepen.io/yeshan333/pen/BMaWem/">  1</a> by Mr.Ye (<a href="https://codepen.io/yeshan333">@yeshan333</a>)  on <a href="https://codepen.io">CodePen</a>.</span></p><script async src="https://static.codepen.io/assets/embed/ei.js"></script><p><img src="https://i.imgur.com/g69xTsU.png" class="lazyload" data-srcset="https://i.imgur.com/g69xTsU.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>&ensp;&ensp;æµ®åŠ¨çš„på…ƒç´ ç§»åˆ°äº†é¡µé¢å³è¾¹ï¼Œè€Œç¬¬äºŒä¸ªæ®µè½å‡ºç°åœ¨å®ƒçš„å·¦è¾¹ã€‚é€šè¿‡å°†å±äºrightç±»çš„å…ƒç´ pçš„æ ·å¼å±æ€§floatè®¾ç½®ä¸ºrightï¼ŒæŒ‡å‡ºäº†é¡µé¢å…¶ä»–å…ƒç´ åº”æ²¿å…ƒç´ ç»•æ’ã€‚æˆ‘ä»¬å°†ç¬¬ä¸‰ä¸ªæ®µè½çš„clearå±æ€§è®¾ç½®ä¸ºbothï¼Œæ¶ˆé™¤äº†å‰é¢æµ®åŠ¨çš„å½±å“ã€‚</p><p>å¦‚æœæƒ³è¦å°†ç¬¬äºŒæ®µæµ®åŠ¨åˆ°ç¬¬ä¸€æ®µçš„ä¸‹æ–¹ï¼Œå¯è®¾ç½®ç¬¬äºŒæ®µçš„å±æ€§floatä¸ºrightï¼Œå±æ€§clearè®¾ç½®ä¸ºrightã€‚ä»…ä»…è®¾ç½®floatå±æ€§æ—¶ï¼Œä¸¤ä¸ªæ®µè½ä¼šå¹¶æ’ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid black;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">clear</span>: right;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">33%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/OjShnIP.png" class="lazyload" data-srcset="https://i.imgur.com/OjShnIP.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ æ‰€æ‹¥æœ‰çš„çŸ¥è¯†å¹¶ä¸å–å†³äºä½ è®°å¾—å¤šå°‘ï¼Œè€Œåœ¨äºå®ƒä»¬èƒ½å¦åœ¨æ°å½“çš„æ—¶å€™è¢«å›å¿†èµ·æ¥ã€‚</title>
      <link href="/2019/01/16/%E4%BD%A0%E6%89%80%E6%8B%A5%E6%9C%89%E7%9A%84%E7%9F%A5%E8%AF%86%E5%B9%B6%E4%B8%8D%E5%8F%96%E5%86%B3%E4%BA%8E%E4%BD%A0%E8%AE%B0%E5%BE%97%E5%A4%9A%E5%B0%91%EF%BC%8C%E8%80%8C%E5%9C%A8%E4%BA%8E%E5%AE%83%E4%BB%AC%E8%83%BD%E5%90%A6%E5%9C%A8%E6%81%B0%E5%BD%93%E7%9A%84%E6%97%B6%E5%80%99%E8%A2%AB%E5%9B%9E%E5%BF%86%E8%B5%B7%E6%9D%A5%E3%80%82/"/>
      <url>/2019/01/16/%E4%BD%A0%E6%89%80%E6%8B%A5%E6%9C%89%E7%9A%84%E7%9F%A5%E8%AF%86%E5%B9%B6%E4%B8%8D%E5%8F%96%E5%86%B3%E4%BA%8E%E4%BD%A0%E8%AE%B0%E5%BE%97%E5%A4%9A%E5%B0%91%EF%BC%8C%E8%80%8C%E5%9C%A8%E4%BA%8E%E5%AE%83%E4%BB%AC%E8%83%BD%E5%90%A6%E5%9C%A8%E6%81%B0%E5%BD%93%E7%9A%84%E6%97%B6%E5%80%99%E8%A2%AB%E5%9B%9E%E5%BF%86%E8%B5%B7%E6%9D%A5%E3%80%82/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><span id="more"></span><hr>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jinja2è¯­æ³•å°è®°</title>
      <link href="/2019/01/09/Jinja2%E8%AF%AD%E6%B3%95%E5%B0%8F%E8%AE%B0/"/>
      <url>/2019/01/09/Jinja2%E8%AF%AD%E6%B3%95%E5%B0%8F%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="jinja2æ¨¡æ¿è¯­æ³•å°è®°"><a href="#jinja2æ¨¡æ¿è¯­æ³•å°è®°" class="headerlink" title="jinja2æ¨¡æ¿è¯­æ³•å°è®°"></a>jinja2æ¨¡æ¿è¯­æ³•å°è®°</h1><blockquote><p><a href="http://docs.jinkan.org/docs/jinja2/templates.html">Jinja2æ¨¡æ¿ä¸­æ–‡æ–‡æ¡£</a></p></blockquote><h2 id="ä¸‰ç§å¸¸è§ç•Œå®šç¬¦"><a href="#ä¸‰ç§å¸¸è§ç•Œå®šç¬¦" class="headerlink" title="ä¸‰ç§å¸¸è§ç•Œå®šç¬¦"></a>ä¸‰ç§å¸¸è§ç•Œå®šç¬¦</h2><ol><li>è¡¨è¾¾å¼<br>{{ ... }}</li></ol><p>ç”¨äºè£…è½½å­—ç¬¦ä¸²ã€å˜é‡ã€å‡½æ•°è°ƒç”¨ç­‰</p><ol start="2"><li>è¯­å¥<br>{% ... %}</li></ol><p>ç”¨äºè£…è½½æ§åˆ¶è¯­å¥ï¼Œæ¯”å¦‚ifåˆ¤æ–­ã€forå¾ªç¯ç­‰</p><ol start="3"><li>æ³¨é‡Š<br>{# ... #}</li></ol><p>ç”¨äºè£…è½½ä¸€ä¸ªæ³¨é‡Šï¼Œæ¨¡æ¿æ¸²æŸ“çš„æ—¶å€™ä¼šè¢«å¿½ç•¥æ‰</p><span id="more"></span><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><ol><li>åœ¨æ¨¡æ¿ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€œ**.**â€è·å–å˜é‡çš„å±æ€§</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">user = &#123;</span><br><span class="line"><span class="string">&#x27;username&#x27;</span> : <span class="string">&#x27;shansan&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;bio&#x27;</span>: <span class="string">&#x27;æˆ‘ä½›äº†&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœuserä¸ºä¼ å…¥æ¨¡æ¿ä¸­çš„å­—å…¸å˜é‡ï¼Œåˆ™æˆ‘ä»¬å¯é€šè¿‡â€<strong>.</strong>â€œè·å–å®ƒçš„é”®å€¼ã€‚<br>egï¼š<em><strong>user.username</strong></em><br>user.usernameç­‰ä»·äºuser[â€˜usernameâ€™]</p><ol start="2"><li>æˆ‘ä»¬å¯ä»¥ç”¨<strong>set</strong>æ ‡ç­¾åœ¨æ¨¡æ¿ä¸­å®šä¹‰å˜é‡</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% set navigation = [(&#x27;/&#x27;,&#x27;Home&#x27;),(&#x27;/about&#x27;,&#x27;å…³äºæˆ‘&#x27;)] %&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<strong>endset</strong>å£°æ˜ç»“æŸ</p><h1 id="è¿‡æ»¤å™¨-filter"><a href="#è¿‡æ»¤å™¨-filter" class="headerlink" title="è¿‡æ»¤å™¨(filter)"></a>è¿‡æ»¤å™¨(filter)</h1><blockquote><p>è¿‡æ»¤å™¨(filter)æ˜¯ä¸€äº›å¯ä»¥ç”¨æ¥ä¿®æ”¹å’Œè¿‡æ»¤ç‰¹æ®Šå˜é‡å€¼çš„å‡½æ•°ã€‚<br>è¿‡æ»¤å™¨å’Œå˜é‡ç”¨ä¸€ä¸ªç«–çº¿â€œ**|**â€ï¼ˆç®¡é“ç¬¦å·ï¼‰éš”å¼€ï¼Œéœ€è¦å‚æ•°çš„è¿‡æ»¤å™¨å¯ä»¥åƒå‡½æ•°ä¸€æ ·ä½¿ç”¨æ‹¬å·ä¼ é€’</p></blockquote><p>eg: å¯¹ä¸€ä¸ªmoviesåˆ—è¡¨ä½¿ç”¨lengthè¿‡æ»¤å™¨è·å–å…¶é•¿åº¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movies|length</span><br></pre></td></tr></table></figure><blockquote><p>ä¸‹é¢æ˜¯Jinja2å¸¸ç”¨çš„å†…ç½®è¿‡æ»¤å™¨</p></blockquote><table><thead><tr><th align="center">è¿‡æ»¤å™¨</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">default(value,default_value,boolean=False)</td><td align="center">è®¾ç½®é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œåˆ«åä¸ºd</td></tr><tr><td align="center">escap(s)</td><td align="center">è½¬ä¹‰HTMLæ–‡æœ¬ï¼Œåˆ«åä¸ºe</td></tr><tr><td align="center">first(seq)</td><td align="center">è¿”å›åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ </td></tr><tr><td align="center">last(seq)</td><td align="center">è¿”å›åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ </td></tr><tr><td align="center">length(object)</td><td align="center">è¿”å›å˜é‡çš„é•¿åº¦</td></tr><tr><td align="center">safe(value)</td><td align="center">å°†å˜é‡æ ‡è®°ä¸ºå®‰å…¨ï¼Œé¿å…è½¬ä¹‰</td></tr><tr><td align="center">wordcount(s)</td><td align="center">è®¡ç®—å•è¯æ•°é‡</td></tr></tbody></table><p>è¿‡æ»¤å™¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¢«è¿‡æ»¤çš„å˜é‡å€¼(value)æˆ–å­—ç¬¦ä¸²(s)ï¼Œ<strong>å³ç«–çº¿ç¬¦å·å·¦ä¾§çš„å€¼</strong>å…¶ä»–å‚æ•°å¯ä»¥ä½¿ç”¨æ‹¬å·ä¼ å…¥</p><h1 id="æµ‹è¯•å™¨-Test"><a href="#æµ‹è¯•å™¨-Test" class="headerlink" title="æµ‹è¯•å™¨(Test)"></a>æµ‹è¯•å™¨(Test)</h1><blockquote><p>æµ‹è¯•å™¨ä¸»è¦ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ»¡è¶³æŸç§å˜é‡ç±»å‹,è¿”å›å¸ƒå°”å€¼ï¼ˆTrue or Falseï¼‰çš„ç‰¹æ®Šå‡½æ•°<br>è¯­æ³•ä¸ºï¼š<strong>ifâ€¦isâ€¦</strong></p></blockquote><ul><li>isçš„å·¦ä¾§æ˜¯æµ‹è¯•å™¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°(value)</li><li>å…¶ä»–å‚æ•°å¯ä»¥é€šè¿‡æ·»åŠ æ‹¬å·ä¼ å…¥ï¼Œä¹Ÿå¯ä»¥åœ¨å³ä¾§ä½¿ç”¨ç©ºæ ¼è¿æ¥</li></ul><blockquote><p>Jinja2å¸¸ç”¨å†…ç½®æµ‹è¯•å™¨</p></blockquote><table><thead><tr><th align="center">æµ‹è¯•å™¨</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">callable(object)</td><td align="center">åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯è°ƒç”¨</td></tr><tr><td align="center">defined(value)</td><td align="center">åˆ¤æ–­å˜é‡æ˜¯å¦å·²å®šä¹‰</td></tr><tr><td align="center">none(value)</td><td align="center">åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºNone</td></tr><tr><td align="center">number(value)</td><td align="center">åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºæ•°å­—</td></tr><tr><td align="center">string(value)</td><td align="center">åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºå­—ç¬¦ä¸²</td></tr><tr><td align="center">sequence(value)</td><td align="center">åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºåºåˆ—ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„</td></tr><tr><td align="center">iterable(value)</td><td align="center">åˆ¤æ–­å˜é‡æ˜¯å¦å¯è¿­ä»£</td></tr><tr><td align="center">mapping(value)</td><td align="center">åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯åŒ¹é…å¯¹è±¡ï¼Œæ¯”å¦‚å­—å…¸</td></tr><tr><td align="center">smeas(value,other)</td><td align="center">åˆ¤æ–­å˜é‡ä¸otheræ˜¯å¦æŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if foo is smeas(bar) %&#125;</span><br><span class="line">&#123;# ç­‰ä»·äº #&#125;</span><br><span class="line">&#123;% if foo is smeas bar %&#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­fooå’Œbaræ‰€ä»¥æŒ‡å‘çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸åŒ</p><h1 id="è¯­å¥"><a href="#è¯­å¥" class="headerlink" title="è¯­å¥"></a>è¯­å¥</h1><blockquote><p>åœ¨Jinja2ä¸­ï¼Œè¯­å¥ä½¿ç”¨**{% ... %}**æ ‡è¯†<br>åœ¨è¯­å¥ç»“æŸçš„åœ°æ–¹ï¼Œå¿…é¡»æ·»åŠ ç»“æŸæ ‡ç­¾</p></blockquote><ul><li>ifè¯­å¥ä½¿ç”¨endif</li><li>forè¯­å¥ä½¿ç”¨endfor</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if user.name == &#x27;shansan&#x27; %&#125;</span><br><span class="line">    &lt;h1&gt;you are right!&lt;/h1&gt;</span><br><span class="line">&#123;% else %&#125;</span><br><span class="line">    &lt;h1&gt;you are wrong!&lt;/h1&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for g in ga %&#125;</span><br><span class="line">    &lt;li&gt;&#123;&#123; g.name &#125;&#125; - &#123;&#123; g.year &#125;&#125;&lt;/li&gt;</span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure><p><em><strong>ä¸å¯ä½¿ç”¨breakå’Œcontinueæ§åˆ¶å¾ªç¯çš„æ‰§è¡Œ</strong></em></p><h1 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h1><h2 id="å±€éƒ¨æ¨¡æ¿"><a href="#å±€éƒ¨æ¨¡æ¿" class="headerlink" title="å±€éƒ¨æ¨¡æ¿"></a>å±€éƒ¨æ¨¡æ¿</h2><ul><li>å½“å¤šä¸ªç‹¬ç«‹æ¨¡æ¿ä¸­ä½¿ç”¨åˆ°åŒä¸€å—HTMLä»£ç æ—¶ï¼Œå¯ä»¥æŠŠè¿™éƒ¨åˆ†ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œæ”¾åˆ°å±€éƒ¨æ¨¡æ¿ä¸­</li><li>å±€éƒ¨æ¨¡æ¿çš„å‘½åä¸€èˆ¬ä»¥ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å§‹</li><li>ä½¿ç”¨<strong>include</strong>æ ‡ç­¾æ’å…¥ä¸€ä¸ªå±€éƒ¨æ¨¡æ¿</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include &#x27;_banner.html&#x27; %&#125;</span><br></pre></td></tr></table></figure><h2 id="å®"><a href="#å®" class="headerlink" title="å®"></a>å®</h2><ul><li>å®ï¼Œç±»ä¼¼äºPythonä¸­çš„å‡½æ•°ã€‚ä½¿ç”¨å®å¯ä»¥å°è£…ä¸€éƒ¨åˆ†æ¨¡æ¿ä»£ç </li><li>ä¸€èˆ¬æŠŠå®å¯„å­˜åœ¨å³å­˜åœ¨åä¸ºmacros.htmlæˆ–_macros.htmlæ–‡ä»¶ä¸­</li><li>ä½¿ç”¨macroå’Œendmacroæ ‡ç­¾å£°æ˜å®çš„å¼€å§‹å’Œç»“æŸ</li><li>åœ¨å¼€å§‹æ ‡ç­¾ä¸­å®šä¹‰å®çš„åç§°å’Œæ¥æ”¶çš„å‚æ•°</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% macro qux(amount=1) %&#125;</span><br><span class="line">    &#123;% if amount==1 %&#125;</span><br><span class="line">        I am qux.</span><br><span class="line">    &#123;% elif amount&gt;1 %&#125;</span><br><span class="line">        We are qux.</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&#123;% endmacro %&#125;</span><br></pre></td></tr></table></figure><p>å°±åƒä»Pythonæ¨¡å—ä¸­å¯¼å…¥å‡½æ•°ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨importå¯¼å…¥å®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% from &#x27;macros.html&#x27; import qux %&#125;</span><br></pre></td></tr></table></figure><p>PS:<font color="red">é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨includeå¯¼å…¥ä¸€ä¸ªå±€éƒ¨æ¨¡æ¿ä¼šä¼ é€’ä¸Šä¸‹æ–‡åˆ°å±€éƒ¨æ¨¡æ¿ä¸­ï¼Œä½†ä½¿ç”¨importå´ä¸ä¼š</font></p><h2 id="æ¨¡æ¿ç»§æ‰¿"><a href="#æ¨¡æ¿ç»§æ‰¿" class="headerlink" title="æ¨¡æ¿ç»§æ‰¿"></a>æ¨¡æ¿ç»§æ‰¿</h2><blockquote><p>æ¨¡æ¿ç»§æ‰¿å…è®¸æˆ‘ä»¬æ„å»ºä¸€ä¸ªåŒ…å«ç«™ç‚¹å…±åŒå…ƒç´ çš„åŸºæœ¬æ¨¡æ¿â€éª¨æ¶â€ï¼Œå¹¶å®šä¹‰å­æ¨¡ç‰ˆå¯ä»¥è¦†ç›–çš„å—</p></blockquote><ol><li>åŸºæ¨¡æ¿ base.html</li></ol><p>** åœ¨åŸºæ¨¡æ¿ä¸­å®šä¹‰çš„å—ï¼ˆblockï¼‰ï¼Œå¯ä»¥è®©å­æ¨¡ç‰ˆé€šè¿‡å®šä¹‰åŒåçš„å—æ¥æ‰§è¡Œç»§æ‰¿æ“ä½œ **</p><p><u>å—çš„å¼€å§‹å’Œç»“æŸåˆ†åˆ«ä½¿ç”¨blockå’Œendblockæ ‡ç­¾,ä¸åŒçš„å—å…è®¸åµŒå¥—</u><br><u>ä»¥ä¸‹ç¤ºä¾‹ä»£ç ä¸­ä½¿ç”¨headã€titleã€stylesã€contentã€footerå’Œscriptsåˆ’åˆ†äº†ä¸åŒçš„æ ‡ç­¾å—</u></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">&#123;% block head %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;% block title %&#125;Template - HelloFlask&#123;% endblock %&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    &#123;% block styles %&#125;&#123;% endblock styles %&#125;</span><br><span class="line">&#123;% endblock head %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; url_for(&#x27;index&#x27;) &#125;&#125;&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    &#123;% block content %&#125;&#123;% endblock content %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    &#123;% block footer %&#125;</span><br><span class="line">        &#123;% endblock footer %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">    &#123;% block scripts %&#125;&#123;% endblock scripts %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>å­æ¨¡ç‰ˆ index.html</li></ol><ul><li>å½“åœ¨å­æ¨¡ç‰ˆåˆ›å»ºåŒåçš„å—æ—¶ï¼Œä¼šä½¿ç”¨å­—å—çš„å†…å®¹è¦†ç›–çˆ¶å—çš„å†…å®¹</li><li>è¿™é‡Œå­æ¨¡ç‰ˆçš„contentå—çš„å†…å®¹è¦†ç›–äº†åŸºæ¨¡æ¿contentå—çš„å†…å®¹</li><li><font color=red>extends æ ‡ç­¾å¿…é¡»æ˜¯æ¨¡æ¿ä¸­çš„ç¬¬ä¸€ä¸ª æ ‡ç­¾</font></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#x27;base.html&#x27; %&#125;</span><br><span class="line">&#123;% from &#x27;macros.html&#x27; import qux %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">&#123;% set name=&#x27;baz&#x27; %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Template<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; url_for(&#x27;watchlist&#x27;) &#125;&#125;&quot;</span>&gt;</span>Watchlist<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Filter: &#123;&#123; foo|musical &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Global: &#123;&#123; bar() &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Test: &#123;% if name == &#x27;baz&#x27; %&#125;I am baz.&#123;% endif %&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Macro: &#123;&#123; qux(amount=5) &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">&#123;% endblock content %&#125;</span><br></pre></td></tr></table></figure><p>*** å¦‚éœ€è¦å‘åŸºæ¨¡æ¿ä¸­è¿½åŠ å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨Jinja2çš„super()å‡½æ•° ***</p><p>å¦‚å‘åŸºæ¨¡æ¿çš„styleså—è¿½åŠ ä¸€è¡Œæ ·å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block styles %&#125;</span><br><span class="line">&#123;&#123; super() &#125;&#125;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    html&#123;</span><br><span class="line">        color: red;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><hr><p>å‚è€ƒï¼š</p><ul><li><p><a href="https://book.douban.com/subject/30310340/">https://book.douban.com/subject/30310340/</a></p></li><li><p><a href="https://www.cnblogs.com/yanzi-meng/p/8342798.html">https://www.cnblogs.com/yanzi-meng/p/8342798.html</a></p></li><li><p><a href="http://docs.jinkan.org/docs/jinja2/templates.html#id21">http://docs.jinkan.org/docs/jinja2/templates.html#id21</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Flask </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ³›å‹ç®—æ³•-1</title>
      <link href="/2019/01/03/%E6%B3%9B%E5%9E%8B%E7%AE%97%E6%B3%95-1/"/>
      <url>/2019/01/03/%E6%B3%9B%E5%9E%8B%E7%AE%97%E6%B3%95-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="æ³›å‹ç®—æ³•-1"><a href="#æ³›å‹ç®—æ³•-1" class="headerlink" title="æ³›å‹ç®—æ³•-1"></a>æ³›å‹ç®—æ³•-1</h1><blockquote><p>æ³›å‹ç®—æ³•å®ç°äº†ä¸€äº›ç»å…¸ç®—æ³•çš„å…¬å…±æ¥å£ï¼Œå¦‚æ’åºå’Œæœç´¢ï¼›ç§°å®ƒä»¬æ˜¯â€œæ³›å‹çš„â€ï¼Œæ˜¯å› ä¸ºå®ƒä»¬å¯ä»¥ç”¨äºä¸åŒç±»å‹çš„å…ƒç´ çš„å’Œå¤šç§å®¹å™¨ç±»å‹ï¼ˆä¸ä»…åŒ…æ‹¬æ ‡å‡†åº“ç±»å‹ï¼Œè¿˜åŒ…æ‹¬å†…ç½®çš„æ•°ç»„ç±»å‹ï¼‰ï¼Œä»¥åŠå…¶å®ƒç±»å‹çš„åºåˆ—ã€‚</p></blockquote><p>** å¤§å¤šæ•°ç®—æ³•éƒ½å®šä¹‰åœ¨å¤´æ–‡ä»¶algorithmä¸­ **</p><p><font color="red">ç®—æ³•æ°¸è¿œä¸ä¼šæ‰§è¡Œå®¹å™¨çš„æ“ä½œ</font></p><span id="more"></span><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç®—æ³•find*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- findå°†èŒƒå›´å†…ä¸­çš„æ‰€æœ‰å…ƒç´ ä¸ç»™å®šå€¼è¿›è¡Œæ¯”è¾ƒï¼Œè¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªç­‰äºç»™å®šå€¼çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="comment">- å¦‚æœèŒƒå›´å†…æ— åŒ¹é…å…ƒç´ ï¼Œåˆ™findè¿”å›ç¬¬äºŒä¸ªå‚æ•°æ¥è¡¨ç¤ºæœç´¢å¤±è´¥</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">find_value</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//findå‡½æ•°çš„è¿”å›å€¼ç±»å‹æ˜¯è¿­ä»£å™¨ç±»å‹</span></span><br><span class="line"><span class="comment">//åœ¨vectorä¸­æŸ¥æ‰¾å€¼</span></span><br><span class="line"><span class="type">int</span> val = <span class="number">7</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; v&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> result = find(v.begin(),v.end(),val);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;*result&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾å€¼</span></span><br><span class="line"><span class="type">int</span> nums[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"><span class="keyword">auto</span> search = find(begin(nums),end(nums),<span class="number">11</span>);<span class="comment">//å€¼ä¸å­˜åœ¨ï¼Œè¿”å›å°¾åè¿­ä»£å™¨</span></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;*search&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç®—æ³•count*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- è¿”å›ç»™å®šå€¼åœ¨åºåˆ—ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">value_count</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//countå‡½æ•°è¿”å›ç»™å®šå€¼åœ¨åºåˆ—ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"><span class="type">int</span> a[]=&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line"><span class="keyword">auto</span> c = count(a,a+<span class="number">10</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;1å‡ºç°çš„æ¬¡æ•°:&quot;</span>&lt;&lt;c&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç®—æ³•accumulate*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- accumulateå°†ç¬¬ä¸‰ä¸ªå‚æ•°ä½œä¸ºæ±‚å’Œèµ·ç‚¹</span></span><br><span class="line"><span class="comment">- æ³¨æ„åºåˆ—ä¸­çš„å…ƒç´ çš„ç±»å‹å¿…é¡»ä¸ç¬¬ä¸‰ä¸ªå‚æ•°åŒ¹é…</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sum_num</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//accumulateå‡½æ•°ç”¨å»æ±‚ç»™å®šå…ƒç´ èŒƒå›´å†…å…ƒç´ çš„å’Œ</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; v=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"><span class="keyword">auto</span> sum = accumulate(v.begin(),v.end(),<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; v_compare&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( equal(v.begin(),v.end(),v_compare.begin()) )</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;yeah&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;sum&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç®—æ³•fill*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- ç”¨äºç¡®å®šä¸¤ä¸ªåºåˆ—ä¸­æ˜¯å¦ä¿å­˜ç›¸åŒçš„å€¼</span></span><br><span class="line"><span class="comment">- ç¬¬äºŒä¸ªåºåˆ—è‡³å°‘ä¸ç¬¬ä¸€ä¸ªåºåˆ—ä¸€æ ·é•¿</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">init_fill</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; v&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;;</span><br><span class="line">fill(v.begin(),v.end(),<span class="number">1</span>);<span class="comment">//ä¸è¦å¯¹ç©ºå®¹å™¨ä½¿ç”¨æ­¤æ“ä½œ</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> a:v)</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">elimDups</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp;words)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; v)</span>;</span><br><span class="line">sort(words.begin(),words.end());</span><br><span class="line"><span class="comment">//ä½¿ç”¨sortç®—æ³•æŒ‰å­—å…¸åºé‡æ’åºåˆ—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//uniqueé‡æ’äº†è¾“å…¥èŒƒå›´ï¼Œä½¿å¾—æ¯ä¸ªå•è¯åªå‡ºç°ä¸€æ¬¡ï¼Œ</span></span><br><span class="line"><span class="comment">//uniqueè¿”å›æŒ‡å‘ä¸é‡å¤åŒºåŸŸä¹‹åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="keyword">auto</span> end_unique = unique(words.begin(),words.end());</span><br><span class="line"><span class="comment">//åˆ é™¤é‡å¤å…ƒç´ </span></span><br><span class="line">words.erase(end_unique,words.end());</span><br><span class="line">print(words);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; v)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> a:v)</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šåˆ¶æ“ä½œï¼ŒæŒ‰ç…§é•¿åº¦é‡æ–°æ’vector</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">isShorter</span><span class="params">(<span class="type">const</span> <span class="built_in">string</span> &amp;s1,<span class="type">const</span> <span class="built_in">string</span> &amp;s2)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> s1.size() &gt; s2.size();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰é•¿åº¦è¿›è¡Œæ’åº</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">length_sort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp;words)</span></span><br><span class="line">&#123;</span><br><span class="line">    sort(words.begin(),words.end(),isShorter);</span><br><span class="line">print(words);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨ç®—æ³•stable_sortæ¥ä¿æŒç­‰é•¿å…ƒç´ é—´çš„å­—å…¸åº</span></span><br><span class="line">    stable_sort(v.begin(),v.end(),isShorter);</span><br><span class="line">print(v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å‘ç®—æ³•ä¼ é€’å‡½æ•°"><a href="#å‘ç®—æ³•ä¼ é€’å‡½æ•°" class="headerlink" title="å‘ç®—æ³•ä¼ é€’å‡½æ•°"></a>å‘ç®—æ³•ä¼ é€’å‡½æ•°</h2><h3 id="ç®—æ³•è°“è¯"><a href="#ç®—æ³•è°“è¯" class="headerlink" title="ç®—æ³•è°“è¯"></a>ç®—æ³•è°“è¯</h3><ul><li>ç®—æ³•è°“è¯å³æ ‡å‡†åº“ç®—æ³•ä¼ é€’çš„å‚æ•°, å¯ä»¥æŒ‡å®šç®—æ³•çš„æ“ä½œï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯ä»¥è°ƒç”¨çš„è¡¨è¾¾å¼ï¼Œå…¶è¿”å›ç»“æœæ˜¯ä¸€ä¸ªèƒ½ç”¨ä½œæ¡ä»¶çš„å€¼</li><li>æ¥å—è°“è¯å‚æ•°çš„ç®—æ³•å¯¹è¾“å…¥åºåˆ—ä¸­çš„å…ƒç´ è°ƒç”¨è°“è¯ã€‚å› æ­¤å…ƒç´ ç±»å‹å¿…é¡»èƒ½è½¬æ¢æˆè°“è¯çš„å‚æ•°ç±»å‹</li></ul><blockquote><p>æ ‡å‡†åº“ç®—æ³•æ‰€ä½¿ç”¨çš„è°“è¯åˆ†ä¸ºä¸¤ç±»ï¼š<br>1.ä¸€å…ƒè°“è¯ï¼šå®ƒä»¬åªæ¥å—ä¸€ä¸ªå‚æ•°<br>2.äºŒå…ƒè°“è¯ï¼šå®ƒä»¬æ¥å—ä¸¤ä¸ªå‚æ•°</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šåˆ¶æ“ä½œï¼ŒæŒ‰ç…§é•¿åº¦é‡æ–°æ’vector</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isShorter</span><span class="params">(<span class="type">const</span> string &amp;s1,<span class="type">const</span> string &amp;s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s1.<span class="built_in">size</span>() &gt; s2.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰é•¿åº¦è¿›è¡Œæ’åº</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">length_sort</span><span class="params">(vector&lt;string&gt; &amp;words)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">sort</span>(words.<span class="built_in">begin</span>(),words.<span class="built_in">end</span>(),isShorter);</span><br><span class="line"><span class="built_in">print</span>(words);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨ç®—æ³•stable_sortæ¥ä¿æŒç­‰é•¿å…ƒç´ é—´çš„å­—å…¸åº</span></span><br><span class="line">    <span class="built_in">stable_sort</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),isShorter);</span><br><span class="line"><span class="built_in">print</span>(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå‘ç®—æ³•stable_sortä¼ é€’çš„ç¬¬ä¸‰ä¸ªå‚æ•°å°±æ˜¯ä¸€ä¸ªè°“è¯</p><h2 id="lambdaè¡¨è¾¾å¼ï¼ˆåŒ¿åå‡½æ•°ï¼‰"><a href="#lambdaè¡¨è¾¾å¼ï¼ˆåŒ¿åå‡½æ•°ï¼‰" class="headerlink" title="lambdaè¡¨è¾¾å¼ï¼ˆåŒ¿åå‡½æ•°ï¼‰"></a>lambdaè¡¨è¾¾å¼ï¼ˆåŒ¿åå‡½æ•°ï¼‰</h2><blockquote><p>lambdaè¡¨è¾¾å¼ä¸å…¶å®ƒå‡½æ•°çš„åŒºåˆ«æ˜¯ï¼šlambdaè¡¨è¾¾å¼å¯å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨</p></blockquote><p>åŸºæœ¬å½¢å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[capture lsit](parameter list)  -&gt;  <span class="keyword">return</span> type &#123;function body&#125;</span><br></pre></td></tr></table></figure><ul><li>capture list(æ•è·åˆ—è¡¨): ä¸€ä¸ªlambdaæ‰€åœ¨å‡½æ•°ä¸­çš„å®šä¹‰çš„å±€éƒ¨å˜é‡çš„åˆ—è¡¨ï¼ˆé€šå¸¸ä¸ºç©ºï¼‰</li><li>parameter list(å‚æ•°åˆ—è¡¨)</li><li>return type(è¿”å›ç±»å‹)</li><li>function body(å‡½æ•°ä½“)</li></ul><p>** æˆ‘ä»¬å¯ä»¥å¿½ç•¥å½¢å‚åˆ—è¡¨å’Œè¿”å›ç±»å‹ï¼Œä½†æ˜¯å¿…é¡»æ°¸è¿œåŒ…å«æ•è·åˆ—è¡¨å’Œå‡½æ•°ä½“ **</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">auto</span> f = []&#123;<span class="keyword">return</span> <span class="number">44</span>;&#125; ;</span><br><span class="line">cout&lt;&lt;<span class="built_in">f</span>()&lt;&lt;endl;<span class="comment">//æ‰“å°44</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‘ç®—æ³•stable_sortä¼ é€’çš„å®å‚å¯ä»¥æ”¹å†™ä¸º,æ•ˆæœè¿˜æ˜¯ä¸€æ ·çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stable_sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="type">const</span> string &amp;a,<span class="type">const</span> string s&amp;b)&#123;<span class="keyword">return</span> a.<span class="built_in">size</span>()&lt;b.<span class="built_in">size</span>()&#125;);</span><br></pre></td></tr></table></figure><h3 id="æ•è·åˆ—è¡¨çš„ä½¿ç”¨"><a href="#æ•è·åˆ—è¡¨çš„ä½¿ç”¨" class="headerlink" title="æ•è·åˆ—è¡¨çš„ä½¿ç”¨"></a>æ•è·åˆ—è¡¨çš„ä½¿ç”¨</h3><p>ä¸€ä¸ªlambdaå¯ä»¥å‡ºç°åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨ï¼Œä½¿ç”¨å…¶å±€éƒ¨å˜é‡ï¼Œä½†å®ƒåªèƒ½ä½¿ç”¨é‚£äº›æŒ‡æ˜çš„å˜é‡ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">biggies</span><span class="params">(vector&lt;string&gt; &amp;words,vector&lt;string&gt;::size_type sz)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨sortç®—æ³•æŒ‰å­—å…¸åºé‡æ’åºåˆ— s</span></span><br><span class="line"><span class="built_in">sort</span>(words.<span class="built_in">begin</span>(),words.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//uniqueé‡æ’äº†è¾“å…¥èŒƒå›´ï¼Œä½¿å¾—æ¯ä¸ªå•è¯åªå‡ºç°ä¸€æ¬¡ï¼Œ</span></span><br><span class="line"><span class="comment">//uniqueè¿”å›æŒ‡å‘ä¸é‡å¤åŒºåŸŸä¹‹åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="keyword">auto</span> end_unique = <span class="built_in">unique</span>(words.<span class="built_in">begin</span>(),words.<span class="built_in">end</span>());</span><br><span class="line"><span class="comment">//åˆ é™¤é‡å¤å…ƒç´ </span></span><br><span class="line">words.<span class="built_in">erase</span>(end_unique,words.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰é•¿åº¦æ’åº,é•¿åº¦ç›¸åŒçš„æŒ‰å­—å…¸åºæ’</span></span><br><span class="line"><span class="built_in">stable_sort</span>(words.<span class="built_in">begin</span>(),words.<span class="built_in">end</span>(),</span><br><span class="line">[](<span class="type">const</span> string &amp;a,<span class="type">const</span> string &amp;b)&#123;<span class="keyword">return</span> a.<span class="built_in">size</span>() &lt; b.<span class="built_in">size</span>();&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç®—æ³•find_ifè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿™ä¸ªè¿­ä»£å™¨æŒ‡å‘ç¬¬ä¸€ä¸ªæ»¡è¶³size()&gt;=szçš„å…ƒç´ </span></span><br><span class="line"><span class="comment">//è¿™é‡Œç”¨åˆ°äº†æ•è·åˆ—è¡¨ï¼Œä½¿ç”¨å±€éƒ¨å˜é‡sz</span></span><br><span class="line"><span class="keyword">auto</span> wc = <span class="built_in">find_if</span>(words.<span class="built_in">begin</span>(),words.<span class="built_in">end</span>(),</span><br><span class="line">[sz](<span class="type">const</span> string &amp;a)&#123;<span class="keyword">return</span> a.<span class="built_in">size</span>()&gt;sz; &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¡ç®—æ»¡è¶³size &gt;= sz çš„å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">auto</span> count = words.<span class="built_in">end</span>() - wc;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the numbers of word longer than &quot;</span>&lt;&lt;sz&lt;&lt;<span class="string">&quot;: &quot;</span>&lt;&lt;count&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰“å°é•¿åº¦å¤§äºç­‰äºç»™å®šå€¼szçš„å•è¯</span></span><br><span class="line"><span class="comment">//ç®—æ³•for_earchæ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œå¹¶å¯¹è¾“å…¥åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨æ­¤å¯¹è±¡</span></span><br><span class="line">for_each(wc,words.<span class="built_in">end</span>(),[](<span class="type">const</span> string &amp;s)&#123; cout&lt;&lt;s&lt;&lt;<span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;string&gt; words;</span><br><span class="line">string str;</span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;str)</span><br><span class="line">    words.<span class="built_in">push_back</span>(str);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> a:words)</span><br><span class="line">    cout&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="built_in">biggies</span>(words,<span class="number">6</span>);<span class="comment">//æ‰“å°é•¿åº¦å¤§äºæˆ–ç­‰äºç»™å®šå€¼çš„å•è¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/7Ldocia.png" class="lazyload" data-srcset="https://i.imgur.com/7Ldocia.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>** æ•è·åˆ—è¡¨åªç”¨äºå±€éƒ¨éé™æ€ï¼ˆstaticï¼‰å˜é‡ï¼Œlambdaå¯ä»¥ç›´æ¥ä½¿ç”¨å±€éƒ¨staticå˜é‡å’Œåœ¨å®ƒæ‰€åœ¨å‡½æ•°ä¹‹å¤–å£°æ˜çš„åå­— **</p><h3 id="lambadaæ•è·å’Œè¿”å›"><a href="#lambadaæ•è·å’Œè¿”å›" class="headerlink" title="lambadaæ•è·å’Œè¿”å›"></a>lambadaæ•è·å’Œè¿”å›</h3><ul><li>å˜é‡çš„æ•è·æ–¹å¼æœ‰ä¸¤ç§:å€¼æ•è·ã€å¼•ç”¨æ•è·</li><li>ä½¿ç”¨å¼•ç”¨æ•è·å˜é‡æ—¶ï¼Œå¿…é¡»ç¡®ä¿è¢«å¼•ç”¨çš„å¯¹è±¡åœ¨lambdaæ‰§è¡Œçš„æ—¶å€™æ˜¯å­˜åœ¨çš„</li><li>lambdaæ•è·çš„æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡åœ¨å‡½æ•°ç»“æŸåå°±ä¸å¤å­˜åœ¨äº†</li></ul><blockquote><p>æˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªå‡½æ•°è¿”å›lambdaï¼Œå‡½æ•°å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œæˆ–è€…è¿”å›ä¸€ä¸ªç±»å¯¹è±¡ï¼Œè¯¥ç±»å«æœ‰å¯è°ƒç”¨å¯¹è±¡çš„æ•°æ®æˆå‘˜ã€‚å¦‚æœå‡½æ•°è¿”å›ä¸€ä¸ªlambdaï¼Œåˆ™ä¸å‡½æ•°ä¸èƒ½è¿”å›ä¸€ä¸ªå±€éƒ¨å˜é‡ç±»ä¼¼ï¼Œæ­¤lambdaä¹Ÿä¸èƒ½åŒ…å«å¼•ç”¨æ•è·</p></blockquote><h4 id="ä½¿ç”¨-amp-ã€-è¿›è¡Œéšå¼æ•è·"><a href="#ä½¿ç”¨-amp-ã€-è¿›è¡Œéšå¼æ•è·" class="headerlink" title="ä½¿ç”¨***&amp;ã€=***è¿›è¡Œéšå¼æ•è·"></a>ä½¿ç”¨***&amp;<em><strong>ã€</strong></em>=***è¿›è¡Œéšå¼æ•è·</h4><p>æˆ‘ä»¬å¯ä»¥è®©ç¼–è¯‘å™¨æ ¹æ®lambdaä½“ä¸­çš„ä»£ç æ¥æ¨æ–­æˆ‘ä»¬è¦ä½¿ç”¨å“ªäº›å˜é‡</p><ul><li>**&amp;**å‘Šè¯‰ç¼–è¯‘å™¨é‡‡ç”¨å¼•ç”¨æ•è·æ–¹å¼</li><li>**=**å‘Šè¯‰ç¼–è¯‘å™¨é‡‡ç”¨å€¼æ•è·æ–¹å¼</li></ul><p><font color="blue">æ··åˆä½¿ç”¨æ˜¾å¼æ•è·å’Œéšå¼æ•è·æ—¶,æ˜¾ç¤ºæ•è·å¿…é¡»ä½¿ç”¨ä¸éšå¼æ•è·ä¸åŒçš„æ–¹å¼</font></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">biggies</span><span class="params">(vector&lt;string&gt; &amp;words, ostream &amp;os=cout, <span class="type">char</span> c=<span class="string">&#x27; &#x27;</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//oséšå¼æ•è·ï¼Œcæ˜¾å¼æ•è·</span></span><br><span class="line">    for_each(words.<span class="built_in">begin</span>(), words.<span class="built_in">end</span>(), [&amp;, c](<span class="type">const</span> string &amp;s)&#123; os&lt;&lt;s&lt;&lt;c;&#125; );</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//céšå¼æ•è·ï¼Œosæ˜¾ç¤ºæ•è·</span></span><br><span class="line">for_each(words.<span class="built_in">begin</span>(), words.<span class="built_in">end</span>(), [=, &amp;os](<span class="type">const</span> string &amp;s)&#123; os&lt;&lt;s&lt;&lt;c;&#125; );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;string&gt; str;</span><br><span class="line">string temp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;temp)</span><br><span class="line">    str.<span class="built_in">push_back</span>(temp);</span><br><span class="line"></span><br><span class="line"><span class="built_in">biggies</span>(str);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/blhDe01.png" class="lazyload" data-srcset="https://i.imgur.com/blhDe01.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h4 id="æŒ‡å®šlambdaçš„è¿”å›ç±»å‹"><a href="#æŒ‡å®šlambdaçš„è¿”å›ç±»å‹" class="headerlink" title="æŒ‡å®šlambdaçš„è¿”å›ç±»å‹"></a>æŒ‡å®šlambdaçš„è¿”å›ç±»å‹</h4><ul><li>è¦ä¸ºä¸€ä¸ªlambdaå®šä¹‰è¿”å›ç±»å‹æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å°¾ç½®è¿”å›ç±»å‹</li><li>å°¾ç½®è¿”å›ç±»å‹è·Ÿåœ¨å½¢å‚åˆ—è¡¨åé¢ï¼Œå¹¶ä»¥ä¸€ä¸ª<code>-&gt;</code>ç¬¦å·å¼€å¤´</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> f = [](<span class="type">int</span> i)-&gt;<span class="type">int</span>&#123; <span class="keyword">return</span> i+<span class="number">1</span>;&#125;;</span><br><span class="line">cout&lt;&lt;<span class="built_in">f</span>(<span class="number">3</span>)&lt;&lt;endl;<span class="comment">//è¾“å‡ºç»“æœä¸ºï¼š4</span></span><br></pre></td></tr></table></figure><h4 id="å¯å˜lambada"><a href="#å¯å˜lambada" class="headerlink" title="å¯å˜lambada"></a>å¯å˜lambada</h4><p>ä½¿ç”¨å…³é”®å­—<code>mutable</code>æ”¹å˜ä¸€ä¸ªè¢«æ•è·å˜é‡çš„å€¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">auto</span> f = [i]()<span class="keyword">mutable</span>&#123; <span class="keyword">return</span> ++i;&#125;;</span><br><span class="line">i=<span class="number">0</span>;</span><br><span class="line">cout&lt;&lt;<span class="built_in">f</span>();<span class="comment">//è¾“å‡ºç»“æœä¸º2</span></span><br></pre></td></tr></table></figure><h4 id="lambdaæ•è·åˆ—è¡¨"><a href="#lambdaæ•è·åˆ—è¡¨" class="headerlink" title="lambdaæ•è·åˆ—è¡¨"></a>lambdaæ•è·åˆ—è¡¨</h4><table><thead><tr><th align="center">&ensp;</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">[]</td><td align="left">ç©ºæ•è·åˆ—è¡¨ã€‚lambdaä¸èƒ½ä½¿ç”¨æ‰€åœ¨å‡½æ•°ä¸­çš„å˜é‡ã€‚ä¸€ä¸ªlambdaåªæœ‰æ•è·å˜é‡åæ‰èƒ½ä½¿ç”¨å®ƒä»¬</td></tr><tr><td align="center">[names]</td><td align="left">namesæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„åå­—åˆ—è¡¨ï¼Œè¿™äº›åå­—éƒ½æ˜¯lambdaæ‰€åœ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•è·åˆ—è¡¨ä¸­çš„å˜é‡éƒ½è¢«æ‹·è´</td></tr><tr><td align="center">[&amp;]</td><td align="left">éšå¼æ•è·åˆ—è¡¨ï¼Œé‡‡ç”¨éšå¼æ•è·æ–¹å¼</td></tr><tr><td align="center">[=]</td><td align="left">éšå¼æ•è·åˆ—è¡¨ï¼Œé‡‡ç”¨å€¼æ•è·æ–¹å¼</td></tr><tr><td align="center">[&amp;, identifier_list]</td><td align="left">identifier_listæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„åˆ—è¡¨ï¼ŒåŒ…å«0ä¸ªæˆ–å¤šä¸ªæ¥è‡ªæ‰€åœ¨å‡½æ•°çš„å˜é‡ï¼Œè¿™äº›å˜é‡é‡‡ç”¨å€¼æ•è·æ–¹å¼ã€‚ä»»ä½•éšå¼æ•è·çš„å˜é‡éƒ½é‡‡ç”¨å¼•ç”¨æ–¹å¼æ•è·</td></tr><tr><td align="center">[=, identifier_list]</td><td align="left">identifier_listæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„åˆ—è¡¨ï¼ŒåŒ…å«0ä¸ªæˆ–å¤šä¸ªæ¥è‡ªæ‰€åœ¨å‡½æ•°çš„å˜é‡ï¼Œè¿™äº›å˜é‡é‡‡ç”¨å¼•ç”¨æ•è·æ–¹å¼ï¼Œä¸”å˜é‡åå­—å‰å¿…é¡»ä½¿ç”¨&amp;ã€‚ä»»ä½•éšå¼æ•è·çš„å˜é‡éƒ½é‡‡ç”¨å€¼æ–¹å¼æ•è·</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è£…é¥°å™¨--python</title>
      <link href="/2019/01/03/%E8%A3%85%E9%A5%B0%E5%99%A8-python/"/>
      <url>/2019/01/03/%E8%A3%85%E9%A5%B0%E5%99%A8-python/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="pythonè£…é¥°å™¨å›é¡¾"><a href="#pythonè£…é¥°å™¨å›é¡¾" class="headerlink" title="pythonè£…é¥°å™¨å›é¡¾"></a>pythonè£…é¥°å™¨å›é¡¾</h1><h2 id="è¿”å›å‡½æ•°"><a href="#è¿”å›å‡½æ•°" class="headerlink" title="è¿”å›å‡½æ•°"></a>è¿”å›å‡½æ•°</h2><p><img src="https://i.loli.net/2020/03/18/8MoeVXiUTxZzBEc.png" class="lazyload" data-srcset="https://i.loli.net/2020/03/18/8MoeVXiUTxZzBEc.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿”å›å‡½æ•°"></p><span id="more"></span><h2 id="ä»€ä¹ˆæ˜¯è£…é¥°å™¨"><a href="#ä»€ä¹ˆæ˜¯è£…é¥°å™¨" class="headerlink" title="ä»€ä¹ˆæ˜¯è£…é¥°å™¨"></a>ä»€ä¹ˆæ˜¯è£…é¥°å™¨</h2><blockquote><p>pythonè£…é¥°å™¨å°±æ˜¯ç”¨äºæ‹“å±•åŸæ¥å‡½æ•°åŠŸèƒ½çš„ä¸€ç§å‡½æ•°ï¼Œç›®çš„æ˜¯åœ¨ä¸æ”¹å˜åŸå‡½æ•°å®šä¹‰çš„æƒ…å†µä¸‹ï¼Œç»™å‡½æ•°å¢åŠ æ–°çš„åŠŸèƒ½ã€‚<br>è¿™ä¸ªå‡½æ•°çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒçš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯å†…åµŒâ€œåŸâ€å‡½æ•°çš„å‡½æ•°</p></blockquote><p>åœ¨ä»£ç è¿è¡ŒæœŸé—´åŠ¨æ€çš„å¢åŠ åŠŸèƒ½<br>è£…é¥°å™¨(decorator)æ˜¯ä¿®æ”¹å…¶å®ƒå‡½æ•°åŠŸèƒ½çš„å‡½æ•°,æ˜¯è¿”å›å‡½æ•°çš„é«˜é˜¶å‡½æ•°</p><h2 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">- è¿™æ˜¯ä¸€ä¸ªdecorator</span></span><br><span class="line"><span class="string">- ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°</span></span><br><span class="line"><span class="string">- å®ƒè¿”å›ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">a_new_decorator</span>(<span class="params">a_func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapTheFunction</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;I am doing some boring work before executing a_func()&quot;</span>)</span><br><span class="line">    a_func()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;I am doing some boring work after executing a_func()&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> wrapTheFunction</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;&#x27;&#x27;&#x27;</span></span><br><span class="line">- ä½¿ç”¨a_new_decoratorè£…é¥°a_function_requiring_decoration</span><br><span class="line">- @a_new_decorator ç­‰ä»·äº a_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="meta">@a_new_decorator</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">a_function_requiring_decoration</span>():</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I am the function which needs some decoration remove my foul smell&quot;</span>)</span><br><span class="line"></span><br><span class="line">a_function_requiring_decoration()</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ<br><img src="https://s2.ax1x.com/2019/01/02/FIyq7F.png" class="lazyload" data-srcset="https://s2.ax1x.com/2019/01/02/FIyq7F.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p><font color="red">@a_new_decorator ç­‰ä»·äº a_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)</font></p><p><strong>ä¸‹é¢è¿™æ®µç¨‹åºå’Œä¸Šé¢é‚£æ®µç­‰ä»·</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">a_new_decorator</span>(<span class="params">a_func</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapTheFunction</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;I am doing some boring work before executing a_func()&quot;</span>)</span><br><span class="line"></span><br><span class="line">        a_func()</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;I am doing some boring work after executing a_func()&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wrapTheFunction</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">a_function_requiring_decoration</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;I am the function which needs some decoration to remove my foul smell&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#a_function_requiring_decoration()</span></span><br><span class="line"><span class="comment">#outputs: &quot;I am the function which needs some decoration to remove my foul smell&quot;</span></span><br><span class="line"></span><br><span class="line">a_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)</span><br><span class="line"><span class="comment">#now a_function_requiring_decoration is wrapped by wrapTheFunction()</span></span><br><span class="line"></span><br><span class="line">a_function_requiring_decoration()</span><br><span class="line"><span class="comment">#outputs:I am doing some boring work before executing a_func()</span></span><br><span class="line"><span class="comment">#        I am the function which needs some decoration to remove my foul smell</span></span><br><span class="line"><span class="comment">#        I am doing some boring work after executing a_func()</span></span><br></pre></td></tr></table></figure><h3 id="åº”ç”¨ï¼šæ—¥å¿—æ‰“å°"><a href="#åº”ç”¨ï¼šæ—¥å¿—æ‰“å°" class="headerlink" title="åº”ç”¨ï¼šæ—¥å¿—æ‰“å°"></a>åº”ç”¨ï¼šæ—¥å¿—æ‰“å°</h3><p><img src="https://i.loli.net/2020/03/18/3glkurdZaIXUVWS.png" class="lazyload" data-srcset="https://i.loli.net/2020/03/18/3glkurdZaIXUVWS.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ—¥å¿—æ‰“å°"></p><p>åœ¨wrapå‡½æ•°å†…ï¼Œé¦–å…ˆæ‰“å°æ—¥å¿—ï¼Œå†è°ƒç”¨åŸå§‹å‡½æ•°*argsè¡¨ç¤ºä»»ä½•å¤šä¸ªæ— åå‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªtupleï¼›**kwargsè¡¨ç¤ºå…³é”®å­—å‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªdict</p><h2 id="PS"><a href="#PS" class="headerlink" title="PS"></a>PS</h2><p>å¯¹äºä¸Šé¢çš„demo</p><pre><code>&gt;&gt;&gt;print(a_function_requiring_decoration.__name__)#è¾“å‡ºç»“æœä¸ºwrapTheFunction</code></pre><p>æ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬å‡½æ•°çš„åå­—å’Œæ³¨é‡Šæ–‡æ¡£è¢«é‡å†™äº†<br>é¢„æœŸåº”è¯¥ä¸º<br>    a_function_requiring_decoration</p><p>ä½¿ç”¨functools.warpså¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜</p><p>ä¸Šé¢çš„demoåº”è¯¥è¿™æ ·å†™</p><p><img src="https://i.loli.net/2020/03/18/GjVxNM2FoZn17DH.png" class="lazyload" data-srcset="https://i.loli.net/2020/03/18/GjVxNM2FoZn17DH.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demoæ”¹å†™"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><p><a href="http://www.runoob.com/w3cnote/python-func-decorators.html">http://www.runoob.com/w3cnote/python-func-decorators.html</a></p></li><li><p><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014318435599930270c0381a3b44db991cd6d858064ac0000">https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014318435599930270c0381a3b44db991cd6d858064ac0000</a></p></li><li><p><a href="https://eastlakeside.gitbooks.io/interpy-zh/content/decorators/">https://eastlakeside.gitbooks.io/interpy-zh/content/decorators/</a></p></li><li><p><a href="https://www.cnblogs.com/yuzhanhong/p/9180212.html">https://www.cnblogs.com/yuzhanhong/p/9180212.html</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢æ­å»ºå‚è€ƒæ±‡æ€»</title>
      <link href="/2019/01/01/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%82%E8%80%83%E6%B1%87%E6%80%BB/"/>
      <url>/2019/01/01/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%82%E8%80%83%E6%B1%87%E6%80%BB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>ä»¥ä¸‹æ˜¯æˆ‘æ­å»ºåšå®¢å‚è€ƒçš„ä¸€äº›æ•™ç¨‹</p></blockquote><h1 id="hexoåšå®¢æ­å»ºæ•™ç¨‹"><a href="#hexoåšå®¢æ­å»ºæ•™ç¨‹" class="headerlink" title="hexoåšå®¢æ­å»ºæ•™ç¨‹"></a>hexoåšå®¢æ­å»ºæ•™ç¨‹</h1><p><a href="https://blog.csdn.net/gdutxiaoxu/article/details/53576018">https://blog.csdn.net/gdutxiaoxu/article/details/53576018</a></p><p><a href="https://m.w3cschool.cn/hexo_blog/hexo_blog-tvpu244e.html">https://m.w3cschool.cn/hexo_blog/hexo_blog-tvpu244e.html</a></p><p><a href="https://www.cnblogs.com/jackyroc/p/7681938.html">https://www.cnblogs.com/jackyroc/p/7681938.html</a></p><p><a href="https://blog.csdn.net/u010820857/article/details/82027535">https://blog.csdn.net/u010820857/article/details/82027535</a></p><h1 id="Yiliaä¸»é¢˜é…ç½®"><a href="#Yiliaä¸»é¢˜é…ç½®" class="headerlink" title="Yiliaä¸»é¢˜é…ç½®"></a>Yiliaä¸»é¢˜é…ç½®</h1><p><a href="https://github.com/litten/hexo-theme-yilia">https://github.com/litten/hexo-theme-yilia</a></p><p><a href="https://www.jianshu.com/p/517263426abd">https://www.jianshu.com/p/517263426abd</a></p><h1 id="404å…¬ç›Šé¡µé¢"><a href="#404å…¬ç›Šé¡µé¢" class="headerlink" title="404å…¬ç›Šé¡µé¢"></a>404å…¬ç›Šé¡µé¢</h1><p><a href="http://www.qq.com/404/">http://www.qq.com/404/</a></p><p><a href="https://blog.csdn.net/liu1340308350/article/details/81744824">https://blog.csdn.net/liu1340308350/article/details/81744824</a></p><h1 id="ä½¿ç”¨valineè¯„è®º"><a href="#ä½¿ç”¨valineè¯„è®º" class="headerlink" title="ä½¿ç”¨valineè¯„è®º"></a>ä½¿ç”¨valineè¯„è®º</h1><p><a href="https://panjunwen.com/diy-a-comment-system/">https://panjunwen.com/diy-a-comment-system/</a></p><p><a href="https://www.xxwhite.com/2017/Valine.html">https://www.xxwhite.com/2017/Valine.html</a></p><h2 id="valineå¤´åƒ"><a href="#valineå¤´åƒ" class="headerlink" title="valineå¤´åƒ"></a>valineå¤´åƒ</h2><p><a href="https://en.gravatar.com/emails?auto-applied=1">https://en.gravatar.com/emails?auto-applied=1</a></p><h1 id="ç‰ˆæƒè®¾ç½®"><a href="#ç‰ˆæƒè®¾ç½®" class="headerlink" title="ç‰ˆæƒè®¾ç½®"></a>ç‰ˆæƒè®¾ç½®</h1><p><a href="https://blog.zscself.com/2017/01/25/ee4d9ecb/">https://blog.zscself.com/2017/01/25/ee4d9ecb/</a></p><p><a href="http://tc9011.com/2017/02/02/hexo%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%E5%8F%8A%E4%B8%80%E4%BA%9B%E7%89%B9%E6%95%88/">http://tc9011.com/2017/02/02/hexo%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%E5%8F%8A%E4%B8%80%E4%BA%9B%E7%89%B9%E6%95%88/</a></p><h1 id="è®¿é—®é‡ç»Ÿè®¡"><a href="#è®¿é—®é‡ç»Ÿè®¡" class="headerlink" title="è®¿é—®é‡ç»Ÿè®¡"></a>è®¿é—®é‡ç»Ÿè®¡</h1><p><a href="https://blog.csdn.net/qq_40910541/article/details/80659193">https://blog.csdn.net/qq_40910541/article/details/80659193</a></p><p><a href="https://blog.csdn.net/zxlvxj/article/details/77720934">https://blog.csdn.net/zxlvxj/article/details/77720934</a></p><p><a href="https://ruider.github.io/2018/06/11/%E6%B7%BB%E5%8A%A0hexo-yilia%E4%B8%BB%E9%A2%98%E7%9A%84%E8%AE%BF%E9%97%AE%E6%95%B0%E9%87%8F/">https://ruider.github.io/2018/06/11/%E6%B7%BB%E5%8A%A0hexo-yilia%E4%B8%BB%E9%A2%98%E7%9A%84%E8%AE%BF%E9%97%AE%E6%95%B0%E9%87%8F/</a></p><p><a href="http://easydo.work/2017/10/26/hexo-yilia-page-view.html">http://easydo.work/2017/10/26/hexo-yilia-page-view.html</a></p><h1 id="åŸŸåç»‘å®š"><a href="#åŸŸåç»‘å®š" class="headerlink" title="åŸŸåç»‘å®š"></a>åŸŸåç»‘å®š</h1><p><a href="https://blog.csdn.net/yucicheung/article/details/79560027">https://blog.csdn.net/yucicheung/article/details/79560027</a></p><p><a href="https://www.jianshu.com/p/d92ea8542673?utm_campaign=haruki&utm_content=note&utm_medium=reader_share&utm_source=qq">https://www.jianshu.com/p/d92ea8542673?utm_campaign=haruki&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=qq</a></p><h1 id="æ·»åŠ ç›®å½•"><a href="#æ·»åŠ ç›®å½•" class="headerlink" title="æ·»åŠ ç›®å½•"></a>æ·»åŠ ç›®å½•</h1><p><a href="https://blog.csdn.net/u013082989/article/details/70212008">https://blog.csdn.net/u013082989/article/details/70212008</a></p><p><a href="http://lawlite.me/2017/04/17/Hexo-yilia%E4%B8%BB%E9%A2%98%E5%AE%9E%E7%8E%B0%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95%E5%92%8C%E6%B7%BB%E5%8A%A0%E8%A7%86%E9%A2%91/">http://lawlite.me/2017/04/17/Hexo-yilia%E4%B8%BB%E9%A2%98%E5%AE%9E%E7%8E%B0%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95%E5%92%8C%E6%B7%BB%E5%8A%A0%E8%A7%86%E9%A2%91/</a></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019ä½ å¥½</title>
      <link href="/2019/01/01/2019%E4%BD%A0%E5%A5%BD/"/>
      <url>/2019/01/01/2019%E4%BD%A0%E5%A5%BD/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><fancybox><img src="https://img.vim-cn.com/98/76b6778c92f439ecde44ca1ac3a26a035ef7f1.png" class="lazyload" data-srcset="https://img.vim-cn.com/98/76b6778c92f439ecde44ca1ac3a26a035ef7f1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="2019 new year"></fancybox></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡´æ•¬2018</title>
      <link href="/2018/12/31/%E8%87%B4%E6%95%AC2018/"/>
      <url>/2018/12/31/%E8%87%B4%E6%95%AC2018/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>åšå®¢ 2018 ä½¿ç”¨çš„å›¾åºŠ(imgur)å·²æŒ‚æ‰ï¼Œå¤§éƒ¨åˆ† 2018 å¹´çš„æ–‡ç« é…çš„å›¾éœ€è¦ä½¿ç”¨ proxy æ‰èƒ½çœ‹åˆ°</p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºTypechoæ­å»ºä¸ªäººåšå®¢</title>
      <link href="/2018/12/31/memory/"/>
      <url>/2018/12/31/memory/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>**æœ¬é¡µå›¾ç‰‡å·²æŒ‚ï¼Œéœ€è·¨è¶Š G-F?W **</p><h1 id="æ­å»ºä¾æ‰˜äºæˆ‘çš„ä¸ªäººæœåŠ¡å™¨çš„åšå®¢"><a href="#æ­å»ºä¾æ‰˜äºæˆ‘çš„ä¸ªäººæœåŠ¡å™¨çš„åšå®¢" class="headerlink" title="æ­å»ºä¾æ‰˜äºæˆ‘çš„ä¸ªäººæœåŠ¡å™¨çš„åšå®¢"></a>æ­å»ºä¾æ‰˜äºæˆ‘çš„ä¸ªäººæœåŠ¡å™¨çš„åšå®¢</h1><p>emmmã€‚ã€‚ã€‚ 2018å¹´12æœˆ24æ—¥0ç‚¹10åˆ†ï¼Œå¿½ç„¶è§‰å¾—æ— èŠï¼Œæ‰“å¼€æŸäº‘ï¼Œæ‰‹ä¸€è´±ç§Ÿäº†å°äº‘æœåŠ¡å™¨ï¼ˆ233~~~~ï¼‰ã€‚<br>å—¯ï¼Œæ—¢ç„¶éƒ½ç§Ÿäº†ï¼Œé‚£å°±å†æ¥ä¸ªåšå®¢å§ã€‚</p><h1 id="åŸºäºtypechoæ­å»ºçš„ä¸ªäººåšå®¢"><a href="#åŸºäºtypechoæ­å»ºçš„ä¸ªäººåšå®¢" class="headerlink" title="åŸºäºtypechoæ­å»ºçš„ä¸ªäººåšå®¢"></a>åŸºäºtypechoæ­å»ºçš„ä¸ªäººåšå®¢</h1><h1 id="å®å¡”é¢æ¿å®‰è£…"><a href="#å®å¡”é¢æ¿å®‰è£…" class="headerlink" title="å®å¡”é¢æ¿å®‰è£…"></a>å®å¡”é¢æ¿å®‰è£…</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install.sh &amp;&amp; sh install.sh</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/7k0eFLi.png" class="lazyload" data-srcset="https://i.imgur.com/7k0eFLi.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><p><img src="https://i.imgur.com/MLaYQzB.png" class="lazyload" data-srcset="https://i.imgur.com/MLaYQzB.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><h1 id="ç½‘ç«™æ­å»º"><a href="#ç½‘ç«™æ­å»º" class="headerlink" title="ç½‘ç«™æ­å»º"></a>ç½‘ç«™æ­å»º</h1><p>ç‚¹å‡»æ·»åŠ ï¼Œåˆ›å»ºç½‘ç«™</p><p><img src="https://i.imgur.com/rPTqZ0n.png" class="lazyload" data-srcset="https://i.imgur.com/rPTqZ0n.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><p><img src="https://i.imgur.com/dcCn02Y.png" class="lazyload" data-srcset="https://i.imgur.com/dcCn02Y.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><p>å—¯ï¼Œæ¥ä¸‹æ¥è®¿é—®è‡ªå·±åŸŸåï¼ˆå…¬ç½‘ipåœ°å€ï¼‰ï¼Œçœ‹çœ‹æ˜¯å¦åˆ›å»ºæˆåŠŸ</p><p><img src="https://i.imgur.com/iNutNVu.png" class="lazyload" data-srcset="https://i.imgur.com/iNutNVu.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><p>æ¥ä¸‹æ¥é…ç½®ä¼ªé™æ€è§„åˆ™</p><p><img src="https://i.imgur.com/oDZ2Kti.png" class="lazyload" data-srcset="https://i.imgur.com/oDZ2Kti.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><h1 id="å—¯ï¼Œæ¥ä¸‹æ¥æ­å»ºåšå®¢ï¼Œè¿™é‡Œä½¿ç”¨å®å¡”åå°æ— è„‘å®‰è£…-ä¸å¥½æ„æ€ï¼Œæˆ‘å¤ªèœ-è¿˜æ˜¯ç”¨å‘½ä»¤è¡Œæ“ä½œå§"><a href="#å—¯ï¼Œæ¥ä¸‹æ¥æ­å»ºåšå®¢ï¼Œè¿™é‡Œä½¿ç”¨å®å¡”åå°æ— è„‘å®‰è£…-ä¸å¥½æ„æ€ï¼Œæˆ‘å¤ªèœ-è¿˜æ˜¯ç”¨å‘½ä»¤è¡Œæ“ä½œå§" class="headerlink" title="å—¯ï¼Œæ¥ä¸‹æ¥æ­å»ºåšå®¢ï¼Œè¿™é‡Œä½¿ç”¨å®å¡”åå°æ— è„‘å®‰è£…(ä¸å¥½æ„æ€ï¼Œæˆ‘å¤ªèœ),è¿˜æ˜¯ç”¨å‘½ä»¤è¡Œæ“ä½œå§"></a>å—¯ï¼Œæ¥ä¸‹æ¥æ­å»ºåšå®¢ï¼Œ<del>è¿™é‡Œä½¿ç”¨å®å¡”åå°æ— è„‘å®‰è£…</del>(ä¸å¥½æ„æ€ï¼Œæˆ‘å¤ªèœ),è¿˜æ˜¯ç”¨å‘½ä»¤è¡Œæ“ä½œå§</h1><p><img src="https://i.imgur.com/M4TkXvL.png" class="lazyload" data-srcset="https://i.imgur.com/M4TkXvL.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><p>è®°å¾—å¡«å†™å¸¸ç”¨é‚®ç®±ã€ç®¡ç†å‘˜åå’Œå¯†ç </p><p><a href="http://typecho.org/download">http://typecho.org/download</a></p><p>å—¯ï¼Œæ¥ä¸‹æ¥è®¿é—®è‡ªå·±çš„åŸŸåå°±okäº†</p><p><img src="https://i.imgur.com/60Pwc6P.png" class="lazyload" data-srcset="https://i.imgur.com/60Pwc6P.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p><p>emmï¼Œæ˜¯ä¸æ˜¯å°‘äº†ä»€ä¹ˆï¼ŒSSLè¯ä¹¦æ²¡æœ‰ï¼Œå°‘äº†å°ç»¿é”</p><p>é‚£å°±å»ç”³è¯·å§</p><p><img src="https://i.imgur.com/VxD0APt.png" class="lazyload" data-srcset="https://i.imgur.com/VxD0APt.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"><br>ç«™ç‚¹ç®¡ç†ï¼Œè®¾ç½®</p><p>å› ä¸ºæˆ‘çš„webæœåŠ¡å™¨æ˜¯nigix</p><p><img src="https://i.imgur.com/W2Ld2PJ.png" class="lazyload" data-srcset="https://i.imgur.com/W2Ld2PJ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿æ€§è¡¨çš„é“¾å¼å­˜å‚¨-å•é“¾è¡¨</title>
      <link href="/2018/12/15/%E7%BA%BF%E6%80%A7%E8%A1%A8%E7%9A%84%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8-%E5%8D%95%E9%93%BE%E8%A1%A8/"/>
      <url>/2018/12/15/%E7%BA%BF%E6%80%A7%E8%A1%A8%E7%9A%84%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8-%E5%8D%95%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å•é“¾è¡¨æ“ä½œ"><a href="#å•é“¾è¡¨æ“ä½œ" class="headerlink" title="å•é“¾è¡¨æ“ä½œ"></a>å•é“¾è¡¨æ“ä½œ</h1><ul><li><input type="checkbox" checked disable> å•é“¾è¡¨çš„åˆ›å»ºï¼ˆå°¾æ’æ³•ã€å¤´æ’æ³•ï¼‰</li><li><input type="checkbox" checked disable> å•é“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œ</li><li><input type="checkbox" checked disable> å•é“¾è¡¨çš„åˆ é™¤æ“ä½œ</li><li><input type="checkbox" checked disable> å•é“¾è¡¨çš„é€†ç½®æ“ä½œ(ä½¿ç”¨å¤´æ’æ³•)</li><li><input type="checkbox" checked disable> å•é“¾è¡¨è¡¨é•¿çš„è®¡ç®—</li><li><input type="checkbox" checked disable> æ‰“å°å•é“¾è¡¨</li></ul><span id="more"></span><h2 id="å•é“¾è¡¨çš„åˆ›å»º"><a href="#å•é“¾è¡¨çš„åˆ›å»º" class="headerlink" title="å•é“¾è¡¨çš„åˆ›å»º"></a>å•é“¾è¡¨çš„åˆ›å»º</h2><h3 id="å¤´æ’æ³•"><a href="#å¤´æ’æ³•" class="headerlink" title="å¤´æ’æ³•"></a>å¤´æ’æ³•</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">forward_list* <span class="title function_">creat_3</span><span class="params">()</span>    <span class="comment">//å¤´æ’æ³•</span></span><br><span class="line">&#123;</span><br><span class="line">    forward_list *head,*s;</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line">head = <span class="literal">NULL</span>;<span class="comment">//é“¾è¡¨åˆå§‹çŠ¶æ€ä¸ºç©º</span></span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num) &amp;&amp; num)</span><br><span class="line">&#123;</span><br><span class="line">s = (forward_list*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(forward_list));</span><br><span class="line">s-&gt;data = num;</span><br><span class="line"></span><br><span class="line">s-&gt;next = head;</span><br><span class="line"></span><br><span class="line">head = s;<span class="comment">//å°†æ–°ç»“ç‚¹æ’å…¥åˆ°è¡¨å¤´</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°¾æ’æ³•ï¼ˆä¸å«å¤´ç»“ç‚¹ï¼‰"><a href="#å°¾æ’æ³•ï¼ˆä¸å«å¤´ç»“ç‚¹ï¼‰" class="headerlink" title="å°¾æ’æ³•ï¼ˆä¸å«å¤´ç»“ç‚¹ï¼‰"></a>å°¾æ’æ³•ï¼ˆä¸å«å¤´ç»“ç‚¹ï¼‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°¾æ’æ³•å»ºè¡¨</span></span><br><span class="line">forward_list* <span class="title function_">creat_1</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    forward_list *head=<span class="literal">NULL</span>;<span class="comment">//å¤´æŒ‡é’ˆï¼Œåˆå§‹çŠ¶æ€ä¸ºç©º</span></span><br><span class="line">forward_list *rear=<span class="literal">NULL</span>;<span class="comment">//å°¾æŒ‡é’ˆï¼Œåˆå§‹çŠ¶æ€ä¸ºç©º</span></span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line">forward_list *s;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num) == <span class="number">1</span> &amp;&amp; num)<span class="comment">//è¾“å…¥0ç»“æŸ</span></span><br><span class="line">&#123;</span><br><span class="line">s = (forward_list*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(forward_list));</span><br><span class="line"></span><br><span class="line">s-&gt;data = num;</span><br><span class="line"><span class="keyword">if</span>(head == <span class="literal">NULL</span>)<span class="comment">//å°†æ–°èŠ‚ç‚¹åŠ å…¥ç©ºè¡¨</span></span><br><span class="line">        head = s;</span><br><span class="line">    <span class="keyword">else</span>            <span class="comment">//åŸè¡¨éç©ºï¼Œå°†æ–°èŠ‚ç‚¹é“¾æ¥åˆ°è¡¨å°¾ä¹‹å</span></span><br><span class="line">        rear-&gt;next = s;</span><br><span class="line">rear = s;<span class="comment">//å°¾æŒ‡é’ˆæŒ‡å‘æ–°çš„è¡¨å°¾</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(rear!= <span class="literal">NULL</span>)<span class="comment">//å¯¹äºéç©ºè¡¨ï¼Œå°†å°¾ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ç½®ç©º</span></span><br><span class="line">    rear-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°¾æ’æ³•ï¼ˆå«å¤´ç»“ç‚¹ï¼‰"><a href="#å°¾æ’æ³•ï¼ˆå«å¤´ç»“ç‚¹ï¼‰" class="headerlink" title="å°¾æ’æ³•ï¼ˆå«å¤´ç»“ç‚¹ï¼‰"></a>å°¾æ’æ³•ï¼ˆå«å¤´ç»“ç‚¹ï¼‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°¾æ’æ³•å»ºè¡¨,åŒ…å«å¤´ç»“ç‚¹</span></span><br><span class="line">forward_list* <span class="title function_">creat_2</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *s;</span><br><span class="line">forward_list *head, *rear;</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"></span><br><span class="line">head = (forward_list*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(forward_list));</span><br><span class="line">rear = head;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num)==<span class="number">1</span> &amp;&amp; num)</span><br><span class="line">&#123;</span><br><span class="line">s = (forward_list*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(forward_list));</span><br><span class="line"></span><br><span class="line">s-&gt;data = num;</span><br><span class="line">    rear-&gt;next = s;</span><br><span class="line">rear = s;<span class="comment">//è¡¨æŒ‡é’ˆæŒ‡å‘æ–°çš„è¡¨å°¾</span></span><br><span class="line">&#125;</span><br><span class="line">rear-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å•é“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œ"><a href="#å•é“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œ" class="headerlink" title="å•é“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œ"></a>å•é“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œ</h2><h3 id="æŒ‰å€¼æŸ¥æ‰¾"><a href="#æŒ‰å€¼æŸ¥æ‰¾" class="headerlink" title="æŒ‰å€¼æŸ¥æ‰¾"></a>æŒ‰å€¼æŸ¥æ‰¾</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">search_1</span><span class="params">(forward_list *s, <span class="type">int</span> x)</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *p;</span><br><span class="line">p = s;</span><br><span class="line"><span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(p-&gt;data == x)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nthe value : %d is exist !\n&quot;</span>,x);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nthe value : %d is not fonud !\n&quot;</span>,x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‰å€¼æŸ¥æ‰¾ï¼ˆåŒ…å«å¤´ç»“ç‚¹ï¼‰"><a href="#æŒ‰å€¼æŸ¥æ‰¾ï¼ˆåŒ…å«å¤´ç»“ç‚¹ï¼‰" class="headerlink" title="æŒ‰å€¼æŸ¥æ‰¾ï¼ˆåŒ…å«å¤´ç»“ç‚¹ï¼‰"></a>æŒ‰å€¼æŸ¥æ‰¾ï¼ˆåŒ…å«å¤´ç»“ç‚¹ï¼‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">search_2</span><span class="params">(forward_list *s, <span class="type">int</span> x)</span><span class="comment">//å¸¦å¤´èŠ‚ç‚¹</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *p;</span><br><span class="line">p = s-&gt;next;<span class="comment">//emmmm</span></span><br><span class="line"><span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(p-&gt;data == x)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nthe value : %d is exist !\n&quot;</span>,x);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nthe value : %d is not fonud !\n&quot;</span>,x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å•é“¾è¡¨çš„åˆ é™¤æ“ä½œ"><a href="#å•é“¾è¡¨çš„åˆ é™¤æ“ä½œ" class="headerlink" title="å•é“¾è¡¨çš„åˆ é™¤æ“ä½œ"></a>å•é“¾è¡¨çš„åˆ é™¤æ“ä½œ</h2><h3 id="æŒ‰ç»™å®šç»“ç‚¹çš„ä½ç½®åˆ é™¤ï¼ˆå¸¦å¤´ç»“ç‚¹ï¼‰"><a href="#æŒ‰ç»™å®šç»“ç‚¹çš„ä½ç½®åˆ é™¤ï¼ˆå¸¦å¤´ç»“ç‚¹ï¼‰" class="headerlink" title="æŒ‰ç»™å®šç»“ç‚¹çš„ä½ç½®åˆ é™¤ï¼ˆå¸¦å¤´ç»“ç‚¹ï¼‰"></a>æŒ‰ç»™å®šç»“ç‚¹çš„ä½ç½®åˆ é™¤ï¼ˆå¸¦å¤´ç»“ç‚¹ï¼‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">delete_1</span><span class="params">(forward_list *head,<span class="type">int</span> i)</span>        <span class="comment">//åˆ é™¤ç¬¬iä¸ªèŠ‚ç‚¹(å•é“¾è¡¨åŒ…å«å¤´èŠ‚ç‚¹)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line">forward_list *p,*q;</span><br><span class="line">p=head;</span><br><span class="line">j=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((p-&gt;next!=<span class="literal">NULL</span>)&amp;&amp;(j&lt;i<span class="number">-1</span>))</span><br><span class="line">&#123;</span><br><span class="line">p=p-&gt;next;</span><br><span class="line">j++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(p-&gt;next!=<span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">q=p-&gt;next;</span><br><span class="line">p-&gt;next=p-&gt;next-&gt;next;</span><br><span class="line"><span class="built_in">free</span>(q);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;illegal delete position,delete failed!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‰ç…§æŒ‡å®šå€¼åˆ é™¤ç»“ç‚¹-ä¸å¸¦å¤´ç»“ç‚¹"><a href="#æŒ‰ç…§æŒ‡å®šå€¼åˆ é™¤ç»“ç‚¹-ä¸å¸¦å¤´ç»“ç‚¹" class="headerlink" title="æŒ‰ç…§æŒ‡å®šå€¼åˆ é™¤ç»“ç‚¹(ä¸å¸¦å¤´ç»“ç‚¹)"></a>æŒ‰ç…§æŒ‡å®šå€¼åˆ é™¤ç»“ç‚¹(ä¸å¸¦å¤´ç»“ç‚¹)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">forward_list_delete_1</span><span class="params">(forward_list *s,<span class="type">int</span> x)</span><span class="comment">//åˆ é™¤é“¾è¡¨ï¼ˆä¸å¸¦å¤´èŠ‚ç‚¹ï¼‰ä¸­æŒ‡å®šå€¼çš„å…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line">    forward_list *p;</span><br><span class="line">    forward_list *temp;<span class="comment">//ç”¨æ¥å­˜æ”¾è¢«åˆ é™¤å…ƒç´ çš„å‰ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">p = s;</span><br><span class="line"><span class="keyword">if</span>(x == p-&gt;data)</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line"></span><br><span class="line">temp = p;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;data == x)</span><br><span class="line">&#123;</span><br><span class="line">            temp-&gt;next = p-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(p);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">temp = p;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nä½ è¦åˆ é™¤çš„å…ƒç´  %d ä¸åœ¨è¡¨ä¸­\n&quot;</span>,x);</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å•é“¾è¡¨çš„é€†ç½®"><a href="#å•é“¾è¡¨çš„é€†ç½®" class="headerlink" title="å•é“¾è¡¨çš„é€†ç½®"></a>å•é“¾è¡¨çš„é€†ç½®</h2><h3 id="å¤´æ’æ³•é€†ç½®-å¸¦å¤´ç»“ç‚¹"><a href="#å¤´æ’æ³•é€†ç½®-å¸¦å¤´ç»“ç‚¹" class="headerlink" title="å¤´æ’æ³•é€†ç½®(å¸¦å¤´ç»“ç‚¹)"></a>å¤´æ’æ³•é€†ç½®(å¸¦å¤´ç»“ç‚¹)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">reverse_2</span><span class="params">(forward_list *head)</span><span class="comment">//å¤´æ’æ³•é€†ç½®,å¸¦å¤´èŠ‚ç‚¹</span></span><br><span class="line">&#123;</span><br><span class="line">    forward_list *p,*q;</span><br><span class="line">    p=head-&gt;next;</span><br><span class="line">    head-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(p)</span><br><span class="line">    &#123;</span><br><span class="line">        q=p;</span><br><span class="line">        p=p-&gt;next;</span><br><span class="line">        q-&gt;next=head-&gt;next;</span><br><span class="line">        head-&gt;next=q;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¡ç®—å•é“¾è¡¨çš„è¡¨é•¿"><a href="#è®¡ç®—å•é“¾è¡¨çš„è¡¨é•¿" class="headerlink" title="è®¡ç®—å•é“¾è¡¨çš„è¡¨é•¿"></a>è®¡ç®—å•é“¾è¡¨çš„è¡¨é•¿</h2><p>*** å¸¦å¤´ç»“ç‚¹ ***</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">list_length_2</span><span class="params">(forward_list *s)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> count;</span><br><span class="line">forward_list *p=s-&gt;next;</span><br><span class="line"><span class="keyword">while</span>(p)</span><br><span class="line">&#123;</span><br><span class="line">count++;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nlist length: %d\n&quot;</span>,count);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*** ä¸å¸¦å¤´ç»“ç‚¹ ***</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">list_length_1</span><span class="params">(forward_list *s)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> count;</span><br><span class="line">forward_list *p=s;</span><br><span class="line"><span class="keyword">while</span>(p)</span><br><span class="line">&#123;</span><br><span class="line">count++;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nlist length: %d\n&quot;</span>,count);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‰“å°å•é“¾è¡¨"><a href="#æ‰“å°å•é“¾è¡¨" class="headerlink" title="æ‰“å°å•é“¾è¡¨"></a>æ‰“å°å•é“¾è¡¨</h2><p>*** å¸¦å¤´ç»“ç‚¹ ***</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">print_forward_list_2</span><span class="params">(forward_list *s)</span><span class="comment">//æ‰“å°å«å¤´èŠ‚ç‚¹çš„å•é“¾è¡¨</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *p;</span><br><span class="line">p = s-&gt;next;<span class="comment">//å› ä¸ºå«æœ‰å¤´èŠ‚ç‚¹ï¼Œhead-&gt;dataçš„æ•°æ®åŸŸçš„æ•°æ®æœªçŸ¥</span></span><br><span class="line"><span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%-3d&quot;</span>,p-&gt;data);</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*** ä¸å¸¦å¤´ç»“ç‚¹ ***</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">print_forward_list_1</span><span class="params">(forward_list *s)</span><span class="comment">//æ‰“å°å•é“¾è¡¨</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *p;</span><br><span class="line">p = s;</span><br><span class="line"><span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%4d&quot;</span>,p-&gt;data);</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="è¯•è¯•"><a href="#è¯•è¯•" class="headerlink" title="è¯•è¯•"></a>è¯•è¯•</h1><h2 id="æºç¨‹åº"><a href="#æºç¨‹åº" class="headerlink" title="æºç¨‹åº"></a>æºç¨‹åº</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰å•é“¾è¡¨ç»“ç‚¹ç±»å‹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="type">int</span> data;                         <span class="comment">//ç»“ç‚¹æ•°æ®åŸŸ</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span>                <span class="comment">//ç»“ç‚¹æŒ‡é’ˆåŸŸ</span></span><br><span class="line"></span><br><span class="line">&#125;forward_list;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°¾æ’æ³•å»ºè¡¨</span></span><br><span class="line">forward_list* <span class="title function_">creat_1</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    forward_list *head=<span class="literal">NULL</span>;<span class="comment">//å¤´æŒ‡é’ˆï¼Œåˆå§‹çŠ¶æ€ä¸ºç©º</span></span><br><span class="line">forward_list *rear=<span class="literal">NULL</span>;<span class="comment">//å°¾æŒ‡é’ˆï¼Œåˆå§‹çŠ¶æ€ä¸ºç©º</span></span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line">forward_list *s;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num) == <span class="number">1</span> &amp;&amp; num)<span class="comment">//è¾“å…¥0ç»“æŸ</span></span><br><span class="line">&#123;</span><br><span class="line">s = (forward_list*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(forward_list));</span><br><span class="line"></span><br><span class="line">s-&gt;data = num;</span><br><span class="line"><span class="keyword">if</span>(head == <span class="literal">NULL</span>)<span class="comment">//å°†æ–°èŠ‚ç‚¹åŠ å…¥ç©ºè¡¨</span></span><br><span class="line">        head = s;</span><br><span class="line">    <span class="keyword">else</span>            <span class="comment">//åŸè¡¨éç©ºï¼Œå°†æ–°èŠ‚ç‚¹é“¾æ¥åˆ°è¡¨å°¾ä¹‹å</span></span><br><span class="line">        rear-&gt;next = s;</span><br><span class="line">rear = s;<span class="comment">//å°¾æŒ‡é’ˆæŒ‡å‘æ–°çš„è¡¨å°¾</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(rear!= <span class="literal">NULL</span>)<span class="comment">//å¯¹äºéç©ºè¡¨ï¼Œå°†å°¾ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ç½®ç©º</span></span><br><span class="line">    rear-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°¾æ’æ³•å»ºè¡¨,åŒ…å«å¤´ç»“ç‚¹</span></span><br><span class="line">forward_list* <span class="title function_">creat_2</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *s;</span><br><span class="line">forward_list *head, *rear;</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"></span><br><span class="line">head = (forward_list*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(forward_list));</span><br><span class="line">rear = head;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num)==<span class="number">1</span> &amp;&amp; num)</span><br><span class="line">&#123;</span><br><span class="line">s = (forward_list*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(forward_list));</span><br><span class="line"></span><br><span class="line">s-&gt;data = num;</span><br><span class="line">    rear-&gt;next = s;</span><br><span class="line">rear = s;<span class="comment">//è¡¨æŒ‡é’ˆæŒ‡å‘æ–°çš„è¡¨å°¾</span></span><br><span class="line">&#125;</span><br><span class="line">rear-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">forward_list* <span class="title function_">creat_3</span><span class="params">()</span>    <span class="comment">//å¤´æ’æ³•</span></span><br><span class="line">&#123;</span><br><span class="line">    forward_list *head,*s;</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line">head = <span class="literal">NULL</span>;<span class="comment">//é“¾è¡¨åˆå§‹çŠ¶æ€ä¸ºç©º</span></span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num) &amp;&amp; num)</span><br><span class="line">&#123;</span><br><span class="line">s = (forward_list*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(forward_list));</span><br><span class="line">s-&gt;data = num;</span><br><span class="line"></span><br><span class="line">s-&gt;next = head;</span><br><span class="line"></span><br><span class="line">head = s;<span class="comment">//å°†æ–°ç»“ç‚¹æ’å…¥åˆ°è¡¨å¤´</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">search_1</span><span class="params">(forward_list *s, <span class="type">int</span> x)</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *p;</span><br><span class="line">p = s;</span><br><span class="line"><span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(p-&gt;data == x)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nthe value : %d is exist !\n&quot;</span>,x);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nthe value : %d is not fonud !\n&quot;</span>,x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">search_2</span><span class="params">(forward_list *s, <span class="type">int</span> x)</span><span class="comment">//å¸¦å¤´èŠ‚ç‚¹</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *p;</span><br><span class="line">p = s-&gt;next;<span class="comment">//emmmm</span></span><br><span class="line"><span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(p-&gt;data == x)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nthe value : %d is exist !\n&quot;</span>,x);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nthe value : %d is not fonud !\n&quot;</span>,x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">reverse_1</span><span class="params">(forward_list *head)</span><span class="comment">//å¤´æ’æ³•é€†ç½®å•é“¾è¡¨</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *p;</span><br><span class="line">forward_list *temp;</span><br><span class="line"></span><br><span class="line">p = head;<span class="comment">//å­˜å¥½ä¹‹å‰çš„å•é“¾è¡¨</span></span><br><span class="line"><span class="comment">//printf(&quot;\n%d\n&quot;,p-&gt;data);</span></span><br><span class="line">head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">while</span>(p)</span><br><span class="line">&#123;</span><br><span class="line">    temp = p;</span><br><span class="line">    <span class="comment">//printf(&quot;1&quot;);</span></span><br><span class="line">    p = p-&gt;next;</span><br><span class="line">    temp-&gt;next = head-&gt;next;</span><br><span class="line">head = temp;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n%d\n&quot;</span>,head-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">reverse_2</span><span class="params">(forward_list *head)</span><span class="comment">//å¤´æ’æ³•é€†ç½®,å¸¦å¤´èŠ‚ç‚¹</span></span><br><span class="line">&#123;</span><br><span class="line">    forward_list *p,*q;</span><br><span class="line">    p=head-&gt;next;</span><br><span class="line">    head-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(p)</span><br><span class="line">    &#123;</span><br><span class="line">        q=p;</span><br><span class="line">        p=p-&gt;next;</span><br><span class="line">        q-&gt;next=head-&gt;next;</span><br><span class="line">        head-&gt;next=q;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">forward_list_delete_1</span><span class="params">(forward_list *s,<span class="type">int</span> x)</span><span class="comment">//åˆ é™¤é“¾è¡¨ï¼ˆä¸å¸¦å¤´èŠ‚ç‚¹ï¼‰ä¸­æŒ‡å®šå€¼çš„å…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line">    forward_list *p;</span><br><span class="line">    forward_list *temp;<span class="comment">//ç”¨æ¥å­˜æ”¾è¢«åˆ é™¤å…ƒç´ çš„å‰ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">p = s;</span><br><span class="line"><span class="keyword">if</span>(x == p-&gt;data)</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line"></span><br><span class="line">temp = p;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;data == x)</span><br><span class="line">&#123;</span><br><span class="line">            temp-&gt;next = p-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(p);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">temp = p;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nä½ è¦åˆ é™¤çš„å…ƒç´  %d ä¸åœ¨è¡¨ä¸­\n&quot;</span>,x);</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delete_1</span><span class="params">(forward_list *head,<span class="type">int</span> i)</span>        <span class="comment">//åˆ é™¤ç¬¬iä¸ªèŠ‚ç‚¹(å•é“¾è¡¨åŒ…å«å¤´èŠ‚ç‚¹)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line">forward_list *p,*q;</span><br><span class="line">p=head;</span><br><span class="line">j=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((p-&gt;next!=<span class="literal">NULL</span>)&amp;&amp;(j&lt;i<span class="number">-1</span>))</span><br><span class="line">&#123;</span><br><span class="line">p=p-&gt;next;</span><br><span class="line">j++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(p-&gt;next!=<span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">q=p-&gt;next;</span><br><span class="line">p-&gt;next=p-&gt;next-&gt;next;</span><br><span class="line"><span class="built_in">free</span>(q);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;illegal delete position,delete failed!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*//ä¸å¯¹</span></span><br><span class="line"><span class="comment">void list_delete(forward_list *s, int i)//åˆ é™¤å•é“¾è¡¨(ä¸å¸¦å¤´èŠ‚ç‚¹)çš„ç¬¬iä¸ªç»“ç‚¹</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    int count=1;</span></span><br><span class="line"><span class="comment">forward_list *p,*q;</span></span><br><span class="line"><span class="comment">p=s;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//å°†pç§»åŠ¨åˆ°è¢«åˆ é™¤ç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">while((p!=NULL)&amp;&amp;(count&lt;i-1))</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">p=p-&gt;next;</span></span><br><span class="line"><span class="comment">count++;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">if(i == count)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">q = p;</span></span><br><span class="line"><span class="comment">p = p-&gt;next;</span></span><br><span class="line"><span class="comment">free(q);</span></span><br><span class="line"><span class="comment">return ;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">   if(p-&gt;next!=NULL)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">q=p-&gt;next;</span></span><br><span class="line"><span class="comment">p-&gt;next=p-&gt;next-&gt;next;</span></span><br><span class="line"><span class="comment">free(q);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">else</span></span><br><span class="line"><span class="comment">printf(&quot;illegal delete position,delete failed!&quot;);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">list_length_1</span><span class="params">(forward_list *s)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> count;</span><br><span class="line">forward_list *p=s;</span><br><span class="line"><span class="keyword">while</span>(p)</span><br><span class="line">&#123;</span><br><span class="line">count++;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nlist length: %d\n&quot;</span>,count);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">list_length_2</span><span class="params">(forward_list *s)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> count;</span><br><span class="line">forward_list *p=s-&gt;next;</span><br><span class="line"><span class="keyword">while</span>(p)</span><br><span class="line">&#123;</span><br><span class="line">count++;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nlist length: %d\n&quot;</span>,count);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_forward_list_1</span><span class="params">(forward_list *s)</span><span class="comment">//æ‰“å°å•é“¾è¡¨</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *p;</span><br><span class="line">p = s;</span><br><span class="line"><span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%4d&quot;</span>,p-&gt;data);</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_forward_list_2</span><span class="params">(forward_list *s)</span><span class="comment">//æ‰“å°å«å¤´èŠ‚ç‚¹çš„å•é“¾è¡¨</span></span><br><span class="line">&#123;</span><br><span class="line">forward_list *p;</span><br><span class="line">p = s-&gt;next;<span class="comment">//å› ä¸ºå«æœ‰å¤´èŠ‚ç‚¹ï¼Œhead-&gt;dataçš„æ•°æ®åŸŸçš„æ•°æ®æœªçŸ¥</span></span><br><span class="line"><span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%-3d&quot;</span>,p-&gt;data);</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/*ä¸å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨*/</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ä½¿ç”¨ä¸å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨:\n&quot;</span>);</span><br><span class="line">forward_list *p;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;å°¾æ’æ³•å»ºè¡¨:\n&quot;</span>);</span><br><span class="line">p = creat_1();<span class="comment">//å°¾æ’æ³•å»ºè¡¨</span></span><br><span class="line">print_forward_list_1(p);</span><br><span class="line">list_length_1(p);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å€¼ä¸º6çš„ç»“ç‚¹</span></span><br><span class="line">search_1(p,<span class="number">6</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nåˆ äº†ä¸ª5åï¼Œè¡¨å˜ä¸º\n&quot;</span>);</span><br><span class="line">forward_list_delete_1(p,<span class="number">5</span>);</span><br><span class="line">print_forward_list_1(p);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤´æ’æ³•å»ºè¡¨</span></span><br><span class="line">forward_list *s;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nå¤´æ’æ³•å»ºè¡¨:\n&quot;</span>);</span><br><span class="line">s = creat_3();</span><br><span class="line">print_forward_list_1(s);</span><br><span class="line">list_length_1(s);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨*/</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n\nä½¿ç”¨å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨:\n&quot;</span>);</span><br><span class="line">forward_list *t;</span><br><span class="line">t = creat_2();</span><br><span class="line">print_forward_list_2(t);</span><br><span class="line"></span><br><span class="line">search_2(t,<span class="number">6</span>);</span><br><span class="line">list_length_2(t);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\né€†ç½®:\n&quot;</span>);</span><br><span class="line">reverse_2(t);</span><br><span class="line">print_forward_list_2(t);</span><br><span class="line">list_length_2(t);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h2><p><img src="https://i.imgur.com/ZqNga3h.png" class="lazyload" data-srcset="https://i.imgur.com/ZqNga3h.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿æ€§è¡¨ä¹‹é¡ºåºå­˜å‚¨-é¡ºåºè¡¨</title>
      <link href="/2018/12/14/%E7%BA%BF%E6%80%A7%E8%A1%A8%E4%B9%8B%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8-%E9%A1%BA%E5%BA%8F%E8%A1%A8/"/>
      <url>/2018/12/14/%E7%BA%BF%E6%80%A7%E8%A1%A8%E4%B9%8B%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8-%E9%A1%BA%E5%BA%8F%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="é¡ºåºè¡¨çš„æ“ä½œ"><a href="#é¡ºåºè¡¨çš„æ“ä½œ" class="headerlink" title="é¡ºåºè¡¨çš„æ“ä½œ"></a>é¡ºåºè¡¨çš„æ“ä½œ</h1><ul><li><input type="checkbox" checked disable> å‘æœ‰åºé¡ºåºè¡¨æ’å…¥ä¸€ä¸ªå…ƒç´ </li><li><input type="checkbox" checked disable> é¡ºåºè¡¨çš„å†’æ³¡æ’åº</li><li><input type="checkbox" checked disable> é¡ºåºè¡¨çš„åˆ é™¤æ“ä½œ</li><li><input type="checkbox" checked disable> é¡ºåºè¡¨ä¸­å…ƒç´ çš„æŸ¥æ‰¾</li><li><input type="checkbox" checked disable> é¡ºåºè¡¨çš„é€†ç½®</li><li><input type="checkbox" checked disable> åˆ é™¤é¡ºåºè¡¨ä¸­çš„ç›¸åŒå…ƒç´ </li><li><input type="checkbox" checked disable> å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ </li><li><input type="checkbox" checked disable> æ‰“å°é¡ºåºè¡¨</li></ul><span id="more"></span><h2 id="é¡ºåºè¡¨çš„å­˜å‚¨ç»“æ„"><a href="#é¡ºåºè¡¨çš„å­˜å‚¨ç»“æ„" class="headerlink" title="é¡ºåºè¡¨çš„å­˜å‚¨ç»“æ„"></a>é¡ºåºè¡¨çš„å­˜å‚¨ç»“æ„</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> maxsize 100        <span class="comment">//å­˜å‚¨ç©ºé—´çš„åˆ†é…é‡</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰é¡ºåºè¡¨æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line"><span class="type">int</span> data[maxsize];</span><br><span class="line"><span class="type">int</span> last;              <span class="comment">//å­˜æ”¾è¡¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line">&#125;sequenlist;</span><br></pre></td></tr></table></figure><h2 id="é¡ºåºè¡¨çš„å†’æ³¡æ’åº"><a href="#é¡ºåºè¡¨çš„å†’æ³¡æ’åº" class="headerlink" title="é¡ºåºè¡¨çš„å†’æ³¡æ’åº"></a>é¡ºåºè¡¨çš„å†’æ³¡æ’åº</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">list_bubble_sort</span><span class="params">(sequenlist *p)</span><span class="comment">//max to min</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt; p-&gt;last; i++)<span class="comment">//attention</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>; j&lt; p-&gt;last-i; j++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;data[j] &lt; p-&gt;data[j+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            temp = p-&gt;data[j];</span><br><span class="line">p-&gt;data[j] = p-&gt;data[j+<span class="number">1</span>];</span><br><span class="line">p-&gt;data[j+<span class="number">1</span>] = temp;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¡ºåºè¡¨çš„åˆ é™¤æ“ä½œ"><a href="#é¡ºåºè¡¨çš„åˆ é™¤æ“ä½œ" class="headerlink" title="é¡ºåºè¡¨çš„åˆ é™¤æ“ä½œ"></a>é¡ºåºè¡¨çš„åˆ é™¤æ“ä½œ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">nt <span class="title function_">delete_1</span><span class="params">(sequenlist *s,<span class="type">int</span> del)</span> <span class="comment">//åˆ é™¤å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt;= s-&gt;last; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(del == s-&gt;data[i])</span><br><span class="line">&#123;</span><br><span class="line">temp = i;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j=i; j&lt;s-&gt;last; j++)</span><br><span class="line">&#123;</span><br><span class="line">s-&gt;data[j] = s-&gt;data[j+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">s-&gt;last = s-&gt;last - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//åˆ é™¤ç¬¬ä¸€ä¸ªä¸delç›¸åŒçš„å…ƒç´ ï¼Œå‡½æ•°ç»“æŸ</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¦åˆ çš„é‚£ä¸ªå…ƒç´ ä¸åœ¨è¡¨ä¸­</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;the element you want to delete is not in the sequenlist!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¡ºåºè¡¨ä¸­å…ƒç´ çš„æŸ¥æ‰¾"><a href="#é¡ºåºè¡¨ä¸­å…ƒç´ çš„æŸ¥æ‰¾" class="headerlink" title="é¡ºåºè¡¨ä¸­å…ƒç´ çš„æŸ¥æ‰¾"></a>é¡ºåºè¡¨ä¸­å…ƒç´ çš„æŸ¥æ‰¾</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">search</span><span class="params">(sequenlist *s,<span class="type">int</span> key)</span>    <span class="comment">//æŸ¥æ‰¾å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;= s-&gt;last; i++)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(key == s-&gt;data[i])</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;exist !\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;not found !\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¡ºåºè¡¨çš„é€†ç½®"><a href="#é¡ºåºè¡¨çš„é€†ç½®" class="headerlink" title="é¡ºåºè¡¨çš„é€†ç½®"></a>é¡ºåºè¡¨çš„é€†ç½®</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">reverse</span><span class="params">(sequenlist *s)</span><span class="comment">//é€†ç½®å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="type">int</span> last_temp = s-&gt;last;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;= s-&gt;last/<span class="number">2</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">temp = s-&gt;data[i];</span><br><span class="line">        s-&gt;data[i] = s-&gt;data[last_temp];</span><br><span class="line">s-&gt;data[last_temp] = temp;</span><br><span class="line">    last_temp--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤é¡ºåºè¡¨ä¸­çš„ç›¸åŒå…ƒç´ "><a href="#åˆ é™¤é¡ºåºè¡¨ä¸­çš„ç›¸åŒå…ƒç´ " class="headerlink" title="åˆ é™¤é¡ºåºè¡¨ä¸­çš„ç›¸åŒå…ƒç´ "></a>åˆ é™¤é¡ºåºè¡¨ä¸­çš„ç›¸åŒå…ƒç´ </h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">delete_same</span><span class="params">(sequenlist *s)</span><span class="comment">//åˆ é™¤è¡¨ä¸­ç›¸åŒçš„å…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i,j;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;=s-&gt;last; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>; j&lt;=s-&gt;last; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(s-&gt;data[j] == s-&gt;data[i])<span class="comment">//å…ƒç´ ç›¸åŒ</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k=j; k&lt;s-&gt;last; k++)</span><br><span class="line">&#123;</span><br><span class="line">s-&gt;data[k] = s-&gt;data[k+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">s-&gt;last = s-&gt;last - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ "><a href="#å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ " class="headerlink" title="å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ "></a>å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ </h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">insert</span><span class="params">(sequenlist *L,<span class="type">int</span> i,<span class="type">int</span> x)</span> <span class="comment">//æŒ‡å®šä½ç½®,æ’å…¥</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> j;</span><br><span class="line"><span class="keyword">if</span>(((*L).last) &gt;= maxsize<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;the list is overflow!\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>((i&lt;<span class="number">1</span>)||(i&gt;(*L).last+<span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;position is not correct!\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(j=(*L).last;j&gt;=i<span class="number">-1</span>;j--)</span><br><span class="line">&#123;</span><br><span class="line">(*L).data[j+<span class="number">1</span>]=(*L).data[j];</span><br><span class="line">&#125;</span><br><span class="line">(*L).last=(*L).last+<span class="number">1</span>;</span><br><span class="line">(*L).data[i<span class="number">-1</span>]=x;</span><br><span class="line"><span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ -1"><a href="#å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ -1" class="headerlink" title="å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ "></a>å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ </h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">insert</span><span class="params">(sequenlist *L,<span class="type">int</span> i,<span class="type">int</span> x)</span> <span class="comment">//æŒ‡å®šä½ç½®,æ’å…¥</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> j;</span><br><span class="line"><span class="keyword">if</span>(((*L).last) &gt;= maxsize<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;the list is overflow!\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>((i&lt;<span class="number">1</span>)||(i&gt;(*L).last+<span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;position is not correct!\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(j=(*L).last;j&gt;=i<span class="number">-1</span>;j--)</span><br><span class="line">&#123;</span><br><span class="line">(*L).data[j+<span class="number">1</span>]=(*L).data[j];</span><br><span class="line">&#125;</span><br><span class="line">(*L).last=(*L).last+<span class="number">1</span>;</span><br><span class="line">(*L).data[i<span class="number">-1</span>]=x;</span><br><span class="line"><span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‰“å°é¡ºåºè¡¨"><a href="#æ‰“å°é¡ºåºè¡¨" class="headerlink" title="æ‰“å°é¡ºåºè¡¨"></a>æ‰“å°é¡ºåºè¡¨</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">print_list</span><span class="params">(sequenlist *s)</span>   <span class="comment">//æ‰“å°é¡ºåºè¡¨</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;=s-&gt;last; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%3d&quot;</span>,s-&gt;data[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="è¯•ç€ç…²ä¸‹æ±¤"><a href="#è¯•ç€ç…²ä¸‹æ±¤" class="headerlink" title="è¯•ç€ç…²ä¸‹æ±¤"></a>è¯•ç€ç…²ä¸‹æ±¤</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* author: shansan.top</span></span><br><span class="line"><span class="comment">* date: 2018/12/12</span></span><br><span class="line"><span class="comment">* version: 1.0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxsize 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰é¡ºåºè¡¨æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line"><span class="type">int</span> data[maxsize];</span><br><span class="line"><span class="type">int</span> last;</span><br><span class="line">&#125;sequenlist;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">search</span><span class="params">(sequenlist *s,<span class="type">int</span> key)</span>    <span class="comment">//æŸ¥æ‰¾å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;= s-&gt;last; i++)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(key == s-&gt;data[i])</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;exist !\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;not found !\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">delete_1</span><span class="params">(sequenlist *s,<span class="type">int</span> del)</span> <span class="comment">//åˆ é™¤å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt;= s-&gt;last; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(del == s-&gt;data[i])</span><br><span class="line">&#123;</span><br><span class="line">temp = i;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j=i; j&lt;s-&gt;last; j++)</span><br><span class="line">&#123;</span><br><span class="line">s-&gt;data[j] = s-&gt;data[j+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">s-&gt;last = s-&gt;last - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//åˆ é™¤ç¬¬ä¸€ä¸ªä¸delç›¸åŒçš„å…ƒç´ ï¼Œå‡½æ•°ç»“æŸ</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¦åˆ çš„é‚£ä¸ªå…ƒç´ ä¸åœ¨è¡¨ä¸­</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;the element you want to delete is not in the sequenlist!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_list</span><span class="params">(sequenlist *s)</span>   <span class="comment">//æ‰“å°é¡ºåºè¡¨</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;=s-&gt;last; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%3d&quot;</span>,s-&gt;data[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">reverse</span><span class="params">(sequenlist *s)</span><span class="comment">//é€†ç½®å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="type">int</span> last_temp = s-&gt;last;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;= s-&gt;last/<span class="number">2</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">temp = s-&gt;data[i];</span><br><span class="line">        s-&gt;data[i] = s-&gt;data[last_temp];</span><br><span class="line">s-&gt;data[last_temp] = temp;</span><br><span class="line">    last_temp--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">list_bubble_sort</span><span class="params">(sequenlist *p)</span><span class="comment">//max to min</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt; p-&gt;last; i++)<span class="comment">//attention</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>; j&lt; p-&gt;last-i; j++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;data[j] &lt; p-&gt;data[j+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            temp = p-&gt;data[j];</span><br><span class="line">p-&gt;data[j] = p-&gt;data[j+<span class="number">1</span>];</span><br><span class="line">p-&gt;data[j+<span class="number">1</span>] = temp;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">insert_in_order_list</span><span class="params">(sequenlist *s,<span class="type">int</span> value)</span><span class="comment">//æœ‰åºè¡¨ä¸­æ’å…¥å…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i,j;</span><br><span class="line"><span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line"><span class="comment">//int temp = s-&gt;last+1;</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;=s-&gt;last; i++)</span><br><span class="line">&#123;</span><br><span class="line">count++;</span><br><span class="line"><span class="keyword">if</span>( value &lt;= s-&gt;data[i])</span><br><span class="line">&#123;</span><br><span class="line">s-&gt;last = s-&gt;last + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(j=s-&gt;last; j&gt;i; j--)</span><br><span class="line">&#123;</span><br><span class="line">s-&gt;data[j] = s-&gt;data[j<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line">s-&gt;data[i] = value;</span><br><span class="line"><span class="keyword">return</span> ;<span class="comment">//ç»“æŸå‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//printf(&quot;i=%d&quot;,i);</span></span><br><span class="line"><span class="comment">//printf(&quot;s-&gt;last=%d\n&quot;,s-&gt;last);</span></span><br><span class="line"><span class="keyword">if</span>(i &gt; s-&gt;last<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line">s-&gt;last = s-&gt;last + <span class="number">1</span>;</span><br><span class="line">s-&gt;data[s-&gt;last] = value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">insert</span><span class="params">(sequenlist *L,<span class="type">int</span> i,<span class="type">int</span> x)</span> <span class="comment">//æŒ‡å®šä½ç½®,æ’å…¥</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> j;</span><br><span class="line"><span class="keyword">if</span>(((*L).last) &gt;= maxsize<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;the list is overflow!\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>((i&lt;<span class="number">1</span>)||(i&gt;(*L).last+<span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;position is not correct!\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(j=(*L).last;j&gt;=i<span class="number">-1</span>;j--)</span><br><span class="line">&#123;</span><br><span class="line">(*L).data[j+<span class="number">1</span>]=(*L).data[j];</span><br><span class="line">&#125;</span><br><span class="line">(*L).last=(*L).last+<span class="number">1</span>;</span><br><span class="line">(*L).data[i<span class="number">-1</span>]=x;</span><br><span class="line"><span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delete_same</span><span class="params">(sequenlist *s)</span><span class="comment">//åˆ é™¤è¡¨ä¸­ç›¸åŒçš„å…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i,j;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;=s-&gt;last; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>; j&lt;=s-&gt;last; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(s-&gt;data[j] == s-&gt;data[i])<span class="comment">//å…ƒç´ ç›¸åŒ</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k=j; k&lt;s-&gt;last; k++)</span><br><span class="line">&#123;</span><br><span class="line">s-&gt;data[k] = s-&gt;data[k+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">s-&gt;last = s-&gt;last - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">sequenlist p=&#123;&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">8</span>&#125;,<span class="number">8</span>&#125;;</span><br><span class="line"><span class="comment">//è¿™é‡Œæœ‰9ä¸ªæ•°ï¼Œä½†æ•°ç»„ä¸‹è¡¨æ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥ p.last = 8</span></span><br><span class="line">print_list(&amp;p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;please input a value which you want: &quot;</span>);</span><br><span class="line"><span class="type">int</span> value;<span class="comment">//C++è¯­æ³•å¯ä»¥ä¸´æ—¶å®šä¹‰ä¸€ä¸ªå˜é‡,Cè¯­è¨€ä¸å¯ä»¥ï¼ˆéœ€æ”¾åœ¨å¼€å¤´ï¼‰ã€‚</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;value);</span><br><span class="line"><span class="comment">//search(&amp;p,10);</span></span><br><span class="line">search(&amp;p,value);</span><br><span class="line">print_list(&amp;p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤è¡¨ä¸­çš„æŒ‡å®šå…ƒç´ </span></span><br><span class="line">delete_1(&amp;p,<span class="number">8</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;after delete:\n&quot;</span>);</span><br><span class="line">print_list(&amp;p);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//é€†ç½®é¡ºåºè¡¨</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n\nafter reverse:\n&quot;</span>);</span><br><span class="line">reverse(&amp;p);</span><br><span class="line">print_list(&amp;p);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†’æ³¡æ’åº</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nafter sort:\n&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//list_bubble_sort(&amp;try_1);</span></span><br><span class="line">list_bubble_sort(&amp;p);</span><br><span class="line">print_list(&amp;p);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¾€æœ‰åºé¡ºåºè¡¨ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    sequenlist try_1 = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;,<span class="number">5</span>&#125;;</span><br><span class="line">    print_list(&amp;try_1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;please input the value that you wan to insert into the sequenlist: &quot;</span>);</span><br><span class="line"><span class="type">int</span> data;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;data);</span><br><span class="line">insert_in_order_list(&amp;try_1,data);</span><br><span class="line"><span class="comment">//insert_in_order_list(&amp;try_1,9);</span></span><br><span class="line">print_list(&amp;try_1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤è¡¨ä¸­ç›¸åŒçš„å…ƒç´ </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">sequenlist try_2= &#123;&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>&#125;,<span class="number">7</span>&#125;;</span><br><span class="line">print_list(&amp;try_2);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\ndelete the same element:\n&quot;</span>);</span><br><span class="line">delete_same(&amp;try_2);</span><br><span class="line">print_list(&amp;try_2);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦ä¸€ç§ç©æ³•</span></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nplease input the number of elements: &quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;please input %d values:\n&quot;</span>,n);</span><br><span class="line">sequenlist try_3;</span><br><span class="line">try_3.last = n<span class="number">-1</span>;<span class="comment">//æ³¨æ„ï¼Œæ•°ç»„çš„å°æ ‡ä»0å¼€å§‹</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;=try_3.last; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;try_3.data[i]);</span><br><span class="line">&#125;</span><br><span class="line">print_list(&amp;try_3);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨æŒ‡å®šä½ç½®æ’å…¥</span></span><br><span class="line">insert(&amp;try_3,<span class="number">1</span>,<span class="number">22</span>);</span><br><span class="line">print_list(&amp;try_3);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¨‹åºè¿è¡Œç»“æœ"><a href="#ç¨‹åºè¿è¡Œç»“æœ" class="headerlink" title="ç¨‹åºè¿è¡Œç»“æœ"></a>ç¨‹åºè¿è¡Œç»“æœ</h2><p><img src="https://i.imgur.com/5kOE2oq.png" class="lazyload" data-srcset="https://i.imgur.com/5kOE2oq.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‹¿å¿˜å›½è€»ï¼Œå¾è¾ˆè‡ªå¼ºï¼</title>
      <link href="/2018/12/13/%E5%8B%BF%E5%BF%98%E5%9B%BD%E8%80%BB%EF%BC%8C%E5%90%BE%E8%BE%88%E8%87%AA%E5%BC%BA%EF%BC%81/"/>
      <url>/2018/12/13/%E5%8B%BF%E5%BF%98%E5%9B%BD%E8%80%BB%EF%BC%8C%E5%90%BE%E8%BE%88%E8%87%AA%E5%BC%BA%EF%BC%81/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://img.vim-cn.com/11/4118901768164c5c4b2dd83d19b84701287c8a.jpg" class="lazyload" data-srcset="https://img.vim-cn.com/11/4118901768164c5c4b2dd83d19b84701287c8a.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      <categories>
          
          <category> Memory </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Memory </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Biuä¸€ä¸‹GDB</title>
      <link href="/2018/12/03/biu%E4%B8%80%E4%B8%8BGDB/"/>
      <url>/2018/12/03/biu%E4%B8%80%E4%B8%8BGDB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="gccå¸¸è§ç¼–è¯‘é€‰é¡¹"><a href="#gccå¸¸è§ç¼–è¯‘é€‰é¡¹" class="headerlink" title="gccå¸¸è§ç¼–è¯‘é€‰é¡¹"></a>gccå¸¸è§ç¼–è¯‘é€‰é¡¹</h1><ul><li>** -c **:åªæ¿€æ´»é¢„å¤„ç†ã€ç¼–è¯‘å’Œæ±‡ç¼–ï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆobjæ–‡ä»¶</li><li>** -S **:åªæ¿€æ´»å¤„ç†å’Œç¼–è¯‘ï¼ŒæŠŠæ–‡ä»¶ç¼–è¯‘æˆæ±‡ç¼–ä»£ç </li><li>** -o **:å®šåˆ¶ç›®æ ‡åç§°ï¼Œç¼ºçœçš„æ—¶å€™ç¼–è¯‘å‡ºæ¥çš„å¯æ‰§è¡Œç¨‹åºåä¸ºa.exe(windows)æˆ–a.out(linux)</li><li>** -Wall **:æ‰“å¼€ä¸€äº›å¾ˆæœ‰ç”¨çš„ç¼–è¯‘è­¦å‘Š</li><li>** -std **:æŒ‡å®šCæ ‡å‡†ï¼Œå¦‚-std=99ï¼Œä½¿ç”¨C99æ ‡å‡†</li><li>** -g **:æŒ‡ç¤ºç¼–è¯‘å™¨ï¼Œç¼–è¯‘çš„æ—¶å€™æ·»åŠ è°ƒè¯•ä¿¡æ¯</li><li>** -O0 -O1 -O2 -O3 **ï¼šç¼–è¯‘å™¨çš„ä¼˜åŒ–é€‰é¡¹çš„4ä¸ªçº§åˆ«ï¼Œ-O0è¡¨ç¤ºæ²¡æœ‰ä¼˜åŒ–,-O1ä¸ºç¼ºçœå€¼ï¼Œ-O3ä¼˜åŒ–çº§åˆ«æœ€é«˜</li></ul><span id="more"></span><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/%E5%BD%95%E5%88%B6_2018_12_03_20_11_09_554.gif" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/%E5%BD%95%E5%88%B6_2018_12_03_20_11_09_554.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">file_name: swap.c</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">t = a;</span><br><span class="line">a = b;</span><br><span class="line">b = t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">3</span>, b=<span class="number">4</span>;</span><br><span class="line">swap(a,b);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d&quot;</span>,a,b);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="GDBçš„ä½¿ç”¨"><a href="#GDBçš„ä½¿ç”¨" class="headerlink" title="GDBçš„ä½¿ç”¨"></a>GDBçš„ä½¿ç”¨</h1><blockquote><p><a href="https://www.bing.com/knows/search?q=gdb&mkt=zh-cn&FORM=BKACAI">ä»€ä¹ˆæ˜¯GDBhttps://www.bing.com/knows/search?q=gdb&amp;mkt=zh-cn&amp;FORM=BKACAI</a><br><a href="http://www.gnu.org/software/gdb/">http://www.gnu.org/software/gdb/</a></p></blockquote><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼ŒGDBä¸»è¦å¸®åŠ©ä½ å®Œæˆä»¥ä¸‹å››ä¸ªæ–¹é¢çš„å†…å®¹<br>1ã€å¯åŠ¨ä½ çš„ç¨‹åºï¼Œå¯ä»¥æŒ‰ç…§ä½ çš„è‡ªå®šä¹‰çš„è¦æ±‚éšå¿ƒæ‰€æ¬²çš„è¿è¡Œç¨‹åº<br>2ã€å¯ä»¥è®©è¢«è°ƒè¯•çš„ç¨‹åºåœ¨ä½ æ‰€æŒ‡å®šçš„è°ƒç½®çš„æ–­ç‚¹å¤„åœä½ã€‚(æ–­ç‚¹å¯ä»¥æ˜¯æ¡ä»¶è¡¨è¾¾å¼)<br>3ã€å½“ç¨‹åºè¢«åœä½æ—¶ï¼Œå¯ä»¥æ£€æŸ¥æ­¤æ—¶ä½ çš„ç¨‹åºä¸­æ‰€å‘ç”Ÿçš„äº‹<br>4ã€ä½ å¯ä»¥æ”¹å˜ä½ çš„ç¨‹åºï¼Œå°†ä¸€ä¸ªBUGäº§ç”Ÿçš„å½±å“ä¿®æ­£ï¼Œä»è€Œæµ‹è¯•å…¶ä»–BUG</p></blockquote><h2 id="GDBå¸¸è§å‘½ä»¤"><a href="#GDBå¸¸è§å‘½ä»¤" class="headerlink" title="GDBå¸¸è§å‘½ä»¤"></a>GDBå¸¸è§å‘½ä»¤</h2><table><thead><tr><th align="center">ç®€ç§°</th><th align="center">å…¨ç§°</th><th align="left">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="center">l</td><td align="center">list</td><td align="left">æ˜¾ç¤ºæŒ‡å®šè¡Œå·æˆ–è€…æŒ‡å®šå‡½æ•°é™„è¿‘çš„æºä»£ç </td></tr><tr><td align="center">b</td><td align="center">break</td><td align="left">åœ¨æŒ‡å®šè¡Œå·æˆ–æŒ‡å®šå‡½æ•°å¼€å¤´è®¾ç½®æ–­ç‚¹</td></tr><tr><td align="center">r</td><td align="center">run</td><td align="left">è¿è¡Œç¨‹åºï¼Œç›´åˆ°ç¨‹åºç»“æŸæˆ–é‡åˆ°æ–­ç‚¹</td></tr><tr><td align="center">c</td><td align="center">continue</td><td align="left">åœ¨ç¨‹åºä¸­æ–­åç»§ç»­æ‰§è¡Œç¨‹åºï¼Œç›´åˆ°ç¨‹åºç»“æŸæˆ–é‡åˆ°æ–­ç‚¹åœä¸‹ã€‚æ³¨æ„åœ¨ç¨‹åºå¼€å§‹æ‰§è¡Œå‰åªèƒ½ç”¨rï¼Œè€Œä¸èƒ½ç”¨c</td></tr><tr><td align="center">n</td><td align="center">next</td><td align="left">æ‰§è¡Œä¸€æ¡è¯­å¥ã€‚å¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™æŠŠå®ƒå½“åšä¸€ä¸ªæ•´ä½“</td></tr><tr><td align="center">s</td><td align="center">step</td><td align="left">æ‰§è¡Œä¸€æ¡è¯­å¥ã€‚å¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥å‡½æ•°å†…éƒ¨</td></tr><tr><td align="center">u</td><td align="center">until</td><td align="left">æ‰§è¡Œåˆ°æŒ‡å®šè¡Œå·æˆ–æŒ‡å®šå‡½æ•°çš„å¼€å¤´</td></tr><tr><td align="center">p</td><td align="center">print</td><td align="left">æ˜¾ç¤ºå˜é‡æˆ–è¡¨è¾¾å¼çš„å€¼</td></tr><tr><td align="center">disp</td><td align="center">display</td><td align="left">æŠŠä¸€ä¸ªè¡¨è¾¾å¼è®¾ç½®ä¸ºdisplayï¼Œå½“ç¨‹åºæ¯æ¬¡åœä¸‹æ¥æ—¶éƒ½ä¼šæ˜¾ç¤ºå…¶å€¼</td></tr><tr><td align="center">cl</td><td align="center">clear</td><td align="left">å–æ¶ˆæ–­ç‚¹ï¼Œå’Œbæ ¼å¼ç›¸åŒï¼Œå¦‚æœè¯¥ä½ç½®æœ‰å¤šä¸ªæ–­ç‚¹ï¼Œå°†åŒæ—¶å–æ¶ˆ</td></tr><tr><td align="center">i</td><td align="center">info</td><td align="left">æ˜¾ç¤ºå„ç§ä¿¡æ¯ï¼Œå¦‚i bæ˜¾ç¤ºæ‰€æœ‰æ–­ç‚¹ï¼Œi dispæ˜¾ç¤ºdisplayï¼Œè€Œi loæ˜¾ç¤ºæ‰€æœ‰å±€éƒ¨å˜é‡</td></tr><tr><td align="center">bt</td><td align="center">backtrace</td><td align="left">æ‰“å°æ‰€æœ‰æ ˆå¸§ä¿¡æ¯</td></tr></tbody></table><h2 id="è°ƒç”¨æ ˆï¼ˆCall-Stackï¼‰"><a href="#è°ƒç”¨æ ˆï¼ˆCall-Stackï¼‰" class="headerlink" title="è°ƒç”¨æ ˆï¼ˆCall Stackï¼‰"></a>è°ƒç”¨æ ˆï¼ˆCall Stackï¼‰</h2><p>è°ƒç”¨æ ˆæè¿°çš„æ˜¯å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å…³ç³»ã€‚è°ƒç”¨æ ˆç”±æ ˆå¸§ï¼ˆStack Frameï¼‰ç»„æˆï¼Œæ¯ä¸ªæ ˆå¸§å¯¹åº”ç€ä¸€ä¸ªæœªè¿è¡Œå®Œçš„å‡½æ•°ã€‚åœ¨GDBä¸­å¯ä»¥ç”¨backtraceï¼ˆç®€ç§°btï¼‰å‘½ä»¤æ‰“å°æ‰€æœ‰æ ˆå¸§ä¿¡æ¯ã€‚è‹¥è¦ç”¨på‘½ä»¤æ‰“å°ä¸€ä¸ªéå½“å‰æ ˆå¸§çš„å±€éƒ¨å˜é‡ï¼Œå¯ä»¥ç”¨frameå‘½ä»¤é€‰æ‹©å¦ä¸€ä¸ªæ ˆå¸§</p><h3 id="æ‹¿ä¸ªç¨‹åºæ¥ç©ç©-swap-cæ–‡ä»¶"><a href="#æ‹¿ä¸ªç¨‹åºæ¥ç©ç©-swap-cæ–‡ä»¶" class="headerlink" title="æ‹¿ä¸ªç¨‹åºæ¥ç©ç©,swap.cæ–‡ä»¶"></a>æ‹¿ä¸ªç¨‹åºæ¥ç©ç©,<em><strong>swap.c</strong></em>æ–‡ä»¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>&#123;</span><br><span class="line"><span class="type">int</span> t;t = a;a = b;b = t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">3</span>, b=<span class="number">4</span>;</span><br><span class="line">swap(a,b);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d&quot;</span>,a,b);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/001.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/001.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/002.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/002.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>*** ç¨‹åºçš„ç›®çš„æ˜¯äº¤æ¢aå’Œbçš„å€¼ï¼Œç„¶è€Œå¹¶æ²¡æœ‰äº¤æ¢äº¤æ¢æˆåŠŸ ***</p><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/003.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/003.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>åŸå› ï¼š</p><ul><li>å‡½æ•°çš„å½¢å‚å’Œåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡éƒ½æ˜¯è¯¥å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚æ— æ³•è®¿é—®å…¶ä»–å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚</li><li>å±€éƒ¨å˜é‡çš„å­˜å‚¨ç©ºé—´æ˜¯ä¸´æ—¶åˆ†é…çš„ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œå±€éƒ¨å˜é‡çš„ç©ºé—´å°†è¢«é‡Šæ”¾ï¼Œå…¶ä¸­çš„å€¼æ— æ³•ä¿ç•™åˆ°ä¸‹æ¬¡ä½¿ç”¨ã€‚</li><li>å¦‚æœè¦å®ç°çœŸæ­£çš„äº¤æ¢ï¼Œæˆ‘ä»¬åº”è¯¥ä¼ å…¥çš„æ˜¯å­˜å‚¨å˜é‡çš„åœ°å€ï¼Œæ­¤æ—¶å‡½æ•°swapçš„å½¢å‚ç±»å‹åº”è¯¥ä¸ºæŒ‡é’ˆç±»å‹</li></ul><blockquote><p>PS:<br>Cè¯­è¨€çš„å˜é‡éƒ½æ˜¯æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œè€Œå†…å­˜ä¸­é—´çš„æ¯ä¸€ä¸ªå­—èŠ‚éƒ½æœ‰ä¸€ä¸ªç§°ä¸ºåœ°å€(address)çš„ç¼–å·ã€‚<br>æ¯ä¸€ä¸ªå˜é‡éƒ½å æœ‰ä¸€å®šæ•°ç›®çš„å­—èŠ‚ï¼ˆå¯ä»¥ç”¨sizeofè¿ç®—ç¬¦è·å¾—ï¼‰ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åœ°å€ç§°ä¸ºå˜é‡çš„åœ°å€ã€‚</p></blockquote><h3 id="o-â‰§â–½â‰¦-ãƒ„â”â”â”“æ‹¿ä¸ªé€’å½’ç¨‹åºæ¥ç©ç©"><a href="#o-â‰§â–½â‰¦-ãƒ„â”â”â”“æ‹¿ä¸ªé€’å½’ç¨‹åºæ¥ç©ç©" class="headerlink" title="o(*â‰§â–½â‰¦)ãƒ„â”â”â”“æ‹¿ä¸ªé€’å½’ç¨‹åºæ¥ç©ç©"></a>o(*â‰§â–½â‰¦)ãƒ„â”â”â”“æ‹¿ä¸ªé€’å½’ç¨‹åºæ¥ç©ç©</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> n == <span class="number">0</span> ? <span class="number">1</span> : f(n<span class="number">-1</span>)*n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,f(<span class="number">3</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/004.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/004.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://raw.githubusercontent.com/yeshan333/blog_images/master/005.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/blog_images/master/005.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><blockquote><p>åœ¨Cè¯­è¨€çš„å‡½æ•°ä¸­ï¼Œè°ƒç”¨è‡ªå·±å’Œè°ƒç”¨å…¶ä»–å‡½æ•°æ²¡æœ‰ä»»ä½•æœ¬è´¨åŒºåˆ«ï¼Œéƒ½æ˜¯å»ºç«‹æ–°æ ˆå¸§ï¼Œä¼ é€’å‚æ•°å¹¶ä¿®æ”¹å½“å‰ä»£ç è¡Œã€‚åœ¨å‡½æ•°æ‰§è¡Œä½“å®Œæ¯•ååˆ é™¤æ ˆå¸§ï¼Œå¤„ç†è¿”å›å€¼ï¼Œå¹¶ä¿®æ”¹å½“å‰ä»£ç è¡Œæ•°ã€‚</p></blockquote><blockquote><p>ä»¥ä¸Šè°ƒç”¨æ ˆçš„ä¸€ä¸ªæ¯”å–»</p><blockquote><p>çš‡å¸ï¼ˆæ‹¥æœ‰mainå‡½æ•°çš„æ ˆå¸§ï¼‰ï¼šå¤§è‡£ï¼Œä½ ç»™æˆ‘ç®—ä¸‹f(3)<br>å¤§è‡£ï¼ˆæ‹¥æœ‰f(3)çš„æ ˆå¸§ï¼‰ï¼šçŸ¥åºœï¼Œä½ ç»™æˆ‘ç®—ä¸‹f(2)<br>çŸ¥åºœï¼ˆæ‹¥æœ‰f(2)çš„æ ˆå¸§ï¼‰ï¼šå¿ä»¤ï¼Œä½ ç»™æˆ‘ç®—ä¸‹f(1)<br>å¿ä»¤ï¼ˆæ‹¥æœ‰f(1)çš„æ ˆå¸§ï¼‰ï¼šå¸ˆçˆ·ï¼Œä½ ç»™æˆ‘ç®—ä¸‹f(0)<br>å¸ˆçˆ·ï¼ˆæ‹¥æœ‰f(0)çš„æ ˆå¸§ï¼‰ï¼šå›è€çˆ·ï¼Œf(0)=1<br>å¿ä»¤ï¼ˆå¿ƒç®—f(1)=f(0)*1=1ï¼‰ï¼šå›çŸ¥åºœå¤§äººï¼Œf(1)=1<br>çŸ¥åºœï¼ˆå¿ƒç®—f(2)=f(1)*2=2ï¼‰ï¼šå›å¤§äººï¼Œf(2)=2<br>å¤§è‡£ï¼ˆå¿ƒç®—f(3)=f(2)*3=6ï¼‰ï¼šå›çš‡ä¸Šï¼Œf(3)=6<br>çš‡ä¸Šæ»¡æ„äº†</p></blockquote></blockquote><p>emmmmmmã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‡å‡†åº“å®¹å™¨</title>
      <link href="/2018/12/01/%E6%A0%87%E5%87%86%E5%BA%93%E5%AE%B9%E5%99%A8/"/>
      <url>/2018/12/01/%E6%A0%87%E5%87%86%E5%BA%93%E5%AE%B9%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://i.imgur.com/T0WbcwD.png" class="lazyload" data-srcset="https://i.imgur.com/T0WbcwD.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><span id="more"></span><blockquote><p>æ ‡å‡†åº“å®¹å™¨æ˜¯æ¨¡æ¿ç±»å‹ï¼Œç”¨æ¥ä¿å­˜ç»™å®šç±»å‹çš„å¯¹è±¡ã€‚ä¸€ä¸ªå®¹å™¨å°±æ˜¯ä¸€äº›ç‰¹å®šç±»å‹å¯¹è±¡çš„é›†åˆã€‚</p></blockquote><h1 id="é¡ºåºå®¹å™¨"><a href="#é¡ºåºå®¹å™¨" class="headerlink" title="é¡ºåºå®¹å™¨"></a>é¡ºåºå®¹å™¨</h1><ul><li>é¡ºåºå®¹å™¨æˆ‘ä»¬æä¾›äº†æ§åˆ¶å…ƒç´ å­˜å‚¨å’Œè®¿é—®é¡ºåºçš„èƒ½åŠ›ã€‚è¿™ç§é¡ºåºä¸ä¾èµ–äºå…ƒç´ çš„å€¼ï¼Œè€Œæ˜¯ä¸å…ƒç´ åŠ å…¥å®¹å™¨æ—¶çš„ä½ç½®å¯¹åº”ã€‚</li><li>ä¸€èˆ¬æ¥è¯´ï¼Œæ¯ä¸ªå®¹å™¨éƒ½å®šä¹‰åœ¨ä¸€ä¸ªéƒ½æ–‡ä»¶ä¸­</li><li>é¡ºåºå…ƒç´ å‡ ä¹å¯ä»¥ä¿å­˜ä»»æ„ç±»å‹çš„å…ƒç´ </li></ul><table><thead><tr><th align="center">é¡ºåºå®¹å™¨ç±»å‹</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">vector</td><td align="center">å¯å˜å¤§å°æ•°ç»„ã€‚æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ã€‚åœ¨å°¾éƒ¨ä¹‹å¤–çš„ä½ç½®æ’å…¥æˆ–åˆ é™¤å…ƒç´ å¯èƒ½å¾ˆæ…¢</td></tr><tr><td align="center">array</td><td align="center">å›ºå®šå¤§å°æ•°ç»„ï¼Œæ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼Œä¸èƒ½æ·»åŠ æˆ–åˆ é™¤å…ƒç´ </td></tr><tr><td align="center">string</td><td align="center">ä¸vectorç›¸ä¼¼çš„å®¹å™¨ï¼Œä½†ä¸“é—¨ç”¨äºä¿å­˜å­—ç¬¦ã€‚éšæœºè®¿é—®å—ã€‚åœ¨å°¾éƒ¨æ’å…¥æˆ–åˆ é™¤å¿«</td></tr><tr><td align="center">deque</td><td align="center">åŒç«¯é˜Ÿåˆ—ã€‚æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ã€‚åœ¨å¤´å°¾ä½ç½®æ’å…¥æˆ–åˆ é™¤é€Ÿåº¦å¾ˆå¿«</td></tr><tr><td align="center">list</td><td align="center">åŒå‘é“¾è¡¨ã€‚åªæ”¯æŒåŒå‘é¡ºåºè®¿é—®ï¼Œåœ¨listä¸­ä»»ä½•ä½ç½®è¿›è¡Œæ’å…¥æˆ–åˆ é™¤æ“ä½œçš„é€Ÿåº¦éƒ½å¾ˆå¿«</td></tr><tr><td align="center">forward_list</td><td align="center">å•å‘é“¾è¡¨ã€‚åªæ”¯æŒå•å‘é¡ºåºè®¿é—®ï¼Œåœ¨é“¾è¡¨çš„ä»»ä½•ä½ç½®è¿›è¡Œæ’å…¥æˆ–åˆ é™¤æ“ä½œçš„é€Ÿåº¦éƒ½å¾ˆå¿«</td></tr></tbody></table><p>forward_listã€arrayæ˜¯æ–°C++æ ‡å‡†å¢åŠ çš„ç±»å‹<br>ä¸å†…ç½®æ•°ç»„ç›¸æ¯”ï¼Œarrayæ˜¯ä¸€ç§æ›´å®‰å…¨ã€æ›´å®¹æ˜“ä½¿ç”¨çš„æ•°ç»„ç±»å‹ã€‚<br>arrayå¯¹è±¡çš„å¤§å°ä¸æ˜¯å›ºå®šçš„ï¼Œå› æ­¤ï¼Œä»–æ”¯æŒæ’å…¥å’Œåˆ é™¤å…ƒç´ ä»¥åŠæ”¹å˜å®¹å™¨å¤§å°çš„æ“ä½œ</p><h2 id="å®¹å™¨ç±»å‹æˆå‘˜"><a href="#å®¹å™¨ç±»å‹æˆå‘˜" class="headerlink" title="å®¹å™¨ç±»å‹æˆå‘˜"></a>å®¹å™¨ç±»å‹æˆå‘˜</h2><p>æ¯ä¸ªå®¹å™¨éƒ½å®šä¹‰äº†å¤šä¸ªç±»å‹</p><table><thead><tr><th align="center">ç±»å‹åˆ«å</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">iterator</td><td align="center">å®¹å™¨çš„è¿­ä»£å™¨ç±»å‹æˆå‘˜</td></tr><tr><td align="center">const_iterator</td><td align="center">å¯ä»¥è¯»å–å…ƒç´ ï¼Œä½†ä¸èƒ½ä¿®æ”¹å…ƒç´ çš„è¿­ä»£å™¨ç±»å‹</td></tr><tr><td align="center">size_type</td><td align="center">æ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œè¶³å¤Ÿä¿å­˜æ­¤ç§å®¹å™¨ç±»å‹æœ€å¤§å¯èƒ½å®¹å™¨çš„å¤§å°</td></tr><tr><td align="center">differrnce_type</td><td align="center">å¸¦ç¬¦å·æ•´æ•°ç±»å‹ï¼Œè¶³å¤Ÿä¿å­˜ä¸¤ä¸ªè¿­ä»£å™¨ä¹‹é—´çš„è·ç¦»</td></tr><tr><td align="center">value_type</td><td align="center">å…ƒç´ ç±»å‹</td></tr><tr><td align="center">reference_type</td><td align="center">å…ƒç´ å·¦å€¼ç±»å‹ï¼Œä¸value_type&amp;å«ä¹‰ç›¸åŒ</td></tr><tr><td align="center">const_reference</td><td align="center">å…ƒç´ çš„constå·¦å€¼ç±»å‹ï¼Œ(å³const value_type&amp;)</td></tr></tbody></table><p>** é€šè¿‡ç±»å‹åˆ«åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸äº†è§£å®¹å™¨ä¸­å…ƒç´ ç±»å‹çš„æƒ…å†µä¸‹ä½¿ç”¨å®ƒ **</p><p>ä¸ºäº†ä½¿ç”¨è¿™äº›ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»æ˜¾ç¤ºçš„ä½¿ç”¨å…¶ç±»å‹å<br>    vector<int>::iterator iter;//iteræ˜¯é€šè¿‡vector<int>å®šä¹‰çš„è¿­ä»£å™¨ç±»å‹</p><blockquote><p>å®¹å™¨çš„beginæˆå‘˜å’Œendæˆå‘˜<br>beginæˆå‘˜ç”Ÿæˆä¸€ä¸ªæŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®çš„è¿­ä»£å™¨<br>endæˆå‘˜ç”ŸæˆæŒ‡å‘å°¾å…ƒç´ ä¹‹åçš„ä½ç½®çš„è¿­ä»£å™¨</p></blockquote><h2 id="å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–"><a href="#å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–" class="headerlink" title="å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–"></a>å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–</h2><ul><li>æ¯ä¸ªå®¹å™¨éƒ½å®šä¹‰äº†ä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°ã€‚å®¹å™¨çš„é»˜è®¤çš„æ„é€ å‡½æ•°éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæŒ‡å®šç±»å‹çš„ç©ºå®¹å™¨ï¼Œä»–ä»¬éƒ½å¯ä»¥æ¥å—æŒ‡å®šå®¹å™¨å¤§å°å’Œå…ƒç´ åˆå§‹å€¼çš„å‚æ•°</li><li>ç”±äºarrayæ˜¯å›ºå®šå¤§å°çš„æ•°ç»„ã€‚å®šä¹‰ä¸€ä¸ªarrayæ—¶ï¼Œé™¤äº†åˆ¶å®šå…ƒç´ ç±»å‹å¤–ï¼Œè¿˜è¦æŒ‡å®šå®¹å™¨çš„å¤§å°</li><li>åˆ›å»ºä¸€ä¸ªå®¹å™¨ä¸ºå¦ä¸€ä¸ªå®¹å™¨çš„æ‹·è´æ—¶ï¼Œä¸¤ä¸ªå®¹å™¨çš„ç±»å‹ä»¥åŠå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒ</li><li>å½“ä¼ é€’è¿­ä»£å™¨å‚æ•°æ¥æ‹·è´ä¸€ä¸ªèŒƒå›´æ—¶ï¼Œä¸è¦æ±‚å®¹å™¨çš„ç±»å‹å¿…é¡»ç›¸åŒï¼Œä¸”æ–°å®¹å™¨å’ŒåŸå®¹å™¨çš„å…ƒç´ ç±»å‹ä¹Ÿå¯ä»¥ä¸åŒï¼Œåªè¦èƒ½å°†è¦æ‹·è´çš„å…ƒç´ çš„ç±»å‹è½¬æ¢ä¸ºè¦åˆå§‹åŒ–çš„å®¹å™¨çš„å…ƒç´ ç±»å‹å³å¯</li></ul><table><thead><tr><th align="center">å®šä¹‰&amp;åˆå§‹åŒ–æ–¹å¼</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">C a</td><td align="center">é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœCæ˜¯ä¸€ä¸ªarrayï¼Œåˆ™aä¸­å…ƒç´ æŒ‰é»˜è®¤æ–¹å¼åˆå§‹åŒ–ï¼Œå¦åˆ™aä¸ºç©º</td></tr><tr><td align="center">C a(b)<br>C a=b</td><td align="center">aåˆå§‹åŒ–ä¸ºbçš„æ‹·è´ã€‚**aå’Œbå¿…é¡»æ˜¯ç›¸åŒçš„ç±»å‹(å®ƒä»¬å¿…é¡»æ˜¯ç›¸åŒçš„å®¹å™¨ç±»å‹ï¼Œä¸”ä¿å­˜çš„æ˜¯ç›¸åŒçš„å…ƒç´ ç±»å‹)**ï¼Œå¯¹äºarrayæˆ‘ä»¬è¿˜è¦å®šä¹‰å®ƒçš„å¤§å°</td></tr><tr><td align="center">C a{b,c,d,e,f,â€¦}<br>C a={b,c,d,e,f,â€¦}</td><td align="center">aåˆå§‹åŒ–ä¸ºåˆå§‹åŒ–åˆ—è¡¨ä¸­å…ƒç´ çš„æ‹·è´ã€‚åˆ—è¡¨ä¸­çš„å…ƒç´ ç±»å‹å¿…é¡»ä¸açš„å…ƒç´ ç±»å‹ç›¸å®¹ã€‚å¯¹äºarrayæ¥è¯´ï¼Œåˆ—è¡¨å…ƒç´ çš„æ•°ç›®å¿…é¡»å°äºæˆ–ç­‰äºarrayçš„å¤§å°ï¼Œä»»ä½•é—æ¼çš„å…ƒç´ ç›´æ¥è¿›è¡Œå€¼åˆå§‹åŒ–</td></tr><tr><td align="center">C a(b_iterator,c_iterator)</td><td align="center">aåˆå§‹åŒ–ä¸ºè¿­ä»£å™¨b_iteratorå’Œc_iteratoræŒ‡å®šèŒƒå›´ä¸­å…ƒç´ çš„æ‹·è´ï¼ŒèŒƒå›´ä¸­å…ƒç´ çš„ç±»å‹å¿…é¡»ä¸açš„å…ƒç´ ç±»å‹ç›¸å®¹</td></tr><tr><td align="center">C a(n)</td><td align="center">aåŒ…å«nä¸ªå…ƒç´ ï¼Œè¿™äº›å…ƒç´ è¿›è¡Œäº†å€¼åˆå§‹åŒ–ï¼Œæ­¤æ„é€ å‡½æ•°explicitçš„ï¼Œstringå’Œarrayä¸é€‚ç”¨</td></tr><tr><td align="center">C a(n,value)</td><td align="center">aåŒ…å«nä¸ªåˆå§‹åŒ–ä¸ºå€¼valueçš„å…ƒç´ </td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;forward_list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">list&lt;string&gt; <span class="title">svec</span><span class="params">(<span class="number">10</span>,<span class="string">&quot;shan&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i:svec)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//vector&lt;string&gt; vec = svec;//#é”™è¯¯ï¼Œå®¹å™¨ç±»å‹ä¸åŒ¹é…</span></span><br><span class="line"></span><br><span class="line"><span class="function">forward_list&lt;string&gt; <span class="title">fvec</span><span class="params">(svec.begin(),svec.end())</span></span>;<span class="comment">//ä½¿ç”¨è¿­ä»£å™¨èŒƒå›´è¿›è¡Œæ‹·è´åˆå§‹åŒ–</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:fvec)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;temp&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ ‡å‡†åº“arrayçš„ä½¿ç”¨"><a href="#æ ‡å‡†åº“arrayçš„ä½¿ç”¨" class="headerlink" title="æ ‡å‡†åº“arrayçš„ä½¿ç”¨"></a>æ ‡å‡†åº“arrayçš„ä½¿ç”¨</h3><ul><li>å®šä¹‰ä¸€ä¸ªarrayæ—¶ï¼Œæˆ‘ä»¬è¦æŒ‡å®šå…ƒç´ çš„ç±»å‹ï¼Œè¿˜è¦æŒ‡å®šå®¹å™¨çš„å¤§å°</li><li>ç”±äºå¤§å°æ˜¯arrayç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œarrayä¸æ”¯æŒä¸åŒå®¹å™¨ç±»å‹çš„æ„é€ å‡½æ•°</li><li>å¯¹arrayè¿›è¡Œåˆ—è¡¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œåˆå§‹å€¼çš„æ•°ç›®å¿…é¡»ç­‰äºæˆ–å°äºarrayçš„å¤§å°</li><li>arrayè¦æ±‚åˆå§‹å€¼çš„ç±»å‹å¿…é¡»è¦ä¸åˆ›å»ºçš„å®¹å™¨ç±»å‹ç›¸ä¸€è‡´</li><li>è™½ç„¶æˆ‘ä»¬ä¸èƒ½å¯¹å†…ç½®çš„æ•°ç»„è¿›è¡Œæ‹·è´æˆ–å¯¹è±¡èµ‹å€¼æ“ä½œï¼Œä½†æ˜¯arrayå¹¶æ— æ­¤é™åˆ¶</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    array&lt;<span class="type">int</span> ,10&gt; num_1;<span class="comment">//å®šä¹‰äº†ä¸€ä¸ªä¿å­˜10ä¸ªintçš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i:num_1)</span><br><span class="line">    cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">array&lt;<span class="type">int</span> ,10&gt; num_2=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i:num_2)</span><br><span class="line">    cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line">    <span class="type">int</span> d[<span class="number">5</span>]=&#123;<span class="number">3</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">15</span>&#125;;</span><br><span class="line"><span class="comment">//int b[5]=d; è¿™æ˜¯é”™è¯¯çš„ï¼Œå†…ç½®æ•°ç»„ä¸æ”¯æŒæ‹·è´å’Œèµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">array&lt;<span class="type">int</span> ,6&gt; try_1=&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line">array&lt;<span class="type">int</span> ,6&gt; try_2=try_1;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:try_2)</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/IiUtXSK.png" class="lazyload" data-srcset="https://i.imgur.com/IiUtXSK.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="å®¹å™¨æ“ä½œ"><a href="#å®¹å™¨æ“ä½œ" class="headerlink" title="å®¹å™¨æ“ä½œ"></a>å®¹å™¨æ“ä½œ</h2><h3 id="swapå’Œassign"><a href="#swapå’Œassign" class="headerlink" title="swapå’Œassign"></a>swapå’Œassign</h3><ul><li><strong>a.swap(b)</strong>:ç”¨äºäº¤æ¢ä¸¤ä¸ªå®¹å™¨ä¸­çš„å…ƒç´ ï¼Œä¸¤ä¸ªå®¹å™¨å¿…é¡»å…·æœ‰ç›¸åŒçš„ç±»å‹</li><li><strong>swap(a,b)</strong>:ç”¨äºäº¤æ¢ä¸¤ä¸ªç›¸åŒç±»å‹çš„å®¹å™¨ä¸­çš„å…ƒç´ </li><li><strong>a.assign(1_iterator,2_iterator)</strong>:å°†aä¸­çš„å…ƒç´ æ›¿æ¢ä¸ºè¿­ä»£å™¨1_iteratorå’Œ2_iteratorèŒƒå›´ä¸­çš„å…ƒç´ ï¼Œè¿­ä»£å™¨ä¸èƒ½æŒ‡å‘aä¸­çš„å…ƒç´ </li><li><strong>a.assign(value_list)</strong>: å°†aä¸­çš„å…ƒç´ åˆå§‹åŒ–ä¸ºåˆå§‹åŒ–åˆ—è¡¨value_listä¸­çš„å…ƒç´ </li><li><strong>a.assign(n,value)</strong>:å°†aä¸­çš„å…ƒç´ æ›¿æ¢ä¸ºnä¸ªå€¼ä¸ºvalueçš„å…ƒç´ </li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; a=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; b;</span><br><span class="line">b.<span class="built_in">assign</span>(&#123;<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>&#125;);</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:b)</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line">b.<span class="built_in">assign</span>(a.<span class="built_in">begin</span>(),a.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:b)</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* swapæ“ä½œäº¤æ¢ä¸¤ä¸ªç›¸åŒç±»å‹å®¹å™¨çš„å†…å®¹</span></span><br><span class="line"><span class="comment">* assingæ“ä½œç”¨å‚æ•°æ‰€æŒ‡å®šçš„å…ƒç´ (å³æ‹·è´)æ›¿æ¢å·¦è¾¹å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment">* assignå…è®¸æˆ‘ä»¬ä»ä¸åŒä½†ç›¸å®¹çš„ç±»å‹èµ‹å€¼ï¼Œæˆ–è€…ä»ä¸€ä¸ªå®¹å™¨çš„å­åºåˆ—èµ‹å€¼</span></span><br><span class="line"><span class="comment">* é™¤äº†stringå¤–ï¼ŒæŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€å¼•ç”¨å’ŒæŒ‡é’ˆåœ¨swapæ“ä½œåéƒ½ä¸ä¼šå¤±æ•ˆ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; temp=&#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">88</span>&#125;;</span><br><span class="line">b.<span class="built_in">swap</span>(temp);</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;temp: &quot;</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;size-&quot;</span>&lt;&lt;temp.<span class="built_in">size</span>()&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i=temp.<span class="built_in">begin</span>();i != temp.<span class="built_in">end</span>();i++)</span><br><span class="line">    cout&lt;&lt;*i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;b: &quot;</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;size-&quot;</span>&lt;&lt;b.<span class="built_in">size</span>()&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> j=b.<span class="built_in">begin</span>();j != b.<span class="built_in">end</span>();j++)</span><br><span class="line">    cout&lt;&lt;*j&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/DltXOoC.png" class="lazyload" data-srcset="https://i.imgur.com/DltXOoC.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ ï¼ˆarrayä¸æ”¯æŒè¿™äº›æ“ä½œï¼‰"><a href="#å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ ï¼ˆarrayä¸æ”¯æŒè¿™äº›æ“ä½œï¼‰" class="headerlink" title="å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ ï¼ˆarrayä¸æ”¯æŒè¿™äº›æ“ä½œï¼‰"></a>å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ ï¼ˆarrayä¸æ”¯æŒè¿™äº›æ“ä½œï¼‰</h3><table><thead><tr><th align="center">&ensp;</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">C.push_back(t)<br>C.emplace_back(args)</td><td align="center">åœ¨Cçš„å°¾éƒ¨åˆ›å»ºä¸€ä¸ªå€¼ä¸ºtæˆ–ç”±argsåˆ›å»ºçš„å…ƒç´ ã€‚è¿”å›voidç±»å‹</td></tr><tr><td align="center">C.push_front(t)<br>C.emplace_front(args)</td><td align="center">åœ¨Cçš„å¤´éƒ¨åˆ›å»ºä¸€ä¸ªå€¼ä¸ºtæˆ–ç”±argsåˆ›å»ºçš„å…ƒç´ ï¼Œè¿”å›æŒ‡å‘æ–°æ·»åŠ çš„å…ƒç´ çš„è¿­ä»£å™¨</td></tr><tr><td align="center">C.insert(p_iterator,t)<br>C.emplace(p_iterator,args)</td><td align="center">åœ¨è¿­ä»£å™¨p_iteratorä¹‹å‰æ’å…¥ä¸€ä¸ªå€¼ä¸ºtæˆ–ç”±argsåˆ›å»ºçš„å…ƒç´ ï¼Œè¿”å›æŒ‡å‘æ–°æ·»åŠ çš„å…ƒç´ çš„è¿­ä»£å™¨</td></tr><tr><td align="center">C.insert(p_iterator,n,t)</td><td align="center">åœ¨è¿­ä»£å™¨p_iteratoræŒ‡å‘çš„å…ƒç´ ä¹‹å‰æ’å…¥nä¸ªå€¼ä¸ºtçš„å…ƒç´ ï¼Œè¿”å›æŒ‡å‘æ–°æ’å…¥çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥nä¸º0ï¼Œåˆ™è¿”å›p_iterator</td></tr><tr><td align="center">C.insert(p_iterator,a_iterator,b_iterator)</td><td align="center">å°†è¿­ä»£å™¨a_iteratorå’Œb_iteratoræŒ‡å®šçš„èŒƒå›´å†…çš„å…ƒç´ æ’å…¥åˆ°è¿­ä»£å™¨p_iteratoræŒ‡å‘çš„å…ƒç´ ä¹‹å‰ï¼Œè¿­ä»£å™¨èŒƒå›´ä¸èƒ½æŒ‡å‘Cä¸­çš„å…ƒç´ ã€‚è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªæ–°æ·»åŠ çš„å…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥èŒƒå›´ä¸ºç©ºï¼Œåˆ™è¿”å›p_iterator</td></tr><tr><td align="center">C.insert(p_iterator,li)</td><td align="center">å°†ç”±èŠ±æ‹¬å·æ‹¬èµ·æ¥çš„å…ƒç´ å€¼åˆ—è¡¨liæ’å…¥å¾…è¿­ä»£å™¨p_iteratoræ‰€æŒ‡çš„å…ƒç´ ä¹‹å‰ã€‚è¿”å›æ–°æ·»åŠ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å›p_iterator</td></tr></tbody></table><ul><li>å‘ä¸€ä¸ªvectorã€stringæˆ–dequeä¸­æ’å…¥å…ƒç´ ä¼šä½¿æ‰€æœ‰æŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€å¼•ç”¨å’ŒæŒ‡é’ˆå¤±æ•ˆ</li><li>è®°ä½ï¼Œinsertå‡½æ•°å°†å…ƒç´ æ’å…¥åˆ°è¿­ä»£å™¨æ‰€æŒ‡å®šçš„ä½ç½®ä¹‹å‰</li><li>å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªå¯¹è±¡æ¥åˆå§‹åŒ–å®¹å™¨æ—¶ï¼Œæˆ–å°†ä¸€ä¸ªå¯¹è±¡æ’å…¥åˆ°å®¹å™¨ä¸­çš„æ—¶ï¼Œå®é™…ä¸Šæ”¾å…¥åˆ°å®¹å™¨ä¸­çš„æ˜¯å¯¹è±¡çš„å€¼çš„æ‹·è´ï¼Œè€Œä¸æ˜¯å¯¹è±¡æœ¬èº«</li><li>vectorã€listã€dequeã€stringéƒ½æ”¯æŒinsertæˆå‘˜ï¼Œforward_listæä¾›äº†ç‰¹æ®Šç‰ˆæœ¬çš„insertæˆå‘˜</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">operated_1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;string&gt; ss&#123;<span class="string">&quot;shansan&quot;</span>,<span class="string">&quot;wocao&quot;</span>,<span class="string">&quot;yeshan&quot;</span>&#125;;</span><br><span class="line">vector&lt;string&gt; v;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i:ss)</span><br><span class="line">    v.<span class="built_in">push_back</span>(i);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:v)</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">operated_2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">list&lt;<span class="type">int</span>&gt; ls;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> num=<span class="number">3</span>;num&gt;=<span class="number">0</span>;num--)</span><br><span class="line">        ls.<span class="built_in">push_front</span>(num);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">5</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">        ls.<span class="built_in">push_back</span>(i);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i=ls.<span class="built_in">begin</span>();i != ls.<span class="built_in">end</span>(); i++)</span><br><span class="line">   cout&lt;&lt;*i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">operated_3</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v_1&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v_2&#123;<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"></span><br><span class="line">v_1.<span class="built_in">insert</span>(v_1.<span class="built_in">begin</span>(),<span class="number">66</span>);<span class="comment">//åœ¨è¿­ä»£å™¨v_1.begin()æ‰€æŒ‡çš„å…ƒç´ ä¹‹å‰æ’å…¥ä¸€ä¸ªå…ƒç´ 66</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp: v_1)</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">v_1.<span class="built_in">insert</span>(v_1.<span class="built_in">begin</span>(),v_2.<span class="built_in">begin</span>(),v_2.<span class="built_in">end</span>());</span><br><span class="line"><span class="comment">//åœ¨è¿­ä»£å™¨v_1.begin()æ‰€æŒ‡çš„å…ƒç´ ä¹‹å‰ï¼Œæ’å…¥è¿­ä»£å™¨v_2.begin()åˆ°v_2.end()æŒ‡é¡¶èŒƒå›´å†…çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> temp:v_1)</span><br><span class="line">        cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">operated_1</span>();</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">operated_2</span>();</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">operated_3</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2018/11/30/Fm5CWt.md.png" class="lazyload" data-srcset="https://s1.ax1x.com/2018/11/30/Fm5CWt.md.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Fm5CWt.md.png"></p><h4 id="emplaceæ“ä½œ"><a href="#emplaceæ“ä½œ" class="headerlink" title="emplaceæ“ä½œ"></a>emplaceæ“ä½œ</h4><blockquote><p>å½“è°ƒç”¨ä¸€ä¸ªinsertæˆ–pushæˆå‘˜å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å°†å…ƒç´ ç±»å‹çš„å¯¹è±¡ä¼ é€’ç»™å®ƒä»¬ï¼Œè¿™äº›å¯¹è±¡è¢«æ‹·è´åˆ°å®¹å™¨ä¸­<br>å½“è°ƒç”¨ä¸€ä¸ªemplaceå‡½æ•°æ—¶ï¼Œåˆ™æ˜¯å°†å‚æ•°ä¼ é€’ç»™å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ã€‚emplaceæˆå‘˜ç›´æ¥ä½¿ç”¨è¿™äº›å‚æ•°åœ¨å®¹å™¨ç®¡ç†çš„å†…å­˜ç©ºé—´ä¸­ç›´æ¥æ„é€ å‡½æ•°</p></blockquote><p><font color="red">emplaceå‡½æ•°åœ¨å®¹å™¨ä¸­ç›´æ¥æ„é€ å‡½æ•°ã€‚ä¼ é€’ç»™emplaceå‡½æ•°çš„å‚æ•°å¿…é¡»ä¸å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ç›¸åŒ¹é…</font></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">student</span>(string str,<span class="type">int</span> a):<span class="built_in">name</span>(str),<span class="built_in">age</span>(a)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;name: &quot;</span>&lt;&lt;<span class="keyword">this</span>-&gt;name&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;<span class="string">&quot;Age: &quot;</span>&lt;&lt;<span class="keyword">this</span>-&gt;age&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> age;</span><br><span class="line">string name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;student&gt; s;<span class="comment">//æˆ‘ä»¬å°†studentå­˜åˆ°äº†vectorä¸­</span></span><br><span class="line"></span><br><span class="line">s.<span class="built_in">emplace_back</span>(<span class="string">&quot;shansan&quot;</span>,<span class="number">18</span>);<span class="comment">//ä½¿ç”¨studentå¯¹è±¡çš„æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">auto</span> temp=s.<span class="built_in">begin</span>();</span><br><span class="line">    (*temp).<span class="built_in">print_1</span>();</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//s.push_back(&quot;try&quot;,66);//errorï¼šæ²¡æœ‰æ¥å—ä¸¤ä¸ªå‚æ•°çš„push_backç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line">s.<span class="built_in">push_back</span>(<span class="built_in">student</span>(<span class="string">&quot;try&quot;</span>,<span class="number">66</span>));<span class="comment">//åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„studentå¯¹è±¡ä¼ é€’ç»™push_back</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:s)</span><br><span class="line">        i.<span class="built_in">print_1</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2018/11/30/Fmo5dg.png" class="lazyload" data-srcset="https://s1.ax1x.com/2018/11/30/Fmo5dg.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Fmo5dg.png"></p><h3 id="è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ "><a href="#è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ " class="headerlink" title="è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ "></a>è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ </h3><table><thead><tr><th align="center">è®¿é—®æ“ä½œ</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">c.back()</td><td align="center">è¿”å›cä¸­å°¾å…ƒç´ çš„å¼•ç”¨ã€‚è‹¥cä¸ºç©ºï¼Œå‡½æ•°è¡Œä¸ºæœªå®šä¹‰</td></tr><tr><td align="center">c.front()</td><td align="center">è¿”å›cä¸­é¦–å…ƒç´ çš„å¼•ç”¨ã€‚è‹¥cä¸ºç©ºï¼Œå‡½æ•°è¡Œä¸ºæœªå®šä¹‰</td></tr><tr><td align="center">c[n]</td><td align="center">è¿”å›cä¸­ä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å¼•ç”¨ï¼Œnæ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ã€‚è‹¥n&gt;=c.size()ï¼Œåˆ™å‡½æ•°è¡Œä¸ºæœªå®šä¹‰</td></tr><tr><td align="center">c.at(n)</td><td align="center">è¿”å›ä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å¼•ç”¨ã€‚å¦‚æœä¸‹æ ‡è¶Šç•Œï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªout_of_rangeå¼‚å¸¸</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ä¸è¦å¯¹ä¸€ä¸ªç©ºçš„å®¹å™¨ä½¿ç”¨frontå’Œbackæ“ä½œ</span></span><br><span class="line"><span class="comment">* atå’Œä¸‹æ ‡æ“ä½œåªé€‚ç”¨äºstringã€vectorã€dequeå’Œarray</span></span><br><span class="line"><span class="comment">* backä¸é€‚ç”¨äºforward_list</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123;<span class="number">1</span>,<span class="number">6</span>&#125;;</span><br><span class="line"><span class="type">int</span> a = v.<span class="built_in">front</span>();</span><br><span class="line">a=<span class="number">33</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;v[0]=&quot;</span>&lt;&lt;v[<span class="number">0</span>]&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> &amp;refer = v.<span class="built_in">front</span>();</span><br><span class="line">refer =<span class="number">33</span>;<span class="comment">//æ”¹å˜äº†v[0]çš„å€¼</span></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;v[0]=&quot;</span>&lt;&lt;v[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºè®¿é—®æˆå‘˜å‡½æ•°çš„è¿”å›å€¼æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¦‚æœæ˜¯éconstçš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥æ”¹å˜å…ƒç´ çš„å€¼</p><h3 id="åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´ "><a href="#åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´ " class="headerlink" title="åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´ "></a>åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´ </h3><table><thead><tr><th align="center">åˆ é™¤æ“çºµ</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">c.pop_back()</td><td align="center">åˆ é™¤cçš„å°¾å…ƒç´ ï¼Œå¦‚æœcæ˜¯ç©ºçš„ï¼Œåˆ™å‡½æ•°è¡Œä¸ºæœªå®šä¹‰ã€‚å‡½æ•°è¿”å›void</td></tr><tr><td align="center">c.pop_front()</td><td align="center">åˆ é™¤cçš„é¦–å…ƒç´ ï¼Œå¦‚æœcæ˜¯ç©ºçš„ï¼Œåˆ™å‡½æ•°è¡Œä¸ºæœªå®šä¹‰ã€‚å‡½æ•°è¿”å›void</td></tr><tr><td align="center">c.erase(p_iterator)</td><td align="center">åˆ é™¤è¿­ä»£å™¨p_iteratoræ‰€æŒ‡å®šçš„å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘è¢«åˆ é™¤çš„å…ƒç´ ä¹‹åå…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥p_iteratoræŒ‡å‘å°¾å…ƒç´ ï¼Œåˆ™è¿”å›å°¾åè¿­ä»£å™¨ï¼Œè‹¥p_iteratoræ˜¯å°¾åè¿­ä»£å™¨ï¼Œåˆ™å‡½æ•°è¡Œä¸ºæœªå®šä¹‰</td></tr><tr><td align="center">c.erase(a_iterator,b_iterator)</td><td align="center">åˆ é™¤è¿­ä»£å™¨a_iteratorå’Œb_iteratoræ‰€æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘æœ€åä¸€ä¸ªè¢«åˆ å…ƒç´ ä¹‹åå…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥b_iteratoræœ¬èº«å°±æ˜¯å°¾åè¿­ä»£å™¨ï¼Œåˆ™è¿”å›å°¾åè¿­ä»£å™¨</td></tr><tr><td align="center">c.clear()</td><td align="center">åˆ é™¤cä¸­æ‰€æœ‰çš„å…ƒç´ </td></tr></tbody></table><p><strong>åˆ é™¤dequeä¸­é™¤é¦–å°¾ä½ç½®ä¹‹å¤–çš„ä»»ä½•å…ƒç´ éƒ½ä¼šä½¿è¿­ä»£å™¨ã€å¼•ç”¨å’ŒæŒ‡é’ˆå¤±æ•ˆã€‚æŒ‡å‘vectoræˆ–stringä¸­åˆ é™¤ç‚¹ä½ç½®ä¹‹åçš„è¿­ä»£å™¨ã€å¼•ç”¨å’ŒæŒ‡é’ˆéƒ½ä¼šå¤±æ•ˆ</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;string&gt; str&#123;<span class="string">&quot;shansan&quot;</span>,<span class="string">&quot;wocao&quot;</span>,<span class="string">&quot;555&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:str)</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">str.<span class="built_in">pop_back</span>();</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:str)</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line">str.<span class="built_in">erase</span>(str.<span class="built_in">begin</span>(),str.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:str)</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">    list&lt;<span class="type">int</span>&gt; lst=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> it = lst.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">while</span>(it != lst.<span class="built_in">end</span>())</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(*it%<span class="number">2</span>)</span><br><span class="line">        it = lst.<span class="built_in">erase</span>(it);<span class="comment">//åˆ é™¤å¥‡æ•°å…ƒç´ ,è¿”å›æŒ‡å‘è¢«åˆ é™¤å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            it++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:lst)</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/QmwV39Y.png" class="lazyload" data-srcset="https://i.imgur.com/QmwV39Y.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="æ”¹å˜å®¹å™¨å¤§å°"><a href="#æ”¹å˜å®¹å™¨å¤§å°" class="headerlink" title="æ”¹å˜å®¹å™¨å¤§å°"></a>æ”¹å˜å®¹å™¨å¤§å°</h3><blockquote><ul><li><strong>c.resize(n)</strong>:è°ƒæ•´cçš„å¤§å°ä¸ºnä¸ªå…ƒç´ ã€‚è‹¥n&lt;c.size()ï¼Œåˆ™å¤šå‡ºçš„å…ƒç´ è¢«ä¸¢å¼ƒï¼›è‹¥å¿…é¡»æ·»åŠ æ–°å…ƒç´ ï¼Œå¯¹æ–°å…ƒç´ è¿›è¡Œå€¼åˆå§‹åŒ–</li><li><strong>c.resize(n,t)</strong>:è°ƒæ•´cçš„å¤§å°ä¸ºnä¸ªå…ƒç´ ï¼Œä»»ä½•æ–°æ·»åŠ çš„å…ƒç´ éƒ½åˆå§‹åŒ–ä¸ºå€¼t</li></ul></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123;<span class="number">22</span>,<span class="number">33</span>,<span class="number">3</span>&#125;;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;v capacity:&quot;</span>&lt;&lt;v.<span class="built_in">capacity</span>()&lt;&lt;endl;</span><br><span class="line">v.<span class="built_in">resize</span>(<span class="number">6</span>,<span class="number">1</span>);</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;v size:&quot;</span>&lt;&lt;v.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;v capacity:&quot;</span>&lt;&lt;v.<span class="built_in">capacity</span>()&lt;&lt;endl;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i:v)</span><br><span class="line">    cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- ä½¿ç”¨reserveæ“ä½œé€šçŸ¥å®¹å™¨åº”è¯¥ä¸ºæˆ‘ä»¬é¢„ç•™å¤šå°‘ç©ºé—´</span></span><br><span class="line"><span class="comment">- resizeæˆå‘˜å‡½æ•°åªæ”¹å˜å®¹å™¨ä¸­æˆå‘˜å‡½æ•°çš„æ•°ç›®ï¼Œä¸æ”¹å˜å®¹å™¨çš„å®¹é‡</span></span><br><span class="line"><span class="comment">- å®¹å™¨çš„sizeæ“ä½œæŒ‡çš„æ˜¯å®ƒå·²ç»ä¿å­˜çš„å…ƒç´ çš„æ•°ç›®</span></span><br><span class="line"><span class="comment">- capacityåˆ™æ˜¯åœ¨ä¸ä¸åˆ†é…æ–°çš„å†…å­˜ç©ºé—´çš„å‰æä¸‹çŸ¥é“å®ƒæœ€å¤šå¯ä»¥ä¿å­˜å¤šå°‘ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">v.<span class="built_in">reserve</span>(<span class="number">100</span>);</span><br><span class="line">cout&lt;&lt;endl&lt;&lt;<span class="string">&quot;v capacity:&quot;</span>&lt;&lt;v.<span class="built_in">capacity</span>()&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;v size:&quot;</span>&lt;&lt;v.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/foIu4wG.png" class="lazyload" data-srcset="https://i.imgur.com/foIu4wG.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Keep on moving ï¼</title>
      <link href="/2018/11/27/Keep-on-moving-%EF%BC%81/"/>
      <url>/2018/11/27/Keep-on-moving-%EF%BC%81/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://i.imgur.com/P1TgIck.jpg" class="lazyload" data-srcset="https://i.imgur.com/P1TgIck.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><span id="more"></span><p>æ¯”èµ›ç»ˆäºå®Œäº†ï¼<br>åˆå¯ä»¥å®‰å¿ƒæ‰“ä»£ç çœ‹ä¹¦äº†<br>emmmmmmm</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†æ¢å‡½æ•°</title>
      <link href="/2018/11/22/%E5%86%8D%E6%8E%A2%E5%87%BD%E6%95%B0/"/>
      <url>/2018/11/22/%E5%86%8D%E6%8E%A2%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="main-å¤„ç†å‘½ä»¤è¡Œ"><a href="#main-å¤„ç†å‘½ä»¤è¡Œ" class="headerlink" title="main:å¤„ç†å‘½ä»¤è¡Œ"></a>main:å¤„ç†å‘½ä»¤è¡Œ</h1><pre><code>//mainå‡½æ•°çš„ä¸¤ç§å®šä¹‰å½¢å¼int main(int argc,char **argv[])int main(int argc,char *argv[])</code></pre><ul><li>argc:æŒ‡çš„æ˜¯å‘½ä»¤è¡Œä¸­è¾“å…¥å‚æ•°çš„ä¸ªæ•°</li><li>argv:ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒå­˜å‚¨äº†æ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•°</li></ul><span id="more"></span><p><img src="https://raw.githubusercontent.com/yeshan333/git_images/master/text.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/yeshan333/git_images/master/text.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>å‚æ•°ä½¿ç”¨ç¤ºä¾‹å­:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//file_name:test.cpp</span></span><br><span class="line"><span class="comment">//author:shansan</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc,<span class="type">char</span> **argv)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;argc;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;argv[%d]=%s\n&quot;</span>,i,argv[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/nCsaA2L.gif" class="lazyload" data-srcset="https://i.imgur.com/nCsaA2L.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h1 id="å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°"><a href="#å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°" class="headerlink" title="å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°"></a>å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°</h1><h2 id="initializer-listå½¢å‚"><a href="#initializer-listå½¢å‚" class="headerlink" title="initializer_listå½¢å‚"></a>initializer_listå½¢å‚</h2><ul><li>initializer_listæ˜¯ä¸€ç§æ ‡å‡†åº“ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸç§ç‰¹å®šç±»å‹çš„å€¼çš„æ•°ç»„</li><li>initializer_listä¹Ÿæ˜¯ä¸€ç§æ¨¡æ¿ç±»å‹</li><li>æ”¯æŒsize(),begin(),end()ç­‰æ“ä½œ</li><li>å‘initializer_listå½¢å‚ä¸­ä¼ é€’ä¸€ä¸ªå€¼çš„åºåˆ—ï¼Œåˆ™å¿…é¡»æŠŠåºåˆ—æ”¾åœ¨èŠ±æ‹¬å·ä¸­</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_1</span><span class="params">(initializer_list&lt;string&gt; str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//éå†å®å‚è¡¨åˆ—,ä½¿ç”¨initializer_listå¯¹è±¡çš„æˆå‘˜beginå’Œendè¿›è¡Œéå†</span></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;parameter nums: &quot;</span>&lt;&lt;str.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp = str.<span class="built_in">begin</span>();temp != str.<span class="built_in">end</span>(); ++temp)</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;*temp&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="comment">//ç”¨èŒƒå›´forè¯­å¥éå†è¡¨åˆ—</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> beg : str)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;beg&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">const</span> string a = <span class="string">&quot;shansan&quot;</span>;</span><br><span class="line">string b = <span class="string">&quot;yeshan333&quot;</span>;</span><br><span class="line">string c = <span class="string">&quot;wocao&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘initializer_listå½¢å‚ä¸­ä¼ é€’ä¸€ä¸ªå€¼çš„åºåˆ—éœ€æ”¾åœ¨èŠ±æ‹¬å·å†…éƒ¨</span></span><br><span class="line">    <span class="built_in">print_1</span>(&#123;a,b,c&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/RdxXrcD.png" class="lazyload" data-srcset="https://i.imgur.com/RdxXrcD.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h1 id="å‡½æ•°è¿”å›å€¼â€”â€“åˆ—è¡¨åˆå§‹åŒ–è¿”å›å€¼"><a href="#å‡½æ•°è¿”å›å€¼â€”â€“åˆ—è¡¨åˆå§‹åŒ–è¿”å›å€¼" class="headerlink" title="å‡½æ•°è¿”å›å€¼â€”â€“åˆ—è¡¨åˆå§‹åŒ–è¿”å›å€¼"></a>å‡½æ•°è¿”å›å€¼â€”â€“åˆ—è¡¨åˆå§‹åŒ–è¿”å›å€¼</h1><ul><li>å‡½æ•°å¯ä»¥è¿”å›èŠ±æ‹¬å·åŒ…å›´çš„å€¼çš„åˆ—è¡¨</li><li>å¦‚æœå‡½æ•°è¿”å›çš„æ˜¯å†…ç½®ç±»å‹ï¼Œåˆ™èŠ±æ‹¬å·åŒ…å›´çš„åˆ—è¡¨æœ€å¤šåŒ…å«ä¸€ä¸ªå€¼ï¼Œè€Œä¸”è¯¥å€¼æ‰€å ç©ºé—´ä¸åº”è¯¥å¤§äºç›®æ ‡ç±»å‹çš„ç©ºé—´</li><li>å¦‚æœå‡½æ•°è¿”å›çš„æ˜¯ç±»ç±»å‹ï¼Œç”±ç±»æœ¬èº«å®šä¹‰åˆå§‹å€¼å¦‚ä½•ä½¿ç”¨</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;string&gt; <span class="title">process</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;<span class="string">&quot;shansan&quot;</span>,<span class="string">&quot;yeshan333&quot;</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;string&gt; v;</span><br><span class="line">v = <span class="built_in">process</span>();</span><br><span class="line"><span class="comment">//éå†vectorå¯¹è±¡</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp : v)</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/1cZJ4Uu.png" class="lazyload" data-srcset="https://i.imgur.com/1cZJ4Uu.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h1 id="è°ƒè¯•å¸®åŠ©ï¼Œé¢„å®šä¹‰è·Ÿè¸ªè°ƒè¯•"><a href="#è°ƒè¯•å¸®åŠ©ï¼Œé¢„å®šä¹‰è·Ÿè¸ªè°ƒè¯•" class="headerlink" title="è°ƒè¯•å¸®åŠ©ï¼Œé¢„å®šä¹‰è·Ÿè¸ªè°ƒè¯•"></a>è°ƒè¯•å¸®åŠ©ï¼Œé¢„å®šä¹‰è·Ÿè¸ªè°ƒè¯•</h1><p>ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬å®šä¹‰çš„</p><ul><li><strong>func</strong>:å­˜æ”¾å½“å‰è°ƒè¯•å‡½æ•°çš„åå­—</li><li><strong>FILE</strong>:å­˜æ”¾æ–‡ä»¶åçš„å­—ç¬¦ä¸²å­—é¢å€¼å¸¸é‡</li><li><strong>LINE</strong>:å­˜æ”¾æ–‡ä»¶å½“å‰è¡Œå·çš„æ•´å‹å­—é¢å€¼</li><li><strong>TIME</strong>:å­˜æ”¾æ–‡ä»¶ç¼–è¯‘æ—¶é—´çš„å­—ç¬¦ä¸²å­—é¢å€¼å¸¸é‡</li><li><strong>DATE</strong>:å­˜æ”¾æ–‡ä»¶ç¼–è¯‘æ—¥æœŸçš„å­—ç¬¦ä¸²å­—é¢å€¼å¸¸é‡</li></ul><p><img src="https://i.imgur.com/zYffeTU.png" class="lazyload" data-srcset="https://i.imgur.com/zYffeTU.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IOç±»å‹</title>
      <link href="/2018/11/22/IO%E7%B1%BB%E5%9E%8B/"/>
      <url>/2018/11/22/IO%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="IOåº“"><a href="#IOåº“" class="headerlink" title="IOåº“"></a>IOåº“</h1><p>** IOåº“è®¾æ–½: **</p><ul><li><code>istream</code>ç±»å‹:æä¾›è¾“å…¥æ“ä½œ</li><li><code>ostream</code>ç±»å‹:æä¾›è¾“å‡ºæ“ä½œ</li><li><code>cin</code>:ä¸€ä¸ªistreamå¯¹è±¡ï¼Œä»æ ‡å‡†è¾“å…¥è¯»å–æ•°æ®</li><li><code>cout</code>:ä¸€ä¸ªostreamå¯¹è±¡ï¼Œä»æ ‡å‡†è¾“å‡ºå†™å…¥æ•°æ®</li><li><code>cerr</code>:ä¸€ä¸ªostreamå¯¹è±¡ï¼Œé€šå¸¸ç”¨äºè¾“å‡ºç¨‹åºé”™è¯¯ä¿¡æ¯ï¼Œå†™å…¥åˆ°æ ‡å‡†é”™è¯¯</li><li><code>&gt;&gt;</code>è¿ç®—ç¬¦:ç”¨æ¥ä»ä¸€ä¸ªistreamå¯¹è±¡è¯»å–è¾“å…¥æ•°æ®</li><li><code>&lt;&lt;</code>è¿ç®—ç¬¦:ç”¨æ¥å‘ä¸€ä¸ªostreamå¯¹è±¡å†™å…¥æ•°æ®</li><li><code>getline</code>å‡½æ•°:ä»ä¸€ä¸ªç»™å®šçš„istreamè¯»å–ä¸€è¡Œæ•°æ®ï¼Œå­˜å…¥ä¸€ä¸ªç»™å®šçš„stringå¯¹è±¡ä¸­</li></ul><span id="more"></span><h2 id="IOç±»"><a href="#IOç±»" class="headerlink" title="IOç±»"></a>IOç±»</h2><table><thead><tr><th align="center">å¤´æ–‡ä»¶</th><th align="center">IOåº“ç±»å‹</th></tr></thead><tbody><tr><td align="center">iostream</td><td align="center">istream,wistreamä»æµè¯»å–æ•°æ®<br>ostream,wostreamå‘æµå†™å…¥æ•°æ®<br>iostream,wiostreamè¯»å†™æµ</td></tr><tr><td align="center">fstream</td><td align="center">ifstream,wistreamä»æ–‡ä»¶è¯»å–æ•°æ®<br>ofstream,wofstreamå‘æ–‡ä»¶å†™å…¥æ•°æ®<br>fstream,wfstreamè¯»å†™æ–‡ä»¶</td></tr><tr><td align="center">sstream</td><td align="center">istringstream,wistringstreamä»stringè¯»å–æ•°æ®<br>ostringstream,wostringstreamå‘stringå†™å…¥æ•°æ®<br>stringstream,wstringstreamè¯»å†™string</td></tr></tbody></table><ul><li><font color="green">IOå¯¹è±¡æ²¡æœ‰æ‹·è´æˆ–èµ‹å€¼</font></li><li><font color="green">å®šä¹‰å‡½æ•°æ—¶ä¸èƒ½å°†å½¢å‚è®¾ç½®ä¸ºæµç±»å‹</font></li><li><font color="green">è¿›è¡ŒIOæ“ä½œçš„å‡½æ•°é€šå¸¸ä½¿ç”¨å¼•ç”¨æ–¹å¼ä¼ é€’å’Œè¿”å›æµ</font></li></ul><p>å› ä¸ºè¯»å†™ä¸€ä¸ªIOå¯¹è±¡ä¼šæ”¹å˜å…¶çŠ¶æ€ï¼Œå› æ­¤ä¼ é€’å’Œè¿”å›çš„å¼•ç”¨ä¸èƒ½æ˜¯constç±»å‹çš„</p><p>ä¸€ä¸ªæµä¸€æ—¦å‘ç”Ÿé”™è¯¯ï¼Œå…¶åç»­çš„IOæ“ä½œéƒ½ä¼šå¤±è´¥</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line">istream&amp; <span class="title function_">read_print</span><span class="params">(istream &amp;s)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> score;</span><br><span class="line"><span class="keyword">while</span>(s&gt;&gt;score)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;score&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">    s.clear();<span class="comment">//æµå¤ä½ï¼Œæ¸…æ¥šæ‰€æœ‰é”™è¯¯æ ‡å¿—ä½</span></span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">read_print(<span class="built_in">cin</span>);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;shansan&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºç¼“å†²ç®¡ç†"><a href="#è¾“å‡ºç¼“å†²ç®¡ç†" class="headerlink" title="è¾“å‡ºç¼“å†²ç®¡ç†"></a>è¾“å‡ºç¼“å†²ç®¡ç†</h3><pre><code>cout&lt;&lt;&quot;shansan&quot;</code></pre><p>æ–‡æœ¬ä¸²å¯èƒ½ç«‹å³æ‰“å°å‡ºæ¥ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½è¢«æ“ä½œç³»ç»Ÿä¿å­˜åœ¨æ“ä½œç³»ç»Ÿçš„ç¼“å†²åŒºä¸­ï¼Œéšåå†æ‰“å°ã€‚<br>ç¼“å†²æœºåˆ¶çš„å­˜åœ¨å¯ä»¥è®©æ“ä½œç³»ç»Ÿå°†ç¨‹åºçš„å¤šä¸ªè¾“å‡ºæ“ä½œç»„åˆæˆå•ä¸€çš„ç³»ç»Ÿçº§å†™æ“ä½œ<br>ç”±äºè®¾å¤‡å†™æ“ä½œå¯èƒ½å¾ˆè€—æ—¶é—´ï¼Œå…è®¸æ“ä½œç³»ç»Ÿå°†å¤šä¸ªè¾“å‡ºæ“ä½œç»„åˆä¸ºå•ä¸€çš„è®¾å¤‡å†™æ“ä½œå¯ä»¥å¸¦æ¥å¾ˆå¤§çš„ä¾¿åˆ©</p><p>** ä½¿ç”¨æ“çºµç¬¦åˆ·æ–°ç¼“å†²åŒº **</p><ul><li>endl:å®Œæˆæ¢è¡Œæœºåˆ¶å¹¶ä¸”åˆ·æ–°ç¼“å†²åŒº</li><li>ends:ä»…åˆ·æ–°ç¼“å†²åŒº</li><li>flush:ä»…åˆ·æ–°ç¼“å†²åŒº</li></ul><p>ç¨‹åºå´©æºƒï¼Œè¾“å‡ºç¼“å†²åŒºä¸ä¼šåˆ·æ–°</p><h2 id="æ–‡ä»¶IO"><a href="#æ–‡ä»¶IO" class="headerlink" title="æ–‡ä»¶IO"></a>æ–‡ä»¶IO</h2><p><a href="https://shansan.top/2018/10/22/%E5%9D%91%E4%BA%BA%E7%9A%84C++-2/#%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6-amp-amp-%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6">https://shansan.top/2018/10/22/%E5%9D%91%E4%BA%BA%E7%9A%84C++-2/#%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6-amp-amp-%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6</a><br>å¤´æ–‡ä»¶å®šä¹‰äº†ä¸‰ä¸ªæ–‡ä»¶ç±»å‹æ¥æ”¯æŒæ–‡ä»¶IO</p><ul><li>ifstream:ä»æ–‡ä»¶è¯»å–æ•°æ®</li><li>ofstream:å‘æ–‡ä»¶å†™å…¥æ•°æ®</li><li>fstream:è¯»å’Œå†™æ“ä½œéƒ½èƒ½è¿›è¡Œ</li></ul><p>æ¯ä¸€ä¸ªæ–‡ä»¶æµå¯¹è±¡éƒ½å®šä¹‰äº†ä¸€ä¸ªåä¸ºopençš„æˆå‘˜å‡½æ•°ï¼Œå®ƒå®Œæˆäº†ä¸€äº›ç³»ç»Ÿç›¸å…³çš„æ“ä½œï¼Œæ¥å®šä½ç»™å®šçš„æ–‡ä»¶ï¼Œå¹¶è§†æƒ…å†µæ‰“å¼€ä¸ºè¯»æˆ–å†™æ¨¡å¼<br>ä¸€æ—¦ä¸€ä¸ªæ–‡ä»¶æµå·²ç»æ‰“å¼€ï¼Œå®ƒå°±ä¿æŒä¸å¯¹åº”æ–‡ä»¶çš„å…³è”ã€‚å¯¹ä¸€ä¸ªå·²ç»æ‰“å¼€çš„æ–‡ä»¶æµè°ƒç”¨openä¼šå¤±è´¥ï¼Œå¹¶ä¼šå¯¼è‡´failbitè¢«ç½®ä½ï¼Œéšåè¯•å›¾ä½¿ç”¨æ–‡ä»¶æµçš„æ“ä½œéƒ½ä¼šå¤±è´¥</p><p>** ifstreamã€ofstreamã€fstreamå¯¹è±¡ä¸Šçš„æ“ä½œï¼Œä»¥ä¸‹æ“ä½œéƒ½é€‚ç”¨</p><table><thead><tr><th align="center">æ“ä½œ</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">fstream file</td><td align="center">åˆ›å»ºä¸€ä¸ªæœªç»‘å®šçš„æ–‡ä»¶æµ</td></tr><tr><td align="center">fstream file(file_name)</td><td align="center">åˆ›å»ºä¸€ä¸ªfstreamå¯¹è±¡ï¼Œå¹¶æ‰“å¼€åå­—ä¸ºfile_nameçš„æ–‡ä»¶ã€‚file_nameå¯ä»¥æ˜¯ä¸€ä¸ªæŒ‡å‘Cé£æ ¼çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªstringç±»å‹</td></tr><tr><td align="center">fstream file(file_name,mode)</td><td align="center">modeä¸ºæŒ‡å®šçš„æ‰“å¼€æ¨¡å¼</td></tr><tr><td align="center">fstream.close()</td><td align="center">å…³é—­ä¸fstreamç»‘å®šçš„æ–‡ä»¶</td></tr><tr><td align="center">fstream.is_open()</td><td align="center">è¿”å›ä¸€ä¸ªboolå€¼ï¼ŒæŒ‡å‡ºä¸fstreamå…³è”çš„æ–‡ä»¶æ˜¯å¦æˆåŠŸè¢«æ‰“å¼€ä¸”å°šæœªè¢«å…³é—­</td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">write</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">ofstream file;</span><br><span class="line">file.open(<span class="string">&quot;shansan.txt&quot;</span>);</span><br><span class="line">    <span class="comment">//ç­‰ä»·äºfstream file(&quot;shanshan.txt&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åƒæ–‡ä»¶å†™å…¥æ•°æ®</span></span><br><span class="line">file&lt;&lt;<span class="string">&quot;shansan&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">file&lt;&lt;<span class="string">&quot;shansan.top&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">file&lt;&lt;<span class="string">&quot;yeshan333.github.io&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">file.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">read_print</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">string</span> buffer;</span><br><span class="line">    ifstream <span class="title function_">read_file</span><span class="params">(<span class="string">&quot;shansan.txt&quot;</span>)</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; v;</span><br><span class="line"><span class="keyword">while</span>(getline(read_file,buffer))<span class="comment">//æ¯æ¬¡ä»read_fileè¯»å–ä¸€è¡Œç»™buffer</span></span><br><span class="line">    v.push_back(buffer);<span class="comment">//å°†bufferå­˜åˆ°vectorå¯¹è±¡vä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:v)</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;temp&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">write();</span><br><span class="line">read_print();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/Rtdn8Ax.gif" class="lazyload" data-srcset="https://i.imgur.com/Rtdn8Ax.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="æ–‡ä»¶æ¨¡å¼"><a href="#æ–‡ä»¶æ¨¡å¼" class="headerlink" title="æ–‡ä»¶æ¨¡å¼"></a>æ–‡ä»¶æ¨¡å¼</h2><p>æ¯ä¸€ä¸ªæµéƒ½æœ‰ä¸€ä¸ªå…³è”çš„æ–‡ä»¶æ¨¡å¼ï¼Œç”¨æ¥æŒ‡å‡ºå¦‚ä½•ä½¿ç”¨æ–‡ä»¶ã€‚<br>æ¯ä¸€ä¸ªæ–‡ä»¶æµéƒ½å®šä¹‰äº†ä¸€ä¸ªé»˜è®¤çš„æ–‡ä»¶æ¨¡å¼</p><ul><li>ä¸ifstreamå…³è”çš„æ–‡ä»¶é»˜è®¤ä»¥inæ¨¡å¼æ‰“å¼€</li><li>ä¸ofstreamå…³è”çš„æ–‡ä»¶é»˜è®¤ä»¥outæ¨¡å¼æ‰“å¼€</li><li>ä¸fstreamå…³è”çš„æ–‡ä»¶é»˜è®¤ä»¥inå’Œoutæ¨¡å¼æ‰“å¼€</li></ul><table><thead><tr><th align="center">æ–‡ä»¶æ¨¡å¼</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">in</td><td align="center">ä»¥è¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶</td></tr><tr><td align="center">out</td><td align="center">ä»¥å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶</td></tr><tr><td align="center">app</td><td align="center">æ¯æ¬¡å†™æ“ä½œå‰å‡å®šä½åˆ°æ–‡ä»¶æœ«å°¾</td></tr><tr><td align="center">ate</td><td align="center">æ‰“å¼€æ–‡ä»¶åç«‹å³å®šä½åˆ°æ–‡ä»¶æœ«å°¾</td></tr><tr><td align="center">trunc</td><td align="center">æˆªæ–­æ–‡ä»¶</td></tr><tr><td align="center">binary</td><td align="center">ä»¥äºŒè¿›åˆ¶æ–¹å¼è¿›è¡ŒIO</td></tr></tbody></table><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ’åºç®—æ³•</title>
      <link href="/2018/11/20/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
      <url>/2018/11/20/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="ç¨³å®šçš„ç›´æ¥æ’å…¥æ’åº"><a href="#ç¨³å®šçš„ç›´æ¥æ’å…¥æ’åº" class="headerlink" title="ç¨³å®šçš„ç›´æ¥æ’å…¥æ’åº"></a>ç¨³å®šçš„ç›´æ¥æ’å…¥æ’åº</h2><p>åŸºæœ¬æ€æƒ³:<br>æˆ‘ä»¬å°†ä¸€ä¸ªå¾…æ’åºåºåˆ—åˆ†ä¸ºæœ‰åºåŒºå’Œæ— åºåŒºï¼ˆä¸€èˆ¬å¼€å§‹çš„æ—¶å€™å°†ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºæœ‰åºåŒºï¼Œå‰©ä¸‹çš„å…ƒç´ ä½œä¸ºæ— åºåŒºï¼‰ï¼Œæ¯æ¬¡å°†æ— åºåŒºçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºå¾…æ’å…¥è®°å½•ï¼ŒæŒ‰å¤§å°æ’å…¥åˆ°å‰é¢å·²ç»æ’å¥½çš„æœ‰åºåŒºä¸­çš„é€‚å½“ä½ç½®ï¼Œç›´åˆ°è®°å½•å…¨éƒ¨æ’å…¥å®Œæˆä¸ºæ­¢ã€‚(å¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢)</p><p><img src="https://i.loli.net/2020/03/19/caSr79khlpmREqT.png" class="lazyload" data-srcset="https://i.loli.net/2020/03/19/caSr79khlpmREqT.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="æ’å…¥æ’åº"></p><span id="more"></span><p><strong>C++ å®ç°</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert_sort_1</span><span class="params">(<span class="type">int</span> a[],<span class="type">int</span> n)</span><span class="comment">//å¯¹nä¸ªå…ƒç´ ä»å°åˆ°å¤§æ’åº</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i,j;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">temp = a[i];<span class="comment">//å¾…æ’å…¥å…ƒç´ </span></span><br><span class="line">j = i<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">while</span>(temp&lt;a[j] &amp;&amp; j)</span><br><span class="line">&#123;</span><br><span class="line">a[j+<span class="number">1</span>] = a[j];<span class="comment">//å°†å¤§çš„å¾€åæŒª</span></span><br><span class="line">j--;<span class="comment">//é¡ºåˆ©çš„è¯å¯ä»¥å‡åˆ°-1ï¼Œè¦ä¹ˆå°±æ˜¯å‡åˆ°å¯ä»¥æ’å…¥çš„ä½ç½®çš„å‰ä¸€ä¸ªä½ç½®</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥åé¢çš„jéœ€è¦åŠ 1</span></span><br><span class="line">&#125;</span><br><span class="line">a[j+<span class="number">1</span>]=temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Python å®ç°</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">insert_sort</span><span class="params">(arr: List[<span class="type">int</span>], n: <span class="type">int</span>)</span> -&gt; None:</span></span><br><span class="line"><span class="function">    for i in range(<span class="number">1</span>, n):</span></span><br><span class="line"><span class="function">        j: int =</span> i - <span class="number">1</span></span><br><span class="line">        wait_insert_ele: <span class="type">int</span> = arr[i]</span><br><span class="line">        <span class="keyword">while</span> j &gt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> arr[j] &gt; wait_insert_ele:</span><br><span class="line">                arr[j+<span class="number">1</span>] = arr[j]  # å°†å¤§äºå¾…æ’å…¥å…ƒç´ çš„å¾€åç§»</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        arr[j + <span class="number">1</span>] = wait_insert_ele  # æ’å…¥æ•°æ®</span><br></pre></td></tr></table></figure><h2 id="ç¨³å®šçš„å†’æ³¡æ’åº"><a href="#ç¨³å®šçš„å†’æ³¡æ’åº" class="headerlink" title="ç¨³å®šçš„å†’æ³¡æ’åº"></a>ç¨³å®šçš„å†’æ³¡æ’åº</h2><p>åŸºæœ¬æ€æƒ³:<br>æˆ‘ä»¬æŠŠå¾…æ’åºå…ƒç´ åºåˆ—ç«–ç›´æ”¾ç½®ï¼Œæ¯è¶Ÿ<strong>å¯¹ç›¸é‚»çš„å…ƒç´ </strong>è¿›è¡Œ<strong>ä¸¤ä¸¤æ¯”è¾ƒ</strong>ï¼Œé¡ºåºç›¸ååˆ™è¿›è¡Œäº¤æ¢ï¼Œæ¯è¶Ÿä¼šå°†æœ€å°æˆ–æœ€å¤§çš„å…ƒç´ â€œæµ®â€åˆ°å…ƒç´ åºåˆ—çš„é¡¶ç«¯ï¼Œæœ€ç»ˆå…ƒç´ åºåˆ—è¾¾åˆ°æœ‰åº</p><p><img src="https://i.loli.net/2020/04/22/JZPxfMrFWntuobd.png" class="lazyload" data-srcset="https://i.loli.net/2020/04/22/JZPxfMrFWntuobd.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å†’æ³¡æ’åºç¤ºä¾‹"></p><p><strong>å®ç°ç¤ºä¾‹</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">bubble_sort</span><span class="params">(<span class="type">int</span> array[],<span class="type">int</span> n)</span><span class="comment">// å¯¹ n ä¸ªæ•°ä»å°åˆ°å¤§æ’åºï¼Œæ³¨æ„æ•°ç»„ä¸‹æ ‡ä» 0 å¼€å§‹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i,j;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)<span class="comment">// è¿›è¡Œ n-1 è¶Ÿæ¯”è¾ƒ</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n<span class="number">-1</span>-i;j++)<span class="comment">// æ¯è¶Ÿè¿›è¡Œ n-1-i æ¬¡æ¯”è¾ƒ</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(array[j+<span class="number">1</span>]&lt;array[j])</span><br><span class="line">&#123;</span><br><span class="line">    temp = array[j+<span class="number">1</span>];</span><br><span class="line">    array[j+<span class="number">1</span>] = array[j];</span><br><span class="line">    array[j] = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼˜åŒ–ï¼ˆä¸€ä½†æœ‰ä¸€è¶Ÿä¸éœ€è¦æ¯”è¾ƒï¼Œå°±è¡¨æ˜å¯ä»¥ç»“æŸäº†ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">bubble_sort</span>(<span class="params">arr: <span class="type">List</span>[<span class="built_in">int</span>], n: <span class="built_in">int</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        flag: <span class="built_in">bool</span> = <span class="literal">False</span>  <span class="comment"># æ ‡è®°æŸè¶Ÿæ˜¯å¦è¿˜éœ€è¦æ¯”è¾ƒ</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, n-i-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> arr[j] &gt; arr[j+<span class="number">1</span>]:</span><br><span class="line">                arr[j+<span class="number">1</span>], arr[j] = arr[j], arr[j+<span class="number">1</span>]</span><br><span class="line">                flag = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> flag:  <span class="comment"># ä¸€ä½†æœ‰ä¸€è¶Ÿä¸éœ€è¦æ¯”è¾ƒï¼Œå°±è¡¨æ˜å¯ä»¥ç»“æŸäº†</span></span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure><h2 id="ä¸ç¨³å®šçš„å¿«é€Ÿæ’åº"><a href="#ä¸ç¨³å®šçš„å¿«é€Ÿæ’åº" class="headerlink" title="ä¸ç¨³å®šçš„å¿«é€Ÿæ’åº"></a>ä¸ç¨³å®šçš„å¿«é€Ÿæ’åº</h2><p>å¿«é€Ÿæ’åºæ˜¯åˆ†æ²»æ€æƒ³åœ¨æ’åºç®—æ³•ä¸Šçš„åº”ç”¨ï¼Œä»æœ¬è´¨ä¸Šæ¥è®²å¿«é€Ÿæ’åºåº”è¯¥æ˜¯åœ¨å†’æ³¡æ’åºåŸºç¡€ä¸Šçš„é€’å½’åˆ†æ²»æ³•ã€‚</p><p>ç®—æ³•æ­¥éª¤:</p><ol><li>ä»å¾…æ’æ•°åˆ—ä¸­é€‰å‡ºä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ï¼Œä¸€èˆ¬é€‰ç¬¬ä¸€ä¸ªå…ƒç´ </li><li>é‡æ–°æ’åºå¾…æ’æ•°åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å¤§çš„æ‘†æ”¾åœ¨åŸºå‡†åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥æ”¾åœ¨ä»»æ„ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºåï¼Œè¯¥åŸºå‡†å°±å¤„äºä¸­é—´ä½ç½®ã€‚ï¼ˆè¿™ä¸ªå³ä¸ºåˆ†åŒºæ“ä½œ(partion)ï¼‰ã€‚</li><li>é€’å½’åœ°æŠŠå°äºåŸºå‡†å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å…ƒç´ çš„å­æ•°åˆ—è¿›è¡Œæ’åºã€‚</li></ol><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">quick_sort</span>(<span class="params">arr: <span class="type">List</span>[<span class="built_in">int</span>], left: <span class="built_in">int</span>, right: <span class="built_in">int</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    <span class="keyword">if</span> left &gt;= right:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    index = partition(arr, left, right)</span><br><span class="line">    quick_sort(arr, left, index - <span class="number">1</span>)</span><br><span class="line">    quick_sort(arr, index + <span class="number">1</span>, right)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">partition</span>(<span class="params">arr: <span class="type">List</span>[<span class="built_in">int</span>], left: <span class="built_in">int</span>, right: <span class="built_in">int</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    pivot = arr[right]</span><br><span class="line">    index = left</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(left, right):</span><br><span class="line">        <span class="keyword">if</span> arr[j] &lt; pivot:</span><br><span class="line">            arr[j], arr[index] = arr[index], arr[j]</span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">    arr[index], arr[right] = arr[right], arr[index]</span><br><span class="line">    <span class="keyword">return</span> index</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/04/23/MVtB1dAEOvhYZcm.png" class="lazyload" data-srcset="https://i.loli.net/2020/04/23/MVtB1dAEOvhYZcm.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å¿«æ’ç¤ºä¾‹"></p><p><img src="https://i.loli.net/2020/03/19/u1rQk8RPE7fydet.png" class="lazyload" data-srcset="https://i.loli.net/2020/03/19/u1rQk8RPE7fydet.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="quickSort.gif"></p><p><strong>å¦ç±» C å®ç°</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> a[<span class="number">101</span>],n;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">quick_sort</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i,j,temp;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line"><span class="keyword">if</span>(left &gt; right)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">temp = a[left];<span class="comment">//åŸºå‡†æ•°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">i = left;</span><br><span class="line">j = right;</span><br><span class="line"><span class="keyword">while</span>(i != j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//é¡ºåºå¾ˆé‡è¦ï¼Œå…ˆä»å³å¾€å·¦æ‰¾</span></span><br><span class="line">    <span class="keyword">while</span>( a[j] &gt;= temp &amp;&amp; i&lt;j)</span><br><span class="line">&#123;</span><br><span class="line">j--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†ä»å·¦è¾¹å¾€å³æ‰¾</span></span><br><span class="line"><span class="keyword">while</span>( a[j] &lt;= temp &amp;&amp; i&lt;j)</span><br><span class="line">&#123;</span><br><span class="line">i++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//äº¤æ¢ä¸¤ä¸ªæ•°åœ¨æ•°ç»„ä¸­çš„ä½ç½®</span></span><br><span class="line"><span class="keyword">if</span>(i&lt;j)<span class="comment">//ä¸¤ä¸ªå“¨å…µæ²¡æœ‰ç›¸é‡</span></span><br><span class="line">&#123;</span><br><span class="line">t = a[i];</span><br><span class="line">a[i] = a[j];</span><br><span class="line">a[j] = t;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€ç»ˆå°†åŸºå‡†æ•°å½’ä½,</span></span><br><span class="line"></span><br><span class="line">a[left] = a[i];</span><br><span class="line"></span><br><span class="line">a[i] = temp;<span class="comment">//å½’ä½</span></span><br><span class="line"></span><br><span class="line">quick_sort(left,i<span class="number">-1</span>);<span class="comment">//ç»§ç»­å¤„ç†å·¦è¾¹çš„æ•°</span></span><br><span class="line">quick_sort(i+<span class="number">1</span>,right);<span class="comment">//ç»§ç»­å¤„ç†å³è¾¹çš„æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i,j;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=n; i++)<span class="comment">//ä¸‹è¡¨ä»1å¼€å§‹</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line"></span><br><span class="line">quick_sort(<span class="number">1</span>,n);<span class="comment">//sort</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>; j&lt;=n; j++)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[j]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><p><a href="https://blog.csdn.net/adusts/article/details/80882649">https://blog.csdn.net/adusts/article/details/80882649</a></p></li><li><p><a href="https://github.com/hustcc/JS-Sorting-Algorithm">https://github.com/hustcc/JS-Sorting-Algorithm</a></p></li><li><p><a href="https://time.geekbang.org/column/article/41913">æå®¢æ—¶é—´-æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒåˆ†æŸ¥æ‰¾</title>
      <link href="/2018/11/19/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
      <url>/2018/11/19/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="äºŒåˆ†æŸ¥æ‰¾ç®—æ³•"><a href="#äºŒåˆ†æŸ¥æ‰¾ç®—æ³•" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾ç®—æ³•"></a>äºŒåˆ†æŸ¥æ‰¾ç®—æ³•</h1><blockquote><p>äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬æ€æƒ³: å°† n ä¸ªå…ƒç´ åˆ†æˆå¤§è‡´ç›¸ç­‰çš„ä¸¤éƒ¨åˆ†ï¼Œå– a[n/2] ä¸ x(æŸ¥æ‰¾ç›®æ ‡å€¼) åšæ¯”è¾ƒï¼Œå¦‚æœ<code>x == a[n/2]</code> ,åˆ™æ‰¾åˆ° x,ç®—æ³•ä¸­æ­¢ï¼›å¦åˆ™ï¼Œå¦‚æœ<code>x &lt; a[n/2]</code>,åˆ™åªè¦åœ¨æ•°ç»„ a çš„å·¦åŠéƒ¨åˆ†ç»§ç»­æœç´¢ x,å¦‚æœ<code>x &gt; a[n/2]</code>, åˆ™åªè¦åœ¨æ•°ç»„ a çš„å³åŠéƒ¨æœç´¢ xã€‚</p></blockquote><p>ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„<strong>å‰æ</strong>ï¼šå¾…æŸ¥æ‰¾åºåˆ—æ˜¯æœ‰åºçš„</p><h1 id="æ—¶é—´å¤æ‚åº¦åˆ†æ"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æ" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æ"></a>æ—¶é—´å¤æ‚åº¦åˆ†æ</h1><p>ç”±ç®—æ³•æ ¸å¿ƒæ€æƒ³å¯çŸ¥ï¼šæ¯æ¬¡å¯¹æ¯”éƒ½å°†ä¸‹ä¸€æ­¥çš„æ¯”å¯¹èŒƒå›´ç¼©å°ä¸€åŠã€‚æ¯æ¬¡æ¯”å¯¹åå‰©ä½™æ•°æ®é¡¹å¦‚ä¸‹è¡¨:</p><p><img src="https://pic1.imgdb.cn/item/6367af5816f2c2beb1891990.jpg" class="lazyload" data-srcset="https://pic1.imgdb.cn/item/6367af5816f2c2beb1891990.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å‰©ä½™æ•°æ®é¡¹è¡¨"></p><h2 id="æœ€å¥½æƒ…å†µ"><a href="#æœ€å¥½æƒ…å†µ" class="headerlink" title="æœ€å¥½æƒ…å†µ"></a>æœ€å¥½æƒ…å†µ</h2><p>å³è¦æ‰¾çš„å…ƒç´ æ­£å¥½åœ¨åˆå§‹æŸ¥æ‰¾åºåˆ—çš„ä¸­é—´ä¸€æ¬¡æ¯”è¾ƒå‡ºç»“æœï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $ O(1) $ã€‚</p><h2 id="æœ€åæƒ…å†µ"><a href="#æœ€åæƒ…å†µ" class="headerlink" title="æœ€åæƒ…å†µ"></a>æœ€åæƒ…å†µ</h2><p>å³æ¯”å¯¹èŒƒå›´åªå‰©ä¸‹ 1 ä¸ªæ•°æ®é¡¹çš„æƒ…å†µè¿™ä¸ªæ•°æ®é¡¹å³ä¸ºæ­£è¦æ‰¾çš„å…ƒç´ ã€‚è¿™æ—¶ï¼Œå¯æ±‚è§£å¦‚ä¸‹æ–¹ç¨‹ç»„($ i $ ä¸ºæ¯”è¾ƒæ¬¡æ•°)ï¼š</p><p>$$ \frac{n}{2^i}=1 $$</p><p>æ—¶é—´å¤æ‚åº¦ä¸º $ O(log(n)) $</p><h2 id="å¹³å‡æ—¶é—´å¤æ‚åº¦"><a href="#å¹³å‡æ—¶é—´å¤æ‚åº¦" class="headerlink" title="å¹³å‡æ—¶é—´å¤æ‚åº¦"></a>å¹³å‡æ—¶é—´å¤æ‚åº¦</h2><p>è¿›è¡Œå¹³å‡æ—¶é—´å¤æ‚åº¦åˆ†ææ—¶éœ€è¦è®¨è®ºï¼šéšç€å…ƒç´ ä¸ªæ•°nçš„å¢å¤šï¼Œéœ€è¦å‡ æ­¥ç®—æ³•æ‰èƒ½ç»ˆæ­¢ï¼ŸæŸ¥æ‰¾æˆåŠŸæœ‰å¤šå°‘ç§æƒ…å†µï¼ŸæŸ¥æ‰¾å¤±è´¥æœ‰å¤šå°‘ç§æƒ…å†µï¼Ÿ</p><p>è®¾ $ n=2^k-1 $, $ k $ ä¸ºæ¯”è¾ƒæ¬¡æ•°ã€‚æ˜“çŸ¥ï¼Œå¯¹äº $$ t=1,2,â€¦, \lfloor log(n) \rfloor + 1 $$, ä¼šæœ‰ $ 2^{t-1} $ ä¸ªå…ƒç´ åœ¨ $ t $ æ­¥ä¹‹åä½¿ç®—æ³•æˆåŠŸç»ˆæ­¢ã€‚æ€»å…±æœ‰ $ (2n+1) $ ç§æƒ…å†µï¼Œ$ n $ ç§æƒ…å†µä¸ºæˆåŠŸç»“æŸï¼Œ$ (n+1) $ ç§æƒ…å†µä¸ºå¤±è´¥ç»ˆæ­¢ã€‚</p><p>ç”±æ­¤å¯å¾—äºŒåˆ†æœç´¢çš„å¹³å‡æ¯”è¾ƒæ¬¡æ•°ä¸º $ (k = \lfloor log(n) \rfloor + 1) $ï¼š<br>$$ A(n)= \frac{1}{2n+1}(\sum_{i=1}^{k}i2^{i-1} + k(n+1)) $$<br>æ ¹æ®åˆç­‰æ•°å­¦ç­‰å·®ä¹˜ç­‰æ¯”æ•°åˆ—æ±‚å’Œçš„é”™ä½ç›¸å‡æ³•/è£‚é¡¹ç›¸æ¶ˆæ³•ã€‚æ˜“çŸ¥,<br>$$ \sum_{i=1}^{k}i2^{i-1} = 2^k(k-1)+1 $$</p><blockquote><p>ä½¿ç”¨è£‚é¡¹ç›¸æ¶ˆæ³•<br>ç”± $ \sum_{i=1}^{k}i2^{i-1} $ï¼Œè®¾ $ a_i=i2^{i-1},(i=1,â€¦,k) $ã€‚æ³¨æ„åˆ°ï¼Œ$ a_i=(k-1)2^k-(k-2)2^{k-1} $ã€‚<br>$$ \sum_{i=1}^{k}i2^{i-1}=0\times2^1+1+1\times2^2-0\times2^1+2\times2^3-1\times2^2+â€¦+(k-1)2^k-(k-2)2^{k-1}=2^k(k-1)+1 $$</p></blockquote><p>$$ A(n)= \frac{1}{2n+1}(\sum_{i=1}^{k}i2^{i-1} + k(n+1)) $$<br>$$ \sum_{i=1}^{k}i2^{i-1} = 2^k(k-1)+1 $$<br>ç»¼ä¸Šå¯å¾—ï¼Œ$$ A(n) = \frac{1}{2n+1}((k-1)2^{k}+1+k2^k) $$</p><p>å½“ $ n $ éå¸¸å¤§æ—¶ï¼Œå¯å¾—<br>$$ A(n) \approx \frac{1}{2^{k+1}}((k-1)2^{k}+k2^k)=\frac{(k-1)}{2}+\frac{k}{2}=k-\frac{1}{2} $$<br>æ‰€ä»¥ $ A(n)&lt;k=O(log(n)) $ ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$ O(log(n)) $ã€‚</p><h1 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># binary_search</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">binary_search</span>(<span class="params">list_1, item</span>):</span><br><span class="line"></span><br><span class="line">    low = <span class="number">0</span></span><br><span class="line">    high = <span class="built_in">len</span>(list_1)-<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> low &lt;= high:</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;ä½¿ç”¨ // æ•´é™¤è¿ç®—ç¬¦å¯ä»¥ä¸ç”¨intè¿›è¡Œç±»å‹è½¬æ¢&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="comment">#æ¯æ¬¡éƒ½æ£€æŸ¥ä¸­é—´çš„å…ƒç´ </span></span><br><span class="line">        mid = (low + high)/<span class="number">2</span></span><br><span class="line">        guess = list_1[<span class="built_in">int</span>(mid)]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> guess == item:</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">int</span>(mid)<span class="comment">#è¿”å›æ‰€åœ¨ä½ç½®çš„ç´¢å¼•</span></span><br><span class="line">        <span class="keyword">if</span> guess &lt; item:   <span class="comment">#çŒœçš„æ•°å­—å°äº†ï¼Œä¿®æ”¹low</span></span><br><span class="line">            low = mid+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> guess &gt; item:   <span class="comment">#çŒœçš„æ•°å­—å¤§äº†ï¼Œä¿®æ”¹high</span></span><br><span class="line">            high = mid-<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line"></span><br><span class="line">    list_2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(binary_search(list_2, <span class="number">8</span>))</span><br><span class="line">    <span class="built_in">print</span>(binary_search(list_2, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/5V9geRk.png" class="lazyload" data-srcset="https://i.imgur.com/5V9geRk.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œæ•ˆæœ"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">binary_search</span><span class="params">(<span class="type">int</span> a[<span class="number">9</span>],<span class="type">int</span> n,<span class="type">int</span> x)</span><span class="comment">//nä¸ºå…ƒç´ ä¸ªæ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> mid;</span><br><span class="line">    <span class="type">int</span> high,low=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> guess;</span><br><span class="line"></span><br><span class="line">    high = n<span class="number">-1</span>;<span class="comment">//æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(low &lt;= high)</span><br><span class="line">    &#123;</span><br><span class="line">        mid = (high+low)/<span class="number">2</span>;</span><br><span class="line">        guess = a[mid];</span><br><span class="line">        <span class="keyword">if</span>(guess == x)</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="keyword">if</span>(guess &gt; x)</span><br><span class="line">            high = mid<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">if</span>(guess &lt; x)</span><br><span class="line">    low = mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">9</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="built_in">sizeof</span>(a)/<span class="built_in">sizeof</span>(<span class="type">int</span>)&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="built_in">typeid</span>(<span class="built_in">sizeof</span>(a)/<span class="built_in">sizeof</span>(<span class="type">int</span>)).<span class="built_in">name</span>()&lt;&lt;endl;</span><br><span class="line">    temp = <span class="built_in">binary_search</span>(a,<span class="built_in">sizeof</span>(a)/<span class="built_in">sizeof</span>(<span class="type">int</span>),<span class="number">5</span>);</span><br><span class="line">cout&lt;&lt;temp&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/4IuXQTE.png" class="lazyload" data-srcset="https://i.imgur.com/4IuXQTE.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œæ•ˆæœ"></p><p>é™„ï¼šC++ ä½¿ç”¨å¤´æ–‡ä»¶typeinfoä¸‹çš„typeid(parameter).name()å¯è·å–å‚æ•°è·å–ç±»å‹å</p><p><img src="https://i.imgur.com/U3uKacO.png" class="lazyload" data-srcset="https://i.imgur.com/U3uKacO.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç¤ºä¾‹"></p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
            <tag> Algorithm </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++é¢å‘å¯¹è±¡-8</title>
      <link href="/2018/11/15/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-8/"/>
      <url>/2018/11/15/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ä½¿ç”¨structå…³é”®å­—å®šä¹‰ç±»"><a href="#ä½¿ç”¨structå…³é”®å­—å®šä¹‰ç±»" class="headerlink" title="ä½¿ç”¨structå…³é”®å­—å®šä¹‰ç±»"></a>ä½¿ç”¨structå…³é”®å­—å®šä¹‰ç±»</h1><p>*** ä½¿ç”¨classå’Œstructå®šä¹‰ç±»çš„å”¯ä¸€åŒºåˆ«å°±æ˜¯é»˜è®¤çš„è®¿é—®æƒé™ ***]</p><ul><li>ä½¿ç”¨structå…³é”®å­—ï¼Œå®šä¹‰åœ¨ç¬¬ä¸€ä¸ªè®¿é—®è¯´æ˜ç¬¦ä¹‹å‰çš„æˆå‘˜æ˜¯public</li><li>ä½¿ç”¨classå…³é”®å­—ï¼Œå®šä¹‰åœ¨ç¬¬ä¸€ä¸ªè®¿é—®è¯´æ˜ç¬¦ä¹‹å‰çš„æˆå‘˜æ˜¯private</li></ul><p>å®šä¹‰åœ¨ç±»å†…çš„æˆå‘˜å‡½æ•°æ˜¯è‡ªåŠ¨inlineçš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Sales_data</span>&#123;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- isbnæˆå‘˜å‡½æ•°ç”¨äºè¿”å›å¯¹è±¡çš„ISBNç¼–å·</span></span><br><span class="line"><span class="comment">- combineæˆå‘˜å‡½æ•°ï¼Œç”¨äºå°†ä¸€ä¸ªSales_dataå¯¹è±¡åŠ åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸Š</span></span><br><span class="line"><span class="comment">- avg_priceæˆå‘˜å‡½æ•°ï¼Œç”¨äºè¿”å›å”®å‡ºä¹¦ç±çš„å¹³å‡ä»·æ ¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">string <span class="title">isbn</span><span class="params">()</span> <span class="type">const</span></span>&#123;<span class="keyword">return</span> bookNo;&#125;<span class="comment">//è¿™æ˜¯ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œä¸èƒ½æ”¹å˜è°ƒç”¨å®ƒçš„å¯¹è±¡çš„å†…å®¹</span></span><br><span class="line"><span class="function">Sales_data&amp; <span class="title">combine</span><span class="params">(<span class="type">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">avg_price</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line">string bookNo;              <span class="comment">//ISBN</span></span><br><span class="line"><span class="type">unsigned</span> units_sold = <span class="number">0</span>;    <span class="comment">//é”€å”®æ€»æ•°</span></span><br><span class="line"><span class="type">double</span>  revenue = <span class="number">0.0</span>;      <span class="comment">//æ”¶ç›Š</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Sales_data::avg_price</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(units_sold)</span><br><span class="line">    <span class="keyword">return</span> revenue/units_sold;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data&amp; <span class="title">Sales_data::combine</span><span class="params">(<span class="type">const</span> Sales_data &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">units_sold += rhs.units_sold;</span><br><span class="line">revenue += rhs.revenue;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;<span class="comment">//è¿”å›è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Salse_dataçš„éæˆå‘˜æ¥å£å‡½æ•°ï¼š</span></span><br><span class="line"><span class="comment">- addå‡½æ•°ï¼Œæ‰§è¡Œä¸¤ä¸ªSales_dataå¯¹è±¡çš„åŠ æ³•</span></span><br><span class="line"><span class="comment">- readå‡½æ•°ï¼Œå°†æ•°æ®ä»istreamè¯»å…¥åˆ°Sales_dataå¯¹è±¡ä¸­</span></span><br><span class="line"><span class="comment">- printå‡½æ•°ï¼Œå°†Sales_dataå¯¹è±¡çš„å€¼è¾“å‡ºåˆ°ostream</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="type">const</span> Sales_data&amp; ,<span class="type">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line"><span class="function">ostream &amp;<span class="title">print</span><span class="params">(ostream&amp; , <span class="type">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line"><span class="function">istream &amp;<span class="title">read</span><span class="params">(istream&amp; , <span class="type">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å…¥çš„äº¤æ˜“ä¿¡æ¯åŒ…æ‹¬ISBNã€å”®å‡ºæ€»æ•°ã€å”®å‡ºä»·æ ¼</span></span><br><span class="line"><span class="function">istream &amp;<span class="title">read</span><span class="params">(istream &amp;is, Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> price = <span class="number">0.0</span>;</span><br><span class="line">is&gt;&gt;item.bookNo&gt;&gt;item.units_sold&gt;&gt;price;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ostream &amp;<span class="title">print</span><span class="params">(ostream &amp;os, <span class="type">const</span> Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    os&lt;&lt;item.<span class="built_in">isbn</span>()&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;item.units_sold&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">  &lt;&lt;item.revenue&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;item.<span class="built_in">avg_price</span>();</span><br><span class="line"><span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="type">const</span> Sales_data &amp;lhs, <span class="type">const</span> Sales_data &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Sales_data sum = lhs;<span class="comment">//æŠŠlhsçš„æ•°æ®æˆå‘˜æ‹·è´ç»™sum</span></span><br><span class="line">sum.<span class="built_in">combine</span>(rhs);</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Sales_data total;</span><br><span class="line">string temp;</span><br><span class="line">temp = <span class="string">&quot;shansan&quot;</span>;</span><br><span class="line">total.bookNo = temp;</span><br><span class="line"><span class="comment">//total.bookNo = &quot;shansan&quot;;</span></span><br><span class="line">cout&lt;&lt;total.bookNo&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;total.<span class="built_in">isbn</span>()&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/ypJrUqp.png" class="lazyload" data-srcset="https://i.imgur.com/ypJrUqp.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h1 id="ä½¿ç”¨-defaultä¿ç•™é»˜è®¤çš„æ„é€ å‡½æ•°-amp-æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨"><a href="#ä½¿ç”¨-defaultä¿ç•™é»˜è®¤çš„æ„é€ å‡½æ•°-amp-æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨" class="headerlink" title="ä½¿ç”¨=defaultä¿ç•™é»˜è®¤çš„æ„é€ å‡½æ•° &amp; æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨"></a>ä½¿ç”¨<code>=default</code>ä¿ç•™é»˜è®¤çš„æ„é€ å‡½æ•° &amp; æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨</h1><ul><li>å½“æˆ‘ä»¬éœ€è¦å…¶ä»–æ„é€ å‡½æ•°çš„æ—¶ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›ä¿ç•™é»˜è®¤çš„æ„é€ å‡½æ•°æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨<code>= default</code></li><li>æ„é€ å‡½æ•°åˆå§‹å€¼æ˜¯æˆå‘˜å‡½æ•°çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸ªåå­—åé¢ç´§è·Ÿæ‹¬å·æ‹¬èµ·æ¥çš„ï¼ˆæˆ–åˆ™åœ¨èŠ±æ‹¬å·å†…çš„ï¼‰æˆå‘˜åˆå§‹å€¼ã€‚ä¸åŒæˆå‘˜çš„åˆå§‹å€¼é€šè¿‡é€—å·åˆ†éš”</li><li>æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨åªè¯´æ˜ç”¨äºåˆå§‹åŒ–æˆå‘˜çš„å€¼,è€Œä¸é™å®šåˆå§‹åŒ–çš„å…·ä½“æ‰§è¡Œé¡ºåº</li><li>ä½†æ˜¯å¦‚æœä¸€ä¸ªæˆå‘˜æ˜¯ç”¨å¦ä¸€ä¸ªæˆå‘˜æ¥åˆå§‹åŒ–çš„ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæˆå‘˜çš„åˆå§‹åŒ–é¡ºåºå°±å¾ˆé‡è¦</li><li>consturctor(parameter):initializer_list,æ³¨æ„é‚£ä¸ªå†’å·ï¼Œæ„é€ å‡½æ•°ä¸èƒ½è¢«å£°æ˜æˆconstçš„</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Sales_data</span>&#123;</span><br><span class="line">    <span class="comment">//æ–°å¢æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="comment">//ä½¿ç”¨æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨ï¼Œæ³¨æ„é‚£ä¸ªå†’å·</span></span><br><span class="line">    <span class="comment">//è¿™ä¸¤ä¸ªæ„é€ å‡½æ•°çš„å‡½æ•°ä½“éƒ½æ˜¯ç©ºçš„ï¼Œæ„é€ å‡½æ•°æ²¡æœ‰è¿”å›ç±»å‹</span></span><br><span class="line"><span class="built_in">Sales_data</span>() = <span class="keyword">default</span>;<span class="comment">//ä¿ç•™é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">Sales_data</span>(<span class="type">const</span> string &amp;s) :<span class="built_in">bookNo</span>(s) &#123;&#125;</span><br><span class="line"><span class="built_in">Sales_data</span>(<span class="type">const</span> string &amp;s, <span class="type">unsigned</span> n, <span class="type">double</span> p):<span class="built_in">bookNo</span>(s),<span class="built_in">units_sold</span>(n),<span class="built_in">revenue</span>(p*n) &#123;&#125;</span><br><span class="line"><span class="comment">//å£°æ˜ä¸€ä¸ªconstructorï¼Œå®šä¹‰æ”¾åœ¨ç±»å¤–äº†</span></span><br><span class="line"><span class="built_in">Sales_data</span>(istream&amp;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">isbn</span><span class="params">()</span> <span class="type">const</span></span>&#123;<span class="keyword">return</span> bookNo;&#125;<span class="comment">//è¿™æ˜¯ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œä¸èƒ½æ”¹å˜è°ƒç”¨å®ƒçš„å¯¹è±¡çš„å†…å®¹</span></span><br><span class="line"><span class="function">Sales_data&amp; <span class="title">combine</span><span class="params">(<span class="type">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">avg_price</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line">string bookNo;</span><br><span class="line"><span class="type">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line"><span class="type">double</span>  revenue = <span class="number">0.0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Sales_data::avg_price</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(units_sold)</span><br><span class="line">    <span class="keyword">return</span> revenue/units_sold;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data&amp; <span class="title">Sales_data::combine</span><span class="params">(<span class="type">const</span> Sales_data &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">units_sold += rhs.units_sold;</span><br><span class="line">revenue += rhs.revenue;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;<span class="comment">//è¿”å›è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Salse_dataçš„éæˆå‘˜æ¥å£å‡½æ•°ï¼š</span></span><br><span class="line"><span class="comment">- addå‡½æ•°ï¼Œæ‰§è¡Œä¸¤ä¸ªSales_dataå¯¹è±¡çš„åŠ æ³•</span></span><br><span class="line"><span class="comment">- readå‡½æ•°ï¼Œå°†æ•°æ®ä»istreamè¯»å…¥åˆ°Sales_dataå¯¹è±¡ä¸­</span></span><br><span class="line"><span class="comment">- printå‡½æ•°ï¼Œå°†Sales_dataå¯¹è±¡çš„å€¼è¾“å‡ºåˆ°ostream</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="type">const</span> Sales_data&amp; ,<span class="type">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line"><span class="function">ostream &amp;<span class="title">print</span><span class="params">(ostream&amp; , <span class="type">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line"><span class="function">istream &amp;<span class="title">read</span><span class="params">(istream&amp; , <span class="type">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å…¥çš„äº¤æ˜“ä¿¡æ¯åŒ…æ‹¬ISBNã€å”®å‡ºæ€»æ•°ã€å”®å‡ºä»·æ ¼</span></span><br><span class="line"><span class="function">istream &amp;<span class="title">read</span><span class="params">(istream &amp;is, Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> price = <span class="number">0.0</span>;</span><br><span class="line">is&gt;&gt;item.bookNo&gt;&gt;item.units_sold&gt;&gt;price;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ostream &amp;<span class="title">print</span><span class="params">(ostream &amp;os, <span class="type">const</span> Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    os&lt;&lt;item.<span class="built_in">isbn</span>()&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;item.units_sold&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">  &lt;&lt;item.revenue&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;item.<span class="built_in">avg_price</span>()&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="type">const</span> Sales_data &amp;lhs, <span class="type">const</span> Sales_data &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Sales_data sum = lhs;<span class="comment">//æŠŠlhsçš„æ•°æ®æˆå‘˜æ‹·è´ç»™sum</span></span><br><span class="line">sum.<span class="built_in">combine</span>(rhs);</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»å¤–å®šä¹‰æ–°çš„æ„é€ å‡½æ•°</span></span><br><span class="line">Sales_data::<span class="built_in">Sales_data</span>(istream &amp;is)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">read</span>(is,*<span class="keyword">this</span>);<span class="comment">//ä»isä¸­è¯»å…¥ä¸€æ¡ä¿¡æ¯å­˜åˆ°thiså¯¹è±¡ä¸­</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Sales_data total;<span class="comment">//è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•°</span></span><br><span class="line">string temp;</span><br><span class="line">temp = <span class="string">&quot;shansan&quot;</span>;</span><br><span class="line">total.bookNo = temp;</span><br><span class="line"><span class="comment">//total.bookNo = &quot;shansan&quot;;</span></span><br><span class="line">cout&lt;&lt;total.bookNo&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;total.<span class="built_in">isbn</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">let</span><span class="params">(<span class="string">&quot;shansan.top&quot;</span>,<span class="number">33</span>,<span class="number">33</span>)</span></span>;<span class="comment">//è°ƒç”¨æ„é€ å‡½æ•°Sales_data(const string &amp;s, unsigned n, double p)</span></span><br><span class="line">cout&lt;&lt;let.bookNo&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;let.units_sold&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;let.revenue&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">Sales_data read_print;<span class="comment">//è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">read</span>(cin,read_print);</span><br><span class="line"><span class="built_in">print</span>(cout,read_print);</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">dada</span><span class="params">(cin)</span></span>;<span class="comment">//è°ƒç”¨æ„é€ å‡½æ•°Sales_data(istream &amp;is)</span></span><br><span class="line"><span class="built_in">print</span>(cout,dada);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/v0yNjIS.gif" class="lazyload" data-srcset="https://i.imgur.com/v0yNjIS.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h1 id="å§”æ‰˜æ„é€ å‡½æ•°"><a href="#å§”æ‰˜æ„é€ å‡½æ•°" class="headerlink" title="å§”æ‰˜æ„é€ å‡½æ•°"></a>å§”æ‰˜æ„é€ å‡½æ•°</h1><ul><li>ä¸€ä¸ªå§”æ‰˜æ„é€ å‡½æ•°ä½¿ç”¨å®ƒæ‰€å±ç±»çš„å…¶ä»–æ„é€ å‡½æ•°æ‰§è¡Œå®ƒè‡ªå·±çš„åˆå§‹åŒ–è¿‡ç¨‹</li><li>å®ƒæŠŠè‡ªå·±çš„ä¸€äº›æˆ–å…¨éƒ¨èŒè´£å§”æ‰˜ç»™äº†å…¶ä»–æ„é€ å‡½æ•°</li><li>ä¸€ä¸ªå§”æ‰˜æ„é€ å‡½æ•°å’Œå…¶ä»–æ„é€ å‡½æ•°ä¸€æ ·ä¹Ÿæœ‰ä¸€ä¸ªæˆå‘˜åˆå§‹å€¼åˆ—è¡¨å’Œä¸€ä¸ªå‡½æ•°ä½“</li><li>å§”æ‰˜æ„é€ å‡½æ•°çš„æˆå‘˜åˆå§‹å€¼åˆ—è¡¨åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œå°±æ˜¯ç±»åæœ¬èº«ã€‚ç±»ååé¢ç´§è·Ÿåœ†æ‹¬å·æ‹¬èµ·æ¥çš„åˆå§‹å€¼åˆ—è¡¨ï¼Œå‚æ•°åˆ—è¡¨å¿…é¡»ä¸å¦ä¸€ä¸ªæ„é€ å‡½æ•°åŒ¹é…</li><li>å½“ä¸€ä¸ªæ„é€ å‡½æ•°å§”æ‰˜ç»™å¦ä¸€ä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œå—å§”æ‰˜çš„æ„é€ å‡½æ•°çš„åˆå§‹å€¼åˆ—è¡¨å’Œå‡½æ•°ä½“è¢«ä¾æ¬¡æ‰§è¡Œ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//éå§”æ‰˜æ„é€ å‡½æ•°ä½¿ç”¨å¯¹åº”çš„å®å‚åˆå§‹åŒ–æˆå‘˜</span></span><br><span class="line">        <span class="built_in">People</span>(string m,string x,<span class="type">int</span> n):<span class="built_in">first_name</span>(m),<span class="built_in">last_name</span>(x),<span class="built_in">age</span>(n) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¶ä½™æ„é€ å‡½æ•°å…¨éƒ¨å§”æ‰˜ç»™å¦ä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">//æ³¨æ„ä½¿ç”¨å†’å·</span></span><br><span class="line"><span class="built_in">People</span>(): <span class="built_in">People</span>(<span class="string">&quot;li&quot;</span>,<span class="string">&quot;lei&quot;</span>,<span class="number">18</span>)&#123;&#125;</span><br><span class="line"><span class="built_in">People</span>(string insert): <span class="built_in">People</span>(insert,<span class="string">&quot;wan&quot;</span>,<span class="number">33</span>)&#123;&#125;</span><br><span class="line">        <span class="built_in">People</span>(<span class="type">int</span> a): <span class="built_in">People</span>(<span class="string">&quot;wu&quot;</span>,<span class="string">&quot;ge&quot;</span>,a)&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">print_info</span><span class="params">(People temp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;temp.first_name&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;temp.last_name&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;temp.age&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string first_name;</span><br><span class="line">string last_name;</span><br><span class="line"><span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">People <span class="title">num_1</span><span class="params">(<span class="string">&quot;shan&quot;</span>,<span class="string">&quot;san&quot;</span>,<span class="number">18</span>)</span></span>;<span class="comment">//è°ƒç”¨æ„é€ å‡½æ•° People(string m,string x,int n)</span></span><br><span class="line">    num_1.<span class="built_in">print_info</span>(num_1);</span><br><span class="line"></span><br><span class="line">    People num_2;<span class="comment">//è°ƒç”¨å§”æ‰˜æ„é€ å‡½æ•° People(&quot;li&quot;,&quot;lei&quot;,18)</span></span><br><span class="line">    num_2.<span class="built_in">print_info</span>(num_2);</span><br><span class="line"></span><br><span class="line">    <span class="function">People <span class="title">num_3</span><span class="params">(<span class="string">&quot;six&quot;</span>)</span></span>;<span class="comment">//è°ƒç”¨å§”æ‰˜æ„é€ å‡½æ•° People(string insert)</span></span><br><span class="line">num_3.<span class="built_in">print_info</span>(num_3);</span><br><span class="line"></span><br><span class="line"><span class="function">People <span class="title">num_4</span><span class="params">(<span class="number">100</span>)</span></span>;<span class="comment">//è°ƒç”¨å§”æ‰˜æ„é€ å‡½æ•° People(int a)</span></span><br><span class="line">num_4.<span class="built_in">print_info</span>(num_4);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/5wf8lji.png" class="lazyload" data-srcset="https://i.imgur.com/5wf8lji.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç²¾åº¦(precision)æ§åˆ¶</title>
      <link href="/2018/11/06/%E7%B2%BE%E5%BA%A6-precision-%E6%8E%A7%E5%88%B6/"/>
      <url>/2018/11/06/%E7%B2%BE%E5%BA%A6-precision-%E6%8E%A7%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="C-è¾“å‡ºç²¾åº¦ï¼ˆprecisionï¼‰æ§åˆ¶-æ ¼å¼åŒ–è¾“å‡º"><a href="#C-è¾“å‡ºç²¾åº¦ï¼ˆprecisionï¼‰æ§åˆ¶-æ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="C++è¾“å‡ºç²¾åº¦ï¼ˆprecisionï¼‰æ§åˆ¶,æ ¼å¼åŒ–è¾“å‡º"></a>C++è¾“å‡ºç²¾åº¦ï¼ˆprecisionï¼‰æ§åˆ¶,æ ¼å¼åŒ–è¾“å‡º</h1><h2 id="ä½¿ç”¨coutå¯¹è±¡çš„æˆå‘˜"><a href="#ä½¿ç”¨coutå¯¹è±¡çš„æˆå‘˜" class="headerlink" title="ä½¿ç”¨coutå¯¹è±¡çš„æˆå‘˜"></a>ä½¿ç”¨coutå¯¹è±¡çš„æˆå‘˜</h2><ul><li>setprecision()</li><li>setf()</li><li>width()</li><li>fill()</li><li>flags(ios::fixed)</li></ul><span id="more"></span><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> a=<span class="number">3.1415926</span>;</span><br><span class="line"><span class="type">double</span> c=<span class="number">66.666666</span>;</span><br><span class="line"></span><br><span class="line">cout.<span class="built_in">precision</span>(<span class="number">3</span>);        <span class="comment">//æ§åˆ¶è¾“å‡ºæµæ˜¾ç¤ºçš„æœ‰æ•ˆæ•°å­—ä¸ªæ•°</span></span><br><span class="line">cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;c&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout.<span class="built_in">width</span>(<span class="number">8</span>);           <span class="comment">//æ§åˆ¶è¾“å‡ºå®½åº¦</span></span><br><span class="line">cout.<span class="built_in">setf</span>(ios::right);   <span class="comment">//è®¾ç½®å¯¹é½æ–¹å¼</span></span><br><span class="line">cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout.<span class="built_in">setf</span>(ios::right);</span><br><span class="line">cout.<span class="built_in">fill</span>(<span class="string">&#x27;#&#x27;</span>);          <span class="comment">//è®¾ç½®å¡«å……å­—ç¬¦</span></span><br><span class="line">cout.<span class="built_in">width</span>(<span class="number">8</span>);</span><br><span class="line">cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout.<span class="built_in">flags</span>(ios::fixed); <span class="comment">//flags(ios::fixed)å’Œprecision()é…åˆä½¿ç”¨æ§åˆ¶ç²¾åº¦</span></span><br><span class="line">cout.<span class="built_in">precision</span>(<span class="number">4</span>);</span><br><span class="line">cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/PHoahko.png" class="lazyload" data-srcset="https://i.imgur.com/PHoahko.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="ä½¿ç”¨å¤´æ–‡ä»¶iomanipä¸­çš„setprecision-å’Œsetiosflags-ios-fixed-è¿›è¡Œç²¾åº¦æ§åˆ¶"><a href="#ä½¿ç”¨å¤´æ–‡ä»¶iomanipä¸­çš„setprecision-å’Œsetiosflags-ios-fixed-è¿›è¡Œç²¾åº¦æ§åˆ¶" class="headerlink" title="ä½¿ç”¨å¤´æ–‡ä»¶iomanipä¸­çš„setprecision()å’Œsetiosflags(ios::fixed)è¿›è¡Œç²¾åº¦æ§åˆ¶"></a>ä½¿ç”¨å¤´æ–‡ä»¶iomanipä¸­çš„setprecision()å’Œsetiosflags(ios::fixed)è¿›è¡Œç²¾åº¦æ§åˆ¶</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> e = <span class="number">2.7182818</span>;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="built_in">setprecision</span>(<span class="number">3</span>)&lt;&lt;e&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="built_in">setiosflags</span>(ios::fixed)&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">setprecision</span>(<span class="number">3</span>)&lt;&lt;e&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/5IDLZTl.png" class="lazyload" data-srcset="https://i.imgur.com/5IDLZTl.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>å‚è€ƒè‡ªï¼š<br><a href="https://blog.csdn.net/yanglingwell/article/details/49507463">https://blog.csdn.net/yanglingwell/article/details/49507463</a></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++æ ‡å‡†åº“ç±»å‹</title>
      <link href="/2018/11/05/C++-%E6%A0%87%E5%87%86%E5%BA%93%E7%B1%BB%E5%9E%8B/"/>
      <url>/2018/11/05/C++-%E6%A0%87%E5%87%86%E5%BA%93%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="æ ‡å‡†åº“ç±»å‹string"><a href="#æ ‡å‡†åº“ç±»å‹string" class="headerlink" title="æ ‡å‡†åº“ç±»å‹string"></a>æ ‡å‡†åº“ç±»å‹string</h1><ul><li>æ ‡å‡†åº“ç±»å‹stringè¡¨ç¤ºå¯å˜é•¿çš„å­—ç¬¦åºåˆ—</li><li>ä½¿ç”¨stringç±»å‹å¿…é¡»åŒ…å«stringå¤´æ–‡ä»¶ï¼Œstringå®šä¹‰åœ¨å‘½åç©ºé—´stdä¸­</li></ul><h2 id="å®šä¹‰å’Œåˆå§‹åŒ–stringå¯¹è±¡"><a href="#å®šä¹‰å’Œåˆå§‹åŒ–stringå¯¹è±¡" class="headerlink" title="å®šä¹‰å’Œåˆå§‹åŒ–stringå¯¹è±¡"></a>å®šä¹‰å’Œåˆå§‹åŒ–stringå¯¹è±¡</h2><p>åˆå§‹åŒ–stringå¯¹è±¡çš„æ–¹å¼</p><table><thead><tr><th align="left">åˆå§‹åŒ–æ–¹å¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">string s1</td><td align="left">é»˜è®¤åˆå§‹åŒ–ï¼Œs1æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²</td></tr><tr><td align="left">string s2(s1)</td><td align="left">s2æ˜¯s1çš„å‰¯æœ¬</td></tr><tr><td align="left">string s2=s1</td><td align="left">ç­‰ä»·äºs2(s1)ï¼Œs2æ˜¯s1çš„å‰¯æœ¬</td></tr><tr><td align="left">string s3(â€œshansanâ€)</td><td align="left">s3æ˜¯å­—é¢å€¼â€shansanâ€çš„å‰¯æœ¬ï¼Œé™¤äº†å­—é¢å€¼æœ€åçš„é‚£ä¸ªç©ºå­—ç¬¦ä¸²å¤–</td></tr><tr><td align="left">string s3=â€shansanâ€</td><td align="left">ç­‰ä»·äºs3(â€œshansanâ€)</td></tr><tr><td align="left">string s4(n,â€™câ€™)</td><td align="left">æŠŠs4åˆå§‹åŒ–ä¸ºç”±è¿ç»­nä¸ªå­—ç¬¦cç»„æˆçš„ä¸²</td></tr></tbody></table><span id="more"></span><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">string s1;</span><br><span class="line">cout&lt;&lt;s1&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;1&quot;</span>&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">string s2 = <span class="string">&quot;shansan&quot;</span>;</span><br><span class="line">cout&lt;&lt;s2&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">s3</span><span class="params">(s2)</span></span>;</span><br><span class="line">cout&lt;&lt;s3&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">s4</span><span class="params">(<span class="number">6</span>,<span class="string">&#x27;s&#x27;</span>)</span></span>;</span><br><span class="line">cout&lt;&lt;s4&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/KacK6Mf.png" class="lazyload" data-srcset="https://i.imgur.com/KacK6Mf.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="stringå¯¹è±¡ä¸Šçš„æ“ä½œ"><a href="#stringå¯¹è±¡ä¸Šçš„æ“ä½œ" class="headerlink" title="stringå¯¹è±¡ä¸Šçš„æ“ä½œ"></a>stringå¯¹è±¡ä¸Šçš„æ“ä½œ</h2><ul><li>getline(is,s):ä»isä¸­è¯»å–ä¸€è¡Œèµ‹ç»™sï¼Œè¿”å›is</li><li>s.empty():sä¸ºç©ºè¿”å›true</li><li>s.size():è¿”å›sä¸­å­—ç¬¦çš„ä¸ªæ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//empty(),getline(),size()</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">string s;</span><br><span class="line"></span><br><span class="line">cin&gt;&gt;s;</span><br><span class="line"><span class="comment">//* è¯»å–æ—¶stringå¯¹è±¡ä¼šé»˜è®¤å¿½ç•¥æ‰å¼€å¤´çš„ç©ºç™½ï¼ˆå³ç©ºæ ¼ç¬¦ã€æ¢è¡Œç¬¦ã€åˆ¶è¡¨ç¬¦ç­‰ï¼‰</span></span><br><span class="line"><span class="comment">//* ä»ç¬¬ä¸€ä¸ªçœŸæ­£çš„å­—ç¬¦å¼€å§‹è¯»èµ·ï¼Œç›´åˆ°é‡è§ä¸‹ä¸€å¤„ç©ºç™½ä¸ºæ­¢</span></span><br><span class="line">cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;s.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!s.<span class="built_in">empty</span>())<span class="comment">//å¦‚æœstringå¯¹è±¡éç©º</span></span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the string is not empty !&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">string line;</span><br><span class="line"><span class="comment">//æ¯æ¬¡è¯»å–ä¸€æ•´è¡Œï¼Œé‡åˆ°æ¢è¡Œç¬¦ç»“æŸ</span></span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">getline</span>(cin,line))</span><br><span class="line">    cout&lt;&lt;line&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/d0rQ9vw.gif" class="lazyload" data-srcset="https://i.imgur.com/d0rQ9vw.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h1 id="æ ‡å‡†åº“ç±»å‹vector"><a href="#æ ‡å‡†åº“ç±»å‹vector" class="headerlink" title="æ ‡å‡†åº“ç±»å‹vector"></a>æ ‡å‡†åº“ç±»å‹vector</h1><p>** #include<vector> **</p><ul><li>æ ‡å‡†åº“ç±»å‹è¡¨ç¤ºå¯¹è±¡çš„é›†åˆï¼Œå…¶ä¸­æ‰€æœ‰çš„å¯¹è±¡ç±»å‹éƒ½ç›¸åŒ</li><li>é›†åˆä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„ç´¢å¼•ï¼Œç´¢å¼•ç”¨äºè®¿é—®å¯¹è±¡</li></ul><h2 id="å®šä¹‰å’Œåˆå§‹åŒ–vectorå¯¹è±¡"><a href="#å®šä¹‰å’Œåˆå§‹åŒ–vectorå¯¹è±¡" class="headerlink" title="å®šä¹‰å’Œåˆå§‹åŒ–vectorå¯¹è±¡"></a>å®šä¹‰å’Œåˆå§‹åŒ–vectorå¯¹è±¡</h2><table><thead><tr><th align="left">å®šä¹‰å’Œåˆå§‹åŒ–vectorå¯¹è±¡çš„æ–¹æ³•</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">vector<T> v1</td><td align="left">v1æ˜¯ä¸€ä¸ªç©ºvectorï¼Œå®ƒæ½œåœ¨çš„å…ƒç´ æ˜¯Tç±»å‹çš„ï¼Œæ‰§è¡Œé»˜è®¤åˆå§‹åŒ–</td></tr><tr><td align="left">vector<T> v2(v1)</td><td align="left">v2ä¸­åŒ…å«æœ‰v1æ‰€æœ‰å…ƒç´ çš„å‰¯æœ¬</td></tr><tr><td align="left">vector<T> v2=v1</td><td align="left">ç­‰ä»·äºv2(v1)</td></tr><tr><td align="left">vector<T> v3(n,value)</td><td align="left">v3åŒ…å«äº†nä¸ªé‡å¤çš„å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ çš„å€¼éƒ½æ˜¯value</td></tr><tr><td align="left">vector<T> v4(n)</td><td align="left">v4åŒ…å«äº†nä¸ªé‡å¤åœ°æ‰§è¡Œäº†å€¼åˆå§‹åŒ–çš„å¯¹è±¡</td></tr><tr><td align="left">vector<T> v5{a,b,c,â€¦}</td><td align="left">v5åŒ…å«äº†åˆå§‹å€¼çš„ä¸ªæ•°çš„å…ƒç´ ï¼Œæ¯å…ƒç´ è¢«èµ‹äºˆç›¸åº”çš„åˆå§‹å€¼</td></tr><tr><td align="left">vector<T> v5={a,b,c,â€¦}</td><td align="left">ç­‰ä»·äºv5</td></tr></tbody></table><h2 id="vectorå¯¹è±¡ä¸Šçš„æ“ä½œ"><a href="#vectorå¯¹è±¡ä¸Šçš„æ“ä½œ" class="headerlink" title="vectorå¯¹è±¡ä¸Šçš„æ“ä½œ"></a>vectorå¯¹è±¡ä¸Šçš„æ“ä½œ</h2><ul><li>v.empty():å¦‚æœvä¸å«æœ‰ä»»ä½•å…ƒç´ ï¼Œè¿”å›çœŸï¼Œå¦è€…è¿”å›å‡</li><li>v.size():è¿”å›vä¸­å…ƒç´ çš„ä¸ªæ•°</li><li>v.push_back(t):å‘vçš„å°¾ç«¯æ·»åŠ ä¸€ä¸ªå€¼ä¸ºtçš„å…ƒç´ </li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; s=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;;<span class="comment">//åˆ—è¡¨åˆå§‹åŒ–vectorå¯¹è±¡s</span></span><br><span class="line"><span class="comment">//- å¯ä½¿ç”¨ä¸‹æ ‡è®¿é—®vectorå¯¹è±¡</span></span><br><span class="line">cout&lt;&lt;s[<span class="number">0</span>]&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">8</span>,<span class="number">1</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i:a)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">string word;</span><br><span class="line">vector&lt;string&gt; text;</span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;word)</span><br><span class="line">&#123;</span><br><span class="line">text.<span class="built_in">push_back</span>(word);<span class="comment">//push_back()</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> str:text)</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;str&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/GWogUU7.gif" class="lazyload" data-srcset="https://i.imgur.com/GWogUU7.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="ä½¿ç”¨èŒƒå›´forè¯­å¥å¤„ç†vectorå¯¹è±¡"><a href="#ä½¿ç”¨èŒƒå›´forè¯­å¥å¤„ç†vectorå¯¹è±¡" class="headerlink" title="ä½¿ç”¨èŒƒå›´forè¯­å¥å¤„ç†vectorå¯¹è±¡"></a>ä½¿ç”¨èŒƒå›´forè¯­å¥å¤„ç†vectorå¯¹è±¡</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;num)<span class="comment">//è·å–å…ƒç´ å€¼</span></span><br><span class="line">&#123;</span><br><span class="line">v.<span class="built_in">push_back</span>(num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;i:v)<span class="comment">//æ±‚å…ƒç´ å€¼çš„å¹³æ–¹</span></span><br><span class="line">&#123;</span><br><span class="line">i = i*i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp:v)<span class="comment">//è¾“å‡ºvä¸­æ¯ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/UGVxERa.png" class="lazyload" data-srcset="https://i.imgur.com/UGVxERa.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="ä¸å¯ç”¨ä¸‹æ ‡å½¢å¼ä¸ºvectorå¯¹è±¡æ·»åŠ å…ƒç´ "><a href="#ä¸å¯ç”¨ä¸‹æ ‡å½¢å¼ä¸ºvectorå¯¹è±¡æ·»åŠ å…ƒç´ " class="headerlink" title="ä¸å¯ç”¨ä¸‹æ ‡å½¢å¼ä¸ºvectorå¯¹è±¡æ·»åŠ å…ƒç´ "></a>ä¸å¯ç”¨ä¸‹æ ‡å½¢å¼ä¸ºvectorå¯¹è±¡æ·»åŠ å…ƒç´ </h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;<span class="comment">//ç©ºçš„vectorå¯¹è±¡</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">decltype</span>(v.<span class="built_in">size</span>()) i =<span class="number">0</span>;i!=<span class="number">6</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">v[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// -væ˜¯ä¸€ä¸ªç©ºçš„vectorï¼Œä¸å­˜åœ¨ä»»ä½•å…ƒç´ ï¼Œä¸èƒ½é€šè¿‡ä¸‹æ ‡å»è®¿é—®</span></span><br><span class="line"><span class="comment">// -åº”è¯¥ä½¿ç”¨vectorå¯¹è±¡çš„æˆå‘˜å‡½æ•°push_back()ä¸ºvectorå¯¹è±¡æ·»åŠ å…ƒç´ è¾ƒä¸ºå®‰å…¨</span></span><br><span class="line">cout&lt;&lt;v[<span class="number">0</span>]&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/wnFCgYu.png" class="lazyload" data-srcset="https://i.imgur.com/wnFCgYu.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><font color="red">vectorå¯¹è±¡(ä»¥åŠstringå¯¹è±¡)çš„ä¸‹æ ‡è¿ç®—ç¬¦å¯ç”¨äºè®¿é—®å·²å­˜åœ¨çš„å…ƒç´ ï¼Œè€Œä¸èƒ½ç”¨äºæ·»åŠ å…ƒç´ </font></p><h1 id="ä½¿ç”¨æ ‡å‡†åº“å‡½æ•°begin-å’Œend-éå†æ•°ç»„"><a href="#ä½¿ç”¨æ ‡å‡†åº“å‡½æ•°begin-å’Œend-éå†æ•°ç»„" class="headerlink" title="ä½¿ç”¨æ ‡å‡†åº“å‡½æ•°begin()å’Œend()éå†æ•°ç»„"></a>ä½¿ç”¨æ ‡å‡†åº“å‡½æ•°begin()å’Œend()éå†æ•°ç»„</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//åº“å‡½æ•°beginå’Œendï¼Œä»¥æ•°ç»„åä½œä¸ºå‚æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> sums[]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"><span class="type">int</span> *beg = <span class="built_in">begin</span>(sums);        <span class="comment">//æŒ‡å‘sumsé¦–å…ƒç´ çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="type">int</span> *last = <span class="built_in">end</span>(sums);         <span class="comment">//æŒ‡å‘sumså°¾å…ƒç´ çš„ä¸‹ä¸€ä½ç½®çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="type">int</span> *temp;</span><br><span class="line"><span class="keyword">for</span>(temp = beg;temp != last;temp++)</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;*temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/mQfE3Y9.png" class="lazyload" data-srcset="https://i.imgur.com/mQfE3Y9.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><ul><li>begin()å‡½æ•°è¿”å›æŒ‡å‘æ•°ç»„sumsé¦–å…ƒç´ çš„æŒ‡é’ˆ</li><li>end()å‡½æ•°è¿”å›æŒ‡å‘æ•°ç»„sumså°¾å…ƒç´ ä¸‹ä¸€ä½ç½®çš„æŒ‡é’ˆ</li></ul><h1 id="ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡ï¼ˆå®¹å™¨-stringå¯¹è±¡ï¼‰çš„æˆå‘˜begin-å’Œend-è¿›è¡Œéå†"><a href="#ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡ï¼ˆå®¹å™¨-stringå¯¹è±¡ï¼‰çš„æˆå‘˜begin-å’Œend-è¿›è¡Œéå†" class="headerlink" title="ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡ï¼ˆå®¹å™¨||stringå¯¹è±¡ï¼‰çš„æˆå‘˜begin()å’Œend()è¿›è¡Œéå†"></a>ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡ï¼ˆå®¹å™¨||stringå¯¹è±¡ï¼‰çš„æˆå‘˜begin()å’Œend()è¿›è¡Œéå†</h1><ul><li>endæˆå‘˜è¿”å›æŒ‡å‘å®¹å™¨(stringå¯¹è±¡)â€œå°¾å…ƒç´ ä¸‹ä¸€ä½ç½®ï¼ˆone past the endï¼‰â€çš„è¿­ä»£å™¨ï¼ˆå°¾åè¿­ä»£å™¨ï¼‰</li><li>beginæˆå‘˜è´Ÿè´£è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆæˆ–è€…ç¬¬ä¸€ä¸ªå­—ç¬¦çš„è¿­ä»£å™¨ï¼‰</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">string s=<span class="string">&quot;shan san&quot;</span>;<span class="comment">//s(&quot;shan san&quot;);</span></span><br><span class="line">cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="line"><span class="comment">//é¦–å­—æ¯æ”¹æˆå¤§å†™å½¢å¼</span></span><br><span class="line"><span class="keyword">if</span>(s.<span class="built_in">begin</span>() != s.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">auto</span> it = s.<span class="built_in">begin</span>();<span class="comment">//ä»¤itæŒ‡å‘sçš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">*it = <span class="built_in">toupper</span>(*it);</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨éƒ¨å­—æ¯æ”¹æˆå¤§å†™å½¢å¼,&amp;&amp; !isspace(*temp)</span></span><br><span class="line"><span class="comment">//tempæ˜¯ä¸ªè¿­ä»£å™¨ï¼Œé€šè¿‡ * è¿ç®—ç¬¦è§£å¼•ç”¨è¿­ä»£å™¨è·å¾—è¿­ä»£å™¨æ‰€æŒ‡çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp=s.<span class="built_in">begin</span>();temp != s.<span class="built_in">end</span>() ; temp++)</span><br><span class="line">&#123;</span><br><span class="line">*temp = <span class="built_in">toupper</span>(*temp);</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> a=<span class="number">8</span>;</span><br><span class="line"><span class="comment">//a=0;</span></span><br><span class="line">cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> c[<span class="number">10</span>]=<span class="string">&quot;123456789&quot;</span>;</span><br><span class="line"><span class="type">char</span> b[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">strcpy</span>(b,c);</span><br><span class="line">cout&lt;&lt;b[<span class="number">1</span>]&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/6FIwWel.png" class="lazyload" data-srcset="https://i.imgur.com/6FIwWel.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++11ç‰¹æ€§-1</title>
      <link href="/2018/11/05/C++-11%E7%89%B9%E6%80%A7-1/"/>
      <url>/2018/11/05/C++-11%E7%89%B9%E6%80%A7-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="c-11ç‰¹æ€§"><a href="#c-11ç‰¹æ€§" class="headerlink" title="c++11ç‰¹æ€§"></a>c++11ç‰¹æ€§</h1><h2 id="åˆ—è¡¨åˆå§‹åŒ–"><a href="#åˆ—è¡¨åˆå§‹åŒ–" class="headerlink" title="åˆ—è¡¨åˆå§‹åŒ–"></a>åˆ—è¡¨åˆå§‹åŒ–</h2><ul><li>ä½¿ç”¨èŠ±æ‹¬å·æ¥åˆå§‹åŒ–å¯¹è±¡</li><li>ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–å†…ç½®ç±»å‹çš„å˜é‡ï¼Œå¯èƒ½ä¼šå­˜åœ¨ä¸¢å¤±ä¿¡æ¯çš„é£é™©<span id="more"></span><img src="https://i.imgur.com/424Ebkh.png" class="lazyload" data-srcset="https://i.imgur.com/424Ebkh.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></li></ul><h2 id="autoç±»å‹è¯´æ˜ç¬¦å·decltypeç±»å‹è¯´æ˜ç¬¦"><a href="#autoç±»å‹è¯´æ˜ç¬¦å·decltypeç±»å‹è¯´æ˜ç¬¦" class="headerlink" title="autoç±»å‹è¯´æ˜ç¬¦å·decltypeç±»å‹è¯´æ˜ç¬¦"></a>autoç±»å‹è¯´æ˜ç¬¦å·decltypeç±»å‹è¯´æ˜ç¬¦</h2><h2 id="auto"><a href="#auto" class="headerlink" title="auto"></a>auto</h2><ul><li>autoè®©ç¼–è¯‘å™¨é€šè¿‡åˆå§‹å€¼æ¥æ¨ç®—å˜é‡çš„ç±»å‹</li><li>ä½¿ç”¨autoä¹Ÿèƒ½åœ¨ä¸€æ¡è¯­å¥ä¸­å£°æ˜å¤šä¸ªå˜é‡ã€‚å› ä¸ºä¸€æ¡å£°æ˜è¯­å¥åªèƒ½æœ‰ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥è¯¥è¯­å¥ä¸­çš„æ‰€æœ‰å˜é‡çš„åˆå§‹åŸºæœ¬æ•°æ®ç±»å‹éƒ½å¿…é¡»ä¸€æ ·</li><li>ç¼–è¯‘å™¨æ¨æ–­å‡ºæ¥çš„autoç±»å‹æœ‰æ—¶å€™å’Œåˆå§‹å€¼çš„ç±»å‹å¹¶ä¸å®Œå…¨ä¸€æ ·ï¼Œç¼–è¯‘å™¨ä¼šé€‚å½“åœ°æ”¹å˜ç»“æœç±»å‹ä½¿å…¶æ›´ç¬¦åˆåˆå§‹åŒ–è§„åˆ™</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a = <span class="number">33</span>;</span><br><span class="line"><span class="type">double</span> pi = <span class="number">3.1415926</span>;</span><br><span class="line"><span class="keyword">auto</span> b=a;</span><br><span class="line"><span class="comment">//auto c=1.414,d=1;//[Error] inconsistent deduction for &#x27;auto&#x27;: &#x27;double&#x27; and then &#x27;int&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="built_in">typeid</span>(pi).<span class="built_in">name</span>()&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">typeid</span>(a).<span class="built_in">name</span>()&lt;&lt;endl;</span><br><span class="line"><span class="comment">//cout&lt;&lt;typeid(c).name()&lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/zEnxwi5.png" class="lazyload" data-srcset="https://i.imgur.com/zEnxwi5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="delctype"><a href="#delctype" class="headerlink" title="delctype"></a>delctype</h2><ul><li>ä»è¡¨è¾¾å¼çš„ç±»å‹æ¨æ–­å‡ºè¦å®šä¹‰çš„å˜é‡çš„ç±»å‹ï¼Œä¸ä½¿ç”¨è¯¥è¡¨è¾¾å¼çš„å€¼åˆå§‹åŒ–å˜é‡</li><li>ç¼–è¯‘å™¨åˆ†æè¡¨è¾¾å¼å¹¶å¾—åˆ°å®ƒçš„ç±»å‹ï¼Œå´ä¸å®é™…è®¡ç®—è¡¨è¾¾å¼çš„å€¼</li><li>å¦‚æœdecltypeä½¿ç”¨çš„è¡¨è¾¾å¼ä¸æ˜¯ä¸€ä¸ªå˜é‡ï¼Œåˆ™è¿”å›è¡¨è¾¾å¼ç»“æœå¯¹ç”¨çš„ç±»å‹</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a=<span class="number">1</span>,b=<span class="number">3</span>;</span><br><span class="line"><span class="type">int</span> &amp;refer_a=a;</span><br><span class="line"></span><br><span class="line"><span class="keyword">decltype</span>(a+b) temp=<span class="number">33</span>;</span><br><span class="line"><span class="keyword">decltype</span>(refer_a) en=b;<span class="comment">//å¼•ç”¨ç±»å‹å®šä¹‰æ—¶å°±å¿…é¡»åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">decltype</span>((a)) refer=b;<span class="comment">//decltype((variable))çš„ç»“æœæ°¸è¿œæ˜¯å¼•ç”¨ï¼Œä½¿ç”¨äº†åŒå±‚æ‹¬å·</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;<span class="string">&quot;it&#x27;s type:&#x27;&quot;</span>&lt;&lt;<span class="built_in">typeid</span>(temp).<span class="built_in">name</span>()&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;refer_a;</span><br><span class="line">cout&lt;&lt;en&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;refer&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/41jvbQ0.png" class="lazyload" data-srcset="https://i.imgur.com/41jvbQ0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="èŒƒå›´forè¯­å¥"><a href="#èŒƒå›´forè¯­å¥" class="headerlink" title="èŒƒå›´forè¯­å¥"></a>èŒƒå›´forè¯­å¥</h2><p>åŸºæœ¬å½¢å¼ï¼š</p><pre><code>for(declaration : expression)    statement</code></pre><ul><li>expressionéƒ¨åˆ†æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªåºåˆ—</li><li>declarationéƒ¨åˆ†è´Ÿè´£å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œè¯¥å˜é‡å°†è¢«ç”¨äºè®¿é—®åºåˆ—ä¸­çš„åŸºç¡€å…ƒç´ ã€‚æ¯æ¬¡è¿­ä»£ï¼Œdeclarationéƒ¨åˆ†çš„å˜é‡éƒ½ä¼šè¢«åˆå§‹åŒ–ä¸ºexpressionéƒ¨åˆ†çš„ä¸‹ä¸€ä¸ªå…ƒç´ å€¼</li></ul><h3 id="ä½¿ç”¨èŒƒå›´forè¯­å¥éå†stringå¯¹è±¡"><a href="#ä½¿ç”¨èŒƒå›´forè¯­å¥éå†stringå¯¹è±¡" class="headerlink" title="ä½¿ç”¨èŒƒå›´forè¯­å¥éå†stringå¯¹è±¡"></a>ä½¿ç”¨èŒƒå›´forè¯­å¥éå†stringå¯¹è±¡</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;shan san&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡ç¼–è¯‘å™¨æ¥å†³å®šå˜é‡çš„ç±»å‹</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> s : str)</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;s&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp : str)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;temp;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨å¼•ç”¨,ä½¿å­—ç¬¦ä¸²å¯¹è±¡strå˜ä¸ºå¤§å†™</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;a : str)</span><br><span class="line">&#123;</span><br><span class="line">a = <span class="built_in">toupper</span>(a);</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;str&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨ä¸‹æ ‡è¿›è¡Œè¿­ä»£,æ”¹å˜å­—ç¬¦ä¸²å¯¹è±¡strçš„å¤§å°å†™çŠ¶æ€</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">decltype</span>(str.<span class="built_in">size</span>()) index = <span class="number">0</span>; index != str.<span class="built_in">size</span>(); ++index)</span><br><span class="line">&#123;</span><br><span class="line">str[index] = <span class="built_in">toupper</span>(str[index]);</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;str;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/vcUvaGh.png" class="lazyload" data-srcset="https://i.imgur.com/vcUvaGh.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="ä½¿ç”¨èŒƒå›´forè¯­å¥éå†äºŒç»´æ•°ç»„"><a href="#ä½¿ç”¨èŒƒå›´forè¯­å¥éå†äºŒç»´æ•°ç»„" class="headerlink" title="ä½¿ç”¨èŒƒå›´forè¯­å¥éå†äºŒç»´æ•°ç»„"></a>ä½¿ç”¨èŒƒå›´forè¯­å¥éå†äºŒç»´æ•°ç»„</h2><p>*** ä½¿ç”¨èŒƒå›´forè¯­å¥å¤„ç†å¤šç»´æ•°ç»„ï¼Œé™¤äº†æœ€å†…å±‚çš„å¾ªç¯å¤–ï¼Œå…¶ä»–æ‰€æœ‰å¾ªç¯çš„æ§åˆ¶å˜é‡éƒ½åº”è¯¥æ˜¯å¼•ç”¨ç±»å‹ ***</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstddef&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">constexpr</span> <span class="type">size_t</span> rowCnt = <span class="number">3</span>,colCnt = <span class="number">4</span>;</span><br><span class="line"><span class="type">int</span> a[rowCnt][colCnt];</span><br><span class="line"></span><br><span class="line"><span class="comment">//äºŒä½æ•°ç»„åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">size_t</span> i = <span class="number">0</span>; i != rowCnt; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">size_t</span> j=<span class="number">0</span>; j != colCnt;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å°†å…ƒç´ çš„ä½ç½®ç´¢å¼•ä½œä¸ºå®ƒçš„å€¼</span></span><br><span class="line">a[i][j] = i*colCnt + j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;temp : a)           <span class="comment">//å¯¹äºå¤–å±‚æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> lim :temp)       <span class="comment">//å¯¹äºå†…å±‚æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;lim&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨èŒƒå›´forè¯­å¥éå†vectorå¯¹è±¡"><a href="#ä½¿ç”¨èŒƒå›´forè¯­å¥éå†vectorå¯¹è±¡" class="headerlink" title="ä½¿ç”¨èŒƒå›´forè¯­å¥éå†vectorå¯¹è±¡"></a>ä½¿ç”¨èŒƒå›´forè¯­å¥éå†vectorå¯¹è±¡</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> scores;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;scores)</span><br><span class="line">&#123;</span><br><span class="line">    v.<span class="built_in">push_back</span>(scores);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp : v)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;temp&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/gsUr526.png" class="lazyload" data-srcset="https://i.imgur.com/gsUr526.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonç”Ÿæˆå™¨å›é¡¾</title>
      <link href="/2018/11/02/python%E7%94%9F%E6%88%90%E5%99%A8%E5%9B%9E%E9%A1%BE/"/>
      <url>/2018/11/02/python%E7%94%9F%E6%88%90%E5%99%A8%E5%9B%9E%E9%A1%BE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="pythonç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰"><a href="#pythonç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰" class="headerlink" title="pythonç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰"></a>pythonç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰</h1><ul><li>ç”Ÿæˆå™¨æ˜¯ä¸€ç§ä½¿ç”¨æ™®é€šå‡½æ•°è¯­æ³•å®šä¹‰çš„è¿­ä»£å™¨</li><li>åŒ…å«yieldè¯­å¥çš„å‡½æ•°éƒ½æ˜¯ç”Ÿæˆå™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸æ–­äº§ç”Ÿå€¼çš„å‡½æ•°</li><li>ç”Ÿæˆå™¨æ¯æ¬¡ä½¿ç”¨yieldäº§ç”Ÿä¸€ä¸ªå€¼åï¼Œå‡½æ•°éƒ½å°†å†»ç»“ï¼Œå³åœ¨æ­¤å¤„åœæ­¢æ‰§è¡Œï¼Œç­‰å¾…é‡æ–°è¢«å”¤é†’ã€‚è¢«å”¤é†’åä»åœæ­¢çš„åœ°æ–¹å¼€å§‹ç»§ç»­æ‰§è¡Œ</li></ul><h2 id="ç”Ÿæˆå™¨æ¨å¯¼ï¼ˆç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼‰"><a href="#ç”Ÿæˆå™¨æ¨å¯¼ï¼ˆç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼‰" class="headerlink" title="ç”Ÿæˆå™¨æ¨å¯¼ï¼ˆç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼‰"></a>ç”Ÿæˆå™¨æ¨å¯¼ï¼ˆç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼‰</h2><p>*** ä½¿ç”¨åœ†æ‹¬å·<code>()</code>åˆ›å»ºä¸€ä¸ªç”Ÿæˆå™¨æ¨å¯¼ ***,å®ƒåˆ›å»ºäº†ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡<br>ä½¿ç”¨next()å‡½æ•°å¯ä»¥è·å¾—ç”Ÿæˆå™¨æ¨å¯¼çš„ä¸‹ä¸€ä¸ªè¿”å›å€¼</p><pre><code>g = (i**2 for i in range(10))</code></pre><span id="more"></span><p><img src="https://i.imgur.com/wmTo1u5.png" class="lazyload" data-srcset="https://i.imgur.com/wmTo1u5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="simple-generator"><a href="#simple-generator" class="headerlink" title="simple generator"></a>simple generator</h2><p>** demo_1 **</p><blockquote><p>æ–æ³¢æ‹‰å¥‘æ•°åˆ—ï¼ˆFibonacciï¼‰ï¼Œé™¤ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ•°å¤–ï¼Œä»»æ„ä¸€ä¸ªæ•°éƒ½å¯ç”±å‰ä¸¤ä¸ªæ•°ç›¸åŠ å¾—åˆ°</p></blockquote><p><img src="https://i.imgur.com/NgdbD2D.png" class="lazyload" data-srcset="https://i.imgur.com/NgdbD2D.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>** demo_2_generator **</p><p><img src="https://i.imgur.com/hEt9tRq.png" class="lazyload" data-srcset="https://i.imgur.com/hEt9tRq.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="recursive-generator"><a href="#recursive-generator" class="headerlink" title="recursive generator"></a>recursive generator</h2><p>å¤„ç†å¤šå±‚åµŒå¥—åˆ—è¡¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">flagtten</span>(<span class="params">nested</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">for</span> sublist <span class="keyword">in</span> nested:</span><br><span class="line">            <span class="keyword">for</span> element <span class="keyword">in</span> flagtten(sublist):</span><br><span class="line">                <span class="keyword">yield</span> element</span><br><span class="line">    <span class="keyword">except</span> TypeError:<span class="comment">#å¤„ç†è¿­ä»£å•ä¸ªå¯¹è±¡å¼•èµ·çš„typeerrorå¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">yield</span> nested</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    s = <span class="built_in">list</span>(flagtten([<span class="number">1</span>,[<span class="number">2</span>,<span class="number">3</span>]]))</span><br><span class="line">    <span class="built_in">print</span>(s)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">flagtten</span>(<span class="params">nested</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment">#ä¸è¿­ä»£ç±»ä¼¼äºå­—ç¬¦ä¸²çš„å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            nested + <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">except</span> TypeError:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> TypeError</span><br><span class="line">        <span class="keyword">for</span> sublist <span class="keyword">in</span> nested:</span><br><span class="line">            <span class="keyword">for</span> temp <span class="keyword">in</span> flagtten(sublist):</span><br><span class="line">                <span class="keyword">yield</span> temp</span><br><span class="line">    <span class="keyword">except</span> TypeError:</span><br><span class="line">        <span class="keyword">yield</span> nested</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    s = <span class="built_in">list</span>(flagtten([<span class="string">&quot;haha&quot;</span>,[<span class="string">&quot;shan&quot;</span>,<span class="string">&quot;san&quot;</span>]]))</span><br><span class="line">    <span class="built_in">print</span>(s)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/8YyFVoE.gif" class="lazyload" data-srcset="https://i.imgur.com/8YyFVoE.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scrapyçˆ¬è™«æ¡†æ¶</title>
      <link href="/2018/10/31/Scrapy%E7%88%AC%E8%99%AB%E6%A1%86%E6%9E%B6/"/>
      <url>/2018/10/31/Scrapy%E7%88%AC%E8%99%AB%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ç½‘ç»œçˆ¬è™«æ¡†æ¶scrapy"><a href="#ç½‘ç»œçˆ¬è™«æ¡†æ¶scrapy" class="headerlink" title="ç½‘ç»œçˆ¬è™«æ¡†æ¶scrapy"></a>ç½‘ç»œçˆ¬è™«æ¡†æ¶<a href="https://scrapy.org/">scrapy</a></h1><p>ï¼ˆé…ç½®å‹çˆ¬è™«ï¼‰</p><p>ä»€ä¹ˆæ˜¯çˆ¬è™«æ¡†æ¶ï¼Ÿ</p><ul><li>çˆ¬è™«æ¡†æ¶æ˜¯å®ç°çˆ¬è™«åŠŸèƒ½çš„ä¸€ä¸ªè½¯ä»¶ç»“æ„å’ŒåŠŸèƒ½ç»„ä»¶é›†åˆ</li><li>çˆ¬è™«æ¡†æ¶æ˜¯ä¸ªåŠæˆå“ï¼Œå¸®åŠ©ç”¨æˆ·å®ç°ä¸“ä¸šç½‘ç»œçˆ¬è™«</li></ul><h1 id="scrapyæ¡†æ¶ç»“æ„-â€œ5-2â€ç»“æ„"><a href="#scrapyæ¡†æ¶ç»“æ„-â€œ5-2â€ç»“æ„" class="headerlink" title="scrapyæ¡†æ¶ç»“æ„(â€œ5+2â€ç»“æ„)"></a>scrapyæ¡†æ¶ç»“æ„(â€œ5+2â€ç»“æ„)</h1><p><img src="https://i.imgur.com/Wlai3fH.png" class="lazyload" data-srcset="https://i.imgur.com/Wlai3fH.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><ol><li>spider:</li></ol><ul><li>è§£ædownloaderè¿”å›çš„å“åº”ï¼ˆResponseï¼‰</li><li>äº§ç”Ÿçˆ¬å–é¡¹ï¼ˆscraped itemï¼‰</li><li>äº§ç”Ÿé¢å¤–çš„çˆ¬å»è¯·æ±‚ï¼ˆRequestï¼‰<br>éœ€è¦ç”¨æˆ·ç¼–å†™é…ç½®ä»£ç </li></ul><ol start="2"><li>engine(å¼•æ“):</li></ol><ul><li>æ§åˆ¶æ‰€æœ‰æ¨¡å—ä¹‹é—´çš„æ•°æ®æµ</li><li>æ ¹æ®æ¡ä»¶è§¦å‘äº‹ä»¶<br>ä¸éœ€è¦ç”¨æˆ·ä¿®æ”¹</li></ul><ol start="3"><li>scheduler(è°ƒåº¦å™¨):</li></ol><ul><li>å¯¹æ‰€æœ‰çˆ¬å–è¯·æ±‚è¿›è¡Œè°ƒåº¦å¤„ç†<br>ä¸éœ€è¦ç”¨æˆ·ä¿®æ”¹</li></ul><ol start="4"><li>downloader(ä¸‹è½½å™¨):</li></ol><ul><li>æ ¹æ®è¯·æ±‚ä¸‹è½½ç½‘é¡µ<br>ä¸éœ€è¦ç”¨æˆ·ä¿®æ”¹</li></ul><ol start="5"><li>item pipelines():</li></ol><ul><li>ä»¥æµæ°´çº¿å¤„ç†spideräº§ç”Ÿçš„çˆ¬å–é¡¹</li><li>ç”±ä¸€ç»„æ“ä½œé¡ºåºç»„æˆï¼Œç±»ä¼¼æµæ°´çº¿ï¼Œæ¯ä¸ªæ“ä½œæ˜¯ä¸€ä¸ªItem Pipelineç±»å‹</li><li>å¯èƒ½æ“ä½œåŒ…æ‹¬ï¼šæ¸…ç†ã€æ£€éªŒå’ŒæŸ¥é‡çˆ¬å–é¡¹ä¸­çš„HTMLæ•°æ®ï¼Œå°†æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ä¸­<br>éœ€è¦ç”¨æˆ·ç¼–å†™é…ç½®ä»£ç </li></ul><ol start="6"><li>downloader middleware(ä¸­é—´ä»¶):</li></ol><ul><li>ç›®çš„ï¼šå®æ–½engineã€schedulerå’Œdownloaderä¹‹é—´è¿›è¡Œç”¨æˆ·å¯é…ç½®çš„æ§åˆ¶</li><li>åŠŸèƒ½ï¼šä¿®æ”¹ã€ä¸¢å¼ƒã€æ–°å¢è¯·æ±‚æˆ–å“åº”<br>ç”¨æˆ·å¯ä»¥ç¼–å†™é…ç½®ä»£ç </li></ul><ol start="7"><li>spider middleware(ä¸­é—´ä»¶):</li></ol><ul><li>ç›®çš„ï¼šå¯¹è¯·æ±‚å’Œçˆ¬å»é¡¹çš„å†å¤„ç†</li><li>åŠŸèƒ½ï¼šä¿®æ”¹ã€ä¸¢å¼ƒã€æ–°å¢è¯·æ±‚æˆ–çˆ¬å–é¡¹<br>ç”¨æˆ·å¯ä»¥ç¼–å†™é…ç½®ä»£ç </li></ul><h1 id="æ•°æ®æµ"><a href="#æ•°æ®æµ" class="headerlink" title="æ•°æ®æµ"></a>æ•°æ®æµ</h1><p><img src="https://i.imgur.com/MDlRnll.png" class="lazyload" data-srcset="https://i.imgur.com/MDlRnll.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><ul><li>1.Engineä»Spiderå¤„è·å¾—çˆ¬å–è¯·æ±‚(Request)</li><li>2.Engineå°†çˆ¬å–è¯·æ±‚è½¬å‘ç»™Scheduler,ç”¨äºè°ƒåº¦</li><li>3.Engineä»Schedulerå¤„è·å¾—ä¸‹ä¸€ä¸ªçˆ¬å–çš„è¯·æ±‚</li><li>4.Engineå°†çˆ¬å–è¯·æ±‚é€šè¿‡ä¸­é—´ä»¶å‘é€ç»™Downloader</li><li>5.çˆ¬å–ç½‘é¡µåï¼ŒDownloaderå½¢æˆå“åº”(Response)ï¼Œé€šè¿‡ä¸­é—´ä»¶(Middleware)å‘ç»™Engine</li><li>6.Engineå°†æ”¶åˆ°çš„å“åº”é€šè¿‡ä¸­é—´ä»¶å‘é€ç»™Spiderå¤„ç†</li><li>7.Spiderå¤„ç†å“åº”åäº§ç”Ÿçˆ¬å–é¡¹ï¼ˆscraped itemï¼‰å’Œæ–°çš„çˆ¬å–è¯·æ±‚(Requests)ç»™Engine</li><li>8.Engineå°†çˆ¬å–é¡¹å‘é€ç»™Item Pipeline(æ¡†æ¶å‡ºå£)</li><li>9.Engineå°†çˆ¬å–è¯·æ±‚å‘é€ç»™Scheduler</li></ul><p><img src="https://i.imgur.com/MX9Xf0k.png" class="lazyload" data-srcset="https://i.imgur.com/MX9Xf0k.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><ul><li>Engineæ§åˆ¶å„æ¨¡å—æ•°æ®æµï¼Œä¸é—´æ–­ä»Schedulerå¤„è·å¾—çˆ¬å–è¯·æ±‚ï¼Œç›´åˆ°è¯·æ±‚ä¸ºç©º</li><li>æ¡†æ¶å…¥å£ï¼šSpiderçš„åˆå§‹çˆ¬å–è¯·æ±‚</li><li>æ¡†æ¶å‡ºå£ï¼šItem Pipeline</li></ul><h1 id="scrapyå‘½ä»¤è¡Œ"><a href="#scrapyå‘½ä»¤è¡Œ" class="headerlink" title="scrapyå‘½ä»¤è¡Œ"></a>scrapyå‘½ä»¤è¡Œ</h1><p>æ ¼å¼</p><pre><code>scrapy &lt;command&gt; [options] [args]</code></pre><p><img src="https://i.imgur.com/x3YVAxJ.png" class="lazyload" data-srcset="https://i.imgur.com/x3YVAxJ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>** å¸¸ç”¨å‘½ä»¤ **</p><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">è¯´æ˜</th><th align="left">æ ¼å¼</th></tr></thead><tbody><tr><td align="left">startproject</td><td align="left">åˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹</td><td align="left">scrapy startproject <nane> [dir]</td></tr><tr><td align="left">genspider</td><td align="left">åˆ›å»ºä¸€ä¸ªçˆ¬è™«</td><td align="left">scrapy genspider [options] <name> [domain]</td></tr><tr><td align="left">settings</td><td align="left">è·å¾—çˆ¬è™«é…ç½®ä¿¡æ¯</td><td align="left">scrapy settings [options]</td></tr><tr><td align="left">crawl</td><td align="left">è¿è¡Œä¸€ä¸ªçˆ¬è™«</td><td align="left">scrapy crawl <spider></td></tr><tr><td align="left">list</td><td align="left">åˆ—å‡ºå·¥ç¨‹ä¸­æ‰€æœ‰çš„çˆ¬è™«</td><td align="left">scrapy list</td></tr><tr><td align="left">shell</td><td align="left">å¯åŠ¨URLè°ƒè¯•å‘½ä»¤è¡Œ</td><td align="left">scrapy shell [url]</td></tr></tbody></table><h1 id="demohttps-python123-io-ws-demo-html"><a href="#demohttps-python123-io-ws-demo-html" class="headerlink" title="demohttps://python123.io/ws/demo.html"></a>demo<a href="https://python123.io/ws/demo.html">https://python123.io/ws/demo.html</a></h1><h2 id="åˆ›å»ºå·¥ç¨‹"><a href="#åˆ›å»ºå·¥ç¨‹" class="headerlink" title="åˆ›å»ºå·¥ç¨‹"></a>åˆ›å»ºå·¥ç¨‹</h2><pre><code>scrapy startproject python123demo</code></pre><p><img src="https://i.imgur.com/P71Hcws.png" class="lazyload" data-srcset="https://i.imgur.com/P71Hcws.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><br><img src="https://i.imgur.com/WnOOhZS.png" class="lazyload" data-srcset="https://i.imgur.com/WnOOhZS.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="åˆ›å»ºçˆ¬è™«"><a href="#åˆ›å»ºçˆ¬è™«" class="headerlink" title="åˆ›å»ºçˆ¬è™«"></a>åˆ›å»ºçˆ¬è™«</h2><pre><code>scrapy genspider demo python123.io//ç”Ÿæˆäº†ä¸€ä¸ªåä¸ºdemoçš„spider//åœ¨spiderç›®å½•ä¸‹å¢åŠ ä»£ç æ–‡ä»¶demo.pyï¼ˆè¯¥æ–‡ä»¶ä¹Ÿå¯ä»¥æ‰‹å·¥ç”Ÿæˆï¼‰</code></pre><p><img src="https://i.imgur.com/d0pJFsx.gif" class="lazyload" data-srcset="https://i.imgur.com/d0pJFsx.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>** demo.pyæ–‡ä»¶ **</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DemoSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&#x27;demo&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;python123.io&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;http://python123.io/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, response</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/z8KTfb6.png" class="lazyload" data-srcset="https://i.imgur.com/z8KTfb6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="é…ç½®äº§ç”Ÿçš„spiderçˆ¬è™«"><a href="#é…ç½®äº§ç”Ÿçš„spiderçˆ¬è™«" class="headerlink" title="é…ç½®äº§ç”Ÿçš„spiderçˆ¬è™«"></a>é…ç½®äº§ç”Ÿçš„spiderçˆ¬è™«</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DemoSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&#x27;demo&#x27;</span></span><br><span class="line">    <span class="comment">#allowed_domains = [&#x27;python123.io&#x27;]</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;http://python123.io/ws/demo.html&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, response</span>):</span><br><span class="line">        <span class="comment">#å­˜å‚¨æ–‡ä»¶ådemo.html</span></span><br><span class="line">        file_name = response.url.split(<span class="string">&#x27;/&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_name,<span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(response.body)</span><br><span class="line">            self.log(<span class="string">&#x27;Saved file %s&#x27;</span> % file_name)<span class="comment">#æ—¥å¿—</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>*** å¦ä¸€ä¸ªç‰ˆæœ¬ **</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DemoSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&#x27;demo&#x27;</span></span><br><span class="line">    <span class="comment">#allowed_domains = [&#x27;python123.io&#x27;]</span></span><br><span class="line">    <span class="comment">#start_urls = [&#x27;http://python123.io/ws/demo.html&#x27;]</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">start_requests</span>(<span class="params">self</span>):</span><br><span class="line">        urls = [</span><br><span class="line">                   <span class="string">&#x27;http://python123.io/ws/demo.html&#x27;</span></span><br><span class="line">               ]</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url=url, callback=self.parse)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, response</span>):</span><br><span class="line">        <span class="comment">#å­˜å‚¨æ–‡ä»¶ådemo.html</span></span><br><span class="line">        file_name = response.url.split(<span class="string">&#x27;/&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_name,<span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(response.body)</span><br><span class="line">            self.log(<span class="string">&#x27;Saved file %s&#x27;</span> % file_name)<span class="comment">#æ—¥å¿—</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œçˆ¬è™«"><a href="#è¿è¡Œçˆ¬è™«" class="headerlink" title="è¿è¡Œçˆ¬è™«"></a>è¿è¡Œçˆ¬è™«</h2><pre><code>scrapy crawl demo</code></pre><h1 id="Scrapyçˆ¬è™«æ•°æ®ç±»å‹"><a href="#Scrapyçˆ¬è™«æ•°æ®ç±»å‹" class="headerlink" title="Scrapyçˆ¬è™«æ•°æ®ç±»å‹"></a>Scrapyçˆ¬è™«æ•°æ®ç±»å‹</h1><ul><li>Requestç±»</li><li>Responseç±»</li><li>Itemç±»</li></ul><h2 id="Requestç±»"><a href="#Requestç±»" class="headerlink" title="Requestç±»"></a>Requestç±»</h2><pre><code>class scrapy.http.Request()</code></pre><ul><li>Requestå¯¹è±¡è¡¨ç¤ºä¸€ä¸ªHTTPè¯·æ±‚</li><li>ç”±Spiderç”Ÿæˆï¼Œç”±Downloaderæ‰§è¡Œ</li></ul><table><thead><tr><th align="left">å±æ€§</th><th align="left">æ–¹æ³•</th></tr></thead><tbody><tr><td align="left">.url</td><td align="left">Requestså¯¹åº”çš„è¯·æ±‚URLåœ°å€</td></tr><tr><td align="left">.method</td><td align="left">å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œâ€™GEtâ€™ã€â€™POSTâ€™ç­‰</td></tr><tr><td align="left">.headers</td><td align="left">å­—å…¸ç±»å‹é£æ ¼çš„è¯·æ±‚å¤´</td></tr><tr><td align="left">.body</td><td align="left">è¯·æ±‚å†…å®¹ä¸»ä½“ï¼Œå­—ç¬¦ä¸²ç±»å‹</td></tr><tr><td align="left">.meta</td><td align="left">ç”¨æˆ·æ·»åŠ çš„æ‰©å±•ä¿¡æ¯ï¼Œåœ¨Scrapyå†…éƒ¨æ¨¡å—é—´ä¼ é€’ä¿¡æ¯ä½¿ç”¨</td></tr><tr><td align="left">.copy</td><td align="left">å¤åˆ¶è¯¥è¯·æ±‚</td></tr></tbody></table><h2 id="Responseç±»"><a href="#Responseç±»" class="headerlink" title="Responseç±»"></a>Responseç±»</h2><pre><code>class scrapy.http.Response()</code></pre><ul><li>Responseå¯¹è±¡è¡¨ç¤ºä¸€ä¸ªHTTpå“åº”</li><li>ç”±Downloaderç”Ÿæˆï¼Œç”±Spiderå¤„ç†</li></ul><table><thead><tr><th align="left">å±æ€§æˆ–æ–¹æ³•</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">.url</td><td align="left">Responseå¯¹åº”çš„URLåœ°å€</td></tr><tr><td align="left">.status</td><td align="left">HTTPçŠ¶æ€ç ï¼Œé»˜è®¤æ˜¯200</td></tr><tr><td align="left">.headers</td><td align="left">Responseå¯¹åº”çš„å¤´éƒ¨ä¿¡æ¯</td></tr><tr><td align="left">.body</td><td align="left">Responseå¯¹åº”çš„å†…å®¹ä¿¡æ¯ï¼Œå­—ç¬¦ä¸²ç±»å‹</td></tr><tr><td align="left">.flags</td><td align="left">ä¸€ç»„æ ‡è®°</td></tr><tr><td align="left">.request</td><td align="left">äº§ç”ŸResponseç±»å‹å¯¹åº”çš„Requestå¯¹è±¡</td></tr><tr><td align="left">.copy()</td><td align="left">å¤åˆ¶è¯¥å“åº”</td></tr></tbody></table><h2 id="Itemç±»"><a href="#Itemç±»" class="headerlink" title="Itemç±»"></a>Itemç±»</h2><pre><code>class scrapy.item.Item()</code></pre><ul><li>Itemå¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä»HTMLé¡µé¢ä¸­æå–çš„ä¿¡æ¯å†…å®¹</li><li>ç”±Spiderç”Ÿæˆï¼Œç”±Item Pipelineå¤„ç†</li><li>Itemç±»ä¼¼å­—å…¸ç±»å‹ï¼Œå¯ä»¥æŒ‰ç…§å­—å…¸ç±»å‹æ“ä½œ</li></ul><h1 id="Scrapyçˆ¬è™«çš„ä½¿ç”¨æ­¥éª¤"><a href="#Scrapyçˆ¬è™«çš„ä½¿ç”¨æ­¥éª¤" class="headerlink" title="Scrapyçˆ¬è™«çš„ä½¿ç”¨æ­¥éª¤"></a>Scrapyçˆ¬è™«çš„ä½¿ç”¨æ­¥éª¤</h1><ol><li>åˆ›å»ºä¸€ä¸ªå·¥ç¨‹å’ŒSpideræ¨¡æ¿</li><li>ç¼–å†™Spider</li><li>ç¼–å†™Item Pipeline</li><li>ä¼˜åŒ–é…ç½®ç­–ç•¥</li></ol><h1 id="scrapyçˆ¬è™«ä¿¡æ¯æå–æ–¹æ³•"><a href="#scrapyçˆ¬è™«ä¿¡æ¯æå–æ–¹æ³•" class="headerlink" title="scrapyçˆ¬è™«ä¿¡æ¯æå–æ–¹æ³•"></a>scrapyçˆ¬è™«ä¿¡æ¯æå–æ–¹æ³•</h1><ul><li>Beautifui Soup</li><li>lxml</li><li>re</li><li>XPath Selector</li><li>CSS Selector</li></ul><hr>]]></content>
      
      
      <categories>
          
          <category> Scrapy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTMLè¯•æ°´</title>
      <link href="/2018/10/30/HTML%E8%AF%95%E6%B0%B4/"/>
      <url>/2018/10/30/HTML%E8%AF%95%E6%B0%B4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1> ä¸€çº§æ ‡é¢˜ </h1><h2> äºŒçº§æ ‡é¢˜ </h2><span id="more"></span><p>å€šå¤©å± é¾™è®°</p><p>å¼ æ— å¿Œ</p><p>è¿™æ˜¯å¦ä¸€æ®µ</p><h2 id="é”šç‚¹"><a href="#é”šç‚¹" class="headerlink" title="é”šç‚¹"></a>é”šç‚¹</h2><p><a href = "https://shansan.top">è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢</a><br><a href = "https://shansan.top" target="_blank">è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼Œæ–°æ ‡ç­¾é¡µæ‰“å¼€</a></p><!-- more --><p><a href="mailto:1329441308@qq.com" target="_top">é‚®ç®±è”ç³»æˆ‘</a></p><h1 id="å›¾åƒ"><a href="#å›¾åƒ" class="headerlink" title="å›¾åƒ"></a>å›¾åƒ</h1><p>** imgæ˜¯è‡ªå…³æ ‡è®°ï¼Œä¸éœ€è¦ç»“æŸæ ‡è®° **<br><img src="https://www.baidu.com/img/bd_logo1.png" class="lazyload" data-srcset="https://www.baidu.com/img/bd_logo1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" width="500" height="500"></p><h2 id="æ–‡æœ¬"><a href="#æ–‡æœ¬" class="headerlink" title="æ–‡æœ¬"></a>æ–‡æœ¬</h2><p><b>è¿™é‡Œæ˜¯ç²—ä½“</b></p><p><i>è¿™é‡Œæ˜¯æ–œä½“</i></p><p><strong>what</strong></p><p><em>è¿™é‡Œè¿˜æ˜¯æ–œä½“</em></p><p><ins>æ’å…¥å­—ä½“ï¼Œä¸‹åˆ’çº¿</ins></p><p><del>åˆ é™¤çº¿</del></p><p>~~~ è¿˜æ˜¯åˆ é™¤çº¿ ~~~</p><p>ä¸‹æ ‡&amp;&amp;ä¸Šæ ‡<br>H<sub>2</sub>O<sub>2</sub></p><p>å—¯<sup>æˆ‘é£˜äº†</sup></p><p><code>#include<stdio.h><br>int main()<br>&#123;<br>    printf("wocao!");<br>&#125;</code></p><p>æ­£å¸¸å­—<br><small>å°å·å­—</small></p><p><q>çŸ­å¼•ç”¨ï¼ŒåŒå¼•å·åŒ…å›´</q></p><blockquote>é•¿å¼•ç”¨åœŸåœ°æ˜¯ä»¥å®ƒçš„è‚¥æ²ƒå’Œæ”¶è·è€Œè¢«ä¼°ä»·çš„ï¼›æ‰èƒ½ä¹Ÿæ˜¯åœŸåœ°ï¼Œä¸è¿‡å®ƒç”Ÿäº§çš„ä¸æ˜¯ç²®é£Ÿï¼Œè€Œæ˜¯çœŸç†ã€‚å¦‚æœåªèƒ½æ»‹ç”Ÿç‘æƒ³å’Œå¹»æƒ³çš„è¯ï¼Œå³ä½¿å†å¤§çš„æ‰èƒ½ä¹Ÿåªæ˜¯ç ‚åœ°æˆ–ç›æ± ï¼Œé‚£ä¸Šé¢è¿å°è‰ä¹Ÿé•¿ä¸å‡ºæ¥çš„ã€‚ â€”â€” åˆ«æ—æ–¯åŸº</blockquote><p>22222222222<br>22222222222222<br>2222</p><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><pre><code>&lt;table&gt;...&lt;/table&gt;:å®šä¹‰è¡¨æ ¼&lt;th&gt;...&lt;/th&gt;:å®šä¹‰è¡¨æ ¼çš„æ ‡é¢˜æ ï¼ˆæ–‡å­—åŠ ç²—ä½“ï¼‰&lt;tr&gt;...&lt;/tr&gt;:å®šä¹‰è¡¨æ ¼çš„è¡Œ&lt;td&gt;...&lt;/td&gt;:å®šä¹‰è¡¨æ ¼çš„åˆ—</code></pre><table border="1"><tr><td>row 1, cell 1</td><td>row 1, cell 2</td></tr><tr><td>row 2, cell 1</td><td>row 2, cell 2</td></tr></table><h3 id="è·¨åˆ—è¡¨æ ¼"><a href="#è·¨åˆ—è¡¨æ ¼" class="headerlink" title="è·¨åˆ—è¡¨æ ¼"></a>è·¨åˆ—è¡¨æ ¼</h3><table border="1"><tr>  <th>å§“å</th>  <th colspan="2">ç”µè¯</th></tr><tr>  <td>shansan</td>  <td>1329441308</td>  <td>164354491</td></tr><table><h3>è·¨è¡Œè¡¨æ ¼</h3><table border="1"><tr>  <th>å§“å</th>  <td>shansan</td></tr><tr>  <th rowspan="2">ç”µè¯</th>  <td>1329441308</td></tr><tr>  <td>164354491</td></tr></table><h2 id="syntax"><a href="#syntax" class="headerlink" title="syntax"></a>syntax</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"># HTMLè¯•æ°´</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span> ä¸€çº§æ ‡é¢˜ <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span> äºŒçº§æ ‡é¢˜ <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- more --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å€šå¤©å± é¾™è®°<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>å¼ æ— å¿Œ<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯å¦ä¸€æ®µ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">## é”šç‚¹</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> = <span class="string">&quot;https://shansan.top&quot;</span>&gt;</span>è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> = <span class="string">&quot;https://shansan.top&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼Œæ–°æ ‡ç­¾é¡µæ‰“å¼€<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:1329441308@qq.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_top&quot;</span>&gt;</span>é‚®ç®±è”ç³»æˆ‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"># å›¾åƒ</span><br><span class="line"></span><br><span class="line">** imgæ˜¯è‡ªå…³æ ‡è®°ï¼Œä¸éœ€è¦ç»“æŸæ ‡è®° **</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.baidu.com/img/bd_logo1.png&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">## æ–‡æœ¬</span><br><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>è¿™é‡Œæ˜¯ç²—ä½“<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>è¿™é‡Œæ˜¯æ–œä½“<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>what<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>è¿™é‡Œè¿˜æ˜¯æ–œä½“<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span>&gt;</span>æ’å…¥å­—ä½“ï¼Œä¸‹åˆ’çº¿<span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">del</span>&gt;</span>åˆ é™¤çº¿<span class="tag">&lt;/<span class="name">del</span>&gt;</span></span><br><span class="line"></span><br><span class="line">~~~ è¿˜æ˜¯åˆ é™¤çº¿ ~~~</span><br><span class="line"></span><br><span class="line">ä¸‹æ ‡&amp;&amp;ä¸Šæ ‡</span><br><span class="line">H<span class="tag">&lt;<span class="name">sub</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sub</span>&gt;</span>O<span class="tag">&lt;<span class="name">sub</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sub</span>&gt;</span></span><br><span class="line"></span><br><span class="line">å—¯<span class="tag">&lt;<span class="name">sup</span>&gt;</span>æˆ‘é£˜äº†<span class="tag">&lt;/<span class="name">sup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span>#include<span class="tag">&lt;<span class="name">stdio.h</span>&gt;</span></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    printf(&quot;wocao!&quot;);</span><br><span class="line">&#125;<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ­£å¸¸å­—</span><br><span class="line"><span class="tag">&lt;<span class="name">small</span>&gt;</span>å°å·å­—<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">q</span>&gt;</span>çŸ­å¼•ç”¨ï¼ŒåŒå¼•å·åŒ…å›´<span class="tag">&lt;/<span class="name">q</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span>é•¿å¼•ç”¨</span><br><span class="line">åœŸåœ°æ˜¯ä»¥å®ƒçš„è‚¥æ²ƒå’Œæ”¶è·è€Œè¢«ä¼°ä»·çš„ï¼›æ‰èƒ½ä¹Ÿæ˜¯åœŸåœ°ï¼Œä¸è¿‡å®ƒç”Ÿäº§çš„ä¸æ˜¯ç²®é£Ÿï¼Œè€Œæ˜¯çœŸç†ã€‚</span><br><span class="line">å¦‚æœåªèƒ½æ»‹ç”Ÿç‘æƒ³å’Œå¹»æƒ³çš„è¯ï¼Œå³ä½¿å†å¤§çš„æ‰èƒ½ä¹Ÿåªæ˜¯ç ‚åœ°æˆ–ç›æ± ï¼Œé‚£ä¸Šé¢è¿å°è‰ä¹Ÿé•¿ä¸å‡ºæ¥çš„ã€‚</span><br><span class="line"> â€”â€” åˆ«æ—æ–¯åŸº</span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br><span class="line"></span><br><span class="line">22222222222</span><br><span class="line">22222222222222</span><br><span class="line">2222</span><br><span class="line"></span><br><span class="line">## è¡¨æ ¼</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>row 1, cell 1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>row 1, cell 2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>row 2, cell 1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>row 2, cell 2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">### è·¨åˆ—è¡¨æ ¼</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>ç”µè¯<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>shansan<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>1329441308<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>164354491<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>è·¨è¡Œè¡¨æ ¼<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>shansan<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>ç”µè¯<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>1329441308<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>164354491<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç«–å¼é—®é¢˜</title>
      <link href="/2018/10/24/%E7%AB%96%E5%BC%8F%E9%97%AE%E9%A2%98/"/>
      <url>/2018/10/24/%E7%AB%96%E5%BC%8F%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å­—ç¬¦ä¸²å¤„ç†å‡½æ•°strchr-amp-amp-ç«–å¼é—®é¢˜"><a href="#å­—ç¬¦ä¸²å¤„ç†å‡½æ•°strchr-amp-amp-ç«–å¼é—®é¢˜" class="headerlink" title="å­—ç¬¦ä¸²å¤„ç†å‡½æ•°strchr() &amp;&amp; ç«–å¼é—®é¢˜"></a>å­—ç¬¦ä¸²å¤„ç†å‡½æ•°strchr() &amp;&amp; ç«–å¼é—®é¢˜</h1><p><img src="https://i.imgur.com/9VzJmQT.jpg" class="lazyload" data-srcset="https://i.imgur.com/9VzJmQT.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h1 id="ç«–å¼é—®é¢˜"><a href="#ç«–å¼é—®é¢˜" class="headerlink" title="ç«–å¼é—®é¢˜"></a>ç«–å¼é—®é¢˜</h1><span id="more"></span><table><thead><tr><th align="left">é¢˜ç›®æè¿°</th></tr></thead><tbody><tr><td align="left">æ‰¾å‡ºæ‰€æœ‰å½¢å¦‚abc*deï¼ˆä¸‰ä½æ•°ä¹˜ä¸¤ä½æ•°ï¼‰çš„ç®—å¼ï¼Œä½¿å¾—åœ¨å®Œæ•´çš„ç«–å¼ä¸­ï¼Œæ‰€æœ‰æ•°å­—éƒ½å±äºä¸€ä¸ªç‰¹å®šçš„æ•°å­—é›†åˆã€‚</td></tr><tr><td align="left">è¾“å…¥ï¼š</td></tr><tr><td align="left">è¾“å…¥ä¸€ä¸ªæ•°å­—é›†åˆï¼ˆç›¸é‚»æ•°å­—ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼‰</td></tr><tr><td align="left">è¾“å‡ºï¼š</td></tr><tr><td align="left">è¾“å‡ºæ‰€æœ‰ç«–å¼.æ¯ä¸ªç«–å¼å‰åº”è¯¥ç¼–å·ï¼Œä¹‹ååº”è¯¥æœ‰ä¸€ä¸ªç©ºè¡Œã€‚æœ€åè¾“å‡ºè§£çš„æ€»æ•°ã€‚</td></tr><tr><td align="left">æ ·ä¾‹è¾“å…¥ï¼š</td></tr><tr><td align="left">2357</td></tr><tr><td align="left">æ ·ä¾‹è¾“å‡ºï¼š</td></tr><tr><td align="left">(1)<br>&ensp;&ensp;775<br>x&ensp;&ensp;33<br>â€”â€“<br>&ensp;2325<br>2325&ensp;<br>â€”â€“<br>25575<br><br>The number of solution = 1</td></tr></tbody></table><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>å°å­¦çš„ä¹˜æ³•è¿ç®—<br><img src="https://i.imgur.com/Vi1NJh6.png" class="lazyload" data-srcset="https://i.imgur.com/Vi1NJh6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> count;</span><br><span class="line"><span class="type">char</span> s[<span class="number">20</span>],buf[<span class="number">99</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> abc = <span class="number">111</span>;abc &lt;= <span class="number">999</span>;abc++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> de = <span class="number">11</span>;de &lt;= <span class="number">99</span>;de++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> x = abc*(de%<span class="number">10</span>),y = abc*(de/<span class="number">10</span>),z = abc*de;</span><br><span class="line"><span class="built_in">sprintf</span>(buf,<span class="string">&quot;%d%d%d%d%d&quot;</span>,abc,de,x,y,z);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- ä½¿ç”¨sprintf()æŠŠä¿¡æ¯è¾“å‡ºåˆ°å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">- strchr()å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å•ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">int</span> ok = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="built_in">strlen</span>(buf);i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">strchr</span>(s,buf[i])==<span class="literal">NULL</span>) ok = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(ok)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;(%d)\n&quot;</span>,++count);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%5d\nx%4d\n-----\n%5d\n%4d\n-----\n%5d\n\n&quot;</span>,abc,de,x,y,z);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;The number of solutions = %d\n&quot;</span>,count);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/ngNCi2n.gif" class="lazyload" data-srcset="https://i.imgur.com/ngNCi2n.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="å­—ç¬¦å¤„ç†å‡½æ•°strchr"><a href="#å­—ç¬¦å¤„ç†å‡½æ•°strchr" class="headerlink" title="å­—ç¬¦å¤„ç†å‡½æ•°strchr()"></a>å­—ç¬¦å¤„ç†å‡½æ•°strchr()</h2><p>strchr() ç”¨æ¥æŸ¥æ‰¾æŸå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå…¶åŸå‹ä¸ºï¼š<br>    char * strchr (const char *str, int c);</p><ul><li>strchr() å°†ä¼šæ‰¾å‡º str å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„å­—ç¬¦ c çš„åœ°å€ï¼Œç„¶åå°†è¯¥åœ°å€è¿”å›ã€‚</li><li>å¦‚æœæ‰¾åˆ°æŒ‡å®šçš„å­—ç¬¦åˆ™è¿”å›è¯¥å­—ç¬¦æ‰€åœ¨åœ°å€ï¼Œå¦åˆ™è¿”å› NULLã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">char</span> *s=<span class="string">&quot;666shansan&quot;</span>;</span><br><span class="line"><span class="type">char</span> *p;</span><br><span class="line">p = <span class="built_in">strchr</span>(s,<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>,p);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœ</p><pre><code>shansan</code></pre><hr>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘äººçš„C++-2</title>
      <link href="/2018/10/22/%E5%9D%91%E4%BA%BA%E7%9A%84C++-2/"/>
      <url>/2018/10/22/%E5%9D%91%E4%BA%BA%E7%9A%84C++-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="C-æ–‡ä»¶å’Œæµ"><a href="#C-æ–‡ä»¶å’Œæµ" class="headerlink" title="C++æ–‡ä»¶å’Œæµ"></a>C++æ–‡ä»¶å’Œæµ</h1><p><br><font color="green">åœ¨C++ä¸­è¿›è¡Œæ–‡ä»¶å¤„ç†ï¼Œå¯ä½¿ç”¨æ ‡å‡†åº“<code>fstream</code></font></p><p>å®ƒå®šä¹‰äº†ä¸‰ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œç”¨äºä»æ–‡ä»¶å†™å…¥æµå’Œä»æ–‡ä»¶è¯»å–æµ</p><table><thead><tr><th align="center">æ•°æ®ç±»å‹</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">ofstream</td><td align="center">è¯¥æ•°æ®ç±»å‹è¡¨ç¤ºè¾“å‡ºæ–‡ä»¶æµï¼Œç”¨äºåˆ›å»ºæ–‡ä»¶å¹¶å‘æ–‡ä»¶ä¸­å†™å…¥ä¿¡æ¯</td></tr><tr><td align="center">ifstream</td><td align="center">è¯¥æ•°æ®ç±»å‹è¡¨ç¤ºè¾“å…¥æ–‡ä»¶æµï¼Œç”¨äºä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯</td></tr><tr><td align="center">fstream</td><td align="center">è¯¥æ•°æ®ç±»å‹é€šå¸¸è¡¨ç¤ºæ–‡ä»¶æµï¼ŒåŒæ—¶å…·æœ‰ofstreamå’Œifstreamä¸¤ç§åŠŸèƒ½ï¼Œä»–å¯ä»¥åˆ›å»ºæ–‡ä»¶ï¼Œå‘æ–‡ä»¶ä¸­å†™å…¥ä¿¡æ¯ï¼Œä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯</td></tr></tbody></table><span id="more"></span><h2 id="æ‰“å¼€æ–‡ä»¶"><a href="#æ‰“å¼€æ–‡ä»¶" class="headerlink" title="æ‰“å¼€æ–‡ä»¶"></a>æ‰“å¼€æ–‡ä»¶</h2><p><code>ofstream</code>å’Œ<code>ifstream</code>å¯¹è±¡éƒ½å¯ä»¥open()å‡½æ•°æ‰“å¼€æ–‡ä»¶è¿›è¡Œå†™æ“ä½œã€‚open()å‡½æ•°æ˜¯ofstreamã€ifstreamã€fstreamå¯¹è±¡çš„ä¸€ä¸ªæˆå‘˜ã€‚<br>open()å‡½æ•°æ ‡å‡†è¯­æ³•</p><pre><code>void open(const char *filename,ios::openmode mode)</code></pre><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦æ‰“å¼€çš„æ–‡ä»¶åç§°å’Œä½ç½®</li><li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ–‡ä»¶æ‰“å¼€çš„æ¨¡å¼</li></ul><table><thead><tr><th align="center">æ¨¡å¼æ ‡å¿—</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">ios::app</td><td align="center">è¿½åŠ æ¨¡å¼ã€‚æ‰€æœ‰å†™å…¥éƒ½è¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾</td></tr><tr><td align="center">ios::ate</td><td align="center">æ–‡ä»¶æ‰“å¼€åå®šä½åˆ°æ–‡ä»¶æœ«å°¾</td></tr><tr><td align="center">ios::in</td><td align="center">æ‰“å¼€æ–‡ä»¶ç”¨äºè¯»å–</td></tr><tr><td align="center">ios::out</td><td align="center">æ‰“å¼€æ–‡ä»¶ç”¨äºå†™å…¥</td></tr><tr><td align="center">ios::trunc</td><td align="center">å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œå…¶å†…å®¹åœ¨æ‰“å¼€æ–‡ä»¶ä¹‹å‰è¢«æˆªæ–­ï¼Œå³æŠŠæ–‡ä»¶é•¿åº¦è®¾ä¸º0</td></tr></tbody></table><p><code>æ‰“å¼€æ¨¡å¼å¯ä»¥ä¸¤ä¸ªæˆ–è€…å¤šä¸ªç»“åˆä½¿ç”¨</code></p><pre><code>ofstream outfile;outfile.open(&quot;file.data&quot;,ios::out|ios::trunc)//outfile.open(&quot;file.data&quot;,ios::out|ios::in)</code></pre><h2 id="å…³é—­æ–‡ä»¶"><a href="#å…³é—­æ–‡ä»¶" class="headerlink" title="å…³é—­æ–‡ä»¶"></a>å…³é—­æ–‡ä»¶</h2><p>C++ç¨‹åºç»ˆæ­¢æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å…³é—­åˆ·æ–°æ‰€æœ‰æµï¼Œé‡Šæ”¾æ‰€æœ‰åˆ†é…çš„å†…å­˜ï¼Œå¹¶å…³é—­æ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶ã€‚<br>å¬è¯´ä¼˜ç§€çš„ç¨‹åºå‘˜ä¼šåœ¨ç¨‹åºç»ˆæ­¢å‰å…³é—­æ‰“å¼€çš„æ–‡ä»¶<br>    ä½¿ç”¨close()å‡½æ•°</p><h2 id="å†™å…¥æ–‡ä»¶-amp-amp-è¯»å–æ–‡ä»¶"><a href="#å†™å…¥æ–‡ä»¶-amp-amp-è¯»å–æ–‡ä»¶" class="headerlink" title="å†™å…¥æ–‡ä»¶ &amp;&amp; è¯»å–æ–‡ä»¶"></a>å†™å…¥æ–‡ä»¶ &amp;&amp; è¯»å–æ–‡ä»¶</h2><ul><li>ä½¿ç”¨æµæ’å…¥è¿ç®—ç¬¦ï¼ˆ&lt;&lt;ï¼‰å‘æ–‡ä»¶å†™å…¥ä¿¡æ¯ï¼Œå°±åƒä½¿ç”¨è¯¥è¿ç®—ç¬¦è¾“å‡ºä¿¡æ¯åˆ°å±å¹•ä¸Šä¸€æ ·ï¼Œä½†ç”¨çš„ä¸æ˜¯coutå¯¹è±¡ï¼Œè€Œæ˜¯ofstreamæˆ–è€…fstreamå¯¹è±¡</li></ul><p>-ä½¿ç”¨æµæå–è¿ç®—ç¬¦ï¼ˆ&gt;&gt;ï¼‰ä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ifstreamæˆ–è€…fstreamå¯¹è±¡</p><h2 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">char</span> data[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»¥å†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">ofstream outfile;</span><br><span class="line">outfile.<span class="built_in">open</span>(<span class="string">&quot;afile.data&quot;</span>);<span class="comment">//è¿™é‡Œä½¿ç”¨äº†ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;writing to the file&quot;</span>&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;enter your name:&quot;</span>;</span><br><span class="line">cin.<span class="built_in">getline</span>(data,<span class="number">100</span>);<span class="comment">//cinå¯¹è±¡çš„é™„åŠ å‡½æ•°ï¼Œgetline()ä»å¤–éƒ¨è¯»å–ä¸€è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘æ–‡ä»¶å†™å…¥ç”¨æˆ·è¾“å…¥çš„æ•°æ®</span></span><br><span class="line">outfile&lt;&lt;data&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;enter your age:&quot;</span>;</span><br><span class="line">cin&gt;&gt;data;</span><br><span class="line">cin.<span class="built_in">ignore</span>();<span class="comment">//å¿½ç•¥æ‰ä¹‹å‰è¯»è¯­å¥ç•™ä¸‹çš„å¤šä½™å­—ç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å†æ¬¡å‘æ–‡ä»¶å†™å…¥ç”¨æˆ·è¾“å…¥çš„æ•°æ®</span></span><br><span class="line">outfile&lt;&lt;data&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">outfile.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»¥è¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">ifstream infile;</span><br><span class="line">infile.<span class="built_in">open</span>(<span class="string">&quot;afile.data&quot;</span>);</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;reading from the file&quot;</span>&lt;&lt;endl;</span><br><span class="line">infile&gt;&gt;data;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨å±å¹•ä¸Šè¯»å–æ•°æ®</span></span><br><span class="line">cout&lt;&lt;data&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†æ¬¡ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®å¹¶æ˜¾ç¤ºå®ƒ</span></span><br><span class="line">infile&gt;&gt;data;</span><br><span class="line">cout&lt;&lt;data&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">infile.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/NkfTo7g.gif" class="lazyload" data-srcset="https://i.imgur.com/NkfTo7g.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘äººçš„C++</title>
      <link href="/2018/10/22/%E5%9D%91%E4%BA%BA%E7%9A%84C++/"/>
      <url>/2018/10/22/%E5%9D%91%E4%BA%BA%E7%9A%84C++/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="C-è‡ªå®šä¹‰å‘½åç©ºé—´"><a href="#C-è‡ªå®šä¹‰å‘½åç©ºé—´" class="headerlink" title="C++è‡ªå®šä¹‰å‘½åç©ºé—´"></a>C++è‡ªå®šä¹‰å‘½åç©ºé—´</h1><p>ä½¿ç”¨å…³é”®å­—namespace</p><pre><code>namespace namespace_name&#123;    //ä»£ç å£°æ˜&#125;</code></pre><span id="more"></span><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">namespace</span> print_myname&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;myname: shansan&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> print_font&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">func_1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    std::cout&lt;&lt;<span class="string">&quot;ä»€ä¹ˆé¬¼ ï¼&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> print_myname;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> print_font;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//print_myname::func();</span></span><br><span class="line"><span class="built_in">func</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//print_font::func_1();</span></span><br><span class="line"><span class="built_in">func_1</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/IvaQsEx.png" class="lazyload" data-srcset="https://i.imgur.com/IvaQsEx.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/cmrUaSk.png" class="lazyload" data-srcset="https://i.imgur.com/cmrUaSk.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="ä¸è¿ç»­çš„å‘½åç©ºé—´"><a href="#ä¸è¿ç»­çš„å‘½åç©ºé—´" class="headerlink" title="ä¸è¿ç»­çš„å‘½åç©ºé—´"></a>ä¸è¿ç»­çš„å‘½åç©ºé—´</h2><blockquote><p>å‘½åç©ºé—´å¯ä»¥å®šä¹‰åœ¨å‡ ä¸ªä¸åŒçš„éƒ¨åˆ†ä¸­ï¼Œå› æ­¤å‘½åç©ºé—´æ˜¯ç”±å‡ ä¸ªå•ç‹¬å®šä¹‰çš„éƒ¨åˆ†ç»„æˆçš„ã€‚ä¸€ä¸ªå‘½åç©ºé—´çš„ç»„æˆéƒ¨åˆ†å¯ä»¥åˆ†å¸ƒåœ¨å¤šä¸ªæ–‡ä»¶ä¸­<br>æ‰€ä»¥ï¼Œå¦‚æœå‘½åç©ºé—´ä¸­æŸä¸ªç»„æˆéƒ¨åˆ†éœ€è¦è¯·æ±‚å®šä¹‰åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­çš„åç§°ï¼Œä»ç„¶éœ€è¦å£°æ˜è¯¥åç§°ã€‚<br>ä¸‹é¢çš„å‘½åç©ºé—´å¯ä»¥å®šä¹‰ä¸€ä¸ªæ–°çš„å‘½åç©ºé—´ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ºå·²æœ‰çš„å‘½åç©ºé—´å¢åŠ æ–°çš„å…ƒç´ ã€‚</p></blockquote><pre><code>namespace namespace_name&#123;    //ä»£ç ç”Ÿæ˜&#125;</code></pre><h2 id="åµŒå¥—çš„å‘½åç©ºé—´"><a href="#åµŒå¥—çš„å‘½åç©ºé—´" class="headerlink" title="åµŒå¥—çš„å‘½åç©ºé—´"></a>åµŒå¥—çš„å‘½åç©ºé—´</h2><p>å¯ä»¥åœ¨ä¸€ä¸ªå‘½åç©ºé—´ä¸­å®šä¹‰å¦ä¸€ä¸ªå‘½åç©ºé—´</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> my_firstname</span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_firstname</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;shan &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> my_lastname</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print_lastname</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;san&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//using namespace my_firstname;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> my_firstname::my_lastname;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//print_firstname();</span></span><br><span class="line"><span class="comment">//my_lastname::print_lastname();</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print_lastname</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="C-å¼‚å¸¸å¤„ç†"><a href="#C-å¼‚å¸¸å¤„ç†" class="headerlink" title="C++å¼‚å¸¸å¤„ç†"></a>C++å¼‚å¸¸å¤„ç†</h1><ul><li>å¼‚å¸¸æ˜¯åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„é—®é¢˜ã€‚</li><li>C++å¼‚å¸¸æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œæ—¶å‘ç”Ÿçš„ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚å°è¯•é™¤ä»¥é›¶çš„æ“ä½œã€‚</li><li>å¼‚å¸¸æä¾›äº†ä¸€ç§è½¬ç§»ç¨‹åºæ§åˆ¶æƒçš„æ–¹å¼ã€‚</li></ul><p><font color="red">C++å¼‚å¸¸å¤„ç†å…³é”®å­—</font></p><ul><li><code>throw</code>:å½“é—®é¢˜å‡ºç°æ—¶ï¼Œç¨‹åºä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚é€šè¿‡throwå…³é”®å­—æ¥å®Œæˆã€‚</li><li><code>catch</code>:åœ¨æƒ³è¦å¤„ç†é—®é¢˜çš„åœ°æ–¹ï¼Œé€šè¿‡å¼‚å¸¸å¤„ç†ç¨‹åºæ•è·å¼‚å¸¸ã€‚catchå…³é”®å­—ç”¨äºæ•è·å¼‚å¸¸ã€‚</li><li><code>try</code>:tryå—ä¸­çš„ä»£ç æ ‡è¯†å°†è¢«æ¿€æ´»çš„ç‰¹å®šå¼‚å¸¸ã€‚ä»–åé¢é€šå¸¸è·Ÿç€ä¸€ä¸ªæˆ–è€…å¤šä¸ªcatchå—<br>å¦‚æœæ‚¨æƒ³è®© catch å—èƒ½å¤Ÿå¤„ç† try å—æŠ›å‡ºçš„ä»»ä½•ç±»å‹çš„å¼‚å¸¸ï¼Œåˆ™å¿…é¡»åœ¨å¼‚å¸¸å£°æ˜çš„æ‹¬å·å†…ä½¿ç”¨çœç•¥å·<code>...</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">try</span><br><span class="line">&#123;</span><br><span class="line">    //è¢«ä¿æŠ¤ä»£ç å—</span><br><span class="line">&#125;</span><br><span class="line">catch(...)</span><br><span class="line">    &#123;</span><br><span class="line">        //èƒ½å¤„ç†ä»»ä½•å¼‚å¸¸ä»£ç </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">division</span><span class="params">(<span class="type">double</span> a,<span class="type">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(b == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="string">&quot;Division by zero condition!&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> (a/b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a,b;</span><br><span class="line"><span class="type">double</span> temp;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a,&amp;b);</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">temp = <span class="built_in">division</span>(a,b);</span><br><span class="line">cout&lt;&lt;temp&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ç”±äºæˆ‘ä»¬æŠ›å‡ºäº†ä¸€ä¸ªç±»å‹ä¸º const char* çš„å¼‚å¸¸ï¼Œ</span></span><br><span class="line"><span class="comment">å› æ­¤ï¼Œå½“æ•è·è¯¥å¼‚å¸¸æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ catch å—ä¸­ä½¿ç”¨ const char*ã€‚*/</span></span><br><span class="line"><span class="built_in">catch</span>(<span class="type">const</span> <span class="type">char</span> *msg)</span><br><span class="line">&#123;</span><br><span class="line">cerr&lt;&lt;msg&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/9QFbzHU.gif" class="lazyload" data-srcset="https://i.imgur.com/9QFbzHU.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸˜ä¸€ä¸˜æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/2018/10/18/%E4%B8%98%E4%B8%80%E4%B8%98%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2018/10/18/%E4%B8%98%E4%B8%80%E4%B8%98%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="æ­£åˆ™è¡¨è¾¾å¼-regular-expression-regex-RE"><a href="#æ­£åˆ™è¡¨è¾¾å¼-regular-expression-regex-RE" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼(regular expression,regex,RE)"></a>æ­£åˆ™è¡¨è¾¾å¼(regular expression,regex,RE)</h1><ul><li>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§ç”¨æ¥ç®€æ´è¡¨è¾¾ä¸€ç»„å­—ç¬¦ä¸²çš„è¡¨è¾¾å¼</li><li>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§é€šç”¨çš„å­—ç¬¦ä¸²è¡¨è¾¾æ¡†æ¶</li><li>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§é’ˆå¯¹å­—ç¬¦ä¸²è¡¨è¾¾â€œç®€æ´â€å’Œâ€œç‰¹å¾â€æ€æƒ³çš„å·¥å…·</li><li>æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ç”¨æ¥åˆ¤æ–­æŸå­—ç¬¦ä¸²çš„ç‰¹å¾å½’å±</li></ul><span id="more"></span><h2 id="æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ“ä½œç¬¦"><a href="#æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ“ä½œç¬¦" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ“ä½œç¬¦"></a>æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ“ä½œç¬¦</h2><table><thead><tr><th align="left">æ“ä½œç¬¦</th><th align="left">è¯´æ˜</th><th align="left">å®ä¾‹</th></tr></thead><tbody><tr><td align="left">.</td><td align="left">è¡¨ç¤ºä»»æ„å•ä¸ªå­—ç¬¦</td><td align="left">py. å¯ä»¥åŒ¹é…pyc,pyy,py!ç­‰ç­‰</td></tr><tr><td align="left">[ ]</td><td align="left">å­—ç¬¦é›†ï¼Œå¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºå–å€¼èŒƒå›´</td><td align="left">[abc]å¯ä»¥åŒ¹é…aæˆ–bæˆ–cï¼›[0-9a-zA-z\_]å¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ã€ä¸€ä¸ªå­—æ¯æˆ–è€…ä¸€ä¸ªä¸‹åˆ’çº¿</td></tr><tr><td align="left">[^ ]</td><td align="left">éå­—ç¬¦é›†ï¼Œå¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºæ’é™¤èŒƒå›´</td><td align="left">[^abc]å¯ä»¥åŒ¹é…éaæˆ–ébæˆ–écçš„å•ä¸ªå­—ç¬¦</td></tr><tr><td align="left">*</td><td align="left">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–å¤šæ¬¡æ‰©å±•</td><td align="left">abc* å¯ä»¥åŒ¹é…abã€abcã€abccã€abcccç­‰ç­‰</td></tr><tr><td align="left">+</td><td align="left">å‰ä¸€ä¸ªå­—ç¬¦çš„1æ¬¡æˆ–å¤šæ¬¡æ‰©å±•</td><td align="left">abc+å¯ä»¥åŒ¹é…abcã€abccã€abcccç­‰ç­‰</td></tr><tr><td align="left">?</td><td align="left">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–1æ¬¡æ‰©å±•</td><td align="left">abc?å¯ä»¥åŒ¹é…abã€abc</td></tr><tr><td align="left">&#124;</td><td align="left">å·¦å³è¡¨è¾¾å¼ä»»æ„ä¸€ä¸ª</td><td align="left">abc&#124;defè¡¨ç¤ºabcã€def</td></tr><tr><td align="left">{m}</td><td align="left">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mæ¬¡</td><td align="left">ab{2}cåŒ¹é…abbc</td></tr><tr><td align="left">{m,n}</td><td align="left">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mè‡³næ¬¡æ•°ï¼ˆå«nï¼‰</td><td align="left">ab{1ï¼Œ2}cå¯ä»¥åŒ¹é…abcã€abbc</td></tr><tr><td align="left">^</td><td align="left">åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´</td><td align="left">^abcè¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´,^\dè¡¨ç¤ºå¿…é¡»ä»¥æ•°å­—å¼€å¤´</td></tr><tr><td align="left">$</td><td align="left">åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾</td><td align="left">abcè¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾ã€\d$ç™½å“¦æ˜¯å¿…é¡»ä»¥æ•°å­—ç»“å°¾</td></tr><tr><td align="left">( )</td><td align="left">åˆ†ç»„æ ‡è®°,å†…éƒ¨åªèƒ½ä½¿ç”¨&#124;æ“ä½œç¬¦</td><td align="left">(abc&#124;def)è¡¨ç¤ºabcã€def</td></tr><tr><td align="left">\d</td><td align="left">å¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ï¼Œç›¸å½“äº[0-9]</td><td align="left">\d{3}è¡¨ç¤ºåŒ¹é…3ä¸ªæ•°å­—ï¼Œå¦‚010</td></tr><tr><td align="left">\w</td><td align="left">å¯ä»¥åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–è€…æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ï¼Œç›¸å½“äº[a-zA-Z0-9_]</td><td align="left">\w\w\då¯ä»¥åŒ¹é…â€™py3â€™</td></tr><tr><td align="left">\s</td><td align="left">å¯ä»¥åŒ¹é…ä¸€ä¸ªç©ºæ ¼ï¼ˆä¹ŸåŒ…æ‹¬Tabç­‰ç©ºç™½å­—ç¬¦ï¼‰</td><td align="left">\s+è¡¨ç¤ºè‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦‚â€™ â€˜ã€â€™  â€˜</td></tr></tbody></table><h2 id="ç²¾ç¡®åŒ¹é…"><a href="#ç²¾ç¡®åŒ¹é…" class="headerlink" title="ç²¾ç¡®åŒ¹é…"></a>ç²¾ç¡®åŒ¹é…</h2><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå¦‚æœç›´æ¥ç»™å‡ºå­—ç¬¦ï¼Œå°±æ˜¯ç²¾ç¡®åŒ¹é…</p><ul><li>â€˜pytâ€™                 åŒ¹é…â€™pytâ€™</li><li>â€˜00\dâ€™               å¯ä»¥åŒ¹é…â€™007â€™</li><li>â€˜\w\dâ€™              å¯ä»¥åŒ¹é…â€™!5â€™</li><li>â€˜ye.â€™                 å¯ä»¥åŒ¹é…â€™yesâ€™</li><li>â€˜(P&#124;p)pythonâ€™    å¯ä»¥åŒ¹é…â€™Pythonâ€™ã€â€™pythonâ€™</li></ul><h2 id="é«˜é˜¶ç²¾ç¡®åŒ¹é…-ç»å…¸å®ä¾‹"><a href="#é«˜é˜¶ç²¾ç¡®åŒ¹é…-ç»å…¸å®ä¾‹" class="headerlink" title="é«˜é˜¶ç²¾ç¡®åŒ¹é…,ç»å…¸å®ä¾‹"></a>é«˜é˜¶ç²¾ç¡®åŒ¹é…,ç»å…¸å®ä¾‹</h2><ul><li>^[A-Za-z]+$   åŒ¹é…ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²,å¦‚â€™abrgâ€™ã€â€™abgsfsfgaâ€™</li><li>[a-zA-Z\_][0-9a-zA-Z\_]* å¯ä»¥åŒ¹é…ç”±å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿å¼€å¤´ã€åæ¥ä»»æ„ä¸€ä¸ªç”±å­—æ¯ã€æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯pythonçš„åˆæ³•å˜é‡</li><li>^-?\d+$      åŒ¹é…æ•´æ•°å½¢å¼çš„å­—ç¬¦ä¸²</li><li>^[0-9]<em>[1-9][0-9]</em>$    åŒ¹é…æ­£æ•´æ•°å½¢å¼çš„å­—ç¬¦ä¸²</li><li>[1-9]\d{5}   ä¸­å›½å¢ƒå†…é‚®æ”¿ç¼–ç ,6ä½</li><li>[\u4e00-\u9fa5]    åŒ¹é…ä¸­æ–‡å­—ç¬¦</li><li>\d{3}-\d{8}&#124;\d{4}-\d{7}   å›½å†…ç”µè¯å·ç ,010-68913536</li></ul><h1 id="pythonæ­£åˆ™è¡¨è¾¾å¼æ¨¡å—ï¼Œï¼ˆReæ¨¡å—ï¼‰"><a href="#pythonæ­£åˆ™è¡¨è¾¾å¼æ¨¡å—ï¼Œï¼ˆReæ¨¡å—ï¼‰" class="headerlink" title="pythonæ­£åˆ™è¡¨è¾¾å¼æ¨¡å—ï¼Œï¼ˆReæ¨¡å—ï¼‰"></a>pythonæ­£åˆ™è¡¨è¾¾å¼æ¨¡å—ï¼Œï¼ˆReæ¨¡å—ï¼‰</h1><ul><li>reæ˜¯pythonçš„æ ‡å‡†åº“ï¼Œä¸»è¦ç”¨äºå­—ç¬¦ä¸²åŒ¹é…</li><li>reåº“é‡‡ç”¨raw stringç±»å‹(åŸç”Ÿå­—ç¬¦ä¸²ç±»å‹)è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œä¾‹å¦‚<code>r&#39;[1-9]\d&#123;5&#125;&#39;</code>,raw stringæ˜¯ä¸åŒ…å«å¯¹è½¬ä¹‰ç¬¦å†æ¬¡è½¬ä¹‰çš„å­—ç¬¦ä¸²</li><li>reåº“ä¹Ÿå¯ä»¥é‡‡ç”¨stringç±»å‹è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾ï¼Œä½†æ˜¯è¾ƒä¸ºç¹çï¼Œä¾‹å¦‚<code>&#39;[1-9]\\d&#123;5&#125;&#39;</code></li></ul><p><img src="https://i.imgur.com/lVBuhYo.png" class="lazyload" data-srcset="https://i.imgur.com/lVBuhYo.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="reåº“åŠŸèƒ½å‡½æ•°"><a href="#reåº“åŠŸèƒ½å‡½æ•°" class="headerlink" title="reåº“åŠŸèƒ½å‡½æ•°"></a>reåº“åŠŸèƒ½å‡½æ•°</h2><table><thead><tr><th align="center">å‡½æ•°</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">re.search()</td><td align="center">åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¿”å›matchå¯¹è±¡</td></tr><tr><td align="center">re.match()</td><td align="center">ä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®èµ·åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å›matchå¯¹è±¡</td></tr><tr><td align="center">re.findall()</td><td align="center">æœç´¢å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨ç±»å‹è¿”å›å…¨éƒ¨èƒ½åŒ¹é…çš„å­ä¸²</td></tr><tr><td align="center">re.split()</td><td align="center">å°†ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç»“æœè¿›è¡Œåˆ†å‰²ï¼Œè¿”å›åˆ—è¡¨ç±»å‹</td></tr><tr><td align="center">re.finditer</td><td align="center">æœç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœçš„è¿­ä»£ç±»å‹ï¼Œæ¯ä¸ªè¿­ä»£å…ƒç´ æ˜¯matchå¯¹è±¡</td></tr><tr><td align="center">re.sub()</td><td align="center">åœ¨å­—ç¬¦ä¸²ä¸­æ›¿æ¢æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²</td></tr></tbody></table><pre><code>1. re.search(pattern,string,flags=0)</code></pre><p>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¿”å›matchå¯¹è±¡</p><ul><li><code>pattern</code>:æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</li><li><code>string</code>:å¾…åŒ¹é…å­—ç¬¦ä¸²</li><li><code>flags</code>ï¼š æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</li></ul><p><img src="https://i.imgur.com/X9WaiN1.png" class="lazyload" data-srcset="https://i.imgur.com/X9WaiN1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><table><thead><tr><th align="center">å¸¸ç”¨æ ‡è®°</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">re.I&ensp;re.IGNORECASE</td><td align="center">å¿½ç•¥æ­£åˆ™è¡¨è¾¾å¼çš„å¤§å°å†™ï¼Œ[A-Z]èƒ½å¤ŸåŒ¹é…å°å†™å­—ç¬¦</td></tr><tr><td align="center">re.M&ensp;re.MULTILINE</td><td align="center">æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„^æ“ä½œç¬¦èƒ½å¤Ÿå°†ç»™å®šå­—ç¬¦ä¸²çš„æ¯è¡Œå½“åšåŒ¹é…å¼€å§‹</td></tr><tr><td align="center">re.s&ensp;re.DOTALL</td><td align="center">æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„.æ“ä½œç¬¦èƒ½å¤ŸåŒ¹é…æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œé»˜è®¤åŒ¹é…é™¤æ¢è¡Œå¤–çš„æ‰€æœ‰å­—ç¬¦ä¸²</td></tr></tbody></table><pre><code>2. re.match(pattern,string,flags=0)</code></pre><p>ä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®èµ·åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å›matchå¯¹è±¡</p><ul><li><code>pattern</code>:æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–è€…åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</li><li><code>string</code>:å¾…åŒ¹é…å­—ç¬¦ä¸²</li><li><code>flags</code>:æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</li></ul><p><img src="http://pflr7ix8q.bkt.clouddn.com/%E5%BD%95%E5%88%B6_2018_10_18_01_18_31_80.gif" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/%E5%BD%95%E5%88%B6_2018_10_18_01_18_31_80.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/1inU7F0.png" class="lazyload" data-srcset="https://i.imgur.com/1inU7F0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><pre><code>3. re.findall(pattern,string,flags=0)</code></pre><p>æœç´¢å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨ç±»å‹è¿”å›å…¨éƒ¨èƒ½åŒ¹é…çš„å­—ç¬¦ä¸²<br><img src="https://i.imgur.com/GcMBPR8.png" class="lazyload" data-srcset="https://i.imgur.com/GcMBPR8.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><pre><code>4. re.split(pattern,string,maxsplit=0,flags=0)</code></pre><p>å°†ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§æ­£åˆ™åŒ¹é…ç»“æœè¿›è¡Œåˆ†å‰²ï¼Œè¿”å›åˆ—è¡¨ç±»å‹</p><ul><li><code>maxsplt</code>:æœ€å¤§åˆ†å‰²æ•°ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€åä¸€ä¸ªå…ƒç´ è¾“å‡º</li></ul><p><img src="https://i.imgur.com/qjizjnw.png" class="lazyload" data-srcset="https://i.imgur.com/qjizjnw.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><pre><code>5. re.finditer(pattern,string,flags=0)</code></pre><p>æœç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœçš„è¿­ä»£ç±»å‹ï¼Œæ¯ä¸ªè¿­ä»£ç±»å‹æ˜¯matchå¯¹è±¡</p><p><img src="https://i.imgur.com/hMVJvPg.png" class="lazyload" data-srcset="https://i.imgur.com/hMVJvPg.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><pre><code>6. re.sub(pattern,repl,string,cout=0,flags=0)</code></pre><p>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ›¿æ¢æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²</p><ul><li><code>repl</code>:æ›¿æ¢åŒ¹é…å­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²</li><li><code>cout</code>:åŒ¹é…çš„æœ€å¤§æ›¿æ¢æ¬¡æ•°</li></ul><p><img src="https://i.imgur.com/cklxzNj.png" class="lazyload" data-srcset="https://i.imgur.com/cklxzNj.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="reåº“çš„é¢å‘å¯¹è±¡ç”¨æ³•"><a href="#reåº“çš„é¢å‘å¯¹è±¡ç”¨æ³•" class="headerlink" title="reåº“çš„é¢å‘å¯¹è±¡ç”¨æ³•"></a>reåº“çš„é¢å‘å¯¹è±¡ç”¨æ³•</h2><p>åœ¨pythonä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œreæ¨¡å—å†…éƒ¨ä¼šåšä¸¤ä»¶äº‹ï¼š</p><ol><li><p>ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚æœæ­£åˆ™è¡¨è¾¾å¼æœ¬èº«ä¸åˆæ³•ï¼Œä¼šæŠ¥é”™</p></li><li><p>ç”¨ç¼–è¯‘åçš„æ­£åˆ™è¡¨è¾¾å¼å»åŒ¹é…å­—ç¬¦ä¸²</p><p> regex = re.compile(pattern,flags=0)<br> å°†æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å½¢å¼ç¼–è¯‘æˆæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</p></li></ol><ul><li><code>pattern</code>:æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</li><li><code>flags</code>:æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</li></ul><p><img src="https://i.imgur.com/sX4AKNn.png" class="lazyload" data-srcset="https://i.imgur.com/sX4AKNn.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><br>compileåç”Ÿæˆäº†regular expressionå¯¹è±¡ï¼Œç”±äºè¯¥1å¯¹è±¡åŒ…å«äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ä¸ç”¨ç»™å‡ºæ­£åˆ™å­—ç¬¦ä¸²</p><h2 id="reåº“çš„Matchå¯¹è±¡"><a href="#reåº“çš„Matchå¯¹è±¡" class="headerlink" title="reåº“çš„Matchå¯¹è±¡"></a>reåº“çš„Matchå¯¹è±¡</h2><ul><li>Matchå¯¹è±¡æ˜¯ä¸€æ¬¡åŒ¹é…çš„ç»“æœï¼ŒåŒ…å«å¾ˆå¤šä¿¡æ¯</li></ul><p><img src="https://i.imgur.com/lYM5asv.png" class="lazyload" data-srcset="https://i.imgur.com/lYM5asv.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="Matchå¯¹è±¡çš„å±æ€§"><a href="#Matchå¯¹è±¡çš„å±æ€§" class="headerlink" title="Matchå¯¹è±¡çš„å±æ€§"></a>Matchå¯¹è±¡çš„å±æ€§</h3><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">.string</td><td align="center">å¾…åŒ¹é…çš„æ–‡æœ¬</td></tr><tr><td align="center">.re</td><td align="center">åŒ¹é…ä½¿ç”¨çš„patternå¯¹è±¡(æ­£åˆ™è¡¨è¾¾å¼)</td></tr><tr><td align="center">.pos</td><td align="center">æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬çš„å¼€å§‹ä½ç½®</td></tr><tr><td align="center">.endpos</td><td align="center">æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬çš„ç»“æŸä½ç½®</td></tr></tbody></table><p><img src="https://i.imgur.com/He93M8y.png" class="lazyload" data-srcset="https://i.imgur.com/He93M8y.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="Matchå¯¹è±¡çš„æ–¹æ³•"><a href="#Matchå¯¹è±¡çš„æ–¹æ³•" class="headerlink" title="Matchå¯¹è±¡çš„æ–¹æ³•"></a>Matchå¯¹è±¡çš„æ–¹æ³•</h3><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">.group(0)</td><td align="center">è·å¾—åŒ¹é…åçš„å­—ç¬¦ä¸²</td></tr><tr><td align="center">.start()</td><td align="center">åŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå§‹å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®</td></tr><tr><td align="center">.end()</td><td align="center">åŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå§‹å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®</td></tr><tr><td align="center">.span()</td><td align="center">è¿”å›(.start(),.end())ä¸€ä¸ªå…ƒç»„</td></tr></tbody></table><p><img src="https://i.imgur.com/RHLtKVc.png" class="lazyload" data-srcset="https://i.imgur.com/RHLtKVc.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/6j5rlHZ.png" class="lazyload" data-srcset="https://i.imgur.com/6j5rlHZ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="reåº“çš„è´ªå©ªåŒ¹é…å’Œæœ€å°åŒ¹é…"><a href="#reåº“çš„è´ªå©ªåŒ¹é…å’Œæœ€å°åŒ¹é…" class="headerlink" title="reåº“çš„è´ªå©ªåŒ¹é…å’Œæœ€å°åŒ¹é…"></a>reåº“çš„è´ªå©ªåŒ¹é…å’Œæœ€å°åŒ¹é…</h2><p><font color="red">reåº“é»˜è®¤ä½¿ç”¨è´ªå©ªåŒ¹é…ï¼Œå³åŒ¹é…æœ€é•¿çš„å­ä¸²</font></p><p><img src="https://i.imgur.com/jWn9dqY.png" class="lazyload" data-srcset="https://i.imgur.com/jWn9dqY.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><font color="red">æœ€å°åŒ¹é…</font></p><p><img src="https://i.imgur.com/Zrdq7QE.png" class="lazyload" data-srcset="https://i.imgur.com/Zrdq7QE.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>** æœ€å°åŒ¹é…æ“ä½œç¬¦ **</p><table><thead><tr><th align="center">æ“ä½œç¬¦</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">*?</td><td align="center">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–è€…æ— é™æ¬¡æ‰©å±•ï¼Œæœ€å°åŒ¹é…</td></tr><tr><td align="center">+?</td><td align="center">å‰ä¸€ä¸ªå­—ç¬¦1æ¬¡æˆ–è€…æ— é™æ¬¡æ‰©å±•ï¼Œæœ€å°åŒ¹é…</td></tr><tr><td align="center">??</td><td align="center">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–1æ¬¡æ‰©å±•ï¼Œæœ€å°åŒ¹é…</td></tr><tr><td align="center">{m,n}?</td><td align="center">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mè‡³næ¬¡(åŒ…å«n)ï¼Œæœ€å°åŒ¹é…</td></tr></tbody></table><p>åªè¦è¾“å‡ºé•¿åº¦å¯èƒ½ä¸åŒçš„ï¼Œéƒ½å¯ä»¥é€šè¿‡åœ¨æ“ä½œç¬¦åé¢åŠ <code>?</code>å˜æˆæœ€å°åŒ¹é…</p><p><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143193331387014ccd1040c814dee8b2164bb4f064cff000">https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143193331387014ccd1040c814dee8b2164bb4f064cff000</a></p><hr>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çˆ¬è™« </tag>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++é¢å‘å¯¹è±¡-7</title>
      <link href="/2018/10/16/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-7/"/>
      <url>/2018/10/16/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://i.imgur.com/wIL9Cmo.jpg" class="lazyload" data-srcset="https://i.imgur.com/wIL9Cmo.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="banner"></p><h1 id="æ•°æ®æŠ½è±¡"><a href="#æ•°æ®æŠ½è±¡" class="headerlink" title="æ•°æ®æŠ½è±¡"></a>æ•°æ®æŠ½è±¡</h1><blockquote><p>æ•°æ®æŠ½è±¡(data abstraction)æ˜¯ä¸é¢å‘å¯¹è±¡(object-oriented)å¹¶åˆ—çš„ä¸€ç§ç¼–ç¨‹èŒƒå¼(programming paradigm)ã€‚æ•°æ®æŠ½è±¡ä¹Ÿæˆä¸ºæŠ½è±¡æ•°æ®ç±»å‹(abstract data type/ADT)ã€‚<br>æ•°æ®æŠ½è±¡æ˜¯ä¸€ç§ä¾èµ–äºæ¥å£å’Œå®ç°åˆ†ç¦»çš„ç¼–ç¨‹ï¼ˆè®¾è®¡ï¼‰æŠ€æœ¯ã€‚</p></blockquote><p><a href="https://wizardforcel.gitbooks.io/sicp-py/content/2.2.html">https://wizardforcel.gitbooks.io/sicp-py/content/2.2.html</a><br><a href="http://wj196.iteye.com/blog/860303">http://wj196.iteye.com/blog/860303</a><br><a href="https://blog.csdn.net/Solstice/article/details/6707148">https://blog.csdn.net/Solstice/article/details/6707148</a></p><p>C++ç±»ä¸ºæ•°æ®æŠ½è±¡æä¾›äº†å¯èƒ½ã€‚å®ƒä»¬å‘å¤–ç•Œæä¾›äº†å¤§é‡ç”¨äºæ“ä½œå¯¹è±¡æ•°æ®çš„å…¬å…±æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–ç•Œå®é™…ä¸Šå¹¶ä¸æ¸…æ¥šç±»çš„å†…éƒ¨å®ç°ã€‚<br>æ•°æ®æŠ½è±¡ä»…ä¸ºç”¨æˆ·æš´éœ²æ¥å£ï¼Œè€ŒæŠŠå…·ä½“çš„å®ç°éšè—äº†èµ·æ¥</p><span id="more"></span><h2 id="æ•°æ®æŠ½è±¡çš„ä¸¤ä¸ªä¼˜åŠ¿"><a href="#æ•°æ®æŠ½è±¡çš„ä¸¤ä¸ªä¼˜åŠ¿" class="headerlink" title="æ•°æ®æŠ½è±¡çš„ä¸¤ä¸ªä¼˜åŠ¿"></a>æ•°æ®æŠ½è±¡çš„ä¸¤ä¸ªä¼˜åŠ¿</h2><ul><li>ç±»çš„å†…éƒ¨å—åˆ°ä¿æŠ¤ï¼Œä¸ä¼šå› ä¸ºæ— æ„çš„ç”¨æˆ·çº§é”™è¯¯å¯¼è‡´å¯¹è±¡çŠ¶æ€å—æŸã€‚</li><li>ç±»å®ç°å¯èƒ½éšç€æ—¶é—´çš„æ¨ç§»è€Œå‘ç”Ÿå˜åŒ–ï¼Œä»¥ä¾¿åº”å¯¹ä¸æ–­å˜åŒ–çš„éœ€æ±‚ï¼Œæˆ–è€…åº”å¯¹å“ªäº›ä¸æ”¹å˜ç”¨æˆ·çº§ä»£ç çš„é”™è¯¯æŠ¥å‘Šã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//exampleï¼š</span></span><br><span class="line"><span class="comment">//demo</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="comment">//å¯¹å¤–éšè—çš„æ•°æ®</span></span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line"><span class="type">int</span> score;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">Student</span>()</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Constructor called !&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¯¹å¤–çš„æ¥å£</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SetNum</span><span class="params">(<span class="type">int</span> number)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;num = number;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¯¹å¤–çš„æ¥å£</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SetScore</span><span class="params">(<span class="type">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;score = s;</span><br><span class="line"><span class="keyword">return</span> score;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Student A;</span><br><span class="line">cout&lt;&lt;A.<span class="built_in">SetScore</span>(<span class="number">20</span>)&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;A.<span class="built_in">SetNum</span>(<span class="number">17001</span>)&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/USkfOBR.png" class="lazyload" data-srcset="https://i.imgur.com/USkfOBR.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h1 id="æ•°æ®å°è£…"><a href="#æ•°æ®å°è£…" class="headerlink" title="æ•°æ®å°è£…"></a>æ•°æ®å°è£…</h1><blockquote><p>æ•°æ®å°è£…æ˜¯ä¸€ç§æŠŠæ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°æ†ç»‘åœ¨ä¸€èµ·çš„æœºåˆ¶ã€‚<br>C++ç¨‹åºä¸­ï¼Œä»»ä½•å¸¦æœ‰å…¬æœ‰å’Œç§æœ‰æˆå‘˜çš„ç±»éƒ½å¯ä»¥ä½œä¸ºæ•°æ®å°è£…å’Œæ•°æ®æŠ½è±¡çš„å®ä¾‹</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Adder</span><span class="comment">//æ±‚å’Œç±»</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="comment">//å¯¹å¤–éšè—çš„æ•°æ®ï¼Œæ•°æ®éšè—</span></span><br><span class="line"><span class="type">int</span> total;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Adder</span>(<span class="type">int</span> i=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">total = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¯¹å¤–æ¥å£</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addNum</span><span class="params">(<span class="type">int</span> number)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">total += number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¯¹å¤–æ¥å£</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getTotal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Adder A;</span><br><span class="line">    A.<span class="built_in">addNum</span>(<span class="number">10</span>);</span><br><span class="line">    A.<span class="built_in">addNum</span>(<span class="number">33</span>);</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Total: &quot;</span>&lt;&lt;A.<span class="built_in">getTotal</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- å…¬æœ‰æˆå‘˜addNumå’ŒgetTotalæ˜¯å¯¹å¤–çš„æ¥å£ï¼Œç”¨æˆ·éœ€è¦çŸ¥é“ä»–ä»¬ä»¥ä¾¿ä½¿ç”¨ç±»ã€‚</span></span><br><span class="line"><span class="comment">- ç§æœ‰æˆå‘˜totalæ˜¯å¯¹å¤–çš„éšè—ï¼Œç”¨æˆ·ä¸éœ€è¦äº†è§£å®ƒï¼Œä½†å®ƒåˆæ˜¯ç±»èƒ½æ­£å¸¸å·¥ä½œæ‰€å¿…é¡»çš„ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h1 id="æ¥å£ï¼ˆæŠ½è±¡ç±»ï¼‰"><a href="#æ¥å£ï¼ˆæŠ½è±¡ç±»ï¼‰" class="headerlink" title="æ¥å£ï¼ˆæŠ½è±¡ç±»ï¼‰"></a>æ¥å£ï¼ˆæŠ½è±¡ç±»ï¼‰</h1><p><font color="red">å¦‚æœç±»ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‡½æ•°è¢«å£°æ˜ä¸ºçº¯è™šå‡½æ•°ï¼Œåˆ™è¿™ä¸ªç±»å°±æ˜¯æŠ½è±¡ç±»ã€‚</font><br>æŠ½è±¡ç±»æ˜¯ä¸€ç§åªèƒ½å®šä¹‰ï¼Œä¸èƒ½ç”Ÿæˆå¯¹è±¡çš„ç±»ã€‚</p><ul><li>æŠ½è±¡ç±»ä¸èƒ½ç”¨äºå®ä¾‹åŒ–å¯¹è±¡ï¼Œåªèƒ½ä½œä¸ºæ¥å£ä½¿ç”¨</li><li>å¦‚æœä¸€ä¸ªæŠ½è±¡ç±»çš„å­ç±»éœ€è¦è¢«å®ä¾‹åŒ–ï¼Œåˆ™å¿…é¡»å®ç°æ¯ä¸ªè™šå‡½æ•°ã€‚å³å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­é‡è½½è™šå‡½æ•°</li><li>æ¥å£æè¿°äº†ç±»çš„è¡Œä¸ºå’ŒåŠŸèƒ½ï¼Œè€Œä¸éœ€è¦å®Œæˆç±»çš„ç‰¹å®šå®ç°</li><li>ç”¨äºå®ä¾‹åŒ–å¯¹è±¡çš„ç±»è¢«ç§°ä¸ºå…·ä½“ç±»</li><li>æŠ½è±¡ç±»çš„æ´¾ç±»ä¾ç„¶å¯ä»¥ä¸å®Œå–„åŸºç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œç»§ç»­ä½œä¸ºæŠ½è±¡ç±»è¢«æ´¾ç”Ÿï¼ŒçŸ¥é“ç»™å‡ºæ‰€æœ‰çš„çº¯è™šå‡½æ•°å®šä¹‰ï¼Œåˆ™æˆä¸ºä¸€ä¸ªå…·ä½“ç±»ï¼Œæ‰å¯ä»¥å®ä¾‹åŒ–å¯¹è±¡</li><li>æŠ½è±¡ç±»å› ä¸ºæŠ½è±¡ã€æ— æ³•å…·åŒ–ï¼Œæ‰€ä»¥ä¸èƒ½ä½œä¸ºå‚æ•°ç±»å‹ã€è¿”å›å€¼ã€å¼ºè½¬ç±»å‹</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">//example:</span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">class Shape&#123;                //åŸºç±»</span><br><span class="line">protected:</span><br><span class="line">int width;</span><br><span class="line">int height;</span><br><span class="line">public:</span><br><span class="line">//æä¾›æ¥å£æ¡†æ¶çš„çº¯è™šå‡½æ•°</span><br><span class="line">virtual int getArea() = 0;</span><br><span class="line"></span><br><span class="line">void setWidth(int w)</span><br><span class="line">&#123;</span><br><span class="line">this-&gt;width = w;</span><br><span class="line">&#125;</span><br><span class="line">void setHeight(int h)</span><br><span class="line">&#123;</span><br><span class="line">this-&gt;height = h;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//æ´¾ç”Ÿç±»</span><br><span class="line">class Rectangle:public Shape&#123;</span><br><span class="line">public:</span><br><span class="line">int getArea()</span><br><span class="line">&#123;</span><br><span class="line">return width*height;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class Triangle:public Shape&#123;</span><br><span class="line">public:</span><br><span class="line">int getArea()</span><br><span class="line">&#123;</span><br><span class="line">return (width*height)/2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">Rectangle A;  //çŸ©å½¢</span><br><span class="line">Triangle B;   //ä¸‰è§’å½¢</span><br><span class="line"></span><br><span class="line">A.setHeight(3);</span><br><span class="line">A.setWidth(4);</span><br><span class="line"></span><br><span class="line">B.setHeight(3);</span><br><span class="line">B.setWidth(4);</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;&quot;Total Rectangle area: &quot;&lt;&lt;A.getArea()&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;&quot;Total Triangle area: &quot;&lt;&lt;B.getArea()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/7XBzj3e.png" class="lazyload" data-srcset="https://i.imgur.com/7XBzj3e.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h1 id="total"><a href="#total" class="headerlink" title="total"></a>total</h1><ul><li>æ•°æ®æŠ½è±¡æ˜¯ä¸€ç§ä»…å‘ç”¨æˆ·æš´éœ²æ¥å£è€ŒæŠŠå…·ä½“å®ç°ç»†èŠ‚éšè—èµ·æ¥çš„ä¸€ç§æœºåˆ¶</li><li>æ•°æ®å°è£…æ˜¯ä¸€ç§æŠŠæ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°æ†ç»‘åœ¨ä¸€èµ·çš„æœºåˆ¶</li><li>æŠ½è±¡ç±»ä½œä¸ºæ¥å£ä½¿ç”¨ï¼Œä¸èƒ½ç”¨äºå®ä¾‹åŒ–å¯¹è±¡</li></ul><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>recording</title>
      <link href="/2018/10/16/recording/"/>
      <url>/2018/10/16/recording/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="è¾½å®ä¸€åˆ†é’Ÿ"><a href="#è¾½å®ä¸€åˆ†é’Ÿ" class="headerlink" title="è¾½å®ä¸€åˆ†é’Ÿ"></a>è¾½å®ä¸€åˆ†é’Ÿ</h1><p>harage</p><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=c0727umgu56" allowFullScreen="true"></iframe><span id="more"></span><h1 id="å››å·ä¸€åˆ†é’Ÿ"><a href="#å››å·ä¸€åˆ†é’Ÿ" class="headerlink" title="å››å·ä¸€åˆ†é’Ÿ"></a>å››å·ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=l07293p1s2m" allowFullScreen="true"></iframe><h1 id="æ¹–åŒ—ä¸€åˆ†é’Ÿ"><a href="#æ¹–åŒ—ä¸€åˆ†é’Ÿ" class="headerlink" title="æ¹–åŒ—ä¸€åˆ†é’Ÿ"></a>æ¹–åŒ—ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=n07301l0haa" allowFullScreen="true"></iframe><h1 id="è¥¿è—ä¸€åˆ†é’Ÿ"><a href="#è¥¿è—ä¸€åˆ†é’Ÿ" class="headerlink" title="è¥¿è—ä¸€åˆ†é’Ÿ"></a>è¥¿è—ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=x0732h3tq17" allowFullScreen="true"></iframe><h1 id="äº‘å—ä¸€åˆ†é’Ÿ"><a href="#äº‘å—ä¸€åˆ†é’Ÿ" class="headerlink" title="äº‘å—ä¸€åˆ†é’Ÿ"></a>äº‘å—ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=j07334buqif" allowFullScreen="true"></iframe><h1 id="å±±ä¸œä¸€åˆ†é’Ÿ"><a href="#å±±ä¸œä¸€åˆ†é’Ÿ" class="headerlink" title="å±±ä¸œä¸€åˆ†é’Ÿ"></a>å±±ä¸œä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=s0735al03y9" allowFullScreen="true"></iframe><h1 id="æ²³å—ä¸€åˆ†é’Ÿ"><a href="#æ²³å—ä¸€åˆ†é’Ÿ" class="headerlink" title="æ²³å—ä¸€åˆ†é’Ÿ"></a>æ²³å—ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=z07367jxkci" allowFullScreen="true"></iframe><h1 id="é™•è¥¿ä¸€åˆ†é’Ÿ"><a href="#é™•è¥¿ä¸€åˆ†é’Ÿ" class="headerlink" title="é™•è¥¿ä¸€åˆ†é’Ÿ"></a>é™•è¥¿ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=z0738ssdvln" allowFullScreen="true"></iframe><h1 id="æ±Ÿè¥¿ä¸€åˆ†é’Ÿ"><a href="#æ±Ÿè¥¿ä¸€åˆ†é’Ÿ" class="headerlink" title="æ±Ÿè¥¿ä¸€åˆ†é’Ÿ"></a>æ±Ÿè¥¿ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=l07408sn2df" allowFullScreen="true"></iframe><h1 id="æ·±åœ³ä¸€åˆ†é’Ÿ"><a href="#æ·±åœ³ä¸€åˆ†é’Ÿ" class="headerlink" title="æ·±åœ³ä¸€åˆ†é’Ÿ"></a>æ·±åœ³ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=r07413itac9" allowFullScreen="true"></iframe><h1 id="å®å¤ä¸€åˆ†é’Ÿ"><a href="#å®å¤ä¸€åˆ†é’Ÿ" class="headerlink" title="å®å¤ä¸€åˆ†é’Ÿ"></a>å®å¤ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=e07415ouyl2" allowFullScreen="true"></iframe><h1 id="è´µå·ä¸€åˆ†é’Ÿ"><a href="#è´µå·ä¸€åˆ†é’Ÿ" class="headerlink" title="è´µå·ä¸€åˆ†é’Ÿ"></a>è´µå·ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=n0743jlef7u" allowFullScreen="true"></iframe><h1 id="é‡åº†ä¸€åˆ†é’Ÿ"><a href="#é‡åº†ä¸€åˆ†é’Ÿ" class="headerlink" title="é‡åº†ä¸€åˆ†é’Ÿ"></a>é‡åº†ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=d0745k6nych" allowFullScreen="true"></iframe><h1 id="æ±Ÿè‹ä¸€åˆ†é’Ÿ"><a href="#æ±Ÿè‹ä¸€åˆ†é’Ÿ" class="headerlink" title="æ±Ÿè‹ä¸€åˆ†é’Ÿ"></a>æ±Ÿè‹ä¸€åˆ†é’Ÿ</h1><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=h0746na4ml0" allowFullScreen="true"></iframe><hr>]]></content>
      
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®šå‘çˆ¬è™«-ä¸­å›½å¤§å­¦MOOC-pythonç½‘ç»œçˆ¬è™«å®ä¾‹</title>
      <link href="/2018/10/15/%E5%AE%9A%E5%90%91%E7%88%AC%E8%99%AB-%E4%B8%AD%E5%9B%BD%E5%A4%A7%E5%AD%A6MOOC-python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%AE%9E%E4%BE%8B/"/>
      <url>/2018/10/15/%E5%AE%9A%E5%90%91%E7%88%AC%E8%99%AB-%E4%B8%AD%E5%9B%BD%E5%A4%A7%E5%AD%A6MOOC-python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%AE%9E%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å®šå‘çˆ¬è™«:ä»…å¯¹è¾“å…¥URLè¿›è¡Œçˆ¬å–ï¼Œä¸æ‰©å±•çˆ¬å–<br><a href="http://www.zuihaodaxue.cn/zuihaodaxuepaiming2018.html">ä¸­å›½å¤§å­¦æ’å2018</a></p><p><img src="https://i.imgur.com/5sll5d0.png" class="lazyload" data-srcset="https://i.imgur.com/5sll5d0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><span id="more"></span><h1 id="formatæ ¼å¼åŒ–è¾“å‡º"><a href="#formatæ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="formatæ ¼å¼åŒ–è¾“å‡º"></a>formatæ ¼å¼åŒ–è¾“å‡º</h1><p><img src="https://i.imgur.com/06d74Hk.png" class="lazyload" data-srcset="https://i.imgur.com/06d74Hk.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>çœ‹ä¸‹æ‰€éœ€ä¿¡æ¯ä½ç½®<br><img src="https://i.imgur.com/J15TrKJ.png" class="lazyload" data-srcset="https://i.imgur.com/J15TrKJ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h1 id="ç¨‹åºå¤§ä½“æ¡†æ¶"><a href="#ç¨‹åºå¤§ä½“æ¡†æ¶" class="headerlink" title="ç¨‹åºå¤§ä½“æ¡†æ¶"></a>ç¨‹åºå¤§ä½“æ¡†æ¶</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getHTMLText</span>(<span class="params">url</span>):</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fillUnivList</span>(<span class="params">ulist,html</span>):</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">printUnivList</span>(<span class="params">ulist,num</span>):</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Suc&quot;</span>+<span class="built_in">str</span>(num))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">uinfo = []</span><br><span class="line">url = <span class="string">&quot;&quot;</span></span><br><span class="line">html = getHTMLText(url)</span><br><span class="line">fillUnivList(uinfo,html)</span><br><span class="line">printUnivList(uinfo,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure><h2 id="getHTMLText"><a href="#getHTMLText" class="headerlink" title="getHTMLText()"></a>getHTMLText()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">GetHTMLText</span>(<span class="params">url</span>):       <span class="comment">#è·å–ç½‘é¡µå†…å®¹</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">r = requests.get(url)</span><br><span class="line">r.raise_for_status()   <span class="comment">#ç”¨äºæ•è·å¼‚å¸¸</span></span><br><span class="line">r.encoding = r.apparent_encoding</span><br><span class="line"><span class="keyword">return</span> r.text</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><h2 id="fillUnivList"><a href="#fillUnivList" class="headerlink" title="fillUnivList()"></a>fillUnivList()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fillUnivList</span>(<span class="params">ulist, html</span>):         <span class="comment"># æŠŠç½‘é¡µå†…å®¹æ”¾åˆ°æ•°æ®ç»“æ„ä¸­</span></span><br><span class="line">    soup = BeautifulSoup(html,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;ä¸€ä¸ªtræ ‡ç­¾å­˜æ”¾ä¸€æ‰€å¤§å­¦çš„ä¿¡æ¯&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> tr <span class="keyword">in</span> soup.find(<span class="string">&quot;tbody&quot;</span>).children:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(tr,bs4.element.Tag):  <span class="comment">#ä»…ä»…éå†æ ‡ç­¾,è¿‡æ»¤æ‰éæ ‡ç­¾ç±»å‹çš„å…¶å®ƒä¿¡æ¯</span></span><br><span class="line">            tds = tr(<span class="string">&#x27;td&#x27;</span>)  <span class="comment">#å°†æ‰€æœ‰çš„tdæ ‡ç­¾å­˜æ”¾åˆ°åˆ—è¡¨tdsä¸­ï¼Œç­‰ä»·äºtr.find_all(&#x27;td&#x27;)è¿”å›ä¸€ä¸ªåˆ—è¡¨ç±»å‹</span></span><br><span class="line">            <span class="string">&#x27;&#x27;&#x27;ç”±äºè¿›è¡Œäº†éå†ï¼Œä½¿ç”¨printæ‰“å°tdsä¼šå¾—åˆ°å¤šä¸ªåˆ—è¡¨&#x27;&#x27;&#x27;</span></span><br><span class="line">            ulist.append([tds[<span class="number">0</span>].string, tds[<span class="number">1</span>].string, tds[<span class="number">3</span>].string])<span class="comment">#å‘ulistä¸­å¢åŠ æ‰€éœ€è¦çš„ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><h2 id="printUnivList"><a href="#printUnivList" class="headerlink" title="printUnivList()"></a>printUnivList()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">printUnivlist</span>(<span class="params">ulist, num</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;:^10&#125;\t&#123;:^6&#125;\t&#123;:^10&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;æ’å&quot;</span>,<span class="string">&quot;å­¦æ ¡&quot;</span>,<span class="string">&quot;æ€»åˆ†&quot;</span>))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        u = ulist[i]</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;&#123;:^10&#125;\t&#123;:^6&#125;\t&#123;:^10&#125;&quot;</span>.<span class="built_in">format</span>(u[<span class="number">0</span>],u[<span class="number">1</span>],u[<span class="number">2</span>]))</span><br></pre></td></tr></table></figure><h2 id="main"><a href="#main" class="headerlink" title="main"></a>main</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> bs4   <span class="comment"># ç”¨åˆ°instance</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">GetHTMLText</span>(<span class="params">url</span>):       <span class="comment">#è·å–ç½‘é¡µå†…å®¹</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">r = requests.get(url)</span><br><span class="line">r.raise_for_status()   <span class="comment">#ç”¨äºæ•è·å¼‚å¸¸</span></span><br><span class="line">r.encoding = r.apparent_encoding</span><br><span class="line"><span class="keyword">return</span> r.text</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fillUnivList</span>(<span class="params">ulist, html</span>):         <span class="comment"># æŠŠç½‘é¡µå†…å®¹æ”¾åˆ°æ•°æ®ç»“æ„ä¸­</span></span><br><span class="line">    soup = BeautifulSoup(html,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;ä¸€ä¸ªtræ ‡ç­¾å­˜æ”¾ä¸€æ‰€å¤§å­¦çš„ä¿¡æ¯&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> tr <span class="keyword">in</span> soup.find(<span class="string">&quot;tbody&quot;</span>).children:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(tr,bs4.element.Tag):  <span class="comment">#ä»…ä»…éå†æ ‡ç­¾,è¿‡æ»¤æ‰éæ ‡ç­¾ç±»å‹çš„å…¶å®ƒä¿¡æ¯</span></span><br><span class="line">            tds = tr(<span class="string">&#x27;td&#x27;</span>)  <span class="comment">#å°†æ‰€æœ‰çš„tdæ ‡ç­¾å­˜æ”¾åˆ°åˆ—è¡¨tdsä¸­ï¼Œç­‰ä»·äºtr.find_all(&#x27;td&#x27;)è¿”å›ä¸€ä¸ªåˆ—è¡¨ç±»å‹</span></span><br><span class="line">            <span class="string">&#x27;&#x27;&#x27;ç”±äºè¿›è¡Œäº†éå†ï¼Œä½¿ç”¨printæ‰“å°tdsä¼šå¾—åˆ°å¤šä¸ªåˆ—è¡¨&#x27;&#x27;&#x27;</span></span><br><span class="line">            ulist.append([tds[<span class="number">0</span>].string, tds[<span class="number">1</span>].string, tds[<span class="number">3</span>].string])<span class="comment">#å‘ulistä¸­å¢åŠ æ‰€éœ€è¦çš„ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">printUnivlist</span>(<span class="params">ulist, num</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;:^10&#125;\t&#123;:^6&#125;\t&#123;:^10&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;æ’å&quot;</span>,<span class="string">&quot;å­¦æ ¡&quot;</span>,<span class="string">&quot;æ€»åˆ†&quot;</span>))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        u = ulist[i]</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;&#123;:^10&#125;\t&#123;:^6&#125;\t&#123;:^10&#125;&quot;</span>.<span class="built_in">format</span>(u[<span class="number">0</span>],u[<span class="number">1</span>],u[<span class="number">2</span>]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    uinfo = []</span><br><span class="line">    url = <span class="string">&quot;http://www.zuihaodaxue.cn/zuihaodaxuepaiming2018.html&quot;</span></span><br><span class="line">    html = GetHTMLText(url)</span><br><span class="line">    fillUnivList(uinfo,html)</span><br><span class="line">    printUnivlist(uinfo,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/SJSG4OB.png" class="lazyload" data-srcset="https://i.imgur.com/SJSG4OB.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="ä»£ç ä¼˜åŒ–ï¼Œä½¿ç”¨chr-12288-è§£å†³ä¸­æ–‡å¯¹é½é—®é¢˜"><a href="#ä»£ç ä¼˜åŒ–ï¼Œä½¿ç”¨chr-12288-è§£å†³ä¸­æ–‡å¯¹é½é—®é¢˜" class="headerlink" title="ä»£ç ä¼˜åŒ–ï¼Œä½¿ç”¨chr(12288)è§£å†³ä¸­æ–‡å¯¹é½é—®é¢˜"></a>ä»£ç ä¼˜åŒ–ï¼Œä½¿ç”¨chr(12288)è§£å†³ä¸­æ–‡å¯¹é½é—®é¢˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> bs4   <span class="comment"># ç”¨åˆ°instance</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">GetHTMLText</span>(<span class="params">url</span>):       <span class="comment">#è·å–ç½‘é¡µå†…å®¹</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">r = requests.get(url)</span><br><span class="line">r.raise_for_status()   <span class="comment">#ç”¨äºæ•è·å¼‚å¸¸</span></span><br><span class="line">r.encoding = r.apparent_encoding</span><br><span class="line"><span class="keyword">return</span> r.text</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fillUnivList</span>(<span class="params">ulist, html</span>):         <span class="comment"># æŠŠç½‘é¡µå†…å®¹æ”¾åˆ°æ•°æ®ç»“æ„ä¸­</span></span><br><span class="line">    soup = BeautifulSoup(html,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;ä¸€ä¸ªtræ ‡ç­¾å­˜æ”¾ä¸€æ‰€å¤§å­¦çš„ä¿¡æ¯&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> tr <span class="keyword">in</span> soup.find(<span class="string">&quot;tbody&quot;</span>).children:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(tr,bs4.element.Tag):  <span class="comment">#ä»…ä»…éå†æ ‡ç­¾,è¿‡æ»¤æ‰éæ ‡ç­¾ç±»å‹çš„å…¶å®ƒä¿¡æ¯</span></span><br><span class="line">            tds = tr(<span class="string">&#x27;td&#x27;</span>)  <span class="comment">#å°†æ‰€æœ‰çš„tdæ ‡ç­¾å­˜æ”¾åˆ°åˆ—è¡¨tdsä¸­ï¼Œç­‰ä»·äºtr.find_all(&#x27;td&#x27;)è¿”å›ä¸€ä¸ªåˆ—è¡¨ç±»å‹</span></span><br><span class="line">            <span class="string">&#x27;&#x27;&#x27;ç”±äºè¿›è¡Œäº†éå†ï¼Œä½¿ç”¨printæ‰“å°tdsä¼šå¾—åˆ°å¤šä¸ªåˆ—è¡¨&#x27;&#x27;&#x27;</span></span><br><span class="line">            ulist.append([tds[<span class="number">0</span>].string, tds[<span class="number">1</span>].string, tds[<span class="number">3</span>].string])<span class="comment">#å‘ulistä¸­å¢åŠ æ‰€éœ€è¦çš„ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;def printUnivlist(ulist, num):</span></span><br><span class="line"><span class="string">    print(&quot;&#123;:^10&#125;\t&#123;:^6&#125;\t&#123;:^10&#125;&quot;.format(&quot;æ’å&quot;,&quot;å­¦æ ¡&quot;,&quot;æ€»åˆ†&quot;))</span></span><br><span class="line"><span class="string">    for i in range(num):</span></span><br><span class="line"><span class="string">        u = ulist[i]</span></span><br><span class="line"><span class="string">        print(&quot;&#123;:^10&#125;\t&#123;:^6&#125;\t&#123;:^10&#125;&quot;.format(u[0],u[1],u[2]))</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ä¼˜åŒ–è¾“å‡ºæ ¼å¼ï¼Œä¸­æ–‡å¯¹é½é—®é¢˜,ä½¿ç”¨chr(12288)è¡¨ç¤ºä¸€ä¸ªä¸­æ–‡ç©ºæ ¼ï¼Œutf-8ç¼–ç &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">printUnivlist</span>(<span class="params">ulist, num</span>):</span><br><span class="line">    tplt = <span class="string">&quot;&#123;0:^10&#125;\t&#123;1:&#123;3&#125;^10&#125;\t&#123;2:^10&#125;&quot;</span>   <span class="comment">#è¾“å‡ºæ¨¡æ¿ï¼Œ&#123;3&#125;ä½¿ç”¨formatå‡½æ•°ç¬¬ä¸‰ä¸ªå˜é‡è¿›è¡Œå¡«å……ï¼Œå³ä½¿ç”¨ä¸­æ–‡ç©ºæ ¼è¿›è¡Œå¡«å……</span></span><br><span class="line">    <span class="built_in">print</span>(tplt.<span class="built_in">format</span>(<span class="string">&quot;æ’å&quot;</span>,<span class="string">&quot;å­¦æ ¡&quot;</span>,<span class="string">&quot;æ€»åˆ†&quot;</span>,<span class="built_in">chr</span>(<span class="number">12288</span>)))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        u = ulist[i]</span><br><span class="line">        <span class="built_in">print</span>(tplt.<span class="built_in">format</span>(u[<span class="number">0</span>],u[<span class="number">1</span>],u[<span class="number">2</span>],<span class="built_in">chr</span>(<span class="number">12288</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    uinfo = []</span><br><span class="line">    url = <span class="string">&quot;http://www.zuihaodaxue.cn/zuihaodaxuepaiming2018.html&quot;</span></span><br><span class="line">    html = GetHTMLText(url)</span><br><span class="line">    fillUnivList(uinfo,html)</span><br><span class="line">    printUnivlist(uinfo,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://i.imgur.com/8X92UkB.png" class="lazyload" data-srcset="https://i.imgur.com/8X92UkB.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></h2>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eyes candy</title>
      <link href="/2018/10/15/Eyes-candy/"/>
      <url>/2018/10/15/Eyes-candy/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://i.imgur.com/6hQACUc.jpg" class="lazyload" data-srcset="https://i.imgur.com/6hQACUc.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><span id="more"></span><p><img src="https://i.imgur.com/0cIchiA.jpg" class="lazyload" data-srcset="https://i.imgur.com/0cIchiA.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/Vs2gTr7.jpg" class="lazyload" data-srcset="https://i.imgur.com/Vs2gTr7.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/D8ueTlT.jpg" class="lazyload" data-srcset="https://i.imgur.com/D8ueTlT.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++é¢å‘å¯¹è±¡-6</title>
      <link href="/2018/10/14/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-6/"/>
      <url>/2018/10/14/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="C-å¤šæ€"><a href="#C-å¤šæ€" class="headerlink" title="C++å¤šæ€"></a>C++å¤šæ€</h1><p><code>C++çš„å¤šæ€æ„å‘³ç€è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œä¼šæ ¹æ®è°ƒç”¨çš„å¯¹è±¡çš„ç±»å‹æ¥æ‰§è¡Œä¸åŒçš„å‡½æ•°</code></p><p>ç¼–è¯‘æ—¶çš„å¤šæ€ï¼Œç¼–è¯‘æ—¶å°±ç¡®å®šäº†å…·ä½“çš„æ“ä½œè¿‡ç¨‹ã€‚<br>è¿è¡Œæ—¶çš„å¤šæ€ï¼Œç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ‰ç¡®å®šçš„æ“ä½œè¿‡ç¨‹ã€‚<br>æ“ä½œçš„è¿‡ç¨‹å³ç§°ä¸ºè”ç¼–ï¼Œä¹Ÿç§°ä¸ºç»‘å®šã€‚</p><span id="more"></span><ul><li>é™æ€è”ç¼–ï¼ˆæ—©ç»‘å®šï¼‰ï¼Œåœ¨ç¼–è¯‘å’Œè¿æ¥æ—¶ç¡®è®¤çš„ã€‚æ¯”å¦‚å‡½æ•°é‡è½½ï¼Œå‡½æ•°æ¨¡æ¿ã€‚æ•ˆç‡é«˜</li><li>åŠ¨æ€è”ç¼–ï¼ˆåæœŸç»‘å®šï¼‰ï¼Œè¿è¡Œçš„æ—¶å€™æ‰èƒ½ç¡®å®šæ˜¯å“ªå—ä»£ç æ®µã€‚çµæ´»</li></ul><h2 id="é™æ€è”ç¼–"><a href="#é™æ€è”ç¼–" class="headerlink" title="é™æ€è”ç¼–"></a>é™æ€è”ç¼–</h2><p>å‡½æ•°è°ƒç”¨åœ¨ç¨‹åºæ‰§è¡Œå‰å°±å‡†å¤‡å¥½äº†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.1415926</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="type">int</span> y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Point</span>(<span class="type">int</span> x=<span class="number">0</span>,<span class="type">int</span> y=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;x=x;</span><br><span class="line"><span class="keyword">this</span>-&gt;y=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>: <span class="keyword">public</span> Point</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> r;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Circle</span>(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> R):<span class="built_in">Point</span>(x,y)<span class="comment">//åŸºåŸºç±»ä¸­æœ‰å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»ä¸­çš„æ„é€ å‡½æ•°éœ€è¦è‡ªå®šä¹‰</span></span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;r=R;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> r*r*PI;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Point <span class="title">A</span><span class="params">(<span class="number">3</span>,<span class="number">3</span>)</span></span>;<span class="comment">//ä¸€ä¸ªç‚¹</span></span><br><span class="line"><span class="function">Circle <span class="title">B</span><span class="params">(<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>)</span></span>;   <span class="comment">//ä¸€ä¸ªåœ†</span></span><br><span class="line"></span><br><span class="line">cout&lt;&lt;A.<span class="built_in">area</span>()&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;B.<span class="built_in">area</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">Point *ptr;  <span class="comment">//Pointç±»å‹çš„æŒ‡é’ˆ</span></span><br><span class="line">ptr = &amp;B;    <span class="comment">//æŒ‡å‘äº†Circleç±»å‹</span></span><br><span class="line">cout&lt;&lt;ptr-&gt;<span class="built_in">area</span>()&lt;&lt;endl;<span class="comment">//è¾“å‡ºç»“æœä¸ç†æƒ³</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/Armhnbc.png" class="lazyload" data-srcset="https://i.imgur.com/Armhnbc.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p>ç¬¬ä¸‰ä¸ªcoutè¾“å‡º0çš„åŸå› :ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å°±ä¾æ®ptrçš„ç±»å‹æ¥æ‰§è¡Œé‚£ä¸ªareï¼ŒæŒ‡é’ˆptrè™½ç„¶æŒ‡å‘äº†Circleç±»å‹çš„Bï¼Œä½†æ˜¯æŒ‡é’ˆpträ¸ºPointç±»å‹ï¼Œæ‰€ä»¥æ‰§è¡ŒPointç±»é‡Œçš„areæ–¹æ³•ã€‚è¿™é‡Œå®è¡Œçš„å³ä¸ºé™æ€ç¼–è¯‘ã€‚æ­¤æ—¶ç¼–è¯‘å™¨çœ‹çš„æ˜¯æŒ‡é’ˆçš„ç±»å‹è€Œéå†…å®¹ã€‚</p><h2 id="åŠ¨æ€ç¼–è¯‘"><a href="#åŠ¨æ€ç¼–è¯‘" class="headerlink" title="åŠ¨æ€ç¼–è¯‘"></a>åŠ¨æ€ç¼–è¯‘</h2><p>ä½¿ç”¨è™šå‡½æ•°è¿›è¡ŒåŠ¨æ€è”ç¼–ã€‚ç¨‹åºåœ¨ä»»æ„ç‚¹å¯ä»¥æ ¹æ®æ‰€è°ƒç”¨çš„å¯¹è±¡ç±»å‹æ¥é€‰æ‹©è°ƒç”¨çš„å‡½æ•°ï¼Œè¿™ç§æ“ä½œå³ä¸ºåŠ¨æ€è”ç¼–ï¼Œä¹Ÿæˆä¸ºåæœŸç»‘å®šã€‚</p><h3 id="è™šå‡½æ•°"><a href="#è™šå‡½æ•°" class="headerlink" title="è™šå‡½æ•°"></a>è™šå‡½æ•°</h3><p>åœ¨åŸºç±»ä¸­ä½¿ç”¨<code>virtual</code>å…³é”®å­—è¿›è¡Œå£°æ˜çš„å‡½æ•°ã€‚</p><pre><code>virtual å‡½æ•°è¿”å›å€¼ å‡½æ•°å(å½¢å‚)&#123;    å‡½æ•°ä½“&#125;</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.1415926</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="type">int</span> y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Point</span>(<span class="type">int</span> x=<span class="number">0</span>,<span class="type">int</span> y=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;x=x;</span><br><span class="line"><span class="keyword">this</span>-&gt;y=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>: <span class="keyword">public</span> Point</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> r;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Circle</span>(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> R):<span class="built_in">Point</span>(x,y)<span class="comment">//åŸºåŸºç±»ä¸­æœ‰å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»ä¸­çš„æ„é€ å‡½æ•°éœ€è¦è‡ªå®šä¹‰</span></span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;r=R;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> r*r*PI;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Point <span class="title">A</span><span class="params">(<span class="number">3</span>,<span class="number">3</span>)</span></span>;<span class="comment">//ä¸€ä¸ªç‚¹</span></span><br><span class="line"><span class="function">Circle <span class="title">B</span><span class="params">(<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>)</span></span>;   <span class="comment">//ä¸€ä¸ªåœ†</span></span><br><span class="line"></span><br><span class="line">cout&lt;&lt;A.<span class="built_in">area</span>()&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;B.<span class="built_in">area</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">Point *ptr;  <span class="comment">//Pointç±»å‹çš„æŒ‡é’ˆ</span></span><br><span class="line">ptr = &amp;B;</span><br><span class="line">cout&lt;&lt;ptr-&gt;<span class="built_in">area</span>()&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;(*ptr).<span class="built_in">area</span>()&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/Hp4HVUm.png" class="lazyload" data-srcset="https://i.imgur.com/Hp4HVUm.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h3 id="çº¯è™šå‡½æ•°"><a href="#çº¯è™šå‡½æ•°" class="headerlink" title="çº¯è™šå‡½æ•°"></a>çº¯è™šå‡½æ•°</h3><p>åœ¨åŸºç±»ä¸­ä¸èƒ½å¯¹è™šå‡½æ•°ç»™å‡ºæœ‰æ„ä¹‰çš„å®ç°ï¼Œè¿™æ—¶ä¾¯å°±ä½¿ç”¨åˆ°äº†çº¯è™šå‡½æ•°ã€‚åŒ…å«çº¯è™šå‡½æ•°çš„ç±»æ˜¯æŠ½è±¡ç±»ã€‚æŠ½è±¡ç±»è‡³å°‘åŒ…å«ä¸€ä¸ªçº¯è™šå‡½æ•°ã€‚</p><p>å®šä¹‰æ–¹å¼:</p><pre><code>virtual è¿”å›å€¼ å‡½æ•°å(å½¢å‚)  = 0;</code></pre><p><img src="https://i.imgur.com/4duEkpt.png" class="lazyload" data-srcset="https://i.imgur.com/4duEkpt.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h3 id="è™šææ„å‡½æ•°"><a href="#è™šææ„å‡½æ•°" class="headerlink" title="è™šææ„å‡½æ•°"></a>è™šææ„å‡½æ•°</h3><blockquote><p>åœ¨C++ä¸­ï¼Œä¸èƒ½æŠŠæ„é€ å‡½æ•°å®šä¹‰ä¸ºè™šæ„é€ å‡½æ•°ï¼Œå› ä¸ºåœ¨å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶æ‰ä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œè€Œä¸”è™šå‡½æ•°çš„å®ç°ï¼Œå…¶å®é™…æœ¬è´¨æ˜¯é€šè¿‡ä¸€ä¸ªè™šå‡½æ•°è¡¨æŒ‡é’ˆæ¥è°ƒç”¨çš„ï¼Œè¿˜æ²¡æœ‰å¯¹è±¡æ›´æ²¡æœ‰æ²¡å†…å­˜ç©ºé—´å½“ç„¶æ— æ³•è°ƒç”¨ï¼Œæ•…æ²¡æœ‰å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ä¹‹å‰çš„æ„é€ å‡½æ•°æ²¡æœ‰æ„ä¹‰ä¹Ÿä¸èƒ½å®ç°ã€‚<br>ææ„å‡½æ•°å¯ä»¥ä¸ºè™šå‡½æ•°ï¼Œè€Œä¸”å¤§å¤šæ•°æ—¶å€™éƒ½å£°æ˜ä¸ºè™šææ„å‡½æ•°ã€‚è¿™æ ·å°±å¯ä»¥åœ¨åŸºç±»çš„æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»çš„å¯¹è±¡åœ¨é‡Šæ”¾æ—¶ï¼Œå¯ä»¥æ ¹æ®æ‰€æŒ‡å‘çš„å¯¹è±¡ç±»å‹åŠ¨æ€è”ç¼–è°ƒç”¨å­ç±»çš„ææ„å‡½æ•°ï¼Œå®ç°çœŸæ­£çš„å¯¹è±¡å†…å­˜é‡Šæ”¾ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">    <span class="type">int</span> *str;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Point</span>(<span class="type">int</span> x=<span class="number">0</span>,<span class="type">int</span> y=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;x=x;</span><br><span class="line"><span class="keyword">this</span>-&gt;y=y;</span><br><span class="line">str = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">100</span>];</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Point</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> []str;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Called Point&#x27;s Destructor and Delete str !&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>:<span class="keyword">public</span> Point</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> r;</span><br><span class="line"><span class="type">int</span> *str;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Circle</span>(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> r):<span class="built_in">Point</span>(x,y)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;r=r;</span><br><span class="line">str = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">100</span>];</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Circle</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> []str;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Called Circle&#x27;s Destructor and Delete str !&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Point *p;</span><br><span class="line">p = <span class="keyword">new</span> <span class="built_in">Circle</span>(<span class="number">10</span>,<span class="number">10</span>,<span class="number">20</span>);</span><br><span class="line"><span class="keyword">delete</span> p;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/mx2KoAK.png" class="lazyload" data-srcset="https://i.imgur.com/mx2KoAK.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p><font color="green">ä»…è°ƒç”¨äº†åŸºç±»çš„ææ„å‡½æ•°ï¼Œè¿™æ ·ä¸€æ¥æ´¾ç”Ÿç±»ä¸­newå‡ºæ¥çš„4*100å­—èŠ‚çš„å†…å­˜å°±ä¼šæ®‹ç•™ï¼Œé€ æˆå†…å­˜æ³„æ¼ï¼</font></p><p><img src="https://i.imgur.com/bkZuSA5.png" class="lazyload" data-srcset="https://i.imgur.com/bkZuSA5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demo"></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Just relax</title>
      <link href="/2018/10/13/Just-relax/"/>
      <url>/2018/10/13/Just-relax/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=100% height=86 src="//music.163.com/outchain/player?type=2&id=498286736&auto=1&height=66"></iframe><span id="more"></span>![](https://i.imgur.com/SHZN1xr.jpg)<p><img src="https://i.imgur.com/axpCGXn.jpg" class="lazyload" data-srcset="https://i.imgur.com/axpCGXn.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Astronomy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++é¢å‘å¯¹è±¡-5</title>
      <link href="/2018/10/12/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-5/"/>
      <url>/2018/10/12/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=113839&auto=1&height=66"></iframe><h1 id="æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°"><a href="#æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°" class="headerlink" title="æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°"></a>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°</h1><p>attention:</p><ul><li>åœ¨åˆ›å»ºä¸€ä¸ªæ´¾ç”Ÿç±»çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šå…ˆåˆ›å»ºä¸€ä¸ªåŸºç±»ã€‚</li><li>æ´¾ç”Ÿç±»ä¼šå¸æ”¶åŸºç±»çš„å…¨éƒ¨æˆå‘˜ï¼Œä½†ä¸åŒ…æ‹¬æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚</li><li>æ´¾ç”Ÿç±»åœ¨è°ƒç”¨è‡ªå·±çš„æ„é€ å‡½æ•°ä¹‹å‰ï¼Œä¼šå…ˆè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚</li></ul><span id="more"></span><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clock</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> h;</span><br><span class="line"><span class="type">int</span> m;</span><br><span class="line"><span class="type">int</span> s;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Clock</span>()</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Clock&#x27;s consturctor called !&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AlarmClock</span>:<span class="keyword">public</span> Clock</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> ah;</span><br><span class="line"><span class="type">int</span> am;</span><br><span class="line"><span class="type">int</span> as;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">AlarmClock</span>()</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;AlarmClock&#x27;s constructor called!&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">AlarmClock A;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/JohcfbR.png" class="lazyload" data-srcset="https://i.imgur.com/JohcfbR.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p><font color="red">å½“åŸºç±»çš„æ„é€ å‡½æ•°å¸¦å‚çš„æ—¶å€™ï¼Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åº”è¯¥è¿™ä¹ˆå®šä¹‰ï¼š</font><br>    æ´¾ç”Ÿç±»ç‹—åˆ¶é€ å‡½æ•°åå­—(æ€»å½¢å‚è¡¨åˆ—):åŸºç±»æ„é€ å‡½æ•°(å®å‚è¡¨ç±»)    //æ³¨æ„è¿™é‡ŒåŸºç±»çš„æ„é€ å‡½æ•°ç”¨äº†æ˜¯å®é™…å‚æ•°</p><p><font color="red">ä¸€ä½†åŸºç±»ä¸­æœ‰å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»åˆ™å¿…é¡»æœ‰æ˜¾å¼ä¼ å‚çš„æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ï¼Œæ¥å®ç°åŸºç±»ä¸­å‚æ•°çš„ä¼ é€’ï¼Œå®Œæˆåˆå§‹åŒ–å·¥ä½œ</font></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clock</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> h;</span><br><span class="line"><span class="type">int</span> m;</span><br><span class="line"><span class="type">int</span> s;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Clock</span>()</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Clock&#x27;s constructor called&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Clock</span>(<span class="type">int</span> h,<span class="type">int</span> m,<span class="type">int</span> s)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Clock&#x27;s consturctor with paramter called !&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AlarmClock</span>:<span class="keyword">public</span> Clock</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> ah;</span><br><span class="line"><span class="type">int</span> am;</span><br><span class="line"><span class="type">int</span> as;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">AlarmClock</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;AlarmClock&#x27;s constructor called!&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">AlarmClock</span>(<span class="type">int</span> h,<span class="type">int</span> m,<span class="type">int</span> s):<span class="built_in">Clock</span>(h,m,s)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;AlarmClock&#x27;s constructor with paramter called!&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">AlarmClock A;</span><br><span class="line"><span class="function">AlarmClock <span class="title">B</span><span class="params">(<span class="number">20</span>,<span class="number">47</span>,<span class="number">55</span>)</span></span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/KIPU9lP.png" class="lazyload" data-srcset="https://i.imgur.com/KIPU9lP.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h1 id="æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°"><a href="#æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°" class="headerlink" title="æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°"></a>æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°</h1><p>æ„é€ å‡½æ•°è°ƒç”¨é¡ºåº:åŸºç±»-&gt;æ´¾ç”Ÿç±»<br>ææ„å‡½æ•°è°ƒç”¨é¡ºåº:æ´¾ç”Ÿç±»-&gt;åŸºç±»</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clock</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> h;</span><br><span class="line">        <span class="type">int</span> m;</span><br><span class="line">        <span class="type">int</span> s;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Clock</span>()</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;Clock&#x27;s consturctor called !&quot;</span>&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        ~<span class="built_in">Clock</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Clock&#x27;s destructor called !&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AlarmClock</span>:<span class="keyword">public</span> Clock</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> ah;</span><br><span class="line">        <span class="type">int</span> am;</span><br><span class="line">        <span class="type">int</span> as;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">AlarmClock</span>()</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;AlarmClock&#x27;s constructor called !&quot;</span>&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        ~<span class="built_in">AlarmClock</span>()</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;AlarmClock&#x27;s destructor called !&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AlarmClock A;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/vIp2xc5.png" class="lazyload" data-srcset="https://i.imgur.com/vIp2xc5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><hr><h1 id="è™šåŸºç±»ï¼Œä½¿ç”¨virtualè¿›è¡Œå£°æ˜"><a href="#è™šåŸºç±»ï¼Œä½¿ç”¨virtualè¿›è¡Œå£°æ˜" class="headerlink" title="è™šåŸºç±»ï¼Œä½¿ç”¨virtualè¿›è¡Œå£°æ˜"></a>è™šåŸºç±»ï¼Œä½¿ç”¨<code>virtual</code>è¿›è¡Œå£°æ˜</h1><ul><li><p>è™šç»§æ‰¿çš„å‡ºç°æˆä¸ºäº†è§£å†³å¤šç»§æ‰¿ä¸­äºŒä¹‰æ€§é—®é¢˜çš„ä¸€ç§æ–¹å¼</p></li><li><p>å¦‚æœä¸€ä¸ªæ´¾ç”Ÿç±»æœ‰å¤šä¸ªç›´æ¥åŸºç±»ï¼Œè€Œè¿™äº›ç›´æ¥åŸºç±»åˆæœ‰ä¸€ä¸ªå…±åŒçš„åŸºç±»ï¼Œåˆ™åœ¨æœ€ç»ˆçš„æ´¾ç”Ÿç±»ä¸­ä¼šä¿ç•™è¯¥é—´æ¥å…±åŒåŸºç±»æ•°æ®æˆå‘˜çš„å¤šä»½åŒåæˆå‘˜ï¼Œè¿™æ—¶å°±äº§ç”Ÿäº†äºŒä¹‰æ€§é—®é¢˜ã€‚</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">grandfather</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">int</span> key;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">father_1</span>:<span class="keyword">public</span> grandfather</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">father_2</span>:<span class="keyword">public</span> grandfather</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">grandson</span>:<span class="keyword">public</span> father_1,<span class="keyword">public</span> father_2</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">grandson A;</span><br><span class="line">A.key = <span class="number">10</span>; <span class="comment">//[Error]</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/yTDNM8f.png" class="lazyload" data-srcset="https://i.imgur.com/yTDNM8f.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p>åœ¨ç»§æ‰¿çš„æ—¶å€™åœ¨ç»§æ‰¿ç±»å‹publicä¹‹å‰ç”¨virtualä¿®é¥°ä¸€ä¸‹</p><ul><li><p>è™šåŸºç±»å¹¶ä¸æ˜¯åœ¨å£°æ˜åŸºç±»æ—¶å£°æ˜çš„ï¼Œè€Œæ˜¯åœ¨å£°æ˜æ´¾ç”Ÿç±»æ—¶ï¼ŒæŒ‡å®šç»§æ‰¿æ–¹å¼æ—¶å£°æ˜çš„ã€‚</p></li><li><p>ä¸ºäº†ä¿è¯è™šåŸºç±»åœ¨æ´¾ç”Ÿç±»ä¸­åªç»§æ‰¿ä¸€æ¬¡ï¼Œåº”å½“åœ¨è¯¥åŸºç±»çš„æ‰€æœ‰ç›´æ¥æ´¾ç”Ÿç±»ä¸­å£°æ˜ä¸ºè™šåŸºç±»ã€‚å¦åˆ™ä»ç„¶ä¼šå‡ºç°å¯¹åŸºç±»çš„å¤šæ¬¡ç»§æ‰¿ã€‚</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">grandfather</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">int</span> key;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">father_1</span>:<span class="keyword">virtual</span> <span class="keyword">public</span> grandfather</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">father_2</span>:<span class="keyword">virtual</span> <span class="keyword">public</span> grandfather</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">grandson</span>:<span class="keyword">public</span> father_1,<span class="keyword">public</span> father_2</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">grandson A;</span><br><span class="line">A.key = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,A.key);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://www.cnblogs.com/yiranlaobaitu/p/3764422.html">https://www.cnblogs.com/yiranlaobaitu/p/3764422.html</a><br><a href="https://blog.csdn.net/bxw1992/article/details/77726390">https://blog.csdn.net/bxw1992/article/details/77726390</a></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤©æ–‡å­¦å­¦ä¹ è®°å½•</title>
      <link href="/2018/10/12/XXX/"/>
      <url>/2018/10/12/XXX/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>å›¾åºŠå·²æŒ‚ï¼Œéœ€è¦è·¨è¶Š G-F-W</p></blockquote><p><img src="https://i.imgur.com/3ExmrYT.gif" class="lazyload" data-srcset="https://i.imgur.com/3ExmrYT.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><span id="more"></span><p><img src="https://i.imgur.com/6KaA8bx.jpg" class="lazyload" data-srcset="https://i.imgur.com/6KaA8bx.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/xejoAul.jpg" class="lazyload" data-srcset="https://i.imgur.com/xejoAul.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/iJzSDhl.jpg" class="lazyload" data-srcset="https://i.imgur.com/iJzSDhl.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Astronomy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿¡æ¯æ ‡è®°</title>
      <link href="/2018/10/12/%E4%BF%A1%E6%81%AF%E6%A0%87%E8%AE%B0/"/>
      <url>/2018/10/12/%E4%BF%A1%E6%81%AF%E6%A0%87%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ä¿¡æ¯æ ‡è®°çš„ä¸‰ç§å½¢å¼"><a href="#ä¿¡æ¯æ ‡è®°çš„ä¸‰ç§å½¢å¼" class="headerlink" title="ä¿¡æ¯æ ‡è®°çš„ä¸‰ç§å½¢å¼"></a>ä¿¡æ¯æ ‡è®°çš„ä¸‰ç§å½¢å¼</h1><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=100% height=86 src="//music.163.com/outchain/player?type=2&id=442869498&auto=1&height=66"></iframe><ul><li>XML(eXtensible Markup Language)</li><li>YAML(YAML Ainâ€™t Markup Language)</li><li>JSON(JaveScript Object Notation)<span id="more"></span><h2 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h2>ä½¿ç”¨æ ‡ç­¾æ ‡è®°ä¿¡æ¯çš„è¡¨è¾¾å½¢å¼<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">people</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿™æ˜¯æ³¨é‡Š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">firstname</span>&gt;</span>Shan<span class="tag">&lt;/<span class="name">firstname</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">lastname</span>&gt;</span>Ye<span class="tag">&lt;/<span class="name">lastname</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">address</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">streetAddre</span>&gt;</span>None<span class="tag">&lt;/<span class="name">streetAddre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">city</span>&gt;</span>Gui Lin<span class="tag">&lt;/<span class="name">city</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">zipcode</span>&gt;</span>541004<span class="tag">&lt;/<span class="name">zipcode</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">prof</span>&gt;</span>boy<span class="tag">&lt;/<span class="name">prof</span>&gt;</span><span class="tag">&lt;<span class="name">prof</span>&gt;</span>boring<span class="tag">&lt;/<span class="name">prof</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">people</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p>æœ‰ç±»å‹é”®å€¼å¯¹æ ‡è®°ä¿¡æ¯çš„è¡¨è¾¾å½¢å¼</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;firstname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Shan&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;lastname&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;Ye&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;address&quot;</span><span class="punctuation">:</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;streetAddre&quot;</span><span class="punctuation">:</span><span class="string">&quot;None&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Gui Lin&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;zipcode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;541004&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="YML"><a href="#YML" class="headerlink" title="YML"></a>YML</h2><p>æ— ç±»å‹é”®å€¼å¯¹æ ‡è®°ä¿¡æ¯çš„è¡¨è¾¾å½¢å¼</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">firstname:</span> <span class="string">Shan</span></span><br><span class="line"><span class="attr">lastname:</span> <span class="string">Ye</span></span><br><span class="line"><span class="attr">address:</span>   <span class="comment">#ç¼©è¿›è¡¨è¾¾æ‰€å±å…³ç³»</span></span><br><span class="line">    <span class="attr">streetAddre:</span> <span class="string">None</span></span><br><span class="line">    <span class="attr">city:</span> <span class="string">Gui</span> <span class="string">Lin</span></span><br><span class="line">    <span class="attr">zipcode:</span> <span class="number">541004</span></span><br><span class="line"><span class="attr">prof:</span>  <span class="comment">#this is a comment</span></span><br><span class="line"><span class="string">-boy</span>     <span class="comment">#å¹¶åˆ—å…³ç³»</span></span><br><span class="line"><span class="string">-boring</span></span><br><span class="line"></span><br><span class="line"><span class="attr">text:</span> <span class="string">|</span>     <span class="comment">#æ•´å—æ•°æ®</span></span><br><span class="line"><span class="string">ACMå›½é™…å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›ï¼ˆè‹±æ–‡å…¨ç§°ï¼šACM</span> <span class="string">International</span> <span class="string">Collegiate</span> <span class="string">Programming</span> <span class="string">Contestï¼ˆç®€ç§°ACM-ICPCæˆ–ICPCï¼‰ï¼‰</span></span><br><span class="line"><span class="string">æ˜¯ç”±å›½é™…è®¡ç®—æœºåä¼šï¼ˆACMï¼‰ä¸»åŠçš„ï¼Œä¸€é¡¹æ—¨åœ¨å±•ç¤ºå¤§å­¦ç”Ÿåˆ›æ–°èƒ½åŠ›ã€å›¢é˜Ÿç²¾ç¥å’Œåœ¨å‹åŠ›ä¸‹ç¼–å†™ç¨‹åºã€åˆ†æå’Œè§£å†³é—®é¢˜èƒ½åŠ›çš„å¹´åº¦ç«èµ›ã€‚</span></span><br><span class="line"><span class="string">ç»è¿‡è¿‘40å¹´çš„å‘å±•ï¼ŒACMå›½é™…å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›å·²ç»å‘å±•æˆä¸ºå…¨çƒæœ€å…·å½±å“åŠ›çš„å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›ã€‚èµ›äº‹ç›®å‰ç”±IBMå…¬å¸èµåŠ©ã€‚</span></span><br></pre></td></tr></table></figure><hr><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">æå–HTMlä¸­çš„æ‰€æœ‰ä¿¡æ¯</span></span><br><span class="line"><span class="string">ï¼ˆ1ï¼‰æœç´¢åˆ°æ‰€æœ‰çš„&lt;a&gt;æ ‡ç­¾</span></span><br><span class="line"><span class="string">ï¼ˆ2ï¼‰è§£æ&lt;a&gt;æ ‡ç­¾æ ¼å¼ï¼Œæå–hrefåçš„é“¾æ¥å†…å®¹</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://python123.io/ws/demo.html&quot;</span></span><br><span class="line">r = requests.get(url)</span><br><span class="line">demo = r.text</span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup(demo,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> link <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;a&#x27;</span>):</span><br><span class="line"><span class="built_in">print</span>(link.get(<span class="string">&quot;href&quot;</span>))</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/dwdhoVj.png" class="lazyload" data-srcset="https://i.imgur.com/dwdhoVj.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h1 id="åŸºäºbs4åº“çš„ä¿¡æ¯æå–çš„ä¸€èˆ¬æ–¹æ³•"><a href="#åŸºäºbs4åº“çš„ä¿¡æ¯æå–çš„ä¸€èˆ¬æ–¹æ³•" class="headerlink" title="åŸºäºbs4åº“çš„ä¿¡æ¯æå–çš„ä¸€èˆ¬æ–¹æ³•"></a>åŸºäºbs4åº“çš„ä¿¡æ¯æå–çš„ä¸€èˆ¬æ–¹æ³•</h1><h2 id="lt-gt-find-all-æ–¹æ³•"><a href="#lt-gt-find-all-æ–¹æ³•" class="headerlink" title="&lt;&gt;.find_all()æ–¹æ³•"></a><code>&lt;&gt;.find_all()æ–¹æ³•</code></h2><pre><code>&lt;&gt;.find_all(name,attrs,recursive,string,**kwargs)</code></pre><ul><li>name: å¯¹åº”æ ‡ç­¾åç§°çš„æ£€ç´¢å­—ç¬¦ä¸²</li><li>attrs:å¯¹åº”æ ‡ç­¾å±æ€§å€¼çš„æ£€ç´¢å­—ç¬¦ä¸²ï¼Œå¯æ ‡æ³¨å±æ€§æ£€ç´¢</li><li>recursiveï¼šæ˜¯å¦å¯¹å­å­™å…¨éƒ¨æ£€ç´¢ï¼Œé»˜è®¤ä¸ºTrue</li><li>stringï¼š&lt;&gt;â€¦&lt;/&gt;å­—ç¬¦ä¸²åŒºåŸŸçš„æ£€ç´¢å­—ç¬¦ä¸²</li></ul><p><font color="red">soup.find_all(â€¦)ç­‰ä»·äºsoup(â€¦)</font><br><font color="red"><tag>.find_all(â€¦)ç­‰ä»·äº<tag>(â€¦)</font></p><p><img src="https://i.imgur.com/Klgrnal.png" class="lazyload" data-srcset="https://i.imgur.com/Klgrnal.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><br><img src="https://i.imgur.com/wbedsUF.png" class="lazyload" data-srcset="https://i.imgur.com/wbedsUF.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><br><img src="https://i.imgur.com/PwChHtw.png" class="lazyload" data-srcset="https://i.imgur.com/PwChHtw.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="æ‰©å±•æ–¹æ³•"><a href="#æ‰©å±•æ–¹æ³•" class="headerlink" title="æ‰©å±•æ–¹æ³•"></a>æ‰©å±•æ–¹æ³•</h2><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">&lt;&gt;.find()</td><td align="center">æœç´¢ä¸”åªè¿”å›ä¸€ä¸ªç»“æœï¼ŒåŒ.find_all()å‚æ•°</td></tr><tr><td align="center">&lt;&gt;.find_parents()</td><td align="center">åœ¨å…ˆè¾ˆèŠ‚ç‚¹ä¸­æœç´¢ï¼Œè¿”å›åˆ—è¡¨ç±»å‹ï¼ŒåŒ.find_all()å‚æ•°</td></tr><tr><td align="center">&lt;&gt;.find_parent()</td><td align="center">åœ¨å…ˆè¾ˆèŠ‚ç‚¹ä¸­è¿”å›ä¸€ä¸ªç»“æœï¼ŒåŒ.find()å‚æ•°</td></tr><tr><td align="center">&lt;&gt;.find_next_siblings()</td><td align="center">åœ¨åç»­å¹³è¡ŒèŠ‚ç‚¹ä¸­æœç´¢ï¼Œè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ.find_all()å‚æ•°</td></tr><tr><td align="center">&lt;&gt;.find_next_sibling()</td><td align="center">åœ¨åç»­èŠ‚ç‚¹ä¸­è¿”å›ä¸€ä¸ªç»“æœï¼Œç”¨.find()å‚æ•°</td></tr><tr><td align="center">&lt;&gt;find_previous_siblings()</td><td align="center">åœ¨å‰ç»­å¹³è¡Œç»“ç‚¹ä¸­æœç´¢ï¼Œè¿”å›åˆ—è¡¨ç±»å‹ï¼ŒåŒ.find_all()å‚æ•°</td></tr><tr><td align="center">&lt;&gt;find.previous_sibling()</td><td align="center">åœ¨å‰ç»­èŠ‚ç‚¹ä¸­è¿”å›ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒ.find()å‚æ•°</td></tr></tbody></table><hr>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çˆ¬è™« </tag>
            
            <tag> ä¿¡æ¯æ ‡è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++é¢å‘å¯¹è±¡-4</title>
      <link href="/2018/10/11/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-4/"/>
      <url>/2018/10/11/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=461748517&auto=1&height=66"></iframe><h1 id="ç»§æ‰¿å’Œæ´¾ç”Ÿ"><a href="#ç»§æ‰¿å’Œæ´¾ç”Ÿ" class="headerlink" title="ç»§æ‰¿å’Œæ´¾ç”Ÿ"></a>ç»§æ‰¿å’Œæ´¾ç”Ÿ</h1><blockquote><p>æ–°ç±»æ‹¥æœ‰åŸæœ‰ç±»çš„å…¨éƒ¨å±æ€§ä¸ºç»§æ‰¿ï¼åŸæœ‰ç±»äº§ç”Ÿæ–°ç±»çš„è¿‡ç¨‹ä¸ºæ´¾ç”Ÿã€‚</p></blockquote><p>åŸæœ‰ç±»ç§°ä¸ºåŸºç±»ï¼Œäº§ç”Ÿçš„æ–°ç±»ç§°ä¸ºæ´¾ç”Ÿç±»ã€‚<br><a href="http://www.dotcpp.com/course/cpp/200027.html">http://www.dotcpp.com/course/cpp/200027.html</a></p><h2 id="ç»§æ‰¿æ–¹å¼ï¼ˆæ´¾ç”Ÿæƒé™ï¼‰"><a href="#ç»§æ‰¿æ–¹å¼ï¼ˆæ´¾ç”Ÿæƒé™ï¼‰" class="headerlink" title="ç»§æ‰¿æ–¹å¼ï¼ˆæ´¾ç”Ÿæƒé™ï¼‰"></a>ç»§æ‰¿æ–¹å¼ï¼ˆæ´¾ç”Ÿæƒé™ï¼‰</h2><ul><li>å…¬æœ‰ç»§æ‰¿</li><li>ç§æœ‰ç»§æ‰¿</li><li>ä¿æŠ¤ç»§æ‰¿</li></ul><span id="more"></span><h3 id="å…¬æœ‰ç»§æ‰¿"><a href="#å…¬æœ‰ç»§æ‰¿" class="headerlink" title="å…¬æœ‰ç»§æ‰¿"></a>å…¬æœ‰ç»§æ‰¿</h3><ul><li>åŸºç±»ä¸­çš„å…¬æœ‰æˆå‘˜ï¼Œåœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶ä¸ºå…¬æœ‰æˆå‘˜ã€‚æ— è®ºæ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è¿˜æ˜¯æˆå‘˜å¯¹è±¡éƒ½å¯ä»¥è®¿é—®ã€‚</li><li>åŸºç±»ä¸­çš„ç§æœ‰æˆå‘˜ï¼Œæ— è®ºåœ¨æ´¾ç”Ÿç±»çš„æˆå‘˜è¿˜æ˜¯æ´¾ç”Ÿç±»å¯¹è±¡éƒ½ä¸å¯ä»¥è®¿é—®ã€‚</li><li>åŸºç±»ä¸­çš„ä¿æŠ¤æˆå‘˜ï¼Œåœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯ä¿æŠ¤ç±»å‹ï¼Œå¯ä»¥é€šè¿‡æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œä½†æ´¾ç”Ÿç±»å¯¹è±¡ä¸å¯ä»¥è®¿é—®ï¼</li></ul><h3 id="ç§æœ‰ç»§æ‰¿"><a href="#ç§æœ‰ç»§æ‰¿" class="headerlink" title="ç§æœ‰ç»§æ‰¿"></a>ç§æœ‰ç»§æ‰¿</h3><ul><li>åŸºç±»ä¸­çš„å…¬æœ‰å’Œå—ä¿æŠ¤ç±»å‹ï¼Œè¢«æ´¾ç”Ÿç±»ç§æœ‰å¸æ”¶åï¼Œéƒ½å˜ä¸ºæ´¾ç”Ÿç±»çš„ç§æœ‰ç±»å‹ï¼Œå³åœ¨ç±»çš„æˆå‘˜å‡½æ•°é‡Œå¯ä»¥è®¿é—®ï¼Œä¸èƒ½åœ¨ç±»å¤–è®¿é—®ã€‚</li><li>åŸºç±»çš„ç§æœ‰æˆå‘˜ï¼Œåœ¨æ´¾ç”Ÿç±»ç±»å†…å’Œç±»å¤–éƒ½ä¸å¯ä»¥è®¿é—®ã€‚</li></ul><h3 id="ä¿æŠ¤ç»§æ‰¿"><a href="#ä¿æŠ¤ç»§æ‰¿" class="headerlink" title="ä¿æŠ¤ç»§æ‰¿"></a>ä¿æŠ¤ç»§æ‰¿</h3><ul><li>åŸºç±»çš„å…¬å…±æˆå‘˜å’Œä¿æŠ¤ç±»å‹æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä¸ºä¿æŠ¤æˆå‘˜ã€‚</li><li>åŸºç±»çš„ç§æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä¸èƒ½è¢«ç›´æ¥è®¿é—®ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>                   <span class="comment">//åŸºç±»</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> number;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Set</span><span class="params">(<span class="type">int</span> number)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;number=number;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;he or she number:&quot;</span>&lt;&lt;number&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Score</span>:<span class="keyword">public</span> Student      <span class="comment">//å…¬æœ‰ç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> score;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">set_score</span><span class="params">(<span class="type">int</span> score)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;score=score;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">show_score</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the score is :&quot;</span>&lt;&lt;score&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Score A;</span><br><span class="line">A.<span class="built_in">Set</span>(<span class="number">17007101</span>);</span><br><span class="line">A.<span class="built_in">Show</span>();</span><br><span class="line">A.<span class="built_in">set_score</span>(<span class="number">99</span>);</span><br><span class="line">A.<span class="built_in">show_score</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/jpF5xiJ.png" class="lazyload" data-srcset="https://i.imgur.com/jpF5xiJ.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h2 id="å¤šç»§æ‰¿"><a href="#å¤šç»§æ‰¿" class="headerlink" title="å¤šç»§æ‰¿"></a>å¤šç»§æ‰¿</h2><p>ä¸€ä¸ªå­ç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œç»§æ‰¿å¤šä¸ªçˆ¶ç±»çš„ç‰¹æ€§<br>    class &lt;æ´¾ç”Ÿç±»å&gt;:&lt;ç»§æ‰¿æ–¹å¼&gt;&lt;åŸºç±»å1&gt;,&lt;ç»§æ‰¿æ–¹å¼&gt;&lt;åŸºç±»å2&gt;,â€¦{æ´¾ç”Ÿç±»ç±»ä½“}</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">Shape</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setWidth</span><span class="params">(<span class="type">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">width = w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setHight</span><span class="params">(<span class="type">int</span> h)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">height = h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> width;</span><br><span class="line"><span class="type">int</span> height;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PaintCost</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">GetCost</span><span class="params">(<span class="type">int</span> area)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> area*<span class="number">70</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span>: <span class="keyword">public</span> Shape,<span class="keyword">public</span> PaintCost   <span class="comment">//æ´¾ç”Ÿç±»</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (width*height);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Rectangle Rect;</span><br><span class="line"><span class="type">int</span> area;</span><br><span class="line"></span><br><span class="line">Rect.<span class="built_in">setWidth</span>(<span class="number">10</span>);</span><br><span class="line">Rect.<span class="built_in">setHight</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">area = Rect.<span class="built_in">getArea</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºå¯¹è±¡é¢ç§¯</span></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Total area: &quot;</span>&lt;&lt;Rect.<span class="built_in">getArea</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºæ€»èŠ±è´¹</span></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Total paint cost: &quot;</span>&lt;&lt;Rect.<span class="built_in">GetCost</span>(area)&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/QwAzhpK.png" class="lazyload" data-srcset="https://i.imgur.com/QwAzhpK.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…å°BeautifulSoup</title>
      <link href="/2018/10/10/%E6%B5%85%E5%B0%9DBeautifulSoup/"/>
      <url>/2018/10/10/%E6%B5%85%E5%B0%9DBeautifulSoup/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="comment">#å¼•å…¥BeautifulSoupç±»</span></span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://python123.io/ws/demo.html&quot;</span></span><br><span class="line"></span><br><span class="line">r = requests.get(url)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(r.status_code)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#demo = r.text    #htmlæ ¼å¼ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#soup = BeautifulSoup(demo,&quot;html.parser&quot;)#ä½¿ç”¨html.parserå¯¹demoè¿›è¡Œhtmlè§£æ</span></span><br><span class="line">soup = BeautifulSoup(<span class="built_in">open</span>(<span class="string">r&quot;C:\Users\Administrator\Desktop\beautifulsoup\demo.html&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(soup.prettify())</span><br></pre></td></tr></table></figure><p><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoupå®˜æ–¹æ–‡æ¡£</a></p><span id="more"></span><h1 id="BeautifulSoupåº“è§£æå™¨"><a href="#BeautifulSoupåº“è§£æå™¨" class="headerlink" title="BeautifulSoupåº“è§£æå™¨"></a>BeautifulSoupåº“è§£æå™¨</h1><table><thead><tr><th align="center">è§£æå™¨</th><th align="center">ä½¿ç”¨æ–¹æ³•</th><th align="center">æ¡ä»¶</th></tr></thead><tbody><tr><td align="center">bs4çš„HTMLè§£æå™¨</td><td align="center">beautiful(mk,â€html.parserâ€)</td><td align="center">å®‰è£…bs4åº“</td></tr><tr><td align="center">lxmlçš„HTMLè§£æå™¨</td><td align="center">BeautifulSoup(mk,â€lxmlâ€)</td><td align="center">å®‰è£…lxmlåº“</td></tr><tr><td align="center">lxmlçš„xmlè§£æå™¨</td><td align="center">BeautifulSoup(mk,â€xmlâ€)</td><td align="center">å®‰è£…lxmlåº“</td></tr><tr><td align="center">html5libçš„è§£æå™¨</td><td align="center">BeautifulSoup(mk,â€html5libâ€)</td><td align="center">å®‰è£…html5libåº“</td></tr></tbody></table><h1 id="BeautifulSoupåº“çš„åŸºæœ¬å…ƒç´ "><a href="#BeautifulSoupåº“çš„åŸºæœ¬å…ƒç´ " class="headerlink" title="BeautifulSoupåº“çš„åŸºæœ¬å…ƒç´ "></a>BeautifulSoupåº“çš„åŸºæœ¬å…ƒç´ </h1><table><thead><tr><th align="center">åŸºæœ¬å…ƒç´ </th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">Tag</td><td align="center">æ ‡ç­¾ï¼Œæœ€åŸºæœ¬çš„ä¿¡æ¯ç»„ç»‡å•å…ƒï¼Œåˆ†åˆ«ç”¨&lt;&gt;&lt;/&gt;æ ‡æ˜å¼€å¤´å’Œç»“å°¾</td></tr><tr><td align="center">Name</td><td align="center">æ ‡ç­¾çš„åå­—ï¼Œ<code>&lt;p&gt;...&lt;/p&gt;</code>çš„åå­—æ˜¯â€˜pâ€™,æ ¼å¼:<code>&lt;tag&gt;.name</code></td></tr><tr><td align="center">Attributes</td><td align="center">æ ‡ç­¾çš„å±æ€§,å­—å…¸å½¢å¼ç»„ç»‡ï¼Œæ ¼å¼:<code>&lt;tag&gt;.attrs</code></td></tr><tr><td align="center">NavigableString</td><td align="center">æ ‡ç­¾å†…éå±æ€§å­—ç¬¦ä¸²,&lt;&gt;â€¦&lt;/&gt;ä¸­å­—ç¬¦ä¸²ï¼Œæ ¼å¼:<code>&lt;tag&gt;.string</code></td></tr><tr><td align="center">Comment</td><td align="center">æ ‡ç­¾å†…å­—ç¬¦ä¸²çš„æ³¨é‡Šéƒ¨åˆ†ï¼Œä¸€ç§ç‰¹æ®Šçš„Commentç±»å‹</td></tr><tr><td align="center"><img src="https://i.imgur.com/E3iOdKm.png" class="lazyload" data-srcset="https://i.imgur.com/E3iOdKm.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></td><td align="center"></td></tr><tr><td align="center"><img src="https://i.imgur.com/IQm7qi8.png" class="lazyload" data-srcset="https://i.imgur.com/IQm7qi8.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></td><td align="center"></td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tagçš„Commentå…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup(<span class="string">&quot;&lt;b&gt;&lt;!--This is a comment--&gt;&lt;/b&gt;&lt;p&gt;This is not a comment&lt;/p&gt;&quot;</span>,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(soup.b.string)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(soup.b.string))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(soup.p.string)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(soup.p.string))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/77Ka7Qb.png" class="lazyload" data-srcset="https://i.imgur.com/77Ka7Qb.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><ul><li>BeautifulSoupå¯¹åº”ä¸€ä¸ªHTML/XMLæ–‡æ¡£çš„å…¨éƒ¨å†…å®¹</li><li>ä»»ä½•å­˜åœ¨äºHTMlè¯­æ³•ä¸­çš„æ ‡ç­¾éƒ½å¯ä»¥ç”¨<code>soup.&lt;tag&gt;</code>è®¿é—®è·å¾—ï¼Œå½“HTMLæ–‡æ¡£ä¸­å­˜åœ¨å¤šä¸ªç›¸åŒ<code>&lt;tag&gt;</code>å¯¹åº”å†…å®¹æ—¶ï¼Œ<code>soup.&lt;tag&gt;</code>è¿”å›ç¬¬ä¸€ä¸ª</li><li>æ¯ä¸ª<code>&lt;tag&gt;</code>éƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œé€šè¿‡<code>&lt;tag&gt;.name</code>è·å–ï¼Œå­—ç¬¦ä¸²ç±»å‹</li><li>ä¸€ä¸ª<code>&lt;tag&gt;</code>å¯ä»¥æœ‰0æˆ–å¤šä¸ªå±æ€§ï¼Œå­—å…¸ç±»å‹</li><li>NavigableStringå¯ä»¥è·¨è¶Šå¤šä¸ªå±‚æ¬¡</li></ul><h1 id="åŸºäºbs4åº“çš„HTMLå†…å®¹éå†æ–¹æ³•"><a href="#åŸºäºbs4åº“çš„HTMLå†…å®¹éå†æ–¹æ³•" class="headerlink" title="åŸºäºbs4åº“çš„HTMLå†…å®¹éå†æ–¹æ³•"></a>åŸºäºbs4åº“çš„HTMLå†…å®¹éå†æ–¹æ³•</h1><p><img src="https://i.imgur.com/9ka0fPA.png" class="lazyload" data-srcset="https://i.imgur.com/9ka0fPA.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><br><img src="https://i.imgur.com/QqwbSXq.png" class="lazyload" data-srcset="https://i.imgur.com/QqwbSXq.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="æ ‡ç­¾æ•°çš„ä¸‹è¡Œéå†"><a href="#æ ‡ç­¾æ•°çš„ä¸‹è¡Œéå†" class="headerlink" title="æ ‡ç­¾æ•°çš„ä¸‹è¡Œéå†"></a>æ ‡ç­¾æ•°çš„ä¸‹è¡Œéå†</h2><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">.contents</td><td align="center">å­èŠ‚ç‚¹çš„åˆ—è¡¨ï¼Œå°†<tag>æ‰€æœ‰å„¿å­èŠ‚ç‚¹å­˜äººåˆ—è¡¨</td></tr><tr><td align="center">.children</td><td align="center">å­èŠ‚ç‚¹çš„è¿­ä»£ç±»å‹ï¼Œäº.contentsç±»ä¼¼ï¼Œç”¨äºå¾ªç¯éå†å„¿å­èŠ‚ç‚¹</td></tr><tr><td align="center">.descendants</td><td align="center">å­å­™èŠ‚ç‚¹çš„è¿­ä»£ç±»å‹ï¼ŒåŒ…å«æ‰€æœ‰å­å­™èŠ‚ç‚¹ï¼Œç”¨äºå¾ªç¯éå†</td></tr><tr><td align="center"><img src="https://i.imgur.com/x0ptQee.png" class="lazyload" data-srcset="https://i.imgur.com/x0ptQee.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></td><td align="center"></td></tr><tr><td align="center"><img src="https://i.imgur.com/aoz6x9u.png" class="lazyload" data-srcset="https://i.imgur.com/aoz6x9u.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></td><td align="center"></td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ‡ç­¾æ ‘çš„ä¸‹è¡Œéå†</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://python123.io/ws/demo.html&quot;</span></span><br><span class="line"></span><br><span class="line">r = requests.get(url)</span><br><span class="line"></span><br><span class="line">demo = r.text</span><br><span class="line">soup = BeautifulSoup(demo,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;for child in soup.body.children:  #éå†å„¿å­èŠ‚ç‚¹</span></span><br><span class="line"><span class="string">    print(child)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> child <span class="keyword">in</span> soup.body.descendants:  <span class="comment">#éå†å­å­™èŠ‚ç‚¹</span></span><br><span class="line">    <span class="built_in">print</span>(child)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ ‡ç­¾æ ‘çš„ä¸Šè¡Œéå†"><a href="#æ ‡ç­¾æ ‘çš„ä¸Šè¡Œéå†" class="headerlink" title="æ ‡ç­¾æ ‘çš„ä¸Šè¡Œéå†"></a>æ ‡ç­¾æ ‘çš„ä¸Šè¡Œéå†</h2><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">.parent</td><td align="center">èŠ‚ç‚¹çš„çˆ¶äº²æ ‡ç­¾</td></tr><tr><td align="center">.parents</td><td align="center">èŠ‚ç‚¹å…ˆè¾ˆæ ‡ç­¾çš„çš„è¿­ä»£ç±»å‹ï¼Œç”¨äºå¾ªç¯éå†å…ˆè¾ˆèŠ‚ç‚¹</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ‡ç­¾æ ‘çš„ä¸Šè¡Œéå†</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://python123.io/ws/demo.html&quot;</span></span><br><span class="line"></span><br><span class="line">r = requests.get(url)</span><br><span class="line"></span><br><span class="line">demo = r.text</span><br><span class="line">soup = BeautifulSoup(demo,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> parent <span class="keyword">in</span> soup.a.parents:  <span class="comment">#éå†æ‰€æœ‰å…ˆè¾ˆèŠ‚ç‚¹ï¼ŒåŒ…æ‹¬soupæœ¬èº«ï¼Œsoupçš„å…ˆè¾ˆä¸å­˜åœ¨nameä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">if</span> parent <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">print</span>(parent)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(parent.name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/WEKGdLU.png" class="lazyload" data-srcset="https://i.imgur.com/WEKGdLU.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="æ ‡ç­¾æ ‘çš„å¹³è¡Œéå†"><a href="#æ ‡ç­¾æ ‘çš„å¹³è¡Œéå†" class="headerlink" title="æ ‡ç­¾æ ‘çš„å¹³è¡Œéå†"></a>æ ‡ç­¾æ ‘çš„å¹³è¡Œéå†</h2><p>å¹³è¡Œéå†å‘ç”Ÿåœ¨åŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹ä¸‹çš„å„èŠ‚ç‚¹ä¹‹é—´</p><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">.next_sibling</td><td align="center">è¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„ä¸‹ä¸€ä¸ªå¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾</td></tr><tr><td align="center">.previous_sibling</td><td align="center">è¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„ä¸Šä¸€ä¸ªå¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾</td></tr><tr><td align="center">.next_siblings</td><td align="center">è¿­ä»£ç±»å‹ï¼Œè¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„åç»­æ‰€æœ‰å¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾</td></tr><tr><td align="center">.previous_siblings</td><td align="center">è¿­ä»£ç±»å‹ï¼Œè¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„å‰ç»­æ‰€æœ‰å¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾</td></tr></tbody></table><p><img src="https://i.imgur.com/TECSzL4.png" class="lazyload" data-srcset="https://i.imgur.com/TECSzL4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ‡ç­¾æ ‘çš„å¹³è¡Œéå†</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://python123.io/ws/demo.html&quot;</span></span><br><span class="line"></span><br><span class="line">r = requests.get(url)</span><br><span class="line"></span><br><span class="line">demo = r.text</span><br><span class="line">soup = BeautifulSoup(demo,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> sibling <span class="keyword">in</span> soup.a.next_sibling:</span><br><span class="line">    <span class="built_in">print</span>(sibling)                  <span class="comment">#éå†åç»­èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;for sibling in soup.a.previous_sibling:</span></span><br><span class="line"><span class="string">    print(sibling)                  #éå†å‰ç»­èŠ‚ç‚¹</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="åŸºäºbs4åº“çš„HTMLæ ¼å¼è¾“å‡ºâ€”prettify-æ–¹æ³•"><a href="#åŸºäºbs4åº“çš„HTMLæ ¼å¼è¾“å‡ºâ€”prettify-æ–¹æ³•" class="headerlink" title="åŸºäºbs4åº“çš„HTMLæ ¼å¼è¾“å‡ºâ€”prettify()æ–¹æ³•"></a>åŸºäºbs4åº“çš„HTMLæ ¼å¼è¾“å‡ºâ€”prettify()æ–¹æ³•</h1><ul><li>.prettify()ä¸ºHTMLæ–‡æœ¬<code>&lt;&gt;</code>åŠå…¶å†…å®¹å¢åŠ â€™\nâ€™</li><li>.prettify()å¯ç”¨äºæ ‡ç­¾,æ–¹æ³•:<code>&lt;tag&gt;.perttify()</code></li></ul><p><img src="https://i.imgur.com/4BJpNgt.png" class="lazyload" data-srcset="https://i.imgur.com/4BJpNgt.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><br><img src="https://i.imgur.com/bHQdzDW.png" class="lazyload" data-srcset="https://i.imgur.com/bHQdzDW.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p align="right"><font color="red" size="3">bs4åº“å°†ä»»ä½•HTMLè¾“å…¥éƒ½å˜æˆutf-8ç¼–ç </font></p><hr>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çˆ¬è™« </tag>
            
            <tag> BeautifulSoup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++é¢å‘å¯¹è±¡-3</title>
      <link href="/2018/10/09/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-3/"/>
      <url>/2018/10/09/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»"><a href="#å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»" class="headerlink" title="å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»"></a>å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»</h1><blockquote><p>å‹å…ƒçš„å¯¹è±¡å¯ä»¥æ˜¯å…¨å±€çš„ä¸€èˆ¬å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒç±»é‡Œçš„æˆå‘˜å‡½æ•°ï¼Œè¿™ç§å«åšå‹å…ƒå‡½æ•°ã€‚<br>å‹å…ƒè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªç±»ï¼Œè¿™ç§å«åšå‹å…ƒç±»ï¼Œè¿™æ—¶æ•´ä¸ªç±»çš„æ‰€æœ‰æˆå‘˜éƒ½æ˜¯å‹å…ƒ</p></blockquote><p><img src="https://i.imgur.com/jJBlXph.png" class="lazyload" data-srcset="https://i.imgur.com/jJBlXph.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demo"></p><span id="more"></span><h2 id="ä¸€ã€å‹å…ƒå‡½æ•°"><a href="#ä¸€ã€å‹å…ƒå‡½æ•°" class="headerlink" title="ä¸€ã€å‹å…ƒå‡½æ•°"></a>ä¸€ã€å‹å…ƒå‡½æ•°</h2><ol><li>ç±»çš„å‹å…ƒå‡½æ•°å®šä¹‰åœ¨ç±»çš„å¤–éƒ¨ï¼Œä½†æ˜¯æœ‰æƒè®¿é—®ç±»çš„æ‰€æœ‰ç§æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ã€‚ä½†å‹å…ƒå‡½æ•°å¹¶ä¸æ˜¯æˆå‘˜å‡½æ•°ã€‚</li><li>æœ‰å…ƒå‡½æ•°çš„å£°æ˜ä½¿ç”¨<code>friend</code>å…³é”®å­—</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">double</span> x;</span><br><span class="line"><span class="type">double</span> y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Point</span>(<span class="type">double</span> a,<span class="type">double</span> b)    <span class="comment">//Constructor</span></span><br><span class="line">&#123;</span><br><span class="line">x=a;</span><br><span class="line">y=b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetPoint</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;(&quot;</span>&lt;&lt;x&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;y&lt;&lt;<span class="string">&quot;)&quot;</span>&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">double</span> <span class="title">Distance</span><span class="params">(Point &amp;a,Point &amp;b)</span></span>;<span class="comment">//å£°æ˜å‹å…ƒå‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Distance</span><span class="params">(Point &amp;a,Point&amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> xx;</span><br><span class="line"><span class="type">double</span> yy;</span><br><span class="line">xx = a.x-b.x;</span><br><span class="line">yy = a.y-b.y;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">sqrt</span>(xx*xx+yy*yy);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Point <span class="title">A</span><span class="params">(<span class="number">2.0</span>,<span class="number">3.0</span>)</span></span>;</span><br><span class="line"><span class="function">Point <span class="title">B</span><span class="params">(<span class="number">1.0</span>,<span class="number">2.0</span>)</span></span>;</span><br><span class="line">A.<span class="built_in">GetPoint</span>();</span><br><span class="line">B.<span class="built_in">GetPoint</span>();</span><br><span class="line"><span class="type">double</span> dis;</span><br><span class="line">dis = <span class="built_in">Distance</span>(A,B);</span><br><span class="line">cout&lt;&lt;dis&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/l0VH5l2.png" class="lazyload" data-srcset="https://i.imgur.com/l0VH5l2.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p>å‹å…ƒå‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆï¼Œå‚æ•°çš„æƒ…å†µï¼›</p><ul><li>è¦è®¿é—®éstaticæˆå‘˜æ—¶ï¼Œéœ€è¦å¯¹è±¡åšå‚æ•°</li><li>è¦è®¿é—®staticæˆå‘˜æˆ–å…¨å±€å˜é‡æ—¶ï¼Œåˆ™ä¸éœ€è¦å¯¹è±¡åšå‚æ•°</li><li>å¦‚æœåšå‚æ•°çš„å¯¹è±¡æ—¶å…¨å±€å¯¹è±¡ï¼Œåˆ™ä¸éœ€è¦å¯¹è±¡åšå‚æ•°ï¼Œå¯ç›´æ¥è°ƒç”¨å‹å…ƒå‡½æ•°ï¼Œä¸éœ€è¦é€šè¿‡å¯¹è±¡æˆ–æŒ‡é’ˆã€‚</li></ul><h2 id="äºŒã€å‹å…ƒç±»"><a href="#äºŒã€å‹å…ƒç±»" class="headerlink" title="äºŒã€å‹å…ƒç±»"></a>äºŒã€å‹å…ƒç±»</h2><p>æŠŠä¸€ä¸ªç±»Aå£°æ˜ä¸ºå¦ä¸€ä¸ªç±»Bçš„å‹å…ƒç±»,åˆ™ç±»Aä¸­çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½å¯ä»¥è®¿é—®ç±»Bä¸­çš„æˆå‘˜ã€‚åœ¨ç±»Bä¸­å£°æ˜å³å¯ã€‚<br>    friend class A;</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;Cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> x;</span><br><span class="line"><span class="type">double</span> y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Point</span>(<span class="type">double</span> a,<span class="type">double</span> b)<span class="comment">//Constructor</span></span><br><span class="line">&#123;</span><br><span class="line">x=a;</span><br><span class="line">y=b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetPoint</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;(&quot;</span>&lt;&lt;x&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;y&lt;&lt;<span class="string">&quot;)&quot;</span>&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">Tool</span>;<span class="comment">//å£°æ˜å‹å…ƒç±»</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Tool</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">Get_x</span><span class="params">(Point &amp;A )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> A.x;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">Get_y</span><span class="params">(Point &amp;A)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> A.y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Distance</span><span class="params">(Point &amp;A)</span>  <span class="comment">//æ±‚ä¸€ç‚¹åˆ°åŸç‚¹çš„è·ç¦»</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sqrt</span>(A.x*A.x+A.y*A.y)&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">sqrt</span>(A.x*A.x+A.y*A.y);</span><br><span class="line">&#125;</span><br><span class="line">&#125; ;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Point <span class="title">A</span><span class="params">(<span class="number">3.0</span>,<span class="number">3.0</span>)</span></span>;</span><br><span class="line">A.<span class="built_in">GetPoint</span>();</span><br><span class="line">Tool T;</span><br><span class="line">T.<span class="built_in">Get_x</span>(A);</span><br><span class="line">T.<span class="built_in">Get_y</span>(A);</span><br><span class="line">T.<span class="built_in">Distance</span>(A);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/mfBflqX.png" class="lazyload" data-srcset="https://i.imgur.com/mfBflqX.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++é¢å‘å¯¹è±¡-2</title>
      <link href="/2018/10/06/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-2/"/>
      <url>/2018/10/06/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ç±»çš„æ„é€ å‡½æ•°-Constructor-å’Œææ„å‡½æ•°-Destructor"><a href="#ç±»çš„æ„é€ å‡½æ•°-Constructor-å’Œææ„å‡½æ•°-Destructor" class="headerlink" title="ç±»çš„æ„é€ å‡½æ•°(Constructor)å’Œææ„å‡½æ•°(Destructor)"></a>ç±»çš„æ„é€ å‡½æ•°(Constructor)å’Œææ„å‡½æ•°(Destructor)</h1><iframe src="http://open.iqiyi.com/developer/player_js/coopPlayerIndex.html?vid=c5d7868e19457dd682738eee9b4b05af&tvId=11980807509&accessToken=2.f22860a2479ad60d8da7697274de9346&appKey=3955c3425820435e86d0f4cdfe56f5e7&appId=1368&height=50%&width=100%" frameborder="0" allowfullscreen="true" width="100%" height="100%"></iframe><span id="more"></span><ul><li>æ„é€ å‡½æ•°æ˜¯ç±»çš„ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä¼šåœ¨æ¯æ¬¡åˆ›å»ºç±»çš„æ–°å¯¹è±¡æ—¶æ‰§è¡Œã€‚æ„é€ å‡½æ•°çš„åç§°ä¸ç±»çš„åç§°æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå¹¶ä¸”ä¸ä¼šåå›ä»»ä½•ç±»å‹ï¼Œä¹Ÿä¸ä¼šåå›voidã€‚</li><li>ææ„å‡½æ•°ä¹Ÿæ˜¯ç±»çš„ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä¼šåœ¨æ¯æ¬¡åˆ é™¤æ‰€åˆ›å»ºçš„å¯¹è±¡æ—¶æ‰§è¡Œã€‚å‡½æ•°åç§°ä¸ç±»çš„åç§°å®Œå…¨ç›¸åŒï¼Œåªæ˜¯åœ¨å‰é¢åŠ äº†ä¸ª<code>~</code>æ³¢æµªçº¿ä½œä¸ºå‰ç¼€ï¼Œå®ƒä¸ä¼šè¿”å›ä»»ä½•å€¼ï¼Œä¹Ÿä¸èƒ½å¸¦æœ‰ä»»ä½•å‚æ•°ã€‚</li></ul><h2 id="1-æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰"><a href="#1-æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰" class="headerlink" title="1.æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰"></a>1.æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰</h2><p>&ensp; å½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç±»çš„å¯¹è±¡æ—¶ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨è°ƒç”¨å®ƒï¼Œè¿›è¡Œä¸“é—¨çš„åˆå§‹åŒ–å¯¹è±¡ç”¨ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼Œç³»ç»Ÿä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªé»˜è®¤å½¢å¼ï¼Œéšè—ç€çš„æ„é€ å‡½æ•°ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°çš„å‡½æ•°ä½“æ˜¯ç©ºçš„ï¼Œå®ƒä¸å…·æœ‰ä»»ä½•åŠŸèƒ½ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;Cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> score;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Student</span>(<span class="type">int</span> n,<span class="type">char</span> *str,<span class="type">int</span> s);</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Set</span><span class="params">(<span class="type">int</span> n,<span class="type">char</span> *str,<span class="type">int</span> s)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Student::<span class="built_in">Student</span>(<span class="type">int</span> n,<span class="type">char</span> *str,<span class="type">int</span> s)<span class="comment">//å®šä¹‰äº†ä¸€ä¸ªå¸¦é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">num=n;</span><br><span class="line"><span class="built_in">strcpy</span>(name,str);</span><br><span class="line">score=s;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Constructor&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;num&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;name&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;score;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::Set</span><span class="params">(<span class="type">int</span> n,<span class="type">char</span> *str,<span class="type">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">num=n;</span><br><span class="line"><span class="built_in">strcpy</span>(name,str);</span><br><span class="line">score=s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Student <span class="title">A</span><span class="params">(<span class="number">1700710135</span>,<span class="string">&quot;yeshan&quot;</span>,<span class="number">99</span>)</span></span>;</span><br><span class="line">A.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//Student C;è¿™æ ·å®šä¹‰å¯¹è±¡ä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªå¸¦é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°</span></span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="function">Student <span class="title">B</span><span class="params">(<span class="number">1700710134</span>,<span class="string">&quot;xu jie&quot;</span>,<span class="number">100</span>)</span></span>;</span><br><span class="line">B.<span class="built_in">print</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/d2l2W40.png" class="lazyload" data-srcset="https://i.imgur.com/d2l2W40.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p><font color="green">ç”±äºåœ¨ç¨‹åºä¸­å®šä¹‰äº†ä¸€ä¸ªå¸¦é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œåˆ™ç³»ç»Ÿä¸ä¼šå†è‡ªåŠ¨ç”Ÿæˆï¼Œè¿™ä¸ªæ—¶å€™å®šä¹‰å¯¹è±¡æ—¶ä¹Ÿè¦ä¼ å…¥ä¸‰ä¸ªé»˜è®¤åˆå§‹å€¼ï¼Œå› ä¸ºæ„é€ å‡½æ•°å¯ä»¥é‡è½½ï¼Œå¯ä»¥æœ‰å¤šä¸ªå…„å¼Ÿï¼Œç³»ç»Ÿä¼šæ‰¾æœ€åŒ¹é…çš„ä¸€ä¸ªå‡½æ•°</font></p><h2 id="2-ææ„å‡½æ•°ï¼ˆDestructorï¼‰"><a href="#2-ææ„å‡½æ•°ï¼ˆDestructorï¼‰" class="headerlink" title="2.ææ„å‡½æ•°ï¼ˆDestructorï¼‰"></a>2.ææ„å‡½æ•°ï¼ˆDestructorï¼‰</h2><p>&ensp;å¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨çš„ä¸€ä¸ªå‡½æ•°ï¼Œ<code>ææ„å‡½æ•°ä¸èƒ½é‡è½½ï¼Œä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªææ„å‡½æ•°</code>ï¼Œææ„å‡½æ•°æœ‰åŠ©äºè·³å‡ºç¨‹åºå‰é‡Šæ”¾å†…å­˜ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;Cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> score;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Student</span>(<span class="type">int</span> n,<span class="type">char</span> *str,<span class="type">int</span> s);</span><br><span class="line">~<span class="built_in">Student</span>();</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Set</span><span class="params">(<span class="type">int</span> n,<span class="type">char</span> *str,<span class="type">int</span> s)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Student::<span class="built_in">Student</span>(<span class="type">int</span> n,<span class="type">char</span> *str,<span class="type">int</span> s)<span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">num=n;</span><br><span class="line"><span class="built_in">strcpy</span>(name,str);</span><br><span class="line">score=s;</span><br><span class="line">cout&lt;&lt;num&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;name&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;score&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Constructor&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student::~<span class="built_in">Student</span>()<span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;num&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;name&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;score&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;destructor&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;num&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;name&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;score&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::Set</span><span class="params">(<span class="type">int</span> n,<span class="type">char</span> *str,<span class="type">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">num=n;</span><br><span class="line"><span class="built_in">strcpy</span>(name,str);</span><br><span class="line">score=s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Student <span class="title">A</span><span class="params">(<span class="number">100</span>,<span class="string">&quot;dot&quot;</span>,<span class="number">11</span>)</span></span>;</span><br><span class="line"><span class="function">Student <span class="title">B</span><span class="params">(<span class="number">101</span>,<span class="string">&quot;cpp&quot;</span>,<span class="number">12</span>)</span></span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/di0YIID.png" class="lazyload" data-srcset="https://i.imgur.com/di0YIID.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p><font color="green">å¯¹è±¡Aå’ŒBçš„æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºä»¥åŠæ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºï¼Œå®Œå…¨ç›¸åï¼åŸå› åœ¨äºAå’ŒBå¯¹è±¡åŒå±å±€éƒ¨å¯¹è±¡ï¼Œä¹Ÿåœ¨æ ˆåŒºå­˜å‚¨ï¼Œä¹Ÿéµå¾ªâ€œå…ˆè¿›åå‡ºâ€çš„é¡ºåºï¼</font></p><h2 id="æ‹·è´æ„é€ å‡½æ•°"><a href="#æ‹·è´æ„é€ å‡½æ•°" class="headerlink" title="æ‹·è´æ„é€ å‡½æ•°"></a>æ‹·è´æ„é€ å‡½æ•°</h2><blockquote><p>æ‹·è´æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œå…·æœ‰å•ä¸ªå½¢å‚ï¼Œè¯¥å½¢å‚ï¼ˆå¸¸ç”¨constä¿®é¥°ï¼‰æ˜¯å¯¹è¯¥ç±»ç±»å‹çš„å¼•ç”¨ã€‚<br>å®ƒåœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ˜¯ä½¿ç”¨åŒä¸€ç±»ä¸­ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡æ¥åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚<br>å½“å®šä¹‰ä¸€ä¸ªæ–°å¯¹è±¡å¹¶ç”¨åŒä¸€ä¸ªç±»å‹çš„å¯¹è±¡å¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œå°†æ˜¾ç¤ºä½¿ç”¨æ‹·è´æ„é€ å‡½ã€‚</p></blockquote><p>åªåŒ…å«ç±»ç±»å‹æˆå‘˜æˆ–å†…ç½®ç±»å‹ï¼ˆä½†ä¸æ˜¯æŒ‡é’ˆç±»å‹ï¼‰æˆå‘˜çš„ç±»ï¼Œæ— é¡»æ˜¾å¼åœ°å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥æ‹·è´ã€‚</p><pre><code>æ˜¾ç¤ºå®šä¹‰æ‹·è´æ„é€ å‡½æ•°çš„æƒ…å†µï¼šç±»æœ‰æ•°æ®æˆå‘˜æ˜¯æŒ‡é’ˆï¼›æœ‰æˆå‘˜è¡¨ç¤ºåœ¨æ„é€ å‡½æ•°ä¸­åˆ†é…çš„å…¶ä»–èµ„æº</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Age</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetAge</span><span class="params">(<span class="type">void</span>)</span></span>;</span><br><span class="line"><span class="built_in">Age</span>(<span class="type">int</span> age);           <span class="comment">//Constructor</span></span><br><span class="line"><span class="built_in">Age</span>(<span class="type">const</span> Age&amp; A);      <span class="comment">//Copy Constructor</span></span><br><span class="line">~<span class="built_in">Age</span>();                 <span class="comment">//Desconstructor</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> *ptr;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Age::<span class="built_in">Age</span>(<span class="type">int</span> age)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;è°ƒç”¨æ„é€ å‡½æ•°&quot;</span>&lt;&lt;endl;</span><br><span class="line">ptr = <span class="keyword">new</span> <span class="type">int</span>;<span class="comment">//ä¸ºæŒ‡é’ˆåˆ†é…å†…å­˜</span></span><br><span class="line">*ptr = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Age::<span class="built_in">Age</span>(<span class="type">const</span> Age&amp; A)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œå¹¶ä¸ºæŒ‡é’ˆptråˆ†é…å†…å­˜&quot;</span>&lt;&lt;endl;</span><br><span class="line">ptr = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line"></span><br><span class="line">*ptr = *A.ptr;   <span class="comment">//æ‹·è´å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Age::~<span class="built_in">Age</span>()</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;é‡Šæ”¾å†…å­˜&quot;</span>&lt;&lt;endl;</span><br><span class="line"><span class="keyword">delete</span> ptr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Age::GetAge</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> *ptr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_age</span><span class="params">(Age A)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the age: &quot;</span>&lt;&lt;A.<span class="built_in">GetAge</span>()&lt;&lt;endl; <span class="comment">//è¿™é‡Œä¹Ÿè°ƒç”¨äº†æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Age <span class="title">member_1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Age <span class="title">member_2</span><span class="params">(member_2)</span></span>;<span class="comment">//ç›¸å½“äºAge member_2 = member_1;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/OoobZof.png" class="lazyload" data-srcset="https://i.imgur.com/OoobZof.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p><img src="https://i.imgur.com/qDMYpUF.png" class="lazyload" data-srcset="https://i.imgur.com/qDMYpUF.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"><br><img src="https://i.imgur.com/7bc9q3L.png" class="lazyload" data-srcset="https://i.imgur.com/7bc9q3L.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p><img src="https://i.imgur.com/KuxSQ5t.png" class="lazyload" data-srcset="https://i.imgur.com/KuxSQ5t.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p><img src="https://i.imgur.com/rhUaMLy.png" class="lazyload" data-srcset="https://i.imgur.com/rhUaMLy.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p><font color="red">æˆå‘˜å˜é‡ä¸­åŠ ä¸€ä¸ªäº†æŒ‡é’ˆæˆå‘˜ï¼Œåˆå§‹åŒ–ä¸­éœ€è¦åŠ¨æ€å¼€è¾Ÿå†…å­˜ï¼Œå¦‚æœä¸è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œè€Œæ˜¯ç”¨é»˜è®¤ç”Ÿæˆçš„ï¼Œåˆ™ä¼šå‡ºç°æå¤§çš„å®‰å…¨éšæ‚£ã€‚<br/>é»˜è®¤çš„æ‹·è´æ„é€ å‡½æ•°ä»…ä»…æ˜¯è¿›è¡Œæ•°å€¼èµ‹å€¼ï¼Œå¹¶ä¸èƒ½ä¸ºæŒ‡é’ˆå¼€è¾Ÿå†…å­˜ç©ºé—´ã€‚ç›¸å½“äºä»£ç <code>This-&gt;str=str</code>.æœ¬è´¨ä¸Šä¹Ÿå°±æ˜¯ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘äº†ä¸€å—å †ç©ºé—´ã€‚ç¨‹åºç»“æŸå›æ”¶å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨è‡ªå·±çš„ææ„å‡½æ•°ï¼Œé‡Šæ”¾è¿™å—å†…å­˜ç©ºé—´ï¼Œç”±äºä¸¤ä¸ªå¯¹è±¡è¦è°ƒç”¨ä¸¤æ¬¡ï¼Œå³deleteä¸¤æ¬¡ï¼Œå°±ä¼šå‡ºç°é”™è¯¯</font></p><p align="right"><font size=4>[å¼•è‡ª](http://www.dotcpp.com/course/cpp/200020.html)</font></p><h2 id="C-ä¸­çš„thisæŒ‡é’ˆ"><a href="#C-ä¸­çš„thisæŒ‡é’ˆ" class="headerlink" title="C++ä¸­çš„thisæŒ‡é’ˆ"></a>C++ä¸­çš„thisæŒ‡é’ˆ</h2><p>å¯¹è±¡ä¸­éšè—çš„æŒ‡é’ˆ</p><ul><li>æ¯ä¸€ä¸ªå¯¹è±¡éƒ½èƒ½é€šè¿‡thisæŒ‡é’ˆæ¥è®¿é—®è‡ªå·±çš„åœ°å€ã€‚thisæŒ‡é’ˆæ˜¯æ‰€æœ‰æˆå‘˜å‡½æ•°é¢éšå«å‚æ•°ã€‚å› æ­¤åœ¨æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œå®ƒå¯ä»¥ç”¨æ¥æŒ‡å‘è°ƒç”¨çš„å¯¹è±¡ã€‚</li><li>å¦‚æœç¨‹åºä¸­æœ‰å¤šä¸ªå±äºåŒä¸€ç±»çš„å¯¹è±¡ï¼Œå› æˆå‘˜å‡½æ•°çš„ä»£ç ä»…æœ‰ä¸€ä»½ï¼Œæ‰€ä»¥ä¸ºäº†åŒºåˆ†å®ƒä»¬æ˜¯å“ªä¸ªå¯¹è±¡è°ƒç”¨çš„æˆå‘˜å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¹Ÿæ˜¯è½¬åŒ–æˆthis-&gt;æˆå‘˜å‡½æ•°è¿™ç§å½¢å¼æ¥ä½¿ç”¨çš„ã€‚</li><li>å‹å…ƒå‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆï¼Œå› ä¸ºå‹å…ƒä¸æ˜¯ç±»çš„æˆå‘˜ã€‚åªæœ‰æˆå‘˜å‡½æ•°æ‰æœ‰thisæŒ‡é’ˆã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Age</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Age</span>(<span class="type">int</span> your_age=<span class="number">18</span>)  <span class="comment">//Constructor function</span></span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Constructor now&quot;</span>&lt;&lt;endl;</span><br><span class="line">age=your_age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetAge</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span><span class="params">(Age member)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;<span class="built_in">GetAge</span>()&gt;member.<span class="built_in">GetAge</span>();   <span class="comment">//çœ‹è¿™é‡Œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Age <span class="title">member_1</span><span class="params">(<span class="number">20</span>)</span>,<span class="title">member_2</span><span class="params">(<span class="number">24</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(member_1.<span class="built_in">compare</span>(member_2))</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;member_1 is older than member_2&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;member_1 is younger than member_2&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/P3GTC8O.png" class="lazyload" data-srcset="https://i.imgur.com/P3GTC8O.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h4 id="å…³é”®å­—newå’Œdelete"><a href="#å…³é”®å­—newå’Œdelete" class="headerlink" title="å…³é”®å­—newå’Œdelete"></a>å…³é”®å­—newå’Œdelete</h4><ol><li>newï¼ˆæ–°å»ºï¼‰ç”¨äºæ–°å»ºä¸€ä¸ªå¯¹è±¡ã€‚new è¿ç®—ç¬¦æ€»æ˜¯è¿”å›ä¸€ä¸ªæŒ‡é’ˆã€‚ç”± new åˆ›å»ºã€‚</li><li>deleteï¼ˆåˆ é™¤ï¼‰é‡Šæ”¾ç¨‹åºåŠ¨æ€ç”³è¯·çš„å†…å­˜ç©ºé—´ã€‚delete åé¢é€šå¸¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆæˆ–è€…æ•°ç»„ []ï¼Œå¹¶ä¸”åªèƒ½ delete é€šè¿‡ new å…³é”®å­—ç”³è¯·çš„æŒ‡é’ˆã€‚</li></ol><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++é¢å‘å¯¹è±¡</title>
      <link href="/2018/10/05/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
      <url>/2018/10/05/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ç±»-amp-å¯¹è±¡"><a href="#ç±»-amp-å¯¹è±¡" class="headerlink" title="ç±» &amp; å¯¹è±¡"></a>ç±» &amp; å¯¹è±¡</h1><blockquote><p><font color="red">ç±»æ˜¯å¯¹è±¡çš„æŠ½è±¡å’Œæ¦‚æ‹¬ï¼Œè€Œå¯¹è±¡æ˜¯ç±»çš„å…·ä½“å’Œå®ä¾‹</font></p></blockquote><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=100% height=86 src="//music.163.com/outchain/player?type=2&id=1308818967&auto=1&height=66"></iframe><span id="more"></span><ul><li>ç±»ç”¨äºæŒ‡å®šå¯¹è±¡çš„å½¢å¼ï¼Œå®ƒåŒ…å«äº†æ•°æ®è¡¨ç¤ºæ³•å’Œç”¨äºå¤„ç†æ•°æ®çš„æ–¹æ³•ã€‚</li><li>ç±»ä¸­çš„æ•°æ®å’Œæ–¹æ³•ç§°ä¸ºç±»çš„æˆå‘˜ã€‚(æˆå‘˜æœ‰å˜é‡ä¹Ÿæœ‰å‡½æ•°ï¼Œåˆ†åˆ«æˆä¸ºç±»çš„å±æ€§å’Œæ–¹æ³•)</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;Cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*class Student</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">int num;</span></span><br><span class="line"><span class="comment">char name[100];</span></span><br><span class="line"><span class="comment">int score;</span></span><br><span class="line"><span class="comment">int print()</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">cout&lt;&lt;num&lt;&lt;&quot; &quot;&lt;&lt;name&lt;&lt;&quot; &quot;&lt;&lt;score;</span></span><br><span class="line"><span class="comment">return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125;;*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line"><span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> score;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;num&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;name&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;score;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Student A;</span><br><span class="line">A.num=<span class="number">1700710135</span>;</span><br><span class="line"><span class="built_in">strcpy</span>(A.name,<span class="string">&quot;ye shan&quot;</span>);</span><br><span class="line">A.score=<span class="number">100</span>;</span><br><span class="line"><span class="comment">//A.print();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Student *Ap;</span></span><br><span class="line"><span class="comment">//Ap=&amp;A;</span></span><br><span class="line"><span class="comment">//Ap-&gt;print();</span></span><br><span class="line"></span><br><span class="line">Student&amp; A_reference=A;  <span class="comment">//å¼•ç”¨å®šä¹‰æ—¶å°±è¦åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">//A_reference=A;  é”™è¯¯</span></span><br><span class="line">A_reference.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/f8XiWyi.png" class="lazyload" data-srcset="https://i.imgur.com/f8XiWyi.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h2 id="ç±»çš„å®šä¹‰"><a href="#ç±»çš„å®šä¹‰" class="headerlink" title="ç±»çš„å®šä¹‰"></a>ç±»çš„å®šä¹‰</h2><blockquote><p>å®šä¹‰ä¸€ä¸ªç±»ï¼Œæœ¬è´¨ä¸Šæ˜¯å®šä¹‰ä¸€ä¸ªæ•°æ®ç±»å‹çš„è“å›¾ã€‚å®ƒå®šä¹‰ç±»çš„å¯¹è±¡åŒ…æ‹¬äº†ä»€ä¹ˆï¼Œä»¥åŠå¯ä»¥åœ¨è¿™ä¸ªå¯¹è±¡ä¸Šæ‰§è¡Œå“ªäº›æ“ä½œã€‚</p></blockquote><p>ç±»çš„å®šä¹‰ä»¥å…³é”®å­—<code>class</code>å¼€å¤´ï¼Œåé¢è·Ÿç±»çš„åç§°ã€‚ç±»çš„ä¸»ä½“åŒ…å«åœ¨ä¸€å¯¹èŠ±æ‹¬å·ä¸­ã€‚ç±»å®šä¹‰åå¿…é¡»è·Ÿç€<code>ä¸€ä¸ªåˆ†å·æˆ–ä¸€ä¸ªå£°æ˜åˆ—è¡¨</code>ã€‚</p><h3 id="å†™æ³•1"><a href="#å†™æ³•1" class="headerlink" title="å†™æ³•1"></a>å†™æ³•1</h3><p>æˆå‘˜å‡½æ•°å®šä¹‰åœ¨åœ¨ç±»é‡Œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:       <span class="comment">//å£°æ˜å…¬æœ‰æˆå‘˜ï¼Œå¯è¢«ç±»çš„ä»»ä½•å¯¹è±¡è®¿é—®</span></span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> score;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;num&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;name&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;score;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="å†™æ³•2"><a href="#å†™æ³•2" class="headerlink" title="å†™æ³•2"></a>å†™æ³•2</h3><p>æˆå‘˜å‡½æ•°å®šä¹‰åœ¨ç±»å¤–ï¼Œä½¿ç”¨èŒƒå›´è§£æè¿ç®—ç¬¦(ä½œç”¨åŸŸé™å®šç¬¦)<code>::</code><br>    åœ¨::é™å®šç¬¦å‰å¿…é¡»ä½¿ç”¨ç±»å</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line"><span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> score;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;num&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;name&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;score;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯¹è±¡çš„å»ºç«‹å’Œä½¿ç”¨"><a href="#å¯¹è±¡çš„å»ºç«‹å’Œä½¿ç”¨" class="headerlink" title="å¯¹è±¡çš„å»ºç«‹å’Œä½¿ç”¨"></a>å¯¹è±¡çš„å»ºç«‹å’Œä½¿ç”¨</h2><blockquote><p>ç±»å°±æ˜¯åŒ…å«å‡½æ•°çš„ç»“æ„ä½“ï¼Œæ˜¯ä¸€ç§è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œç”¨å®ƒå®šä¹‰å‡ºæ¥å˜é‡ï¼Œå°±æ˜¯å¯¹è±¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œå¯¹è±¡æ˜¯ç±»çš„å…·ä½“å’Œå®ä¾‹â€ï¼Œå®šä¹‰äº†ä¸€ä¸ªè¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è¯´å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯è¿™ä¸ªæ„æ€ï¼</p></blockquote><ol><li>å£°æ˜ç±»çš„å¯¹è±¡ï¼Œå°±åƒå£°æ˜åŸºæœ¬çš„å˜é‡ç±»å‹ä¸€æ ·</li><li>è®¿é—®å…¬å…±æ•°æ®æˆå‘˜å¯ä»¥ä½¿ç”¨ç›´æ¥æˆå‘˜è®¿é—®è¿ç®—ç¬¦<code>.</code>æ¥è®¿é—®</li></ol><pre><code>Student A;    //å£°æ˜Aï¼Œç±»å‹ä¸ºStudentA.num=1700710135;strcpy(name,&quot;ye shan&quot;);A.score=100;A.print();</code></pre><h3 id="ç±»çš„è®¿é—®ä¿®é¥°ç¬¦"><a href="#ç±»çš„è®¿é—®ä¿®é¥°ç¬¦" class="headerlink" title="ç±»çš„è®¿é—®ä¿®é¥°ç¬¦"></a>ç±»çš„è®¿é—®ä¿®é¥°ç¬¦</h3><ul><li>private</li><li>protected</li><li>public</li></ul><ol><li>æˆå‘˜å’Œç±»çš„é»˜è®¤è®¿é—®ä¿®é¥°ç¬¦æ˜¯<code>private</code><br>&ensp; ç§æœ‰æˆå‘˜å˜é‡æˆ–å‡½æ•°åœ¨ç±»çš„å¤–éƒ¨æ˜¯ä¸å¯è®¿é—®çš„ï¼Œç”šè‡³æ˜¯ä¸å¯æŸ¥çœ‹çš„ã€‚åªæœ‰ç±»å’Œå‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜ã€‚</li><li>ä¿æŠ¤æˆå‘˜ä¿®é¥°ç¬¦<code>protected</code>ï¼Œä¿æŠ¤æˆå‘˜å˜é‡æˆ–å‡½æ•°ä¸ç§æœ‰æˆå‘˜ååˆ†ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ç‚¹ä¸åŒï¼Œä¿æŠ¤æˆå‘˜å˜é‡åœ¨æ´¾ç”Ÿç±»ï¼ˆå³å­ç±»ï¼‰ä¸­æ˜¯å¯ä»¥è®¿é—®çš„ã€‚</li><li>å…¬æœ‰æˆå‘˜åœ¨ç¨‹åºä¸­ç±»çš„å¤–éƒ¨æ˜¯å¯ä»¥è®¿é—®çš„ã€‚å¯ä»¥åœ¨ä¸é€‚ç”¨ä»»ä½•æˆå‘˜å‡½æ•°æ¥è®¾ç½®å’Œè·å–å…¬æœ‰å˜é‡çš„å€¼</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;Cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> score;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetNum</span><span class="params">(<span class="type">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetScore</span><span class="params">(<span class="type">int</span> s)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::GetNum</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">num=n;</span><br><span class="line"><span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::GetScore</span><span class="params">(<span class="type">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">score=s;</span><br><span class="line"><span class="keyword">return</span> score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Student A;</span><br><span class="line"></span><br><span class="line"><span class="built_in">strcpy</span>(A.name,<span class="string">&quot;yeshan&quot;</span>);</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the name is&quot;</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;A.name&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//A.num=1700710135ï¼Œæˆå‘˜numæ˜¯ç¨€æœ‰çš„ï¼Œä¸å¯è¿™æ ·ç”¨</span></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the num is&quot;</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;A.<span class="built_in">GetNum</span>(<span class="number">1700710135</span>)&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the score is&quot;</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;A.<span class="built_in">GetScore</span>(<span class="number">100</span>)&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/l9YSrb0.png" class="lazyload" data-srcset="https://i.imgur.com/l9YSrb0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><p>æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨protectedæˆå‘˜å˜é‡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;Cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> score;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetNum</span><span class="params">(<span class="type">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetScore</span><span class="params">(<span class="type">int</span> s)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Small_Student</span>:Student<span class="comment">//Small_Studentæ˜¯æ´¾ç”Ÿç±»</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">Get_Score_1</span><span class="params">(<span class="type">int</span> temp)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Small_Student::Get_Score_1</span><span class="params">(<span class="type">int</span> temp)</span>   <span class="comment">//å­ç±»æˆå‘˜å‡½æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">score=temp;</span><br><span class="line"><span class="keyword">return</span> score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::GetNum</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">num=n;</span><br><span class="line"><span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Student::GetScore</span><span class="params">(<span class="type">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">score=s;</span><br><span class="line"><span class="keyword">return</span> score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Student A;</span><br><span class="line"></span><br><span class="line"><span class="built_in">strcpy</span>(A.name,<span class="string">&quot;yeshan&quot;</span>);</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the name is&quot;</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;A.name&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//A.num=1700710135ï¼Œæˆå‘˜numæ˜¯ç¨€æœ‰çš„ï¼Œä¸å¯è¿™æ ·ç”¨</span></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the num is&quot;</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;A.<span class="built_in">GetNum</span>(<span class="number">1700710135</span>)&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the score is&quot;</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;A.<span class="built_in">GetScore</span>(<span class="number">100</span>)&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">Small_Student B;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the score is&quot;</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;B.<span class="built_in">Get_Score_1</span>(<span class="number">520</span>)&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/ycHrArS.png" class="lazyload" data-srcset="https://i.imgur.com/ycHrArS.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h2 id="ç±»çš„é™æ€æˆå‘˜"><a href="#ç±»çš„é™æ€æˆå‘˜" class="headerlink" title="ç±»çš„é™æ€æˆå‘˜"></a>ç±»çš„é™æ€æˆå‘˜</h2><p>ä½¿ç”¨<code>static</code>å…³é”®å­—æŠŠç±»æˆå‘˜å®šä¹‰ä¸ºé™æ€çš„</p><h2 id="é™æ€æˆå‘˜æ•°æ®"><a href="#é™æ€æˆå‘˜æ•°æ®" class="headerlink" title="é™æ€æˆå‘˜æ•°æ®"></a>é™æ€æˆå‘˜æ•°æ®</h2><ul><li>é™æ€æˆå‘˜åœ¨ç±»çš„æ‰€æœ‰å¯¹è±¡ä¸­æ˜¯å…±äº«çš„ã€‚å¦‚æœä¸å­˜åœ¨å…¶å®ƒåˆå§‹åŒ–è¯­å¥ï¼Œåœ¨åˆ›å»ºç¬¬ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰çš„é™æ€æ•°æ®éƒ½ä¼šè¢«åˆå§‹åŒ–ä¸ºé›¶ã€‚</li><li>ä¸èƒ½æŠŠé™æ€æˆå‘˜æ”¾ç½®åœ¨ç±»çš„å®šä¹‰ä¸­ï¼Œä½†æ˜¯å¯ä»¥åœ¨ç±»çš„å¤–éƒ¨é€šè¿‡ä½¿ç”¨èŒƒå›´è§£æè¿ç®—ç¬¦<code>::</code>æ¥é‡æ–°å£°æ˜é™æ€å˜é‡ï¼Œä»è€Œå¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Area</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> length;</span><br><span class="line"><span class="type">double</span> width;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> object_count;</span><br><span class="line">    <span class="built_in">Area</span>(<span class="type">double</span> x,<span class="type">double</span> y)</span><br><span class="line">&#123;</span><br><span class="line">length = x;</span><br><span class="line">width = y;</span><br><span class="line">object_count++;<span class="comment">//æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶åŠ ä¸€</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Print_Area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> length*width;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Area::object_count=<span class="number">0</span>;<span class="comment">//åˆå§‹åŒ–ç±»Areaçš„é™æ€æˆå‘˜</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Area <span class="title">number_1</span><span class="params">(<span class="number">3</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line"><span class="function">Area <span class="title">number_2</span><span class="params">(<span class="number">5</span>,<span class="number">6</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;creat &quot;</span>&lt;&lt;Area::object_count&lt;&lt;<span class="string">&quot; object&quot;</span>&lt;&lt;endl;  <span class="comment">//ä½¿ç”¨    ç±»å+èŒƒå›´è§£æè¿ç®—ç¬¦::+é™æ€æˆå‘˜å˜é‡    è®¿é—®é™æ€æˆå‘˜æ•°æ®</span></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;the area of number_1 is &quot;</span>&lt;&lt;number_1.<span class="built_in">Print_Area</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/c1JTCaS.png" class="lazyload" data-srcset="https://i.imgur.com/c1JTCaS.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h2 id="é™æ€æˆå‘˜å‡½æ•°"><a href="#é™æ€æˆå‘˜å‡½æ•°" class="headerlink" title="é™æ€æˆå‘˜å‡½æ•°"></a>é™æ€æˆå‘˜å‡½æ•°</h2><ul><li>é™æ€æˆå‘˜å‡½æ•°å³ä½¿åœ¨ç±»å¯¹è±¡ä¸å­˜åœ¨çš„æƒ…å†µä¸‹ä¹Ÿèƒ½è¢«è°ƒç”¨ã€‚</li><li>é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æ•°æ®æˆå‘˜ï¼Œä¸èƒ½è®¿é—®å…¶ä»–é™æ€æˆå‘˜å‡½æ•°å’Œç±»å¤–éƒ¨çš„å‡½æ•°</li><li>é™æ€æˆå‘˜å‡½æ•°æœ‰ä¸€ä¸ªç±»èŒƒå›´ï¼Œä»–ä»¬ä¸èƒ½è®¿é—®ç±»çš„thisæŒ‡é’ˆã€‚å¯ä»¥ç”¨é™æ€æˆå‘˜å‡½æ•°æ¥åˆ¤æ–­æŸäº›å¯¹è±¡æ˜¯å¦å·²è¢«åˆ›å»ºã€‚</li><li>è°ƒç”¨æ—¶ä½¿ç”¨ ç±»å+èŒƒå›´è§£æè¿ç®—ç¬¦+é™æ€æˆå‘˜å‡½æ•°å</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Area</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> length;</span><br><span class="line"><span class="type">double</span> width;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> object_count;       <span class="comment">//é™æ€æˆå‘˜æ•°æ®</span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">get_count</span><span class="params">()</span>        <span class="comment">//é™æ€æˆå‘˜å‡½æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> object_count;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="built_in">Area</span>(<span class="type">double</span> x,<span class="type">double</span> y)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Constructor&quot;</span>&lt;&lt;endl;</span><br><span class="line">length = x;</span><br><span class="line">width = y;</span><br><span class="line">object_count++;<span class="comment">//æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶åŠ ä¸€</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Print_Area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> length*width;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Area::object_count=<span class="number">0</span>;<span class="comment">//åˆå§‹åŒ–ç±»Areaçš„é™æ€æˆå‘˜</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;number of objects:&quot;</span>&lt;&lt;Area::<span class="built_in">get_count</span>()&lt;&lt;endl;</span><br><span class="line"><span class="function">Area <span class="title">number_1</span><span class="params">(<span class="number">3</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line"><span class="function">Area <span class="title">number_2</span><span class="params">(<span class="number">5</span>,<span class="number">6</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;after creat object ,number of objects:&quot;</span>&lt;&lt;Area::<span class="built_in">get_count</span>()&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++å…¥å‘è®°(3)</title>
      <link href="/2018/10/04/C++-%E5%85%A5%E5%9D%91%E8%AE%B0-3/"/>
      <url>/2018/10/04/C++-%E5%85%A5%E5%9D%91%E8%AE%B0-3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å˜é‡åˆå§‹åŒ–é—®é¢˜"><a href="#å˜é‡åˆå§‹åŒ–é—®é¢˜" class="headerlink" title="å˜é‡åˆå§‹åŒ–é—®é¢˜"></a>å˜é‡åˆå§‹åŒ–é—®é¢˜</h1><p>å½“å±€éƒ¨å˜é‡è¢«å®šä¹‰æ—¶ï¼Œç³»ç»Ÿä¸ä¼šè‡ªåŠ¨å¯¹å…¶åˆå§‹åŒ–ï¼›<br>å½“å…¨å±€å˜é‡è¢«å®šä¹‰æ—¶ï¼Œç³»ç»Ÿä¼šåˆå§‹åŒ–ä¸ºä¸‹åˆ—å€¼:</p><table><thead><tr><th align="center">æ•°æ®ç±»å‹</th><th align="left">åˆå§‹åŒ–é»˜è®¤å€¼</th></tr></thead><tbody><tr><td align="center">int</td><td align="left">0</td></tr><tr><td align="center">float</td><td align="left">0</td></tr><tr><td align="center">double</td><td align="left">0</td></tr><tr><td align="center">char</td><td align="left">â€˜\0â€™</td></tr><tr><td align="center">pointer</td><td align="left">NULL</td></tr></tbody></table><span id="more"></span><h1 id="C-å‚¨å­˜ç±»"><a href="#C-å‚¨å­˜ç±»" class="headerlink" title="C++å‚¨å­˜ç±»"></a>C++å‚¨å­˜ç±»</h1><ul><li>auto</li><li>static</li><li>extern</li><li>register</li><li>mutable</li><li>thread_local</li></ul><h3 id="staticå‚¨å­˜ç±»"><a href="#staticå‚¨å­˜ç±»" class="headerlink" title="staticå‚¨å­˜ç±»"></a>staticå‚¨å­˜ç±»</h3><blockquote><p>ç”¨äºæŒ‡ç¤ºç¼–è¯‘å™¨åœ¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå†…ä¿æŒå±€éƒ¨å˜é‡çš„å­˜åœ¨ï¼Œè€Œä¸éœ€è¦æ¯æ¬¡åœ¨å®ƒè¿›å…¥å’Œç¦»å¼€ä½œç”¨åŸŸæ—¶è¿›è¡Œåˆ›å»ºå’Œé”€æ¯ã€‚</p></blockquote><ol><li>staticä¿®é¥°å±€éƒ¨å˜é‡ï¼Œå¯ä»¥åœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ä¿æŒå±€éƒ¨å˜é‡çš„å€¼</li><li>staticä¿®é¥°å…¨å±€å˜é‡ï¼Œä¼šä½¿å˜é‡çš„ä½œç”¨åŸŸé™åˆ¶åœ¨ç”Ÿæ˜å®ƒçš„æ–‡ä»¶å†…<br><a href="http://www.runoob.com/cplusplus/cpp-storage-classes.html">å‚è€ƒ</a></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> count=<span class="number">10</span>;  <span class="comment">//å…¨å±€å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> i=<span class="number">5</span>;  <span class="comment">//å±€éƒ¨é™æ€å˜é‡</span></span><br><span class="line">i++;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;å˜é‡iä¸º:&quot;</span>&lt;&lt;i;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;,å˜é‡countä¸º:&quot;</span>&lt;&lt;count&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(count--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">func</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/kKvsKof.png" class="lazyload" data-srcset="https://i.imgur.com/kKvsKof.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h3 id="externå‚¨å­˜ç±»"><a href="#externå‚¨å­˜ç±»" class="headerlink" title="externå‚¨å­˜ç±»"></a>externå‚¨å­˜ç±»</h3><blockquote><p>ç”¨äºæä¾›ä¸€ä¸ªå…¨å±€å˜é‡çš„å¼•ç”¨ï¼Œå…¨å±€å˜é‡å¯¹æ‰€æœ‰çš„ç¨‹åºæ–‡ä»¶éƒ½æ˜¯å¯è§çš„ã€‚ä½¿ç”¨externæ—¶ï¼Œå¯¹äºæ— æ³•åˆå§‹åŒ–çš„å˜é‡ï¼Œä¼šæŠŠå˜é‡åæŒ‡å‘ä¸€ä¸ªä¹‹å‰å·²ç»å®šä¹‰è¿‡çš„å­˜å‚¨ä½ç½®ã€‚<br>å½“æœ‰å¤šä¸ªæ–‡ä»¶ä¸”å®šä¹‰äº†ä¸€ä¸ªå°±å¯åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨çš„å…¨å±€å˜é‡æˆ–å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨externæ¥å¾—åˆ°å·²å®šä¹‰çš„å˜é‡æˆ–å‡½æ•°çš„å¼•ç”¨ã€‚</p></blockquote><h1 id="C-å¼•ç”¨"><a href="#C-å¼•ç”¨" class="headerlink" title="C++å¼•ç”¨"></a>C++å¼•ç”¨</h1><blockquote><p>å¼•ç”¨å˜é‡æ˜¯ä¸€ä¸ªåˆ«åã€‚å®ƒæ˜¯æŸä¸ªå·²å­˜åœ¨çš„å˜é‡çš„å¦ä¸€ä¸ªåå­—ã€‚ä¸€æ—¦æŠŠå¼•ç”¨åˆå§‹åŒ–ä¸ºæŸä¸ªå˜é‡ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å¼•ç”¨åç§°æˆ–å˜é‡åç§°æ¥æŒ‡å‘å˜é‡</p></blockquote><h3 id="å¼•ç”¨ä¸æŒ‡é’ˆçš„å·®åˆ«"><a href="#å¼•ç”¨ä¸æŒ‡é’ˆçš„å·®åˆ«" class="headerlink" title="å¼•ç”¨ä¸æŒ‡é’ˆçš„å·®åˆ«"></a>å¼•ç”¨ä¸æŒ‡é’ˆçš„å·®åˆ«</h3><ul><li>ä¸å­˜åœ¨ç©ºå¼•ç”¨ï¼Œå¼•ç”¨å¿…é¡»è¿æ¥åˆ°ä¸€å—åˆæ³•çš„å†…å­˜ã€‚</li><li>ä¸€æ—¦å¼•ç”¨è¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¸èƒ½è¢«æŒ‡å‘åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚æŒ‡é’ˆå¯ä»¥åœ¨ä»»ä½•æ—¶å€™æŒ‡å‘åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚</li><li>å¼•ç”¨å¿…é¡»åœ¨åˆ›å»ºæ—¶è¢«åˆå§‹åŒ–ã€‚æŒ‡é’ˆå¯ä»¥åœ¨ä»»ä½•æ—¶é—´è¢«åˆå§‹åŒ–ã€‚</li></ul><p>å¼•ç”¨å¯ä»¥å½“æˆå˜é‡é™„å±åœ¨å†…å­˜çš„ç¬¬äºŒä¸ªæ ‡ç­¾</p><pre><code>int i;//ä¸ºiå£°æ˜ä¸€ä¸ªå¼•ç”¨å˜é‡int&amp; r=i;</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="type">double</span> d;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å£°æ˜å¼•ç”¨å˜é‡</span></span><br><span class="line"><span class="type">int</span>&amp; r=i;</span><br><span class="line"><span class="type">double</span>&amp; s=d;</span><br><span class="line"></span><br><span class="line">i=<span class="number">3</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Value of iï¼š&quot;</span>&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Value of i reference:ï¼š&quot;</span>&lt;&lt;r&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">d=<span class="number">5.20</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;d= &quot;</span>&lt;&lt;d&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Value of d referenceï¼š&quot;</span>&lt;&lt;s&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/leM5bJC.png" class="lazyload" data-srcset="https://i.imgur.com/leM5bJC.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h2 id="ç”¨å¼•ç”¨åšå‡½æ•°å½¢å‚"><a href="#ç”¨å¼•ç”¨åšå‡½æ•°å½¢å‚" class="headerlink" title="ç”¨å¼•ç”¨åšå‡½æ•°å½¢å‚"></a>ç”¨å¼•ç”¨åšå‡½æ•°å½¢å‚</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(<span class="type">int</span>&amp; x,<span class="type">int</span>&amp; y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line">temp = x;</span><br><span class="line">x = y;</span><br><span class="line">y = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a,b;</span><br><span class="line">cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;a=&quot;</span>&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;<span class="string">&quot;b=&quot;</span>&lt;&lt;b&lt;&lt;endl;</span><br><span class="line"><span class="built_in">swap</span>(a,b);</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;after exchange:&quot;</span>&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;a=&quot;</span>&lt;&lt;a&lt;&lt;<span class="string">&quot; b=&quot;</span>&lt;&lt;b&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/zNTinnC.png" class="lazyload" data-srcset="https://i.imgur.com/zNTinnC.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h2 id="å¼•ç”¨åšè¿”å›å€¼"><a href="#å¼•ç”¨åšè¿”å›å€¼" class="headerlink" title="å¼•ç”¨åšè¿”å›å€¼"></a>å¼•ç”¨åšè¿”å›å€¼</h2><p>å½“å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œåˆ™è¿”å›ä¸€ä¸ªæŒ‡å‘è¿”å›å€¼çš„éšå¼æŒ‡é’ˆã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> vals[]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span>&amp; <span class="title">setValues</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> vals[i];<span class="comment">//è¿”å›ç¬¬iä¸ªå…ƒç´ çš„å¼•ç”¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;before change:&quot;</span>&lt;&lt;endl;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;vals[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setValues</span>(<span class="number">1</span>)=<span class="number">520</span>;   <span class="comment">//change the second value</span></span><br><span class="line"><span class="built_in">setValues</span>(<span class="number">3</span>)=<span class="number">1314</span>;  <span class="comment">//change the forth value</span></span><br><span class="line"></span><br><span class="line">cout&lt;&lt;endl&lt;&lt;<span class="string">&quot;after change:&quot;</span>&lt;&lt;endl;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;vals[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/dytdmF0.png" class="lazyload" data-srcset="https://i.imgur.com/dytdmF0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å·¥å…·å°æ•´åˆ</title>
      <link href="/2018/10/03/%E5%B7%A5%E5%85%B7%E5%B0%8F%E6%95%B4%E5%90%88/"/>
      <url>/2018/10/03/%E5%B7%A5%E5%85%B7%E5%B0%8F%E6%95%B4%E5%90%88/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="https://i.imgur.com/HTg1isz.jpg" class="lazyload" data-srcset="https://i.imgur.com/HTg1isz.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><span id="more"></span><p>ç™¾åº¦æ–‡åº“ã€çŸ¥ç½‘æ–‡ç« ä¸‹è½½<br><a href="https://pan.baidu.com/s/1-BY2B4hBn_3wHgYlXkFLCg">https://pan.baidu.com/s/1-BY2B4hBn_3wHgYlXkFLCg</a></p><p>ç™¾åº¦äº‘ä¸‹è½½æé€Ÿè½¯ä»¶<br><a href="https://pan.baidu.com/s/1EYy5AN9JVv7m42f6NNmvlA" title="https://pan.baidu.com/s/1EYy5AN9JVv7m42f6NNmvlA">https://pan.baidu.com/s/1EYy5AN9JVv7m42f6NNmvlA</a></p><p>å¾®è½¯PEå·¥å…·ç®±<br><a href="https://pan.baidu.com/s/1J1Nud9qTU6jSP6cTpk8Zlg">https://pan.baidu.com/s/1J1Nud9qTU6jSP6cTpk8Zlg</a></p><p>window10æ•°å­—æƒåˆ©æ¿€æ´»å·¥å…·</p><p>github:</p><ol><li><a href="https://github.com/TGSAN/CMWTAT_Digital_Edition/releases">https://github.com/TGSAN/CMWTAT_Digital_Edition/releases</a></li><li><a href="https://github.com/vyvojar/slshim/releases">https://github.com/vyvojar/slshim/releases</a></li></ol><p><a href="https://www.spturate.xyz/2018/10/03/1/">æ¿€æ´»æ–¹æ³•å‚è€ƒ</a><br><a href="https://pan.baidu.com/s/1_VqJiuBeCHLyRp5Xcc562w">https://pan.baidu.com/s/1_VqJiuBeCHLyRp5Xcc562w</a><br><a href="https://pan.baidu.com/s/1iNGBlhhef20PtMGdUNsaWA">kmsæ¿€æ´»å·¥å…·</a><br><a href="https://msdn.itellyou.cn/">win10ä¸‹è½½</a></p><p>Gifåˆ¶ä½œå·¥å…·<br><a href="https://pan.baidu.com/s/1Eu_O-7EPSB81cwmR-R1zvw">https://pan.baidu.com/s/1Eu_O-7EPSB81cwmR-R1zvw</a><br>æå–ç :q51n</p><p>å½•å±è½¯ä»¶<br><a href="https://pan.baidu.com/s/1VsN5XClhZiRCqUyxbTJ_tg">https://pan.baidu.com/s/1VsN5XClhZiRCqUyxbTJ_tg</a><br>æå–ç :vlrb</p><p><a href="https://pan.baidu.com/s/1qRiQdT-NvKgLVtEzJHPbLA">CamStudioæ±‰åŒ–ç‰ˆ</a><br>æå–ç :kckg</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++å…¥å‘è®°(2)</title>
      <link href="/2018/10/03/C++-%E5%85%A5%E5%9D%91%E8%AE%B0-2/"/>
      <url>/2018/10/03/C++-%E5%85%A5%E5%9D%91%E8%AE%B0-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‡½æ•°ï¼Œé»˜è®¤å‚æ•°çš„ä½¿ç”¨"><a href="#å‡½æ•°ï¼Œé»˜è®¤å‚æ•°çš„ä½¿ç”¨" class="headerlink" title="å‡½æ•°ï¼Œé»˜è®¤å‚æ•°çš„ä½¿ç”¨"></a>å‡½æ•°ï¼Œé»˜è®¤å‚æ•°çš„ä½¿ç”¨</h1><p>åœ¨C++ä¸­ï¼Œå…è®¸åœ¨è‡ªå®šä¹‰å‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­ï¼Œç»™å½¢å‚ä¸€ä¸ªé»˜è®¤çš„å€¼ï¼Œè¿™æ ·åœ¨è°ƒç”¨çš„æ—¶å€™å¦‚æœæœ‰å®å‚ï¼Œé‚£ä¹ˆæŒ‰ç…§å®å‚ä¼ é€’ç»™å½¢å‚çš„æ–¹æ³•ä½¿ç”¨ï¼›è‹¥è°ƒç”¨çš„æ—¶å€™æ²¡æœ‰æŒ‡å®šå¯¹åº”çš„å®å‚ï¼Œåˆ™å½¢å‚å°†ä½¿ç”¨é»˜è®¤å€¼ã€‚<br>ç”±äºå‚æ•°çš„ä¼ é€’é¡ºåºæ˜¯ä»å³è‡³å·¦å…¥æ ˆï¼Œæ‰€ä»¥æœ‰é»˜è®¤å€¼çš„å‚æ•°å¿…é¡»åœ¨æ”¾åœ¨å½¢å‚åˆ—è¡¨çš„æœ€å³è¾¹ï¼</p><span id="more"></span><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Sum</span><span class="params">(<span class="type">int</span> a=<span class="number">4</span>,<span class="type">int</span> b=<span class="number">5</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="built_in">Sum</span>(<span class="number">5</span>,<span class="number">7</span>)&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="built_in">Sum</span>()&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="built_in">Sum</span>(<span class="number">9</span>)&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/vz6wOh3.png" class="lazyload" data-srcset="https://i.imgur.com/vz6wOh3.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h1 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h1><p>å‡½æ•°é‡è½½å³ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„å‡½æ•°ï¼Œå‡½æ•°åç›¸åŒï¼Œä½†å½¢å‚ç±»å‹æˆ–ä¸ªæ•°ä¸åŒï¼Œç¼–è¯‘å™¨æ ¹æ®è°ƒç”¨æ–¹ä¼ å…¥çš„å‚æ•°çš„ç±»å‹å’Œä¸ªæ•°ï¼Œè‡ªåŠ¨é€‰æ‹©æœ€é€‚åˆçš„ä¸€ä¸ªå‡½æ•°æ¥è¿›è¡Œç»‘å®šè°ƒç”¨ï¼Œè‡ªåŠ¨å®ç°é€‰æ‹©ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">sum</span><span class="params">(<span class="type">double</span> a,<span class="type">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">sum</span><span class="params">(<span class="type">double</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> a,<span class="type">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sum</span>(<span class="number">1</span>,<span class="number">2</span>)&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sum</span>(<span class="number">1.414</span>,<span class="number">2.526</span>)&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sum</span>(<span class="number">3.14</span>,<span class="number">6</span>)&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sum</span>(<span class="number">8</span>,<span class="number">9.9</span>)&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/xP82hjI.png" class="lazyload" data-srcset="https://i.imgur.com/xP82hjI.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h1 id="å‡½æ•°æ¨¡æ¿ï¼ˆtemplateï¼‰"><a href="#å‡½æ•°æ¨¡æ¿ï¼ˆtemplateï¼‰" class="headerlink" title="å‡½æ•°æ¨¡æ¿ï¼ˆtemplateï¼‰"></a>å‡½æ•°æ¨¡æ¿ï¼ˆtemplateï¼‰</h1><p>æ¨¡æ¿æ˜¯åˆ›å»ºæ³›å‹ç±»æˆ–å‡½æ•°çš„è“å›¾æˆ–å…¬å¼ã€‚æ˜¯æ³›å‹ç¼–ç¨‹çš„åŸºç¡€ã€‚<br>å‡½æ•°æ¨¡æ¿ï¼Œæ˜¯å¯ä»¥åˆ›å»ºä¸€ä¸ªé€šç”¨çš„å‡½æ•°ï¼Œå¯ä»¥æ”¯æŒå¤šç§å½¢å‚ã€‚ç”¨å…³é”®å­—<code>template</code>æ¥å®šä¹‰<br><strong>æ¨¡æ¿å‡½æ•°å®šä¹‰çš„ä¸€èˆ¬å½¢å¼</strong></p><pre><code>template&lt;class ç±»å‹å1,class ç±»å‹å2&gt;è¿”å›å€¼ å‡½æ•°å(å½¢å‚åˆ—è¡¨)&#123;    å‡½æ•°ä½“&#125;</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T1,<span class="keyword">class</span> T2&gt;</span></span><br><span class="line"><span class="function">T1 <span class="title">sum</span><span class="params">(T1 a,T2 b)</span></span></span><br><span class="line"><span class="function"><span class="comment">//æ¨¡æ¿å‡½æ•°ä¸­çš„T1å’ŒT2ç±»å‹å°†æ ¹æ®å®é™…ä¼ å…¥çš„ç±»å‹å˜æˆå…·ä½“ç±»å‹ã€‚è¿™ä¸ªåŒ–æˆå°±å«åšæ¨¡æ¿çš„å®ä¾‹åŒ–ã€‚</span></span></span><br><span class="line"><span class="function"><span class="comment">//T1ã€T2æ˜¯å‡½æ•°æ‰€ä½¿ç”¨çš„æ•°æ®ç±»å‹çš„å ä½ç¬¦åç§°ã€‚è¿™ä¸ªåç§°å¯ä»¥åœ¨å‡½æ•°å®šä¹‰ä¸­ä½¿ç”¨ã€‚</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sizeof</span>(T1)&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;<span class="built_in">sizeof</span>(T2)&lt;&lt;<span class="string">&quot;\t&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sum</span>(<span class="number">1</span>,<span class="number">2</span>)&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sum</span>(<span class="number">3.14</span>,<span class="number">1.414</span>)&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sum</span>(<span class="string">&#x27;A&#x27;</span>,<span class="number">2</span>)&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/qmwhban.png" class="lazyload" data-srcset="https://i.imgur.com/qmwhban.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¿è¡Œç»“æœ"></p><h2 id="inlineå†…è”å‡½æ•°"><a href="#inlineå†…è”å‡½æ•°" class="headerlink" title="inlineå†…è”å‡½æ•°"></a>inlineå†…è”å‡½æ•°</h2><ul><li>å†…è”å‡½æ•°çš„åŸºæœ¬æ€æƒ³åœ¨äºå°†æ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½ä»¥å®ƒçš„ä»£ç ä½“æ¥æ›¿æ¢</li><li>å†…è”å‡½æ•°å‡å°‘äº†ä¸å¿…è¦çš„å‡½æ•°<a href="https://baike.baidu.com/item/%E6%A0%88%E5%B8%A7/5662951?fr=aladdin">æ ˆå¸§</a>çš„å¼€é”€,èŠ‚çº¦å†…å­˜</li><li>å†…è”å‡½æ•°ä»¥ç©ºé—´æ¢å–äº†æ—¶é—´ï¼Œä½†æ˜¯inlineå¯¹ç¼–è¯‘å™¨åªæ˜¯ä¸€ä¸ªå»ºè®®ï¼Œå¦‚æœå®šä¹‰çš„å‡½æ•°ä½“å†…æœ‰å¾ªç¯æˆ–é€’å½’ç­‰ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–æ—¶ä¼šè‡ªåŠ¨å¿½ç•¥æ‰å†…è”</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">Max</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a&gt;b?a:b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">Max</span>(<span class="number">3</span>,<span class="number">5</span>)&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">Max</span>(<span class="number">7</span>,<span class="number">9</span>)&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em><strong>å†…è”å‡½æ•°çš„å®šä¹‰è¦åœ¨è°ƒç”¨ä¹‹å‰å‡ºç°</strong></em></p><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ACMå…¥é—¨ï¼ˆå ä¸ªä½ï¼‰</title>
      <link href="/2018/10/02/ACM%E5%85%A5%E9%97%A8/"/>
      <url>/2018/10/02/ACM%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="A-B-for-Input-Output-Practice-using-C"><a href="#A-B-for-Input-Output-Practice-using-C" class="headerlink" title="A+B for Input-Output Practice(using C++)"></a>A+B for Input-Output Practice(using C++)</h1><h2 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h2><table><thead><tr><th align="left">Problem Description</th></tr></thead><tbody><tr><td align="left">Your task is to Calculate a + b. Too easy?! Of course! I specially designed the problem for acm beginners. You must have found that some problems have the same titles with this one, yes, all these problems were designed for the same aim</td></tr><tr><td align="left">Input</td></tr><tr><td align="left">The input will consist of a series of pairs of integers a and b, separated by a space, one pair of integers per line.</td></tr><tr><td align="left">Output</td></tr><tr><td align="left">For each pair of input integers a and b you should output the sum of a and b in one line, and with one line of output for each line in input.</td></tr><tr><td align="left">Sample Input</td></tr><tr><td align="left">1 6<br>1 20</td></tr><tr><td align="left">Sample Output</td></tr><tr><td align="left">7<br>21</td></tr></tbody></table><span id="more"></span><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> x,y;</span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;x&gt;&gt;y)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;x+y&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h2><table><thead><tr><th align="left">Problem Description</th></tr></thead><tbody><tr><td align="left">The first line integer means the number of input integer a and b. Your task is to Calculate a + b.</td></tr><tr><td align="left">Input</td></tr><tr><td align="left">Your task is to Calculate a + b. The first line integer means the numbers of pairs of input integers.</td></tr><tr><td align="left">Output</td></tr><tr><td align="left">For each pair of input integers a and b you should output the sum of a and b in one line, and with one line of output for each line in input.</td></tr><tr><td align="left">Sample Input</td></tr><tr><td align="left">2<br>10 20<br>22 36</td></tr><tr><td align="left">Sample Output</td></tr><tr><td align="left">30<br>58</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n,i;</span><br><span class="line"><span class="type">int</span> a,b;</span><br><span class="line">cin&gt;&gt;n;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">cout&lt;&lt;a+b&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h2><table><thead><tr><th align="left">Problem Description</th></tr></thead><tbody><tr><td align="left">Your task is to Calculate a + b.</td></tr><tr><td align="left">Input</td></tr><tr><td align="left">Input contains multiple test cases. Each test case contains a pair of integers a and b, one pair of integers per line. A test case containing 0 0 terminates the input and this test case is not to be processed.</td></tr><tr><td align="left">Output</td></tr><tr><td align="left">For each pair of input integers a and b you should output the sum of a and b in one line, and with one line of output for each line in input.</td></tr><tr><td align="left">Sample Input</td></tr><tr><td align="left">1 5<br>10 20<br>0 0</td></tr><tr><td align="left">Sample Output</td></tr><tr><td align="left">6<br>30</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a,b;</span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;a&gt;&gt;b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(a==<span class="number">0</span>&amp;&amp;b==<span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    cout&lt;&lt;a+b&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4"><a href="#4" class="headerlink" title="4."></a>4.</h2><table><thead><tr><th align="left">Problem Description</th></tr></thead><tbody><tr><td align="left">Your task is to Calculate the sum of some integers.</td></tr><tr><td align="left">Input</td></tr><tr><td align="left">Input contains multiple test cases. Each test case contains a integer N, and then N integers follow in the same line. A test case starting with 0 terminates the input and this test case is not to be processed.</td></tr><tr><td align="left">Output</td></tr><tr><td align="left">For each group of input integers you should output their sum in one line, and with one line of output for each line in input.</td></tr><tr><td align="left">Sample Input</td></tr><tr><td align="left">4 1 2 3 4<br>5 1 2 3 4 5<br>0</td></tr><tr><td align="left">Sample Output</td></tr><tr><td align="left">10<br>15</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;n)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(n==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> x,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(n--)</span><br><span class="line">&#123;</span><br><span class="line">cin&gt;&gt;x;</span><br><span class="line">sum+=x;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;sum&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5"><a href="#5" class="headerlink" title="5."></a>5.</h2><table><thead><tr><th align="left">Problem Description</th></tr></thead><tbody><tr><td align="left">Your task is to calculate the sum of some integers.</td></tr><tr><td align="left">Input</td></tr><tr><td align="left">Input contains an integer N in the first line, and then N lines follow. Each line starts with a integer M, and then M integers follow in the same line.</td></tr><tr><td align="left">Output</td></tr><tr><td align="left">For each group of input integers you should output their sum in one line, and with one line of output for each line in input.</td></tr><tr><td align="left">Sample Input</td></tr><tr><td align="left">2<br>4 1 2 3 4<br>5 1 2 3 4 5</td></tr><tr><td align="left">Sample Output</td></tr><tr><td align="left">10<br>15</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> N;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="type">int</span> n,x;</span><br><span class="line">cin&gt;&gt;N;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> x,sum=<span class="number">0</span>;</span><br><span class="line">cin&gt;&gt;n;</span><br><span class="line"><span class="keyword">while</span>(n--)</span><br><span class="line">&#123;</span><br><span class="line">cin&gt;&gt;x;</span><br><span class="line">sum += x;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;sum&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6"><a href="#6" class="headerlink" title="6."></a>6.</h2><table><thead><tr><th align="left">Problem Description</th></tr></thead><tbody><tr><td align="left">Your task is to calculate the sum of some integers.</td></tr><tr><td align="left">Input</td></tr><tr><td align="left">Input contains multiple test cases, and one case one line. Each case starts with an integer N, and then N integers follow in the same line.</td></tr><tr><td align="left">Output</td></tr><tr><td align="left">For each test case you should output the sum of N integers in one line, and with one line of output for each line in input.</td></tr><tr><td align="left">Sample Input</td></tr><tr><td align="left">4 1 2 3 4 5<br>5 1 2 3 4 5</td></tr><tr><td align="left">Sample Output</td></tr><tr><td align="left">10<br>15</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> x,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;n)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(n--)</span><br><span class="line">&#123;</span><br><span class="line">cin&gt;&gt;x;</span><br><span class="line">sum +=x;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;sum&lt;&lt;endl;</span><br><span class="line">sum=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7"><a href="#7" class="headerlink" title="7."></a>7.</h2><table><thead><tr><th align="left">Problem Description</th></tr></thead><tbody><tr><td align="left">Your task is to Calculate a + b.</td></tr><tr><td align="left">Input</td></tr><tr><td align="left">The input will consist of a series of pairs of integers a and b, separated by a space, one pair of integers per line.</td></tr><tr><td align="left">Output</td></tr><tr><td align="left">For each pair of input integers a and b you should output the sum of a and b, and followed by a blank line.</td></tr><tr><td align="left">Sample Input</td></tr><tr><td align="left">1 5<br>10 20</td></tr><tr><td align="left">Sample Output</td></tr><tr><td align="left">6<br><br>30</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> x,y;</span><br><span class="line"><span class="keyword">while</span>(cin&gt;&gt;x&gt;&gt;y)</span><br><span class="line">&#123;</span><br><span class="line">cout&lt;&lt;x+y&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="8"><a href="#8" class="headerlink" title="8."></a>8.</h2><table><thead><tr><th align="left">Problem Description</th></tr></thead><tbody><tr><td align="left">Your task is to calculate the sum of some integers</td></tr><tr><td align="left">Input</td></tr><tr><td align="left">Input contains an integer N in the first line, and then N lines follow. Each line starts with a integer M, and then M integers follow in the same line</td></tr><tr><td align="left">Output</td></tr><tr><td align="left">For each group of input integers you should output their sum in one line, and you must note that there is a blank line between outputs.</td></tr><tr><td align="left">Sample Input</td></tr><tr><td align="left">3<br>4 1 2 3 4<br>5 1 2 3 4 5<br>6 1 2 3 4 5 6</td></tr><tr><td align="left">Sample Output</td></tr><tr><td align="left">10<br><br>15<br><br>21</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> N;</span><br><span class="line"><span class="type">int</span> n,x;</span><br><span class="line"><span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">cin&gt;&gt;N;</span><br><span class="line"><span class="keyword">while</span>(N--)</span><br><span class="line">&#123;</span><br><span class="line">cin&gt;&gt;n;</span><br><span class="line"><span class="keyword">while</span>(n--)</span><br><span class="line">&#123;</span><br><span class="line">cin&gt;&gt;x;</span><br><span class="line">sum +=x;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;sum&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line">sum=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
            <tag> Algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++å…¥å‘è®°</title>
      <link href="/2018/10/02/C++-%E5%85%A5%E5%9D%91%E8%AE%B0/"/>
      <url>/2018/10/02/C++-%E5%85%A5%E5%9D%91%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="C-å…³é”®å­—"><a href="#C-å…³é”®å­—" class="headerlink" title="C++å…³é”®å­—"></a>C++å…³é”®å­—</h1><p><a href="https://www.runoob.com/w3cnote/cpp-keyword-intro.html">https://www.runoob.com/w3cnote/cpp-keyword-intro.html</a></p><table><thead><tr><th align="center">asm</th><th align="center">else</th><th align="center">new</th><th align="center">this</th></tr></thead><tbody><tr><td align="center">auto</td><td align="center">enum</td><td align="center">operator</td><td align="center">throw</td></tr><tr><td align="center">bool</td><td align="center">explicit</td><td align="center">private</td><td align="center">true</td></tr><tr><td align="center">break</td><td align="center">export</td><td align="center">protected</td><td align="center">try</td></tr><tr><td align="center">case</td><td align="center">extern</td><td align="center">public</td><td align="center">typedef</td></tr><tr><td align="center">catch</td><td align="center">false</td><td align="center">register</td><td align="center">typeid</td></tr><tr><td align="center">char</td><td align="center">for</td><td align="center">return</td><td align="center">union</td></tr><tr><td align="center">const</td><td align="center">friend</td><td align="center">short</td><td align="center">unsigned</td></tr><tr><td align="center">const_cast</td><td align="center">goto</td><td align="center">signed</td><td align="center">using</td></tr><tr><td align="center">continue</td><td align="center">if</td><td align="center">sizeof</td><td align="center">virtual</td></tr><tr><td align="center">default</td><td align="center">inline</td><td align="center">static</td><td align="center">void</td></tr><tr><td align="center">delete</td><td align="center">int</td><td align="center">static_cast</td><td align="center">volatile</td></tr><tr><td align="center">do</td><td align="center">long</td><td align="center">struct</td><td align="center">wchar_t</td></tr><tr><td align="center">double</td><td align="center">mutable</td><td align="center">switch</td><td align="center">while</td></tr><tr><td align="center">dynamic_cast</td><td align="center">namespace</td><td align="center">template</td><td align="center">â€¦</td></tr></tbody></table><span id="more"></span><h1 id="å…¥å‘C"><a href="#å…¥å‘C" class="headerlink" title="å…¥å‘C++"></a>å…¥å‘C++</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span>         <span class="comment">//æ–‡ä»¶åŒ…å«ï¼ŒåŒ…å«iostreamæ ‡å‡†åº“</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;       <span class="comment">//å£°æ˜ä¸€ä¸ªå«stdçš„å‘½åç©ºé—´</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">string my_name;</span><br><span class="line"><span class="type">int</span> age;</span><br><span class="line">cin&gt;&gt;my_name&gt;&gt;age;</span><br><span class="line">cout&lt;&lt;my_name&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;age;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;\nHello C++ !&quot;</span>&lt;&lt;endl&lt;&lt;<span class="string">&quot;Nice&quot;</span>&lt;&lt;<span class="string">&quot;\n\n&quot;</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Nice to meet you !&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµæå–è¿ç®—ç¬¦<code>&gt;&gt;</code><br>æµæ’å…¥è¿ç®—ç¬¦<code>&lt;&lt;</code></p><h2 id="ä»€ä¹ˆæ˜¯å‘½åç©ºé—´"><a href="#ä»€ä¹ˆæ˜¯å‘½åç©ºé—´" class="headerlink" title="ä»€ä¹ˆæ˜¯å‘½åç©ºé—´"></a>ä»€ä¹ˆæ˜¯å‘½åç©ºé—´</h2><blockquote><p>å‘½åç©ºé—´(namespace)ä¸ºé˜²æ­¢åå­—å†²çªæä¾›äº†æ›´åŠ å¯æ§çš„æœºåˆ¶ã€‚</p></blockquote><blockquote><p>ä¸€ä¸ªå‘½åç©ºé—´çš„å®šä¹‰åŒ…å«ä¸¤éƒ¨åˆ†ï¼šé¦–å…ˆæ˜¯å…³é”®å­—namespaceï¼Œéšåæ˜¯å‘½åç©ºé—´çš„åå­—ã€‚åœ¨å‘½åç©ºé—´åå­—åé¢æ˜¯ä¸€ç³»åˆ—ç”±èŠ±æ‹¬å·æ‹¬èµ·æ¥çš„å£°æ˜å’Œå®šä¹‰ã€‚åªè¦èƒ½å‡ºç°åœ¨å…¨å±€ä½œç”¨åŸŸä¸­çš„å£°æ˜å°±èƒ½ç½®äºå‘½åç©ºé—´å†…ï¼Œä¸»è¦åŒ…æ‹¬ï¼šç±»ã€å˜é‡(åŠå…¶åˆå§‹åŒ–æ“ä½œ)ã€å‡½æ•°(åŠå…¶å®šä¹‰)ã€æ¨¡æ¿å’Œå…¶å®ƒå‘½åç©ºé—´ã€‚å‘½åç©ºé—´ç»“æŸåæ— é¡»åˆ†å·ï¼Œè¿™ä¸€ç‚¹ä¸å—ç±»ä¼¼ã€‚å’Œå…¶å®ƒåå­—ä¸€æ ·ï¼Œå‘½åç©ºé—´çš„åå­—ä¹Ÿå¿…é¡»åœ¨å®šä¹‰å®ƒçš„ä½œç”¨åŸŸå†…ä¿æŒå”¯ä¸€ã€‚å‘½åç©ºé—´æ—¢å¯ä»¥å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸå†…ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨å…¶å®ƒå‘½åç©ºé—´ä¸­ï¼Œä½†æ˜¯ä¸èƒ½å®šä¹‰åœ¨å‡½æ•°æˆ–ç±»çš„å†…éƒ¨ã€‚å‘½åç©ºé—´ä½œç”¨åŸŸåé¢æ— é¡»åˆ†å·ã€‚</p></blockquote><p><a href="https://blog.csdn.net/fengbingchun/article/details/78575978?utm_source=copy">https://blog.csdn.net/fengbingchun/article/details/78575978?utm_source=copy</a><br>åªæ˜¯æ–°æ ‡å‡†ä¸­ä½¿ç”¨ä¸å¸¦.hçš„å¤´æ–‡ä»¶åŒ…å«æ—¶ï¼Œå¿…é¡»è¦å£°æ˜å‘½åç©ºé—´ï¼Œå¹¶ä¸”åŒ…å«å¤´æ–‡ä»¶åœ¨å‰ï¼Œå£°æ˜ä½¿ç”¨çš„åå­—ç©ºé—´åœ¨åã€‚</p><p>ä¾‹å¦‚æ ‡å‡†C++åº“æä¾›çš„å¯¹è±¡éƒ½å­˜åœ¨stdè¿™ä¸ªæ ‡å‡†åå­—ä¸­ï¼Œæ¯”å¦‚cinï¼Œcoutï¼Œendlã€‚</p><h3 id="å†™æ³•â€“1"><a href="#å†™æ³•â€“1" class="headerlink" title="å†™æ³•â€“1"></a>å†™æ³•â€“1</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line">cin&gt;&gt;a;</span><br><span class="line">cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;**************************\n&quot;</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Hello World!&quot;</span>&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;**************************\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å†™æ³•â€“2"><a href="#å†™æ³•â€“2" class="headerlink" title="å†™æ³•â€“2"></a>å†™æ³•â€“2</h3><p>ä½¿ç”¨åŸŸé™å®šç¬¦<code>::</code>æ¥é€ä¸ªåˆ¶å®š,coutå’Œendlå‰é¢åˆ†åˆ«ç”¨std::æŒ‡æ˜ï¼Œè¡¨ç¤ºæ¥è‡ªstd</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">std::cin&gt;&gt;a;</span><br><span class="line">std::cout&lt;&lt;a&lt;&lt;std::endl;</span><br><span class="line">std::cout&lt;&lt;<span class="string">&quot;**************************\n&quot;</span>;</span><br><span class="line">std::cout&lt;&lt;<span class="string">&quot;Hello World!&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">std::cout&lt;&lt;<span class="string">&quot;**************************\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å†™æ³•â€“3"><a href="#å†™æ³•â€“3" class="headerlink" title="å†™æ³•â€“3"></a>å†™æ³•â€“3</h3><p>ç”¨usingå’ŒåŸŸé™å®šç¬¦ä¸€èµ·åˆ¶å®šç”¨å“ªäº›åå­—</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line">cin&gt;&gt;a;</span><br><span class="line">cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;**************************\n&quot;</span>;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;Hello World!&quot;</span>&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;**************************\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ç”¨cinå’Œcoutè¾“å…¥å’Œè¾“å‡ºæ•°æ®æ—¶ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ§åˆ¶æ•°æ®ç±»å‹å°±å¯ä»¥ä½¿ç”¨</p><p><img src="https://i.loli.net/2020/04/01/Ij7rbfRXvmPhQT3.png" class="lazyload" data-srcset="https://i.loli.net/2020/04/01/Ij7rbfRXvmPhQT3.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å“†å•¦Aæ¢¦"></p><hr><p>æ›´æ–°äº2018/10/4 23:15:56</p><hr><p><strong>I/Oåº“å¤´æ–‡ä»¶</strong></p><p><code>&lt;iostream&gt;ã€&lt;iomanip&gt;ã€&lt;fstream&gt;</code></p><table><thead><tr><th align="center">å¤´æ–‡ä»¶</th><th align="center">å‡½æ•°å’Œæè¿°</th></tr></thead><tbody><tr><td align="center">iostream</td><td align="center">è¯¥æ–‡ä»¶å®šä¹‰äº†cinã€coutã€cerrå’Œclogå¯¹è±¡ï¼Œåˆ†åˆ«å¯¹åº”äºæ ‡å‡†è¾“å…¥æµã€æ ‡å‡†è¾“å‡ºæµã€éç¼“å†²æ ‡å‡†é”™è¯¯å’Œç¼“å†²æ ‡å‡†é”™è¯¯æµ</td></tr><tr><td align="center">iomanip</td><td align="center">è¯¥æ–‡ä»¶é€šè¿‡æ‰€è°“çš„å‚æ•°åŒ–çš„æµæ“çºµå™¨ï¼ˆæ¯”å¦‚setwå’Œsetprecisionï¼‰ï¼Œæ¥å£°æ˜å¯¹æ‰§è¡Œæ ‡å‡†åŒ–I/Oæœ‰ç”¨çš„æœåŠ¡</td></tr><tr><td align="center">fstream</td><td align="center">è¯¥æ–‡ä»¶ä¸ºç”¨æˆ·æ§åˆ¶çš„æ–‡ä»¶å¤„ç†å£°æ˜æœåŠ¡</td></tr></tbody></table><hr>]]></content>
      
      
      <categories>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Requestsåº“å…¥é—¨(2)</title>
      <link href="/2018/10/01/Requests%E5%BA%93%E5%85%A5%E9%97%A8-2/"/>
      <url>/2018/10/01/Requests%E5%BA%93%E5%85%A5%E9%97%A8-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="requestsåº“å…¥é—¨å®æ“"><a href="#requestsåº“å…¥é—¨å®æ“" class="headerlink" title="requestsåº“å…¥é—¨å®æ“"></a>requestsåº“å…¥é—¨å®æ“</h1><ul><li>äº¬ä¸œå•†å“é¡µé¢çˆ¬å–</li><li>äºšé©¬é€Šå•†å“é¡µé¢çš„çˆ¬å–</li><li>ç™¾åº¦/360æœç´¢å…³é”®å­—æäº¤</li><li>IPåœ°å€å½’å±åœ°æŸ¥è¯¢</li><li>ç½‘ç»œå›¾ç‰‡çš„çˆ¬å–å’Œå‚¨å­˜</li></ul><span id="more"></span><h2 id="1-äº¬ä¸œå•†å“é¡µé¢çš„çˆ¬å–"><a href="#1-äº¬ä¸œå•†å“é¡µé¢çš„çˆ¬å–" class="headerlink" title="1.äº¬ä¸œå•†å“é¡µé¢çš„çˆ¬å–"></a>1.äº¬ä¸œå•†å“é¡µé¢çš„çˆ¬å–</h2><p><a href="https://item.jd.com/30185690434.html">åä¸ºnova3</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">GetHTMLText</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        <span class="keyword">return</span> r.text[:<span class="number">1000</span>]</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;çˆ¬å–å¤±è´¥&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    url = <span class="string">&quot;https://item.jd.com/30185690434.html&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(GetHTMLText(url))</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/04/01/jEGhayRogB56b37.png" class="lazyload" data-srcset="https://i.loli.net/2020/04/01/jEGhayRogB56b37.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¾“å‡º"></p><h2 id="2-äºšé©¬å­™å•†å“é¡µé¢çš„çˆ¬å–"><a href="#2-äºšé©¬å­™å•†å“é¡µé¢çš„çˆ¬å–" class="headerlink" title="2.äºšé©¬å­™å•†å“é¡µé¢çš„çˆ¬å–"></a>2.äºšé©¬å­™å•†å“é¡µé¢çš„çˆ¬å–</h2><p>æŸäº›ç½‘ç«™å¯èƒ½æœ‰åçˆ¬æœºåˆ¶ã€‚é€šå¸¸çš„åçˆ¬ç­–ç•¥æœ‰:</p><ol><li>é€šè¿‡Headersåçˆ¬è™«</li><li>åŸºäºç”¨æˆ·è¡Œä¸ºåçˆ¬è™«</li><li>åŠ¨æ€é¡µé¢çš„åçˆ¬è™«</li></ol><p><a href="https://www.cnblogs.com/sishuinianhua/p/5501883.html">å‚è€ƒ</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¦‚ç½‘ç«™å¯¹Headersçš„User-Agentè¿›è¡Œæ£€æµ‹ï¼Œå¯å®šåˆ¶è¯·æ±‚å¤´ä¼ªè£…æˆæµè§ˆå™¨</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">GetHTMLText</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment">#å®šåˆ¶è¯·æ±‚å¤´</span></span><br><span class="line">        headers = &#123;<span class="string">&quot;user-agent&quot;</span>:<span class="string">&quot;Mozilla/5.0&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">        r = requests.get(url,headers = headers)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        <span class="keyword">return</span> r.text[:<span class="number">1000</span>]</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;çˆ¬å–å¤±è´¥&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    url = <span class="string">&quot;https://www.amazon.cn/gp/product/B01M8L5Z3Y&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(GetHTMLText(url))</span><br></pre></td></tr></table></figure><h2 id="3-ç™¾åº¦-360æœç´¢å…³é”®å­—æäº¤"><a href="#3-ç™¾åº¦-360æœç´¢å…³é”®å­—æäº¤" class="headerlink" title="3.ç™¾åº¦/360æœç´¢å…³é”®å­—æäº¤"></a>3.ç™¾åº¦/360æœç´¢å…³é”®å­—æäº¤</h2><p>ä½¿ç”¨paramså‚æ•°,åˆ©ç”¨æ¥å£keyword</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç™¾åº¦æœç´¢å¼•æ“å…³é”®è¯æäº¤æ¥å£: http://www.baidu.com/s?wd=keyword</span></span><br><span class="line"><span class="comment">#360æœç´¢å¼•æ“å…³é”®è¯æäº¤æ¥å£: http://www.so.com/s?q=keyword</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Get</span>(<span class="params">url</span>):</span><br><span class="line">    headers = &#123;<span class="string">&#x27;user-agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0&#x27;</span>&#125;</span><br><span class="line">    key_word = &#123;<span class="string">&#x27;wd&#x27;</span>:<span class="string">&#x27;python&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r=requests.get(url,headers=headers,params=key_word)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        <span class="built_in">print</span>(r.request.url)</span><br><span class="line">        <span class="comment">#return r.request.url</span></span><br><span class="line">        <span class="keyword">return</span> r.text</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;çˆ¬å–å¤±è´¥&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    url = <span class="string">&quot;http://www.baidu.com/s&quot;</span></span><br><span class="line">    <span class="comment">#print(Get(url))</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">len</span>(Get(url)))</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/04/01/HqX9RTdiLbB6Uok.png" class="lazyload" data-srcset="https://i.loli.net/2020/04/01/HqX9RTdiLbB6Uok.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="è¾“å‡º"></p><h2 id="4-IPåœ°å€å½’å±åœ°æŸ¥è¯¢"><a href="#4-IPåœ°å€å½’å±åœ°æŸ¥è¯¢" class="headerlink" title="4.IPåœ°å€å½’å±åœ°æŸ¥è¯¢"></a>4.IPåœ°å€å½’å±åœ°æŸ¥è¯¢</h2><p>ä½¿ç”¨IP138çš„APIæ¥å£<br><a href="http://m.ip138.com/ip.asp?ip=ipaddress">http://m.ip138.com/ip.asp?ip=ipaddress</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ipåœ°å€æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url =<span class="string">&quot;http://m.ip138.com/ip.asp?ip=&quot;</span></span><br><span class="line">ip = <span class="built_in">str</span>(<span class="built_in">input</span>())</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    r= requests.get(url+ip)</span><br><span class="line">    r.raise_for_status()</span><br><span class="line">    <span class="built_in">print</span>(r.status_code)</span><br><span class="line">    <span class="comment">#r.encoding = r.apparent_encoding</span></span><br><span class="line">    <span class="built_in">print</span>(r.text[-<span class="number">500</span>:])</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;failed&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="http://pflr7ix8q.bkt.clouddn.com/GIF.gif" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/GIF.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demo"></p><h2 id="5-ç½‘ç»œå›¾ç‰‡çš„çˆ¬å–å’Œå‚¨å­˜"><a href="#5-ç½‘ç»œå›¾ç‰‡çš„çˆ¬å–å’Œå‚¨å­˜" class="headerlink" title="5.ç½‘ç»œå›¾ç‰‡çš„çˆ¬å–å’Œå‚¨å­˜"></a>5.ç½‘ç»œå›¾ç‰‡çš„çˆ¬å–å’Œå‚¨å­˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># spider_for_imgs</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://n.sinaimg.cn/sinacn12/w495h787/20180315/1923-fyscsmv9949374.jpg&quot;</span></span><br><span class="line"><span class="comment">#C:\Users\Administrator\Desktop\spider\first week\imgs/</span></span><br><span class="line">root = <span class="string">&quot;C://Users/Administrator/Desktop/spider/first week/imgs/&quot;</span></span><br><span class="line"></span><br><span class="line">path = root + url.split(<span class="string">&#x27;/&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(root):</span><br><span class="line">        os.mkdir(root)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):</span><br><span class="line">        r = requests.get(url)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(path, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(r.content)</span><br><span class="line">            f.close()</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;save successfully!&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;file already exist!&quot;</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;spider fail&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="http://pflr7ix8q.bkt.clouddn.com/122.gif" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/122.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demo"></p><p><img src="http://pflr7ix8q.bkt.clouddn.com/1923-fyscsmv9949374.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/1923-fyscsmv9949374.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demo1"></p><hr>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Requests </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¼˜é›…çš„Markdownï¼ˆ2ï¼‰</title>
      <link href="/2018/09/30/%E4%BC%98%E9%9B%85%E7%9A%84Markdown%EF%BC%882%EF%BC%89/"/>
      <url>/2018/09/30/%E4%BC%98%E9%9B%85%E7%9A%84Markdown%EF%BC%882%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Markdownç¼–è¾‘å™¨ä½¿ç”¨-MarkdownPad2"><a href="#Markdownç¼–è¾‘å™¨ä½¿ç”¨-MarkdownPad2" class="headerlink" title="Markdownç¼–è¾‘å™¨ä½¿ç”¨-MarkdownPad2"></a>Markdownç¼–è¾‘å™¨ä½¿ç”¨-MarkdownPad2</h1><blockquote><p>imgurå·²è¢«GFWå¹²æ‰</p></blockquote><h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><table><thead><tr><th align="center"></th><th align="center"></th></tr></thead><tbody><tr><td align="center">ç²—ä½“</td><td align="center">ctrl+B</td></tr><tr><td align="center">æ–œä½“</td><td align="center">ctrl+I</td></tr><tr><td align="center">å¼•ç”¨</td><td align="center">ctrl+Q</td></tr><tr><td align="center">ä»£ç </td><td align="center">ctrl+K</td></tr><tr><td align="center">è¶…é“¾æ¥</td><td align="center">ctrl+L</td></tr><tr><td align="center">å›¾ç‰‡</td><td align="center">ctrl+G</td></tr><tr><td align="center">æ— åºåˆ—è¡¨</td><td align="center">ctrl+U</td></tr><tr><td align="center">æœ‰åºåˆ—è¡¨</td><td align="center">ctrl+shift+O</td></tr><tr><td align="center">æ°´å¹³æ ‡å°º</td><td align="center">ctrl+R</td></tr><tr><td align="center">æ—¶é—´æˆ³</td><td align="center">ctrl+T</td></tr><tr><td align="center">æ’¤é”€</td><td align="center">ctrl+Z</td></tr><tr><td align="center">é‡åš</td><td align="center">ctrl+Y</td></tr></tbody></table><span id="more"></span><h2 id="æ’å…¥å›¾ç‰‡æ—¶é—´å¯ä½¿ç”¨MarkdownPad2é»˜è®¤çš„å›¾åºŠ"><a href="#æ’å…¥å›¾ç‰‡æ—¶é—´å¯ä½¿ç”¨MarkdownPad2é»˜è®¤çš„å›¾åºŠ" class="headerlink" title="æ’å…¥å›¾ç‰‡æ—¶é—´å¯ä½¿ç”¨MarkdownPad2é»˜è®¤çš„å›¾åºŠ"></a>æ’å…¥å›¾ç‰‡æ—¶é—´å¯ä½¿ç”¨MarkdownPad2é»˜è®¤çš„å›¾åºŠ</h2><p><img src="http://pflr7ix8q.bkt.clouddn.com/qIWhafe.gif" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/qIWhafe.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="demo"></p><p>MarkdownPad2ä½¿ç”¨çš„é»˜è®¤å›¾åºŠæ˜¯<a href="https://imgur.com/">imgur</a></p><p><img src="http://pflr7ix8q.bkt.clouddn.com/tSexzok.gif" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/tSexzok.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="å›¾ç‰‡æ¼”ç¤º"></p><h2 id="æ’å…¥è§†é¢‘æ¼”ç¤º"><a href="#æ’å…¥è§†é¢‘æ¼”ç¤º" class="headerlink" title="æ’å…¥è§†é¢‘æ¼”ç¤º"></a>æ’å…¥è§†é¢‘æ¼”ç¤º</h2><p><a href="https://imgur.com/Uuabq5B">æˆ³è¿™é‡Œ</a></p><p><img src="http://pflr7ix8q.bkt.clouddn.com/wocao.gif" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/wocao.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="gifæ¼”ç¤º"></p>]]></content>
      
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®€å•çˆ¬è™«</title>
      <link href="/2018/09/29/%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB/"/>
      <url>/2018/09/29/%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Requestsåº“å…¥é—¨"><a href="#Requestsåº“å…¥é—¨" class="headerlink" title="Requestsåº“å…¥é—¨"></a>Requestsåº“å…¥é—¨</h1><blockquote><ul><li><a href="http://www.python-requests.org/en/master/">http://www.python-requests.org/en/master/</a></li><li><a href="http://www.python-requests.org/en/master/">requests</a></li></ul></blockquote><h2 id="Requestsåº“çš„7ä¸ªä¸»è¦æ–¹æ³•"><a href="#Requestsåº“çš„7ä¸ªä¸»è¦æ–¹æ³•" class="headerlink" title="Requestsåº“çš„7ä¸ªä¸»è¦æ–¹æ³•"></a>Requestsåº“çš„7ä¸ªä¸»è¦æ–¹æ³•</h2><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">requests.request()</td><td align="center">æ„é€ ä¸€ä¸ªè¯·æ±‚ï¼Œæ”¯æ’‘ä»¥ä¸‹å„æ–¹æ³•çš„åŸºæœ¬æ–¹æ³•</td></tr><tr><td align="center">requests.get()</td><td align="center">è·å–HTMLç½‘é¢çš„æ–¹æ³•</td></tr><tr><td align="center">requests.head()</td><td align="center">è·å–HTMLç½‘é¡µå¤´éƒ¨ä¿¡æ¯çš„æ–¹æ³•</td></tr><tr><td align="center">requests.post()</td><td align="center">å‘HTMLç½‘é¡µæäº¤POSTè¯·æ±‚çš„æ–¹æ³•</td></tr><tr><td align="center">requests.put()</td><td align="center">å‘HTMLé¡µé¢æäº¤PUTè¯·æ±‚çš„æ–¹æ³•</td></tr><tr><td align="center">requests.patch()</td><td align="center">å‘HTMLç½‘é¡µæäº¤å±€éƒ¨ä¿®æ”¹è¯·æ±‚</td></tr><tr><td align="center">requests.delete()</td><td align="center">å‘HTMLç½‘é¡µæäº¤åˆ é™¤è¯·æ±‚</td></tr></tbody></table><span id="more"></span><h2 id="Requestsåº“çš„get-æ–¹æ³•"><a href="#Requestsåº“çš„get-æ–¹æ³•" class="headerlink" title="Requestsåº“çš„get()æ–¹æ³•"></a>Requestsåº“çš„get()æ–¹æ³•</h2><p><code>requests.get(url,params=None,**kwargs)</code></p><ol><li>urlï¼šæ‹Ÿè·å–é¡µé¢çš„urlé“¾æ¥</li><li>paramsï¼šurlä¸­çš„é¢å¤–å‚æ•°ï¼Œå­—å…¸æˆ–å­—èŠ‚æµæ ¼å¼ï¼Œå¯é€‰</li><li>**kwargsï¼š12ä¸ªæ§åˆ¶è®¿é—®çš„å‚æ•°</li></ol><p> <code>r = requests.get(url)</code></p><ul><li>rä¸ºä¸€ä¸ªåŒ…å«æœåŠ¡å™¨èµ„æºçš„Responseå¯¹è±¡(å³ä¸ºrequests.get()è¿”å›å†…å®¹)</li><li>get()æ–¹æ³•å’Œurlæ„é€ äº†ä¸€ä¸ªå‘æœåŠ¡å™¨è¯·æ±‚èµ„æºçš„Requestå¯¹è±¡</li></ul><h3 id="Responseå¯¹è±¡"><a href="#Responseå¯¹è±¡" class="headerlink" title="Responseå¯¹è±¡"></a>Responseå¯¹è±¡</h3><p>Responseå¯¹è±¡åŒ…å«æœåŠ¡å™¨åå›çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä¹ŸåŒ…å«è¯·æ±‚çš„Requestä¿¡æ¯</p><h5 id="Responseå¯¹è±¡çš„å±æ€§"><a href="#Responseå¯¹è±¡çš„å±æ€§" class="headerlink" title="Responseå¯¹è±¡çš„å±æ€§"></a>Responseå¯¹è±¡çš„å±æ€§</h5><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">r.stats_code</td><td align="center">HTTPè¯·æ±‚çš„è¿”å›çŠ¶æ€ï¼Œ200è¡¨ç¤ºè¿æ¥æˆåŠŸ</td></tr><tr><td align="center">r.txt</td><td align="center">HTTPå“åº”çš„å­—ç¬¦ä¸²å½¢å¼</td></tr><tr><td align="center">r.encoding</td><td align="center">ä»HTTP headerä¸­çŒœæµ‹çš„å“åº”æ–¹å¼çš„å†…å®¹ç¼–ç </td></tr><tr><td align="center">r.apparent_enconding</td><td align="center">ä»å†…å®¹ä¸­åˆ†æå‡ºçš„å“åº”å†…å®¹ç¼–ç æ–¹å¼ï¼ˆå¤‡é€‰ç¼–ç æ–¹å¼ï¼‰</td></tr><tr><td align="center">r.content</td><td align="center">HTTPå“åº”å†…å®¹ç¼–ç çš„äºŒè¿›åˆ¶å½¢å¼</td></tr></tbody></table><ol><li>r.encoding:å¦‚æœcharsetä¸å­˜åœ¨ï¼Œåˆ™é»˜è®¤ç¼–ç ä¸ºISO-8859-1ï¼Œr.textæ ¹æ®r.encodingæ˜¾ç¤ºç½‘é¡µå†…å®¹</li><li>r.apparent_encodingï¼šæ ¹æ®ç½‘é¡µå†…å®¹åˆ†æå‡ºçš„ç¼–ç æ–¹å¼</li></ol><p><font size="3" color="green">ç†è§£Responseå¼‚å¸¸</font><br><code>r.raise_for_status()</code>å¦‚æœä¸æ˜¯200ï¼Œäº§ç”Ÿå¼‚å¸¸requests.HTTPErrorå¼‚å¸¸</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r.raise_for_status()åœ¨æ–¹æ³•å†…éƒ¨åˆ¤æ–­r.statu_codeæ˜¯å¦ç­‰äº200ï¼Œä¸éœ€è¦å¢åŠ é¢å¤–çš„ifè¯­å¥ï¼Œè¯¥è¯­å¥ä¾¿äºtry-exceptè¿›è¡Œå¼‚å¸¸å¤„ç†</span><br></pre></td></tr></table></figure><h3 id="Requestsåº“çš„å¼‚å¸¸"><a href="#Requestsåº“çš„å¼‚å¸¸" class="headerlink" title="Requestsåº“çš„å¼‚å¸¸"></a>Requestsåº“çš„å¼‚å¸¸</h3><table><thead><tr><th align="center">å¼‚å¸¸</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">requests.ConnectonError</td><td align="center">ç½‘è·¯è¿æ¥é”™è¯¯å¼‚å¸¸</td></tr><tr><td align="center">requests.HTTPError</td><td align="center">HTTPé”™è¯¯å¼‚å¸¸</td></tr><tr><td align="center">requests.URLRequire</td><td align="center">URLç¼ºå¤±å¼‚å¸¸</td></tr><tr><td align="center">requests.TooManyRedirects</td><td align="center">è¶…è¿‡æœ€å¤§é‡å®šå‘æ¬¡æ•°ï¼Œäº§ç”Ÿé‡å®šå‘å¼‚å¸¸</td></tr><tr><td align="center">requests.ConnectTimeout</td><td align="center">è¿æ¥è¿œç¨‹æœåŠ¡å™¨å¼‚å¸¸</td></tr><tr><td align="center">requests.Timeout</td><td align="center">è¯·æ±‚URLè¶…æ—¶ï¼Œäº§ç”Ÿè¶…æ—¶å¼‚å¸¸</td></tr></tbody></table><h2 id="pythonçˆ¬å–ç½‘é¡µä»£ç é€šç”¨æ¡†æ¶"><a href="#pythonçˆ¬å–ç½‘é¡µä»£ç é€šç”¨æ¡†æ¶" class="headerlink" title="pythonçˆ¬å–ç½‘é¡µä»£ç é€šç”¨æ¡†æ¶"></a>pythonçˆ¬å–ç½‘é¡µä»£ç é€šç”¨æ¡†æ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment">#import time</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getHTMLText</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url,timeout = <span class="number">30</span>)</span><br><span class="line">        r.raise_for_status()<span class="comment">#å¦‚æœçŠ¶æ€ä¸æ˜¯200ï¼Œäº§ç”ŸHTTPErrorå¼‚å¸¸</span></span><br><span class="line">        <span class="comment">#print(r.status_code)</span></span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        <span class="keyword">return</span> r.text</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;äº§ç”Ÿå¼‚å¸¸&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    url = <span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(getHTMLText(url))</span><br></pre></td></tr></table></figure><h2 id="Requestsåº“çš„request-æ–¹æ³•"><a href="#Requestsåº“çš„request-æ–¹æ³•" class="headerlink" title="Requestsåº“çš„request()æ–¹æ³•"></a>Requestsåº“çš„request()æ–¹æ³•</h2><pre><code>requests.request(method, url, **kwargs)</code></pre><ul><li>method: è¯·æ±‚æ–¹å¼ï¼Œå¯¹åº”get/put/deleteç­‰7ç§</li><li>url:æ‹Ÿè·å–é¡µé¢çš„urlé“¾æ¥</li><li>**kwargs: æ§åˆ¶è®¿é—®çš„å‚æ•°</li></ul><h3 id="kwargs-æ§åˆ¶è®¿é—®å‚æ•°ï¼Œï¼ˆå¯é€‰ï¼‰"><a href="#kwargs-æ§åˆ¶è®¿é—®å‚æ•°ï¼Œï¼ˆå¯é€‰ï¼‰" class="headerlink" title="kwargs:æ§åˆ¶è®¿é—®å‚æ•°ï¼Œï¼ˆå¯é€‰ï¼‰"></a>kwargs:æ§åˆ¶è®¿é—®å‚æ•°ï¼Œï¼ˆå¯é€‰ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">paramsï¼šå­—å…¸æˆ–å­—èŠ‚åºåˆ—ï¼Œä½œä¸ºå‚æ•°å¢åŠ åˆ°URLä¸­</span><br><span class="line">dataï¼šå­—å…¸ã€å­—èŠ‚åºåˆ—æˆ–æ–‡ç« å¯¹è±¡ï¼Œä½œä¸ºRequestçš„å†…å®¹</span><br><span class="line">jsonï¼šJsonæ ¼å¼çš„æ•°æ®</span><br><span class="line">headersï¼šHTTPå®šåˆ¶å¤´</span><br><span class="line">cookiesï¼šå­—å…¸æˆ–CookieJarï¼ŒRequestä¸­çš„cookie</span><br><span class="line">authï¼šå…ƒç»„ï¼Œæ”¯æŒHTTPè®¤è¯åŠŸèƒ½</span><br><span class="line">fileï¼šå­—å…¸ç±»å‹ï¼Œä¼ è¾“æ–‡ä»¶</span><br><span class="line">timeoutï¼šè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’</span><br><span class="line">proxiesï¼šå­—å…¸ç±»å‹ï¼Œè®¾å®šè®¿é—®ä»£ç†æœåŠ¡å™¨ï¼Œå¯ä»¥å¢åŠ ç™»å½•è®¤è¯</span><br><span class="line">allow_redirectsï¼šTrue/Falseï¼Œé»˜è®¤ä¸ºTrueï¼Œé‡å®šå‘å¼€å…³</span><br><span class="line">stremï¼šTrue/Falseï¼Œé»˜è®¤ä¸ºTrueï¼Œè·å–é¡µé¢ç«‹å³ä¸‹è½½å¼€å…³</span><br><span class="line">verifyï¼šTrue/Falseï¼Œé»˜è®¤ä¸ºTrue,è®¤è¯SSlè¯ä¹¦å¼€å…³</span><br><span class="line">certï¼šæœ¬åœ°SSLè¯ä¹¦</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Requests </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘æ˜“äº‘éŸ³ä¹å¤–é“¾æ’å…¥æµ‹è¯•</title>
      <link href="/2018/09/28/music/"/>
      <url>/2018/09/28/music/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ç½‘æ˜“äº‘éŸ³ä¹"><a href="#ç½‘æ˜“äº‘éŸ³ä¹" class="headerlink" title="ç½‘æ˜“äº‘éŸ³ä¹"></a>ç½‘æ˜“äº‘éŸ³ä¹</h1><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=100% height=86 src="//music.163.com/outchain/player?type=2&id=2788529&auto=0&height=66"></iframe><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=100% height=86 src="//music.163.com/outchain/player?type=2&id=4341314&auto=1&height=66"></iframe><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¼˜é›…çš„Markdown</title>
      <link href="/2018/09/28/%E4%BC%98%E9%9B%85%E7%9A%84Markdown/"/>
      <url>/2018/09/28/%E4%BC%98%E9%9B%85%E7%9A%84Markdown/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Markdownæµ…å°"><a href="#Markdownæµ…å°" class="headerlink" title="Markdownæµ…å°"></a>Markdownæµ…å°</h1><h2 id="ä¸€ã€å‹¾é€‰æ¡†"><a href="#ä¸€ã€å‹¾é€‰æ¡†" class="headerlink" title="ä¸€ã€å‹¾é€‰æ¡†"></a>ä¸€ã€å‹¾é€‰æ¡†</h2><p><strong>æ³¨æ„[]å‰åéƒ½è¦æœ‰ç©ºæ ¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- [x] å¹²çš„æ¼‚äº®</span><br><span class="line">- [x] åƒé¥­</span><br><span class="line">- [x] å†™ä»£ç </span><br><span class="line">- [ ] ç¡è§‰</span><br></pre></td></tr></table></figure><ul><li><input checked="" disabled="" type="checkbox"> å¹²çš„æ¼‚äº®</li><li><input checked="" disabled="" type="checkbox"> åƒé¥­</li><li><input checked="" disabled="" type="checkbox"> å†™ä»£ç </li><li><input disabled="" type="checkbox"> ç¡è§‰<span id="more"></span></li></ul><h2 id="äºŒã€åˆ—è¡¨"><a href="#äºŒã€åˆ—è¡¨" class="headerlink" title="äºŒã€åˆ—è¡¨"></a>äºŒã€åˆ—è¡¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#æ— åºåˆ—åˆ—è¡¨ * æ¢æˆ - ä¹Ÿè¡Œ</span><br><span class="line">* ä½ </span><br><span class="line">* ä½ å¥½</span><br><span class="line">* ä½ å¥½å‘€</span><br><span class="line">- ä½ å¾ˆå¥½å•Š</span><br></pre></td></tr></table></figure><ul><li>ä½ </li><li>ä½ å¥½</li><li>ä½ å¥½å‘€</li></ul><ul><li>ä½ å¾ˆå¥½å•Š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#æœ‰åºåˆ—è¡¨ . åé¢æœ‰ä¸ªç©ºæ ¼</span><br><span class="line">1. æˆ‘</span><br><span class="line">2. æ˜¯æˆ‘</span><br><span class="line">3. æ˜¯æˆ‘å‘€</span><br><span class="line">4. è¿˜æ˜¯æˆ‘å‘€</span><br></pre></td></tr></table></figure><ol><li>æˆ‘</li><li>æ˜¯æˆ‘</li><li>æ˜¯æˆ‘å‘€</li><li>è¿˜æ˜¯æˆ‘å‘€</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#å¤šçº§åˆ—è¡¨</span><br><span class="line">* æ•°å­¦</span><br><span class="line">* é«˜ç­‰ä»£æ•°</span><br><span class="line">* è§£æå‡ ä½•</span><br><span class="line">* ç¦»æ•£æ•°å­¦</span><br><span class="line">* æ•°å­¦åˆ†æ</span><br><span class="line">* å®å˜å‡½æ•°</span><br></pre></td></tr></table></figure><ul><li>æ•°å­¦<ul><li>é«˜ç­‰ä»£æ•°</li><li>è§£æå‡ ä½•<ul><li>ç¦»æ•£æ•°å­¦</li><li>æ•°å­¦åˆ†æ<ul><li>å®å˜å‡½æ•°</li></ul></li></ul></li></ul></li></ul><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| å§“å | æ€§åˆ« | æ˜¯å¦åŒæ€§æ‹ |</span><br><span class="line">| ---- |---- | --------- |</span><br><span class="line">|å¼ ä¸‰|ç”·|å¦|</span><br><span class="line">|æå››|ç”·|æ˜¯|</span><br></pre></td></tr></table></figure><table><thead><tr><th>å§“å</th><th>æ€§åˆ«</th><th>æ˜¯å¦åŒæ€§æ‹</th></tr></thead><tbody><tr><td>å¼ ä¸‰</td><td>ç”·</td><td>å¦</td></tr><tr><td>æå››</td><td>ç”·</td><td>æ˜¯</td></tr></tbody></table><h3 id="å¯ç”¨-è®¾ç½®å¯¹é½æ–¹å¼"><a href="#å¯ç”¨-è®¾ç½®å¯¹é½æ–¹å¼" class="headerlink" title="å¯ç”¨:è®¾ç½®å¯¹é½æ–¹å¼"></a>å¯ç”¨<code>:</code>è®¾ç½®å¯¹é½æ–¹å¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| å§“å | æ€§åˆ« | æ˜¯å¦åŒæ€§æ‹ |</span><br><span class="line">| ---- |:----: | :---------:|</span><br><span class="line">|å¼ ä¸‰|ç”·|å¦|</span><br><span class="line">|æå››|ç”·|æ˜¯|</span><br></pre></td></tr></table></figure><table><thead><tr><th>å§“å</th><th align="center">æ€§åˆ«</th><th align="center">æ˜¯å¦åŒæ€§æ‹</th></tr></thead><tbody><tr><td>å¼ ä¸‰</td><td align="center">ç”·</td><td align="center">å¦</td></tr><tr><td>æå››</td><td align="center">ç”·</td><td align="center">æ˜¯</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| å§“å | æ€§åˆ« | æ˜¯å¦åŒæ€§æ‹ |</span><br><span class="line">| ---- |----: | :---------:|</span><br><span class="line">|å¼ ä¸‰|ç”·|å¦|</span><br><span class="line">|æå››|ç”·|æ˜¯|</span><br></pre></td></tr></table></figure><table><thead><tr><th>å§“å</th><th align="right">æ€§åˆ«</th><th align="center">æ˜¯å¦åŒæ€§æ‹</th></tr></thead><tbody><tr><td>å¼ ä¸‰</td><td align="right">ç”·</td><td align="center">å¦</td></tr><tr><td>æå››</td><td align="right">ç”·</td><td align="center">æ˜¯</td></tr></tbody></table><h2 id="æ’å…¥ä»£ç "><a href="#æ’å…¥ä»£ç " class="headerlink" title="æ’å…¥ä»£ç "></a>æ’å…¥ä»£ç </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#è¡Œå†…ä»£ç </span><br><span class="line">`printf(&quot;hello world!&quot;);`</span><br></pre></td></tr></table></figure><p><code>printf(&quot;hello world!&quot;);</code></p><p><strong>ä»£ç å—</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#æ¯è¡Œå‰å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªtab</span><br><span class="line">php:echo &quot;Hello World&quot;</span><br><span class="line">VBscriptï¼šMsgbox &quot;Hello World&quot;</span><br></pre></td></tr></table></figure><pre><code>php:echo &quot;Hello World&quot;VBscriptï¼šMsgbox &quot;Hello World&quot;</code></pre><p><del><em><strong>æœ‰è¡Œæ ‡ä»£ç å—</strong></em></del><br><img src="http://pflr7ix8q.bkt.clouddn.com/18-9-28/60378882.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/18-9-28/60378882.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><del><em><strong>æ— è¡Œæ ‡</strong></em></del><br><img src="http://pflr7ix8q.bkt.clouddn.com/18-9-28/72647084.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/18-9-28/72647084.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure><p><u>bashæ¢æˆpython</u>ä½¿ç”¨è¯­æ³•é«˜äº®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#ä¸‹åˆ’çº¿ä½¿ç”¨&lt;u&gt;</span><br><span class="line">&lt;u&gt;bashæ¢æˆpython&lt;/u&gt;</span><br><span class="line">#æ¢è¡Œä½¿ç”¨&lt;br/&gt;ã€&lt;br&gt;</span><br></pre></td></tr></table></figure><p>ç¬é—´å‘ç°æ²¡ä»€ä¹ˆåŒºåˆ«</p><hr><h2 id="æ›´æ–°äº2018-10-1-11-05-19"><a href="#æ›´æ–°äº2018-10-1-11-05-19" class="headerlink" title="æ›´æ–°äº2018/10/1 11:05:19"></a>æ›´æ–°äº2018/10/1 11:05:19</h2><h2 id="ä¸Šä¸‹æ ‡-ä½¿ç”¨-lt-sup-gt-ã€-lt-sub-gt"><a href="#ä¸Šä¸‹æ ‡-ä½¿ç”¨-lt-sup-gt-ã€-lt-sub-gt" class="headerlink" title="ä¸Šä¸‹æ ‡,ä½¿ç”¨&lt;sup&gt;ã€&lt;sub&gt;"></a>ä¸Šä¸‹æ ‡,ä½¿ç”¨<code>&lt;sup&gt;ã€&lt;sub&gt;</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y=x&lt;sup&gt;2&lt;/sup&gt;</span><br><span class="line">H&lt;sub&gt;2&lt;/sub&gt;O&lt;sub&gt;2&lt;/sub&gt;</span><br></pre></td></tr></table></figure><p>y=x<sup>2</sup><br>H<sub>2</sub>O<sub>2</sub></p><h2 id="åæ–œæ çš„ä½¿ç”¨"><a href="#åæ–œæ çš„ä½¿ç”¨" class="headerlink" title="åæ–œæ çš„ä½¿ç”¨"></a>åæ–œæ çš„ä½¿ç”¨</h2><p>ä½¿ç”¨åæ–œæ å¯ä»¥é¿å…æ–‡æœ¬ä¸­çš„ç¬¦å·è¢«å½“ä½œmarkdownæ ‡è¯†ç¬¦è€Œå‘ç”Ÿä¸å¿…è¦çš„è½¬æ¢</p><p>ä¾‹å¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\!</span><br><span class="line">\()</span><br><span class="line">\**ä¸æ˜¯ç²—ä½“**</span><br><span class="line">\# ä¸æ˜¯ä¸€çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><p>!<br>()<br>*<em>ä¸æ˜¯ç²—ä½“</em>*<br># ä¸æ˜¯ä¸€çº§æ ‡é¢˜</p><h2 id="ä½¿ç”¨ç¼©è¿›"><a href="#ä½¿ç”¨ç¼©è¿›" class="headerlink" title="ä½¿ç”¨ç¼©è¿›"></a>ä½¿ç”¨ç¼©è¿›</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¸æ–­è¡Œçš„ç©ºç™½æ ¼  &amp;nbsp;  æˆ–  &amp;#160;</span><br><span class="line">åŠè§’çš„ç©ºæ ¼      &amp;ensp;  æˆ–  &amp;#8194;</span><br><span class="line">å…¨è§’çš„ç©ºæ ¼      &amp;emsp;  æˆ–  &amp;#8195;</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹:</span><br><span class="line">&amp;ensp; &amp;enspä»Šå¤©å¤©æ°”å¥½å•Š</span><br><span class="line">&amp;emsp;&amp;emsp;æ„Ÿè§‰å€çˆ½å•Š</span><br></pre></td></tr></table></figure><p>&ensp;&ensp;ä»Šå¤©å¤©æ°”å¥½å•Š<br>&emsp;&emsp;æ„Ÿè§‰å€çˆ½å•Š</p><p><u><em><strong>ä¸è¦å¿˜äº†è‹±æ–‡çš„åˆ†å·</strong></em></u><br>å‚è€ƒè‡ª<a href="https://www.jianshu.com/p/8b41aa1fcf01">zhouie</a></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢æ­å»ºå†ç¨‹ï¼ˆ4ï¼‰</title>
      <link href="/2018/09/27/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%884%EF%BC%89/"/>
      <url>/2018/09/27/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%884%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="åšå®¢è¯„è®ºç³»ç»Ÿçš„é€‰æ‹©"><a href="#åšå®¢è¯„è®ºç³»ç»Ÿçš„é€‰æ‹©" class="headerlink" title="åšå®¢è¯„è®ºç³»ç»Ÿçš„é€‰æ‹©"></a>åšå®¢è¯„è®ºç³»ç»Ÿçš„é€‰æ‹©</h1><blockquote><p>æ€€å¿µæ–‡ï¼šå½“æ—¶ä½¿ç”¨çš„ä¸»é¢˜æ˜¯ yilla</p></blockquote><h4 id="å…¶ä»–è¯„è®ºç³»ç»Ÿå‚è€ƒ"><a href="#å…¶ä»–è¯„è®ºç³»ç»Ÿå‚è€ƒ" class="headerlink" title="å…¶ä»–è¯„è®ºç³»ç»Ÿå‚è€ƒ"></a><a href="https://blog.csdn.net/weixin_41196185/article/details/79178780">å…¶ä»–è¯„è®ºç³»ç»Ÿå‚è€ƒ</a></h4><p><font color="red">ç»è¿‡ä¸€æ³¢æŠ˜è…¾ï¼Œæœ€ç»ˆé€‰æ‹©äº†Valine</font><br><font size="4" color="green">æˆ‘å–œæ¬¢å®ƒçš„åŒ¿åè¯„è®ºï¼Œ23333ï¼ï¼ï¼</font></p><h3 id="å‚è€ƒæ•™ç¨‹-ä½œè€…çš„åšå®¢"><a href="#å‚è€ƒæ•™ç¨‹-ä½œè€…çš„åšå®¢" class="headerlink" title="å‚è€ƒæ•™ç¨‹ ä½œè€…çš„åšå®¢"></a>å‚è€ƒæ•™ç¨‹ <a href="https://ioliu.cn/2017/add-valine-comments-to-your-blog/">ä½œè€…çš„åšå®¢</a></h3><p><a href="https://valine.js.org/">Valineæ–‡æ¡£</a></p><ul><li><a href="https://github.com/litten/hexo-theme-yilia/pull/646">https://github.com/litten/hexo-theme-yilia/pull/646</a></li><li><a href="https://www.xxwhite.com/2017/Valine.html">https://www.xxwhite.com/2017/Valine.html</a></li><li><a href="https://panjunwen.com/diy-a-comment-system/">https://panjunwen.com/diy-a-comment-system/</a></li></ul><span id="more"></span><h2 id="å®‰è£…è¿‡ç¨‹ç®€è®°"><a href="#å®‰è£…è¿‡ç¨‹ç®€è®°" class="headerlink" title="å®‰è£…è¿‡ç¨‹ç®€è®°"></a>å®‰è£…è¿‡ç¨‹ç®€è®°</h2><ul><li>æ³¨å†Œ<a href="https://leancloud.cn/">Leancloud</a></li><li>åˆ›å»ºåº”ç”¨</li><li>è·å–appidå’Œappkey</li><li>è®¾ç½®å®‰å…¨åŸŸå</li></ul><p><img src="https://i.imgur.com/z6ScJ8h.png" class="lazyload" data-srcset="https://i.imgur.com/z6ScJ8h.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/98lsq22.png" class="lazyload" data-srcset="https://i.imgur.com/98lsq22.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/Ppruek5.png" class="lazyload" data-srcset="https://i.imgur.com/Ppruek5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://i.imgur.com/sRNNe85.png" class="lazyload" data-srcset="https://i.imgur.com/sRNNe85.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h4 id="éƒ¨ç½²äº‘å¼•æ“-å‚è€ƒ"><a href="#éƒ¨ç½²äº‘å¼•æ“-å‚è€ƒ" class="headerlink" title="éƒ¨ç½²äº‘å¼•æ“ å‚è€ƒ"></a>éƒ¨ç½²äº‘å¼•æ“ <a href="https://panjunwen.com/valine-admin-document/">å‚è€ƒ</a></h4><p>è®¾ç½®å¥½ç¯å¢ƒå˜é‡</p><h3 id="yiliaä¸»é¢˜ä¿®æ”¹"><a href="#yiliaä¸»é¢˜ä¿®æ”¹" class="headerlink" title="yiliaä¸»é¢˜ä¿®æ”¹"></a>yiliaä¸»é¢˜ä¿®æ”¹</h3><h4 id="1ã€ä¿®æ”¹themes-yilia-config-yml"><a href="#1ã€ä¿®æ”¹themes-yilia-config-yml" class="headerlink" title="1ã€ä¿®æ”¹themes\yilia\_config.yml"></a>1ã€ä¿®æ”¹<code>themes\yilia\_config.yml</code></h4><p><a href="https://github.com/litten/hexo-theme-yilia/pull/646">https://github.com/litten/hexo-theme-yilia/pull/646</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#6ã€Valine https://valine.js.org</span></span><br><span class="line">valine:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  appid:    <span class="comment">#LeanCloudçš„appId</span></span><br><span class="line">  appkey:   <span class="comment">#Leancloudçš„appKey</span></span><br><span class="line">  verify: <span class="literal">false</span> <span class="comment">#éªŒè¯ç </span></span><br><span class="line">  notifi: <span class="literal">false</span> <span class="comment">#è¯„è®ºå›å¤æé†’</span></span><br><span class="line">  avatar: <span class="string">&#x27; &#x27;</span><span class="comment">#è¯„è®ºåˆ—è¡¨å¤´åƒæ ·å¼</span></span><br><span class="line">  placeholder: Just go go <span class="comment">#è¯„è®ºå ä½æ¡†</span></span><br><span class="line">  pageSize: 15    <span class="comment">#è¯„è®ºåˆ†é¡µ</span></span><br></pre></td></tr></table></figure><h4 id="2ã€ä¿®æ”¹themes-yilia-layout-partial-article-ejs"><a href="#2ã€ä¿®æ”¹themes-yilia-layout-partial-article-ejs" class="headerlink" title="2ã€ä¿®æ”¹themes\yilia\layout\_partial\article.ejs"></a>2ã€ä¿®æ”¹<code>themes\yilia\layout\_partial\article.ejs</code></h4><p>æˆ‘æ˜¯åœ¨å°¾éƒ¨ä½æ·»åŠ çš„<br><img src="http://pflr7ix8q.bkt.clouddn.com/18-9-27/40764127.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/18-9-27/40764127.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.valine &amp;&amp; theme.valine.appid &amp;&amp; theme.valine.appkey)&#123; %&gt;</span><br><span class="line">    &lt;section <span class="built_in">id</span>=<span class="string">&quot;comments&quot;</span> style=<span class="string">&quot;margin:10px;padding:10px;background:#fff;&quot;</span>&gt;</span><br><span class="line">      &lt;%- partial(<span class="string">&#x27;post/valine&#x27;</span>, &#123;</span><br><span class="line">        key: post.slug,</span><br><span class="line">        title: post.title,</span><br><span class="line">        url: config.url+url_for(post.path)</span><br><span class="line">        &#125;) %&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h4 id="åœ¨themes-yilia-layout-partial-postä¸‹æ–°å»ºä¸ªÂ·valine-ejsÂ·æ–‡ä»¶"><a href="#åœ¨themes-yilia-layout-partial-postä¸‹æ–°å»ºä¸ªÂ·valine-ejsÂ·æ–‡ä»¶" class="headerlink" title="åœ¨themes\yilia\layout\_partial\postä¸‹æ–°å»ºä¸ªÂ·valine.ejsÂ·æ–‡ä»¶"></a>åœ¨<code>themes\yilia\layout\_partial\post</code>ä¸‹æ–°å»ºä¸ªÂ·valine.ejsÂ·æ–‡ä»¶</h4><p>æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="built_in">id</span>=<span class="string">&quot;vcomment&quot;</span> class=<span class="string">&quot;comment&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=<span class="string">&quot;//cdn1.lncld.net/static/js/3.0.4/av-min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=<span class="string">&quot;//unpkg.com/valine/dist/Valine.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">   var notify = <span class="string">&#x27;&lt;%= theme.valine.notify %&gt;&#x27;</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">   var verify = <span class="string">&#x27;&lt;%= theme.valine.verify %&gt;&#x27;</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">    window.onload = <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">        new Valine(&#123;</span><br><span class="line">            el: <span class="string">&#x27;#vcomment&#x27;</span>,</span><br><span class="line">            notify: notify,</span><br><span class="line">            verify: verify,</span><br><span class="line">            app_id: <span class="string">&quot;&lt;%= theme.valine.appid %&gt;&quot;</span>,</span><br><span class="line">            app_key: <span class="string">&quot;&lt;%= theme.valine.appkey %&gt;&quot;</span>,</span><br><span class="line">            placeholder: <span class="string">&quot;&lt;%= theme.valine.placeholder %&gt;&quot;</span>,</span><br><span class="line">            avatar:<span class="string">&quot;&lt;%= theme.valine.avatar %&gt;&quot;</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•ä¸‹æ•ˆæœ"><a href="#æµ‹è¯•ä¸‹æ•ˆæœ" class="headerlink" title="æµ‹è¯•ä¸‹æ•ˆæœ"></a>æµ‹è¯•ä¸‹æ•ˆæœ</h4><pre><code>hexo ghexo s</code></pre><p><a href="http://localhost:4000/">é¢„è§ˆ</a></p><p>æ²¡é—®é¢˜å°±éƒ¨ç½²åˆ°githubå§<br>    hexo d -g</p><h1 id="å®šæ—¶å™¨æ·»åŠ "><a href="#å®šæ—¶å™¨æ·»åŠ " class="headerlink" title="å®šæ—¶å™¨æ·»åŠ "></a>å®šæ—¶å™¨æ·»åŠ </h1><p><a href="https://github.com/zhaojun1998/Valine-Admin/issues/1">https://github.com/zhaojun1998/Valine-Admin/issues/1</a></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown(2)</title>
      <link href="/2018/09/26/Markdown-2/"/>
      <url>/2018/09/26/Markdown-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><font size="5" color="green">å…´å¥‹äºæ­å»ºäº†æˆ‘çš„åšå®¢ï¼Œå…´å¥‹äºè®¤è¯†äº†markdownï¼Œç»ˆäºå¯ä»¥ç”©å¼€èŠ±é‡Œèƒ¡å“¨çš„wordäº†ï¼Œ233333ï¼ï¼ï¼</font></p><h1 id="è®¤è¯†Markdown"><a href="#è®¤è¯†Markdown" class="headerlink" title="è®¤è¯†Markdown"></a>è®¤è¯†Markdown</h1><blockquote><p>Markdownæ˜¯ä¸€ç§å¯ä»¥ä½¿ç”¨æ™®é€šæ–‡æœ¬ç¼–è¾‘å™¨ç¼–å†™çš„æ ‡è®°è¯­è¨€ï¼Œé€šè¿‡ç®€å•çš„æ ‡è®°è¯­æ³•ï¼Œå®ƒå¯ä»¥ä½¿æ™®é€šæ–‡æœ¬å†…å®¹å…·æœ‰ä¸€å®šçš„æ ¼å¼ã€‚</p><p>Markdownå…·æœ‰ä¸€ç³»åˆ—è¡ç”Ÿç‰ˆæœ¬ï¼Œç”¨äºæ‰©å±•Markdownçš„åŠŸèƒ½ï¼ˆå¦‚è¡¨æ ¼ã€è„šæ³¨ã€å†…åµŒHTMLç­‰ç­‰ï¼‰ï¼Œè¿™äº›åŠŸèƒ½åŸåˆçš„Markdownå°šä¸å…·å¤‡ï¼Œå®ƒä»¬èƒ½è®©Markdownè½¬æ¢æˆæ›´å¤šçš„æ ¼å¼ï¼Œä¾‹LaTeXï¼ŒDocbookã€‚</p><p>Markdownå¢å¼ºç‰ˆä¸­æ¯”è¾ƒæœ‰åçš„æœ‰Markdown Extraã€MultiMarkdownã€ Marukuç­‰ã€‚è¿™äº›è¡ç”Ÿç‰ˆæœ¬è¦ä¹ˆåŸºäºå·¥å…·ï¼Œå¦‚Pandocï¼›è¦ä¹ˆåŸºäºç½‘ç«™ï¼Œå¦‚GitHubå’ŒWikipediaï¼Œåœ¨è¯­æ³•ä¸ŠåŸºæœ¬å…¼å®¹ï¼Œä½†åœ¨ä¸€äº›è¯­æ³•å’Œæ¸²æŸ“æ•ˆæœä¸Šæœ‰æ”¹åŠ¨ã€‚<br> â€“å¼•è‡ª<a href="https://baike.baidu.com/item/markdown/3245829?fr=aladdin">ç™¾åº¦ç™¾ç§‘</a></p></blockquote><span id="more"></span><h1 id="Windowså¸¸ç”¨Markdownç¼–è¾‘å™¨"><a href="#Windowså¸¸ç”¨Markdownç¼–è¾‘å™¨" class="headerlink" title="Windowså¸¸ç”¨Markdownç¼–è¾‘å™¨"></a>Windowså¸¸ç”¨Markdownç¼–è¾‘å™¨</h1><ul><li>VSCode <a href="https://code.visualstudio.com/">ä¸‹è½½</a></li><li>Atom <a href="https://ide.atom.io/">ä¸‹è½½</a></li><li>CuteMarkEd <a href="http://cloose.github.io/CuteMarkEd/">ä¸‹è½½</a></li><li>MarkdownPad2 <a href="http://markdownpad.com/">ä¸‹è½½</a></li><li>MarkPad <a href="http://code52.org/DownmarkerWPF/">ä¸‹è½½</a></li><li>Miu <a href="https://free.com.tw/miu/">ä¸‹è½½</a></li><li>Typora <a href="https://www.typora.io/">ä¸‹è½½</a></li><li>RStudio <a href="https://www.rstudio.com/">ä¸‹è½½</a></li></ul><h3 id="Markdownè¯­æ³•è¯´æ˜-ä¸­æ–‡ç‰ˆ"><a href="#Markdownè¯­æ³•è¯´æ˜-ä¸­æ–‡ç‰ˆ" class="headerlink" title="Markdownè¯­æ³•è¯´æ˜-ä¸­æ–‡ç‰ˆ"></a><a href="https://www.appinn.com/markdown/">Markdownè¯­æ³•è¯´æ˜-ä¸­æ–‡ç‰ˆ</a></h3><h1 id="ä¸ºä»€ä¹ˆä½¿ç”¨Markdown"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨Markdown" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨Markdown"></a>ä¸ºä»€ä¹ˆä½¿ç”¨Markdown</h1><ul><li>å®ƒä½¿æˆ‘æ›´åŠ ä¸“æ³¨äºæ–‡å­—å†…å®¹è€Œä¸æ˜¯æ’ç‰ˆæ ·å¼</li></ul><blockquote><p>We believe that writing is about content, about what you want to say â€“ not about fancy formatting.</p></blockquote><h6 id="â€“Ulysses-for-Mac"><a href="#â€“Ulysses-for-Mac" class="headerlink" title="â€“Ulysses for Mac"></a>â€“Ulysses for Mac</h6><p align="right"><font size="4" color="red">[é«˜çº§åº”ç”¨](https://blog.mariusschulz.com/2014/12/16/how-to-set-up-sublime-text-for-a-vastly-better-markdown-writing-experience)</font></p><p align="right"><font size="4" color="red">Sublime Text3+Markdown Editing</font></p><p align="right">[å‚è€ƒ](https://blog.csdn.net/u012195214/article/details/70544181)]]></content>
      
      
      <categories>
          
          <category> markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢æ­å»ºå†ç¨‹ï¼ˆ3ï¼‰</title>
      <link href="/2018/09/26/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%883%EF%BC%89/"/>
      <url>/2018/09/26/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%883%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="hexoç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ä»‹ç»"><a href="#hexoç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ä»‹ç»" class="headerlink" title="hexoç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ä»‹ç»"></a>hexoç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ä»‹ç»</h1><blockquote><p><a href="https://hexo.io/plugins/">hexoæ’ä»¶</a></p></blockquote><blockquote><p><a href="https://github.com/litten/hexo-theme-yilia">ä¸»é¢˜yilia</a></p></blockquote><h2 id="é»˜è®¤ç›®å½•ç»“æ„"><a href="#é»˜è®¤ç›®å½•ç»“æ„" class="headerlink" title="é»˜è®¤ç›®å½•ç»“æ„"></a>é»˜è®¤ç›®å½•ç»“æ„</h2><p><a href="https://www.jianshu.com/p/17d55d420d94">å…·ä½“å‚è€ƒ</a></p><span id="more"></span><pre><code>|--.deploy|--public|--scaffolds|--source|--themes|--_config.yml|--package.json</code></pre><ul><li>.deploy ï¼šéƒ¨ç½²åˆ°GitHubä¸Šçš„å†…å®¹ç›®å½•</li><li>publicï¼šè¾“å‡ºçš„é™æ€ç½‘é¡µå†…å®¹ç›®å½•</li><li>scaffoldsï¼šlayoutæ¨¡æ¿æ–‡ä»¶ç›®å½•</li><li>sourceï¼šæ–‡ä»¶æºç ç›®å½•</li><li>themesï¼šä¸»é¢˜æ–‡ä»¶ç›®å½•</li><li>â€”config.ymlï¼šå…¨å±€é…ç½®æ–‡ä»¶</li><li>package.jsonï¼šé¡¹ç›®ä¾èµ–å£°æ˜æ–‡ä»¶</li></ul><h1 id="ç»™ä¸»é¢˜yiliaé…ç½®å¹²è´§"><a href="#ç»™ä¸»é¢˜yiliaé…ç½®å¹²è´§" class="headerlink" title="ç»™ä¸»é¢˜yiliaé…ç½®å¹²è´§"></a>ç»™ä¸»é¢˜yiliaé…ç½®å¹²è´§</h1><h2 id="ä¸€ã€è…¾è®¯å…¬ç›Š404"><a href="#ä¸€ã€è…¾è®¯å…¬ç›Š404" class="headerlink" title="ä¸€ã€è…¾è®¯å…¬ç›Š404"></a>ä¸€ã€è…¾è®¯å…¬ç›Š404</h2><p><em><strong><a href="http://www.qq.com/404/">å…¬ç›Š404</a></strong></em></p><p><code>hexo new page 404 #æ–°å»ºä¸€ä¸ªé¡µé¢</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åœ¨ç”Ÿæˆçš„index.mdæ–‡ä»¶ä¸‹æ·»åŠ ä»¥ä¸‹ä»£ç </span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;]\</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;404&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&quot;</span> charset=<span class="string">&quot;utf-8&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g<span class="comment">#ç›´æ¥éƒ¨ç½²åˆ°GitHub</span></span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/liu1340308350/article/details/81744824">å‚è€ƒ</a></p><h2 id="äºŒã€åˆ¶ä½œä¸ªç½‘ç«™ico"><a href="#äºŒã€åˆ¶ä½œä¸ªç½‘ç«™ico" class="headerlink" title="äºŒã€åˆ¶ä½œä¸ªç½‘ç«™ico"></a>äºŒã€åˆ¶ä½œä¸ªç½‘ç«™ico</h2><p><a href="http://www.favicon-icon-generator.com/">æˆ³è¿™é‡Œ</a></p><p>ä¹Ÿå¯ä»¥ä¸å¼„ï¼Œç›´æ¥ç”¨</p><p>æŠŠä½ çš„ç½‘ç«™icoæ”¾åœ¨<code>public\img</code>å³å¯<br>ä¿®æ”¹<code>theme\_config.yml</code></p><p><img src="http://pflr7ix8q.bkt.clouddn.com/18-9-26/70038755.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/18-9-26/70038755.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="ä¸‰ã€ä½¿ç”¨ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡-ä½¿ç”¨å‹ç›Ÿ"><a href="#ä¸‰ã€ä½¿ç”¨ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡-ä½¿ç”¨å‹ç›Ÿ" class="headerlink" title="ä¸‰ã€ä½¿ç”¨ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡(ä½¿ç”¨å‹ç›Ÿ)"></a>ä¸‰ã€ä½¿ç”¨ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡(ä½¿ç”¨å‹ç›Ÿ)</h2><p><strong>æ•ˆæœå¦‚ä¸‹</strong></p><p><img src="http://pflr7ix8q.bkt.clouddn.com/18-9-26/75982791.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/18-9-26/75982791.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h4 id="æ³¨å†Œè´¦å·å‹ç›Ÿå®˜ç½‘"><a href="#æ³¨å†Œè´¦å·å‹ç›Ÿå®˜ç½‘" class="headerlink" title="æ³¨å†Œè´¦å·å‹ç›Ÿå®˜ç½‘"></a>æ³¨å†Œè´¦å·<a href="https://www.umeng.com/">å‹ç›Ÿå®˜ç½‘</a></h4><p><img src="http://pflr7ix8q.bkt.clouddn.com/18-9-26/69139019.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/18-9-26/69139019.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><br><img src="http://pflr7ix8q.bkt.clouddn.com/18-9-26/14156171.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/18-9-26/14156171.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h4 id="è·å–ä»£ç "><a href="#è·å–ä»£ç " class="headerlink" title="è·å–ä»£ç "></a><em>è·å–ä»£ç </em></h4><p><img src="http://pflr7ix8q.bkt.clouddn.com/18-9-26/66278706.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/18-9-26/66278706.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>åœ¨<code>hemes\yilia\layout\_partial\footer.ejs</code>æŒ‘ä¸ªä½ç½®æ”¾</p><p><img src="http://pflr7ix8q.bkt.clouddn.com/18-9-26/61353041.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/18-9-26/61353041.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p><strong><a href="http://localhost:4000/">çœ‹ä¸‹æ•ˆæœ</a></strong></p><p><em><strong><code>hexo d #éƒ¨ç½²åˆ° github </code></strong></em></p><h5 id="è‹¥ä¸æƒ³ç”¨CNZZå‚è€ƒ"><a href="#è‹¥ä¸æƒ³ç”¨CNZZå‚è€ƒ" class="headerlink" title="è‹¥ä¸æƒ³ç”¨CNZZå‚è€ƒ"></a>è‹¥ä¸æƒ³ç”¨CNZZ<a href="https://blog.csdn.net/zxlvxj/article/details/77720934">å‚è€ƒ</a></h5>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>baiduæ”¶å½•æµ‹è¯•</title>
      <link href="/2018/09/26/xuxu/"/>
      <url>/2018/09/26/xuxu/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="baiduæ”¶å½•æµ‹è¯•"><a href="#baiduæ”¶å½•æµ‹è¯•" class="headerlink" title="baiduæ”¶å½•æµ‹è¯•"></a>baiduæ”¶å½•æµ‹è¯•</h1><p>hexo æ’ä»¶ï¼šhexo-baidu-url-submit</p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢æ­å»ºå†ç¨‹ï¼ˆ2ï¼‰</title>
      <link href="/2018/09/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%882%EF%BC%89/"/>
      <url>/2018/09/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%882%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><ul><li>æœ¬æ–‡å¤§å¤šæ•°å›¾ç‰‡é“¾æ¥å¤±æ•ˆï¼Œå»ºè®®é˜…è¯»ï¼š<a href="https://cloud.tencent.com/developer/article/1656959">https://cloud.tencent.com/developer/article/1656959</a></li></ul><hr><h1 id="ä¸€ã€ä½¿ç”¨hexo-deployéƒ¨ç½²åšå®¢åˆ°Github"><a href="#ä¸€ã€ä½¿ç”¨hexo-deployéƒ¨ç½²åšå®¢åˆ°Github" class="headerlink" title="ä¸€ã€ä½¿ç”¨hexo deployéƒ¨ç½²åšå®¢åˆ°Github"></a>ä¸€ã€ä½¿ç”¨hexo deployéƒ¨ç½²åšå®¢åˆ°Github</h1><blockquote><p><a href="https://hexo.io/docs/deployment.html">ä½¿ç”¨å‚è€ƒ</a></p></blockquote><p>** å…ˆå®‰è£…ä¸ªæ‰©å±•<code>$ npm install hexo-deployer-git --save</code> **</p><h2 id="1-ä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹çš„-config-ymlæ–‡ä»¶"><a href="#1-ä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹çš„-config-ymlæ–‡ä»¶" class="headerlink" title="1.ä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹çš„_config_ymlæ–‡ä»¶"></a>1.ä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹çš„<code>_config_yml</code>æ–‡ä»¶</h2><p><img src="https://img.vim-cn.com/b9/242b742e41b045e48e38055e2202cdfdbbc5f3.png" class="lazyload" data-srcset="https://img.vim-cn.com/b9/242b742e41b045e48e38055e2202cdfdbbc5f3.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:yeshan333/yeshan333.github.io.git <span class="comment"># è¿™ä¸ªå¯åˆ°Githubä»“åº“æ‹¿</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p><img src="https://img.vim-cn.com/44/35d14788fe4cab09d8b20da1753335ad758c23.png" class="lazyload" data-srcset="https://img.vim-cn.com/44/35d14788fe4cab09d8b20da1753335ad758c23.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><span id="more"></span><h2 id="2-éƒ¨ç½²åˆ°GitHub-repo"><a href="#2-éƒ¨ç½²åˆ°GitHub-repo" class="headerlink" title="2.éƒ¨ç½²åˆ°GitHub repo"></a>2.éƒ¨ç½²åˆ°GitHub repo</h2><h3 id="ç”Ÿæˆssh-keys"><a href="#ç”Ÿæˆssh-keys" class="headerlink" title="ç”Ÿæˆssh keys"></a>ç”Ÿæˆssh keys</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;é‚®ä»¶åœ°å€@youremail.com&quot;</span> <span class="comment">#ç”Ÿæˆæ–°çš„keyæ–‡ä»¶ï¼Œé‚®ç®±åœ°å€å¡«æ³¨å†ŒGithubæ—¶ç”¨çš„</span></span><br></pre></td></tr></table></figure><p><img src="https://img.vim-cn.com/37/ecb8a0a1f900c804d06651139773f0979a6270.png" class="lazyload" data-srcset="https://img.vim-cn.com/37/ecb8a0a1f900c804d06651139773f0979a6270.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://img.vim-cn.com/37/ecb8a0a1f900c804d06651139773f0979a6270.png"></p><h3 id="å°†ç”Ÿæˆçš„ssh-keysæ·»åŠ åˆ°Githubçš„deploy-keysä¸­"><a href="#å°†ç”Ÿæˆçš„ssh-keysæ·»åŠ åˆ°Githubçš„deploy-keysä¸­" class="headerlink" title="å°†ç”Ÿæˆçš„ssh keysæ·»åŠ åˆ°Githubçš„deploy keysä¸­"></a>å°†ç”Ÿæˆçš„ssh keysæ·»åŠ åˆ°Githubçš„deploy keysä¸­</h3><ul><li><ol><li>å¤åˆ¶key</li></ol></li></ul><p>** è¿™é‡Œç”¨åˆ°.sshç›®å½•ä¸‹ï¼Œid_rsa.pubæ–‡ä»¶ä¸­çš„é‚£ä¸²key**</p><p><img src="https://img.vim-cn.com/5b/a4d58b99d58d1c22ffec0e5fc6301c45b20b58.png" class="lazyload" data-srcset="https://img.vim-cn.com/5b/a4d58b99d58d1c22ffec0e5fc6301c45b20b58.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="https://img.vim-cn.com/5b/a4d58b99d58d1c22ffec0e5fc6301c45b20b58.png"></p><ul><li><ol start="2"><li><a href="https://github.com/">åˆ°GitHub</a>çš„yourname.hithub.ioä»“åº“æ·»åŠ é‚£ä¸²keyåˆ°deploy keysä¸­</li></ol></li></ul><p><img src="https://img.vim-cn.com/1d/9e76911a5130f878845a7178b03d8977eac937.png" class="lazyload" data-srcset="https://img.vim-cn.com/1d/9e76911a5130f878845a7178b03d8977eac937.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><ul><li><ol start="3"><li>æµ‹è¯•ä¸€ä¸‹æ˜¯å¦æ·»åŠ æˆåŠŸäº†:</li></ol></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p><img src="https://img.vim-cn.com/00/7d3b8f51ed72ecd2ce3f73c387944729f18ff1.png" class="lazyload" data-srcset="https://img.vim-cn.com/00/7d3b8f51ed72ecd2ce3f73c387944729f18ff1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="éƒ¨ç½²åšå®¢"><a href="#éƒ¨ç½²åšå®¢" class="headerlink" title="éƒ¨ç½²åšå®¢"></a>éƒ¨ç½²åšå®¢</h3><ol><li>å…ˆé…å¥½gitç”¨æˆ·ä¿¡æ¯</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;ä½ çš„åå­—&quot;</span>     <span class="comment"># githubç”¨æˆ·å</span></span><br><span class="line">git config --global user.email <span class="string">&quot;é‚®ç®±@é‚®ç®±.com&quot;</span>    <span class="comment"># githubé‚®ç®±</span></span><br></pre></td></tr></table></figure><ol start="2"><li>éƒ¨ç½²åšå®¢åˆ°ä»“åº“</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g <span class="comment"># ç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">hexo d <span class="comment"># éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“</span></span><br></pre></td></tr></table></figure><p>è®¿é—®<a href="https://yourname.github.ioæŸ¥çœ‹ç»“æœ/">https://yourname.github.ioæŸ¥çœ‹ç»“æœ</a></p><p>** åˆ°æ­¤ï¼Œæ•´ä¸ªåšå®¢æ­å»ºå®Œæˆäº† **</p><p>ä»¥ä¸‹æ˜¯å†™çš„æ˜¯åšå®¢ä¸»é¢˜çš„æ›´æ¢ï¼Œä¸»é¢˜å¯ä»¥è‡ªå·±å†™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«äººå†™çš„ï¼Œå¯å»è¿™é‡Œ<a href="https://hexo.io/themes/">https://hexo.io/themes/</a>æ‰¾å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯åˆ«äººçš„ä¸»é¢˜ï¼Œéœ€è¦é˜…è¯»ä¸»é¢˜ä½¿ç”¨æ–‡æ¡£è¿›è¡Œç›¸å…³é…ç½®ã€‚</p><h1 id="äºŒã€Hexoä¸»é¢˜è®¾ç½®"><a href="#äºŒã€Hexoä¸»é¢˜è®¾ç½®" class="headerlink" title="äºŒã€Hexoä¸»é¢˜è®¾ç½®"></a>äºŒã€Hexoä¸»é¢˜è®¾ç½®</h1><ul><li><ol><li>æ›´æ¢ä¸»é¢˜</li></ol></li></ul><p>cdè¿›themesç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/litten/hexo-theme-yilia.git themes/yilia</span><br></pre></td></tr></table></figure><ul><li><ol start="2"><li>å¯¹æ ¹ç›®å½•ä¸‹çš„<code>config_yml</code>æ–‡ä»¶è¿›è¡Œä¿®æ”¹</li></ol></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd themes/yilia</span><br><span class="line">git pull #æ›´æ–°ä¸»é¢˜</span><br></pre></td></tr></table></figure><p><img src="https://img.vim-cn.com/bf/e7a244bb8eacd6753b71192d4cc7396837493d.png" class="lazyload" data-srcset="https://img.vim-cn.com/bf/e7a244bb8eacd6753b71192d4cc7396837493d.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><ul><li><ol start="3"><li>é¢„è§ˆæ–°ä¸»é¢˜</li></ol></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean <span class="comment"># æ¸…æ¥šç¼“å­˜ï¼Œåˆ é™¤publicç›®å½•</span></span><br><span class="line">hexo g     <span class="comment"># ç”Ÿæˆæ–°çš„åšå®¢é™æ€æ–‡ä»¶</span></span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>å»<a href="http://localhost:4000/">http://localhost:4000</a>é¢„è§ˆï¼Œæ²¡æ¯›ç—…å°±<code>hexo d</code>éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢æ­å»ºå†ç¨‹ï¼ˆ1ï¼‰</title>
      <link href="/2018/09/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%881%EF%BC%89/"/>
      <url>/2018/09/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%881%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><ul><li>æœ¬æ–‡å¤§å¤šæ•°å›¾ç‰‡é“¾æ¥å¤±æ•ˆï¼Œå»ºè®®é˜…è¯»ï¼š<a href="https://cloud.tencent.com/developer/article/1656961">https://cloud.tencent.com/developer/article/1656961</a></li></ul><hr><p><code>æˆ‘ä¸ºä»€ä¹ˆè¦æ­å»ºè‡ªå·±çš„åšå®¢:äººå˜›!æ€»ä¼šæœ‰è¿·èŒ«çš„æ—¶å€™ã€‚æ— èŠäº†å°±æ­å»ºä¸€ä¸ªåšå®¢ç©ç©ã€‚å€Ÿæ­¤æ€è€ƒä¸‹äººç”Ÿ</code><a href="https://zhuanlan.zhihu.com/p/19743861?columnSlug=cnfeat">æˆ³è¿™é‡Œå…ˆæ´—ä¸‹è„‘</a></p><blockquote><p><a href="http://mindhacks.cn/2009/02/15/why-you-should-start-blogging-now/">[BetterExplained]ä¸ºä»€ä¹ˆä½ åº”è¯¥ï¼ˆä»ç°åœ¨å¼€å§‹å°±ï¼‰å†™åšå®¢</a></p></blockquote><h1 id="ä½¿ç”¨Hexo-GitHub-Pagesæ­å»ºå±äºè‡ªå·±çš„åšå®¢"><a href="#ä½¿ç”¨Hexo-GitHub-Pagesæ­å»ºå±äºè‡ªå·±çš„åšå®¢" class="headerlink" title="ä½¿ç”¨Hexo+GitHub Pagesæ­å»ºå±äºè‡ªå·±çš„åšå®¢"></a>ä½¿ç”¨Hexo+GitHub Pagesæ­å»ºå±äºè‡ªå·±çš„åšå®¢</h1><h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><ul><li>å®‰è£…Node.js</li><li>å®‰è£…git</li><li>ä¸€ä¸ªGitHubè´¦å·</li><li>hexoå…¨å®¶æ¡¶</li></ul><span id="more"></span><h3 id="ä¸€ã€Node-jså®‰è£…å‚è€ƒ"><a href="#ä¸€ã€Node-jså®‰è£…å‚è€ƒ" class="headerlink" title="ä¸€ã€Node.jså®‰è£…å‚è€ƒ"></a>ä¸€ã€Node.jså®‰è£…å‚è€ƒ</h3><p><a href="http://nodejs.cn/">Node.jså®˜ç½‘</a></p><p><strong><font color="red">nodejsç‰ˆæœ¬è¶Šé«˜è¶Šå¥½ï¼Œä¸ç„¶åé¢å®‰è£…hexoæ—¶ä¼šå‡ºç°é—®é¢˜ï¼ŒHexoå®˜ç½‘ç»™çš„å»ºè®®æ˜¯6.9ç‰ˆæœ¬ä»¥ä¸Š</font></strong></p><p><a href="https://npm.taobao.org/mirrors/node/v10.16.0/node-v10.16.0-x64.msi">å®˜ç½‘windows 64bit ä¸‹è½½(v10.16.0)</a></p><h3 id="äºŒã€gitçš„å®‰è£…å‚è€ƒ"><a href="#äºŒã€gitçš„å®‰è£…å‚è€ƒ" class="headerlink" title="äºŒã€gitçš„å®‰è£…å‚è€ƒ"></a>äºŒã€gitçš„å®‰è£…å‚è€ƒ</h3><p>å®‰è£…éœ€æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µï¼Œåœ¨cmdä½¿ç”¨<code>git --version</code>æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬</p><p><a href="https://github.com/git-for-windows/git/releases/download/v2.19.0.windows.1/Git-2.19.0-64-bit.exe">windows 64 bit ä¸‹è½½ï¼ˆv2.19.0ï¼‰</a></p><h3 id="ä¸‰ã€ä½¿ç”¨Github-Pages"><a href="#ä¸‰ã€ä½¿ç”¨Github-Pages" class="headerlink" title="ä¸‰ã€ä½¿ç”¨Github Pages"></a>ä¸‰ã€ä½¿ç”¨Github Pages</h3><ul><li><a href="https://github.com/">æ³¨å†ŒGithubè´¦å·</a></li><li>åˆ›å»ºä¸€ä¸ªrepositoryï¼Œç”¨äºå­˜æ”¾åšå®¢ç«™ç‚¹æ–‡ä»¶</li><li>å¼€å¯Github Page</li></ul><h4 id="1ã€åˆ›å»ºä¸€ä¸ªrepository"><a href="#1ã€åˆ›å»ºä¸€ä¸ªrepository" class="headerlink" title="1ã€åˆ›å»ºä¸€ä¸ªrepository"></a>1ã€åˆ›å»ºä¸€ä¸ªrepository</h4><p><img src="https://img.vim-cn.com/0b/d84ec69ee51d0ea78240bde231d2e6f827db22.png" class="lazyload" data-srcset="https://img.vim-cn.com/0b/d84ec69ee51d0ea78240bde231d2e6f827db22.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://img.vim-cn.com/57/523b9522e73a662cb39060489ef61f3a559b47.png" class="lazyload" data-srcset="https://img.vim-cn.com/57/523b9522e73a662cb39060489ef61f3a559b47.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><del>ä»“åº“å‘½åæ–¹å¼é¡»æ³¨æ„ä¸‹ï¼Œè¿™æ ·å‘½åä¼šå¼€å¯githubpageæœåŠ¡</del>ï¼Œä»£ç ä»“åº“å‘½åæ–¹å¼éšæ„ï¼Œå¦‚æœä»¥<code>ç”¨æˆ·å+github.io</code>çš„å½¢å¼å‘½åï¼Œä¼šè‡ªåŠ¨å¼€å¯Github PagesæœåŠ¡ï¼Œå¦åˆ™éœ€è¦è‡ªå·±åœ¨ä»“åº“çš„è®¾ç½®é‚£é‡Œæ‰‹åŠ¨å¼€å¯GIthub PagesæœåŠ¡ã€‚</p><p>Github Pages æ˜¯ github å…¬å¸æä¾›çš„å…è´¹çš„é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼Œç”¨èµ·æ¥æ–¹ä¾¿è€Œä¸”åŠŸèƒ½å¼ºå¤§ï¼Œ<del>ä¸ä»…æ²¡æœ‰ç©ºé—´é™åˆ¶(ä¸ºå…è´¹ç”¨æˆ·æä¾›äº†500Mç©ºé—´)ï¼Œè¿˜å¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸå</del>ï¼Œ1GBç©ºé—´é™åˆ¶ï¼ˆä¸ªäººåšå®¢å¤Ÿç”¨äº†ï¼‰ï¼Œæ¯æœˆå¸¦å®½é™åˆ¶100GBï¼Œè‡ªç”±ç»‘å®šè‡ªå·±çš„åŸŸåã€‚</p><h4 id="2ã€å¼€å¯GitHub-Pages"><a href="#2ã€å¼€å¯GitHub-Pages" class="headerlink" title="2ã€å¼€å¯GitHub Pages"></a>2ã€å¼€å¯GitHub Pages</h4><p><a href="https://pages.github.com/">GitHub Pageså®˜æ–¹ä»‹ç»</a>ï¼ŒGithubçš„ä¸­æ–‡å®˜æ–¹æ–‡æ¡£å·²æ¨å‡º<a href="https://help.github.com/cn/articles/what-is-github-pages">https://help.github.com/cn/articles/what-is-github-pages</a>(2019å¹´7æœˆ11æ—¥æ›´æ–°)</p><p><img src="https://img.vim-cn.com/88/218b90bc2b18ccf6cc7f5a51b77409fcf273a8.png" class="lazyload" data-srcset="https://img.vim-cn.com/88/218b90bc2b18ccf6cc7f5a51b77409fcf273a8.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><img src="https://img.vim-cn.com/40/fe0f7b5ff242c5aa99afa0f0c82b3ddde0dc31.png" class="lazyload" data-srcset="https://img.vim-cn.com/40/fe0f7b5ff242c5aa99afa0f0c82b3ddde0dc31.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p><code>ç‚¹å‡»choose a theme</code>é€‰å®Œä¸»é¢˜åå³å¯åˆ°<code>https://yourname.github.io/</code>è®¿é—®è‡ªå·±çš„ä¸ªäººä¸»é¡µäº†ï¼Œyournameè®°å¾—æ›¿æ¢æˆä½ çš„ç”¨æˆ·åã€‚</p><p><strong>æ¥ä¸‹æ¥éœ€è¦ä½¿ç”¨Hexoåœ¨æœ¬åœ°åˆ›å»ºå¥½åšå®¢ï¼Œå†å°†åšå®¢æ–‡ä»¶ä¸Šä¼ åˆ°åˆšåˆšåˆ›å»ºçš„ä»“åº“ã€‚</strong></p><h3 id="å››ã€Hexoé…ç½®"><a href="#å››ã€Hexoé…ç½®" class="headerlink" title="å››ã€Hexoé…ç½®"></a>å››ã€Hexoé…ç½®</h3><blockquote><p>Hexoæ˜¯ä¸€ä¸ªé™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œå¦‚æœæƒ³æ·±å…¥äº†è§£Hexoå¯ä»¥å»Hexoçš„å®˜ç½‘çœ‹çœ‹ã€‚<a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a></p></blockquote><h4 id="åœ¨æœ¬åœ°æ­å»ºåšå®¢"><a href="#åœ¨æœ¬åœ°æ­å»ºåšå®¢" class="headerlink" title="åœ¨æœ¬åœ°æ­å»ºåšå®¢"></a>åœ¨æœ¬åœ°æ­å»ºåšå®¢</h4><h5 id="1-å®‰è£…hexoæ’ä»¶å¥—è£…"><a href="#1-å®‰è£…hexoæ’ä»¶å¥—è£…" class="headerlink" title="1.å®‰è£…hexoæ’ä»¶å¥—è£…"></a>1.å®‰è£…hexoæ’ä»¶å¥—è£…</h5><p>ä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ç›´æ¥æ‰“å¼€windows cmdæ‰§è¡Œå³å¯ï¼Œç”¨git bashæ‰§è¡Œä¹Ÿè¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…hexoå‘½ä»¤è¡Œå·¥å…·</span></span><br><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><p>~~å®‰è£…hexoåŒ…åˆ°å…¨å±€node_modulesä¸­ï¼Œä¿®æ”¹package.jsonæ–‡ä»¶ï¼Œå°†æ¨¡å—åå’Œç‰ˆæœ¬å·æ·»åŠ åˆ°dependencieséƒ¨åˆ†<br>npm install hexo â€“save~~~</p><h5 id="2-åˆå§‹åŒ–hexo"><a href="#2-åˆå§‹åŒ–hexo" class="headerlink" title="2.åˆå§‹åŒ–hexo"></a>2.åˆå§‹åŒ–hexo</h5><ul><li>è¿™é‡Œéœ€è¦æ–°å»ºä¸ªç›®å½•ç”¨äºå­˜æ”¾æœ¬åœ°çš„åšå®¢æ–‡ä»¶</li><li>å¾€åçš„å‘½ä»¤å‡éœ€è¦åœ¨æ­¤ç›®å½•ä¸‹æ‰§è¡Œï¼Œå¯ç”¨<code>cd</code>å‘½ä»¤è¿›å…¥ç›®å½•ä¸­æ‰§è¡Œå¾€åçš„å‘½ä»¤</li></ul><p><img src="https://img.vim-cn.com/2a/5a136fa1d0a4c187856395924455de40c626eb.gif" class="lazyload" data-srcset="https://img.vim-cn.com/2a/5a136fa1d0a4c187856395924455de40c626eb.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init  <span class="comment"># åˆå§‹åŒ–ç›®å½•ï¼Œç”Ÿæˆç›¸å…³æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><ul><li>ç›®å½•ä¸­ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ node_modules       # å­˜æ”¾åšå®¢ä¾èµ–çš„npm packages</span><br><span class="line">â”œâ”€â”€ scaffolds          # å­˜æ”¾ç”Ÿæˆåšå®¢æ–‡ç« ã€åšå®¢é¡µé¢ã€è‰ç¨¿çš„æ¨¡æ¿ç›®å½•</span><br><span class="line">â”œ   â”œâ”€â”€ draft.md</span><br><span class="line">â”œ   â”œâ”€â”€ page.md</span><br><span class="line">â”œ   â””â”€â”€ post.md</span><br><span class="line">â”œâ”€â”€ source</span><br><span class="line">â”œ   â””â”€â”€ posts           # ç”¨äºå­˜æ”¾åšå®¢æ–‡ç« </span><br><span class="line">â”œâ”€â”€ _config.yml         # åšå®¢å…¨å±€é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ .gitignore</span><br><span class="line">â”œâ”€â”€ package.json        # è®°å½•å½“å‰ç›®å½•ä¸‹å®é™…å®‰è£…çš„å„ä¸ªnpm packageçš„å…·ä½“æ¥æºå’Œç‰ˆæœ¬å·</span><br><span class="line">â””â”€â”€ package-lock.json   # å­˜æ”¾é”å®šå®‰è£…æ—¶çš„åŒ…çš„ç‰ˆæœ¬å·ï¼Œæ­¤æ–‡ä»¶ä¸€èˆ¬ä¼šä¸Šä¼ åˆ°git</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g <span class="comment"># ç”Ÿæˆé™æ€é¡µé¢</span></span><br><span class="line">hexo s <span class="comment"># éƒ¨ç½²åˆ°æœ¬åœ°æœåŠ¡å™¨http://localhost:4000/</span></span><br></pre></td></tr></table></figure><p><a href="http://localhost:4000/">é¢„è§ˆæ•ˆæœhttp://localhost:4000/</a></p><p>åˆ°è¿™é‡Œæœ¬åœ°çš„åšå®¢æ­å»ºå®Œäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å°†åšå®¢ä¸Šä¼ åˆ°åˆšåˆšåˆ›å»ºçš„Githubä»“åº“ï¼Œä¸Šä¼ åå°±å¯ä»¥ä½¿ç”¨å¤–ç½‘è®¿é—®äº†</p><p><a href="/2018/09/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%882%EF%BC%89/">åšå®¢æ­å»ºå†ç¨‹ï¼ˆ2ï¼‰</a></p><h1 id="åšå®¢æ­å»ºå‚è€ƒæ•™ç¨‹æ¨è"><a href="#åšå®¢æ­å»ºå‚è€ƒæ•™ç¨‹æ¨è" class="headerlink" title="åšå®¢æ­å»ºå‚è€ƒæ•™ç¨‹æ¨è"></a>åšå®¢æ­å»ºå‚è€ƒæ•™ç¨‹æ¨è</h1><ul><li><a href="https://blog.csdn.net/gdutxiaoxu/article/details/53576018">csdn</a></li><li><a href="https://m.w3cschool.cn/hexo_blog/hexo_blog-tvpu244e.html">w3cschool</a></li><li><a href="https://www.cnblogs.com/jackyroc/p/7681938.html">åšå®¢å›­</a></li><li><a href="https://segmentfault.com/a/1190000004947261">æ€å¦</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown</title>
      <link href="/2018/09/25/Markdown/"/>
      <url>/2018/09/25/Markdown/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ä½“éªŒmarkdown"><a href="#ä½“éªŒmarkdown" class="headerlink" title="ä½“éªŒmarkdown"></a>ä½“éªŒmarkdown</h1><p align="center">æœ‰ç‚¹æ„æ€ï¼Œå“ˆï¼</p><h2 id="åŒçº§æ–‡ä»¶å¤¹ï¼Œçš„imgæ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡"><a href="#åŒçº§æ–‡ä»¶å¤¹ï¼Œçš„imgæ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡" class="headerlink" title="åŒçº§æ–‡ä»¶å¤¹ï¼Œçš„imgæ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡"></a>åŒçº§æ–‡ä»¶å¤¹ï¼Œçš„imgæ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡</h2><p><img src="/img/wocao.jpg" class="lazyload" data-srcset="/img/wocao.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h2 id="æ·»åŠ é“¾æ¥"><a href="#æ·»åŠ é“¾æ¥" class="headerlink" title="æ·»åŠ é“¾æ¥"></a>æ·»åŠ é“¾æ¥</h2><p><a href="https://yeshan333.github.io/">æˆ‘çš„åšå®¢</a></p><h2 id="æ·»åŠ å›¾ç‰‡"><a href="#æ·»åŠ å›¾ç‰‡" class="headerlink" title="æ·»åŠ å›¾ç‰‡"></a>æ·»åŠ å›¾ç‰‡</h2><p><img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3965705221,2010595691&fm=26&gp=0.jpg" class="lazyload" data-srcset="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3965705221,2010595691&fm=26&gp=0.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ç™¾åº¦ä¸Šæ‰¾çš„"></p><span id="more"></span><h2 id="ä¸€çº§å¼•ç”¨"><a href="#ä¸€çº§å¼•ç”¨" class="headerlink" title="ä¸€çº§å¼•ç”¨"></a>ä¸€çº§å¼•ç”¨</h2><blockquote><p>è¦åˆ¤æ–­ä¸€ä¸ªäººæ˜¯å¦çœŸæ­£èªæ˜ï¼Œé‚£å°±è¦çœ‹ä»–èƒ½å¦æ ¹æœ¬ä¸ç”¨åŠ¨æ‰‹ï¼Œè€Œå·¥ä½œå´åˆèƒ½å®Œæˆã€‚</p></blockquote><h3 id="äºŒçº§å¼•ç”¨"><a href="#äºŒçº§å¼•ç”¨" class="headerlink" title="äºŒçº§å¼•ç”¨"></a>äºŒçº§å¼•ç”¨</h3><blockquote><p>åœ¨C++é‡Œ, æƒ³æ¬èµ·çŸ³å¤´ç ¸è‡ªå·±çš„è„šæ›´ä¸ºå›°éš¾äº†ã€‚</p><blockquote><p>ä¸è¿‡ä¸€æ—¦ä½ çœŸè¿™ä¹ˆåšäº†, æ•´æ¡è…¿éƒ½å¾—æŠ¥é”€!</p></blockquote></blockquote><h2 id="åˆ—è¡¨çš„ä½¿ç”¨"><a href="#åˆ—è¡¨çš„ä½¿ç”¨" class="headerlink" title="åˆ—è¡¨çš„ä½¿ç”¨"></a>åˆ—è¡¨çš„ä½¿ç”¨</h2><h3 id="ä¸€çº§åˆ—è¡¨"><a href="#ä¸€çº§åˆ—è¡¨" class="headerlink" title="ä¸€çº§åˆ—è¡¨"></a>ä¸€çº§åˆ—è¡¨</h3><ul><li>python</li><li>Java</li><li>c++</li></ul><h3 id="å¤šçº§åˆ—è¡¨"><a href="#å¤šçº§åˆ—è¡¨" class="headerlink" title="å¤šçº§åˆ—è¡¨"></a>å¤šçº§åˆ—è¡¨</h3><ul><li>æ•°å­¦åˆ†æ<ul><li>é«˜ç­‰ä»£æ•°<ul><li>è§£æå‡ ä½•</li></ul></li></ul></li></ul><h2 id="æ’å…¥ä»£ç "><a href="#æ’å…¥ä»£ç " class="headerlink" title="æ’å…¥ä»£ç "></a>æ’å…¥ä»£ç </h2><h3 id="è¡Œå†…ä»£ç "><a href="#è¡Œå†…ä»£ç " class="headerlink" title="è¡Œå†…ä»£ç "></a>è¡Œå†…ä»£ç </h3><p><code>printf(&quot; hello world &quot;); </code></p><h3 id="å—ä»£ç -æ¯è¡Œä»£ç å‰å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªtab"><a href="#å—ä»£ç -æ¯è¡Œä»£ç å‰å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªtab" class="headerlink" title="å—ä»£ç ,æ¯è¡Œä»£ç å‰å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªtab"></a>å—ä»£ç ,æ¯è¡Œä»£ç å‰å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªtab</h3><pre><code>Wocao    Nimei</code></pre><h3 id="Fenced-Code-Block"><a href="#Fenced-Code-Block" class="headerlink" title="Fenced Code Block"></a>Fenced Code Block</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(4):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åˆ’é‡ç‚¹"><a href="#åˆ’é‡ç‚¹" class="headerlink" title="åˆ’é‡ç‚¹"></a>åˆ’é‡ç‚¹</h2><p><code>äººç”Ÿè‹¦çŸ­</code></p><h2 id="ä¸‹åˆ’çº¿"><a href="#ä¸‹åˆ’çº¿" class="headerlink" title="ä¸‹åˆ’çº¿"></a>ä¸‹åˆ’çº¿</h2><p><strong>å¹²çš„æ¼‚äº®</strong></p><h2 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a>åˆ é™¤çº¿</h2><p><del>è¿™éƒ½ä»€ä¹ˆé¬¼</del></p><p><em>è¿™é‡Œæ˜¯æ–œä½“</em><br><strong>è¿™é‡Œæ˜¯ç²—ä½“</strong><br><em><strong>è¿™é‡Œæ˜¯ç²—æ–œä½“</strong></em></p><p>åˆ©ç”¨htmlæ ‡ç­¾æ¢è¡Œ<br/>æœ‰ç‚¹æ„æ€</p><p><img src="http://pflr7ix8q.bkt.clouddn.com/wocao.jpg" class="lazyload" data-srcset="http://pflr7ix8q.bkt.clouddn.com/wocao.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ä¸ƒç‰›å›¾äº‘"></p><h2 id="è¿™é‡Œæ˜¯è¡¨æ ¼"><a href="#è¿™é‡Œæ˜¯è¡¨æ ¼" class="headerlink" title="è¿™é‡Œæ˜¯è¡¨æ ¼"></a>è¿™é‡Œæ˜¯è¡¨æ ¼</h2><table><thead><tr><th align="center">æµè§ˆå™¨</th><th align="center">å¥½</th><th align="center">å</th></tr></thead><tbody><tr><td align="center">google</td><td align="center">1</td><td align="center">0</td></tr><tr><td align="center">firefox</td><td align="center">1</td><td align="center">0</td></tr></tbody></table><h2 id="ä½¿ç”¨fontæ ‡ç­¾æ§åˆ¶å­—ä½“é¢œè‰²"><a href="#ä½¿ç”¨fontæ ‡ç­¾æ§åˆ¶å­—ä½“é¢œè‰²" class="headerlink" title="ä½¿ç”¨fontæ ‡ç­¾æ§åˆ¶å­—ä½“é¢œè‰²"></a>ä½¿ç”¨fontæ ‡ç­¾æ§åˆ¶å­—ä½“é¢œè‰²</h2><p><font color="red">çº¢è‰²</font>&lt;br&gt;<br><font face="å¾®è½¯é›…é»‘" color="red" size="5">è‡ªå®šä¹‰å­—ä½“æ ·å¼ã€é¢œè‰²ã€å¤§å°</font></p>]]></content>
      
      
      <categories>
          
          <category> markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hello my first blog in here ï¼</title>
      <link href="/2018/09/19/hello-my-first-blog-in-here-%EF%BC%81/"/>
      <url>/2018/09/19/hello-my-first-blog-in-here-%EF%BC%81/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="æ–°çš„å¼€å§‹ï¼Œæ–°çš„è·¯çº¿"><a href="#æ–°çš„å¼€å§‹ï¼Œæ–°çš„è·¯çº¿" class="headerlink" title="æ–°çš„å¼€å§‹ï¼Œæ–°çš„è·¯çº¿"></a>æ–°çš„å¼€å§‹ï¼Œæ–°çš„è·¯çº¿</h1><p><fancybox><img src="https://s1.ax1x.com/2022/10/09/xJ7yMF.png" class="lazyload" data-srcset="https://s1.ax1x.com/2022/10/09/xJ7yMF.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="logo"></fancybox></p>]]></content>
      
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
