{"meta":{"title":"ShanSan","subtitle":"ä¸ªäººåšå®¢","description":"ShanSan's Blog","author":"ShanSan","url":"https://yeshan333.github.io","root":"/"},"pages":[{"title":"","date":"2024-06-19T14:10:13.138Z","updated":"2024-06-19T14:10:13.138Z","comments":true,"path":"baidu_verify_XRNJycrlKL.html","permalink":"https://yeshan333.github.io/baidu_verify_XRNJycrlKL.html","excerpt":"","text":"XRNJycrlKL"},{"title":"","date":"2024-06-19T14:10:13.138Z","updated":"2024-06-19T14:10:13.138Z","comments":true,"path":"googlec01c2945d8a3c128.html","permalink":"https://yeshan333.github.io/googlec01c2945d8a3c128.html","excerpt":"","text":"google-site-verification: googlec01c2945d8a3c128.html"},{"title":"404 Not Found","date":"2024-06-19T14:10:13.126Z","updated":"2024-06-19T14:10:13.126Z","comments":false,"path":"/404.html","permalink":"https://yeshan333.github.io/404.html","excerpt":"","text":"]\\ 404"},{"title":"Astronomy","date":"2018-10-09T13:26:08.000Z","updated":"2018-10-09T13:26:08.000Z","comments":true,"path":"Astronomy/index.html","permalink":"https://yeshan333.github.io/Astronomy/index.html","excerpt":"","text":"åŒ—äº¬å¤©æ–‡é¦†æ¯æ—¥å¤©æ–‡ä¸€å›¾NASA &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;å¤©ä¸Šçš„è¡—å¸‚ä½œè€…ï¼šéƒ­æ²«è‹¥è¿œè¿œçš„è¡—ç¯æ˜äº†ï¼Œå¥½åƒé—ªç€æ— æ•°çš„æ˜æ˜Ÿã€‚å¤©ä¸Šçš„æ˜æ˜Ÿç°äº†ï¼Œå¥½åƒç‚¹ç€æ— æ•°çš„è¡—ç¯ã€‚æˆ‘æƒ³é‚£ç¼¥ç¼ˆçš„ç©ºä¸­ï¼Œå®šç„¶æœ‰ç¾ä¸½çš„è¡—å¸‚ã€‚è¡—å¸‚ä¸Šé™ˆåˆ—çš„ä¸€äº›ç‰©å“ï¼Œå®šç„¶æ˜¯ä¸–ä¸Šæ²¡æœ‰çš„çå¥‡ã€‚ä½ çœ‹ï¼Œé‚£æµ…æµ…çš„å¤©æ²³ï¼Œå®šç„¶æ˜¯ä¸ç”šå®½å¹¿ã€‚é‚£éš”æ²³çš„ç‰›éƒç»‡å¥³ï¼Œå®šèƒ½å¤Ÿéª‘ç€ç‰›å„¿æ¥å¾€ã€‚æˆ‘æƒ³ä»–ä»¬æ­¤åˆ»ï¼Œå®šç„¶åœ¨å¤©è¡—é—²æ¸¸ã€‚ä¸ä¿¡ï¼Œè¯·çœ‹é‚£æœµæµæ˜Ÿï¼Œé‚£æ€•æ˜¯ä»–ä»¬æç€ç¯ç¬¼åœ¨èµ°ã€‚ ä¸€å¤©æ–‡å•ä½ï¼ˆAUï¼‰&#x3D;149,597,870.7å…¬é‡Œï¼ˆæ—¥åœ°è·ç¦»ï¼‰ ä¸€å…‰å¹´&#x3D;63241.1 AU&#x3D;946e+12å…¬é‡Œ"},{"title":"Collect","date":"2019-01-08T22:39:26.000Z","updated":"2019-01-08T22:39:26.000Z","comments":true,"path":"Collect/index.html","permalink":"https://yeshan333.github.io/Collect/index.html","excerpt":"","text":"Toolså°è®° description tools Link æˆªå±å·¥å…· Snipaste https://zh.snipaste.com/ å½•å±å·¥å…· oCam https://download.cnet.com/oCam/3000-13633_4-75758209.html æ¸…ç†å·¥å…· CCleaner https://www.ccleaner.com/ccleaner è¿œç¨‹è¿æ¥å·¥å…· Xshell https://www.netsarang.com/products/xsh_overview.html æœç´¢åˆ©å™¨ Everything http://www.voidtools.com/ Markdownç¼–è¾‘å™¨ typora https://www.typora.io/ Shadowsocks-Qt5 å½±æ¢­ https://github.com/shadowsocks/shadowsocks-qt5 windowsæ•°å­—æƒåˆ©æ¿€æ´»å·¥å…· CMWTAT_Digital_Edition https://tgsan.github.io/CMWTAT_Digital_Edition&#x2F; é•œåƒåˆ¶ä½œ WPEå·¥å…·ç®± http://udsdown.xyz/109.html é•œåƒåˆ¶ä½œ refus https://rufus.ie/ å¯åŠ¨é¡¹ç®¡ç† EasyUEFI https://www.easyuefi.com/index-cn.html å‹ç¼©å·¥å…· 7-zip https://www.7-zip.org/ ä¼˜è´¨æ–‡ç« å°è®°ç”¨GDBè°ƒè¯•ç¨‹åº https://blog.csdn.net/haoel/article/details/2879 https://blog.csdn.net/haoel/article/details/2880?utm_source&#x3D;blogxgwz2 https://blog.csdn.net/haoel/article/details/2881 https://blog.csdn.net/haoel/article/details/2882 https://blog.csdn.net/haoel/article/details/2883/ https://blog.csdn.net/haoel/article/details/2884 https://blog.csdn.net/haoel/article/details/2885/ https://coolshell.cn/articles/3643.html è·Ÿæˆ‘ä¸€èµ·å†™Makefile https://blog.csdn.net/haoel/article/details/2886 https://blog.csdn.net/haoel/article/details/2887/ https://blog.csdn.net/haoel/article/details/2888 https://blog.csdn.net/haoel/article/details/2889/ https://blog.csdn.net/haoel/article/details/2890 https://blog.csdn.net/haoel/article/details/2891 https://blog.csdn.net/haoel/article/details/2892 https://blog.csdn.net/haoel/article/details/2893/ https://blog.csdn.net/haoel/article/details/2894 https://blog.csdn.net/haoel/article/details/2895 https://blog.csdn.net/haoel/article/details/2896 https://blog.csdn.net/haoel/article/details/2897 https://blog.csdn.net/haoel/article/details/2898 https://blog.csdn.net/haoel/article/details/2899"},{"title":"æˆ‘æƒ³å¯¹æˆ‘è¯´","date":"2019-06-28T20:37:16.000Z","updated":"2019-06-28T20:37:16.000Z","comments":true,"path":"I_want_to_tell_me/index.html","permalink":"https://yeshan333.github.io/I_want_to_tell_me/index.html","excerpt":"","text":""},{"title":"PyChina","date":"2024-06-19T14:10:13.126Z","updated":"2024-06-19T14:10:13.126Z","comments":true,"path":"PyChina/index.html","permalink":"https://yeshan333.github.io/PyChina/index.html","excerpt":"","text":""},{"title":"Statement","date":"2019-03-14T20:30:46.000Z","updated":"2019-03-14T20:30:46.000Z","comments":true,"path":"Statement/index.html","permalink":"https://yeshan333.github.io/Statement/index.html","excerpt":"","text":"å£°æ˜ï¼š æœ¬ç«™æ–‡ç« åŸºäº çŸ¥è¯†å…±äº«ç½²å-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®å‘å¸ƒï¼Œæ¬¢è¿è½¬è½½ï¼Œæ¼”ç»æˆ–ç”¨äºå•†ä¸šç›®çš„ï¼Œä½†æ˜¯å¿…é¡»ä¿ç•™æœ¬ç«™æ–‡ç« çš„ç½²å Shan SanåŠé“¾æ¥ã€‚ ä½œè€…ï¼š Shan San å‡ºå¤„ï¼š https://shansan.top/"},{"title":"About/å…³äºæˆ‘","date":"2018-09-20T13:37:03.000Z","updated":"2018-09-20T13:37:03.000Z","comments":true,"path":"about/index.html","permalink":"https://yeshan333.github.io/about/index.html","excerpt":"","text":"å° target ğŸš©ï¼šä¸€ä¸ªæœˆè‡³å°‘ä¸€ç¯‡æ–‡ç« ğŸ“Œ èŠä¸€èŠæˆ‘æ˜¯è° åœ¨æ ¡ kubi å¤§å››å­¦ç”Ÿã€Œæ¯•ä¸š she fei~ äººã€ï¼Œä¸“ä¸šï¼šã€Œä¿¡æ¯ä¸è®¡ç®—ç§‘å­¦ã€ ç•¥æ‡‚ä¹ç†ğŸ¹~ ç›®å‰åœ¨å…³æ³¨ç ”ç©¶çš„æŠ€æœ¯é¢†åŸŸ Cloud Nativeã€DevOpsã€DevTest ã€å•¥ä¹Ÿä¸æ˜¯ğŸ¤¨ã€ Pythonistaã€Elixiristã€Gopherã€Rustacean å…³äºåšå®¢åšå®¢çš„æ­å»ºå’Œç»´æŠ¤å­¦äº†è®¸å¤šèŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ğŸ˜‚ï¼Œä¸»è¦ç”¨æ¥å†™å†™è‡ªå·±æƒ³å†™çš„ä¸œè¥¿ï¼ˆè™½ç„¶ç°åœ¨å¤§å¤šæ˜¯æŠ€æœ¯æ–‡ç« ï¼‰ï¼Œemmmã€‚ã€‚ã€‚æœ‰äº›è¯æƒ³åˆ°å†è¯´ã€‚ 2018-09-19 åšå®¢è¯ç”Ÿ 1ã€å…¶å®å…·ä½“æ—¥å­æˆ‘ä¹Ÿä¸è®°å¾—äº†ï¼Œå½“åˆä¸ç†Ÿæ‚‰ Gitï¼ŒCommit History è¢«æˆ‘æ‘§æ¯äº†å¾ˆå¤šæ¬¡ï¼Œéš¾ä»¥è¿½æº¯å…·ä½“æ—¥æœŸğŸ¤£ğŸ¤¦â€â™‚ï¸2ã€åŸºäº Hexo æ­å»ºçš„é™æ€åšå®¢ï¼Œæœ€åˆä½¿ç”¨çš„åšå®¢ä¸»é¢˜ä¸º yiliaï¼Œä½¿ç”¨ Github Pages æ‰˜ç®¡3ã€ä¹Ÿæ›¾ç©è¿‡ WordPressã€Typechoï¼ˆæ›¾å‰æ‰‹ä¹°äº†ä¸ªä¸»é¢˜-handsomeï¼‰4ã€ç°åœ¨åšå®¢ä½¿ç”¨çš„ Hexo åšå®¢ä¸»é¢˜æ˜¯ xaoxuxu å¤§ä½¬å†™çš„ volantisï¼Œæ›¾ç»å« Material-x å°±å¼€å§‹ç”¨äº† 2018-09-29 ä½¿ç”¨é¡¶çº§åŸŸå shansan.topï¼ŒCNAME è§£æåˆ° GitHub Pages 2018-12-24 å¯ç”¨å¤‡ç”¨åŸŸå shan333.cn å°†åšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘ CVM æœåŠ¡å™¨ï¼›Web æœåŠ¡å™¨ä½¿ç”¨åˆ°äº† Nginxï¼›ä½¿ç”¨å®å¡”é¢æ¿è¿›è¡Œ Opsï¼›é€šè¿‡ Linux å®šæ—¶ä»»åŠ¡åŒæ­¥åšå®¢åˆ°äº‘æœåŠ¡å™¨ 2020-01-30 å¼•å…¥ GitHub Actions ä½¿ç”¨ GitHub Actions æŒç»­é›†æˆ&#x2F;éƒ¨ç½² Hexo åšå®¢åˆ° GitHub Pages â€œworkflow.ymlğŸ”—â€ï¼Œæ”¾å¼ƒäº‘ç›˜å•ç‹¬å¤‡ä»½ï¼Œä½¿ç”¨ Git åšç‰ˆæœ¬æ§åˆ¶ï¼ˆå›å¿†ï¼‰ 2020-03-11 Hexo ä¸»é¢˜å‡çº§ ä¸»é¢˜å‡çº§è‡³volantis@2.0.2(åŸmaterial-xä¸»é¢˜æ”¹åäº†)ï¼Œç´§è·Ÿdalaoæ›´æ–°æ­¥ä¼ 2020-04-29 &#118;&#111;&#108;&#x61;&#x6e;&#116;&#x69;&#115;&#64;&#50;&#x2e;&#48;&#x2e;&#x32; -&gt; &#x76;&#x6f;&#x6c;&#x61;&#x6e;&#x74;&#x69;&#115;&#x40;&#50;&#x2e;&#54;&#x2e;&#53; 2021-01-18 äº‘æœåŠ¡å™¨åšå®¢åŒæ­¥å¼•å…¥ CI&#x2F;CD å†™äº†ä¸ªåŸºäº rsync åè®®çš„ GitHub Action ç”¨äº CD åšå®¢åˆ° CVM æœåŠ¡å™¨ï¼Œåšæ–‡ğŸ‘‰ä½¿ç”¨ rsync-deploy-action åŒæ­¥ Hexo åšå®¢åˆ°ä¸ªäººæœåŠ¡å™¨ 2021-03-10 &#x76;&#111;&#x6c;&#x61;&#x6e;&#x74;&#105;&#x73;&#x40;&#50;&#x2e;&#54;&#46;&#x35; -&gt; &#118;&#111;&#x6c;&#x61;&#x6e;&#x74;&#105;&#x73;&#64;&#52;&#x2e;&#x33;&#x2e;&#x31;ï¼Œ&#104;&#101;&#x78;&#x6f;&#64;&#52;&#x2e;&#48;&#x2e;&#48; -&gt; &#104;&#101;&#120;&#111;&#x40;&#53;&#46;&#52;&#x2e;&#x30; 2021-06-25 åˆ‡æ¢è¯„è®ºç³»ç»Ÿ valine -&gt; waline 2022-05-08 waline å‡çº§ 2022-11-05 volantis -&gt; v5.7.6 å‡çº§ 2024-02-06 hexo -&gt; v7.0.0 å‡çº§ 2024-03-14 volantis -&gt; v2.6.3 å‡çº§ v2.8.3ï¼ŒAPI ä¸å…¼å®¹ï¼Œåäº†ğŸ¤®~ åšå®¢åŠ å…¥äº†åå¹´ä¹‹çº¦é¡¹ç›®å—·~ç›¸ä¿¡æ—¶é—´çš„åŠ›é‡ã€‚ åŠ ä¸ªå¾®ä¿¡å§åŠ ä¸ª QQ å§"},{"title":"äº‘åŸç”Ÿ","date":"2021-02-21T13:37:03.000Z","updated":"2021-02-21T13:37:03.000Z","comments":true,"path":"cloud-native/index.html","permalink":"https://yeshan333.github.io/cloud-native/index.html","excerpt":"","text":"organization &amp;&amp; communityCNCF äº‘åŸç”ŸåŸºé‡‘ä¼šhttps://www.cncf.io/äº‘åŸç”ŸæŠ€æœ¯ç¤¾åŒºä¸­å›½äº‘åŸç”ŸæŠ€æœ¯ç¤¾åŒº dalaoJimmy Songä¸­å›½äº‘åŸç”Ÿç¤¾åŒºåˆ›å§‹äººç±³å¼€æœ—åŸºæ¨IBM Cloud Native å·¥ç¨‹å¸ˆ"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2024-06-19T14:10:13.138Z","updated":"2024-06-19T14:10:13.138Z","comments":true,"path":"categories/index.html","permalink":"https://yeshan333.github.io/categories/index.html","excerpt":"","text":""},{"title":"friends","date":"2018-09-19T22:18:33.000Z","updated":"2018-09-19T22:18:33.000Z","comments":true,"path":"friends/index.html","permalink":"https://yeshan333.github.io/friends/index.html","excerpt":"æœ‹å‹ä»¬é›¨å¸†Java,C#xaoxuuvolantisä½œè€…,IOSMashiroWebå‰ç«¯TRHXæ•°æ®é‡‡é›†ã€é€†å‘å®‰å…¨å—œè¡€æ˜Ÿç©ºearthBIMå­¦ä¹ è€…Librarius's BlogC#,HLSLhojunWebå¼€å‘Rinvay.Hè¿ç»´å¤§ä½¬æ•™ä¹¦å…ˆç”ŸWebå¼€å‘Bert Liu's Blogå®¤å†…è®¾è®¡æƒ…å°åŒ—Webå®‰å…¨Hoe's Notesåç«¯å¼€å‘æ¥“ã®è¡—ä»¥æœ‰æ¶¯éšæ— æ¶¯lvlv's blogWebå‰ç«¯HONGWEIæµ‹è¯•å·¥ç¨‹å¸ˆè¾£æ¤’ã®é…±JavaMrGo123åç«¯æ”»åŸç‹®ç‚å¿Kolin,AndroidTangeråŠ æ²¹åŠ æ²¹LiZiWuæè‡ªä¼çš„ä¸ªäººæŠ€æœ¯åšå®¢ & æœŸå¾…ä¸ä½ ç›¸é€¢æ‚²ä¼¤çš„å‰å­æ ‘Springbootæœå­é…±Java,Golang å¤±è¸ªçš„ dalao ä»¬æ…æ‹Œç³–Â°æŠ€æœ¯ä¸å®…,Webå¼€å‘HawkC++Don LexJava,Pythonä¸€å»äºŒä¸‰é¥Java,æ‘„å½±æ¸…ç§‹PythonåŠå¶å­Cäº‘å®åœ°Javaæ®‹æ¢¦å‰ç«¯ã€JSæ´›å°˜æ›¦Java,Pythonå¼ é›„å‘é˜³ç”Ÿé•¿ï¼Œè§¦ç¢°æµäº‘Nykeeå‰ç«¯æ‰“æ‚ç‹®/å…¬è·¯éª‘æ¸¸å…šå­ç¿”ä¸€ä¸ªåŠªåŠ›å­¦æŠ€æœ¯çš„å°ç™½ï¼ˆä¸­å­¦ç”Ÿï¼‰æˆ‘çˆ±åƒåœŸè±†ä¸€ä¸ªçˆ±åƒåœŸè±†çš„ç¨‹åºå‘˜","text":"æœ‹å‹ä»¬é›¨å¸†Java,C#xaoxuuvolantisä½œè€…,IOSMashiroWebå‰ç«¯TRHXæ•°æ®é‡‡é›†ã€é€†å‘å®‰å…¨å—œè¡€æ˜Ÿç©ºearthBIMå­¦ä¹ è€…Librarius's BlogC#,HLSLhojunWebå¼€å‘Rinvay.Hè¿ç»´å¤§ä½¬æ•™ä¹¦å…ˆç”ŸWebå¼€å‘Bert Liu's Blogå®¤å†…è®¾è®¡æƒ…å°åŒ—Webå®‰å…¨Hoe's Notesåç«¯å¼€å‘æ¥“ã®è¡—ä»¥æœ‰æ¶¯éšæ— æ¶¯lvlv's blogWebå‰ç«¯HONGWEIæµ‹è¯•å·¥ç¨‹å¸ˆè¾£æ¤’ã®é…±JavaMrGo123åç«¯æ”»åŸç‹®ç‚å¿Kolin,AndroidTangeråŠ æ²¹åŠ æ²¹LiZiWuæè‡ªä¼çš„ä¸ªäººæŠ€æœ¯åšå®¢ & æœŸå¾…ä¸ä½ ç›¸é€¢æ‚²ä¼¤çš„å‰å­æ ‘Springbootæœå­é…±Java,Golang å¤±è¸ªçš„ dalao ä»¬æ…æ‹Œç³–Â°æŠ€æœ¯ä¸å®…,Webå¼€å‘HawkC++Don LexJava,Pythonä¸€å»äºŒä¸‰é¥Java,æ‘„å½±æ¸…ç§‹PythonåŠå¶å­Cäº‘å®åœ°Javaæ®‹æ¢¦å‰ç«¯ã€JSæ´›å°˜æ›¦Java,Pythonå¼ é›„å‘é˜³ç”Ÿé•¿ï¼Œè§¦ç¢°æµäº‘Nykeeå‰ç«¯æ‰“æ‚ç‹®/å…¬è·¯éª‘æ¸¸å…šå­ç¿”ä¸€ä¸ªåŠªåŠ›å­¦æŠ€æœ¯çš„å°ç™½ï¼ˆä¸­å­¦ç”Ÿï¼‰æˆ‘çˆ±åƒåœŸè±†ä¸€ä¸ªçˆ±åƒåœŸè±†çš„ç¨‹åºå‘˜ å‹é“¾ğŸ”—éšç¼˜æ·»åŠ å“¦","author":"yeshan333"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2024-06-19T14:10:13.138Z","updated":"2024-06-19T14:10:13.138Z","comments":true,"path":"tags/index.html","permalink":"https://yeshan333.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"(Amazing!) é€šè¿‡ vfox åœ¨ Windows ä¸Šå®‰è£…ç®¡ç†å¤šä¸ª Erlang/OTP å’Œ Elixir çš„ç‰ˆæœ¬","slug":"install-erlang-and-elixir-via-vfox-on-windows","date":"2024-06-18T22:58:39.000Z","updated":"2024-06-18T22:58:39.000Z","comments":true,"path":"2024/06/18/install-erlang-and-elixir-via-vfox-on-windows/","permalink":"https://yeshan333.github.io/2024/06/18/install-erlang-and-elixir-via-vfox-on-windows/","excerpt":"","text":"å¤§æ¦‚ä¸€ä¸ªå¤šæœˆå‰, æˆ‘å†™äº†ç¯‡å…³äºå¦‚ä½•ä½¿ç”¨è·¨å¹³å°ç‰ˆæœ¬ç®¡ç†å·¥å…· vfox åœ¨ Linux ç³»ç»Ÿä¸‹å®‰è£…ç®¡ç†å¤šä¸ª Erlang&#x2F;OTP ç‰ˆæœ¬çš„æ–‡ç«  -&gt; é€šè¿‡ vfox å®‰è£…ç®¡ç†å¤šç‰ˆæœ¬ Erlang å’Œ Elixir. æ–‡ç« ä½¿ç”¨çš„ç¤ºèŒƒæ“ä½œç³»ç»Ÿæ˜¯ Ubuntu 20.04 Linux æ“ä½œç³»ç»Ÿ. æœ€è¿‘ vfox-erlang å’Œ vfox-elixir æ’ä»¶çš„æœ€æ–°ç‰ˆæœ¬å·²ç»æ”¯æŒäº†åœ¨ Windows å¹³å°ä¸‹å®‰è£…ç®¡ç†å¤šä¸ª Erlang&#x2F;OTP å’Œ Elixir çš„ç‰ˆæœ¬. ä¸”å·²ç»é€šè¿‡äº† End to End æµ‹è¯• -&gt; Testing. æœ¬ç¯‡æ–‡ç« å°†ä¼šä»¥ Windows 10 æ“ä½œç³»ç»Ÿä¸ºä¾‹, æ•™ä½ å¦‚ä½•åœ¨ Windows å¹³å°å®‰è£…å’Œç®¡ç†å¤šä¸ª Erlang&#x2F;OTP å’Œ Elixir ç‰ˆæœ¬. 123456&gt; Get-ComputerInfoWindowsBuildLabEx : 22621.1.amd64fre.ni_release.220506-1250WindowsCurrentVersion : 6.3WindowsInstallationType : ClientWindowsProductName : Windows 10 Pro...... 1ã€å®‰è£… vfoxvfox (version-fox) æ˜¯æœ€è¿‘æ¯”è¾ƒçƒ­é—¨çš„ä¸€ä¸ªè·¨å¹³å°é€šç”¨ç‰ˆæœ¬ç®¡ç†å·¥å…·, ä½¿ç”¨ Go è¯­è¨€è¿›è¡Œç¼–å†™, æ’ä»¶æœºåˆ¶ä½¿ç”¨äº† Lua å»å®ç°æ‰©å±•æ€§. ç›®å‰ vfox å·²ç»æ”¯æŒç®¡ç†å¤§å¤šæ•°ä¸»æµç¼–ç¨‹è¯­è¨€çš„ç‰ˆæœ¬, ç”Ÿæ€è¿˜ç®—å¼ºå¤§. åœ¨è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°ç›®å‰ vfox æ‰€æ”¯æŒç®¡ç†çš„ç¼–ç¨‹è¯­è¨€ç‰ˆæœ¬å’Œå·¥å…· -&gt; vfox-Available Plugins. è¯·ç¡®å®‰è£… 0.5.3 åŠä»¥ä¸Šç‰ˆæœ¬çš„ vfox, å¦åˆ™ vfox-erlang å’Œ vfox-elixir å°†æ— æ³•æ­£å¸¸å·¥ä½œ. åœ¨è¿™é‡Œæˆ‘ä»¬é€šè¿‡ winget å®‰è£… vfox: 12345&gt; winget install vfox.......â¯ vfox -versionvfox version 0.5.3 ä¸ºäº†èƒ½è®© vfox æ‰¾åˆ°å·²ç»å®‰è£…çš„ Elixir å’Œ Erlang ç‰ˆæœ¬, éœ€è¦å°† vfox é»˜è®¤æŒ‚è½½åˆ° powershell ä¸­: æ‰“å¼€ PowerShell é…ç½®æ–‡ä»¶: 123456New-Item -Type File -Path $PROFILE # æ— éœ€åœ¨æ„ `æ–‡ä»¶å·²å­˜åœ¨` é”™è¯¯# å¦‚æœå®ƒæç¤ºæœªèƒ½æ‰¾åˆ°è·¯å¾„, é‚£ä¹ˆä½ éœ€è¦å¼ºåˆ¶åˆ›å»º profile. æ·»åŠ  &quot;-Force&quot; é€‰é¡¹. # New-Item -Type File -Path $PROFILE â€“ForceInvoke-Item $PROFILE # æ‰“å¼€ profile å°†ä¸‹é¢ä¸€è¡Œæ·»åŠ åˆ°ä½ çš„ $PROFILE æ–‡ä»¶æœ«å°¾å¹¶ä¿å­˜: 1Invoke-Expression &quot;$(vfox activate pwsh)&quot; å¦‚æœpowershellæç¤º: åœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬, é‚£ä¹ˆè¯·ä½ ä»¥ç®¡ç†å‘˜èº«ä»½é‡æ–°è¿è¡Œpowershellè¾“å…¥å¦‚ä¸‹å‘½ä»¤ 123Set-ExecutionPolicy -ExecutionPolicy RemoteSigned# ä¹‹åè¾“å…¥Y, æŒ‰å›è½¦y ä½ ä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£å®‰è£… vfox -&gt; https://vfox.lhan.me/guides/quick-start.html. å®‰è£…å¥½ vfox ä¹‹å, æˆ‘ä»¬å†å®‰è£…ä¸‹ç‰ˆæœ¬ç®¡ç†æ’ä»¶: 1234# æ·»åŠ  vfox-erlang æ’ä»¶vfox add erlang# æ·»åŠ  vfox-elixir æ’ä»¶vfox add elixir å®‰è£…å®Œæˆåå°±å¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ª vfox æ’ä»¶ vfox-erlang å’Œ vfox-elixir åœ¨ Windows å¹³å°å»å®‰è£…ç®¡ç†å¤šä¸ª Erlang å’Œ Elixir çš„ç‰ˆæœ¬äº†. 2ã€é€šè¿‡ vfox-erlang æ’ä»¶å®‰è£… Erlang&#x2F;OTPå› ä¸º Elixir ä¾èµ–äº Erlang&#x2F;OTP, æ‰€ä»¥åœ¨å®‰è£… Elixir ä¹‹å‰, æˆ‘ä»¬éœ€è¦å…ˆå®‰è£…ä¸‹ Erlang&#x2F;OTP. å¦‚æœä½ å·²ç»é€šè¿‡å…¶ä»–æ–¹å¼å®‰è£…äº† Erlang&#x2F;OTP, è¯·ç¡®ä¿åç»­é€šè¿‡ vfox-elixir å®‰è£…çš„ Elixir ç‰ˆæœ¬ä¸å®ƒæ˜¯å…¼å®¹çš„, å¯ä»¥æŸ¥çœ‹ Elixir å®˜æ–¹æ–‡æ¡£è¯´æ˜å»ç¡®è®¤è¿™ä¸€ç‚¹ between-elixir-and-erlang-otp. 12345678910111213141516# é€šè¿‡ vfox search æ‰¾åˆ°ä½ æƒ³è¦å®‰è£…çš„ç‰ˆæœ¬â¯ vfox search erlangPlease select a version of erlang [type to search]: -&gt; v25.0.4 v24.3.4.16 v24.1.3 v24.0 v24.3 v24.3.2 v25.2 v27.0-rc2 v24.3.4.1Press â†‘/â†“ to select and press â†/â†’ to page, and press Enter to confirm# å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‡å®šå®‰è£…ä¸€ä¸ªç‰ˆæœ¬, æ¯”å¦‚vfox install erlang@26.2.2 ç†è®ºä¸Š, ä½ å¯ä»¥å®‰è£…ä»»ä½•ä¸€ä¸ªå‡ºç°åœ¨ https://github.com/erlang/otp/releases ä¸­åŒ…å« exe æ–‡ä»¶çš„å‘è¡Œç‰ˆæœ¬. å½“ä½ çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯, å°±è¡¨æ˜å®‰è£…å®Œæˆäº†. 1234compile info..........Install erlang@26.2.2 success! Please use vfox use erlang@26.2.2 to use it. æˆ‘ä»¬ä½¿ç”¨ vfox åˆ‡æ¢ä¸‹åˆ°åˆšæ‰å®‰è£…å¥½çš„ Erlang&#x2F;OTP ç‰ˆæœ¬æ¥éªŒè¯ä¸‹å®‰è£…æ˜¯å¦æˆåŠŸ: 1234567â¯ vfox use -g erlang@26.2.2Now using erlang@26.2.2.â¯ erlErlang/OTP 26 [erts-14.2.2] [source] [64-bit] [smp:16:16] [ds:16:16:10] [async-threads:1] [jit:ns]Eshell V14.2.2 (press Ctrl+G to abort, type help(). for help)1&gt; å¦‚æœèƒ½æ­£ç¡®å”¤é†’ REPL (Read-Eval-Print Loop) äº¤äº’å¼å‘½ä»¤è¡Œ, é‚£ä¹ˆå®‰è£…å°±å¥½å•¦. æ¥ä¸‹æ¥å¼€å§‹å®‰è£… Elixir å§ 3ã€ é€šè¿‡ vfox-elixir æ’ä»¶å®‰è£… Elixiråœ¨å¼€å§‹å®‰è£…æŒ‡å®šçš„ Elixir ç‰ˆæœ¬ä¹‹å‰, è¯·ç¡®ä¿å½“å‰å®‰è£…çš„ shell èƒ½æ‰¾åˆ°å·²ç»å®‰è£…å¥½ Erlang&#x2F;OTP ç‰ˆæœ¬ç›¸å…³å·¥å…·é“¾ 12345678910111213141516171819202122232425262728293031323334# åˆ‡æ¢ Erlang/OTP ç‰ˆæœ¬vfox use -g erlang@26.2.2# å®‰è£…ä¸€ä¸ªä¸ Erlang/OTP ç‰ˆæœ¬å…¼å®¹çš„ Elixir ç‰ˆæœ¬&gt; vfox search elixirPlease select a version of elixir to install [type to search]:-&gt; v1.16.2-elixir-otp-26 v1.16.2-elixir-otp-25 v1.16.2-elixir-otp-24 v1.16.1-elixir-otp-26 v1.16.1-elixir-otp-25 v1.16.1-elixir-otp-24 v1.16.0-rc.1-elixir-otp-26 v1.16.0-rc.1-elixir-otp-25 v1.16.0-rc.1-elixir-otp-24 v1.16.0-rc.0-elixir-otp-26 v1.16.0-rc.0-elixir-otp-25 v1.16.0-rc.0-elixir-otp-24 v1.16.0-elixir-otp-26 v1.16.0-elixir-otp-25 v1.16.0-elixir-otp-24 v1.15.7-elixir-otp-26 v1.15.7-elixir-otp-25 v1.15.7-elixir-otp-24 v1.15.6-elixir-otp-26 v1.15.6-elixir-otp-25Press â†‘/â†“ to select and press â†/â†’ to page, and press Enter to confirm# æ¯”å¦‚vfox install elixir@v1.16.1-elixir-otp-26..........Install elixir@1.16.1-elixir-otp-26 success!Please use vfox use elixir@1.16.1-elixir-otp-26 to use it. å½“ä½ çœ‹åˆ°å½¢å¦‚ Install elixir@1.16.1-elixir-otp-26 success! Please use vfox use elixir@1.16.1-elixir-otp-26 to use it. ç›¸å…³ä¿¡æ¯, å°±ä»£è¡¨å®‰è£…å·²ç»å®Œæˆäº†, æ¥ä¸‹æ¥éªŒè¯ä¸‹å¯ç”¨æ€§: 12345â¯ vfox use -g elixir@1.16.1-elixir-otp-26Now using elixir@1.15.2.&gt; iex.batErlang/OTP 26 [erts-14.2.5] [source] [64-bit] [smp:16:16] [ds:16:16:10] [async-threads:1] [jit:ns] Interactive Elixir (1.16.1) - press Ctrl+C to exit (type h() ENTER for help)iex(1)&gt; Elixir çš„ REPL (Read-Eval-Print Loop) äº¤äº’å¼å‘½ä»¤è¡Œèƒ½æ­£å¸¸æ‰“å¼€çš„è¯, é‚£ä¹ˆå®‰è£…æ—¶æˆåŠŸä¸”å¯ç”¨çš„. æœ€åvfox çš„ä¸¤ä¸ªå®‰è£…ç®¡ç† Erlang&#x2F;OTP å’Œ Elixir ç‰ˆæœ¬çš„æ’ä»¶åŒæ—¶ä¹Ÿæ”¯æŒåœ¨ Uinx-like (Linux &amp; Darwin MacOS) ç³»ç»Ÿä¸‹ç®¡ç†å¤šä¸ªç‰ˆæœ¬. ä½ å¯ä»¥æŸ¥çœ‹è¿™ä¸ªæ–‡æ¡£å»äº†è§£æ›´å¤šä¿¡æ¯: https://github.com/version-fox/vfox-elixir. å…¨å¹³å°æ“ä½œç³»ç»Ÿæ”¯æŒ~ Happy &amp; funny!","categories":[{"name":"vfox","slug":"vfox","permalink":"https://yeshan333.github.io/categories/vfox/"}],"tags":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/tags/Elixir/"},{"name":"Erlang","slug":"Erlang","permalink":"https://yeshan333.github.io/tags/Erlang/"},{"name":"vfox","slug":"vfox","permalink":"https://yeshan333.github.io/tags/vfox/"},{"name":"Windows","slug":"Windows","permalink":"https://yeshan333.github.io/tags/Windows/"}]},{"title":"æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•åœ¨ Sider (ChatGPT Sidebar) ä¸­å…è´¹ä½¿ç”¨é€šä¹‰åƒé—®","slug":"free-to-use-sider-with-qwen","date":"2024-05-29T00:29:49.000Z","updated":"2024-05-29T00:29:49.000Z","comments":true,"path":"2024/05/29/free-to-use-sider-with-qwen/","permalink":"https://yeshan333.github.io/2024/05/29/free-to-use-sider-with-qwen/","excerpt":"","text":"æœ€è¿‘å›½äº§å¤§æ¨¡å‹æ­£åœ¨ç–¯ç‹‚é™ä»·ï¼Œæ¨å‡ºäº†ä¼—å¤šçš„å…è´¹ç­–ç•¥ï¼Œæ˜¯æ—¶å€™è¯¥â€œç™½å«–â€ä¸€æ‰‹äº†ã€‚ç”¨è¿‡ Sider çš„å°ä¼™ä¼´åº”è¯¥å¾ˆå°‘æœ‰è¯´ä¸â€œå¦™â€å•Šï¼Œç”¨æˆ·ä½“éªŒä¹Ÿåšå¾—å¾ˆæ£’ã€‚å¥ˆä½•å®ƒè¦å¼€é€šä½¿ç”¨å…¨éƒ¨çš„åŠŸèƒ½ä»·æ ¼æœ‰å¯èƒ½ä¸å¤ªèƒ½æ‰¿å—ï¼Œä¸”æœ‰äº›åŠŸèƒ½ä¸ä¸€å®šç”¨å¾—ä¸Šã€‚ä½†æ˜¯å…è´¹ï¼Œåˆæœ‰ä¸€å®šçš„é¢åº¦å’Œæ¬¡æ•°é™åˆ¶ã€‚Sider å…¶å®æ˜¯æ”¯æŒç”¨æˆ·ä½¿ç”¨è‡ªå·±çš„ OpenAI å¯†é’¥çš„ï¼Œä½† OpenAI çš„å‡ ä¸ªä¹Ÿä¸å¤ªä½å‘ã€‚ æ¥ä¸‹æ¥æœ¬æ–‡å°†ä¼šä»‹ç»å¦‚ä½•åœ¨ Sider ä¸­â€œå…è´¹â€ä½¿ç”¨é€šä¹‰åƒé—®ã€‚ ä»€ä¹ˆæ˜¯ Sider (ChatGPT Sidebar) Sider æ˜¯ä¸€æ¬¾æ™ºèƒ½å·¥å…·,å¯ä»¥æ·»åŠ åˆ°æ‚¨çš„æµè§ˆå™¨ä¸­,å¸®åŠ©æ‚¨è½»æ¾å®Œæˆå„ç§åœ¨çº¿ä»»åŠ¡ã€‚å®ƒä½¿ç”¨ ChatGPTã€GPT-4ã€Gemini å’Œ Claude 3 ç­‰ API,å¯ä»¥å¸®åŠ©æ‚¨è¿›è¡Œå†™ä½œã€é˜…è¯»ã€èŠå¤©ä»¥åŠå†…å®¹æ‘˜è¦ç­‰ã€‚ä»¥ä¸‹æ˜¯ Sider çš„ä¸»è¦åŠŸèƒ½: èŠå¤©ä»»ä½•è¯é¢˜ã€æ–‡ä»¶ã€å›¾åƒ - æ‚¨å¯ä»¥å°±ä»»ä½•æ„Ÿå…´è¶£çš„è¯é¢˜è¿›è¡ŒèŠå¤©, ç”šè‡³å¯ä»¥å‘ Sider å±•ç¤ºå›¾ç‰‡æˆ–æ–‡æ¡£,å®ƒä¼šç»™å‡ºæ¸…æ™°çš„ç­”å¤æˆ–å»ºè®®,è®©æ¯æ¬¡èŠå¤©éƒ½å¾ˆæœ‰è¶£ä¸”æœ‰å¸®åŠ©ã€‚ æ›´å¿«åœ°é˜…è¯»ç½‘é¡µã€é€‰å®šæ–‡æœ¬ã€ç”µå­é‚®ä»¶ - Sider å¯ä»¥å¸®åŠ©æ‚¨æ›´å¿«åœ°æµè§ˆç½‘é¡µã€æ–‡æœ¬å’Œç”µå­é‚®ä»¶, æä¾›è¦ç‚¹æ€»ç»“, è®©æ‚¨è½»æ¾å¿«é€Ÿåœ°æµè§ˆé•¿ç¯‡æ–‡ç« æˆ–æ¶ˆæ¯ã€‚ æ›´å¥½åœ°å†™ä½œä»»ä½•å†…å®¹ - æ— è®ºæ˜¯ç”µå­é‚®ä»¶ã€æ–‡ç« è¿˜æ˜¯æ¶ˆæ¯, Sider éƒ½å¯ä»¥å¸®åŠ©æ‚¨æ”¹å–„å†™ä½œè´¨é‡,æä¾›å»ºè®®ä»¥ä½¿æ‚¨çš„å†™ä½œæ›´ç¬¦åˆæ‚¨çš„é£æ ¼å’Œç›®çš„ã€‚ ç­‰ç­‰ è®¿é—®äº§å“å®˜ç½‘å³å¯åœ¨æµè§ˆå™¨å¿«é€Ÿå®‰è£… Sider æ’ä»¶: https://sider.ai/zh-CN/ åœ¨ Sider æµè§ˆå™¨æ’ä»¶ä¸­ä½¿ç”¨é€šä¹‰åƒé—® â€œé€šä¹‰åƒé—®â€æ˜¯é˜¿é‡Œäº‘å¼€å‘çš„ä¸€æ¬¾å¤§å‹è¯­è¨€æ¨¡å‹. å¦‚æœä½ ç”¨è¿‡ Siderï¼Œåº”è¯¥çŸ¥é“èƒ½åœ¨é€šç”¨é…ç½®å¤„é…ç½®è‡ªå·±çš„ OpenAI å¯†é’¥çš„ã€‚è¦æƒ³åœ¨ Sider ä¸­ä½¿ç”¨é€šä¹‰åƒé—®å¤§æ¨¡å‹ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ç”¨åˆ°è¿™ä¸ªé…ç½®ã€‚ æœ€è¿‘é˜¿é‡Œäº‘çš„çµç§¯æ¨¡å‹æœåŠ¡å¼€æ”¾ API å‡ºäº† OpenAI çš„å…¼å®¹æ¨¡å¼æ¥å£ -&gt; OpenAIæ¥å£å…¼å®¹, è¿™æ„å‘³ç€æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå…¼å®¹æ¥å£ä½œä¸º Sider æ’ä»¶çš„é…ç½®å³å¯ä½¿ç”¨é€šä¹‰åƒé—®ã€‚å¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬æœ‰ä¸‰ä¸ªé…ç½®éœ€è¦å¡«å†™ï¼š 1ã€API Key ä»é˜¿é‡Œäº‘çš„æ¨¡å‹æœåŠ¡çµç§¯æ§åˆ¶å°è·å– -&gt; è·å– API Key 2ã€url å¡«å†™ï¼šhttps://dashscope.aliyuncs.com/compatible-mode 3ã€ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å‹åç§°ï¼ŒModel Name å¡«å†™ä½ æƒ³ä½¿ç”¨çš„å¤§æ¨¡å‹åå­—ï¼Œæ¯”å¦‚ qwen-turbo, æ¨¡å‹å¯ä»¥ä»è¿™é‡Œæ‰¾åˆ°: é€šä¹‰å‰æ–‡-æ¨¡å‹æ¦‚è§ˆ é…ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒå•¦~","categories":[{"name":"å¤§æ¨¡å‹","slug":"å¤§æ¨¡å‹","permalink":"https://yeshan333.github.io/categories/%E5%A4%A7%E6%A8%A1%E5%9E%8B/"},{"name":"LLMs","slug":"LLMs","permalink":"https://yeshan333.github.io/categories/LLMs/"},{"name":"Sider","slug":"Sider","permalink":"https://yeshan333.github.io/categories/Sider/"}],"tags":[{"name":"Sider","slug":"Sider","permalink":"https://yeshan333.github.io/tags/Sider/"},{"name":"é€šä¹‰åƒé—®","slug":"é€šä¹‰åƒé—®","permalink":"https://yeshan333.github.io/tags/%E9%80%9A%E4%B9%89%E5%8D%83%E9%97%AE/"}]},{"title":"ä½¿ç”¨ vscode æ’ä»¶ vscode-jenkins-pipeline-linter-connector å’Œ LLMs å¤§æ¨¡å‹æ ¡éªŒä½ çš„ Jenkinsfile","slug":"validate-jenkinsfile","date":"2024-05-25T17:05:12.000Z","updated":"2024-05-25T17:05:12.000Z","comments":true,"path":"2024/05/25/validate-jenkinsfile/","permalink":"https://yeshan333.github.io/2024/05/25/validate-jenkinsfile/","excerpt":"","text":"Jenkins ä¸€ç›´ä»¥æ¥éƒ½æ˜¯æ¯”è¾ƒçƒ­é—¨çš„ç”¨æ¥åš CI&#x2F;CD çš„è‡ªåŠ¨åŒ–å·¥å…·, å¦‚æœä½ ä½¿ç”¨è¿‡ GitHub Action, å’Œå®ƒç±»ä¼¼, ç°åœ¨å¤§å¤šæ•°çš„è‡ªåŠ¨åŒ–å·¥å…·éƒ½ä¼šæä¾› DSLï¼ˆé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰å»æè¿° &amp; ç¼–æ’è‡ªåŠ¨åŒ–å·¥ä½œæµ, Jenkins çš„ Pipeline Syntax å°±æ˜¯ Jenkins æä¾›çš„ç¼–æ’è¯­è¨€, å¯¹åº”çš„ç¼–æ’æ–‡ä»¶ä¸€èˆ¬ç§°ä¹‹ä¸º Jenkinsfile, è¯­æ³•è§„åˆ™å’Œ Groovy å¾ˆç±»ä¼¼. æˆ‘å¹³å¸¸ä½¿ç”¨ Declarative Pipeline Syntax æ¯”è¾ƒå¤š, Jenkinsfile çš„ç®¡ç†ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ä¸€ä¸ª Git ä»“åº“. åœ¨æœ¬åœ°ç¼–è¾‘å®Œæˆä¹‹åä¸€ç›´æ¯”è¾ƒå¤´ç–¼çš„æ˜¯è¯­æ³•çš„æ ¡éªŒ, ç»å¸¸éœ€è¦ä»£ç æäº¤ä¹‹åå®é™…å»è·‘ Pipeline æ‰èƒ½ç¡®è®¤æœ‰æ²¡æœ‰è¯­æ³•é—®é¢˜. å…¶å®è¿™ä¸ªè¯­æ³•æ ¡éªŒåœ¨ Jenkins çš„ UI ä¸Šé…ç½®æ˜¯è‡ªå¸¦çš„, ä½†æ€»ä¸èƒ½æ¯æ¬¡åœ¨ä»£ç ç¼–è¾‘å™¨ç¼–è¾‘ä¹‹åå†æ‹·è´ä¸Šå»å§, Jenkins çš„å®˜æ–¹æ–‡æ¡£ä¹Ÿæœ‰å»ºè®®æœ¬åœ°å¼€å‘ Pipeline çš„ä½¿ç”¨å¯ä»¥ä½¿ç”¨ä»€ä¹ˆå·¥å…·é“¾ pipeline-development-tools. å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·ã€Jenkins Open APIã€IDE æ’ä»¶ç­‰å¯ä»¥å»ä½¿ç”¨. æ—¥å¸¸ä½¿ç”¨ Visual Studio Code æ¯”è¾ƒå¤š, æ‰€ä»¥æœ€ç»ˆé€‰æ‹©äº† vscode çš„æ’ä»¶ vscode-jenkins-pipeline-linter-connector, è¿™ä¸ªæ’ä»¶åŸç†å®ç°ä¸Šè¿˜æ˜¯é€šè¿‡å°† Jenkinsfile çš„å†…å®¹é€šè¿‡ API æäº¤ç»™ Jenkins å»æ ¡éªŒçš„. ä¸è¿‡æ’ä»¶å·²ç»å¹´ä¹…å¤±ä¿®äº†, ä»£ç æ¯”è¾ƒä¹…äº†, å®é™…çš„ä½¿ç”¨ä¸Šé‡åˆ°äº†ä¸å°‘çš„é—®é¢˜, ä¾‹å¦‚: Jenkinsfile å¸¦æœ‰ä¸­æ–‡çš„è¯æ ¡éªŒç»“æœæ˜¾ç¤ºå®¹æ˜“ä¹±ç , æ¯”å¦‚è¿™ä¸ª Jenkinsfile: 1234567891011pipeline &#123; agent any stages &#123; stage(&#x27;Helloä¸­æ–‡&gt;&gt;&gt;&gt;&gt;&#x27;) &#123; steps &#123; echo &#x27;Hello Worlä¸­æ–‡ &#125; &#125; &#125;&#125; æ ¡éªŒç»“æœè¿”å›ä¼šæœ‰æ®µä¹±ç , å¦‚ä¸‹: 123Errors encountered validating Jenkinsfile:WorkflowScript: 6: unexpected char: 0xB8 @ line 6, column 36. echo &#x27;Hello World&#x27;Ã¤Â¸Â­Ã¦ï¿½ï¿½ æ’ä»¶å®ç°ä¾èµ–çš„åŸºç¡€åº“ä¹Ÿæ¯”è¾ƒè€äº†, æ‰€ä»¥æˆ‘ fork äº†ä¸€ä¸‹åŸæ¥æ’ä»¶, åšäº†ä¸‹ä»£ç é‡æ„å’Œéƒ¨åˆ†é—®é¢˜çš„ä¿®å¤ &amp; ä¼˜åŒ–å·¥ä½œ, ä¸»è¦å¦‚ä¸‹: ä¿®å¤ Jenkinsfile ä¸­æ–‡ä¹±ç é—®é¢˜. å¯ä»¥åœ¨ä¸ä¿å­˜ Jenkinsfile çš„æ—¶å€™ç›´æ¥è¿›è¡Œæ ¡éªŒ. æ–‡ä»¶ä¿å­˜çš„æ—¶å€™ç«‹å³è‡ªåŠ¨è§¦å‘æ ¡éªŒ. æ”¯æŒæ§åˆ¶ä»€ä¹ˆæ ·çš„æ–‡ä»¶åå¯ä»¥è¿›è¡Œæ ¡éªŒ, ç›¸å½“äºä¸€ä¸ªç™½åå•æœºåˆ¶, å¯èƒ½ä¼šæœ‰äº›äººä¼šå°†å·¥ä½œæµå®šä¹‰å†™åœ¨å¦å¤–çš„æ–‡ä»¶åä¸‹, æ¯”å¦‚: workflows.jenkins ç­‰, æ‰€ä»¥æ‰æœ‰äº†è¿™ä¸ªç‰¹æ€§. å¼•å…¥ langchain.js å’Œ Cloudflare å…è´¹çš„ Workers AI REST API é…ç½®å¤§æ¨¡å‹åš Review. â€¦ æ’ä»¶ç°åœ¨å·²ç»åŒæ­¥å‘å¸ƒåˆ°äº† Visual Studio Code å•†åº—å’Œ Open VSX Registry ä¸­, ç†è®ºä¸Šä½ å¯ä»¥åœ¨ Microsoft Visual Studio Codeã€code-serverã€VSCodium ç­‰ vscode ç³»åˆ— IDE ä¸­ä½¿ç”¨åˆ°å®ƒ, é“¾æ¥å¦‚ä¸‹: Microsoft Visual Studio Marketplace: https://marketplace.visualstudio.com/items?itemName=yeshan333.jenkins-pipeline-linter-connector-fork Open VSX Registry: https://marketplace.visualstudio.com/items?itemName=yeshan333.jenkins-pipeline-linter-connector-fork ç°åœ¨ä½ åº”è¯¥èƒ½åœ¨æ’ä»¶æœç´¢é‡Œæœç´¢åˆ°å®ƒ, ä½¿ç”¨ yeshan333.jenkins-pipeline-linter-connector-fork å»æœç´¢å®‰è£…å³å¯: é…ç½®æ’ä»¶æ’ä»¶çš„æ–‡æ¡£é‡Œå·²ç»ç»™å‡ºäº†å‡ ä¸ªç¤ºä¾‹é…ç½®, å°†é…ç½®å¡«å…¥ä½ çš„ vscode ç”¨æˆ·é…ç½® json æ–‡ä»¶ä¸­å³å¯: 12345&#123; &quot;jenkins.pipeline.linter.connector.url&quot;: &quot;https://jenkins.shan333.cn/pipeline-model-converter/validate&quot;, &quot;jenkins.pipeline.linter.connector.user&quot;: &quot;jenkins_username&quot;, &quot;jenkins.pipeline.linter.connector.pass&quot;: &quot;jenkins_password&quot;&#125; å°† urlã€ç”¨æˆ·å¯†ç æ›¿æ¢æˆä½ è‡ªå·±çš„ Jenkins å³å¯. å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨æ’ä»¶é…ç½®å¤„ç›´æ¥è¿›è¡Œé…ç½®: é…ç½®å®Œæˆä¹‹åç›´æ¥é€šè¿‡å‘½ä»¤é¢æ¿ (Command Pallette) ä½¿ç”¨ Validate Jenkins å³å¯å¼€å¯ Jenkinsfile æ ¡éªŒ: æ¥ä¸‹æ¥ä»‹ç»å¦‚ä½•ä½¿ç”¨ LLM å»å¸®ä½ è¯„å®¡ Jenkinsfile. ä½¿ç”¨ LLM å¤§æ¨¡å‹è¯„å®¡ä½ çš„ Jenkinsfileè¿™ä¸€åŠŸèƒ½é»˜è®¤æ˜¯å…³é—­çš„, éœ€è¦é€šè¿‡é…ç½® jenkins.pipeline.linter.connector.llm.enable å»å¼€å¯, åŠŸèƒ½å¼€å¯ä¹‹åæˆ‘ä»¬è¿˜éœ€è¦å‡ ä¸ªå¡«å†™å‡ ä¸ªå…³é”®é…ç½®, å¦‚ä¸‹: 123456&#123; &quot;jenkins.pipeline.linter.connector.llm.enable&quot;: true, &quot;jenkins.pipeline.linter.connector.llm.baseUrl&quot;: &quot;https://api.cloudflare.com/client/v4/accounts/&lt;CF_ACCOUNT_ID&gt;/ai/v1&quot;, &quot;jenkins.pipeline.linter.connector.llm.modelName&quot;: &quot;@cf/meta/llama-2-7b-chat-fp16&quot;, &quot;jenkins.pipeline.linter.connector.llm.apiKey&quot;: &quot;&lt;CF_API_TOKEN&gt;&quot;,&#125; å…¶ä¸­ baseUrl å’Œ apiKey éœ€è¦æˆ‘ä»¬åˆ° Cloudflare ç”¨æˆ·ç®¡ç†åå°ç”³è¯·. æ’ä»¶é»˜è®¤ä¼šä½¿ç”¨ Cloudflare Workers AI REST API æä¾›çš„æ–‡æœ¬ç”Ÿæˆæ¨¡å‹å»è¯„å®¡ review æˆ‘ä»¬çš„ Jenkinsfile, ç›®å‰å®ƒæä¾›å…è´¹é¢åº¦åŸºæœ¬å¤Ÿæ—¥å¸¸ä½¿ç”¨. Step 1: ä½ éœ€è¦å…ˆæŒ‰ç…§ Cloudflare æä¾›çš„æ–‡æ¡£å»è·å– API è®¿é—®çš„å¯†é’¥ -&gt; Get started with the Workers AI REST API, å°†è·å–åˆ°çš„ API Token å¡«å…¥é…ç½® &quot;jenkins.pipeline.linter.connector.llm.apiKey&quot; ä¸­. Step 2: åœ¨ä¸Šä¸€æ­¥, ä½ åœ¨ç”³è¯·çš„æ—¶å€™ä¹Ÿä¼šæ‹¿åˆ°ä¸€ä¸ª Account ID, è¿™ä¸ª ACCOUNT ID ç”¨äºç»„è£…é…ç½® &quot;jenkins.pipeline.linter.connector.llm.baseUrl&quot;, å°† &quot;https://api.cloudflare.com/client/v4/accounts/&lt;CF_ACCOUNT_ID&gt;/ai/v1&quot; çš„ &lt;CF_ACCOUNT_ID&gt; æ›¿æ¢ä¸ºä½ çš„ Account ID å³å¯ é…ç½® jenkins.pipeline.linter.connector.llm.modelName æ˜¯å¯é€‰åœ°, ä½ å¯ä»¥é€‰ç”¨ https://developers.cloudflare.com/workers-ai/models/#text-generation æåˆ°çš„ä»»æ„ä¸€ä¸ªæ–‡æœ¬ç”Ÿæˆæ¨¡å‹å»åšè¯„å®¡. å°†ä¸Šè¿°é…ç½®é…ç½®å®Œæˆä¹‹å, é€šè¿‡ vscode å‘½ä»¤é¢æ¿ (Command Pallette) ä½¿ç”¨ Validate Jenkins å¼€å¯ Jenkinsfile æ ¡éªŒçš„åŒæ—¶ä¹Ÿä¼šåŒæ—¶å‘å¤§æ¨¡å‹è¯¢é—®è¯„å®¡æ„è§, å¤§è‡´æ•ˆæœå¦‚ä¸‹:","categories":[{"name":"Jenkins","slug":"Jenkins","permalink":"https://yeshan333.github.io/categories/Jenkins/"}],"tags":[{"name":"Jenkins","slug":"Jenkins","permalink":"https://yeshan333.github.io/tags/Jenkins/"},{"name":"Cloudflare","slug":"Cloudflare","permalink":"https://yeshan333.github.io/tags/Cloudflare/"},{"name":"Workers AI","slug":"Workers-AI","permalink":"https://yeshan333.github.io/tags/Workers-AI/"},{"name":"Langchain","slug":"Langchain","permalink":"https://yeshan333.github.io/tags/Langchain/"},{"name":"LLMs","slug":"LLMs","permalink":"https://yeshan333.github.io/tags/LLMs/"}]},{"title":"etcd å’Œ MongoDB çš„æ··æ²Œï¼ˆæ•…éšœï¼‰æµ‹è¯•æ–¹æ³•","slug":"etcd-and-mongodb-chaos-testing","date":"2024-05-18T15:02:09.000Z","updated":"2024-05-18T15:02:09.000Z","comments":true,"path":"2024/05/18/etcd-and-mongodb-chaos-testing/","permalink":"https://yeshan333.github.io/2024/05/18/etcd-and-mongodb-chaos-testing/","excerpt":"","text":"æœ€è¿‘åœ¨å¯¹ä¸€äº›è‡ªå»ºçš„æ•°æ®åº“ driver&#x2F;client åŸºç¡€åº“çš„å¥å£®æ€§åšæ··æ²Œï¼ˆæ•…éšœï¼‰æµ‹è¯•, å»éªŒè¯äº†è§£ä¸šåŠ¡çš„æ•…éšœå¤„ç†æœºåˆ¶å’Œæ¢å¤æ—¶é•¿. ä¸»è¦æ¶‰åŠåˆ°äº† MongoDB å’Œ etcd è¿™ä¸¤ä¸ªåŸºç¡€ç»„ä»¶. æœ¬æ–‡ä¼šä»‹ç»ä¸‹ç›¸å…³çš„æµ‹è¯•æ–¹æ³•. MongoDB ä¸­çš„æ•…éšœæµ‹è¯• MongoDB æ˜¯æ¯”è¾ƒä¸–ç•Œä¸Šçƒ­é—¨çš„æ–‡æ¡£å‹æ•°æ®åº“, æ”¯æŒ ACID äº‹åŠ¡ã€åˆ†å¸ƒå¼ç­‰ç‰¹æ€§. ç¤¾åŒºä¸Šå¤§éƒ¨åˆ†å¯¹ MongoDB è¿›è¡Œæ··æ²Œï¼ˆæ•…éšœï¼‰æµ‹è¯•çš„æ–‡ç« å¤§å¤šéƒ½æ˜¯å¤–å›´é€šè¿‡å¯¹ monogd æˆ– mongos è¿›è¡Œåšå¤„ç†è¿›è¡Œæ¨¡æ‹Ÿçš„. æ¯”å¦‚å¦‚æœæƒ³è¦è®© MongoDB è‡ªå·±è§¦å‘å‰¯æœ¬é›†åˆ‡æ¢, å¯ä»¥é€šè¿‡ä¸€ä¸‹è¿™æ ·ä¸€æ®µ shell è„šæœ¬: 123456# å°†å‰¯æœ¬é›†ä¸»èŠ‚ç‚¹è¿›ç¨‹æŒ‚æ­»kill -s STOP &lt;mongodb-primary-pid&gt;# æŒ‚æ­»ä¹‹å, ä¸šåŠ¡å—æŸ, MongoDB åœ¨å‡ ç§’åˆ°åå‡ ç§’åº”è¯¥ä¼šè¿›ç¨‹ä¸»å¤‡åˆ‡æ¢# åˆ‡æ¢å®Œæˆå, ä¸šåŠ¡èƒ½è‡ªåŠ¨å°†è¿æ¥åˆ‡æ¢åˆ°æ–°çš„å·¥ä½œæ­£å¸¸çš„ä¸»èŠ‚ç‚¹, æ— éœ€äººå·¥å¹²é¢„, ä¸šåŠ¡æ¢å¤æ­£å¸¸# è¿™é‡Œä¸€èˆ¬éªŒè¯çš„æ˜¯ Mongo Client Driver çš„å¯é æ€§ ä¸Šé¢æåˆ°çš„æ‰‹æ®µä¸€èˆ¬æ˜¯ç³»ç»Ÿå±‚çº§çš„, å¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³è¦æ¨¡æ‹ŸæŸä¸ª MongoDB command å‘½ä»¤é‡åˆ°ç½‘ç»œé—®é¢˜äº†, æ€ä¹ˆåšï¼Ÿè¿›ä¸€æ­¥æƒ³è¦è¿›è¡Œæ›´ç»†ç²’åº¦çš„æµ‹è¯•. å…¶å® MongoDB åœ¨ 4.x ä»¥ä¸Šç‰ˆæœ¬å†…éƒ¨å·²ç»å®ç°äº†ä¸€å¥—å¯æ§çš„æ•…éšœç‚¹æ¨¡æ‹Ÿæœºåˆ¶ -&gt; failCommand. åœ¨æµ‹è¯•ç¯å¢ƒéƒ¨ç½² MongoDB å‰¯æœ¬é›†çš„æ—¶å€™, ä¸€èˆ¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯åŠ¨è¿™ä¸ªç‰¹æ€§: 1mongod --setParameter enableTestCommands=1 ç„¶åæˆ‘ä»¬å¯ä»¥é€šè¿‡ mongo shell é’ˆå¯¹ç‰¹å®šçš„ command å¼€å¯æ•…éšœç‚¹, ä¾‹å¦‚é’ˆå¯¹ä¸€æ¬¡ find æ“ä½œè®©å…¶è¿”å›é”™è¯¯ç  2: 1234567db.adminCommand(&#123; configureFailPoint: &quot;failCommand&quot;, mode: &#123; &quot;times&quot;: 1, &#125;, data: &#123;errorCode: 2, failCommands: [&quot;find&quot;]&#125;&#125;); è¿™äº›æ•…éšœç‚¹æ¨¡æ‹Ÿæ˜¯å¯æ§çš„, æˆæœ¬ç›¸å¯¹äºå¿…ç›´æ¥åœ¨æœºå™¨ä¸Šæç ´åæ¯”è¾ƒä½, ä¹Ÿå¾ˆé€‚åˆèå…¥æŒç»­é›†æˆè‡ªåŠ¨åŒ–æµç¨‹. MongoDB å†…ç½®çš„æ•…éšœç‚¹æœºåˆ¶è¿˜æ”¯æŒäº†å¾ˆå¤šçš„ç‰¹æ€§, æ¯”å¦‚è®©æŸä¸ªæ•…éšœæ¦‚ç‡å‘ç”Ÿã€è¿”å›ä»»æ„ MongoDB æ”¯æŒçš„é”™è¯¯ç ç±»å‹ç­‰ç­‰, é€šè¿‡è¯¥æœºåˆ¶, æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ä¸­éªŒè¯æˆ‘ä»¬è‡ªå·±å®ç°çš„ MongoDB Client Driver çš„å¯é æ€§. å¦‚æœæƒ³å…·ä½“çŸ¥é“ MongoDB æ”¯æŒå“ªäº›æ•…éšœç‚¹, å¯ä»¥è¯¦ç»†æŸ¥çœ‹ MongoDB æä¾›çš„ specification, é‡Œé¢æœ‰æåˆ°é’ˆå¯¹ MongoDB æ¯ä¸€ä¸ªç‰¹æ€§, driver å¯ä»¥ä½¿ç”¨å“ªäº›æ•…éšœç‚¹è¿›è¡Œæµ‹è¯•. MongoDB å®˜æ–¹æä¾›çš„ go å®ç°çš„ dirver ä»£ç ä»“åº“ä¸­ä¹Ÿæœ‰ä¸å°‘çš„ä¾‹å­å¯ä»¥å‚è€ƒ https://github.com/mongodb/mongo-go-driver/blob/345ea9574e28732ca4f9d7d3bb9c103c897a65b8/mongo/with_transactions_test.go#L122. etcd ä¸­çš„æ•…éšœæµ‹è¯• etcd æ˜¯ä¸€ä¸ªå¼€æºçš„ã€é«˜å¯ç”¨çš„åˆ†å¸ƒå¼é”®å€¼å­˜å‚¨ç³»ç»Ÿ, å®ƒä¸»è¦ç”¨äºå…±äº«é…ç½®å’ŒæœåŠ¡å‘ç°. ä¹‹å‰æˆ‘ä»¬æåˆ°äº† MongoDB å†…ç½®äº†å¯æ§çš„æ•…éšœç‚¹æ³¨å…¥æœºåˆ¶æ–¹ä¾¿æˆ‘ä»¬åšæ•…éšœç‚¹æµ‹è¯•, é‚£ä¹ˆ etcd æ˜¯å¦ä¹Ÿæä¾›äº†å‘¢ï¼Ÿ æ²¡é”™, etcd å®˜æ–¹ä¹Ÿæä¾›äº†å†…ç½®çš„å¯æ§æ•…éšœæ³¨å…¥æ‰‹æ®µæ–¹ä¾¿æˆ‘ä»¬å›´ç»• etcd åšæ•…éšœæ¨¡æ‹Ÿæµ‹è¯•, ä¸è¿‡å®˜æ–¹æä¾›çš„å¯ä¾›éƒ¨ç½²çš„äºŒè¿›åˆ¶åˆ†å‘é»˜è®¤æ˜¯æ²¡æœ‰ä½¿ç”¨æ•…éšœæ³¨å…¥ç‰¹æ€§çš„, åŒºåˆ«äº MongoDB æä¾›äº†å¼€å…³, etcd éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä»æºç ç¼–è¯‘å‡ºåŒ…å«æ•…éšœæ³¨å…¥ç‰¹æ€§çš„äºŒè¿›åˆ¶å‡ºæ¥å»éƒ¨ç½². etcd å®˜æ–¹å®ç°äº†ä¸€ä¸ª Go åŒ… gofail å»åš â€œå¯æ§â€ çš„æ•…éšœç‚¹æµ‹è¯•, å¯ä»¥æ§åˆ¶ç‰¹å®šæ•…éšœå‘ç”Ÿçš„æ¦‚ç‡å’Œæ¬¡æ•°. gofail å¯ä»¥ç”¨äºä»»æ„ Go å®ç°çš„ç¨‹åºä¸­. åŸç†ä¸Šé€šè¿‡æ³¨é‡Šåœ¨æºä»£ç ä¸­é€šè¿‡æ³¨é‡Š (// gofail:) å»å¯¹å¯èƒ½å‘ç”Ÿé—®é¢˜çš„åœ°æ–¹åŸ‹è—ä¸€äº›æ•…éšœæ³¨å…¥ç‚¹, åäºè¿›è¡Œæµ‹è¯•éªŒè¯, ä¾‹å¦‚: 12345if t.backend.hooks != nil &#123; // gofail: var commitBeforePreCommitHook struct&#123;&#125; t.backend.hooks.OnPreCommitUnsafe(t) // gofail: var commitAfterPreCommitHook struct&#123;&#125;&#125; åœ¨ä½¿ç”¨ go build æ„å»ºå‡ºäºŒè¿›åˆ¶ä¹‹å‰, ä½¿ç”¨ gofail æä¾›çš„å‘½ä»¤è¡Œå·¥å…· gofail enable å¯ä»¥å–æ¶ˆè¿™äº›æ•…éšœæ³¨å…¥ç›¸å…³ä»£ç çš„æ³¨é‡Š, å¹¶ç”Ÿæˆæ•…éšœç‚¹ç›¸å…³çš„ä»£ç ï¼Œè¿™æ ·ç¼–è¯‘å‡ºçš„äºŒè¿›åˆ¶å¯ä»¥ç”¨äºæ•…éšœåœºæ™¯çš„ç»†ç²’åº¦æµ‹è¯•. ä½¿ç”¨ gofail disable å»æ³¨é‡Šå»é™¤æ‰ç”Ÿæˆçš„æ•…éšœç‚¹ç›¸å…³ä»£ç , å†ä½¿ç”¨ go build ç¼–è¯‘å‡ºçš„äºŒè¿›åˆ¶å°±å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨. åœ¨æ‰§è¡ŒäºŒè¿›åˆ¶çš„æ—¶å€™, å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ GOFAIL_FAILPOINTS å»å”¤é†’æ•…éšœç‚¹, å¦‚æœä½ çš„äºŒè¿›åˆ¶ç¨‹åºæ˜¯ä¸ªæ°¸ä¸åœæœºçš„æœåŠ¡, é‚£ä¹ˆå¯ä»¥é€šè¿‡ GOFAIL_HTTP ç¯å¢ƒå˜é‡åœ¨ç¨‹åºå¯åŠ¨çš„åŒæ—¶, å¯åŠ¨ä¸€ä¸ª HTTP endpoint å»ç»™å¤–éƒ¨æµ‹è¯•å·¥å…·å”¤é†’åŸ‹è—çš„æ•…éšœç‚¹. å…·ä½“çš„åŸç†å®ç°å¯ä»¥æŸ¥çœ‹ä¸‹ gofail çš„è®¾è®¡æ–‡æ¡£ -&gt; design. å€¼çš„ä¸€æçš„æ˜¯ pingcap é‡æ–°åŸºäº gofail é‡æ–°é€ äº†ä¸ªè½®å­, åšäº†ä¸å°‘ä¼˜åŒ–:failpoint ç›¸å…³ä»£ç ä¸åº”è¯¥æœ‰ä»»ä½•é¢å¤–å¼€é”€ï¼›ä¸èƒ½å½±å“æ­£å¸¸åŠŸèƒ½é€»è¾‘ï¼Œä¸èƒ½å¯¹åŠŸèƒ½ä»£ç æœ‰ä»»ä½•ä¾µå…¥ï¼›failpoint ä»£ç å¿…é¡»æ˜¯æ˜“è¯»ã€æ˜“å†™å¹¶ä¸”èƒ½å¼•å…¥ç¼–è¯‘å™¨æ£€æµ‹ï¼›æœ€ç»ˆç”Ÿæˆçš„ä»£ç å¿…é¡»å…·æœ‰å¯è¯»æ€§ï¼›ç”Ÿæˆä»£ç ä¸­ï¼ŒåŠŸèƒ½é€»è¾‘ä»£ç çš„è¡Œå·ä¸èƒ½å‘ç”Ÿå˜åŒ–ï¼ˆä¾¿äºè°ƒè¯•ï¼‰ï¼›å¦‚æœæƒ³è¦äº†è§£å®ƒçš„å®ç°åŸç†, å¯ä»¥æŸ¥çœ‹è¿™ç¯‡å®˜æ–¹æ–‡ç« : Golang Failpoint çš„è®¾è®¡ä¸å®ç°è¿™ç¯‡æ·±åº¦å‰–æçš„åšå®¢ä¹Ÿå€¼å¾—ä¸€è¯»: åœ¨ Go ä¸­ä½¿ç”¨ Failpoint æ³¨å…¥æ•…éšœ æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨ etcd ä¸­å¯ç”¨è¿™äº›æ•…éšœåŸ‹ç‚¹ã€‚ ç¼–è¯‘å‡ºå¯ä¾›è¿›è¡Œæ•…éšœæµ‹è¯•çš„ etcdetcd å®˜æ–¹ä»“åº“çš„ Makefile å·²ç»å†…ç½®äº†å¯¹åº”çš„æŒ‡ä»¤å¸®æˆ‘ä»¬å¿«é€Ÿç¼–è¯‘å‡ºåŒ…å«æ•…éšœç‚¹äºŒè¿›åˆ¶ etcd server. ç¼–è¯‘æ­¥éª¤å¤§è‡´å¦‚ä¸‹: 12345678git clone git@github.com:etcd-io/etcd.gitcd etcd# æ¿€æ´»æ•…éšœç‚¹æ³¨é‡Šmake gofail-enablemake build# è¿˜åŸä»£ç make gofail-disable ç»è¿‡å¦‚ä¸Šæ­¥éª¤ä¹‹å, ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ç›´æ¥å¯ä»¥åœ¨ bin ç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°, è®©æˆ‘ä»¬å¯åŠ¨ etcd çœ‹ä¸€ä¸‹: 12# å¼€å¯é€šè¿‡ HTTP æ¿€æ´»æ•…éšœç‚¹çš„æ–¹å¼GOFAIL_HTTP=&quot;127.0.0.1:22381&quot; ./bin/etcd ä½¿ç”¨ curl çœ‹ä¸‹æœ‰å“ªäº›æ•…éšœç‚¹å¯ä»¥ä½¿ç”¨: 123456789101112131415161718192021222324252627282930313233343536curl http://127.0.0.1:22381afterCommit=afterStartDBTxn=afterWritebackBuf=applyBeforeOpenSnapshot=beforeApplyOneConfChange=beforeApplyOneEntryNormal=beforeCommit=beforeLookupWhenForwardLeaseTimeToLive=beforeLookupWhenLeaseTimeToLive=beforeSendWatchResponse=beforeStartDBTxn=beforeWritebackBuf=commitAfterPreCommitHook=commitBeforePreCommitHook=compactAfterCommitBatch=compactAfterCommitScheduledCompact=compactAfterSetFinishedCompact=compactBeforeCommitBatch=compactBeforeCommitScheduledCompact=compactBeforeSetFinishedCompact=defragBeforeCopy=defragBeforeRename=raftAfterApplySnap=raftAfterSave=raftAfterSaveSnap=raftAfterWALRelease=raftBeforeAdvance=raftBeforeApplySnap=raftBeforeFollowerSend=raftBeforeLeaderSend=raftBeforeSave=raftBeforeSaveSnap=walAfterSync=walBeforeSync= çŸ¥é“äº†æ•…éšœç‚¹, å°±å¯ä»¥é’ˆå¯¹æŒ‡å®šæ•…éšœè®¾ç½®æ•…éšœç±»å‹, å¦‚ä¸‹: 12345# beforeLookupWhenForwardLeaseTimeToLive å¤„ sleep 1 ç§’curl http://127.0.0.1:22381/beforeLookupWhenForwardLeaseTimeToLive -XPUT -d&#x27;sleep(10000)&#x27;# æŸ¥çœ‹æ•…éšœç‚¹çŠ¶æ€curl http://127.0.0.1:22381/beforeLookupWhenForwardLeaseTimeToLivesleep(1000) æ•…éšœç‚¹çš„æè¿°è¯­æ³•è§: https://github.com/etcd-io/gofail/blob/master/doc/design.md#syntax è‡³æ­¤, å·²ç»å¯ä»¥åˆ©ç”¨ etcd å†…ç½®çš„æ•…éšœç‚¹åšä¸€äº›æ•…éšœæ¨¡æ‹Ÿæµ‹è¯•äº†, å…·ä½“æ€ä¹ˆä½¿ç”¨è¿™äº›æ•…éšœç‚¹å¯ä»¥å‚è€ƒä¸‹ etcd å®˜æ–¹çš„é›†æˆæµ‹è¯•å®ç° -&gt; etcd Robustness Testing. é€šè¿‡æ•…éšœç‚¹åç§°æœç´¢ç›¸å…³ä»£ç å³å¯. é™¤äº†ä¸Šè¿°è¿™äº› etcd å†…ç½®çš„æ•…éšœç‚¹, etcd çš„å®˜æ–¹ä»“åº“ä¹Ÿæä¾›äº†ä¸€ä»½ç³»ç»Ÿçº§çš„é›†æˆæµ‹è¯•ä¾‹å­ -&gt; etcd local-tester, å®ƒæ¨¡æ‹Ÿäº† etcd é›†ç¾¤æ¨¡å¼ä¸‹çš„èŠ‚ç‚¹å®•æœºæµ‹è¯•. å¥½äº†, æœ¬æ–‡çš„åˆ†äº«, åˆ°æ­¤æš‚æ—¶ç»“æŸå•¦ áƒ¦( Â´ï½¥á´—ï½¥&#96; )~ å°å¹¿å‘Šæ’æ’­: æœ€è¿‘ç»´æŠ¤äº†å¯ä»¥ç»´æŠ¤å¤šä¸ª etcd serverã€etcdctlã€etcductl ç‰ˆæœ¬çš„å·¥å…· vfox-etcd, ä½ ä¹Ÿå¯ä»¥ç”¨å®ƒæ¥åœ¨æœºå™¨ä¸Šå®‰è£…å¤šä¸ªåŒ…å« failpoint çš„ etcd ç‰ˆæœ¬è¿›è¡Œæ··æ²Œ (æ•…éšœæ¨¡æ‹Ÿ) æµ‹è¯•å“¦~","categories":[{"name":"Chaos","slug":"Chaos","permalink":"https://yeshan333.github.io/categories/Chaos/"}],"tags":[{"name":"Chaos Testing","slug":"Chaos-Testing","permalink":"https://yeshan333.github.io/tags/Chaos-Testing/"},{"name":"etcd","slug":"etcd","permalink":"https://yeshan333.github.io/tags/etcd/"},{"name":"MongoDB","slug":"MongoDB","permalink":"https://yeshan333.github.io/tags/MongoDB/"}]},{"title":"é€šè¿‡ vfox å®‰è£…ç®¡ç†å¤šç‰ˆæœ¬ Erlang å’Œ Elixir","slug":"install-erlang-and-elixir-via-vfox","date":"2024-04-27T15:36:31.000Z","updated":"2024-04-27T15:36:31.000Z","comments":true,"path":"2024/04/27/install-erlang-and-elixir-via-vfox/","permalink":"https://yeshan333.github.io/2024/04/27/install-erlang-and-elixir-via-vfox/","excerpt":"","text":"vfox (version-fox) æ˜¯æœ€è¿‘æ¯”è¾ƒçƒ­é—¨çš„ä¸€ä¸ªé€šç”¨ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œä½¿ç”¨ Go è¯­è¨€è¿›è¡Œç¼–å†™ï¼Œæ’ä»¶æœºåˆ¶ä½¿ç”¨äº† Lua å»å®ç°æ‰©å±•æ€§. ç›®å‰ vfox å·²ç»æ”¯æŒç®¡ç†å¤§å¤šæ•°ä¸»æµç¼–ç¨‹è¯­è¨€çš„ç‰ˆæœ¬ï¼Œç”Ÿæ€è¿˜ç®—å¼ºå¤§ã€‚åœ¨è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°ç›®å‰ vfox æ‰€æ”¯æŒç®¡ç†çš„ç¼–ç¨‹è¯­è¨€ç‰ˆæœ¬å’Œå·¥å…· -&gt; vfox-Available Plugins Elixir å’Œ Erlang ç¤¾åŒºä¸€ç›´ä»¥æ¥éƒ½æ¯”è¾ƒæµè¡Œé€šè¿‡ asdf å»å®‰è£…å’Œç®¡ç†å¤šç‰ˆæœ¬ç¯å¢ƒã€‚asdf ä¹Ÿæ˜¯ä¸€ä¸ªé€šç”¨çš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œç”Ÿæ€éå¸¸çš„ä¸°å¯Œã€‚ vfox çš„ç‰ˆæœ¬ç®¡ç†ä¸Šå’Œ asdf å¾ˆåƒï¼Œå‡é€šè¿‡ .tool-versions æ–‡ä»¶å»ç®¡ç†é¡¹ç›®çº§å’Œå…¨å±€çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚è¿™æ„å‘³ç€å¦‚æœä½ ä¹‹å‰ä½¿ç”¨äº† asdfï¼Œé‚£ä¹ˆåˆ‡æ¢åˆ° vfoxï¼Œä¸ä¼šå¾ˆå›°éš¾ã€‚å› ä¸º vfox å’Œ asdf çš„æ ¸å¿ƒå®ç°æœ‰æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œvfox çš„æ‰§è¡Œé€Ÿåº¦æ¯” asdf å¿«äº†å°†è¿‘ 5 å€~ï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿç»™å‡ºäº†åŸºå‡†æµ‹è¯•ç»“æœï¼šversion-fox Comparison with asdf-vm å¦‚æœä½ ä¹‹å‰ä½¿ç”¨ asdf å»ç®¡ç†ç»´æŠ¤å¤šä¸ª Erlang å’Œ Elixir çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆ vfox ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå€¼çš„ä¸€è¯•ã€‚ æœ¬ç¯‡æ–‡ç« å°†ä¼šä»‹ç»å¦‚æœé€šè¿‡ vfox å»å®‰è£…å’Œç®¡ç†å¤šä¸ª Erlang å’Œ Elixir çš„ç‰ˆæœ¬ã€‚ å®‰è£… vfoxvfox (version-fox) çš„è·¨æ“ä½œç³»ç»Ÿæ”¯æŒä¸Šå¾ˆå‹å¥½ï¼Œè¿™æ„å‘³å¯ä»¥ Windows å’Œ Unix-like ç³»ç»Ÿä¸Šä½¿ç”¨å®ƒã€‚æœ¬ç¯‡æ–‡ç« çš„æ ¸å¿ƒæ˜¯é€šè¿‡ vfox å»å®‰è£…å’Œç®¡ç†å¤šä¸ª Erlang å’Œ Elixir è¯­è¨€çš„ç‰ˆæœ¬ã€‚å› ä¸ºç›®å‰ vfox çš„ä¸¤ä¸ªç®¡ç† Erlang å’Œ Elixir ç‰ˆæœ¬çš„æ’ä»¶å®ç°ä¸Šè¿˜æ²¡æœ‰å»æ”¯æŒåœ¨ Windows æ“ä½œç³»ç»Ÿä¸‹çš„ç®¡ç†ï¼Œæ‰€ä»¥æœ¬ç¯‡æ–‡ç« çš„ç¤ºä¾‹ç¯å¢ƒä¸»è¦æ˜¯ Ubuntu 20.04 Linux ç¯å¢ƒã€‚è®©æˆ‘ä»¬å¼€å§‹å§~ å…ˆå®‰è£…ä¸‹ vfox (version fox): 123echo &quot;deb [trusted=yes] https://apt.fury.io/versionfox/ /&quot; | sudo tee /etc/apt/sources.list.d/versionfox.listsudo apt-get updatesudo apt-get install vfox ä¸ºäº†èƒ½è®© vfox æ‰¾åˆ°å·²ç»å®‰è£…çš„ Elixir å’Œ Erlang ç‰ˆæœ¬ï¼Œéœ€è¦å°† vfox é»˜è®¤æŒ‚è½½åˆ° shell ä¸­ã€‚æ¥ä¸‹æ¥ä¿®æ”¹ä¸‹ shell çš„é…ç½® (ä»¥ Bash ä¸ºä¾‹)ï¼š 1echo &#x27;eval &quot;$(vfox activate bash)&quot;&#x27; &gt;&gt; ~/.bashrc ä½ ä¹Ÿå¯ä»¥å‚è€ƒè¿™ä¸ªå®˜æ–¹æ–‡æ¡£å®‰è£… vfox -&gt; https://vfox.lhan.me/guides/quick-start.htmlã€‚å®‰è£…å¥½ vfox ä¹‹åï¼Œæˆ‘ä»¬å†å®‰è£…ä¸‹æ’ä»¶ï¼š 1234# æ·»åŠ  vfox-erlang æ’ä»¶vfox add erlang# æ·»åŠ  vfox-elixir æ’ä»¶vfox add elixir æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸Šé¢å®‰è£…å¥½çš„ä¸¤ä¸ª vfox æ’ä»¶ vfox-erlang å’Œ vfox-elixir å»å®‰è£…ç®¡ç†å¤šä¸ª Erlang å’Œ Elixir çš„ç‰ˆæœ¬äº†ã€‚ é€šè¿‡ vfox-erlang æ’ä»¶å®‰è£… Erlang&#x2F;OTPå› ä¸º Elixir ä¾èµ–äº Erlangï¼Œæ‰€ä»¥åœ¨å®‰è£… Elixir ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…ä¸‹ Erlangã€‚Erlang çš„å®‰è£…æ˜¯é€šè¿‡å¯¹åº”ç‰ˆæœ¬çš„æºç è¿›è¡Œå®‰è£…çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰å¯¹åº”çš„ç¼–è¯‘å·¥å…·é“¾ï¼Œè¿™é‡Œä»¥ Ubuntu 20.04 ä¸ºä¾‹ï¼š 1sudo apt-get -y install build-essential autoconf m4 libncurses5-dev libwxgtk3.0-gtk3-dev libwxgtk-webview3.0-gtk3-dev libgl1-mesa-dev libglu1-mesa-dev libpng-dev libssh-dev unixodbc-dev xsltproc fop libxml2-utils libncurses-dev openjdk-11-jdk æ¥ä¸‹æ¥å¯ä»¥å®‰è£… Erlang äº†ã€‚ 12345678910111213141516# é€šè¿‡ vfox search æ‰¾åˆ°ä½ æƒ³è¦å®‰è£…çš„ç‰ˆæœ¬â¯ vfox search erlangPlease select a version of erlang [type to search]: -&gt; v25.0.4 v24.3.4.16 v24.1.3 v24.0 v24.3 v24.3.2 v25.2 v27.0-rc2 v24.3.4.1Press â†‘/â†“ to select and press â†/â†’ to page, and press Enter to confirm# å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‡å®šå®‰è£…ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ¯”å¦‚vfox install erlang@26.2.2 ç†è®ºä¸Šï¼Œä½ å¯ä»¥å®‰è£…ä»»ä½•ä¸€ä¸ªå‡ºç°åœ¨ https://github.com/erlang/otp/releases çš„ç‰ˆæœ¬ã€‚å› ä¸ºæ˜¯ä»æºç ç¼–è¯‘å®‰è£…çš„, æ‰€ä»¥å®‰è£…è¿‡ç¨‹ä¼šèŠ±è´¹ç‚¹æ—¶é—´ã€‚å½“ä½ çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼Œå°±è¡¨æ˜å®‰è£…å®Œæˆäº†ã€‚ 1234compile info..........Install erlang@26.2.2 success! Please use vfox use erlang@26.2.2 to use it. æˆ‘ä»¬ä½¿ç”¨ vfox åˆ‡æ¢ä¸‹åˆ°åˆšæ‰å®‰è£…å¥½çš„ Erlang&#x2F;OTP ç‰ˆæœ¬æ¥éªŒè¯ä¸‹å®‰è£…æ˜¯å¦æˆåŠŸ: 1234567â¯ vfox use erlang@26.2.2Now using erlang@26.2.2.â¯ erlErlang/OTP 26 [erts-14.2.2] [source] [64-bit] [smp:16:16] [ds:16:16:10] [async-threads:1] [jit:ns]Eshell V14.2.2 (press Ctrl+G to abort, type help(). for help)1&gt; å¦‚æœèƒ½æ­£ç¡®å”¤é†’ REPLï¼Œé‚£ä¹ˆå®‰è£…å°±å¥½å•¦ã€‚æ¥ä¸‹æ¥å¼€å§‹å®‰è£… Elixir å§ å®‰è£… Elixirå› ä¸ºå®‰è£… Elixir ä¹Ÿæ˜¯ä»å¯¹åº”ç‰ˆæœ¬çš„æºç è¿›è¡Œç¼–è¯‘å®‰è£…çš„ï¼ŒElixir çš„ç¼–è¯‘éœ€è¦ä¾èµ–åˆ° Erlangï¼Œæˆ‘ä»¬å…ˆè®©å½“å‰ä½¿ç”¨çš„ shell èƒ½æ‰¾åˆ°åˆšæ‰å®‰è£…å¥½çš„ Erlangã€‚ 123456789101112131415# åˆ‡æ¢ Erlang ç‰ˆæœ¬â¯ vfox use erlang@26.2.2Now using erlang@26.2.2.# å®‰è£… Elixirï¼Œå°†ä¼šä½¿ç”¨å¯¹åº”çš„ erlc ç¼–è¯‘å™¨&gt; vfox install elixir@1.15.2..................Generated ex_unit app==&gt; logger (compile)Generated logger appGenerated eex app==&gt; iex (compile)Generated iex appInstall elixir@1.15.2 success! Please use vfox use elixir@1.15.2 to use it. å½“ä½ çœ‹åˆ° Install &#101;&#x6c;&#105;&#x78;&#105;&#114;&#x40;&#x31;&#46;&#x31;&#x35;&#x2e;&#x32; success!ï¼Œä¹Ÿå°±æ„å‘³ç€å®‰è£…æˆåŠŸäº†ã€‚å¯ä»¥é€šè¿‡ iex ç¡®è®¤ä¸‹å®‰è£…å½»åº•æˆåŠŸ: 1234567â¯ vfox use elixir@1.15.2Now using elixir@1.15.2.â¯ iexErlang/OTP 26 [erts-14.2.2] [source] [64-bit] [smp:16:16] [ds:16:16:10] [async-threads:1] [jit:ns]Interactive Elixir (1.15.2) - press Ctrl+C to exit (type h() ENTER for help)iex(1)&gt; å¦‚æœä½ æƒ³è¦å®‰è£…å…¶ä»–ç‰ˆæœ¬çš„ Elixirï¼Œè¯·ç¡®ä¿å½“å‰ä½¿ç”¨çš„ Erlang&#x2F;OTP ç‰ˆæœ¬å’Œ Elixir ç‰ˆæœ¬æ˜¯å…¼å®¹çš„ï¼Œå¯ä»¥æŸ¥çœ‹è¿™ä¸ªæ–‡æ¡£å»ç¡®è®¤å…¼å®¹æ€§: ã€Šcompatibility-and-deprecations.html#between-elixir-and-erlang-otpã€‹ã€‚ è®¾ç½®å…¨å±€ä½¿ç”¨ç‰ˆæœ¬æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ vfox use -g xxx è®¾ç½®é»˜è®¤ä½¿ç”¨çš„ Erlang å’Œ Elixir ç‰ˆæœ¬ã€‚ 1234567&gt; vfox use -g erlang@26.2.2&gt; vfox use -g elixir@1.15.2# å¯ä»¥æŸ¥çœ‹ .tool-versions ç¡®è®¤è®¾ç½®æ˜¯å¦å®Œæˆ&gt; cat ~/.version-fox/.tool-versions erlang 26.2.2elixir 1.15.2 æœ€åvfox çš„ä¸¤ä¸ªå®‰è£…ç®¡ç† Erlang&#x2F;OTP å’Œ Elixir ç‰ˆæœ¬çš„æ’ä»¶åŒæ—¶ä¹Ÿæ”¯æŒåœ¨ MacOS Darwin ä¸‹ç®¡ç†å¤šä¸ªç‰ˆæœ¬ã€‚ä½ å¯ä»¥æŸ¥çœ‹è¿™ä¸ªæ–‡æ¡£å»äº†è§£æ›´å¤šä¿¡æ¯: https://github.com/version-fox/vfox-elixir?tab=readme-ov-file#install-in-darwin-macos-13. Happy &amp; funny!","categories":[{"name":"vfox","slug":"vfox","permalink":"https://yeshan333.github.io/categories/vfox/"}],"tags":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/tags/Elixir/"},{"name":"Erlang","slug":"Erlang","permalink":"https://yeshan333.github.io/tags/Erlang/"},{"name":"vfox","slug":"vfox","permalink":"https://yeshan333.github.io/tags/vfox/"}]},{"title":"ä½¿ç”¨ vfox-erlang å®‰è£…ç®¡ç†å¤šä¸ª Erlang/OTP ç‰ˆæœ¬","slug":"using-vfox-erlang-to-manage-erlang-version","date":"2024-04-25T23:15:01.000Z","updated":"2024-04-25T23:15:01.000Z","comments":true,"path":"2024/04/25/using-vfox-erlang-to-manage-erlang-version/","permalink":"https://yeshan333.github.io/2024/04/25/using-vfox-erlang-to-manage-erlang-version/","excerpt":"","text":"vfox (version fox) æ˜¯ä¸€æ¬¾è·¨å¹³å°ã€å¯æ‹“å±•çš„é€šç”¨ç‰ˆæœ¬ç®¡ç†å™¨. æ”¯æŒåŸç”Ÿ Windows ä»¥åŠ Unix-like ç³»ç»Ÿ! é€šè¿‡å®ƒ, å¯ä»¥å¿«é€Ÿå®‰è£…å’Œåˆ‡æ¢å¼€å‘ç¯å¢ƒçš„è½¯ä»¶ç‰ˆæœ¬. æœ€è¿‘ç»™ vfox æ°´äº†å‡ ä¸ªæ’ä»¶, å…¶ä¸­å°±æœ‰ç®¡ç†å¤šä¸ª Erlang&#x2F;OTP ç‰ˆæœ¬çš„, å¾ˆå–œæ¬¢ä»–çš„æ’ä»¶ç®¡ç†æœºåˆ¶. ä¹‹å‰ä¹Ÿæœ‰ä½¿ç”¨è¿‡ç±»ä¼¼çš„å·¥å…· asdf, ä¸è¿‡ asdf ä¹‹å‰çš„ä½¿ç”¨ä½“éªŒä¸æ€ä¹ˆå¥½ (æœ¨æœ‰æ‹‰è¸©çš„æ„æ€~, asdf çš„ç”Ÿæ€æ˜¯éå¸¸å¼ºå¤§çš„), vfox ç°åœ¨æ”¯æŒçš„æ’ä»¶å·²ç»éå¸¸ä¹‹å¤šäº†, å·²ç»å¯ä»¥ç®¡ç†å¤§å¤šæ•°å¸¸è§ä¸»æµè¯­è¨€çš„ç‰ˆæœ¬. vfox çš„ç‰ˆæœ¬ç®¡ç†å·¥ä½œæµå¤§ä½“ä¸Šæ˜¯å’Œ asdf ç±»ä¼¼çš„, ä¸è¿‡æ€§èƒ½è¦å¥½ä¸€ç‚¹ (5 å€å·¦å³), æ¯•ç«Ÿ asdf æ ¸å¿ƒæ˜¯ shell å†™çš„. å®˜æ–¹æ–‡æ¡£ä¹Ÿç»™å‡ºäº†ä¸€ä»½åŸºå‡†æµ‹è¯•, å‚è§ ã€ŠComparison with asdf-vmã€‹ï¼š vfox å’Œ asdf ä¸€æ ·, å¯ä»¥é€šè¿‡ .tool-version é…ç½®æ–‡ä»¶è®¾ç½®å…¨å±€å’Œé¡¹ç›®çº§ä½¿ç”¨åˆ°çš„ç‰ˆæœ¬, è¿™æ„å‘³ç€å¦‚æœä½ ä» asdf åˆ‡æ¢åˆ° vfox, ç›¸å½“çš„æ–¹ä¾¿. vfox-erlang çš„ä½¿ç”¨æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»æ€ä¹ˆä½¿ç”¨ vfox-erlang æ’ä»¶, åœ¨åŒä¸€å°æœºå™¨ä¸Šç®¡ç†å¤šä¸ª Erlang&#x2F;OTP çš„ç‰ˆæœ¬. ä¸€èˆ¬åœ¨å¼€å‘ç¯å¢ƒæ‹¥æœ‰å¤šä¸ªç‰ˆæœ¬çš„ Erlang&#x2F;OTP ä¾›æµ‹è¯•æ¯”å¯¹ä¹Ÿæ˜¯å¸¸è§çš„éœ€æ±‚. ç›®å‰æ’ä»¶çš„å®ç°ä¸Šå®é™…çš„å®‰è£…è¿‡ç¨‹æ˜¯é€šè¿‡ä»æºç è¿›è¡Œç¼–è¯‘å®‰è£… Erlang&#x2F;OTP çš„, æ‰€ä»¥æš‚æ—¶åªæ”¯æŒåœ¨ Unix-like ç³»ç»Ÿ (æ¯”å¦‚ ubuntuã€macos darwin ç­‰) ä¸Šå®‰è£…ç®¡ç† Erlang&#x2F;OTP çš„ç‰ˆæœ¬ (å®˜æ–¹å…¶å®æä¾›äº† exe å®‰è£…å™¨åœ¨ windows, è¿˜æ²¡æ—¶é—´å»ç ”ç©¶åŠ ä¸Šå» 2333~, ä¸è¿‡åœ¨ windows ä½¿ç”¨ Erlang çš„åœºæ™¯ä¸€èˆ¬ä¹Ÿæ¯”è¾ƒå°‘)ã€‚ Erlang æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€, ç”¨äºæ„å»ºå…·æœ‰é«˜å¯ç”¨æ€§è¦æ±‚çš„å¤§è§„æ¨¡å¯æ‰©å±•è½¯å®æ—¶ç³»ç»Ÿã€‚å®ƒçš„ä¸€äº›ç”¨é€”æ˜¯ç”µä¿¡ã€é“¶è¡Œã€ç”µå­å•†åŠ¡ã€è®¡ç®—æœºç”µè¯å’Œå³æ—¶é€šè®¯ã€‚Erlang çš„è¿è¡Œæ—¶ç³»ç»Ÿå†…ç½®äº†å¯¹å¹¶å‘ã€åˆ†å¸ƒå’Œå®¹é”™çš„æ”¯æŒã€‚OTP æ˜¯ä¸€ç»„ Erlang åº“å’Œè®¾è®¡åŸåˆ™, æä¾›ä¸­é—´ä»¶æ¥å¼€å‘è¿™äº›ç³»ç»Ÿã€‚å®ƒåŒ…æ‹¬è‡ªå·±çš„åˆ†å¸ƒå¼æ•°æ®åº“ã€ç”¨äºè¿æ¥å…¶ä»–è¯­è¨€çš„åº”ç”¨ç¨‹åºã€è°ƒè¯•å’Œå‘å¸ƒå¤„ç†å·¥å…·ã€‚ å®‰è£… vfox å’Œ vfox-erlang æ’ä»¶åœ¨ä½¿ç”¨ vfox-erlang ç®¡ç† Erlang&#x2F;OTP ç‰ˆæœ¬ä¹‹å‰, è¯·ç¡®ä¿ä½ å·²ç»åœ¨ä½ çš„æœºå™¨ä¸Šå®‰è£…å¥½äº† vfox, å¯ä»¥å‚è€ƒå®˜æ–¹çš„æ–‡æ¡£ Quick Start, æœ¬æ–‡ä»¥ Ubuntu ä¸ºä¾‹. 12345678910# å®‰è£… vfoxecho &quot;deb [trusted=yes] https://apt.fury.io/versionfox/ /&quot; | sudo tee /etc/apt/sources.list.d/versionfox.listsudo apt-get update -ysudo apt-get install vfox -y# è®© vfox hook ä½ çš„ shell, åäº vfox è¯†åˆ«ä½¿ç”¨çš„ Erlang/OTP ç‰ˆæœ¬echo &#x27;eval &quot;$(vfox activate bash)&quot;&#x27; &gt;&gt; ~/.bashrc# æ·»åŠ  vfox-erlang æ’ä»¶vfox add erlang å®‰è£…ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬ Erlang&#x2F;OTPç”±äºæ˜¯æ˜¯ä»æºç ç¼–è¯‘å®‰è£…çš„ Erlang&#x2F;OTP, æ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰å¯¹åº”çš„æ„å»ºå·¥å…·é“¾å’Œä¾èµ–è½¯ä»¶, è¿™é‡Œä»¥ Ubuntu 20.04 ä¸‹å®‰è£…ä¸ºä¾‹: 12# â€œæ— è„‘â€å®‰è£…ä¾èµ–çš„è½¯ä»¶sudo apt-get -y install build-essential autoconf m4 libncurses5-dev libwxgtk3.0-gtk3-dev libwxgtk-webview3.0-gtk3-dev libgl1-mesa-dev libglu1-mesa-dev libpng-dev libssh-dev unixodbc-dev xsltproc fop libxml2-utils libncurses-dev openjdk-11-jdk ç„¶åæˆ‘ä»¬å³å¯é€šè¿‡ vfox ç®¡ç†å®‰è£…å¤šä¸ª Erlang&#x2F;OTP ç‰ˆæœ¬äº†ã€‚ 123456789101112# å¯ä»¥ä½¿ç”¨ search å‘½ä»¤æŸ¥æ‰¾å¯ä¾›å®‰è£…çš„ç‰ˆæœ¬â¯ vfox search erlangPlease select a version of erlang [type to search]: -&gt; v25.3.2.5 v24.0-rc3 v24.3 v23.3.4.18 v24.0.6 v24.3.2 v25.3 v24.1.4 v26.0.2 12345# æˆ–è€…ç›´æ¥æŒ‡å®šä¸€ä¸ªç‰ˆæœ¬å®‰è£…&gt; vfox install erlang@26.2.2...Install erlang@26.2.2 success! Please use vfox use erlang@26.2.2 to use it. å½“ä½ çœ‹åˆ°ç±»ä¼¼ Install erlang@xxx success! çš„ä¿¡æ¯, å°±æ„å‘³ç€å®‰è£…å®Œæˆäº†ã€‚æ¥ä¸‹æ¥å¯ä»¥é€šè¿‡ vfox use å‘½ä»¤åˆ‡æ¢ç‰ˆæœ¬, å³å¯è®©å½“å‰ shell ä¼šè¯å¯ä»¥ä½¿ç”¨å¯¹åº”çš„ Erlang&#x2F;OTP ç‰ˆæœ¬äº†. 1vfox use erlang@26.2.2 vfox æä¾›äº†ä¸‰ç§è§†è§’çš„ç‰ˆæœ¬ç®¡ç†æ–¹æ³•: shell ä¼šè¯ã€é¡¹ç›®çº§ã€å…¨å±€, é€šè¿‡ä¸€ä¸ª .tool-versions, å¯ä»¥çµæ´»çš„ä¸ºä¸åŒçš„é¡¹ç›®ç›®å½•åˆ†é…ä½¿ç”¨ä¸åŒçš„ Erlang&#x2F;OTP ç‰ˆæœ¬, è·Ÿå¤šä¿¡æ¯å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£çš„ä»‹ç»: vfox-Switch runtime. æœ¬ç¯‡æ–‡ç« çš„ä½¿ç”¨ç¤ºä¾‹ä¸»è¦ä»¥ Linux ç³»ç»Ÿä¸ºä¸», ä½†æ˜¯ vfox-erlang çš„ä½¿ç”¨æ–‡æ¡£ä¸Šä¹Ÿç»™å‡ºäº†åœ¨ MacOS Darwin ç³»ç»Ÿä¸‹çš„ä½¿ç”¨æŒ‡å— install-in-darwin-macos-13, å¹¶æä¾›äº†åœ¨ Linux å’Œ MacOS ä¸‹æŒç»­é›†æˆæµ‹è¯•ä¾›å‚è€ƒ: vfox-erlang E2E testing. Happy and funny~","categories":[{"name":"vfox","slug":"vfox","permalink":"https://yeshan333.github.io/categories/vfox/"}],"tags":[{"name":"vfox","slug":"vfox","permalink":"https://yeshan333.github.io/tags/vfox/"},{"name":"Erlang/OTP","slug":"Erlang-OTP","permalink":"https://yeshan333.github.io/tags/Erlang-OTP/"},{"name":"vfox-plugin","slug":"vfox-plugin","permalink":"https://yeshan333.github.io/tags/vfox-plugin/"},{"name":"vfox-erlang","slug":"vfox-erlang","permalink":"https://yeshan333.github.io/tags/vfox-erlang/"}]},{"title":"ä½¿ç”¨ chezmoi & vscode, ç®¡ç†ä½ çš„ dotfiles","slug":"using-chezmoi-to-manage-dotfiles","date":"2024-03-23T16:11:23.000Z","updated":"2024-03-23T16:11:23.000Z","comments":true,"path":"2024/03/23/using-chezmoi-to-manage-dotfiles/","permalink":"https://yeshan333.github.io/2024/03/23/using-chezmoi-to-manage-dotfiles/","excerpt":"","text":"ä»€ä¹ˆæ˜¯ dotfiles In Unix-like operating systems, any file or folder that starts with a dot character (for example, &#x2F;home&#x2F;user&#x2F;.config), commonly called a dot file or dotfile.ä»»ä½•ä»¥ . å¼€å¤´å»å‘½åçš„æ–‡ä»¶æˆ–è€…ç›®å½•éƒ½å¯ä»¥ç§°ä¸º dotfile, åœ¨ Unix-like ç³»ç»Ÿä¸€èˆ¬ç”¨çš„æ¯”è¾ƒå¤š, ä½†ç°åœ¨ dotfile ä¸€èˆ¬ç”¨äºç®¡ç†åº”ç”¨&#x2F;è½¯ä»¶çš„é…ç½®, æ‰€ä»¥ Windows å¹³å°ä¸Šä¹Ÿå¯ä»¥çœ‹åˆ° dotfile çš„èº«å½±. ä»€ä¹ˆæ˜¯ chezmoichezmoi æ˜¯ä½¿ç”¨ Go ç¼–å†™çš„è·¨å¹³å° dotfiles ç®¡ç†å·¥å…·, ä½¿ç”¨åŒä¸€çš„ Git ä»“åº“è¿›è¡Œé…ç½®åŒæ­¥, å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¸®åŠ©æˆ‘ä»¬åœ¨å¤šä¸ªå¼€å‘ç¯å¢ƒå…±ç”¨ä¸€å¥—é…ç½®, å…å»ä¸€äº›åŒä¸€å·¥å…·é“¾éœ€è¦æ‰‹å·¥é‡æ–°åœ¨å¤šä¸ªæœºå™¨é…ç½®çš„å·¥ä½œé‡. å¼€æºç¤¾åŒºæµè¡Œçš„ dotfiles ç®¡ç†å·¥å…·å¾ˆå¤š, æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™ä¸Šå¯ä»¥çœ‹åˆ°: https://dotfiles.github.io/utilities/. æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»ä½¿ç”¨ chezmoi è¿›è¡Œ dotfiles ç®¡ç†çš„ä¸€äº›åŸºæœ¬æµç¨‹, è¿˜ä¼šä»‹ç»å¦‚ä½•ä½¿ç”¨ vscode é…ç½® chezmoi è®©é…ç½®ç®¡ç†ä½“éªŒæ›´å¥½çš„ä¸€äº›å°æŠ€å·§. chezmoi ç®¡ç† dotfile å·¥ä½œæµ123456789# åœ¨ä½¿ç”¨ chezmoi æ—¶, éœ€è¦å…ˆå®‰è£… chezmoi, å¯ä»¥å‚è€ƒ: https://www.chezmoi.io/installsh -c &quot;$(curl -fsLS get.chezmoi.io)&quot;# å®‰è£…å®Œååˆå§‹åŒ– chezmoi çš„å·¥ä½œç›®å½•chezmoi init# ä½¿ç”¨ chezmoi cd å¯ä»¥ç›´æ¥åˆ‡æ¢åˆ°å·¥ä½œç›®å½•chezmoi cd # ç„¶åä½¿ç”¨ git å°†å·¥ä½œç›®å½•å’Œä»£ç ä»“åº“å…³è”èµ·æ¥å³å¯git initgit remote add origin &lt;your-git-repo&gt; å®˜æ–¹æ–‡æ¡£ä¹Ÿç»™å‡ºäº†ä½¿ç”¨ chezmoi ç®¡ç† dotfile çš„å·¥ä½œæµå¤§æ¦‚æ˜¯æ€ä¹ˆæ ·çš„, è¿™é‡Œç¨ä½œè§£é‡Š: æˆ‘ä»¬ä»¥ .bashrc æ–‡ä»¶çš„ç®¡ç†ä¸ºä¾‹å­: 1234567891011121314# Step 1ã€å°† .bashrc æ–‡ä»¶çº³å…¥ chezmoi ç®¡æ§èŒƒå›´# chezmoi ä¼šå°†è¯¥æ–‡ä»¶æ‹·è´åˆ° chezmoi å·¥ä½œç›®å½•ä¸‹, ä¼šé‡å‘½åä¸º dot_bashrc, ä½¿ç”¨ dot æ›¿æ¢ .chezmoi add .bashrc# .bashrc æ–‡ä»¶çº³å…¥ç®¡æ§ä¹‹å, å°±ä¸åº”è¯¥åœ¨ä¿®æ”¹é…ç½®çš„æ—¶å€™ç¼–è¾‘ .bashrc æ–‡ä»¶äº†, è€Œæ˜¯ç¼–è¾‘ chezmoi å·¥ä½œç›®å½•ä¸‹çš„ dot_bashrc æ–‡ä»¶# å¯ä»¥åˆ‡æ¢å»å·¥ä½œç›®å½•æŸ¥çœ‹ä¸‹chezmoi cdls -al# Step 2ã€é…ç½®çš„ä¿®æ”¹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å»ä¿®æ”¹, chezmoi ä¼šä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¯¹åº”çš„ dot_bashrc æ–‡ä»¶chezmoi edit ~/.bashrc# Step 3ã€é…ç½®ä¿®æ”¹åæ˜¯è¿˜æ²¡æœ‰åº”ç”¨åˆ° .bashrc æ–‡ä»¶çš„, diff å‘½ä»¤å¯ä»¥ç”¨æ¥æŸ¥çœ‹ä¿®æ”¹æƒ…å†µchezmoi diff ~/.bashrc# Step 4ã€æƒ³åº”ç”¨ä¿®æ”¹åçš„é…ç½®å¯ä»¥ä½¿ç”¨ apply å‘½ä»¤chezmoi apply ~/.bashrc# è‡³æ­¤å·²ç»åŸºæœ¬å®Œæˆä¸€æ¬¡ dotfile çš„ç®¡ç†, ä½†ä¸ºäº†æƒ³è¦åœ¨å…¶ä»–æœºå™¨ä¹Ÿä½¿ç”¨è¿™æ­¤æ”¹åŠ¨, æ˜¯éœ€è¦ä½¿ç”¨ git åšä¸€æ¬¡é…ç½®åŒæ­¥çš„ chezmoi ä½¿ç”¨çš„ä¸€äº›å°æŠ€å·§ä¸é…ç½®å»ºè®®1ã€æ›¿æ¢ chezmoi edit ä½¿ç”¨çš„é»˜è®¤ç¼–è¾‘å™¨ä¸º vscodechezmoi edit é»˜è®¤æ ¹æ® $VISUAL æˆ– $EDITOR ç¯å¢ƒå˜é‡å†³å®šä½¿ç”¨ä»€ä¹ˆç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶, æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ chezmoi çš„é…ç½®æ–‡ä»¶æ”¹å˜ chezmoi æ–‡ä»¶çš„è¡Œä¸º, é…ç½®æ–‡ä»¶ä¸€èˆ¬åœ¨ ~/.config/chezmoi ç›®å½•ä¸‹, å‚è€ƒé…ç½®å¦‚ä¸‹: 12345# æ§åˆ¶ chezmoi edit å‘½ä»¤ä½¿ç”¨çš„ç¼–è¾‘å™¨, code --wait ä¼šç¡®ä¿æ–‡ä»¶å…³é—­å†ç»§ç»­# é…ç½®æ–‡ä»¶åœ¨: ~/.config/chezmoi/chezmoi.toml[edit] command = &quot;code&quot; args = [&quot;--wait&quot;] tips: chezmoi apply åº”ç”¨ä¿®æ”¹åçš„é…ç½®æ—¶, ä¼šæ ¹æ® chezmoi å·¥ä½œç›®å½•çš„å±‚çº§å»è¦†ç›– HOME ç›®å½•å¯¹åº”çš„æ–‡ä»¶ 2ã€æ›¿æ¢ chezmoi diff ä½¿ç”¨çš„ diff å·¥å…·ä¸º vscodeä¸‡ç‰©çš†å¯ vscode, å¦‚æœä½ æƒ³ä½¿ç”¨ vscode çš„ dif èƒ½åŠ›æ€ä¹ˆåŠ, è¿™é‡Œç›´æ¥ç»™å‡º chemoi çš„å‚è€ƒé…ç½®: 1234567# https://github.com/twpayne/chezmoi/discussions/2424[diff]command = &quot;code&quot;args = [&quot;--wait&quot;, &quot;--diff&quot;, &quot;&#123;&#123; .Destination &#125;&#125;&quot;, &quot;&#123;&#123; .Target &#125;&#125;&quot;][merge]command = &quot;bash&quot; 3ã€æ•æ„Ÿæ•°æ®å­˜å‚¨å¦‚æœä½ æƒ³ç”¨ chezmoi ç®¡ç†ä½ çš„å¯†é’¥ï¼ˆä¾‹å¦‚: id_rsa ssh å¯†é’¥ï¼‰ï¼ŒåŒæ—¶åˆæƒ³æŠŠä½ çš„ dotfiles é…ç½®åœ¨ GitHub å…±äº«å‡ºæ¥ï¼Œchezmoi è‡ªå¸¦äº†æ•æ„Ÿæ•°æ®å­˜å‚¨çš„æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç”¨ GPGã€AGE ç­‰å¯¹é…ç½®æ–‡ä»¶è¿›è¡ŒåŠ å¯†, å‚è€ƒ: https://www.chezmoi.io/user-guide/encryption/","categories":[{"name":"dotfiles","slug":"dotfiles","permalink":"https://yeshan333.github.io/categories/dotfiles/"}],"tags":[{"name":"chezmoi","slug":"chezmoi","permalink":"https://yeshan333.github.io/tags/chezmoi/"},{"name":"dotfiles","slug":"dotfiles","permalink":"https://yeshan333.github.io/tags/dotfiles/"}]},{"title":"ä½¿ç”¨ WXT å¼€å‘æµè§ˆå™¨æ’ä»¶ï¼ˆä¸Šæ‰‹ä½¿ç”¨ç¯‡ï¼‰","slug":"develop-web-extension-with-wxt","date":"2024-03-15T07:47:53.000Z","updated":"2024-03-15T07:47:53.000Z","comments":true,"path":"2024/03/15/develop-web-extension-with-wxt/","permalink":"https://yeshan333.github.io/2024/03/15/develop-web-extension-with-wxt/","excerpt":"","text":"WXT (https://wxt.dev/), Next-gen Web Extension Framework. å·ç§°ä¸‹ä¸€ä»£æµè§ˆå™¨å¼€å‘æ¡†æ¶. å¯ä¸€å¥—ä»£ç  (code base) å¼€å‘æ”¯æŒå¤šä¸ªæµè§ˆå™¨çš„æ’ä»¶. ä¸Šè·¯~WXT æä¾›äº†è„šæ‰‹æ¶å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬å¿«é€Ÿè¿›è¡Œå¼€å‘ï¼Œä½†æ˜¯æˆ‘ä»¬å¾—å…ˆå®‰è£…å¥½ç¯å¢ƒä¾èµ–ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ npm, æ‰€ä»¥éœ€è¦å®‰è£…ä¸‹ nodeï¼Œå¯ä»¥å‚è€ƒ https://nodejs.org/en. 123456789# ç›´æ¥åŸºäºè„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®npx wxt@latest init yeshan-bowser-extensoincd yeshan-bowser-extensoin# å®‰è£…ä¾èµ–npm install --registry=https://registry.npmmirror.com# å¼€å§‹è°ƒè¯•æ’ä»¶npm run dev QAQ - WSL2 ä¸‹å¼€å‘é‡åˆ°çš„é—®é¢˜ä½¿ç”¨ WSL2 è¿›è¡Œå¼€å‘çš„æ—¶å€™ï¼Œnpm run dev åœ¨ wsl æ˜¯æ²¡åŠæ³•è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨çš„ï¼Œä¼šåå‡ºå¦‚ä¸‹é—®é¢˜ï¼š 1WARN Cannot open browser when using WSL. Load &quot;.output/chrome-mv3&quot; as an unpacked extension manually å¤§æ¦‚çœ‹äº†ä¸‹ wxt çš„å®ç°ï¼Œå®ƒæ˜¯é€šè¿‡ web-ext è·Ÿè¿›æŒ‡å®šçš„æµè§ˆå™¨çš„ bin æ–‡ä»¶ï¼ˆé»˜è®¤ä¸º chromiumï¼‰å¯åŠ¨æµè§ˆå™¨è£…è½½å¼€å‘å¥½çš„æ’ä»¶. æ›¾ç»é€šè¿‡æ–‡ç«  chromium-in-wsl2 æåˆ°çš„åŠæ³•ç›´æ¥åœ¨ wsl2 å®‰è£…äº† chromiumï¼Œè¿˜æ˜¯æ²¡èƒ½è§£å†³æ­¤é—®é¢˜ğŸ˜‚ğŸ˜£. ç¿»äº†ä¸‹å®˜æ–¹ä»“åº“çš„ issueï¼Œæœ‰å…³è”é—®é¢˜ https://github.com/wxt-dev/wxt/issues/55, æœ¬è´¨ä¸Šæ˜¯ web-ext çš„ BUG issuecomment-1837565780ï¼Œæˆªè‡³ 2024&#x2F;3&#x2F;15 è¿˜æœªä¿®å¤. è§£å†³æ–¹æ³•æ²¡åŠæ³•äº†ï¼Œå¦‚æœè¿˜æƒ³ç»§ç»­ç”¨ wsl åšå¼€å‘ï¼Œåªèƒ½æ‰‹åŠ¨åŠ è½½æ’ä»¶äº†ï¼Œåœ¨ windows ä¸Šæ‰“å¼€ chrome åï¼Œåœ°å€æ è¾“å…¥ chrome://extensions/ è½¬åˆ°æ’ä»¶ç®¡ç†é¡µ (è®°å¾—å¼€å¯å¼€å‘è€…æ¨¡å¼) -&gt; åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº: æˆ‘ä»¬è¦åŠ è½½çš„æ’ä»¶ç›®å½•æ˜¯åœ¨ wsl ä¸­çš„ï¼ˆå³: .output/chrome-mv3/ï¼‰ï¼Œå¥½åœ¨ Window å’Œ wsl2 çš„æ–‡ä»¶æ–‡ä»¶ç³»ç»Ÿæ˜¯æ‰“é€šçš„ï¼Œå¯ä»¥ç›¸äº’è®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ wslutils æä¾›çš„å·¥å…·è·å–åœ¨ Windows ä¸‹å¯ä»¥è®¿é—®çš„è·¯å¾„ 123# è·å– windows æ–‡ä»¶ç®¡ç†å™¨å¯ä»¥è®¿é—®çš„åœ°å€â¯ wslpath -w .output/chrome-mv3/\\\\wsl.localhost\\Ubuntu-20.04\\home\\yeshan333\\workspace\\github\\yeshan-bowser-extensoin\\.output\\chrome-mv3 Done , æå®šå’¯ï¼Œå¯ä»¥æ„‰å¿«ç ä»£ç äº†","categories":[{"name":"æµè§ˆå™¨æ’ä»¶å¼€å‘","slug":"æµè§ˆå™¨æ’ä»¶å¼€å‘","permalink":"https://yeshan333.github.io/categories/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"extension","slug":"extension","permalink":"https://yeshan333.github.io/tags/extension/"},{"name":"WXT","slug":"WXT","permalink":"https://yeshan333.github.io/tags/WXT/"}]},{"title":"Windows PowerToysï¼šå±å¹•æ ‡å°ºï¼Œæµ‹é‡å±å¹•ä¸Šä»»ä½•å†…å®¹çš„åƒç´ ","slug":"markup-screen","date":"2024-03-13T03:23:55.000Z","updated":"2024-03-13T03:23:55.000Z","comments":true,"path":"2024/03/13/markup-screen/","permalink":"https://yeshan333.github.io/2024/03/13/markup-screen/","excerpt":"","text":"å¦‚æœä½ æ˜¯ä¸€å web å¼€å‘è€…æˆ–è€…è®¾è®¡å¸ˆï¼ŒWindows è‡ªå¸¦çš„ PowerToys å·¥å…·é›†æä¾›äº†ä¸€ä¸ªå¾ˆä¸é”™çš„å·¥å…· -&gt; å±å¹•æ ‡å°ºã€‚é€šè¿‡å±å¹•æ ‡å°ºï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„æµ‹é‡å±å¹•ä¸Šä»»ä½•å†…å®¹çš„åƒç´ ï¼Œæ— éœ€å†é€šè¿‡æŸç§æ–¹å¼ä¸­è½¬åˆ°ä¸“ä¸šè½¯ä»¶è¿›è¡Œç¼–è¾‘ï¼š ä½¿ç”¨æ–‡æ¡£å¯ä»¥æŸ¥çœ‹ï¼šhttps://learn.microsoft.com/zh-cn/windows/powertoys/screen-rulerhttps://learn.microsoft.com/zh-cn/windows/powertoys/screen-rulerã€‚ å¦‚æœä½ ä½¿ç”¨ MacOSï¼Œé‚£ä¸ª xScope æ˜¯ä¸ªä¸é”™çš„å…è´¹æ›¿ä»£å“ã€‚","categories":[{"name":"è®¾è®¡å·¥å…·","slug":"è®¾è®¡å·¥å…·","permalink":"https://yeshan333.github.io/categories/%E8%AE%BE%E8%AE%A1%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"è®¾è®¡å·¥å…·","slug":"è®¾è®¡å·¥å…·","permalink":"https://yeshan333.github.io/tags/%E8%AE%BE%E8%AE%A1%E5%B7%A5%E5%85%B7/"}]},{"title":"Awesome Technology Weekly Zh-Hans - ä¸­æ–‡æŠ€æœ¯æœˆ/å‘¨/æ—¥åˆŠä¸€è§ˆ","slug":"awesome-tech-weekly-zh","date":"2024-03-04T11:14:47.000Z","updated":"2024-03-04T11:14:47.000Z","comments":true,"path":"2024/03/04/awesome-tech-weekly-zh/","permalink":"https://yeshan333.github.io/2024/03/04/awesome-tech-weekly-zh/","excerpt":"","text":"ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½éœ€è¦å¸æ”¶å¤§é‡çš„ä¿¡æ¯è¡¥å……æˆ‘ä»¬çš„çŸ¥è¯†ä½“ç³». Awesome Technology Weekly Zh-Hans é¡¹ç›®æ”¶é›†äº†ä¸­æ–‡æŠ€æœ¯ç¤¾åŒºå„ä¸ªé¢†åŸŸçš„é«˜è´¨é‡çš„ä¸­æ–‡æŠ€æœ¯æœˆ&#x2F;å‘¨&#x2F;æ—¥åˆŠï¼Œå®šæ—¶åˆ·æ–°è·å–æœ€æ–°ä¸€æœŸä¸­æ–‡æŠ€æœ¯æœˆ&#x2F;å‘¨&#x2F;æ—¥åˆŠè¿›è¡Œå±•ç¤º. è®¿é—®ç½‘ç«™å¼€å§‹å…³æ³¨å§~ï¼šhttps://shansan.top/awesome-tech-weekly-zh. Github é¡¹ç›®åœ°å€ -&gt; https://github.com/yeshan333/awesome-tech-weekly-zh.","categories":[{"name":"Tech-Weekly","slug":"Tech-Weekly","permalink":"https://yeshan333.github.io/categories/Tech-Weekly/"}],"tags":[{"name":"Tech-Weekly","slug":"Tech-Weekly","permalink":"https://yeshan333.github.io/tags/Tech-Weekly/"}]},{"title":"ä½¿ç”¨ go-ycsb å¯¹ etcd è¿›è¡ŒåŸºå‡† (benchmark) æ€§èƒ½æµ‹è¯•","slug":"using-ycsb-benchmark-etcd","date":"2024-02-29T14:16:51.000Z","updated":"2024-02-29T14:16:51.000Z","comments":true,"path":"2024/02/29/using-ycsb-benchmark-etcd/","permalink":"https://yeshan333.github.io/2024/02/29/using-ycsb-benchmark-etcd/","excerpt":"","text":"æœ€è¿‘åœ¨å¯¹ä¸€äº›å­˜å‚¨ç»„ä»¶åšæ€§èƒ½æµ‹è¯•ï¼Œä¸»è¦ä½¿ç”¨åˆ°äº† YCSBï¼ŒğŸ’§ç¯‡æ–‡ç« è®°å½•ä¸‹ã€‚ ä»€ä¹ˆæ˜¯ YCSBYCSBï¼Œå…¨ç§°ä¸ºâ€œYahooï¼Cloud Serving Benchmarkâ€ï¼Œæ˜¯é›…è™å¼€å‘çš„ç”¨æ¥å¯¹äº‘æœåŠ¡è¿›è¡ŒåŸºå‡† (benchmark) æ€§èƒ½æµ‹è¯•çš„å·¥å…·ã€‚å¯ä»¥ç”¨æ¥å¯¹å¤šç§ NoSQL æ•°æ®åº“ï¼Œå¦‚ MongoDBã€Redis ç­‰è¿›è¡Œæ€§èƒ½æµ‹è¯•ã€‚å®˜æ–¹å†…ç½®äº†ä¸°å¯Œçš„æ€§èƒ½æµ‹è¯•åœºæ™¯ (ç§°ä¹‹ä¸º: workload)ï¼Œå‹æµ‹åœºæ™¯å¯ä»¥é€šè¿‡æ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œä¾¿äºå‹æµ‹åœºæ™¯çš„å¤ç°é‡ç”¨ã€‚ go-ycsbé›…è™çš„ YCSB æ˜¯ Java è¯­è¨€å®ç°çš„ï¼Œä¸”æ²¡æœ‰å¯¹ etcd å†…ç½®çš„æ”¯æŒï¼Œpingcap ä½¿ç”¨ Go ä»¿ç…§ Java ç‰ˆæœ¬çš„ YCSB å®ç°äº† go-ycsbï¼Œå·¥ä½œæœºåˆ¶å¤§ä½“ç±»ä¼¼. ä¸”æ”¯æŒçš„æ•°æ®åº“ç±»å‹æ›´åŠ ä¸°å¯Œï¼Œå…¶ä¸­å°±æœ‰ etcd. æœ¬æ–‡ä¸»è¦ä»‹ç»ä½¿ç”¨ go-ycsb åŸºäº etcd å®˜æ–¹æä¾›çš„æ€§èƒ½åœºæ™¯åœºæ™¯ -&gt; Benchmarking etcd v3ï¼Œåšä¸€ä¸‹åŸºå‡†æ€§èƒ½æµ‹è¯•ã€‚ æ€§èƒ½æµ‹è¯•ä¸€èˆ¬æœ‰ä¸‰ä¸ªä¸»è¦é˜¶æ®µ: 1æ•°æ®å‡†å¤‡(load phase) -&gt; å‹æµ‹æ‰§è¡Œ(load run phase) -&gt; ç»“æœåˆ†æ(load analysis phase) go-ycsb ä½¿ç”¨ä¸Šå¯è¦†ç›–å‰ä¸¤ä¸ªé˜¶æ®µï¼Œå¯¹åº”å¦‚ä¸‹: 1ã€æ•°æ®å‡†å¤‡(load phase): ./bin/go-ycsb load etcd -P workloads/workloada 2ã€å‹æµ‹æ‰§è¡Œ(load run phase): ./bin/go-ycsb run etcd -P workloads/workloada è¿™é‡Œé’ˆå¯¹ etcd è¿›è¡Œæ•°æ®å‡†å¤‡å’Œå‹æµ‹æ‰§è¡Œ. ä¸¤ä¸ªé˜¶æ®µéƒ½ä¾èµ–åˆ°äº†ä¸€ä¸ªè´Ÿè½½æ§åˆ¶çš„é…ç½®æ–‡ä»¶ workloada, æ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹å®ƒ. workload è´Ÿè½½é…ç½®ä»‹ç»åœ¨å¼€å§‹è¿›è¡Œæ€§èƒ½æµ‹è¯•ä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹ go-ycsb çš„ workload è´Ÿè½½é…ç½®ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œä»¥ go-ycsb ä»£ç ä»“åº“æä¾›çš„ workloads&#x2F;workload_template æ–‡ä»¶ä¸ºä¾‹å­: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798# ä¸»è¦æ”¯æŒçš„é…ç½®é¡¹è§: https://github.com/pingcap/go-ycsb/blob/master/pkg/prop/prop.go# è´Ÿè´£æ§åˆ¶æ€§èƒ½æµ‹è¯•å‹åŠ›çš„æ ¸å¿ƒå®ç°# è¿™é‡Œå¯ä»¥æŒ‡å®šä¸ºæˆ‘ä»¬è‡ªå·±å®ç°çš„å‹åŠ›æ§åˆ¶å™¨, ä¸è¿‡ ycsb å†…ç½®çš„ core ä¸€èˆ¬æƒ…å†µä¸‹å¤Ÿç”¨äº†# è§ï¼šhttps://github.com/pingcap/go-ycsb/blob/f9c3dce045990bc03dac5092be2b00bef386b7c6/cmd/go-ycsb/main.go#L129workload=core# æŒ‡å®šäº†æ•°æ®åº“ä¸­å­˜åœ¨çš„æ•°æ®æ¡ç›®æ•°é‡# åœ¨æ•°æ®å‡†å¤‡é˜¶æ®µ (load phase) ä¼šæ®æ­¤åˆ›å»ºæŒ‡å®šæ¡ç›®çš„æ•°æ®# å‹æµ‹æ‰§è¡Œæ—¶ (load run phase) å¯æ“ä½œçš„æ•°æ®æ¡ç›®æ€»æ•°recordcount=1000000# å‹æµ‹æ‰§è¡Œé˜¶æ®µ (load run phase) æ‰§è¡Œçš„æ•°æ®åº“æ“ä½œæ€»æ•°, åˆ°è¾¾è¿™ä¸ªæ•°é‡åä¸€èˆ¬å‹æµ‹å³ä¼šåœæ­¢æ‰§è¡Œoperationcount=3000000# æ‰§è¡Œæ•°æ®åº“æ“ä½œä½¿ç”¨çš„çº¿ç¨‹æ•°é‡threadcount=500# æ§åˆ¶ç›®æ ‡ååé‡ OPStarget=1000# æ’å…¥æ“ä½œæ€»æ•°, å¦‚æœä¸ recordcount ä¸ä¸€è‡´, ä¼šæ ¹æ® insertstart æŒ‡å®šçš„ä½ç½®å¼€å§‹æ’å…¥æ•°æ®#insertcount=# ç¬¬ä¸€æ¬¡æ’å…¥æ“ä½œçš„ä½ç½®åç§»é‡insertstart=0# ä¸€æ¡æ•°æ®åº“è®°å½•å­˜åœ¨çš„å­—æ®µæ•°é‡# åœ¨æ•°æ®å‡†å¤‡é˜¶æ®µ (load phase) ä¼šæ®æ­¤åˆ›å»ºæ¯ä¸€æ¡æ•°æ®åº“æ•°æ®fieldcount=10# æ§åˆ¶æ¯ä¸ªå­—æ®µçš„å¤§å° (å•ä½: Byte å­—èŠ‚)fieldlength=100# ç”¨äºæ§åˆ¶å‹æµ‹æ‰§è¡Œæ—¶, è¯»å–æ“ä½œæ˜¯å¦ä¼šè¯»å–æ‰€æœ‰å­—æ®µreadallfields=true# å‹æµ‹æ‰§è¡Œæ—¶, æ§åˆ¶æ•°æ®åº“æ›´æ–°æ“ä½œæ›´æ–°æ•°æ®åº“è®°å½•æ—¶æ˜¯å¦ä¼šæ›´æ–°æ‰€æœ‰å­—æ®µwriteallfields=false# The distribution used to choose the length of a fieldfieldlengthdistribution=constant#fieldlengthdistribution=uniform#fieldlengthdistribution=zipfian# å‹æµ‹æ‰§è¡Œæ—¶, è¯»æ“ä½œå æ€»æ“ä½œæ•° (operationcount) çš„æ¯”ä¾‹readproportion=0.95# å‹æµ‹æ‰§è¡Œæ—¶, å†™æ›´æ–°æ“ä½œå æ€»æ“ä½œæ•° (operationcount) çš„æ¯”ä¾‹updateproportion=0.05# å‹æµ‹æ‰§è¡Œæ—¶, æ’å…¥æ–°æ•°æ®æ“ä½œå æ€»æ“ä½œæ•° (operationcount) çš„æ¯”ä¾‹insertproportion=0# å‹æµ‹æ‰§è¡Œæ—¶, å…ˆè¯»å–å†å†™å…¥æ“ä½œå æ€»æ“ä½œæ•° (operationcount) çš„æ¯”ä¾‹readmodifywriteproportion=0# æ‰«ææ“ä½œå æ€»æ“ä½œæ•° (operationcount) çš„æ¯”ä¾‹scanproportion=0# æ¯ä¸€æ¬¡æ‰«ææ“ä½œ, æ‰«æçš„è®°å½•æ€»æ•°maxscanlength=1000# æ§åˆ¶æ‰«ææ“ä½œçš„ç­–ç•¥, å³æ¯ä¸€æ¬¡æ‰«ææ“ä½œçš„è®°å½•æ•°ç­–ç•¥# uniformï¼šè¡¨ç¤ºæ¯æ¬¡æ‰«æçš„è®°å½•æ•°æ˜¯éšæœºçš„# zipfianï¼šæ ¹æ® Zipfian åˆ†å¸ƒæ¥é€‰æ‹©è®°å½•æ•°. äº’è”ç½‘å¸¸è¯´çš„ 80/20 åŸåˆ™, ä¹Ÿå°±æ˜¯ 20% çš„ key, ä¼šå æœ‰ 80% çš„è®¿é—®é‡;scanlengthdistribution=uniform#scanlengthdistribution=zipfian# æ§åˆ¶æ•°æ®æ˜¯å¦æ˜¯é¡ºåºæ’å…¥çš„insertorder=hashed#insertorder=ordered# æ•°æ®åº“æ“ä½œçš„ç­–ç•¥# uniformï¼šéšæœºé€‰æ‹©ä¸€ä¸ªè®°å½•è¿›è¡Œæ“ä½œï¼›# sequentialï¼šæŒ‰é¡ºåºé€‰æ‹©è®°å½•æ“ä½œï¼›# zipfianï¼šäºŒå…«åŸåˆ™ï¼›# latestï¼šå’Œ Zipfian ç±»ä¼¼ï¼Œä½†æ˜¯å€¾å‘äºè®¿é—®æ–°æ•°æ®æ˜æ˜¾å¤šäºè€æ•°æ®ï¼›# hotspotï¼šçƒ­ç‚¹åˆ†å¸ƒè®¿é—®ï¼›# exponentialï¼šæŒ‡æ•°åˆ†å¸ƒè®¿é—®ï¼›requestdistribution=zipfian# æ•°æ®å‡†å¤‡é˜¶æ®µï¼Œhotspot çƒ­ç‚¹åˆ†å¸ƒç­–ç•¥ä¸‹æ•°æ®çš„å æ¯”hotspotdatafraction=0.2# è®¿é—®çƒ­ç‚¹æ•°æ®çš„æ•°æ®åº“æ“ä½œç™¾åˆ†æ¯”hotspotopnfraction=0.8# æœ€å¤§çš„æ‰§è¡Œæ—¶é—´ (å•ä½ä¸ºç§’). å½“æ“ä½œæ•°è¾¾åˆ°è§„å®šå€¼æˆ–è€…æ‰§è¡Œæ—¶é—´è¾¾åˆ°è§„å®šæœ€å¤§å€¼æ—¶åŸºå‡†æµ‹è¯•ä¼šåœæ­¢#maxexecutiontime=# æ•°æ®å‡†å¤‡å’Œå‹æµ‹æ‰§è¡Œé˜¶æ®µè¢«æ“ä½œçš„æ•°æ®åº“è¡¨åç§°table=usertable# æ§åˆ¶å‹æµ‹ç»“æœçš„å±•ç°å½¢å¼, è§: https://github.com/pingcap/go-ycsb/blob/fe11c4783b57703465ec7d36fcc4268979001d1a/pkg/measurement/measurement.go#L84measurementtype=histogram#measurementtype=csv#measurementtype=raw workload è´Ÿè½½æ–‡ä»¶æ”¯æŒçš„é…ç½®é¡¹ä»¥ pkg&#x2F;prop&#x2F;prop.go å£°æ˜çš„ä¸ºå‡†ã€‚ çŸ¥é“äº† go-ycsb çš„ workload æ€ä¹ˆé…ç½®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹ä½¿ç”¨å®ƒæ¨¡æ‹Ÿä¸‹ etcd å®˜æ–¹çš„åŸºå‡†æµ‹è¯•åœºæ™¯å§ã€‚ Benchmarking etcd v3 etcd åŸºå‡†æ€§èƒ½æµ‹è¯•æˆ‘ä»¬éœ€è¦å…ˆå‡†å¤‡ä¸‹æµ‹è¯•ç¯å¢ƒï¼Œå¹¶è·å– go-ycsb è´Ÿè½½å·¥å…·ã€‚ ç¯å¢ƒå‡†å¤‡etcd ç›´æ¥ä½¿ç”¨ docker èµ·å°±å¥½ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ docker-compose, ç¼–æ’æ–‡ä»¶å¦‚ä¸‹ï¼š 12345678910version: &#x27;3.0&#x27;services: etcd: image: &#x27;bitnami/etcd:latest&#x27; environment: - ALLOW_NONE_AUTHENTICATION=yes ports: - 2379:2379 - 2380:2380 go-ycsb å¯ä»¥ç›´æ¥ä»é¡¹ç›®çš„ README è·å–ä¸‹è½½æ–¹å¼ï¼Œæˆ–è€…æˆ‘ä»¬åŸºäºæºç æ„å»ºå‡ºæ¥å³å¯. 1234567# ä»æºç æ„å»ºï¼Œéœ€è¦å®‰è£… Gogit clone https://github.com/pingcap/go-ycsb.gitcd go-ycsbmake# give it a try./bin/go-ycsb --help æ€§èƒ½æµ‹è¯•å¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å¯¹ etcd è¿›è¡Œæ€§èƒ½æµ‹è¯•äº†ï¼Œæœ¬åœ°æˆ‘ä»¬ä¸»è¦æ¨¡æ‹Ÿ Benchmarking etcd v3 ä¸­çš„ reading one single key åœºæ™¯. go-ycsb çš„ workload é…ç½®å¦‚ä¸‹: 12345678910111213141516171819202122232425262728293031# scene ref: https://etcd.io/docs/v3.5/benchmarks/etcd-3-demo-benchmarks/#reading-one-single-key# etcd å®˜æ–¹ç»™çš„åœºæ™¯ reading one single key# å•æ¡ key-value æ•°æ®recordcount=1# benchmark æ€»å…±çš„æ“ä½œæ¬¡æ•°operationcount=20000workload=core; threadcount=1# æ§åˆ¶ OPS ä¸º 2000; target=2000fieldcount=1fieldlength=200# æ§åˆ¶ etcd çš„ key å¤§å°åœ¨ 256 å­—èŠ‚keyprefix=__3MKdVjJjpfz0tzfHtL4ycTztGas4lWVLJIlVNT8HjtWf6Picj3WYC3KE76nVNkdnvCv1gMiMO7PZUUkmlBODEkJDZTVqtpQbqJ5pNUnz3oEuNoieOTpvrvAVTgJ7myi3Z0ns5Y3TYk05gzmmPINKsP3zcpN1hY5eITitMz8SSxNGv0KKHDKhH370U9QOLhMI4bsClkSbvCWgQ98LiLIhfZukqlFVZPp__readallfields=truewriteallfields=true# å…¨éƒ¨ä¸ºè¯»æ“ä½œreadproportion=1updateproportion=0scanproportion=0insertproportion=0dataintegrity=false# é¡ºåºè®¿é—®requestdistribution=sequential ä¸Šè¿° workload é…ç½®å¯åœ¨è¿™ä¸ªä»“åº“ä¸­æ‰¾åˆ°: https://github.com/yeshan333/benchmark-etcd-with-go-ycsb. æ¥ä¸‹æ¥ä½¿ç”¨ go-ycsb å‡†å¤‡å‹æµ‹æ•°æ®: 1./bin/go-ycsb load etcd -P workloads/etcd_offcial_workload å‹æµ‹æ‰§è¡Œ: 1./bin/go-ycsb load etcd -P workloads/etcd_offcial_workload æ‰§è¡Œç»“æœå¤§è‡´å¦‚ä¸‹: 12345678910111213141516171819202122232425-&gt; % ./bin/go-ycsb run etcd -P workloads/etcd_offcial_workloadUsing request distribution &#x27;sequential&#x27; a keyrange of [0 0]***************** properties *****************&quot;command&quot;=&quot;run&quot;&quot;scanproportion&quot;=&quot;0&quot;&quot;dotransactions&quot;=&quot;true&quot;&quot;operationcount&quot;=&quot;20000&quot;&quot;keyprefix&quot;=&quot;__3MKdVjJjpfz0tzfHtL4ycTztGas4lWVLJIlVNT8HjtWf6Picj3WYC3KE76nVNkdnvCv1gMiMO7PZUUkmlBODEkJDZTVqtpQbqJ5pNUnz3oEuNoieOTpvrvAVTgJ7myi3Z0ns5Y3TYk05gzmmPINKsP3zcpN1hY5eITitMz8SSxNGv0KKHDKhH370U9QOLhMI4bsClkSbvCWgQ98LiLIhfZukqlFVZPp__&quot;&quot;;&quot;=&quot;target=2000&quot;&quot;requestdistribution&quot;=&quot;sequential&quot;&quot;workload&quot;=&quot;core&quot;&quot;fieldlength&quot;=&quot;200&quot;&quot;readproportion&quot;=&quot;1&quot;&quot;recordcount&quot;=&quot;1&quot;&quot;readallfields&quot;=&quot;true&quot;&quot;insertproportion&quot;=&quot;0&quot;&quot;fieldcount&quot;=&quot;1&quot;&quot;writeallfields&quot;=&quot;true&quot;&quot;dataintegrity&quot;=&quot;false&quot;&quot;updateproportion&quot;=&quot;0&quot;********************************************************************************************Run finished, takes 9.134419329sREAD - Takes(s): 9.1, Count: 20000, OPS: 2190.0, Avg(us): 451, Min(us): 220, Max(us): 2453503, 50th(us): 322, 90th(us): 379, 95th(us): 396, 99th(us): 448, 99.9th(us): 1351, 99.99th(us): 1748TOTAL - Takes(s): 9.1, Count: 20000, OPS: 2189.9, Avg(us): 451, Min(us): 220, Max(us): 2453503, 50th(us): 322, 90th(us): 379, 95th(us): 396, 99th(us): 448, 99.9th(us): 1351, 99.99th(us): 1748 å¯ä»¥åŒä¸€åœºæ™¯ä¸‹çœ‹åˆ° 90 åˆ†ä½çš„ RTT ä¸ etcd å®˜æ–¹çš„å‹æµ‹ç»“æœç›¸å·®ä¸å¤§. ä¸Šè¿°æ‰§è¡Œç»“æœç”± github actions è·‘å‡ºæ¥ï¼Œå…·ä½“æ‰§è¡Œè¿‡ç¨‹å¯è§‚çœ‹ yeshan333&#x2F;benchmark-etcd-with-go-ycsb&#x2F;actions&#x2F;runs&#x2F;8091287653&#x2F;job&#x2F;22110155088. å‚è€ƒ æ¢ç©¶Go-YCSBåšæ•°æ®åº“åŸºå‡†æµ‹è¯• YCSB wiki - Running a Workload ä¸­è¯‘ç‰ˆ","categories":[{"name":"go-ycsb","slug":"go-ycsb","permalink":"https://yeshan333.github.io/categories/go-ycsb/"}],"tags":[{"name":"etcd","slug":"etcd","permalink":"https://yeshan333.github.io/tags/etcd/"},{"name":"Go","slug":"Go","permalink":"https://yeshan333.github.io/tags/Go/"},{"name":"YCSB","slug":"YCSB","permalink":"https://yeshan333.github.io/tags/YCSB/"},{"name":"go-ycsb","slug":"go-ycsb","permalink":"https://yeshan333.github.io/tags/go-ycsb/"},{"name":"benchmark","slug":"benchmark","permalink":"https://yeshan333.github.io/tags/benchmark/"}]},{"title":"ä½¿ç”¨ GitHub Codespaces åŠ é€Ÿ Elixir å¼€å‘ç¯å¢ƒå·¥ä½œé€Ÿåº¦","slug":"elixir-github-codespace-dev","date":"2024-02-19T16:29:08.000Z","updated":"2024-02-19T19:29:08.000Z","comments":true,"path":"2024/02/19/elixir-github-codespace-dev/","permalink":"https://yeshan333.github.io/2024/02/19/elixir-github-codespace-dev/","excerpt":"","text":"å‰è¨€ä½¿ç”¨ Elixir å¼€å‘ç‚¹å°ç©æ„çš„æ—¶å€™ï¼Œé¢å¯¹ç»å¸¸éœ€è¦èµ°å¤–ç½‘ä¸‹è½½ä¾èµ– (Elixir çš„é•œåƒç«™ UPYUN ä½¿ç”¨æœ‰æ—¶å€™ä¹Ÿç»å¸¸æŠ½é£) çš„æ—¶å€™ï¼Œä¸ºäº†é¿å…éœ€è¦ä¸æ–­çš„è¿›è¡Œç½‘ç»œä»£ç†é…ç½®ï¼Œæœ‰æƒ³åˆ°ä¹‹å‰ç»å¸¸ä½¿ç”¨ GitHub Codespaces æ¥åœ¨æµè§ˆå™¨é‡Œé¢é€šè¿‡äº‘ç¯å¢ƒæ¥å†™åšå®¢æ–‡ç« ï¼Œä¹Ÿå¯ä»¥åšç‚¹å¼€å‘ï¼š ç¬¬ä¸€æ¬¡è¿æ¥ä¸€èˆ¬ä¼šçœ‹åˆ°:ğŸ‘‹ Welcome to Codespaces! You are on our default image. It includes runtimes and tools for Python, Node.js, Docker, and more. See the full list here: https://aka.ms/ghcs-default-image Want to use a custom image instead? Learn more here: https://aka.ms/configure-codespace ğŸ” To explore VS Code to its fullest, search using the Command Palette (Cmd&#x2F;Ctrl + Shift + P or F1). ğŸ“ Edit away, run your app as usual, and weâ€™ll automatically make it available for you to access. ä½¿ç”¨ GitHub Codespaces ç”šè‡³ä¹Ÿèƒ½ç›´æ¥æäº¤ä»£ç åˆ° GitHub ä»“åº“ä¹‹ä¸­. é€šè¿‡ vscode æ’ä»¶ GitHub Codespacesï¼Œèƒ½é€šè¿‡æœ¬åœ° IDE è¿æ¥äº‘ç«¯çš„ç¯å¢ƒè¿›è¡Œå¼€å‘. GitHub æä¾›äº†å…è´¹ä½¿ç”¨çš„é¢åº¦ï¼Œè¶³å¤Ÿç™½å«–äº†ğŸ. å¦‚æœæœ‰å°† vscode çš„é…ç½®åŒæ­¥åˆ° GitHubï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦å¤ç”¨æœ¬åœ° IDE çš„é…ç½®. é€šè¿‡ https://github.com/codespaces/new æˆ‘ä»¬èƒ½é…ç½® GitHub ä½¿ç”¨çš„ç¯å¢ƒè§„æ ¼å’Œéƒ¨ç½²åœ°åŒº: åŠ é€Ÿ Elixir å¼€å‘ç¯å¢ƒElixir åº”ç”¨æ„å»ºæ‹‰ä¾èµ–ç»å¸¸éœ€è¦èµ°å¤–ç½‘ï¼Œä½† GitHub é»˜è®¤åˆ›å»ºçš„ Codespaces ç¯å¢ƒé»˜è®¤ä¸€èˆ¬éƒ½æ˜¯ js çš„å¼€å‘ç¯å¢ƒ Dockerfileï¼Œå¹¶æ²¡æœ‰ Elixir ç¯å¢ƒï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å•ç‹¬é…ç½®ä¸€æ‰‹ï¼Œå¥½åœ¨æä¾›äº† devcontainer çš„å½¢å¼ä¾›æˆ‘ä»¬è‡ªå®šä¹‰è‡ªå·±çš„åŸºç¡€å¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬åªéœ€è¦æä¾›é…ç½®æ–‡ä»¶å°±å¥½ï¼Œ æˆ‘ä»¬éœ€è¦åšçš„å¦‚ä¸‹: 1ã€GitHub ä»“åº“åˆ›å»º .devcontainer ç›®å½•; 2ã€.devcontainer ä¸‹çš„ devcontainer.json æ–‡ä»¶å£°æ˜å¼€å‘ç¯å¢ƒé…ç½®; ç¤ºèŒƒä»“åº“å¦‚: https://github.com/yeshan333/erlang_elixir_asdf_ubuntu_container&#x2F;tree&#x2F;main&#x2F;.devcontainer 123456789&#123; &quot;image&quot;: &quot;ghcr.io/yeshan333/erlang_elixir_asdf_ubuntu_container:latest&quot;, &quot;customizations&quot;: &#123; &quot;vscode&quot;: &#123; &quot;extensions&quot;: [&quot;jakebecker.elixir-ls&quot;] &#125; &#125;, &quot;postCreateCommand&quot;: &quot;git config --global core.fileMode false&quot;&#125; é€šè¿‡ image å­—æ®µï¼Œæˆ‘ä»¬ç›´æ¥å£°æ˜äº† GitHub Codespaces ä½¿ç”¨çš„ Docker é•œåƒï¼Œextensions æŒ‡å®šäº†è¦å¯ç”¨å“ªäº› vscode æ’ä»¶ï¼ŒpostCreateCommand åˆ¶å®šäº†ç¯å¢ƒèµ·æ¥ä¹‹åè¦è·‘çš„ shell å‘½ä»¤. ç”šè‡³äºä¹Ÿå¯ä»¥æŒ‡å®šæˆ‘ä»¬è‡ªå·±å†™çš„ Dockerfile æ¥å¯åŠ¨ GitHub Codespaces ç¯å¢ƒï¼Œå¯å‚è€ƒï¼šhttps://github.com/devcontainers/images/blob/main/src/go/.devcontainer/devcontainer.json. åŸºäºä»¥ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ https://github.com/codespaces/new æŒ‡å®šæµ·å¤–èŠ‚ç‚¹è¿›è¡Œ GitHub Codespaces åˆ›å»ºå³åˆ». å‚è€ƒ create-dev-container GitHub Codespaces","categories":[{"name":"Github Codespaces","slug":"Github-Codespaces","permalink":"https://yeshan333.github.io/categories/Github-Codespaces/"}],"tags":[{"name":"Elixir, Github Codespaces","slug":"Elixir-Github-Codespaces","permalink":"https://yeshan333.github.io/tags/Elixir-Github-Codespaces/"}]},{"title":"ä¹ç†é€šè¯†","slug":"become-a-romantic-muscian","date":"2024-02-07T18:40:24.000Z","updated":"2024-02-07T18:40:24.000Z","comments":true,"path":"2024/02/07/become-a-romantic-muscian/","permalink":"https://yeshan333.github.io/2024/02/07/become-a-romantic-muscian/","excerpt":"","text":"2023 å¹´æäº†å°é›…é©¬å“ˆ 61 é”®çš„ç”µå­ç´ï¼Œé¡ºæ‰‹çœ‹äº†ä¸‹å•Š B çš„ä¸Šçš„è¯¾ç¨‹ ã€Šé›¶åŸºç¡€è‡ªå­¦éŸ³ä¹å­¦ä¹ç†åˆé›†-ç¬¬ä¸€å­£ã€‹ï¼Œè¿™é‡Œæ˜¯éƒ¨åˆ†ç¬”è®°ï¼ˆç»™åšå®¢åŠ ç‚¹ä¸ä¸€æ ·çš„ä¸œè¥¿ğŸ‘€ï¼‰ã€‚ ç®€è°±å„éƒ¨åˆ†ä¸€è§ˆ C è¡¨ç¤ºéŸ³å ç«–çº¿ä¸ºå°èŠ‚çº¿ éŸ³å å®Œæ•´é’¢ç´é”®ç›˜ 88 é”® 9ä¸ªç»„ï¼Œä¸€ç»„ 7 ä¸ªç™½é”®ï¼Œ5 ä¸ªé»‘é”®ä½ é”®ä½è¡¨ç¤ºï¼ŒéŸ³åå¯¹åº”çš„é”®ä½ 1&#x3D;C çš„æ„æ€å³ç®€è°±ä¸­ 1 å¯¹åº”çš„é”®ä½ï¼Œä»£è¡¨ 1 ä»å“ªä¸ªé”®å‡ºå‘ï¼Œ1 çš„ä½ç½®ä¸€æ—¦ç¡®å®šï¼Œ234567çš„ä½ç½®ï¼Œä¹Ÿè·Ÿç€ç¡®å®š 1&#x3D;C åˆ°åº•æ˜¯å“ªä¸ª Cå¯¹åº”é’¢ç´çš„é”®å³ä¸º C4 çš„ C 61 é”®çš„ç”µå­ç´æ˜¯ä»å¤§å­—ç»„å¼€å§‹çš„ 1&#x3D;Då¯¹åº”çš„æƒ…å†µ C#-Cå‡ï¼›Db-Dé™ å…¨éŸ³ä¸åŠéŸ³ å…¨éŸ³ä¸åŠéŸ³è¡¨ç¤ºä¸¤ä¸ªéŸ³çš„è·ç¦» C åˆ° C# çš„è·ç¦»å³ä¸ºä¸€ä¸ªåŠéŸ³è·ç¦» E åˆ° F çš„è·ç¦»ä¸ºä¸€ä¸ªåŠéŸ³ C åˆ° D ä¸ºä¸€ä¸ªå…¨éŸ³ ä»å…¨éŸ³åŠéŸ³çœ‹ 12345671 çš„è§„å¾‹ æ­£å› ä¸ºæ»¡è¶³äº†-å…¨å…¨åŠå…¨å…¨å…¨åŠï¼Œæ‰çœŸæ­£å¬å‡º doï¼Œreï¼Œmeï¼Œfaï¼Œsoï¼Œlaï¼Œsiï¼Œdo çš„å‘³é“ è°ƒå¼ è°ƒå¼ç®€å•æ¥è¯´å³ä¸ºä¸€ä¸²éŸ³ï¼ŒæŒ‰ç…§ä¸€å®šçš„è§„åˆ™æ’åˆ—èµ·æ¥ ï¼ˆè‡ªç„¶ï¼‰å¤§è°ƒ 1&#x3D;C å³ä¸º C å¤§è°ƒ é»‘é”®å¼€å§‹çš„è‡ªç„¶å¤§è°ƒä¸ç™½é”®å¼€å§‹å¯¹åº”çš„å…³ç³» éŸ³é˜¶ 1&#x3D;C çš„ä¸»éŸ³å³ä¸º C æŒ‰ç…§-å…¨å…¨åŠå…¨å…¨å…¨åŠçš„è§„å¾‹æ„é€ éŸ³é˜¶ éŸ³ç¬¦ä¸èŠ‚æ‹ ç«–çº¿ä¸ºå°èŠ‚çº¿ èŠ‚æ‹å››æ‹å­ æ‹å­ä¸ºæ—¶é—´å•ä½ï¼Œ å›¾ä¸­çš„å°æ–¹å—ä»…è¡¨ç¤ºä¸€æ‹å­ï¼Œä¸è¡¨ç¤ºå››åˆ†éŸ³ç¬¦ã€‚ å››åˆ†éŸ³ç¬¦ä¸ºä¸€æ‹ï¼Œ2 æ‹ä¸ºä¸€å°èŠ‚ç®€è°±ä¾‹å­ï¼š ä¼ è¯´ä¸­çš„åŠ¨æ¬¡æ‰“æ¬¡å¾‹åŠ¨ é™„ç‚¹ä¸ä¼‘æ­¢ç¬¦é™„ç‚¹çš„æ„ä¹‰ ç®€è°±æ‰“æ‹å­ç»ƒä¹ å”±å››äºŒæ‹ï¼Œå››åˆ†éŸ³ç¬¦ä¸ºä¸€æ‹æ—¶ï¼ŒVè¡¨ç¤ºä¸€æ‹ä»…å››åˆ†éŸ³ç¬¦æƒ…å†µ æœ‰å…«åˆ†éŸ³ç¬¦æ—¶ æœ‰åå…­åˆ†éŸ³ç¬¦æ—¶ ç¾¤é­”ä¹±èˆ é™„ç‚¹ å”±å…«åˆ†éŸ³ç¬¦çš„æ‹å­ äº”çº¿è°± å¤šå£°éƒ¨å¤„ç†ï¼Œä¸€æ¬¡å‘å‡ºå¤šä¸ªå£° è°±å· ç”¨äºç¡®å®šè¦å¼¹å“ªä¸ªéŸ³ï¼Œå¤§è‡´èŒƒå›´ é«˜éŸ³è°±å· - å­—æ¯ g çš„å˜ä½“ï¼Œå°å­—ä¸€ç»„çš„ g ä»ç¬¬äºŒæ¡çº¿å¼€å§‹ç”»ï¼Œç¬¬äºŒæ¡çº¿è¡¨ç¤ºå°å­—ä¸€ç»„çš„ $ g^1 $ ä½éŸ³è°±å·-Fï¼Œå°å­—ç»„çš„ F ä¸­éŸ³è°±å·-ä¸¤ä¸ªåç€çš„ Cï¼Œç¡®å®šä¸­å¤®Cï¼Œå³å°å­—ä¸€ç»„çš„ C æ¬¡ä¸­éŸ³è°±å·ç¬¬å››çº¿è¡¨ç¤ºä¸­å¤® C åº¦ åº¦ï¼šä¸€ä¸ªéŸ³ååˆ°å¦ä¸€ä¸ªéŸ³åè¦ç»è¿‡çš„éŸ³åä¸ªæ•° ä¸¤ä¸ªç›¸é‚»ç»„åŒéŸ³åå³ä¸ºä¸€ä¸ª 8 åº¦ å…«åº¦ä¸åäº”åº¦ é€šè¿‡å…«åº¦(8va)ä¸åäº”åº¦æ ‡è®°ï¼Œå¿«é€Ÿæ‰¾åˆ°é”®ä½ éŸ³ç¬¦ éŸ³é«˜çœ‹ç¬¦å¤´ï¼Œå¤–è§‚ç¡®è®¤éŸ³ç¬¦æ—¶é—´ï¼ˆå‡ æ‹ï¼‰ å¦ä¸€ç§å†™æ³•ï¼Œä¸ºäº†ç¾è§‚ é™„ç‚¹éŸ³ç¬¦ ä¼‘æ­¢ç¬¦ éŸ³å€¼ç»„åˆæ³•-ç¬¦å°¾è¿æˆä¸€èµ·ï¼Œç»„æˆä¸€æ‹ï¼Œæ–¹ä¾¿åŒºä¸€æ‹ä¸å¦ä¸€æ‹ï¼Œæ–¹ä¾¿çœ‹è°± æœ‰ä¸€æ‹ä¸€æ‹çš„æ„Ÿè§‰ï¼Œåˆ’åˆ†æˆäº†ä¸€ä¸ªä¸ªéŸ³ç¾¤ å¤§äºä¸€æ‹çš„ï¼Œå°±ä¸è¿äº† å››åˆ†éŸ³ç¬¦ä¸ºä¸€æ‹çš„éŸ³ç¨‹ç»„åˆæ³• å…«åˆ†éŸ³ç¬¦ä¸ºä¸€æ‹çš„ç»„åˆæ³•ï¼Œä¼šå°†å¯ä»¥ç»„æˆä¸€å°èŠ‚çš„éŸ³ç¬¦è¿åœ¨ä¸€èµ· è°ƒå· :::infoäº”çº¿è°±ä¸­ç”¨è°ƒå·æç¤ºå“ªäº›éŸ³éœ€è¦å‡é™ï¼Œä¸ç”¨åœ¨è°±ä¸­å†æ ‡è®°ï¼Œä¸Šå›¾ï¼Œå¯¹åº”ä¸‹å›¾::: å¿«é€Ÿè¯†åˆ«äº”çº¿è°±è°ƒå·æŠ€å·§ ä¸€ã€C å¤§è°ƒä¸ F å¤§è°ƒ äºŒã€å‡å· # è°ƒ ä¸‰ã€é™å· b æ‰ ä¸€æ‹å­å…·ä½“å¤šå°‘ç§’ï¼Ÿ ä¸‹å›¾ï¼š ä¸€ä¸ªå››åˆ†éŸ³ç¬¦ 1 ç§’ å³è¾¹æ•°å­—è¶Šå¤§ä¸€èˆ¬è¶Šå¿« ä¸‹é¢çš„è°±å­å¤§æ¦‚åœ¨ 33 ç§’å†…å¼¹å®Œ é‡ï¼ˆchongï¼‰å‡ X ä¸é‡é™ bb åº¦ - éŸ³ç¨‹ åº¦åˆç§°éŸ³ç¨‹ï¼Œå³ä¸¤ä¸ªéŸ³ä¹‹é—´çš„è·ç¦» åº¦ä¸å‡é™å·æ— å…³ éŸ³æ•°ã€å¤§äºŒåº¦ã€å°äºŒåº¦ éŸ³æ•°ï¼šç›¸é‚»ä¸¤ä¸ªé”®çš„éŸ³æ•°ä¸º 0.5ï¼Œé”®åŒ…æ‹¬é»‘é”® åŒåº¦æ•°ï¼Œè¿‘ä¸€ç‚¹çš„ä¸ºå°åº¦ çº¯å…«åº¦ C1 - C1 ä¸ºçº¯ä¸€åº¦ï¼ŒéŸ³æ•°ä¸º 0 è‡ªç„¶éŸ³ç¨‹ &amp; å˜åŒ–éŸ³ç¨‹ è‡ªç„¶éŸ³ç¨‹ï¼šCDEFGAB ä¸ƒä¸ªç™½é”®å¯ä»¥ç»„æˆçš„æ‰€æœ‰éŸ³ç¨‹ å˜åŒ–éŸ³ç¨‹ï¼šè‡ªç„¶éŸ³ç¨‹å¤–çš„éŸ³ç¨‹ åå’Œä¸ä¸åå’ŒéŸ³ç¨‹ å’Œå¼¦ å’ŒéŸ³ï¼šä¸¤ä¸ªéŸ³ å’Œå¼¦ï¼šä¸‰ä¸ªéŸ³åŠä»¥ä¸Šæ„æˆ å¸¸ç”¨å’Œå¼¦ä¸‰å’Œå¼¦:::infoä¸‰ä¸ªéŸ³ï¼Œä¸‰åº¦å ç½®æ„å»º::: ä¸‰å’Œå¼¦è½¬ä½:::warning ç¬¬ä¸€è½¬ä½ï¼šæ ¹éŸ³æé«˜ä¸€ä¸ªå…«åº¦ï¼Œä¸‰éŸ³å˜ä¸ºä½éŸ³ ç¬¬äºŒè½¬ä½ï¼šåœ¨ç¬¬ä¸€è½¬ä½åŸºç¡€ä¸Šï¼Œä¸‰éŸ³æé«˜å…«åº¦ å‘½åï¼šæ ¹éŸ³ä¸ä¸‰éŸ³çš„è·ç¦» ï¼Œä½éŸ³ä¸ä¸‰éŸ³çš„è·ç¦»::: ä¸ƒå’Œå¼¦:::infoç”±å››ä¸ªéŸ³ç»„åˆæ„å»º::: ä¸ƒå’Œå¼¦å‘½åï¼ˆä¸‹å·¦å›¾ï¼‰ï¼š ä¸ƒå’Œå¼¦è½¬ä½","categories":[{"name":"music","slug":"music","permalink":"https://yeshan333.github.io/categories/music/"}],"tags":[{"name":"music","slug":"music","permalink":"https://yeshan333.github.io/tags/music/"}]},{"title":"Elixir ä¾èµ– (deps) è°ƒè¯•çš„å°æŠ€å·§","slug":"elixir-deps-debug-skills","date":"2023-08-12T16:15:40.000Z","updated":"2023-08-12T16:15:40.000Z","comments":true,"path":"2023/08/12/elixir-deps-debug-skills/","permalink":"https://yeshan333.github.io/2023/08/12/elixir-deps-debug-skills/","excerpt":"","text":"è®¸ä¹…æœªæ›´åšå®¢ï¼Œâ€œå¾®æœ‰æ‰€æ„Ÿâ€ï¼Œå°æ›´ä¸€ç¯‡ã€‚ æœ€è¿‘ä½¿ç”¨ Elixir æœ‰ç‚¹å¤š, ç»å¸¸éœ€è¦è§‚å¯Ÿä¸€äº›ä¾èµ– (Deps) çš„å®ç°, æ¯”å¦‚æƒ³åŠ ä¸ªæ—¥å¿—æ‰“å°ç‚¹ IO.inspect å•¥çš„è§‚å¯Ÿä¸‹æŸä¸ªå˜é‡ï¼Œæ‰èƒ½æ›´å¥½çš„ç†è§£æŸä¸ª Elixir çš„ä¾èµ–ã€‚è¿™é‡Œä»‹ç»ä¸‹ä¸€äº›è°ƒè¯•çš„æ–¹å¼: è¿™é‡Œä»¥ yeshan333&#x2F;ex_integration_coveralls ä¸ºä¾‹å­. æˆ‘ä»¬å…ˆ clone é¡¹ç›®åˆ°æœ¬åœ°: 1234git clone git@github.com:yeshan333/ex_integration_coveralls.gitcd ex_integration_coveralls# æ‹‰ä¸€ä¸‹ä¾èµ–mix deps.get æ¯”å¦‚, æˆ‘ä»¬æƒ³çœ‹ä¸€ä¸‹ä»£ç æ‰«æçš„ä¾èµ– credo è¿™ä¸ªæ‰«æè§„åˆ™ Credo.Check.Design.TagTODO çš„å®ç°å¤§æ¦‚æ˜¯æ€ä¹ˆæ ·çš„. 1ã€mix deps.compileæ‰¾åˆ°å®ƒçš„å®ç° deps/credo/lib/credo/check/design/tag_todo.ex, æˆ‘ä»¬æƒ³è¦è§‚å¯Ÿä¸‹å˜é‡ issue_meta å®é™…æ˜¯æ€ä¹ˆæ ·çš„, IO.inspect ä¸€ä¸‹. 123456789101112@doc false@impl truedef run(%SourceFile&#123;&#125; = source_file, params) do issue_meta = IssueMeta.for(source_file, params) include_doc? = Params.get(params, :include_doc, __MODULE__) IO.inspect(issue_meta, label: &quot;è§‚å¯Ÿä¸‹ issue_meta æ”¾çš„ä»€ä¹ˆ&quot;) source_file |&gt; TagHelper.tags(@tag_name, include_doc?) |&gt; Enum.map(&amp;issue_for(issue_meta, &amp;1))end å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é‡ç¼–è¯‘ä¸€ä¸‹ credo æ¨¡å—å³å¯: 123â¯ mix deps.compile credo # é‡ç¼–è¯‘ä¸‹ credo==&gt; credoCompiling 1 file (.ex) è°ƒç”¨ä¸‹ credo å³å¯è§‚å¯Ÿåˆ°æˆ‘ä»¬åŸ‹ä¸‹çš„å˜é‡æ‰“å°ç‚¹ä¿¡æ¯: 1mix credo è¿™æ ·æ¯æ¬¡æ·»åŠ ä¾èµ–è§‚å¯Ÿç‚¹ä¹‹å, æˆ‘ä»¬åªéœ€è¦ recompile ä¸‹ä¾èµ–å³å¯. 123# å¦‚æœæƒ³åºŸå¼ƒæ‰æˆ‘ä»¬å¯¹ä¾èµ–çš„ä¿®æ”¹ï¼Œåªéœ€è¦é‡æ–°æ‹‰å»ä¾èµ–å³å¯mix deps.clean credomix deps.get 2ã€mix.exs ä½¿ç”¨ :path å¼•ç”¨ä¾èµ–ä¸Šé¢çš„æ–¹æ³•ç»å¸¸éœ€è¦æ‰‹åŠ¨é‡æ–°ç¼–è¯‘æŒ‡å®šçš„ä¾èµ–, è¿™é‡Œè¿˜æœ‰ä¸ªæ–¹å¼å¯ä»¥åœ¨æˆ‘ä»¬ä½¿ç”¨ä»»æ„ Mix Tasks çš„æ—¶å€™ï¼Œä¾èµ–éƒ½ä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘, æˆ‘ä»¬åªéœ€è¦ç¼–è¯‘ mix.exs å°†ä¾èµ–æŒ‡å®šä¸ºæœ¬åœ°å³å¯, æˆ‘ä»¬ä½¿ç”¨ path æŒ‡å®šä¾èµ–æ¥æº: 1&#123;:credo, &quot;~&gt; 1.6&quot;, only: [:dev, :test], runtime: false, path: &quot;deps/credo&quot;&#125;,","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/tags/Elixir/"},{"name":"Deps","slug":"Deps","permalink":"https://yeshan333.github.io/tags/Deps/"},{"name":"Mix","slug":"Mix","permalink":"https://yeshan333.github.io/tags/Mix/"}]},{"title":"(è¯‘) Server-Sent Events: the alternative to WebSockets you should be using","slug":"sse-websocket","date":"2023-03-11T14:26:29.000Z","updated":"2023-03-11T14:26:29.000Z","comments":true,"path":"2023/03/11/sse-websocket/","permalink":"https://yeshan333.github.io/2023/03/11/sse-websocket/","excerpt":"","text":"åŸæ–‡åœ°å€: https://germano.dev/sse-websockets/ä½œè€…: Germano Gabbianelli å½“å¼€å‘å®æ—¶ web åº”ç”¨æ—¶ï¼ŒWebSockets å¯èƒ½æ˜¯æˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„ã€‚ç„¶è€Œï¼ŒServer Sent Events (SSE) æ˜¯é€šå¸¸ä¼šæ˜¯ä¸€ç§æ›´ç®€å•çš„æ›¿ä»£æ–¹æ¡ˆã€‚ 1. åºè¨€æœ€è¿‘æˆ‘å¯¹å®ç°å®æ—¶ Web åº”ç”¨ç¨‹åºçš„ä¸€äº›æœ€ä½³æ–¹å¼å¾ˆæ„Ÿå…´è¶£ã€‚ä¹Ÿå°±æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶ä¼šæ ¹æ®æŸäº›å¤–éƒ¨äº‹ä»¶è‡ªåŠ¨å®æ—¶æ›´æ–°ã€‚è¿™ç§åº”ç”¨ç¨‹åºçš„æœ€å¸¸è§ä¾‹å­æ˜¯æ¶ˆæ¯æœåŠ¡ï¼Œæˆ‘ä»¬å¸Œæœ›æ¯æ¡æ¶ˆæ¯éƒ½èƒ½ç«‹å³å¹¿æ’­åˆ°æ‰€æœ‰å·²ç»è¿æ¥çš„äººï¼Œè€Œä¸éœ€è¦è¿›è¡Œä»»ä½•çš„ç”¨æˆ·äº¤äº’ã€‚ ç»è¿‡ä¸€äº›ç ”ç©¶ï¼Œæˆ‘å¶ç„¶å‘ç°äº† Martin Chaov çš„ä¸€ä¸ªç²¾å½©åˆ†äº«ï¼Œå…¶æ¯”è¾ƒäº† Server Sent Eventsã€WebSockets å’Œ Long Polling å‡ ä¸ªæŠ€æœ¯çš„ä¼˜åŠ£ã€‚è¿™ä¸ªæ¼”è®²ä¹Ÿæœ‰ç¯‡å¯¹åº”çš„åšå®¢æ–‡ç« æ¥è¾…åŠ©é˜…è¯» Using SSE Instead Of WebSockets For Unidirectional Data Flow Over HTTP&#x2F;2ï¼Œå†…å®¹æœ‰è¶£è€Œä¸”éå¸¸æœ‰å¯å‘æ€§ã€‚æˆ‘çœŸçš„å¾ˆæ¨èå¤§å®¶å»çœ‹ä¸€ä¸‹ã€‚ç„¶è€Œï¼Œå®ƒæ˜¯ 2018 å¹´çš„å†…å®¹ï¼Œä¸€äº›ç»†èŠ‚å¯èƒ½å·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼Œå› æ­¤æˆ‘å†³å®šå†™ä¸‹è¿™ç¯‡æ–‡ç« ã€‚ 2. WebSockets?WebSockets å¯ä»¥åœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´åˆ›å»º åŒå‘ä½å»¶è¿Ÿ çš„é€šä¿¡é€šé“ã€‚ è¿™ä½¿å¾—å®ƒåœ¨æŸäº›åœºæ™¯ä¸­éå¸¸é€‚ç”¨ï¼šæ¯”å¦‚åŒå‘é€šä¿¡çš„å¤šäººæ¸¸æˆï¼Œå³æµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½ä¼šä¸€ç›´åœ¨é€šé“ä¸Šå‘é€æ¶ˆæ¯ï¼Œéœ€è¦å°†è¿™äº›æ¶ˆæ¯ä»¥è¾ƒä½å»¶è¿Ÿè¿›è¡Œä¼ é€’ã€‚ åœ¨ä¸€æ¬¾ç¬¬ä¸€äººç§°å°„å‡»æ¸¸æˆä¸­ï¼Œæµè§ˆå™¨å¯ä»¥æŒç»­åœ°ä¼ è¾“ç©å®¶çš„ä½ç½®ï¼ŒåŒæ—¶ä»æœåŠ¡å™¨æ¥æ”¶æ‰€æœ‰å…¶ä»–ç©å®¶ä½ç½®çš„æ›´æ–°ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è‚¯å®šå¸Œæœ›è¿™äº›æ¶ˆæ¯èƒ½å¤Ÿä»¥å°½å¯èƒ½èŠ±è´¹å°‘çš„å¼€é”€è¿›è¡Œä¼ é€’ï¼Œä»¥é¿å…æ¸¸æˆè¿Ÿç¼“æ„Ÿï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚ è¿™ä¸ä¼ ç»Ÿçš„ HTTP è¯·æ±‚-å“åº”æ¨¡å‹æ­£å¥½ç›¸åï¼Œå…¶ä¸­æµè§ˆå™¨å§‹ç»ˆæ˜¯å‘èµ·é€šä¿¡çš„ä¸€æ–¹ï¼Œæ¯ä¸ªæ¶ˆæ¯éƒ½å…·æœ‰æ˜¾è‘—çš„å¼€é”€ï¼Œå› ä¸ºè¦å»ºç«‹ TCP è¿æ¥å’Œä¼ è¾“ HTTP å¤´éƒ¨ä¿¡æ¯ã€‚ ç„¶è€Œï¼Œè®¸å¤šåº”ç”¨ç¨‹åºçš„å®ç°ä¸éœ€è¦è¿™ä¹ˆä¸¥æ ¼çš„è¦æ±‚ã€‚å³ä½¿åœ¨å®æ—¶åº”ç”¨ç¨‹åºä¸­ï¼Œæ•°æ®æµä¹Ÿé€šå¸¸æ˜¯ä¸å¯¹ç§°çš„ï¼šæœåŠ¡å™¨å‘é€äº†å¤§éƒ¨åˆ†çš„æ¶ˆæ¯ï¼Œè€Œå®¢æˆ·ç«¯å¤§å¤šåªæ˜¯è´Ÿè´£ç›‘å¬ï¼Œå¹¶ä¸”åªæ˜¯å¶å°”å‘é€ä¸€äº›æ›´æ–°ã€‚ä¾‹å¦‚ï¼Œåœ¨å®æ—¶çš„èŠå¤©åº”ç”¨ç¨‹åºä¸­ï¼Œç”¨æˆ·å¯èƒ½ä¼šè¿æ¥åˆ°è®¸å¤šèŠå¤©æˆ¿é—´ï¼Œæ¯ä¸ªæˆ¿é—´éƒ½æœ‰å‡ åä¸ªæˆ–å‡ ç™¾ä¸ªå‚ä¸è€…ã€‚å› æ­¤ï¼Œæ¥æ”¶åˆ°çš„æ¶ˆæ¯æ•°é‡è¿œè¿œè¶…è¿‡å‘é€çš„æ¶ˆæ¯æ•°é‡ã€‚ 3. WebSockets çš„é—®é¢˜åœ¨äºå“ªé‡ŒåŒå‘çš„é€šä¿¡é€šé“å’Œä½å»¶è¿Ÿæ˜¯éå¸¸å¥½çš„åŠŸèƒ½ç‰¹æ€§ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜è¦ç»§ç»­å¯»æ‰¾å…¶ä»–è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ WebSockets æœ‰ä¸€ä¸ªä¸»è¦ç¼ºç‚¹ï¼šå®ƒä»¬ä¸å®Œå…¨åŸºäº HTTP å·¥ä½œã€‚å®ƒä»¬éœ€è¦è‡ªå·±çš„ TCP è¿æ¥ã€‚å®ƒä»¬åªéœ€è¦ä½¿ç”¨ HTTP å»ºç«‹è¿æ¥ï¼Œç„¶åå°†å…¶å‡çº§ä¸ºä¸€ä¸ªç‹¬ç«‹çš„ TCP è¿æ¥ï¼Œåœ¨å…¶ä¸Šå¯ä»¥ä½¿ç”¨ WebSocket åè®®ã€‚ è¿™å¯èƒ½çœ‹èµ·æ¥ä¸æ˜¯å¾ˆé‡è¦ï¼Œä½†è¿™æ„å‘³ç€ WebSockets ä¸èƒ½ä»ä»»ä½•å·²æœ‰çš„ HTTP ç‰¹æ€§ä¸­å—ç›Šã€‚å³ï¼š ä¸æ”¯æŒå‹ç¼© ä¸æ”¯æŒ HTTP&#x2F;2 çš„å¤šè·¯å¤ç”¨ å¯èƒ½å­˜åœ¨ä»£ç†é—®é¢˜ æ— è·¨ç«™ç‚¹åŠ«æŒä¿æŠ¤ è‡³å°‘ï¼Œåœ¨ WebSocket åè®®é¦–æ¬¡å‘å¸ƒæ—¶æ˜¯è¿™ç§æƒ…å†µã€‚ç°åœ¨ï¼Œæœ‰ä¸€äº›è¡¥å……æ ‡å‡†è¯•å›¾æ”¹å–„è¿™ç§æƒ…å†µã€‚è®©æˆ‘ä»¬æ›´è¯¦ç»†åœ°äº†è§£å½“å‰çš„æƒ…å†µã€‚ æ³¨æ„ï¼šå¦‚æœæ‚¨ä¸å…³å¿ƒç»†èŠ‚ï¼Œè¯·éšæ„è·³è¿‡æœ¬èŠ‚å…¶ä½™éƒ¨åˆ†ï¼Œç›´æ¥è½¬åˆ° Server-Sent Events æˆ– demo éƒ¨åˆ†ã€‚ 3.1 å‹ç¼© (Compression)åœ¨æ ‡å‡†çš„è¿æ¥ä¸Šï¼Œæ¯ä¸ªæµè§ˆå™¨éƒ½æ”¯æŒ HTTP å‹ç¼©æŠ€æœ¯ï¼Œåœ¨æœåŠ¡å™¨ç«¯å¯ç”¨ä¹Ÿéå¸¸å®¹æ˜“ï¼Œåªéœ€åœ¨æ‰€é€‰æ‹©çš„åå‘ä»£ç†ä¸­å¼€å¯åˆ‡æ¢ä¸€ä¸‹å¼€å…³ã€‚ä½†æ˜¯ï¼Œå¯¹äºä½¿ç”¨ WebSockets çš„æƒ…å†µè¿™æ›´åŠ å¤æ‚ï¼Œå› ä¸ºæ²¡æœ‰è¯·æ±‚å’Œå“åº”ï¼Œéœ€è¦å‹ç¼©å„ä¸ªç‹¬ç«‹çš„ WebSocket å¸§ (frames)ã€‚ RFC 7692ï¼Œäº 2015 å¹´ 12 æœˆå‘å¸ƒï¼Œè¯•å›¾é€šè¿‡å®šä¹‰ â€œWebSocket å‹ç¼©æ‰©å±•â€ æ¥æ”¹å–„è¿™ç§æƒ…å†µã€‚ç„¶è€Œï¼Œæ®æˆ‘æ‰€çŸ¥ï¼Œæ²¡æœ‰ä»»ä½•æµè¡Œçš„åå‘ä»£ç†æœåŠ¡ï¼ˆå¦‚ nginxã€caddyï¼‰å®ç°äº†è¿™ä¸€åŠŸèƒ½ï¼Œå› æ­¤æ— æ³•é€æ˜åœ°å¯ç”¨å‹ç¼©ã€‚ è¿™æ„å‘³ç€ï¼Œå¦‚æœè¦ä½¿ç”¨å‹ç¼©ï¼Œåˆ™å¿…é¡»åœ¨åç«¯ç›´æ¥å®ç°ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€äº›æ”¯æŒ RFC 7692 çš„åº“ã€‚ä¾‹å¦‚ï¼ŒPython çš„ websockets å’Œ wsproto åº“ï¼Œä»¥åŠ nodejs çš„ ws åº“ã€‚ ç„¶è€Œï¼Œåè€…å¹¶ä¸å»ºè®®ä½¿ç”¨è¯¥åŠŸèƒ½ï¼š è¯¥æ‰©å±•åœ¨æœåŠ¡å™¨ä¸Šé»˜è®¤ç¦ç”¨ï¼Œåœ¨å®¢æˆ·ç«¯ä¸Šé»˜è®¤å¯ç”¨ã€‚å®ƒåœ¨æ€§èƒ½å’Œå†…å­˜æ¶ˆè€—æ–¹é¢å¢åŠ äº†æ˜¾è‘—çš„å¼€é”€ï¼Œå› æ­¤æˆ‘ä»¬å»ºè®®åªåœ¨ç¡®å®éœ€è¦æ—¶æ‰å¯ç”¨å®ƒã€‚ è¯·æ³¨æ„ï¼ŒNode.js åœ¨é«˜æ€§èƒ½å‹ç¼©æ–¹é¢å­˜åœ¨å„ç§é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨ Linux ä¸Šå¢åŠ å¹¶å‘æ€§å¯èƒ½ä¼šå¯¼è‡´ç¾éš¾æ€§çš„å†…å­˜ç¢ç‰‡å’Œæ€§èƒ½ä¸‹é™ã€‚ åœ¨æµè§ˆå™¨æ–¹é¢ï¼ŒFirefox ä» 37 ç‰ˆæœ¬å¼€å§‹æ”¯æŒ WebSocket çš„å‹ç¼©ã€‚Chrome ä¹Ÿæ”¯æŒã€‚ç„¶è€Œï¼Œæ˜¾ç„¶ Safari å’Œ Edge ä¸æ”¯æŒã€‚ æˆ‘æ²¡æœ‰éªŒè¯ç§»åŠ¨è®¾å¤‡ä¸Šçš„æ”¯æŒæƒ…å†µå¦‚ä½•ã€‚ 3.2 å¤šè·¯å¤ç”¨ (Multiplexing)HTTP&#x2F;2 å¼•å…¥äº†å¯¹å¤šè·¯å¤ç”¨çš„æ”¯æŒï¼Œæ„å‘³ç€å‘åŒä¸€ä¸»æœºå‘é€çš„å¤šä¸ªè¯·æ±‚&#x2F;å“åº”å¯¹ä¸å†éœ€è¦å•ç‹¬çš„ TCP è¿æ¥ã€‚ç›¸åï¼Œå®ƒä»¬å¯ä»¥å…±äº«åŒä¸€ä¸ª TCP è¿æ¥ï¼Œæ¯ä¸ªè¯·æ±‚åœ¨å…¶è‡ªå·±ç‹¬ç«‹çš„ HTTP&#x2F;2 æµä¸Šè¿è¡Œã€‚ è¿™ä¹Ÿå¾—åˆ°äº†æ¯ä¸ªæµè§ˆå™¨çš„æ”¯æŒï¼Œè€Œä¸”åœ¨å¤§å¤šæ•°åå‘ä»£ç†ä¸Šå¯ç”¨å®ƒä¹Ÿéå¸¸å®¹æ˜“ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼ŒWebSocket åè®®é»˜è®¤ä¸æ”¯æŒå¤šè·¯å¤ç”¨ã€‚å‘åŒä¸€ä¸»æœºå‘é€å¤šä¸ª WebSocket å°†å„è‡ªæ‰“å¼€è‡ªå·±çš„ç‹¬ç«‹çš„ TCP è¿æ¥ã€‚å¦‚æœè¦ä½¿ä¸¤ä¸ªç‹¬ç«‹çš„ WebSocket ç»ˆç«¯å…±äº«å®ƒä»¬çš„åŸºç¡€è¿æ¥ï¼Œæ‚¨å¿…é¡»è‡ªå·±åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­æ·»åŠ å¤šè·¯å¤ç”¨èƒ½åŠ›æ”¯æŒã€‚ RFC 8441 äº 2018 å¹´ 9 æœˆå‘å¸ƒï¼Œå°è¯•é€šè¿‡æ·»åŠ â€œä½¿ç”¨ HTTP&#x2F;2 å¼•å¯¼ WebSocketâ€çš„æ”¯æŒæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®ƒå·²åœ¨ Firefox å’Œ Chrome ä¸­å®ç°ã€‚ç„¶è€Œï¼Œæ®æˆ‘æ‰€çŸ¥ï¼Œæ²¡æœ‰ä¸»è¦çš„åå‘ä»£ç†æœåŠ¡å®ç°äº†å®ƒã€‚ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä¹Ÿæ‰¾ä¸åˆ° Python æˆ– Javascript çš„ä»»ä½•å®ç°ã€‚ 3.3 ä»£ç†é—®é¢˜ (Issues with proxies)æ²¡æœ‰æ˜¾å¼æ”¯æŒ WebSockets çš„ HTTP ä»£ç†å¯èƒ½ä¼šé˜»æ­¢æœªåŠ å¯†çš„ WebSocket è¿æ¥æ­£å¸¸å·¥ä½œã€‚è¿™æ˜¯å› ä¸ºä»£ç†æ— æ³•è§£æ WebSocket å¸§ (frames) å¹¶å…³é—­è¿æ¥ã€‚ ä½†æ˜¯ï¼Œé€šè¿‡ HTTPS å‘èµ·çš„ WebSocket è¿æ¥åº”è¯¥ä¸å—æ­¤é—®é¢˜çš„å½±å“ï¼Œå› ä¸ºå¸§å°†è¢«åŠ å¯†ï¼Œä»£ç†åº”è¯¥åªæ˜¯è½¬å‘æ‰€æœ‰å†…å®¹è€Œä¸ä¼šå…³é—­è¿æ¥ã€‚ è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ Peter Lubbers çš„â€œHTML5 Web Sockets å¦‚ä½•ä¸ä»£ç†æœåŠ¡å™¨äº¤äº’â€ã€‚ 3.4 è·¨ç«™ WebSocket åŠ«æŒWebSocket è¿æ¥æ²¡æœ‰å—åˆ°åŒæºç­–ç•¥çš„ä¿æŠ¤ï¼Œè¿™ä½¿å®ƒä»¬å®¹æ˜“å—åˆ°è·¨ç«™ WebSocket åŠ«æŒæ”»å‡»ã€‚ å› æ­¤ï¼Œå¦‚æœ WebSocket åç«¯æ²¡æœ‰ä½¿ç”¨ä»»ä½•å®¢æˆ·ç«¯ç¼“å­˜çš„èº«ä»½éªŒè¯æ–¹å¼ï¼ˆä¾‹å¦‚ cookieæˆ– HTTP èº«ä»½éªŒè¯ï¼‰ï¼Œå®ƒä»¬å¿…é¡»æ£€æŸ¥ Origin å¤´çš„æ­£ç¡®æ€§ã€‚ æˆ‘åœ¨è¿™é‡Œä¸ä¼šè¯¦ç»†è®¨è®ºï¼Œä½†æ˜¯è¯·è€ƒè™‘è¿™ä¸ªç®€çŸ­çš„ä¾‹å­ã€‚å‡è®¾ä¸€ä¸ªæ¯”ç‰¹å¸äº¤æ˜“æ‰€ä½¿ç”¨ WebSockets æä¾›å…¶äº¤æ˜“æœåŠ¡ã€‚å½“æ‚¨ç™»å½•æ—¶ï¼Œäº¤æ˜“æ‰€å¯èƒ½è®¾ç½®ä¸€ä¸ª cookie æ¥ä¿æŒæ‚¨çš„ä¼šè¯åœ¨ä¸€å®šæ—¶é—´å†…æ´»åŠ¨ã€‚ç°åœ¨ï¼Œæ”»å‡»è€…è¦å·å–ä½ çè´µçš„æ¯”ç‰¹å¸æ‰€è¦åšçš„å°±æ˜¯è®©ä½ è®¿é—®å¥¹æ§åˆ¶çš„ç«™ç‚¹ï¼Œç„¶åç®€å•åœ°æ‰“å¼€ä¸€ä¸ª WebSocket è¿æ¥åˆ°äº¤æ˜“æ‰€ã€‚æ¶æ„è¿æ¥å°†è¢«è‡ªåŠ¨éªŒè¯ï¼Œé™¤éäº¤æ˜“æ‰€æ£€æŸ¥ Origin å¤´å¹¶é˜»æ­¢æ¥è‡ªæœªæˆæƒåŸŸçš„è¿æ¥ã€‚ æˆ‘å»ºè®®æ‚¨é˜…è¯» Christian Schneider å…³äºè·¨ç«™ WebSocket åŠ«æŒçš„ç²¾å½©æ–‡ç« ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚ 4. Server-Sent Eventsç°åœ¨æˆ‘ä»¬å¯¹ WebSockets æœ‰äº†æ›´å¤šçš„äº†è§£ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œè®©æˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹ Server-Sent Events å¹¶äº†è§£å®ƒä»¬æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ›¿ä»£æ–¹æ¡ˆã€‚ Server-Sent Events ä½¿æœåŠ¡å™¨èƒ½å¤Ÿéšæ—¶å‘å®¢æˆ·ç«¯å‘é€ä½å»¶è¿Ÿçš„æ¨é€äº‹ä»¶ã€‚å®ƒä»¬ä½¿ç”¨éå¸¸ç®€å•çš„åè®®ï¼Œå¹¶ä¸”æ˜¯ HTML æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œå—åˆ°æ¯ä¸ªæµè§ˆå™¨çš„æ”¯æŒã€‚ ä¸ WebSockets ä¸åŒï¼ŒServer-Sent Events ä»…æ”¯æŒå‘å®¢æˆ·ç«¯å•å‘ä¿¡æ¯æµåŠ¨ã€‚è¿™ä½¿å¾—å®ƒä»¬ä¸é€‚åˆä¸€äº›éœ€è¦å¤„ç†ç‰¹å®šåœºæ™¯çš„åº”ç”¨ç¨‹åºï¼Œå³é‚£äº›éœ€è¦æ—¢æ˜¯åŒå‘åˆæ˜¯ä½å»¶è¿Ÿçš„é€šä¿¡é€šé“ï¼Œæ¯”å¦‚å®æ—¶æ¸¸æˆã€‚ç„¶è€Œï¼Œè¿™äº›æƒè¡¡å–èˆä¹Ÿæ˜¯å®ƒä»¬ç›¸å¯¹äº WebSockets çš„ä¸»è¦ä¼˜åŠ¿ï¼Œå› ä¸ºå•å‘æµåŠ¨ä½¿å¾— Server-Sent Events å¯ä»¥åœ¨ HTTP ä¹‹ä¸Šæ— ç¼çš„å·¥ä½œï¼Œè€Œæ— éœ€è‡ªå®šä¹‰åè®®ã€‚è¿™ä½¿å®ƒä»¬è‡ªåŠ¨è·å¾—äº†æ‰€æœ‰ HTTP çš„åŠŸèƒ½ï¼Œä¾‹å¦‚å‹ç¼©æˆ– HTTP&#x2F;2 å¤šè·¯å¤ç”¨èƒ½åŠ›ï¼Œä½¿å®ƒä»¬æˆä¸ºå¤§å¤šæ•°å®æ—¶åº”ç”¨ç¨‹åºçš„éå¸¸æ–¹ä¾¿çš„é€‰æ‹©ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®éƒ½æ¥è‡ªæœåŠ¡å™¨ï¼Œå¹¶ä¸”ç”±äº HTTP å¤´éƒ¨çš„ä¸€äº›å¼€é”€è€Œå¯¼è‡´ä¸€äº›è¯·æ±‚çš„å¼€é”€æ˜¯å¯ä»¥æ¥å—çš„ã€‚ åè®®éå¸¸ç®€å•ã€‚å®ƒä½¿ç”¨ text/event-stream ä½œä¸ºå†…å®¹ç±»å‹ (Content-Type) å’Œæ¶ˆæ¯çš„å½¢å¼å¦‚ä¸‹ï¼š 123456789101112data: First messageevent: joindata: Second message. It has twodata: lines, a custom event type and an id.id: 5: comment. Can be used as keep-alivedata: Third message. I do not have more data.data: Please retry later.retry: 10 æ¯ä¸ªäº‹ä»¶ç”±ä¸¤ä¸ªæ¢è¡Œç¬¦ï¼ˆ\\nï¼‰åˆ†éš”ï¼Œå¹¶ç”±å¤šä¸ªå¯é€‰å­—æ®µç»„æˆã€‚ å¯é‡å¤ä½¿ç”¨åœ¨å¤šå¤„å‡ºç°çš„å­—æ®µ data é€šå¸¸ç”¨äºè¡¨ç¤ºäº‹ä»¶æ•°æ®çš„å†…å®¹ã€‚ å­—æ®µ event å…è®¸æŒ‡å®šè‡ªå®šä¹‰äº‹ä»¶ç±»å‹ï¼Œå¦‚ä¸‹ä¸€èŠ‚æ‰€ç¤ºï¼Œå®ƒå¯ä»¥ç”¨äºåœ¨å®¢æˆ·ç«¯ä¸Šè§¦å‘ä¸åŒçš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚ å¦å¤–ä¸¤ä¸ªå­—æ®µ id å’Œ retry ç”¨äºé…ç½®è‡ªåŠ¨é‡è¿æœºåˆ¶çš„è¡Œä¸ºã€‚è¿™æ˜¯ Server-Sent Events æœ€æœ‰è¶£çš„ç‰¹æ€§ä¹‹ä¸€ã€‚å®ƒç¡®ä¿åœ¨è¿æ¥æ–­å¼€æˆ–è¢«æœåŠ¡å™¨å…³é—­æ—¶ï¼Œæ— éœ€ç”¨æˆ·å¹²é¢„ï¼Œå®¢æˆ·ç«¯å°†è‡ªåŠ¨å°è¯•é‡æ–°è¿æ¥ã€‚ retry å­—æ®µç”¨äºæŒ‡å®šåœ¨å°è¯•é‡æ–°è¿æ¥ä¹‹å‰ç­‰å¾…çš„æœ€çŸ­æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚å½“æœåŠ¡å™¨è¿æ¥äº†å¤ªå¤šå®¢æˆ·ç«¯æ—¶ï¼Œå®ƒä¹Ÿå¯ä»¥åœ¨ç«‹å³å…³é—­å®¢æˆ·ç«¯è¿æ¥ä¹‹å‰å‘é€è¯¥å­—æ®µä»¥å‡è½»å…¶è´Ÿè½½ã€‚ id å­—æ®µå°†æ ‡è¯†ç¬¦ä¸å½“å‰äº‹ä»¶ç›¸å…³è”ã€‚åœ¨é‡æ–°è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å°†ä½¿ç”¨ Last-Event-ID HTTP è¯·æ±‚å¤´å°†ä¸Šæ¬¡çœ‹åˆ°çš„ id ä¼ è¾“ç»™æœåŠ¡å™¨ã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä»æ­£ç¡®çš„å¤±æ•ˆç‚¹æ¢å¤é€šè®¯æµã€‚ æœ€åï¼ŒæœåŠ¡å™¨å¯ä»¥é€šè¿‡è¿”å› HTTP 204 No Content å“åº”æ¥å®Œå…¨åœæ­¢è‡ªåŠ¨é‡è¿æœºåˆ¶ã€‚ 5. æ¥ç‚¹å®é™…ä»£ç  Demoç°åœ¨ï¼Œè®©æˆ‘ä»¬å°†æ‰€å­¦çš„å†…å®¹ä»˜è¯¸å®è·µã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Server-Sent Events å’Œ WebSockets å®ç°ä¸€ä¸ªç®€å•çš„æœåŠ¡ã€‚è¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿå®é™…æ¯”è¾ƒè¿™ä¸¤ç§æŠ€æœ¯ã€‚æˆ‘ä»¬å°†äº†è§£åˆ°ä½¿ç”¨æ¯ç§æŠ€æœ¯å¼€å§‹çš„éš¾æ˜“ç¨‹åº¦ï¼Œå¹¶æ‰‹åŠ¨éªŒè¯å‰é¢è®¨è®ºçš„åŠŸèƒ½ã€‚ æˆ‘ä»¬å°†ä½¿ç”¨ Python ä½œä¸ºåç«¯ï¼ŒCaddy ä½œä¸ºåå‘ä»£ç†ï¼Œå½“ç„¶è¿˜éœ€è¦ä¸€äº› JavaScript ä»£ç ç”¨äºå‰ç«¯ã€‚ ä¸ºäº†è®©æˆ‘ä»¬çš„ç¤ºä¾‹å°½å¯èƒ½ç®€å•ï¼Œæˆ‘ä»¬çš„åç«¯å°†åªåŒ…å«ä¸¤ä¸ªç«¯ç‚¹ (endpoints)ï¼Œæ¯ä¸ªç«¯ç‚¹éƒ½ä¼šæµå¼ä¼ è¾“å”¯ä¸€çš„éšæœºæ•°å­—åºåˆ—ã€‚ä» &#x2F;sse1 å’Œ &#x2F;sse2 è¿›è¡Œ Server-Sent Events è®¿é—®ï¼Œä» &#x2F;ws1 å’Œ &#x2F;ws2 è¿›è¡Œ WebSockets çš„è®¿é—®ã€‚æˆ‘ä»¬çš„å‰ç«¯å°†ä»…ç”±ä¸€ä¸ª index.html æ–‡ä»¶ç»„æˆï¼Œå…¶ä¸­åŒ…å«ä¸€äº› JavaScript ä»£ç ï¼Œå¯ä»¥è®©æˆ‘ä»¬å¯åŠ¨å’Œåœæ­¢ WebSockets å’Œ Server-Sent Events è¿æ¥ã€‚ ç¤ºä¾‹ä»£ç  - GitHub 5.1 åå‘ä»£ç†ä½¿ç”¨åå‘ä»£ç†ï¼Œä¾‹å¦‚ Caddy æˆ– nginxï¼Œå¯¹äºè¿™ç§å°ä¾‹å­ä¸­éå¸¸æœ‰ç”¨ã€‚å®ƒè®©æˆ‘ä»¬å¾ˆå®¹æ˜“åœ°å¼€å¯å¾ˆå¤šæˆ‘ä»¬æ‰€é€‰æ‹©çš„åç«¯å¯èƒ½ç¼ºå°‘çš„åŠŸèƒ½ã€‚ æ›´å…·ä½“åœ°è¯´ï¼Œå®ƒå…è®¸æˆ‘ä»¬è½»æ¾åœ°æä¾›é™æ€æ–‡ä»¶å¹¶è‡ªåŠ¨å‹ç¼© HTTP å“åº”ï¼›æä¾› HTTP&#x2F;2 æ”¯æŒï¼Œå³ä½¿æˆ‘ä»¬çš„åç«¯ä»…æ”¯æŒ HTTP&#x2F;1ï¼Œä¹Ÿå¯ä»¥è®©æˆ‘ä»¬å—ç›Šäºå¤šè·¯å¤ç”¨ï¼›æœ€åè¿˜å¯ä»¥è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚ æˆ‘é€‰æ‹©äº†Caddyï¼Œå› ä¸ºå®ƒå¯ä»¥è‡ªåŠ¨ä¸ºæˆ‘ä»¬ç®¡ç†HTTPSè¯ä¹¦ï¼Œè®©æˆ‘ä»¬è·³è¿‡ä¸€ä¸ªéå¸¸ä¹å‘³çš„ä»»åŠ¡ï¼Œå°¤å…¶æ˜¯å¯¹äºä¸€ä¸ªå¿«é€Ÿå®éªŒ Demoã€‚ åŸºæœ¬é…ç½®ä½äºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ Caddyfile ä¸­ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š 12345678localhostbind 127.0.0.1 ::1root ./staticfile_server browseencode zstd gzip è¿™æŒ‡ç¤º Caddy ç›‘å¬æœ¬åœ°æ¥å£çš„ 80 å’Œ 443 ç«¯å£ï¼Œå¯ç”¨ HTTPS æ”¯æŒå¹¶ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ã€‚å®ƒè¿˜æ”¯æŒå‹ç¼©å’Œæä¾›è®¿é—® static ç›®å½•ä¸‹çš„é™æ€æ–‡ä»¶ã€‚ æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦è®© Caddy ä»£ç†åˆ°æˆ‘ä»¬çš„åç«¯æœåŠ¡ã€‚Server-Sent Eventsåªæ˜¯æ™®é€šçš„HTTPè¯·æ±‚ï¼Œæ‰€ä»¥è¿™é‡Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„: 12reverse_proxy /sse1 127.0.1.1:6001reverse_proxy /sse2 127.0.1.1:6002 è¦ä»£ç† Websocketï¼Œéœ€è¦åå‘ä»£ç†æ˜¾å¼æ”¯æŒã€‚å¹¸è¿çš„æ˜¯ï¼ŒCaddy å¯ä»¥æ¯«æ— éšœç¢åœ°å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå°½ç®¡é…ç½®æœ‰ç‚¹å†—é•¿: 123456789101112@websockets &#123; header Connection *Upgrade* header Upgrade websocket&#125;handle /ws1 &#123; reverse_proxy @websockets 127.0.1.1:6001&#125;handle /ws2 &#123; reverse_proxy @websockets 127.0.1.1:6002&#125; æœ€åä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯åŠ¨ Caddy: 1sudo caddy start 5.2 å‰ç«¯è®©æˆ‘ä»¬ä»å‰ç«¯å¼€å§‹ï¼Œæ¯”è¾ƒ WebSockets å’Œ Server-Sent Events çš„ JavaScript APIã€‚ WebSocket çš„JavaScript APIéå¸¸æ˜“äºä½¿ç”¨ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ WebSocket å¯¹è±¡ï¼Œä¼ é€’æœåŠ¡å™¨çš„ URLã€‚è¿™é‡Œï¼Œwss è¡¨ç¤ºè¿æ¥å°†åœ¨ HTTPS ä¸Šè¿›è¡Œã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ HTTPS ä»¥é¿å…ä»£ç†é—®é¢˜ã€‚ ç„¶åï¼Œæˆ‘ä»¬åº”è¯¥ç›‘å¬ä¸€äº›å¯èƒ½çš„äº‹ä»¶ï¼ˆå³æ‰“å¼€ openã€æ¶ˆæ¯ messageã€å…³é—­ closeã€é”™è¯¯ errorï¼‰ï¼Œé€šè¿‡è®¾ç½® on$event å±æ€§æˆ–ä½¿ç”¨ addEventListener()ã€‚ 123456const ws = new WebSocket(&quot;wss://localhost/ws&quot;);ws.onopen = e =&gt; console.log(&quot;WebSocket open&quot;);ws.addEventListener( &quot;message&quot;, e =&gt; console.log(e.data)); JavaScript çš„ Server-Sent Events API éå¸¸ç±»ä¼¼ã€‚å®ƒè¦æ±‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„ EventSource å¯¹è±¡ï¼Œä¼ é€’æœåŠ¡å™¨çš„ URLï¼Œç„¶åå¯ä»¥é€šè¿‡ç›¸åŒçš„æ–¹å¼è®¢é˜…äº‹ä»¶ã€‚ ä¸»è¦çš„åŒºåˆ«åœ¨äºï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®¢é˜…è‡ªå®šä¹‰äº‹ä»¶ã€‚ 1234567891011const es = new EventSource(&quot;https://localhost/sse&quot;);es.onopen = e =&gt; console.log(&quot;EventSource open&quot;);es.addEventListener( &quot;message&quot;, e =&gt; console.log(e.data));// Event listener for custom event// è®¢é˜…è‡ªå®šä¹‰äº‹ä»¶es.addEventListener( &quot;join&quot;, e =&gt; console.log(`$&#123;e.data&#125; joined`)) æˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨æ‰€æœ‰è¿™äº›å…³äº JS APIs çš„æ–°çŸ¥è¯†æ¥æ„å»ºæˆ‘ä»¬å®é™…çš„å‰ç«¯ã€‚ ä¸ºäº†è®©äº‹æƒ…å°½å¯èƒ½ç®€å•ï¼Œå®ƒåªåŒ…å«ä¸€ä¸ª index.html æ–‡ä»¶ï¼Œé‡Œé¢æœ‰ä¸€å †ç”¨æ¥å¯åŠ¨å’Œåœæ­¢ WebSockets å’Œ EventSources çš„æŒ‰é’®ã€‚åƒè¿™æ ·ï¼š 12345&lt;button onclick=&quot;startWS(1)&quot;&gt;Start WS1&lt;/button&gt;&lt;button onclick=&quot;closeWS(1)&quot;&gt;Close WS1&lt;/button&gt;&lt;br&gt;&lt;button onclick=&quot;startWS(2)&quot;&gt;Start WS2&lt;/button&gt;&lt;button onclick=&quot;closeWS(2)&quot;&gt;Close WS2&lt;/button&gt; æˆ‘ä»¬éœ€è¦å¤šä¸ª WebSocket&#x2F;EventSourceï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æµ‹è¯• HTTP&#x2F;2 å¤šè·¯å¤ç”¨æ˜¯å¦æœ‰æ•ˆä»¥åŠæ‰“å¼€äº†å¤šå°‘è¿æ¥ã€‚ ç°åœ¨è®©æˆ‘ä»¬å®ç°è¿™äº›æŒ‰é’®å·¥ä½œæ‰€éœ€çš„ä¸¤ä¸ªå‡½æ•°: 123456789101112131415161718const wss = [];function startWS(i) &#123; if (wss[i] !== undefined) return; const ws = wss[i] = new WebSocket(&quot;wss://localhost/ws&quot;+i); ws.onopen = e =&gt; console.log(&quot;WS open&quot;); ws.onmessage = e =&gt; console.log(e.data); ws.onclose = e =&gt; closeWS(i);&#125;function closeWS(i) &#123; if (wss[i] !== undefined) &#123; console.log(&quot;Closing websocket&quot;); websockets[i].close(); delete websockets[i]; &#125;&#125; Server-Sent Events çš„å‰ç«¯ä»£ç å‡ ä¹ç›¸åŒã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ onerror äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå®ƒä¹‹æ‰€ä»¥å­˜åœ¨ï¼Œæ˜¯å› ä¸ºä¸€æ—¦å‘ç”Ÿé”™è¯¯ï¼Œæµè§ˆå™¨å°±ä¼šè®°å½•ä¸€æ¡æ¶ˆæ¯ï¼Œå¹¶å°è¯•è¿›è¡Œé‡è¿ã€‚ 123456789101112131415161718const ess = [];function startES(i) &#123; if (ess[i] !== undefined) return; const es = ess[i] = new EventSource(&quot;https://localhost/sse&quot;+i); es.onopen = e =&gt; console.log(&quot;ES open&quot;); es.onerror = e =&gt; console.log(&quot;ES error&quot;, e); es.onmessage = e =&gt; console.log(e.data);&#125;function closeES(i) &#123; if (ess[i] !== undefined) &#123; console.log(&quot;Closing EventSource&quot;); ess[i].close() delete ess[i] &#125;&#125; 5.3 åç«¯ç°åœ¨æˆ‘ä»¬æ¥ç¼–å†™åç«¯ä»£ç ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ Python çš„å¼‚æ­¥ Web æ¡†æ¶ Starletteï¼Œä½¿ç”¨ Uvicorn ä½œä¸ºæœåŠ¡å™¨ã€‚ä¸ºäº†ä½¿äº‹æƒ…æ¨¡å—åŒ–ï¼Œæˆ‘ä»¬å°†åˆ†ç¦»æ•°æ®ç”Ÿæˆè¿‡ç¨‹å’Œç«¯ç‚¹ (endpoints) çš„å®ç°ã€‚ æˆ‘ä»¬å¸Œæœ›ä¸¤ä¸ªç«¯ç‚¹ä¸­çš„æ¯ä¸€ä¸ªéƒ½ç”Ÿæˆä¸€ç³»åˆ—å”¯ä¸€çš„éšæœºæ•°ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æµ IDï¼ˆå³1æˆ–2ï¼‰ä½œä¸ºéšæœºç§å­ (random seed)çš„ä¸€éƒ¨åˆ†ã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›æˆ‘ä»¬çš„æµæ˜¯å¯æ¢å¤çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¿æ¥ä¸­æ–­ï¼Œå®¢æˆ·ç«¯åº”è¯¥èƒ½å¤Ÿä»å®ƒæ”¶åˆ°çš„æœ€åä¸€æ¡æ¶ˆæ¯æ¢å¤æµï¼Œè€Œä¸æ˜¯é‡æ–°è¯»å–æ•´ä¸ªåºåˆ—ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ä¸ºæ¯ä¸ªæ¶ˆæ¯&#x2F;äº‹ä»¶åˆ†é…ä¸€ä¸ª IDï¼Œå¹¶åœ¨ç”Ÿæˆæ¯ä¸ªæ¶ˆæ¯ä¹‹å‰ä½¿ç”¨å®ƒæ¥åˆå§‹åŒ–éšæœºç§å­ï¼Œä»¥åŠæµ IDã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼ŒID å°†åªæ˜¯ä» 0 å¼€å§‹çš„è®¡æ•°å™¨ (Counter)ã€‚ æœ‰äº†è¿™äº›ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¼–å†™ get_data å‡½æ•°æ¥ç”Ÿæˆæˆ‘ä»¬çš„éšæœºæ•°ï¼š 123456import randomdef get_data(stream_id: int, event_id: int) -&gt; int: rnd = random.Random() rnd.seed(stream_id * event_id) return rnd.randrange(1000) ç°åœ¨æˆ‘ä»¬æ¥å†™å‡ºå®é™…çš„ endpointsã€‚ Starlette çš„å…¥é—¨éå¸¸ç®€å•ã€‚æˆ‘ä»¬åªéœ€è¦åˆå§‹åŒ–ä¸€ä¸ªåº”ç”¨ç¨‹åº appï¼Œç„¶åæ³¨å†Œä¸€äº›è·¯ç”±ç»™å®ƒ: 123from starlette.applications import Starletteapp = Starlette() ä¸ºäº†ç¼–å†™ WebSocket æœåŠ¡ï¼Œæˆ‘ä»¬é€‰æ‹©çš„ web æœåŠ¡å™¨å’Œæ¡†æ¶éƒ½å¿…é¡»æœ‰æ˜ç¡®çš„æ”¯æŒã€‚å¹¸è¿çš„æ˜¯ï¼ŒUvicorn å’Œ Starlette å¯ä»¥èƒœä»»è¿™ä¸ªä»»åŠ¡ï¼Œç¼–å†™ WebSocket ç«¯ç‚¹ä¸ç¼–å†™æ™®é€šè·¯ç”±ä¸€æ ·æ–¹ä¾¿ã€‚ è¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„æ‰€æœ‰ä»£ç : 1234567891011121314from websockets.exceptions import WebSocketException@app.websocket_route(&quot;/ws&#123;id:int&#125;&quot;)async def websocket_endpoint(ws): id = ws.path_params[&quot;id&quot;] try: await ws.accept() for i in itertools.count(): data = &#123;&quot;id&quot;: i, &quot;msg&quot;: get_data(id, i)&#125; await ws.send_json(data) await asyncio.sleep(1) except WebSocketException: print(&quot;client disconnected&quot;) ä¸Šè¿°ä»£ç å°†ç¡®ä¿æ¯å½“æµè§ˆå™¨è¯·æ±‚ä»¥ /ws å¼€å¤´å¹¶åè·Ÿä¸€ä¸ªæ•°å­—çš„è·¯å¾„æ—¶ï¼ˆä¾‹å¦‚ /ws1ã€/ws2ï¼‰ï¼Œå°±ä¼šè°ƒç”¨ websocket_endpoint å‡½æ•°ã€‚ ç„¶åï¼Œå¯¹äºæ¯ä¸ªåŒ¹é…çš„è¯·æ±‚ï¼Œå®ƒå°†ç­‰å¾… WebSocket è¿æ¥å»ºç«‹ï¼Œéšåå¼€å§‹æ— é™å¾ªç¯æ¯ç§’å‘é€éšæœºæ•°å­—ï¼Œç¼–ç ä¸º JSON æœ‰æ•ˆè½½è·ã€‚ å¯¹äº Server-Sent Eventsï¼Œä»£ç éå¸¸ç›¸ä¼¼ï¼Œé™¤äº†ä¸éœ€è¦ä»»ä½•ç‰¹æ®Šçš„æ¡†æ¶æ”¯æŒã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ³¨å†Œä¸€ä¸ªè·¯ç”±ï¼ŒåŒ¹é…ä»¥ &#x2F;sse å¼€å¤´å¹¶ä»¥æ•°å­—ç»“å°¾çš„ URLï¼ˆä¾‹å¦‚ /sse1ã€/sse2ï¼‰ã€‚ä½†æ˜¯ï¼Œè¿™æ¬¡æˆ‘ä»¬çš„ç«¯ç‚¹åªæ˜¯è®¾ç½®é€‚å½“çš„æ ‡å¤´å¹¶è¿”å› StreamingResponse: 123456789101112from starlette.responses import StreamingResponse@app.route(&quot;/sse&#123;id:int&#125;&quot;)async def sse_endpoint(req): return StreamingResponse( sse_generator(req), headers=&#123; &quot;Content-type&quot;: &quot;text/event-stream&quot;, &quot;Cache-Control&quot;: &quot;no-cache&quot;, &quot;Connection&quot;: &quot;keep-alive&quot;, &#125;, ) StreamingResponse æ˜¯ Starlette æä¾›çš„ä¸€ä¸ªå®ç”¨ç¨‹åºç±»ï¼Œå®ƒæ¥å—ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå¹¶å°†å…¶è¾“å‡ºæµå¼ä¼ è¾“åˆ°å®¢æˆ·ç«¯ï¼Œä¿æŒè¿æ¥å¤„äºæ‰“å¼€çŠ¶æ€ã€‚ ä¸‹é¢ä¸º sse_generator çš„å®ç°ä»£ç ï¼Œå‡ ä¹ä¸ WebSocket ç«¯ç‚¹ç›¸åŒï¼Œåªæ˜¯æ¶ˆæ¯æŒ‰ç…§ Server-Sent Events åè®®è¿›è¡Œç¼–ç ï¼š 1234567async def sse_generator(req): id = req.path_params[&quot;id&quot;] for i in itertools.count(): data = get_data(id, i) data = b&quot;id: %d\\ndata: %d\\n\\n&quot; % (i, data) yield data await asyncio.sleep(1) æˆ‘ä»¬å®Œæˆäº†! æœ€åï¼Œå‡è®¾æˆ‘ä»¬å°†æ‰€æœ‰ä»£ç æ”¾åœ¨åä¸º server.py çš„æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Uvicorn å¯åŠ¨æˆ‘ä»¬çš„åç«¯ endpointsï¼Œå¦‚ä¸‹æ‰€ç¤º: 12$ uvicorn --host 127.0.1.1 --port 6001 server:app &amp;$ uvicorn --host 127.0.1.1 --port 6002 server:app &amp; 6. å½©è›‹: SSE å¾ˆæ£’çš„ç‰¹æ€§å¥½äº†ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼Œå®ç°æˆ‘ä»¬ä¹‹å‰å¹å˜˜çš„é‚£äº›æ¼‚äº®çš„åŠŸèƒ½æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚ å¯ä»¥é€šè¿‡ä¿®æ”¹ç«¯ç‚¹ä¸­çš„å‡ è¡Œä»£ç æ¥å¯ç”¨å‹ç¼©: 123456789101112131415161718192021@@ -32,10 +33,12 @@ async def websocket_endpoint(ws): async def sse_generator(req): id = req.path_params[&quot;id&quot;]+ stream = zlib.compressobj() for i in itertools.count(): data = get_data(id, i) data = b&quot;id: %d\\ndata: %d\\n\\n&quot; % (i, data)- yield data+ yield stream.compress(data)+ yield stream.flush(zlib.Z_SYNC_FLUSH) await asyncio.sleep(1) @@ -47,5 +50,6 @@ async def sse_endpoint(req): &quot;Content-type&quot;: &quot;text/event-stream&quot;, &quot;Cache-Control&quot;: &quot;no-cache&quot;, &quot;Connection&quot;: &quot;keep-alive&quot;,+ &quot;Content-Encoding&quot;: &quot;deflate&quot;, &#125;, ) ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥å¼€å‘è€…å·¥å…· (DevTools) æ¥éªŒè¯ä¸€åˆ‡æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ: å› ä¸º Cadd yæ”¯æŒ HTTP&#x2F;2ï¼Œæ‰€ä»¥å¤šè·¯å¤ç”¨æ˜¯é»˜è®¤å¯ç”¨çš„ã€‚æˆ‘ä»¬å¯ä»¥å†æ¬¡ä½¿ç”¨å¼€å‘è€…å·¥å…·æ¥ç¡®è®¤æ‰€æœ‰ SSE è¯·æ±‚éƒ½ä½¿ç”¨åŒä¸€ä¸ªè¿æ¥: è‡ªåŠ¨é‡è¿: åœ¨å‘ç”Ÿæ„å¤–è¿æ¥é”™è¯¯æ—¶è‡ªåŠ¨é‡æ–°è¿æ¥å¾ˆç®€å•ï¼Œåªéœ€åœ¨åç«¯ä»£ç ä¸­è¯»å– [Last-Event-ID](https://html.spec.whatwg.org/multipage/server-sent-events.html#last-event-id) å¤´ä¿¡æ¯: 1234&lt; for i in itertools.count():---&gt; start = int(req.headers.get(&quot;last-event-id&quot;, 0))&gt; for i in itertools.count(start): å‰ç«¯ä»£ç ä¸éœ€è¦ä»»ä½•æ”¹åŠ¨ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯åŠ¨åˆ° SSE ç«¯ç‚¹çš„è¿æ¥ï¼Œç„¶åå…³é—­ uvicorn æ¥æµ‹è¯•å®ƒæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚è¿æ¥ä¼šæ–­å¼€ï¼Œä½†æµè§ˆå™¨ä¼šè‡ªåŠ¨å°è¯•é‡æ–°è¿æ¥ã€‚å› æ­¤ï¼Œå¦‚æœé‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°æµä»ä¸­æ–­çš„åœ°æ–¹æ¢å¤! è¯·æ³¨æ„æµæ˜¯å¦‚ä½•ä»æ¶ˆæ¯ 243 æ¢å¤çš„ã€‚æ„Ÿè§‰å°±åƒé­”æ³•ğŸ”¥ 7. æ€»ç»“WebSockets æ˜¯å»ºç«‹åœ¨ HTTP å’Œ TCP ä¹‹ä¸Šçš„å¤§å‹æœºåˆ¶ï¼Œæä¾›äº†ä¸€å¥—æå…¶ç‰¹å®šçš„åŠŸèƒ½ï¼Œå³åŒå‘ä½å»¶è¿Ÿé€šä¿¡ã€‚ ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œå®ƒä»¬å¼•å…¥äº†è®¸å¤šå¤æ‚æ€§ï¼Œæœ€ç»ˆä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°æ¯”å®Œå…¨åŸºäº HTTP çš„è§£å†³æ–¹æ¡ˆæ›´åŠ å¤æ‚ã€‚ è¿™äº›å¤æ‚æ€§å’Œé™åˆ¶å·²ç»åœ¨æ–°çš„è§„èŒƒï¼ˆRFC 7692ï¼ŒRFC 8441ï¼‰ä¸­å¾—åˆ°äº†è§£å†³ï¼Œå¹¶å°†é€æ¸åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åº“ä¸­å®ç°ã€‚ ç„¶è€Œï¼Œå³ä½¿åœ¨æ²¡æœ‰æŠ€æœ¯ç¼ºé™·çš„æƒ…å†µä¸‹ï¼ŒWebSockets ä»ç„¶æ˜¯ä¸€é¡¹ç›¸å½“å¤æ‚çš„æŠ€æœ¯ï¼Œæ¶‰åŠå¤§é‡é¢å¤–çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä»£ç ã€‚å› æ­¤ï¼Œæ‚¨åº”ä»”ç»†è€ƒè™‘æ˜¯å¦å€¼å¾—å¢åŠ å¤æ‚æ€§ï¼Œæˆ–è€…æ˜¯å¦å¯ä»¥é€šè¿‡æ›´ç®€å•çš„è§£å†³æ–¹æ¡ˆï¼ˆå¦‚ Server-Sent Eventsï¼‰å»è§£å†³é—®é¢˜ã€‚ å°±è¿™äº›å†…å®¹äº†ï¼Œæœ‹å‹ä»¬ï¼å¸Œæœ›ä½ ä»¬è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰è¶£ï¼Œä¹Ÿèƒ½ä»ä¸­å­¦åˆ°ä¸€äº›æ–°ä¸œè¥¿ã€‚ å¦‚æœä½ æƒ³å°è¯•ä¸€ä¸‹ Server-Sent Events å’Œ WebSocketsï¼Œå¯ä»¥è‡ªç”±åœ°åœ¨ GitHub ä¸ŠæŸ¥çœ‹æ¼”ç¤º Demo ä»£ç ã€‚ æˆ‘ä¹Ÿé¼“åŠ±ä½ ä»¬é˜…è¯»ä¸‹ SSE çš„è§„èŒƒï¼Œå› ä¸ºå®ƒè§£é‡Šå¾—éå¸¸æ¸…æ™°ï¼ŒåŒ…å«äº†å¾ˆå¤šç¤ºä¾‹ã€‚","categories":[{"name":"SSE","slug":"SSE","permalink":"https://yeshan333.github.io/categories/SSE/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"Websocket","slug":"Websocket","permalink":"https://yeshan333.github.io/tags/Websocket/"},{"name":"SSE","slug":"SSE","permalink":"https://yeshan333.github.io/tags/SSE/"}]},{"title":"2022 | Summary","slug":"2022-annual-reviewed","date":"2023-02-26T15:59:12.000Z","updated":"2023-02-26T15:59:12.000Z","comments":true,"path":"2023/02/26/2022-annual-reviewed/","permalink":"https://yeshan333.github.io/2023/02/26/2022-annual-reviewed/","excerpt":"","text":"è¿Ÿæ¥çš„æ€»ç»“ï¼Œ2022 äº”å‘³æ‚é™ˆï¼Œæœ€åçš„å‡ ä¸ªæœˆï¼ŒåŸºæœ¬éƒ½åœ¨å°è¯•ç€è§£å†³æŸäº›æƒ…ç»ªï¼Œè¿™ä¸€å¹´æœ‰å¾ˆå¤šä¸œè¥¿åº”è¯¥è¢«è®°å½•ã€‚åšæŒæ˜¯æœ€åäººæ€§çš„ä¸€ç§ä¸œè¥¿ï¼Œä½†é•¿è¿œæ¥çœ‹ï¼Œè¿™åº”è¯¥ä¹Ÿæ˜¯æœ€æµªæ¼«çš„ä¸œè¥¿ã€‚è¿™ä¸€å¹´ï¼Œæˆ‘çœŸæ­£æ„Ÿå—åˆ°äº†ä»€ä¹ˆå«ä¿¡å¿µçš„å´©å¡Œï¼ŒåŸæ¥æ²¡æœ‰äº†å…‰æ˜¯è¿™ç§æ„Ÿè§‰ã€‚æˆ–è®¸çœŸæ­£æ˜ç™½äº†ä¸€ä¸ªé“ç†ï¼šæ²¡æœ‰ç»å†è¿‡ï¼Œåªæ˜¯çœ‹è¿‡åˆ«äººçš„ç»å†ï¼Œæ²¡æœ‰å¤šå¤§ç”¨çš„ï¼Œè·¯èµ°è¿‡äº†æ‰å‹‰å¼ºæ‡‚äº†ã€‚ åšå®¢ &amp; æŠ€æœ¯-Blog &amp; Techsçœ‹äº†çœ¼å½’æ¡£ archivesï¼Œè²Œä¼¼ä»Šå¹´çš„æ–‡ç« æ°´å¾—æœ‰ç‚¹å·®å¼ºäººæ„ğŸ˜‚ï¼Œä¸è¿‡åŸåˆ›æ–‡å¾—è´¨é‡è¿˜é˜”ä»¥ï¼Œå°±æ˜¯å°‘äº†ç‚¹ã€‚æ—¶é—´æœ¬å¾ˆå¤šäº‹å“—å•¦å‘¼å•¦å†²èµ°äº†ï¼ŒåŒæ—¶è²Œä¼¼æ²¡å•¥æ€è·¯æ°´ç‚¹ä¸œè¥¿ã€‚ Techs &amp; Coding2022 å¹´çš„ GitHub å°ç»¿ç‚¹ï¼Œè¿˜é˜”ä»¥ï¼ŒæŒºå…»çœ¼ã€‚ä¸è¿‡æœ‰äº›æ˜¯ RSS å®šæ—¶å™¨æ‰“çš„ï¼Œ2333ï¼Œè´¨é‡ä¸å¾—ã€‚ 22 å¹´ public äº†ä¸¤ä¸ª Elixir å’Œ Java çš„é¡¹ç›®ï¼Œè™½ç„¶æœ‰ç‚¹æ°´ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜ä¸é”™ï¼Œæ¯”ä¸Šä¸€å¹´ç¨å¾®å¥½ç‚¹äº† (ä»Šå¹´å¤šäº†å‡ ä¸ª PRï¼Œ2333~)ã€‚ yeshan333/ApacheJmeter_Schema_Assertionhttps://github.com/yeshan333/ApacheJmeter_Schema_Assertion yeshan333/ex_integration_coverallshttps://github.com/yeshan333/ex_integration_coveralls æ›¾æ”¶åˆ°è¿‡ä¸€å° invitationï¼Œå¥ˆä½•æ„Ÿè§‰å£è¯­ä¸è¡Œï¼Œæ²¡æ•¢å›ï¼š ç”Ÿæ´»-LifeGames22 å¹´ç¨å¾®å›å½’äº†ä¸‹æŸç‹è€…ï¼Œè€èººå¹³æ”¾æ¾å¨±ä¹æ¸¸æˆäº†ã€‚å€¼å¾—çºªå¿µçš„æ˜¯å…¥æ‰‹äº† switchï¼Œå¼€æ‹“äº†ç©è€èŒƒå›´ã€‚ç«ç„°çº¹ç« ç»ˆäºä¸ç”¨æ¨¡æ‹Ÿå™¨â€œç™½å«–â€äº†ï¼Œå›é¡¾äº†ä¸‹ç»å…¸çš„è¶…çº§æœºå™¨äººå¤§æˆ˜ã€‚ switchreal switch Sportsè´¹ä½“åŠ›çš„äº‹ 22 å¹´ä¹Ÿä¸èƒ½å°‘ã€‚åˆå¾’äº†å‡ æ¬¡æ­¥ 15 km+ï¼Œçˆ¬äº†å¥½å‡ ä¸ªå±±å¤´ ğŸ˜€ã€‚22 å¹´è¿˜å®Œæˆäº†ä¹‹å‰æ„£æ˜¯æ²¡å»å­¦çš„è‡ªè¡Œè½¦ï¼Œå­¦ä¼šäº†ä¹‹åæ„£æ˜¯ä»å¤§å­¦åŸç©¿è¶Šå¤§è¡—å°å··ç¡¬éª‘å›äº†ä½å¤„é™„è¿‘ã€‚å¿½ç„¶è§‰å¾—æœ‰ç‚¹çŒ›ï¼Œhahaï¼š bicycleroad Readingè²Œä¼¼ 22 å¹´çœ‹çš„ä¹¦ç¨å¾®èŠ±äº†ç‚¹ï¼Œå¿ƒé‡Œçš„æ³¢åŠ¨ä¸æ˜¯ç‰¹åˆ«å¤§äº†ï¼Œå¾ˆå¤šä¸œè¥¿å¾—ç»å†ä¸‹å†å›å¤´çœ‹çœ‹æ‰è¡Œã€‚ æŠ€æœ¯ç±»çš„ä¸‹é¢çœ‹çš„å‡ ä¸ªéƒ½ä¸é”™: ã€ŠGoogle è½¯ä»¶å·¥ç¨‹ã€‹ï¼š22 å¹´å‡ºäº†ä¸­æ–‡æœ¬ï¼Œå¥½å•ƒå¤šäº†ã€‚ ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹ï¼šçœ‹ç€å¾ˆé¦™ï¼Œæ²¡æ‹¿ä¸‹ï¼Œ 23 å¹´è¿˜å¾—å¤šçœ‹çœ‹ã€‚ ã€ŠGoogle çš„è½¯ä»¶æµ‹è¯•ä¹‹é“ã€‹ï¼šä¸€äº›ç†å¿µå®è·µå¾ˆ niceï¼ŒGoogle N å¹´å‰å°±åšäº†çš„äº‹ï¼Œå›½å†…è¿˜ä¸å¤ªè¡Œï¼Œéœ‡æƒŠã€‚ ã€Šç”¨ Go è¯­è¨€è‡ªåˆ¶ç¼–è¯‘å™¨ã€‹ï¼šContinue â€¦â€¦.ä¸€å † Erlang &amp; Elixir ç›¸å…³çš„ 2y220425é‚£äº›å¤©rose è¿™é‡Œæœ¬åº”è¯¥ä¼šå†™æ›´å¤šçš„ä¸œè¥¿ï¼Œæ¯ä¸€æ®µç»å†éƒ½åº”è¯¥è¢«è®°å½•ï¼Œæˆ–è®¸æ‰èƒ½æ›´å¦ç„¶çš„å»é¢å¯¹å®ƒã€‚ æœªæ¥-Futureè¯è™½å°‘ï¼Œäº‹å…¶å®æŒºå¤šã€‚Time is waiting for me.","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"ï¼ˆè¯‘ï¼‰Elixir Tip: Case vs. With","slug":"Elixir-Tip-Case-vs-With","date":"2022-11-26T23:10:46.000Z","updated":"2022-11-26T23:10:46.000Z","comments":true,"path":"2022/11/26/Elixir-Tip-Case-vs-With/","permalink":"https://yeshan333.github.io/2022/11/26/Elixir-Tip-Case-vs-With/","excerpt":"","text":"ä» 1.2 ç‰ˆæœ¬å¼€å§‹, with è¿ç®—ç¬¦æ˜¯éœ€è¦ç‚¹æ—¶é—´å»ç†è§£çš„ ELixir ç‰¹æ€§ä¹‹ä¸€. å®ƒç»å¸¸åœ¨ä½¿ç”¨ case çš„æƒ…å½¢ä¸‹ä½¿ç”¨, åä¹‹äº¦ç„¶. ä¸¤è€…çš„ä¸åŒåœ¨äºå¦‚æœæ²¡æœ‰å¯ä»¥åŒ¹é…åˆ°çš„å­å¥, with å°†å¤±è´¥, è€Œ case å°†æŠ›å‡ºä¸€ä¸ªä¸åŒ¹é… (no-match) çš„é”™è¯¯ (CaseClauseError). æ˜¯ä¸æ˜¯æœ‰ä¸€ç‚¹ç‚¹ç–‘æƒ‘, è®©æˆ‘ä»¬ä»æœ€åŸºæœ¬çš„ä½¿ç”¨å¼€å§‹çœ‹çœ‹. ä½¿ç”¨ case è¿›è¡Œç²¾å‡†åŒ¹é…, ä½ éå¸¸ç¡®å®šè‡³å°‘æœ‰ä¸€ä¸ªæ˜¯å¯ä»¥è¢«åŒ¹é…åˆ°çš„: 123456case foo() do cond1 -&gt; expression1 cond2 -&gt; expression2 cond3 -&gt; expression3 _ -&gt; default_expressionend ä¸€ä¸ªå¸¸è§çš„ case ä½¿ç”¨æƒ…æ™¯æ˜¯å¯¹æ½œåœ¨çš„é”™è¯¯è¿›è¡Œæ¨¡å¼åŒ¹é…: 1234case foo() do &#123;:ok, res&#125; -&gt; do_something_with_result(res) &#123;:error, err&#125; -&gt; handle_error(err)end ç›®å‰ä¸ºæ­¢, ä¸€åˆ‡éƒ½çœ‹èµ·æ¥å¾ˆå¥½. è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¸¸è§çš„æ—¥å¸¸å·¥ä½œåœºæ™¯æ¡ˆä¾‹. è¯•æƒ³ä¸€ä¸‹, æˆ‘ä»¬æœ‰ä¸€ä¸ªè¿™æ ·çš„æ“ä½œ (å®ƒå¯ä»¥æ˜¯å¤–éƒ¨çš„ API è°ƒç”¨ã€IO æˆ–è€…æ•°æ®åº“æ“ä½œ), æˆ‘ä»¬æƒ³æ‰§è¡Œç¬¬äºŒä¸ªè¿™æ ·çš„æ“ä½œ, ä½†åªæœ‰å½“ç¬¬ä¸€ä¸ªæ“ä½œæˆåŠŸçš„æ—¶å€™æ‰æ‰§è¡Œ. è¿™ä¸ªè¡Œä¸ºæˆ‘ä»¬æ€ä¹ˆå®ç°? å›æƒ³ä¸€ä¸‹, Elixir ä¸­çš„æ¡ä»¶è¯­å¥ä¹Ÿæ˜¯å‡½æ•°. å®ƒä»¬å¯ä»¥è¢«æ’å…¥æˆ–é“¾æ¥åˆ°å…¶ä»–æ¡ä»¶çš„è¡¨è¾¾å¼éƒ¨åˆ†. è¿™å…è®¸æˆ‘ä»¬ä½¿ç”¨é“¾å¼çš„æ¡ä»¶è¯­å¥æ¥è§£å†³ä¸Šé¢çš„é—®é¢˜: 12345678case foo() do &#123;:ok, res&#125; -&gt; case bar(res) do &#123;:ok, res2&#125; -&gt; do_something_with_result(res2) &#123;:error, err&#125; -&gt; handle_error(err) end &#123;:error, err&#125; -&gt; handle_error(err)end å°½ç®¡åªæœ‰ä¸¤ä¸ªç±»ä¼¼çš„è°ƒç”¨æ“ä½œ, ä½†ä»£ç çš„å¤æ‚åº¦æ˜¯æ€¥å‰§ä¸Šå‡çš„. å¦‚æœå†æ·»åŠ ä¸€ä¸ªç±»ä¼¼çš„è°ƒç”¨æ“ä½œ, ä»£ç å°†ä¼šå˜å¾—ä¸å¯è¯»: 123456789101112case foo() do &#123;:ok, res&#125; -&gt; case bar(res) do &#123;:ok, res2&#125; -&gt; case baz(res2) do &#123;:ok, res3&#125; -&gt; do_something_with_result(res3) &#123;:error, err&#125; -&gt; handle_error(err) end &#123;:error, err&#125; -&gt; handle_error(err) end &#123;:error, err&#125; -&gt; handle_error(err)end ä½¿ç”¨ with å»æ‹¯æ•‘ä¸€ä¸‹è¿™å°±æ˜¯ with è¿ç®—ç¬¦éå¸¸æ–¹ä¾¿çš„åœ°æ–¹. å®ƒçš„åŸºæœ¬å½¢å¼ç±»ä¼¼äºä¸Šé¢ case çš„é“¾å¼ä¾‹å­, ä½†åœ¨æŸç§ç¨‹åº¦ä¸Š, å®ƒçš„åŠŸèƒ½ä¹Ÿç±»ä¼¼äºç®¡é“æ“ä½œç¬¦. çœ‹çœ‹è¿™ä¸ª: 12345with &#123;:ok, res&#125; &lt;- foo(), &#123;:ok, re2&#125; &lt;- bar(res) &#123;:ok, re3&#125; &lt;- baz(re2) do do_something_with_result(res3)end è¿™å¯ä»¥è§£é‡Šä¸º, â€œæŒ‰é¡ºåºæ‰§è¡Œæ‰€æœ‰ä»¥é€—å·åˆ†éš”çš„æ“ä½œ, å¦‚æœå‰ä¸€ä¸ªæ“ä½œæ˜¯åŒ¹é…çš„, åˆ™æ‰§è¡Œä¸‹ä¸€ä¸ªæ“ä½œ. æœ€å, è¿è¡Œ do/end å—ä¸­çš„ä»£ç â€. è¿™çœ‹èµ·æ¥æ¯”ä¹‹å‰çš„ç‰ˆæœ¬æ›´ç®€æ´å’Œå¯è¯», è€Œä¸”å®ƒè¿˜æœ‰å¦ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿. å®ƒå…è®¸å·¥ç¨‹å¸ˆä¼˜å…ˆå…³æ³¨æ­£å¸¸çš„ä¸šåŠ¡åœºæ™¯. æœ‰äº›äººå¯èƒ½æƒ³çŸ¥é“, å¦‚æœä»»ä½•ä»¥é€—å·åˆ†éš”çš„æ“ä½œè¿”å›çš„æ˜¯ &#123;:error, err&#125; å…ƒç»„, ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µ. ç­”æ¡ˆæ˜¯, å°†è¿”å›ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„æ“ä½œè¡¨è¾¾å¼. ç®€å•åœ°è¯´, å¦‚æœæˆ‘ä»¬ä¸å…³å¿ƒé ok çš„ç»“æœ, é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥ç•™ä¸‹æ­£å¸¸çš„è·¯å¾„, æŠŠå®ƒç•™ç»™è°ƒç”¨è€…æ¥å¤„ç†æœ€ç»ˆç»“æœ. å¦‚æœä½ ä½¿ç”¨è¿‡ Phoenixï¼Œä½ å¯èƒ½ä¼šæƒ³èµ·ï¼Œè¿™æ­£æ˜¯å®ƒçš„ fallback actions çš„å·¥ä½œæ–¹å¼. 12345678910111213defmodule MyController do use Phoenix.Controller action_fallback MyFallbackController def show(conn, %&#123;&quot;id&quot; =&gt; id&#125;, current_user) do with &#123;:ok, post&#125; &lt;- Blog.fetch_post(id), :ok &lt;- Authorizer.authorize(current_user, :view, post) do render(conn, &quot;show.json&quot;, post: post) end endend è¿™ä¸ª Fallback Controller çš„ä¾‹å­æ¥æºäº official Phoenix docs with&#x2F;elseå¦‚æœæˆ‘ä»¬æƒ³è¦è‡ªå·±å…³æ³¨è¿™äº›å‰¯ä½œç”¨ (side effects), with æä¾›äº†ä¸€ä¸ªæ‰©å±•ç‰ˆæœ¬ç»™æˆ‘ä»¬ä½¿ç”¨: 12345678with &#123;:ok, res&#125; &lt;- foo(), &#123;:ok, res2&#125; &lt;- bar(res) do do_something_with_res(res2)else &#123;:error, &#123;:some_error, err&#125;&#125; -&gt; handle_some_error(err) &#123;:error, &#123;:some_other_error, err&#125;&#125; -&gt; handle_some__other_error(err) default -&gt; handle_something_completely_unexpected(default)end NOTE: è¯·è®°ä½ï¼Œè™½ç„¶åŸºç¡€çš„ with å½¢å¼åœ¨åŒ¹é…å¤±è´¥æ—¶ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä½†åœ¨ä½¿ç”¨ else æ—¶ï¼Œä½ å¿…é¡»è¯¦å°½åœ°åŒ¹é…æ‰€æœ‰çš„æƒ…å†µ. ä»€ä¹ˆä½¿ç”¨ä¸åº”è¯¥ä½¿ç”¨ withç”¨ else å¤„ç†å•ä¸ªæ¨¡å¼åŒ¹é…çš„åœºæ™¯è¿™å°†ä½¿ä»£ç æ¯”ä½ éœ€è¦çš„æ›´éš¾ä»¥é˜…è¯». ä»£ç å¦‚ä¸‹: 12345with &#123;:ok, res&#125; &lt;- foo() do do_something_with_res(res)else &#123;:error, &#123;:some_error, err&#125;&#125; -&gt; handle_some_error(err)end å¯ä»¥ä½¿ç”¨æ›´å…·æœ‰å¯è¯»æ€§çš„ case å—å¤„ç†: 1234case foo() do &#123;:ok, res&#125; -&gt; do_something_with_res(res) &#123;:error, &#123;:some_error, err&#125;&#125; -&gt; handle_some_error(err)end ç›¸å…³æ–‡ç«  Elixir: Thoughts on the with Statement","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/tags/Elixir/"}]},{"title":"the-solution-of-elixir-continuous-runtime-system-code-coverage-collection","slug":"the-solution-of-elixir-continuous-runtime-system-code-coverage-collection","date":"2022-08-31T22:43:10.000Z","updated":"2022-08-31T22:43:10.000Z","comments":true,"path":"2022/08/31/the-solution-of-elixir-continuous-runtime-system-code-coverage-collection/","permalink":"https://yeshan333.github.io/2022/08/31/the-solution-of-elixir-continuous-runtime-system-code-coverage-collection/","excerpt":"","text":"zh_hans Code coverage is an effective means to assist software engineers in verifying code quality. The runtime environmentâ€™s ability to collect code coverage fully combines black and white box testing capabilities and greatly increases engineersâ€™ confidence in software quality. This article introduces a solution for code coverage collection in the Elixir runtime environment, and provides an in-depth insight into its internal principles. 1. Brief talk on code coverageAs a SDET or a SWE, we often need to write unit tests or integration test cases to verify the correctness of the system&#x2F;application, but at the same time we often question whether our tests are adequate. At this time, test coverage is a means of measuring the adequacy of our testing, enhancing the success rate and confidence of the software release, and giving us more reflective perspectives. The note of the value is that high code coverage does not indicate high code quality, but conversely, code coverage is low, and code quality will not be high. Most programming languages come with the ability to collect unit test coverage, and the same is true for Elixir, the official mix build tool comes with the ability to collect coverage, but it is currently only suitable for offline system, not for runtime system. This article will be based on Erlangâ€™s cover module to give a solution for the Elixir runtime system. Since cover is Erlangâ€™s built-in module, but why it works equally well with Elixir, weâ€™ll unveil its mystery in a follow-up. Before we get started, letâ€™s take a look at the two mainstream ways in which the open source community collects code coverage at runtime (here we look at the bytecode stubbing method of Java, which has a huge ecosystem of the language community): Next letâ€™s focus on the core of elixir runtime coverage collection in this article - the cover module. 2. Delve into the Erlang Cover coverage collection implementation mechanism2.1. Introduction Erlang Covercover is part of Erlangâ€™s built-in tools set, providing a powerful ability to collect code coverage. 2.2. Erlang code coverage collection implementation analysisAs you can see from Erlangâ€™s official manual of the cover module, cover counts the number of times every executable line in the Erlang program is executed. From the introduction of the official documentation, cover can be used for code coverage collection of the runtime system. When the code is instrumented, it does not modify the code source files of any modules or the beam files generated after compilation (that is the industry calls the On-The-Fly mode). Every time the executable row is called, the runtime system updates the number of calls to cover in an in-memory database (erlang ets) for storing data for subsequent coverage analysis. Next, weâ€™ll explore the details of the On-The-Fly mode under cover. 2.3. Learn about BEAM File FormatBefore we can further understand the details of the cover implementation, it is necessary to understand the format of the BEAM file after the elixir source code is compiled. The compiled product of the Elixir (.ex file), like the Erlang (.erl file), is a binary chunked file, which is divided into several sections to store information used when the program runs (such as virtual machine operation instructions). In Erlang&#x2F;Elixir, each module will have a corresponding BEAM file. The approximate structure of the BEAM file is as follows: Letâ€™s take a look at the approximate content of the beam file through an Elixir mini demo project: Step 1. Clone the project yeshan333&#x2F;explore_ast_app to the local: 12git clone https://github.com/yeshan333/explore_ast_app.gitcd explore_ast_app Step 2. Build this project in OTP release format. (note: Elixir and Erlang need to be installed locally): 1MIX_ENV=prod mix distillery.release It can be noted that each Elixir module is compiled into a BEAM file (can be seen in the directory _build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin). Step 3. Next, letâ€™s view the chunks in the Beam file through Erlangâ€™s standard library beam_lib: 12# open the iex consoleiex -S mix View all chunks of the compiled BEAM file (Elixir.ExploreAstApp.beam): 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253$ iex -S mixErlang/OTP 24 [erts-12.1] [source] [64-bit] [smp:12:12] [ds:12:12:10] [async-threads:1] [jit] [dtrace]Interactive Elixir (1.12.3) - press Ctrl+C to exit (type h() ENTER for help)iex(1)&gt; beam_file_path = &quot;_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin/Elixir.ExploreAstApp.beam&quot;&quot;_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin/Elixir.ExploreAstApp.beam&quot;iex(2)&gt; all_chunks = :beam_lib.all_chunks(String.to_charlist(beam_file_path))&#123;:ok, ExploreAstApp, [ &#123;&#x27;AtU8&#x27;, &lt;&lt;0, 0, 0, 15, 20, 69, 108, 105, 120, 105, 114, 46, 69, 120, 112, 108, 111, 114, 101, 65, 115, 116, 65, 112, 112, 8, 95, 95, 105, 110, 102, 111, 95, 95, 10, 97, 116, 116, 114, 105, 98, 117, 116, 101, ...&gt;&gt;&#125;, &#123;&#x27;Code&#x27;, &lt;&lt;0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 0, 169, 0, 0, 0, 14, 0, 0, 0, 4, 1, 16, 153, 0, 2, 18, 34, 16, 1, 32, 59, 3, 21, 23, 8, 16, 50, 117, 66, 117, 82, 101, 98, ...&gt;&gt;&#125;, &#123;&#x27;StrT&#x27;, &quot;&quot;&#125;, &#123;&#x27;ImpT&#x27;, &lt;&lt;0, 0, 0, 2, 0, 0, 0, 11, 0, 0, 0, 12, 0, 0, 0, 2, 0, 0, 0, 11, 0, 0, 0, 12, 0, 0, 0, 1&gt;&gt;&#125;, &#123;&#x27;ExpT&#x27;, &lt;&lt;0, 0, 0, 4, 0, 0, 0, 15, 0, 0, 0, 1, 0, 0, 0, 13, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 0, 13, 0, 0, 0, 0, 0, 0, 0, 9, ...&gt;&gt;&#125;, &#123;&#x27;LitT&#x27;, &lt;&lt;0, 0, 0, 52, 120, 156, 99, 96, 96, 96, 98, 96, 96, 16, 106, 206, 1, 146, 140, 25, 76, 229, 172, 25, 169, 57, 57, 249, 137, 12, 89, 64, 190, 88, 115, 46, 144, 20, 248, ...&gt;&gt;&#125;, &#123;&#x27;LocT&#x27;, &lt;&lt;0, 0, 0, 0&gt;&gt;&#125;, &#123;&#x27;Attr&#x27;, &lt;&lt;131, 108, 0, 0, 0, 1, 104, 2, 100, 0, 3, 118, 115, 110, 108, 0, 0, 0, 1, 110, 16, 0, 165, 236, 94, 47, 119, 160, 184, 33, 240, 28, 89, 11, 22, 130, 207, ...&gt;&gt;&#125;, &#123;&#x27;CInf&#x27;, &lt;&lt;131, 108, 0, 0, 0, 3, 104, 2, 100, 0, 7, 118, 101, 114, 115, 105, 111, 110, 107, 0, 5, 56, 46, 48, 46, 51, 104, 2, 100, 0, 7, 111, 112, 116, 105, 111, ...&gt;&gt;&#125;, &#123;&#x27;Dbgi&#x27;, &lt;&lt;131, 80, 0, 0, 1, 143, 120, 156, 117, 80, 203, 78, 3, 49, 12, 76, 233, 67, 162, 5, 113, 65, 124, 70, 87, 253, 2, 212, 67, 63, 129, 115, 148, 221, 120, ...&gt;&gt;&#125;, &#123;&#x27;Docs&#x27;, &lt;&lt;131, 80, 0, 0, 0, 241, 120, 156, 93, 142, 205, 10, 194, 48, 16, 132, 215, 74, 91, 9, 248, 14, 129, 94, 244, 82, 241, 234, 65, 40, 88, 241, 45, 108, ...&gt;&gt;&#125;, &#123;&#x27;ExCk&#x27;, &lt;&lt;131, 104, 2, 100, 0, 17, 101, 108, 105, 120, 105, 114, 95, 99, 104, 101, 99, 107, 101, 114, 95, 118, 49, 116, 0, 0, 0, 1, 100, 0, 7, 101, 120, ...&gt;&gt;&#125;, &#123;&#x27;Line&#x27;, &lt;&lt;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 1, 0, 0, 0, 1, 18, 241, 0, 22, 108, 105, 98, 47, 101, 120, 112, 108, ...&gt;&gt;&#125; ]&#125; As you can see, the obtained chunks correspond to the previous diagram. We can also obtain the Erlang AST (abstract syntax tree) corresponding to the module (ExploreAstApp) through the beam_lib standard library: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475iex(3)&gt; result = :beam_lib.chunks(String.to_charlist(beam_file_path), [:abstract_code])&#123;:ok, &#123;ExploreAstApp, [ abstract_code: &#123;:raw_abstract_v1, [ &#123;:attribute, 1, :file, &#123;&#x27;lib/explore_ast_app.ex&#x27;, 1&#125;&#125;, &#123;:attribute, 1, :module, ExploreAstApp&#125;, &#123;:attribute, 1, :compile, [:no_auto_import]&#125;, &#123;:attribute, 1, :export, [__info__: 1, hello: 0]&#125;, &#123;:attribute, 1, :spec, &#123;&#123;:__info__, 1&#125;, [ &#123;:type, 1, :fun, [ &#123;:type, 1, :product, [ &#123;:type, 1, :union, [ &#123;:atom, 1, :attributes&#125;, &#123;:atom, 1, :compile&#125;, &#123;:atom, 1, :functions&#125;, &#123;:atom, 1, :macros&#125;, &#123;:atom, 1, :md5&#125;, &#123;:atom, 1, :exports_md5&#125;, &#123;:atom, 1, :module&#125;, &#123;:atom, 1, :deprecated&#125; ]&#125; ]&#125;, &#123;:type, 1, :any, []&#125; ]&#125; ]&#125;&#125;, &#123;:function, 0, :__info__, 1, [ &#123;:clause, 0, [&#123;:atom, 0, :module&#125;], [], [&#123;:atom, 0, ExploreAstApp&#125;]&#125;, &#123;:clause, 0, [&#123;:atom, 0, :functions&#125;], [], [ &#123;:cons, 0, &#123;:tuple, 0, [&#123;:atom, 0, :hello&#125;, &#123;:integer, 0, 0&#125;]&#125;, &#123;nil, 0&#125;&#125; ]&#125;, &#123;:clause, 0, [&#123;:atom, 0, :macros&#125;], [], [nil: 0]&#125;, &#123;:clause, 0, [&#123;:atom, 0, :exports_md5&#125;], [], [ &#123;:bin, 0, [ &#123;:bin_element, 0, &#123;:string, 0, [240, 105, 247, 119, 22, 50, 219, 207, 90, 95, 127, 92, ...]&#125;, :default, :default&#125; ]&#125; ]&#125;, &#123;:clause, 0, [&#123;:match, 0, &#123;:var, 0, :Key&#125;, &#123;:atom, 0, :attributes&#125;&#125;], [], [ &#123;:call, 0, &#123;:remote, 0, &#123;:atom, 0, :erlang&#125;, &#123;:atom, 0, :get_module_info&#125;&#125;, [&#123;:atom, 0, ExploreAstApp&#125;, &#123;:var, 0, :Key&#125;]&#125; ]&#125;, &#123;:clause, 0, [&#123;:match, 0, &#123;:var, 0, :Key&#125;, &#123;:atom, 0, :compile&#125;&#125;], [], [ &#123;:call, 0, &#123;:remote, 0, &#123;:atom, 0, :erlang&#125;, &#123;:atom, 0, :get_module_info&#125;&#125;, [&#123;:atom, 0, ExploreAstApp&#125;, &#123;:var, 0, :Key&#125;]&#125; ]&#125;, &#123;:clause, 0, [&#123;:match, 0, &#123;:var, 0, :Key&#125;, &#123;:atom, 0, :md5&#125;&#125;], [], [ &#123;:call, 0, &#123;:remote, 0, &#123;:atom, 0, :erlang&#125;, &#123;:atom, 0, :get_module_info&#125;&#125;, [&#123;:atom, 0, ExploreAstApp&#125;, &#123;:var, 0, :Key&#125;]&#125; ]&#125;, &#123;:clause, 0, [&#123;:atom, 0, :deprecated&#125;], [], [nil: 0]&#125; ]&#125;, &#123;:function, 15, :hello, 0, [&#123;:clause, 15, [], [], [&#123;:atom, 0, :world&#125;]&#125;]&#125; ]&#125; ]&#125;&#125; It can be seen that AST is expressed in the form of Erlang Terms (called Abstract Code), which is easy to read. The Abstract Code is very useful in the on-the-fly instrumentation process of cover. The above AST structure is simple and easy to read, and we can easily match it with the source code (lib/explore_ast_app.ex) before the module is compiled, although the AST structure is the final Erlang AST, and some extras information are added by the Erlang compiler, but does not affect reading: The second element in the tuple generally represents the number of source code lines. You can learn more about Erlangâ€™s Abstract Format through the official documentation. By observing the Erlang AST structure of several BEAM files, you will be familiar with it. It is worth noting that the Abstract Code was stored in the Abstract Chunk of the BEAM file before OTP 20. If you want to learn more about BEAM files in detail, you can check out the following two documents: http://beam-wisdoms.clau.se/en/latest/indepth-beam-file.html#beam-term-format https://blog.stenmans.org/theBeamBook/#BEAM_files 2.4. Elixir source code compilation processAfter understanding BEAM File Format, we also need to understand the compilation process of Elixir code, which will help us better understand cover. The process of compiling Elixir source code into BEAM file may not be as you imagined In the same way, instead of directly from Elixirâ€™s AST, it becomes executable BEAM Code after being processed by the compiler backend. There is also a process in the middle, as shown in the following figure: The above process can be described as: Step 1ã€The Elixir source code will be parsed by a custom lexical analyzer (elixir_tokenizer) and yacc to generate the initial version of Elixir AST, which is expressed in the form of Elixir Terms; if you are interested in Elixirâ€™s AST, you can follow this Project arjan&#x2F;ast_ninja; Step 2ã€In the Elixir AST stage, some custom and built-in Macros have not been expanded, and these Macros are expanded into the final Elixir AST in the Expanded Elixir AST stage; Step 3ã€Final Elixir AST will be converted into Erlang standard AST form (Erlang Abstract Format) after being processed by Elixir Compiler; Step 4ã€Finally, Elixir will use the Erlang Compiler to process the Erlang AST, converting it into BEAM bytecode executable by the BEAM Virtual Machine (VM). For details on the compiler, see: elixir_compiler.erl and elixir_erl.erl source code For more details on the Erlang Compiler, see theBeamBook&#x2F;#CH-Compiler. 2.5. Cover On-The-Fly Instrumentation ImplementationNow itâ€™s time for dinner. Letâ€™s see how cover performs instrumentation and coverage collection. To use cover to complete code coverage collection, we must know three dragon-slaying swords: cover:start: Used to create the cover coverage collection process, it will complete the creation of the relevant ets table to store the coverage data, cover.erl#L159 &amp; cover.erl#L632, and we can also start the cover process of the remote Erlang node. cover:compile_beam: For instrumentation, cover will read the content of the abstract_code of the BEAM file, namely Erlang AST. The key code is in cover.erl#L1541, and then transform and munge the Erlang AST From, it will call bump_call, after each executable line will insert the following abstract_code: 123456789&#123;call,A,&#123;remote,A,&#123;atom,A,ets&#125;,&#123;atom,A,update_counter&#125;&#125;, [&#123;atom,A,?COVER_TABLE&#125;, &#123;tuple,A,[&#123;atom,A,?BUMP_REC_NAME&#125;, &#123;atom,A,Vars#vars.module&#125;, &#123;atom,A,Vars#vars.function&#125;, &#123;integer,A,Vars#vars.arity&#125;, &#123;integer,A,Vars#vars.clause&#125;, &#123;integer,A,Line&#125;]&#125;, &#123;integer,A,1&#125;]&#125;. From the previous understanding of Erlang AST, we know that this is equivalent to inserting the following line of code: 1ets:update_counter(?COVER_TABLE, #bump&#123;module=Module, function=Function, arity=Arity, clause=Clause, line=Line&#125;, 1). Then for the mungeed Erlang AST Form, cover uses the Erlang Compiler to obtain the Erlang Beam Code (also known as object code. i.e. bytecode, VM execution instructions) from the mungeed AST expression form. cover.erl#L1580. And then use the Erlang code server to replace the old object code with the new object code obtained, load_binary cover.erl#L1581 into ERTS (Erlang Run Time System). cover completes the Erlang AST instrumentation process, so that whenever the executable line is Executed, the corresponding ets storage table will update the number of times the code line was called. cover:analyze: Analyze the data stored in the ets table to obtain the number of times the executable line was executed (called), which can be used for statistical coverage data. munge: Used to make a series of potentially destructive or irreversible changes to data or files. 3. Elixir Application runtime coverage collection exampleThrough the above, after understanding the implementation details of the Erlang Cover module. Let us take a deployed and running Elixir Application (we will use the previous yesan333&#x2F;explore_ast_app) as an example to perform large-scale tests (system &amp; integration tests) of the Elixir application runtime of code line-level coverage collection. Here we will use a tool library: ex_integration_coveralls for coverage analysis, which is an Elixir Wrapper for the Erlang module cover to collection Elixir runtime system coverage. Letâ€™s start: Step 1ã€Add ex_integration_coveralls dependency to mix.exs file: 123456defp deps do [ ..., &#123;:ex_integration_coveralls, &quot;~&gt; 0.3.0&quot;&#125; ]end Pull the dependencies and rebuild the project: 12mix deps.getMIX_ENV=prod mix distillery.release Step 2ã€Start the project: 1_build/prod/rel/explore_ast_app/bin/explore_ast_app foreground Step 3ã€Connect to the remote_console of the Elixir runtime application node: 1_build/prod/rel/explore_ast_app/bin/explore_ast_app remote_console Step 4ã€Use ex_integration_coveralls (ExIntegrationCoveralls.execute) to start cover and perform code coverage collection: 12345678910111213141516iex(explore_ast_app@127.0.0.1)1&gt; compiled_beam_dir_path = &quot;/Users/yeshan/oss_github/explore_ast_app/_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin&quot;&quot;/Users/yeshan/oss_github/explore_ast_app/_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin&quot;iex(explore_ast_app@127.0.0.1)2&gt; ExIntegrationCoveralls.execute(compiled_beam_dir_path)[ ok: ExploreAstApp.Router, ok: ExploreAstApp.Plug.VerifyRequest.IncompleteRequestError, ok: ExploreAstApp.Plug.VerifyRequest, ok: ExploreAstApp.Application, ok: ExploreAstApp]iex(explore_ast_app@127.0.0.1)3&gt; compile_time_source_lib_abs_path = &quot;/Users/yeshan/oss_github/explore_ast_app&quot;&quot;/Users/yeshan/oss_github/explore_ast_app&quot;iex(explore_ast_app@127.0.0.1)4&gt; source_code_abs_path = &quot;/Users/yeshan/oss_github/explore_ast_app&quot;&quot;/Users/yeshan/oss_github/explore_ast_app&quot;iex(explore_ast_app@127.0.0.1)5&gt; ExIntegrationCoveralls.get_total_coverage(compile_time_source_lib_abs_path, source_code_abs_path)0 As you can see, the initial coverage is 0, because no code has been called yet. Step 5ã€Letâ€™s execute the following cURL. Let code be called: 12$ curl --location --request GET &#x27;http://localhost:8080/hello&#x27;hello % Check out the code coverage data again in iex console: 12iex(explore_ast_app@127.0.0.1)6&gt; ExIntegrationCoveralls.get_total_coverage(compile_time_source_lib_abs_path, source_code_abs_path)17.1 As you can see, the cURL (test case) coverage for this project is 17.1%. We can also use the following methods to view more detailed code coverage, such as viewing the code coverage of lib/explore_ast_app/router.ex (nil means the line is not an executable line): 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132iex(explore_ast_app@127.0.0.1)7&gt; result = ExIntegrationCoveralls.get_coverage_report(compile_time_source_lib_abs_path, source_code_abs_path).......iex(explore_ast_app@127.0.0.1)8&gt; Enum.at(Map.get(result, :files), 3)%ExIntegrationCoveralls.Stats.Source&#123; coverage: 18.2, filename: &quot;lib/explore_ast_app/router.ex&quot;, hits: 4, misses: 18, sloc: 22, source: [ %ExIntegrationCoveralls.Stats.Line&#123; coverage: 1, source: &quot;defmodule ExploreAstApp.Router do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: 1, source: &quot; use Plug.Router&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; use Plug.ErrorHandler&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; import Plug.Conn&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; alias ExploreAstApp.Plug.VerifyRequest&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; plug Plug.Parsers, parsers: [:urlencoded, :multipart]&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; plug VerifyRequest, fields: [\\&quot;content\\&quot;, \\&quot;mimetype\\&quot;], paths: [\\&quot;/upload\\&quot;]&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; plug :match&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; plug Plug.Parsers, parsers: [:json], pass: [\\&quot;application/json\\&quot;], json_decoder: Jason&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; plug :dispatch&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; get \\&quot;/welcome\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; send_resp(conn, 200, \\&quot;Welcome\\&quot;)&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; get \\&quot;/upload\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; send_resp(conn, 201, \\&quot;Uploaded\\&quot;)&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 1, source: &quot; get \\&quot;/hello\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # query parameter is user like this:&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # http://localhost:4001/hello?name=John&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # which will create %&#123;\\&quot;name\\&quot; =&gt; \\&quot;John\\&quot;&#125;&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 1, source: &quot; send_resp(conn, 200, \\&quot;hello \\#&#123;Map.get(conn.query_params, \\&quot;name\\&quot;)&#125;\\&quot;)&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; get \\&quot;/hello/:name\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; send_resp(conn, 200, \\&quot;hello \\#&#123;name&#125;\\&quot;)&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; post \\&quot;/hello\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # json body of POST request &#123;\\&quot;name\\&quot;: \\&quot;John\\&quot;&#125; is parsed to %&#123;\\&quot;name\\&quot; =&gt; \\&quot;John\\&quot;&#125;&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # so it can be accesable with e.g. Map.get(conn.body_params, \\&quot;name\\&quot;) or with pattern matching&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: 0, source: &quot; name =&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; case conn.body_params do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; %&#123;\\&quot;name\\&quot; =&gt; a_name &#125; -&gt; a_name&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; _ -&gt; \\&quot;\\&quot;&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, ...&#125;, %ExIntegrationCoveralls.Stats.Line&#123;...&#125;, ... ]&#125; Based on the post_cov_stats_to_ud_ci interface, it is possible to further interface with internal or external Codecov-like coverage systems. Based on this, we can realize the collection of code coverage with large-scale (integration &amp; system) testing capabilities without stopping the Elixir Application. 4. Continuous runtime coverage collection solution for large-scale Elixir&#x2F;Erlang Microservice clustersWith the continuous expansion of the Elixir&#x2F;Erlang microservice system, the coverage collection method shown in the previous section needs further evolution. Referring to the design of Prometheus Pull-Base, the overall design (combination of Pull &amp; Push mode) is as follows: We expand based on ex_integration_coveralls. After the Elixir Application is started, a http worker is started up to expose the code coverage data in real time, which is convenient for communication with heterogeneous systems. The Coverage Push Gateway is responsible for regularly pulling the coverage data (Gateway can be a OTP Application, which allows ex_integration_coveralls to directly start up the custom GenServer Worker for interactive integration test system in the distributed OTP system), after the integration&#x2F;system test system informs the end of the test, the Gateway pushes the coverage data to the Cover Center for code coverage rate display. End (long way to go). References Code Coverage at Google Erlang cover A brief introduction to BEAM A peak into the Erlang compiler and BEAM bytecode Getting each stage of Elixirâ€™s compilation all the way to the BEAM bytecode excoveralls BeamFile - A peek into the BEAM file https://github.com/KronicDeth/intellij-elixir#beam-files","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/tags/Elixir/"},{"name":"Test Coverage","slug":"Test-Coverage","permalink":"https://yeshan333.github.io/tags/Test-Coverage/"}]},{"title":"Elixir è¿ç»­è¿è¡Œæ—¶ä»£ç è¦†ç›–ç‡é‡‡é›†æ–¹æ¡ˆ","slug":"elixir-run-time-code-line-level-coverage-collection","date":"2022-06-29T23:14:26.000Z","updated":"2022-06-29T23:14:26.000Z","comments":true,"path":"2022/06/29/elixir-run-time-code-line-level-coverage-collection/","permalink":"https://yeshan333.github.io/2022/06/29/elixir-run-time-code-line-level-coverage-collection/","excerpt":"","text":"1. æµ…è°ˆä»£ç è¦†ç›–ç‡ä½œä¸º SET å’Œ SWE, æˆ‘ä»¬ç»å¸¸éœ€è¦ç¼–å†™å•å…ƒæµ‹è¯•æˆ–é›†æˆæµ‹è¯•ç”¨ä¾‹æ¥éªŒè¯ç³»ç»Ÿ&#x2F;åº”ç”¨çš„æ­£ç¡®æ€§, ä½†åŒæ—¶æˆ‘ä»¬ä¹Ÿå¸¸ä¼šè´¨ç–‘æˆ‘ä»¬çš„æµ‹è¯•æ˜¯å¦å……åˆ†äº†. è¿™æ—¶æµ‹è¯•è¦†ç›–ç‡æ˜¯å¯ä»¥è¾…åŠ©ç”¨æ¥è¡¡é‡æˆ‘ä»¬æµ‹è¯•å……åˆ†ç¨‹åº¦çš„ä¸€ç§æ‰‹æ®µ, å¢å¼ºå‘å¸ƒæˆåŠŸç‡ä¸ä¿¡å¿ƒ, åŒæ—¶ç»™äº†æˆ‘ä»¬æ›´å¤šå¯æ€è€ƒçš„è§†è§’. å€¼çš„æ³¨æ„çš„æ˜¯ä»£ç è¦†ç›–ç‡é«˜ä¸èƒ½è¯´æ˜ä»£ç è´¨é‡é«˜, ä½†æ˜¯åè¿‡æ¥çœ‹, ä»£ç è¦†ç›–ç‡ä½, ä»£ç è´¨é‡ä¸ä¼šé«˜åˆ°å“ªé‡Œå». å¤§éƒ¨åˆ†çš„ç¼–ç¨‹è¯­è¨€éƒ½è‡ªå¸¦äº†å•å…ƒæµ‹è¯•è¦†ç›–ç‡çš„æ”¶é›†èƒ½åŠ›, Elixir ä¹ŸåŒæ ·å¦‚æ­¤, å®˜æ–¹æä¾›çš„ mix æ„å»ºå·¥å…·è‡ªå¸¦äº†è¦†ç›–ç‡çš„æ”¶é›†èƒ½åŠ›, ä½†ç›®å‰åªé€‚ç”¨äºç¦»çº¿ï¼ˆofflineï¼‰ç³»ç»Ÿ, å¯¹äºè¿è¡Œæ—¶ç³»ç»Ÿ, å¹¶ä¸é€‚ç”¨. æœ¬æ–‡å°†ä¼šåŸºäº Erlang çš„ cover æ¨¡å—, ç»™å‡ºä¸€ä¸ª Elixir è¿è¡Œæ—¶ç³»ç»Ÿçš„è§£å†³æ–¹æ¡ˆ. æ—¢ç„¶ cover æ˜¯ Erlang çš„å†…ç½®æ¨¡å—, ä½†ä¸ºä»€ä¹ˆå®ƒä¹ŸåŒæ ·é€‚ç”¨äº Elixir, æˆ‘ä»¬å°†ä¼šåœ¨åç»­çš„ç¯èŠ‚ä¸­æ­å¼€å®ƒç¥ç§˜çš„é¢çº±. åœ¨å¼€å§‹ä¹‹å‰, è®©æˆ‘ä»¬å…ˆçœ‹ä¸‹å¼€æºç¤¾åŒºè¿›è¡Œè¿è¡Œæ—¶ç³»ç»Ÿä»£ç è¦†ç›–ç‡é‡‡é›†çš„ä¸¤ç§ä¸»æµæ–¹å¼ï¼ˆè¿™é‡Œæˆ‘ä»¬çœ‹ä¸‹è¯­è¨€ç¤¾åŒºç”Ÿæ€åºå¤§çš„ Java çš„å­—èŠ‚ç æ’æ¡©æ–¹å¼ï¼‰: æ¥ä¸‹æ¥è®©æˆ‘ä»¬å…³æ³¨ä¸€ä¸‹æœ¬æ–‡çš„ Elixir è¿è¡Œæ—¶è¦†ç›–ç‡æ”¶é›†çš„æ ¸å¿ƒ - cover æ¨¡å—. 2. æ·±åº¦è§£æ Erlang Cover è¦†ç›–ç‡æ”¶é›†å®ç°æœºåˆ¶2.1 Erlang Cover ç®€ä»‹cover æ˜¯ Erlang å†…ç½®å·¥å…·é›†ï¼ˆtools setï¼‰çš„ä¸€éƒ¨åˆ†, æä¾›äº†ä»£ç è¦†ç›–ç‡æ”¶é›†çš„èƒ½åŠ›. 2.2 Erlang ä»£ç è¦†ç›–ç‡æ”¶é›†å®ç°åˆ†æä» Erlang å…³äº cover æ¨¡å—å®˜æ–¹æ‰‹å†Œå¯ä»¥çŸ¥é“, cover ç»Ÿè®¡äº† Erlang ç¨‹åºä¸­æ¯ä¸€å¯æ‰§è¡Œï¼ˆexecutable lineï¼‰è¢«æ‰§è¡Œçš„æ¬¡æ•°. ä»å®˜æ–¹æ–‡æ¡£çš„ä»‹ç»æ¥çœ‹, cover å¯ä»¥ç”¨äºè¿è¡Œæ—¶ç³»ç»Ÿçš„ä»£ç è¦†ç›–ç‡æ”¶é›†, cover è¿›è¡Œä»£ç æ’æ¡©æ—¶, å¹¶ä¸ä¼šå¯¹ä»»ä½•æ¨¡å—çš„ä»£ç æºæ–‡ä»¶æˆ–ç¼–è¯‘åç”Ÿæˆçš„ beam æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼ˆå³ä¸šç•Œæ‰€è¯´çš„ On-The-Fly æ¨¡å¼ï¼‰. è¿è¡Œæ—¶ç³»ç»Ÿæ¯æ¬¡å¯æ‰§è¡Œè¡Œè¢«è°ƒç”¨ä¸€æ¬¡, éƒ½ä¼šæ›´æ–°è°ƒç”¨æ¬¡æ•°åˆ° cover ç”¨äºå­˜å‚¨æ•°æ®çš„å†…å­˜æ•°æ®åº“ä¸­, ç”¨äºåç»­çš„è¦†ç›–ç‡åˆ†æ. æ¥ä¸‹æ¥, æˆ‘ä»¬å°†ä¼šå»æ¢ç´¢ä¸‹ cover è¿›è¡Œ On-The-Fly æ’æ¡©çš„ç»†èŠ‚. 2.3 äº†è§£ BEAM File Formatåœ¨è¿›ä¸€æ­¥äº†è§£ cover å®ç°ç»†èŠ‚ä¹‹å‰, æˆ‘ä»¬æœ‰å¿…è¦å…ˆäº†è§£ä¸‹ Elixir æºç ç¼–è¯‘åçš„äº§ç‰© BEAM æ–‡ä»¶çš„æ ¼å¼. Elixir ï¼ˆ.ex æ–‡ä»¶ï¼‰ç¼–è¯‘åçš„äº§ç‰©ä¸ Erlang ï¼ˆ.erl æ–‡ä»¶ï¼‰ä¸€æ ·, éƒ½æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶åˆ†å—æ–‡ä»¶ï¼ˆbinary chunked fileï¼‰, å®ƒè¢«åˆ’åˆ†ä¸ºäº†å¤šä¸ª section, ç”¨äºå­˜å‚¨ç¨‹åºè¿è¡Œæ—¶ç”¨åˆ°çš„ä¿¡æ¯ï¼ˆå¦‚è™šæ‹Ÿæœºæ“ä½œæŒ‡ä»¤ï¼‰. Erlang&#x2F;Elixir ä¸­, æ¯ä¸€ä¸ªæ¨¡å—éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„ BEAM æ–‡ä»¶. BEAM æ–‡ä»¶å¤§è‡´çš„ç»“æ„å¦‚ä¸‹å›¾: è®©æˆ‘ä»¬æ¥é€šè¿‡ä¸€ä¸ª Elixir mini demo é¡¹ç›®æŸ¥çœ‹ä¸‹ beam æ–‡ä»¶å¤§æ¦‚å†…å®¹: Step 1ã€clone é¡¹ç›® yeshan333&#x2F;explore_ast_app åˆ°æœ¬åœ°: 12git clone https://github.com/yeshan333/explore_ast_app.gitcd explore_ast_app Step 2ã€æ„å»ºæ­¤é¡¹ç›®ä¸º OTP release æ ¼å¼, æœ¬åœ°éœ€è¦å®‰è£… Elixir å’Œ Erlang: 1MIX_ENV=prod mix distillery.release å¯ä»¥å…³æ³¨åˆ°, æ¯ä¸€ä¸ª Elixir æ¨¡å—, éƒ½è¢«ç¼–è¯‘æˆäº†ä¸€ä¸ª BEAM æ–‡ä»¶ï¼ˆäºç›®å½•_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin ä¸­å¯ä»¥çœ‹åˆ°ï¼‰. Step 3ã€æ¥ä¸‹æ¥è®©æˆ‘ä»¬é€šè¿‡ Erlang çš„æ ‡å‡†åº“ beam_lib æ–‡ä»¶æŸ¥çœ‹ Beam æ–‡ä»¶ä¸­çš„ chunk: 12# æ‰“å¼€ iex consoleiex -S mix æŸ¥çœ‹ç¼–è¯‘å BEAM æ–‡ä»¶ (Elixir.ExploreAstApp.beam) çš„æ‰€æœ‰ chunks: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253$ iex -S mixErlang/OTP 24 [erts-12.1] [source] [64-bit] [smp:12:12] [ds:12:12:10] [async-threads:1] [jit] [dtrace]Interactive Elixir (1.12.3) - press Ctrl+C to exit (type h() ENTER for help)iex(1)&gt; beam_file_path = &quot;_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin/Elixir.ExploreAstApp.beam&quot;&quot;_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin/Elixir.ExploreAstApp.beam&quot;iex(2)&gt; all_chunks = :beam_lib.all_chunks(String.to_charlist(beam_file_path))&#123;:ok, ExploreAstApp, [ &#123;&#x27;AtU8&#x27;, &lt;&lt;0, 0, 0, 15, 20, 69, 108, 105, 120, 105, 114, 46, 69, 120, 112, 108, 111, 114, 101, 65, 115, 116, 65, 112, 112, 8, 95, 95, 105, 110, 102, 111, 95, 95, 10, 97, 116, 116, 114, 105, 98, 117, 116, 101, ...&gt;&gt;&#125;, &#123;&#x27;Code&#x27;, &lt;&lt;0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 0, 169, 0, 0, 0, 14, 0, 0, 0, 4, 1, 16, 153, 0, 2, 18, 34, 16, 1, 32, 59, 3, 21, 23, 8, 16, 50, 117, 66, 117, 82, 101, 98, ...&gt;&gt;&#125;, &#123;&#x27;StrT&#x27;, &quot;&quot;&#125;, &#123;&#x27;ImpT&#x27;, &lt;&lt;0, 0, 0, 2, 0, 0, 0, 11, 0, 0, 0, 12, 0, 0, 0, 2, 0, 0, 0, 11, 0, 0, 0, 12, 0, 0, 0, 1&gt;&gt;&#125;, &#123;&#x27;ExpT&#x27;, &lt;&lt;0, 0, 0, 4, 0, 0, 0, 15, 0, 0, 0, 1, 0, 0, 0, 13, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 0, 13, 0, 0, 0, 0, 0, 0, 0, 9, ...&gt;&gt;&#125;, &#123;&#x27;LitT&#x27;, &lt;&lt;0, 0, 0, 52, 120, 156, 99, 96, 96, 96, 98, 96, 96, 16, 106, 206, 1, 146, 140, 25, 76, 229, 172, 25, 169, 57, 57, 249, 137, 12, 89, 64, 190, 88, 115, 46, 144, 20, 248, ...&gt;&gt;&#125;, &#123;&#x27;LocT&#x27;, &lt;&lt;0, 0, 0, 0&gt;&gt;&#125;, &#123;&#x27;Attr&#x27;, &lt;&lt;131, 108, 0, 0, 0, 1, 104, 2, 100, 0, 3, 118, 115, 110, 108, 0, 0, 0, 1, 110, 16, 0, 165, 236, 94, 47, 119, 160, 184, 33, 240, 28, 89, 11, 22, 130, 207, ...&gt;&gt;&#125;, &#123;&#x27;CInf&#x27;, &lt;&lt;131, 108, 0, 0, 0, 3, 104, 2, 100, 0, 7, 118, 101, 114, 115, 105, 111, 110, 107, 0, 5, 56, 46, 48, 46, 51, 104, 2, 100, 0, 7, 111, 112, 116, 105, 111, ...&gt;&gt;&#125;, &#123;&#x27;Dbgi&#x27;, &lt;&lt;131, 80, 0, 0, 1, 143, 120, 156, 117, 80, 203, 78, 3, 49, 12, 76, 233, 67, 162, 5, 113, 65, 124, 70, 87, 253, 2, 212, 67, 63, 129, 115, 148, 221, 120, ...&gt;&gt;&#125;, &#123;&#x27;Docs&#x27;, &lt;&lt;131, 80, 0, 0, 0, 241, 120, 156, 93, 142, 205, 10, 194, 48, 16, 132, 215, 74, 91, 9, 248, 14, 129, 94, 244, 82, 241, 234, 65, 40, 88, 241, 45, 108, ...&gt;&gt;&#125;, &#123;&#x27;ExCk&#x27;, &lt;&lt;131, 104, 2, 100, 0, 17, 101, 108, 105, 120, 105, 114, 95, 99, 104, 101, 99, 107, 101, 114, 95, 118, 49, 116, 0, 0, 0, 1, 100, 0, 7, 101, 120, ...&gt;&gt;&#125;, &#123;&#x27;Line&#x27;, &lt;&lt;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 1, 0, 0, 0, 1, 18, 241, 0, 22, 108, 105, 98, 47, 101, 120, 112, 108, ...&gt;&gt;&#125; ]&#125; å¯ä»¥çœ‹åˆ°, è·å–åˆ°çš„ chunks æ˜¯å’Œä¹‹å‰çš„å›¾å¯¹åº”çš„. æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ beam_lib æ ‡å‡†åº“è·å–åˆ°æ¨¡å—ï¼ˆExploreAstAppï¼‰å¯¹åº”çš„ Erlang ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475iex(3)&gt; result = :beam_lib.chunks(String.to_charlist(beam_file_path), [:abstract_code])&#123;:ok, &#123;ExploreAstApp, [ abstract_code: &#123;:raw_abstract_v1, [ &#123;:attribute, 1, :file, &#123;&#x27;lib/explore_ast_app.ex&#x27;, 1&#125;&#125;, &#123;:attribute, 1, :module, ExploreAstApp&#125;, &#123;:attribute, 1, :compile, [:no_auto_import]&#125;, &#123;:attribute, 1, :export, [__info__: 1, hello: 0]&#125;, &#123;:attribute, 1, :spec, &#123;&#123;:__info__, 1&#125;, [ &#123;:type, 1, :fun, [ &#123;:type, 1, :product, [ &#123;:type, 1, :union, [ &#123;:atom, 1, :attributes&#125;, &#123;:atom, 1, :compile&#125;, &#123;:atom, 1, :functions&#125;, &#123;:atom, 1, :macros&#125;, &#123;:atom, 1, :md5&#125;, &#123;:atom, 1, :exports_md5&#125;, &#123;:atom, 1, :module&#125;, &#123;:atom, 1, :deprecated&#125; ]&#125; ]&#125;, &#123;:type, 1, :any, []&#125; ]&#125; ]&#125;&#125;, &#123;:function, 0, :__info__, 1, [ &#123;:clause, 0, [&#123;:atom, 0, :module&#125;], [], [&#123;:atom, 0, ExploreAstApp&#125;]&#125;, &#123;:clause, 0, [&#123;:atom, 0, :functions&#125;], [], [ &#123;:cons, 0, &#123;:tuple, 0, [&#123;:atom, 0, :hello&#125;, &#123;:integer, 0, 0&#125;]&#125;, &#123;nil, 0&#125;&#125; ]&#125;, &#123;:clause, 0, [&#123;:atom, 0, :macros&#125;], [], [nil: 0]&#125;, &#123;:clause, 0, [&#123;:atom, 0, :exports_md5&#125;], [], [ &#123;:bin, 0, [ &#123;:bin_element, 0, &#123;:string, 0, [240, 105, 247, 119, 22, 50, 219, 207, 90, 95, 127, 92, ...]&#125;, :default, :default&#125; ]&#125; ]&#125;, &#123;:clause, 0, [&#123;:match, 0, &#123;:var, 0, :Key&#125;, &#123;:atom, 0, :attributes&#125;&#125;], [], [ &#123;:call, 0, &#123;:remote, 0, &#123;:atom, 0, :erlang&#125;, &#123;:atom, 0, :get_module_info&#125;&#125;, [&#123;:atom, 0, ExploreAstApp&#125;, &#123;:var, 0, :Key&#125;]&#125; ]&#125;, &#123;:clause, 0, [&#123;:match, 0, &#123;:var, 0, :Key&#125;, &#123;:atom, 0, :compile&#125;&#125;], [], [ &#123;:call, 0, &#123;:remote, 0, &#123;:atom, 0, :erlang&#125;, &#123;:atom, 0, :get_module_info&#125;&#125;, [&#123;:atom, 0, ExploreAstApp&#125;, &#123;:var, 0, :Key&#125;]&#125; ]&#125;, &#123;:clause, 0, [&#123;:match, 0, &#123;:var, 0, :Key&#125;, &#123;:atom, 0, :md5&#125;&#125;], [], [ &#123;:call, 0, &#123;:remote, 0, &#123;:atom, 0, :erlang&#125;, &#123;:atom, 0, :get_module_info&#125;&#125;, [&#123;:atom, 0, ExploreAstApp&#125;, &#123;:var, 0, :Key&#125;]&#125; ]&#125;, &#123;:clause, 0, [&#123;:atom, 0, :deprecated&#125;], [], [nil: 0]&#125; ]&#125;, &#123;:function, 15, :hello, 0, [&#123;:clause, 15, [], [], [&#123;:atom, 0, :world&#125;]&#125;]&#125; ]&#125; ]&#125;&#125; å¯ä»¥çœ‹åˆ° AST ä»¥ Erlang Terms çš„å½¢å¼è¡¨ç¤ºï¼ˆç§°ä¹‹ä¸º Abstract Codeï¼‰, æ–¹ä¾¿é˜…è¯». è¯¥ Abstract Code, åœ¨ cover è¿›è¡Œ on-the-fly æ’æ¡©è¿‡ç¨‹ä¸­å¤§æœ‰å¦™ç”¨. ä¸Šè¿° AST ç»“æ„ç®€å•æ˜“è¯», æˆ‘ä»¬å¯ä»¥å¾ˆç®€å•çš„å°†å…¶ä¸æ¨¡å—ç¼–è¯‘å‰çš„æºä»£ç ï¼ˆlib/explore_ast_app.exï¼‰å¯¹åº”èµ·æ¥, è™½ç„¶è¯¥ AST ç»“æ„æ˜¯æœ€ç»ˆçš„ Erlang AST, è¢« Erlang ç¼–è¯‘å™¨æ·»åŠ äº†éƒ¨åˆ†é¢å¤–çš„ä¿¡æ¯, ä½†ä¸å½±å“é˜…è¯»: å…ƒç»„ï¼ˆtupleï¼‰ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ ä¸€èˆ¬è¡¨ç¤ºæ‰€å¤„çš„æºç è¡Œæ•°. ä½ å¯ä»¥é€šè¿‡å®˜æ–¹æ–‡æ¡£è¯¦ç»†äº†è§£ä¸‹ Erlang çš„ Abstract Format, åŠ¨æ‰‹å¤šè§‚å¯Ÿå‡ ä¸ª BEAM æ–‡ä»¶çš„ Erlang AST çš„ç»“æ„, ä¾¿å¯äº†ç†Ÿäºå¿ƒ. å€¼å¾—æ³¨æ„çš„æ˜¯ Abstract Code åœ¨ OTP 20 ä¹‹å‰æ˜¯å­˜æ”¾åœ¨ BEAM æ–‡ä»¶çš„ Abst Chunk ä¸­çš„. å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº BEAM æ–‡ä»¶çš„ç»†èŠ‚, å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹ä¸¤ç¯‡æ–‡æ¡£: http://beam-wisdoms.clau.se/en/latest/indepth-beam-file.html#beam-term-format https://blog.stenmans.org/theBeamBook/#BEAM_files 2.4 Elixir æºç ç¼–è¯‘è¿‡ç¨‹äº†è§£äº† BEAM File Formatï¼ˆBEAM æ–‡ä»¶æ ¼å¼ï¼‰ä¹‹å, æˆ‘ä»¬è¿˜æœ‰å¿…è¦äº†è§£ä¸‹ Elixir ä»£ç çš„ç¼–è¯‘è¿‡ç¨‹, æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½çš„ç†è§£ cover. Elixir æºç çš„ç¼–è¯‘ä¸º BEAM æ–‡ä»¶çš„è¿‡ç¨‹å¯èƒ½å’Œä½ æƒ³è±¡çš„ä¸å¤ªä¸€æ ·, ä¸ç›´æ¥ä» Elixir çš„ AST, ç»è¿‡ç¼–è¯‘å™¨åç«¯çš„å¤„ç†åæˆä¸ºå¯æ‰§è¡Œçš„ BEAM Code, ä¸­é—´è¿˜æœ‰ä¸€ä¸ªè¿‡ç¨‹, å¦‚ä¸‹å›¾æ‰€ç¤º: ä¸Šå›¾çš„è¿‡ç¨‹å¯ä»¥æè¿°ä¸º: Step 1ã€Elixir æºä»£ç ä¼šè¢«è‡ªå®šä¹‰çš„è¯æ³•åˆ†æå™¨ï¼ˆelixir_tokenizerï¼‰å’Œ yacc è¿›è¡Œè¯­æ³•åˆ†æç”Ÿæˆåˆå§‹ç‰ˆçš„ Elixir AST, AST ä»¥ Elixir Terms çš„å½¢å¼è¡¨ç¤ºï¼›å¦‚æœä½ å¯¹ Elixir çš„ AST æ„Ÿå…´è¶£, å¯ä»¥å…³æ³¨ä¸‹è¿™ä¸ªé¡¹ç›® arjan&#x2F;ast_ninja. Step 2ã€åœ¨ Elixir AST é˜¶æ®µ, ä¸€äº›è‡ªå®šä¹‰çš„å’Œå†…ç½®çš„å®ï¼ˆMacrosï¼‰è¿˜æ²¡æœ‰è¢«å±•å¼€, è¿™äº›å®åœ¨ Expanded Elixir AST å±•å¼€ä¸ºæœ€ç»ˆçš„ Elixir ASTï¼ˆfinal Elixir ASTï¼‰ï¼› Step 3ã€final Elixir AST ç»è¿‡ Elixir Compiler å¤„ç†ä¼šè¢«è½¬æ¢ä¸º Erlang æ ‡å‡†çš„ AST å½¢å¼ï¼ˆErlang Abstract Formatï¼‰; Step 4ã€æœ€å, Elixir ä¼šä½¿ç”¨ Erlang çš„ Compiler å¤„ç† Erlang AST, å°†å…¶è½¬æ¢ä¸ºå¯è¢« BEAM è™šæ‹Ÿæœºï¼ˆVMï¼‰æ‰§è¡Œçš„ BEAM å­—èŠ‚ç . å…³äº compiler çš„ç»†èŠ‚, å¯ä»¥æŸ¥çœ‹: elixir_compiler.erl å’Œ elixir_erl.erl æºç , å¦‚æœä½ ä¹Ÿæƒ³äº†è§£ Erlang Compiler çš„ç»†èŠ‚, å¯ä»¥æŸ¥çœ‹ theBeamBook&#x2F;#CH-Compiler. 2.5 Cover On-The-Fly æ’æ¡©å®ç°ç°åœ¨è¯¥æ¥åˆ°æ­£é¤ç¯èŠ‚äº†, è®©æˆ‘ä»¬æ¥çœ‹çœ‹ cover æ˜¯å¦‚ä½•è¿›è¡Œæ’æ¡©å’Œè¦†ç›–ç‡æ”¶é›†çš„, ä½¿ç”¨ cover å®Œæˆä»£ç è¦†ç›–ç‡æ”¶é›†, å¿…é¡»è¦çŸ¥é“ä¸‰æŠŠå± é¾™åˆ©å‰‘: cover:start: ç”¨äºåˆ›å»º cover è¦†ç›–ç‡æ”¶é›†è¿›ç¨‹, å®ƒä¼šå®Œæˆå­˜å‚¨è¦†ç›–ç‡æ•°æ®çš„ç›¸å…³ ets è¡¨çš„åˆ›å»º, cover.erl#L159 &amp; cover.erl#L632, è¿˜å¯ä»¥å¯åŠ¨è¿œç¨‹ï¼ˆremoteï¼‰ Erlang èŠ‚ç‚¹çš„ cover è¿›ç¨‹. cover:compile_beam: è¿›è¡Œæ’æ¡©, cover ä¼šè¯»å– BEAM æ–‡ä»¶çš„ abstract_code çš„å†…å®¹, å³ Erlang AST, å…³é”®ä»£ç åœ¨ cover.erl#L1541, ç„¶åå¯¹ Erlang AST From è¿›è¡Œ transform å’Œ munge, å®ƒä¼šè°ƒç”¨ bump_call, åœ¨æ¯ä¸€ä¸ªå¯æ‰§è¡Œè¡Œåæ’å…¥å¦‚ä¸‹ abstract_code: 123456789&#123;call,A,&#123;remote,A,&#123;atom,A,ets&#125;,&#123;atom,A,update_counter&#125;&#125;, [&#123;atom,A,?COVER_TABLE&#125;, &#123;tuple,A,[&#123;atom,A,?BUMP_REC_NAME&#125;, &#123;atom,A,Vars#vars.module&#125;, &#123;atom,A,Vars#vars.function&#125;, &#123;integer,A,Vars#vars.arity&#125;, &#123;integer,A,Vars#vars.clause&#125;, &#123;integer,A,Line&#125;]&#125;, &#123;integer,A,1&#125;]&#125;. é€šè¿‡å‰æ–‡å¯¹ Erlang AST çš„äº†è§£, æˆ‘ä»¬çŸ¥é“è¿™ç›¸å½“äºæ’å…¥äº†å¦‚ä¸‹ä¸€è¡Œä»£ç : 1ets:update_counter(?COVER_TABLE, #bump&#123;module=Module, function=Function, arity=Arity, clause=Clause, line=Line&#125;, 1). ç„¶åå¯¹äºè¢« munge åçš„ Erlang AST Form, cover ä½¿ç”¨äº† Erlang Compiler ä»è¢« munge åçš„ AST è¡¨è¾¾å½¢å¼ä¸­è·å– Erlang Beam Codeï¼ˆåˆç§° object code, å³å­—èŠ‚ç , VM æ‰§è¡ŒæŒ‡ä»¤ï¼‰cover.erl#L1580, ç„¶ååˆ©ç”¨ Erlang code server å°†è·å–åˆ°çš„æ–° object code æ›¿æ¢æ—§çš„ object code, load_binary cover.erl#L1581 åˆ°äº† ERTSï¼ˆErlang Run Time Systemï¼‰ä¸­ . cover å®Œæˆäº† Erlang AST æ’æ¡©æµç¨‹, è¿™æ ·, æ¯å½“å¯æ‰§è¡Œè¡Œè¢«æ‰§è¡Œ, å¯¹åº”çš„ ets å­˜å‚¨è¡¨éƒ½ä¼šæ›´æ–°è¯¥è¡Œè¢« call çš„æ¬¡æ•°. cover:analyze: åˆ†æ ets è¡¨ä¸­å­˜å‚¨çš„æ•°æ®, å¯è·å–å¯æ‰§è¡Œè¢«æ‰§è¡Œï¼ˆcalledï¼‰çš„æ¬¡æ•°, å¯ç”¨äºç»Ÿè®¡è¦†ç›–ç‡æ•°æ®. munge: ç”¨äºå¯¹æ•°æ®æˆ–æ–‡ä»¶è¿›è¡Œä¸€ç³»åˆ—å¯èƒ½å…·æœ‰ç ´åæ€§æˆ–ä¸å¯æ’¤é”€çš„æ›´æ”¹. 3. Elixir Application è¿è¡Œæ—¶è¦†ç›–ç‡é‡‡é›†ç¤ºä¾‹é€šè¿‡å‰æ–‡, åœ¨äº†è§£äº† Erlang Cover æ¨¡å—çš„å®ç°ç»†èŠ‚ä¹‹å, è®©æˆ‘ä»¬ä»¥ä¸€ä¸ªéƒ¨ç½²è¿è¡Œçš„ Elixir Applicationï¼ˆæˆ‘ä»¬ä¼šä½¿ç”¨ä¹‹å‰çš„ yeshan333&#x2F;explore_ast_app ï¼‰ ä¸ºä¾‹, è¿›è¡ŒElixir åº”ç”¨è¿è¡Œæ—¶çš„å¤§å‹æµ‹è¯•ï¼ˆç³»ç»Ÿ &amp; é›†æˆæµ‹è¯•ï¼‰ä»£ç è¡Œçº§è¦†ç›–ç‡é‡‡é›†. è¿™é‡Œæˆ‘ä»¬ä¼šä½¿ç”¨åˆ°ä¸€ä¸ªå·¥å…·åº“: ex_integration_coveralls è¿›è¡Œè¦†ç›–ç‡çš„åˆ†æ, å®ƒæ˜¯ Erlang æ¨¡å— cover çš„ä¸€ä¸ª Elixir Wrapper. è®©æˆ‘ä»¬å¼€å§‹: Step 1ã€æ·»åŠ  ex_integration_coveralls ä¾èµ–åˆ° mix.exs æ–‡ä»¶ä¸­: 123456defp deps do [ ..., &#123;:ex_integration_coveralls, &quot;~&gt; 0.3.0&quot;&#125; ]end æ‹‰å–ä¾èµ–, é‡æ–°æ„å»ºé¡¹ç›®: 12mix deps.getMIX_ENV=prod mix distillery.release Step 2ã€å¯åŠ¨é¡¹ç›®: 1_build/prod/rel/explore_ast_app/bin/explore_ast_app foreground Step 3ã€è¿æ¥è¿è¡Œæ—¶åº”ç”¨èŠ‚ç‚¹çš„ remote_console: 1_build/prod/rel/explore_ast_app/bin/explore_ast_app remote_console Step 4ã€åˆ©ç”¨ ex_integration_coveralls ï¼ˆExIntegrationCoveralls.executeï¼‰ å¯åŠ¨ cover, æ‰§è¡Œä»£ç è¦†ç›–ç‡æ”¶é›†: 12345678910111213141516iex(explore_ast_app@127.0.0.1)1&gt; compiled_beam_dir_path = &quot;/Users/yeshan/oss_github/explore_ast_app/_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin&quot;&quot;/Users/yeshan/oss_github/explore_ast_app/_build/prod/rel/explore_ast_app/lib/explore_ast_app-0.1.0/ebin&quot;iex(explore_ast_app@127.0.0.1)2&gt; ExIntegrationCoveralls.execute(compiled_beam_dir_path)[ ok: ExploreAstApp.Router, ok: ExploreAstApp.Plug.VerifyRequest.IncompleteRequestError, ok: ExploreAstApp.Plug.VerifyRequest, ok: ExploreAstApp.Application, ok: ExploreAstApp]iex(explore_ast_app@127.0.0.1)3&gt; compile_time_source_lib_abs_path = &quot;/Users/yeshan/oss_github/explore_ast_app&quot;&quot;/Users/yeshan/oss_github/explore_ast_app&quot;iex(explore_ast_app@127.0.0.1)4&gt; source_code_abs_path = &quot;/Users/yeshan/oss_github/explore_ast_app&quot;&quot;/Users/yeshan/oss_github/explore_ast_app&quot;iex(explore_ast_app@127.0.0.1)5&gt; ExIntegrationCoveralls.get_total_coverage(compile_time_source_lib_abs_path, source_code_abs_path)0 å¯ä»¥çœ‹åˆ°, åˆå§‹çš„è¦†ç›–ç‡æ˜¯ 0, è¿˜æ²¡æœ‰ä»£ç è¢«è°ƒç”¨. Step 5ã€è®©æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹ cURL : 12 $ curl --location --request GET &#x27;http://localhost:8080/hello&#x27;hello % å†æ¬¡æŸ¥çœ‹ä»£ç è¦†ç›–ç‡æ•°æ®: 12iex(explore_ast_app@127.0.0.1)6&gt; ExIntegrationCoveralls.get_total_coverage(compile_time_source_lib_abs_path, source_code_abs_path)17.1 å¯ä»¥çœ‹åˆ°, cURLï¼ˆæµ‹è¯•ï¼‰å¯¹è¯¥é¡¹ç›®çš„è¦†ç›–ç‡æ˜¯ 17.1%. æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æŸ¥çœ‹æ›´ä¸ºè¯¦å°½çš„ä»£ç è¦†ç›–æƒ…å†µ, æ¯”å¦‚æŸ¥çœ‹ lib/explore_ast_app/router.ex çš„ä»£ç è¦†ç›–æƒ…å†µï¼ˆnil è¡¨ç¤ºè¯¥è¡Œä¸æ˜¯ executable lineï¼‰: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132iex(explore_ast_app@127.0.0.1)7&gt; result = ExIntegrationCoveralls.get_coverage_report(compile_time_source_lib_abs_path, source_code_abs_path).......iex(explore_ast_app@127.0.0.1)8&gt; Enum.at(Map.get(result, :files), 3)%ExIntegrationCoveralls.Stats.Source&#123; coverage: 18.2, filename: &quot;lib/explore_ast_app/router.ex&quot;, hits: 4, misses: 18, sloc: 22, source: [ %ExIntegrationCoveralls.Stats.Line&#123; coverage: 1, source: &quot;defmodule ExploreAstApp.Router do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: 1, source: &quot; use Plug.Router&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; use Plug.ErrorHandler&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; import Plug.Conn&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; alias ExploreAstApp.Plug.VerifyRequest&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; plug Plug.Parsers, parsers: [:urlencoded, :multipart]&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; plug VerifyRequest, fields: [\\&quot;content\\&quot;, \\&quot;mimetype\\&quot;], paths: [\\&quot;/upload\\&quot;]&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; plug :match&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; plug Plug.Parsers, parsers: [:json], pass: [\\&quot;application/json\\&quot;], json_decoder: Jason&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; plug :dispatch&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; get \\&quot;/welcome\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; send_resp(conn, 200, \\&quot;Welcome\\&quot;)&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; get \\&quot;/upload\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; send_resp(conn, 201, \\&quot;Uploaded\\&quot;)&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 1, source: &quot; get \\&quot;/hello\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # query parameter is user like this:&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # http://localhost:4001/hello?name=John&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # which will create %&#123;\\&quot;name\\&quot; =&gt; \\&quot;John\\&quot;&#125;&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 1, source: &quot; send_resp(conn, 200, \\&quot;hello \\#&#123;Map.get(conn.query_params, \\&quot;name\\&quot;)&#125;\\&quot;)&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; get \\&quot;/hello/:name\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; send_resp(conn, 200, \\&quot;hello \\#&#123;name&#125;\\&quot;)&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; post \\&quot;/hello\\&quot; do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # json body of POST request &#123;\\&quot;name\\&quot;: \\&quot;John\\&quot;&#125; is parsed to %&#123;\\&quot;name\\&quot; =&gt; \\&quot;John\\&quot;&#125;&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; # so it can be accesable with e.g. Map.get(conn.body_params, \\&quot;name\\&quot;) or with pattern matching&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: 0, source: &quot; name =&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; case conn.body_params do&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: 0, source: &quot; %&#123;\\&quot;name\\&quot; =&gt; a_name &#125; -&gt; a_name&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123; coverage: nil, source: &quot; _ -&gt; \\&quot;\\&quot;&quot; &#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot; end&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, source: &quot;&quot;&#125;, %ExIntegrationCoveralls.Stats.Line&#123;coverage: nil, ...&#125;, %ExIntegrationCoveralls.Stats.Line&#123;...&#125;, ... ]&#125; åŸºäº post_cov_stats_to_ud_ci æ¥å£ï¼Œå¯ä»¥è¿›ä¸€æ­¥å¯¹æ¥å†…éƒ¨æˆ–å¤–éƒ¨çš„ç±»ä¼¼äº Codecov çš„è¦†ç›–ç‡ç³»ç»Ÿ. åŸºäºæ­¤, æˆ‘ä»¬å¯ä»¥å®ç°åœ¨ Elixir Application ä¸åœæ­¢è¿è¡Œçš„æƒ…å†µä¸‹, é…åˆå¤§å‹ï¼ˆé›†æˆ &amp; ç³»ç»Ÿï¼‰æµ‹è¯•èƒ½åŠ›, å®Œæˆä»£ç è¦†ç›–ç‡çš„æ”¶é›†. 4. å¤§è§„æ¨¡ Elixir&#x2F;Erlang å¾®æœåŠ¡é›†ç¾¤è¿ç»­è¿è¡Œæ—¶è¦†ç›–ç‡æ”¶é›†æ–¹æ¡ˆéšç€ Elixir å¾®æœåŠ¡ç³»ç»Ÿè§„æ¨¡çš„ä¸æ–­æ‰©å¤§, å‰ä¸€èŠ‚æ‰€å±•ç°çš„è¦†ç›–ç‡æ”¶é›†æ‰‹æ®µéœ€è¦è¿›ä¸€æ­¥çš„æ¼”è¿›. å‚è€ƒ Prometheus Pull-Base çš„è®¾è®¡, æ€»ä½“è®¾è®¡ï¼ˆPull &amp; Push æ¨¡å¼ç»“åˆï¼‰å¦‚ä¸‹: æˆ‘ä»¬åŸºäº ex_integration_coveralls åšæ‹“å±•, åœ¨ Elixir Application å¯åŠ¨å, æ‹‰èµ·ä¸€ä¸ª http worker å°†ä»£ç è¦†ç›–ç‡æ•°æ®å®æ—¶æš´éœ²å‡ºå», æ–¹ä¾¿ä¸å¼‚æ„ç³»ç»Ÿçš„é€šä¿¡. ç”± Coverage Push Gateway è´Ÿè´£å®šæ—¶æ‹‰å–è¦†ç›–ç‡æ•°æ®ï¼ˆGateway å¯ä»¥æ˜¯ä¸€ä¸ª OTP Application, è¿™è®©å¯ä»¥ç›´æ¥è®©ex_integration_coveralls æ‹‰èµ· GenServer Worker åœ¨åˆ†å¸ƒå¼ OTP ç³»ç»Ÿè¿›è¡Œäº¤äº’é›†æˆï¼‰, åœ¨é›†æˆ&#x2F;ç³»ç»Ÿæµ‹è¯•ç³»ç»Ÿå‘ŠçŸ¥æµ‹è¯•ç»“æŸå, Gateway å°†è¦†ç›–ç‡ push ç»™ Cover Centerï¼ˆè¦†ç›–ç‡ä¸­å¿ƒï¼‰è¿›è¡Œä»£ç è¦†ç›–ç‡å±•ç¤º. Endï¼ˆlong way to goï¼‰. å‚è€ƒ Code Coverage at Google Erlang cover A brief introduction to BEAM A peak into the Erlang compiler and BEAM bytecode Getting each stage of Elixirâ€™s compilation all the way to the BEAM bytecode excoveralls BeamFile - A peek into the BEAM file https://github.com/KronicDeth/intellij-elixir#beam-files","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/tags/Elixir/"},{"name":"Test Coverage","slug":"Test-Coverage","permalink":"https://yeshan333.github.io/tags/Test-Coverage/"}]},{"title":"(è¯‘) Understanding Elixir Macros, Part 6 - In-place Code Generation","slug":"understanding-elixir-macros-part-6-in-place-code-generation","date":"2022-06-19T17:47:21.000Z","updated":"2022-06-19T17:47:21.000Z","comments":true,"path":"2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/","permalink":"https://yeshan333.github.io/2022/06/19/understanding-elixir-macros-part-6-in-place-code-generation/","excerpt":"","text":"Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡ [1] (è¯‘) Understanding Elixir Macros, Part 1 Basics [2] (è¯‘) Understanding Elixir Macros, Part 2 - Macro Theory [3] (è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST [4] (è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper [5] (è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST [6] (è¯‘) Understanding Elixir Macros, Part 6 - In-place Code GenerationåŸæ–‡ GitHub ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡. è¿™æ˜¯å®ç³»åˆ—æ–‡ç« çš„æœ€åä¸€ç¯‡. åœ¨å¼€å§‹ä¹‹å‰, æˆ‘æƒ³æä¸€ä¸‹ BjÃ¶rn Rochel, ä»–å·²ç»å°†ä»–çš„ Apex åº“ä¸­çš„ deftraceable å®æ”¹è¿›äº†. å› ä¸ºä»–å‘ç°ç³»åˆ—æ–‡ç« ä¸­ deftraceable çš„ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®å¤„ç†é»˜è®¤å‚æ•°ï¼ˆarg \\ def_value), äºæ˜¯åšäº†ä¸€ä¸ªä¿®å¤ bugfix. è¿™æ¬¡, è®©æˆ‘ä»¬ç»“æŸè¿™ä¸ªå®çš„æ•…äº‹. ä»Šå¤©çš„æ–‡ç« çŸ¥è¯†ç‚¹å¯èƒ½æ˜¯æ•´ä¸ªç³»åˆ—ä¸­æ¶‰åŠæœ€å¹¿çš„, æˆ‘ä»¬å°†è®¨è®ºåŸåœ°ä»£ç ç”Ÿæˆçš„ç›¸å…³æŠ€æœ¯, ä»¥åŠå®ƒå¯èƒ½å¯¹å®çš„å½±å“. åœ¨æ¨¡å— module ä¸­ç”Ÿæˆä»£ç æ­£å¦‚æˆ‘åœ¨ç¬¬ 1 ç« ä¸­æåˆ°çš„é‚£æ ·, å®å¹¶ä¸æ˜¯ Elixir ä¸­å”¯ä¸€çš„å…ƒç¼–ç¨‹æœºåˆ¶. æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ¨¡å—ä¸­ç›´æ¥ç”Ÿæˆä»£ç . ä¸ºäº†å”¤èµ·ä½ çš„è®°å¿†, æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­: 12345678910111213141516171819202122defmodule Fsm do fsm = [ running: &#123;:pause, :paused&#125;, running: &#123;:stop, :stopped&#125;, paused: &#123;:resume, :running&#125; ] # Dynamically generating functions directly in the module for &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm do def unquote(action)(unquote(state)), do: unquote(next_state) end def initial, do: :runningendFsm.initial# :runningFsm.initial |&gt; Fsm.pause# :pausedFsm.initial |&gt; Fsm.pause |&gt; Fsm.pause# ** (FunctionClauseError) no function clause matching in Fsm.pause/1 åœ¨è¿™é‡Œ, æˆ‘ä»¬ç›´æ¥åœ¨æ¨¡å—ä¸­åŠ¨æ€ç”Ÿæˆå‡½æ•°å­å¥ï¼ˆclauseï¼‰. è¿™å…è®¸æˆ‘ä»¬é’ˆå¯¹æŸäº›è¾“å…¥ï¼ˆåœ¨æœ¬ä¾‹ä¸­æ˜¯å…³é”®å­—åˆ—è¡¨ï¼‰è¿›è¡Œå…ƒç¼–ç¨‹, å¹¶ç”Ÿæˆä»£ç , è€Œæ— éœ€ç¼–å†™ä¸“é—¨çš„å®. æ³¨æ„, åœ¨ä¸Šé¢çš„ä»£ç ä¸­, æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ unquote å°†å˜é‡æ³¨å…¥åˆ°å‡½æ•°å­å¥å®šä¹‰ä¸­. è¿™ä¸å®çš„å·¥ä½œæ–¹å¼å®Œå…¨ä¸€è‡´. è¯·è®°ä½, def ä¹Ÿæ˜¯ä¸€ä¸ªå®, å¹¶ä¸”å®æ¥æ”¶çš„å‚æ•°æ€»æ˜¯è¢« quoted. å› æ­¤, å¦‚æœæ‚¨æƒ³è¦ä¸€ä¸ªå®å‚æ•°æ¥æ”¶æŸä¸ªå˜é‡çš„å€¼, æ‚¨å¿…é¡»åœ¨ä¼ é€’è¯¥å˜é‡æ—¶ä½¿ç”¨ unquote. ä»…ä»…è°ƒç”¨ def action æ˜¯ä¸å¤Ÿçš„, å› ä¸º def å®æ¥æ”¶åˆ°çš„æ˜¯å¯¹ action çš„ unquoted, è€Œä¸æ˜¯å˜é‡ action ä¸­çš„å€¼. å½“ç„¶, æ‚¨å¯ä»¥ä»¥è¿™ç§åŠ¨æ€çš„æ–¹å¼è°ƒç”¨è‡ªå·±çš„å®, åŸç†æ˜¯ä¸€æ ·çš„. ç„¶è€Œ, æœ‰ä¸€ä¸ªæ„æƒ³ä¸åˆ°çš„æƒ…å†µ â€” ç”Ÿæˆï¼ˆevaluationï¼‰ çš„é¡ºåºä¸ä½ çš„é¢„æœŸå¯èƒ½ä¸ç¬¦. å±•å¼€çš„é¡ºåºæ­£å¦‚ä½ æ‰€é¢„æ–™çš„é‚£èˆ¬, æ¨¡å—çº§ä»£ç ï¼ˆä¸æ˜¯ä»»ä½•å‡½æ•°çš„ä¸€éƒ¨åˆ†çš„ä»£ç ï¼‰åœ¨ Elixir ç¼–è¯‘è¿‡ç¨‹çš„å±•å¼€é˜¶æ®µè¢«æ‰§è¡Œ. æœ‰äº›ä»¤äººæ„å¤–çš„æ˜¯, è¿™å°†å‘ç”Ÿåœ¨æ‰€æœ‰å®ï¼ˆé™¤äº† defï¼‰å±•å¼€ä¹‹å. å¾ˆå®¹æ˜“å»è¯æ˜è¿™ä¸€ç‚¹ï¼š 1234567891011121314151617iex(1)&gt; defmodule MyMacro do defmacro my_macro do IO.puts &quot;my_macro called&quot; nil end endiex(2)&gt; defmodule Test do import MyMacro IO.puts &quot;module-level expression&quot; my_macro end# Output:my_macro calledmodule-level expression ä»è¾“å‡ºçœ‹å‡º, å³ä½¿ä»£ç ä¸­ç›¸åº”çš„ IO.puts è°ƒç”¨åœ¨å®è°ƒç”¨ä¹‹å‰, ä½† mymacro è¿˜æ˜¯åœ¨ IO.puts ä¹‹å‰è¢«è°ƒç”¨äº†. è¿™è¯æ˜ç¼–è¯‘å™¨é¦–å…ˆè§£ææ‰€æœ‰æ ‡å‡†å®. ç„¶åå¼€å§‹ç”Ÿæˆæ¨¡å—, ä¹Ÿæ˜¯åœ¨è¿™ä¸ªé˜¶æ®µ, æ¨¡å—çº§ä»£ç ä»¥åŠå¯¹ def çš„è°ƒç”¨è¢«æ‰§è¡Œ. æ¨¡å—çº§å‹å¥½å®è¿™å¯¹æˆ‘ä»¬è‡ªå·±çš„å®æœ‰ä¸€äº›é‡è¦çš„å½±å“. ä¾‹å¦‚, æˆ‘ä»¬çš„ deftraceable å®ä¹Ÿå¯ä»¥åŠ¨æ€è°ƒç”¨. ä½†æ˜¯, ç°åœ¨å®ƒè¿˜ä¸èƒ½å·¥ä½œï¼š 123456789101112131415161718192021iex(1)&gt; defmodule Tracer do ... endiex(2)&gt; defmodule Test do import Tracer fsm = [ running: &#123;:pause, :paused&#125;, running: &#123;:stop, :stopped&#125;, paused: &#123;:resume, :running&#125; ] for &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm do # Using deftraceable dynamically deftraceable unquote(action)(unquote(state)), do: unquote(next_state) end deftraceable initial, do: :running end** (MatchError) no match of right hand side value: :error expanding macro: Tracer.deftraceable/2 iex:13: Test (module) å‡ºç°ä¸€ä¸ªæœ‰ç‚¹ç¥ç§˜, è€Œä¸”ä¸æ˜¯éå¸¸æœ‰å¸®åŠ©çš„é”™è¯¯æç¤º. é‚£ä¹ˆå‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä¸Šä¸€èŠ‚æ‰€è¿°, åœ¨ in-place æœ¬åœ°æ¨¡å—æ‰§è¡Œå¼€å§‹ä¹‹å‰, å°†è¿›è¡Œå®å±•å¼€. å¯¹æˆ‘ä»¬æ¥è¯´, è¿™æ„å‘³ç€ deftraceable è¢«è°ƒç”¨ä¹‹å‰, for è¯­å¢ƒç”šè‡³è¿˜æ²¡æœ‰æ‰§è¡Œ. å› æ­¤, å³ä½¿å®ƒæ˜¯ä»å½“å‰è¯­å¢ƒä¸­è°ƒç”¨, deftraceable å®é™…ä¸Šå°†åªè¢«è°ƒç”¨ä¸€æ¬¡. æ­¤å¤–, ç”±äºæœªå¯¹å½“å‰è¯­å¢ƒè¿›è¡Œæ±‚å€¼, å› æ­¤å½“æˆ‘ä»¬çš„å®è¢«è°ƒç”¨æ—¶, å†…éƒ¨å˜é‡ state, action å’Œ next_state éƒ½ä¸å­˜åœ¨. æ€ä¹ˆå¯ä»¥è®©å®ƒå·¥ä½œï¼Ÿæœ¬è´¨ä¸Š, æˆ‘ä»¬çš„å®å°†é  unquote æ¥è°ƒç”¨ - head å’Œ body å°†åˆ†åˆ«åŒ…å«ä»£è¡¨ unquote(action)(unquote(state)) å’Œ unquote(next_state)çš„ AST. ç°åœ¨, å›æƒ³ä¸€ä¸‹å½“å‰ç‰ˆæœ¬çš„ deftraceable, æˆ‘ä»¬å¯¹å®ä¸­çš„è¾“å…¥åšäº†ä¸€äº›å‡è®¾. è¿™é‡Œæ˜¯ä¸€æ®µä¼ªä»£ç ï¼š 12345678defmacro deftraceable(head, body) do # è¿™é‡Œ, æˆ‘ä»¬å‡è®¾è¾“å…¥å¤´éƒ¨æ˜¯ä»€ä¹ˆæ ·çš„, å¹¶æ‰§è¡Œä¸€äº›æ“ä½œ # AST è½¬æ¢åŸºäºè¿™äº›å‡è®¾. quote do ... endend è¿™å°±æ˜¯æˆ‘ä»¬çš„é—®é¢˜. å¦‚æœæˆ‘ä»¬åœ¨åŸåœ°ç”Ÿæˆä»£ç çš„åŒæ—¶åŠ¨æ€åœ°è°ƒç”¨ deftraceable, é‚£ä¹ˆè¿™æ ·çš„å‡è®¾å°±ä¸å†æˆç«‹. å»¶è¿Ÿä»£ç ç”Ÿæˆå½“å®æ‰§è¡Œæ—¶, åŒºåˆ†å®ä¸Šä¸‹æ–‡å’Œè°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡æ˜¯å¾ˆé‡è¦çš„: 123456defmacro my_macro do # Macro contextï¼ˆå®ä¸Šä¸‹æ–‡ï¼‰: è¿™é‡Œçš„ä»£ç æ˜¯å®çš„æ­£å¸¸éƒ¨åˆ†, å¹¶åœ¨å®è¿è¡Œæ—¶è¢«æ‰§è¡Œ quote do # Caller&#x27;s contextï¼ˆè°ƒç”¨è€…ä¸Šä¸‹æ–‡ï¼‰: ç”Ÿæˆçš„ä»£ç åœ¨å®æ‰€åœ¨çš„ä½ç½®è¿è¡Œ end è¿™å°±æ˜¯è®©äº‹æƒ…å˜å¾—æœ‰ç‚¹æ£˜æ‰‹çš„åœ°æ–¹. å¦‚æœæˆ‘ä»¬æƒ³æ”¯æŒå¯¹å®çš„æ¨¡å—çº§åŠ¨æ€è°ƒç”¨, å°±ä¸åº”è¯¥åœ¨å®ä¸Šä¸‹æ–‡ä¸­åšä»»ä½•å‡å®š. ç›¸å, æˆ‘ä»¬åº”è¯¥å°†ä»£ç ç”Ÿæˆæ¨è¿Ÿåˆ°è°ƒç”¨æ–¹çš„ä¸Šä¸‹æ–‡ä¸­. ç”¨è¿™æ®µä»£ç è¯´æ˜ï¼š 1234567defmacro deftraceable(head, body) do # Macro context: æˆ‘ä»¬ä¸åº”è¯¥å¯¹è¾“å…¥ AST åšä»»ä½•å‡è®¾ quote do # Caller&#x27;s context: æˆ‘ä»¬åº”è¯¥åœ¨è¿™é‡Œè½¬æ¢è¾“å…¥çš„ AST, ç„¶ååœ¨è¿™é‡Œåšå‡ºæˆ‘ä»¬çš„å‡è®¾ endend ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ï¼ˆCallerâ€™s contextï¼‰ä¸­è¿›è¡Œå‡è®¾? å› ä¸ºè¿™æ®µä»£ç å°†åœ¨æ‰€æœ‰å®å±•å¼€åè¿è¡Œ. ä¾‹å¦‚, è¯·è®°ä½, å³ä½¿æˆ‘ä»¬çš„å®æ˜¯ä»ä¸€ä¸ªæ¨å¯¼å¼ä¸­è°ƒç”¨çš„, å®ƒä¹Ÿåªä¼šè¢«è°ƒç”¨ä¸€æ¬¡. ä½†æ˜¯, å®ç”Ÿæˆçš„ä»£ç å°†åœ¨æ¨å¯¼å¼ä¸­è¿è¡Œ â€” å¯¹æ¯ä¸ªå…ƒç´ è¿è¡Œä¸€æ¬¡. å› æ­¤, è¿™ç§æ–¹æ³•ç›¸å½“äºæ¨è¿Ÿäº†æœ€ç»ˆçš„ä»£ç ç”Ÿæˆ. æˆ‘ä»¬ç”Ÿæˆçš„ä¸­é—´æ¨¡å—çº§è¯­å¥å°†ç”Ÿæˆæœ€ç»ˆä»£ç , è€Œä¸æ˜¯ç«‹å³ç”Ÿæˆç›®æ ‡ä»£ç . è¿™äº›ä¸­é—´è¯­å¥å°†åœ¨æ‰©å±•çš„æœ€åæ—¶åˆ»è¿è¡Œ, åœ¨æ‰€æœ‰å…¶ä»–å®éƒ½å·²å¤„ç†ä¹‹å: 1234567891011121314defmodule Test do ... for &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm do # åœ¨ deftraceable æ‰©å±•å, è¿™é‡Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ª # ç”Ÿæˆåœ¨ç›®æ ‡å‡½æ•°çš„ä»£ç , æ­¤ä»£ç ä¼šè¢«æ¨å¯¼å¼æ‰§è¡Œ. # å³åœ¨æ¯ä¸€æ¬¡ for å¾ªç¯ä¸­è¢«è°ƒç”¨ä¸€æ¬¡. # æ­¤æ—¶, æˆ‘ä»¬åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­, # å¹¶ä¸”å¯ä»¥è®¿é—® stateã€actionå’Œ next_state å˜é‡ # æ­£ç¡®ç”Ÿæˆç›¸åº”çš„å‡½æ•°. end ...end åœ¨å®ç°è§£å†³æ–¹æ¡ˆä¹‹å‰, å¿…é¡»æ³¨æ„åˆ°è¿™ä¸æ˜¯ä¸€ä¸ªé€šç”¨çš„æ¨¡å¼, ä½ åº”è¯¥è€ƒè™‘æ˜¯å¦çœŸçš„éœ€è¦è¿™ä¸ªæ–¹æ³•. å¦‚æœä½ çš„å®ä¸æ‰“ç®—ç”¨äºæ¨¡å—çº§åˆ«, é‚£ä¹ˆä½ å¯èƒ½åº”è¯¥é¿å…ä½¿ç”¨è¿™ç§æŠ€æœ¯. å¦åˆ™, å¦‚æœä»å‡½æ•°å®šä¹‰å†…éƒ¨è°ƒç”¨å®, å¹¶ä¸”å°†ä»£ç ç”Ÿæˆæ“ä½œç§»åŠ¨åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­, é‚£ä¹ˆå®é™…ä¸Šå°†ä»£ç æ‰§è¡Œä»ç¼–è¯‘æ—¶ï¼ˆcompile-timeï¼‰ç§»åŠ¨åˆ°äº†è¿è¡Œæ—¶ï¼ˆrun-timeï¼‰, è¿™ä¼šå½±å“åˆ°æ€§èƒ½. æ­¤å¤–, å³ä½¿ä½ çš„å®æ˜¯åœ¨æ¨¡å—çº§åˆ«ä¸Šè¿è¡Œçš„, åªè¦ä½ å¯¹è¾“å…¥ä¸åšä»»ä½•å‡å®š, å°±æ²¡æœ‰å¿…è¦ä½¿ç”¨è¿™é¡¹æŠ€å·§. ä¾‹å¦‚, åœ¨ç¬¬ 2 ç« ä¸­, æˆ‘ä»¬æ¨¡æ‹Ÿäº† Plug çš„ get å®: 1234567defmacro get(route, body) do quote do defp do_match(&quot;GET&quot;, unquote(route), var!(conn)) do unquote(body[:do]) end endend å³ä½¿è¿™ä¸ªå®åœ¨æ¨¡å—çº§ä¸Šå·¥ä½œ, å®ƒå¹¶æ²¡æœ‰å‡è®¾ AST çš„ç»“æ„, åªæ˜¯åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­æ³¨å…¥è¾“å…¥ç‰‡æ®µ, å¹¶æ•£å¸ƒä¸€äº›æ ·æ¿ä»£ç . å½“ç„¶, æˆ‘ä»¬å¸Œæœ› body ä¼šæœ‰ä¸€ä¸ª :do é€‰é¡¹, ä½†æˆ‘ä»¬å¹¶æ²¡æœ‰å¯¹ body[:do] AST çš„å…·ä½“å½¢çŠ¶å’Œç»“æ„ä½œä»»ä½•å‡å®š. æ€»ç»“ä¸€ä¸‹, å¦‚æœä½ çš„å®æ˜¯åœ¨æ¨¡å—çº§åˆ«è°ƒç”¨çš„, è¿™å¯èƒ½æ˜¯é€šç”¨çš„æ¨¡å¼: 123456789defmacro ... # å®ä¸Šä¸‹æ–‡ï¼ˆMacro contextï¼‰: # å¯ä»¥åœ¨è¿™é‡Œåšä»»ä½•å‡†å¤‡å·¥ä½œ, # åªè¦ä¸å¯¹è¾“å…¥çš„ AST ä½œä»»ä½•å‡è®¾ quote do # è°ƒç”¨è€…ä¸Šä¸‹æ–‡ï¼ˆCaller&#x27;s contextï¼‰: # å¦‚æœä½ éœ€è¦åˆ†ææˆ–è½¬æ¢è¾“å…¥çš„ AST, ä½ åº”è¯¥åœ¨è¿™é‡Œè¿›è¡Œ. end ç”±äºè°ƒç”¨è€…ä¸Šä¸‹æ–‡ï¼ˆCallerâ€™s contextï¼‰æ˜¯æ¨¡å—çº§çš„, å› æ­¤è¿™ç§å»¶è¿Ÿè½¬æ¢ä»å°†åœ¨ç¼–è¯‘æ—¶å‘ç”Ÿ, ä¸ä¼šæœ‰è¿è¡Œæ—¶æ€§èƒ½æŸå¤±. è§£å†³æ–¹æ¡ˆé‰´äºè¿™äº›è®¨è®º, è§£å†³æ–¹æ¡ˆç›¸å¯¹ç®€å•, ä½†è§£é‡Šå®ƒç›¸å½“å¤æ‚. æ‰€ä»¥æˆ‘å°†ä»å±•ç¤ºæœ€ç»ˆçš„ç»“æœå¼€å§‹ï¼ˆæ³¨æ„æ³¨é‡Šï¼‰: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182defmodule Tracer do defmacro deftraceable(head, body) do ï¼ƒ è¿™æ˜¯æœ€é‡è¦çš„æ›´æ”¹, è®©æˆ‘ä»¬èƒ½æ­£ç¡®ä¼ é€’ ï¼ƒ è¾“å…¥ AST åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­. æˆ‘ç¨åä¼šè§£é‡Šè¿™æ˜¯å¦‚ä½•å·¥ä½œçš„. quote bind_quoted: [ head: Macro.escape(head, unquote: true), body: Macro.escape(body, unquote: true) ] do # Caller&#x27;s context: æˆ‘ä»¬å°†ä»è¿™é‡Œç”Ÿæˆä»£ç  ï¼ƒ ç”±äºä»£ç ç”Ÿæˆè¢«æ¨è¿Ÿåˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡, ï¼ƒ æˆ‘ä»¬ç°åœ¨å¯ä»¥å¯¹è¾“å…¥ AST åšå‡ºæˆ‘ä»¬çš„å‡è®¾. ï¼ƒ æ­¤ä»£ç å¤§éƒ¨åˆ†ä¸ä»¥å‰çš„ç‰ˆæœ¬ç›¸åŒ ï¼ƒ ï¼ƒ æ³¨æ„, è¿™äº›å˜é‡ç°åœ¨åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­åˆ›å»º &#123;fun_name, args_ast&#125; = Tracer.name_and_args(head) &#123;arg_names, decorated_args&#125; = Tracer.decorate_args(args_ast) # ä¸ä»¥å‰çš„ç‰ˆæœ¬å®Œå…¨ç›¸åŒ. head = Macro.postwalk(head, fn (&#123;fun_ast, context, old_args&#125;) when ( fun_ast == fun_name and old_args == args_ast ) -&gt; &#123;fun_ast, context, decorated_args&#125; (other) -&gt; other end) # æ­¤ä»£ç ä¸ä»¥å‰çš„ç‰ˆæœ¬å®Œå…¨ç›¸åŒ. # Note: ä½†æ˜¯, è¯·æ³¨æ„, ä»£ç åƒå‰é¢ä¸‰ä¸ªè¡¨è¾¾å¼é‚£æ · # åœ¨ç›¸åŒçš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ. # # å› æ­¤, unquote(head) åœ¨è¿™é‡Œå¼•ç”¨äº† head å˜é‡ # åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­è®¡ç®—, è€Œä¸æ˜¯å®ä¸Šä¸‹æ–‡. # è¿™åŒæ ·é€‚ç”¨äºå…¶å®ƒå‘ç”Ÿåœ¨å‡½æ•°ä½“ä¸­çš„ unquote. # # è¿™å°±æ˜¯å»¶è¿Ÿä»£ç ç”Ÿæˆçš„æ„ä¹‰æ‰€åœ¨. æˆ‘ä»¬çš„å®äº§ç”Ÿ # æ­¤ä»£ç , ç„¶åä¾æ¬¡ç”Ÿæˆæœ€ç»ˆä»£ç . def unquote(head) do file = __ENV__.file line = __ENV__.line module = __ENV__.module function_name = unquote(fun_name) passed_args = unquote(arg_names) |&gt; Enum.map(&amp;inspect/1) |&gt; Enum.join(&quot;,&quot;) result = unquote(body[:do]) loc = &quot;#&#123;file&#125;(line #&#123;line&#125;)&quot; call = &quot;#&#123;module&#125;.#&#123;function_name&#125;(#&#123;passed_args&#125;) = #&#123;inspect result&#125;&quot; IO.puts &quot;#&#123;loc&#125; #&#123;call&#125;&quot; result end end end # ä¸å‰ä¸€ä¸ªç‰ˆæœ¬ç›¸åŒ, ä½†å‡½æ•°è¢«å¯¼å‡º, å› ä¸ºå®ƒä»¬ # å¿…é¡»ä»è°ƒç”¨æ–¹çš„ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨. def name_and_args(&#123;:when, _, [short_head | _]&#125;) do name_and_args(short_head) end def name_and_args(short_head) do Macro.decompose_call(short_head) end def decorate_args([]), do: &#123;[],[]&#125; def decorate_args(args_ast) do for &#123;arg_ast, index&#125; &lt;- Enum.with_index(args_ast) do arg_name = Macro.var(:&quot;arg#&#123;index&#125;&quot;, __MODULE__) full_arg = quote do unquote(arg_ast) = unquote(arg_name) end &#123;arg_name, full_arg&#125; end |&gt; Enum.unzip endend è®©æˆ‘ä»¬è¯•è¯•è¿™ä¸ªå®:ã€ 1234567891011121314151617181920212223iex(1)&gt; defmodule Tracer do ... endiex(2)&gt; defmodule Test do import Tracer fsm = [ running: &#123;:pause, :paused&#125;, running: &#123;:stop, :stopped&#125;, paused: &#123;:resume, :running&#125; ] for &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm do deftraceable unquote(action)(unquote(state)), do: unquote(next_state) end deftraceable initial, do: :running endiex(3)&gt; Test.initial |&gt; Test.pause |&gt; Test.resume |&gt; Test.stopiex(line 15) Elixir.Test.initial() = :runningiex(line 13) Elixir.Test.pause(:running) = :pausediex(line 13) Elixir.Test.resume(:paused) = :runningiex(line 13) Elixir.Test.stop(:running) = :stopped æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„é‚£æ ·, ä¿®æ”¹å¹¶ä¸å¤æ‚. æˆ‘ä»¬è®¾æ³•ä¿æŒæˆ‘ä»¬çš„å¤§éƒ¨åˆ†ä»£ç å®Œæ•´, è™½ç„¶æˆ‘ä»¬ä¸å¾—ä¸ç”¨ä¸€äº›æŠ€å·§ï¼šbind_quotedï¼štrue å’Œ Macro.escape: 123456quote bind_quoted: [ head: Macro.escape(head, unquote: true), body: Macro.escape(body, unquote: true)] do ...end è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆæ„æ€. bind_quotedè®°ä½, æˆ‘ä»¬çš„å®ç”Ÿæˆä¸€ä¸ªä»£ç , å®ƒå°†ç”Ÿæˆæœ€ç»ˆçš„ä»£ç . åœ¨ç¬¬ä¸€çº§ç”Ÿæˆçš„ä»£ç ï¼ˆç”±æˆ‘ä»¬çš„å®è¿”å›çš„ä»£ç ï¼‰çš„æŸå¤„, æˆ‘ä»¬éœ€è¦æ”¾ç½®ä»¥ä¸‹è¡¨è¾¾å¼ï¼š 1def unquote(head) do ... end è¿™ä¸ªè¡¨è¾¾å¼å°†åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ï¼ˆå®¢æˆ·ç«¯æ¨¡å—ï¼‰ä¸­è¢«è°ƒç”¨, å®ƒçš„ä»»åŠ¡æ˜¯ç”Ÿæˆå‡½æ•°. å¦‚åœ¨æ³¨é‡Šä¸­æåˆ°çš„, é‡è¦çš„æ˜¯è¦ç†è§£ unquote(head) åœ¨è¿™é‡Œå¼•ç”¨çš„æ˜¯å­˜åœ¨äºè°ƒç”¨è€…ä¸Šä¸‹æ–‡ä¸­çš„ head å˜é‡. æˆ‘ä»¬ä¸æ˜¯ä»å®ä¸Šä¸‹æ–‡æ³¨å…¥ä¸€ä¸ªå˜é‡, è€Œæ˜¯ä¸€ä¸ªå­˜åœ¨äºè°ƒç”¨è€…ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡. ä½†æ˜¯, æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ç®€å•çš„ quote ç”Ÿæˆè¿™æ ·çš„è¡¨è¾¾å¼ï¼š 123quote do def unquote(head) do ... endend è®°ä½ unquote å¦‚ä½•å·¥ä½œ. å®ƒå¾€ unquote è°ƒç”¨é‡Œçš„ head å˜é‡ä¸­æ³¨å…¥äº† AST. è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„. æˆ‘ä»¬æƒ³è¦çš„æ˜¯ç”Ÿæˆè¡¨ç¤ºå¯¹ unquote çš„è°ƒç”¨çš„ AST, ç„¶ååœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ, å¹¶å¼•ç”¨è°ƒç”¨è€…çš„ head å˜é‡. è¿™å¯ä»¥é€šè¿‡æä¾› unquoteï¼šfalse é€‰é¡¹æ¥å®ç°ï¼š 123quote unquote: false do def unquote(head) do ... endend è¿™é‡Œ, æˆ‘ä»¬å°†ç”Ÿæˆä»£è¡¨ unquote è°ƒç”¨çš„ä»£ç . å¦‚æœè¿™ä¸ªä»£ç è¢«æ³¨å…¥åˆ°æ­£ç¡®çš„åœ°æ–¹, ä¸”å…¶ä¸­å˜é‡ head å­˜åœ¨, æˆ‘ä»¬å°†æœ€ç»ˆè°ƒç”¨ def å®, ä¼ é€’ head å˜é‡ä¸­çš„ä»»ä½•å€¼. æ‰€ä»¥ä¼¼ä¹ä½¿ç”¨ unquote: false å¯ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ, ä½†æœ‰ä¸€ä¸ªç¼ºç‚¹, æˆ‘ä»¬ä¸èƒ½ä»å®ä¸Šä¸‹æ–‡è®¿é—®ä»»ä½•å˜é‡ï¼š 1234foo = :barquote unquote: false do unquote(foo) # &lt;- ç”±äº unquote: false, å·¥ä½œä¸æ­£å¸¸end ä½¿ç”¨ unquote: false æœ‰æ•ˆåœ°é˜»æ­¢ç«‹å³æ³¨å…¥ AST, å¹¶å°† unquote å½“ä½œä»»æ„å…¶å®ƒå‡½æ•°è°ƒç”¨. å› æ­¤, æˆ‘ä»¬ä¸èƒ½å°†æŸäº›ä¸œè¥¿æ³¨å…¥åˆ°ç›®æ ‡ AST. è¿™é‡Œ bind_quoted æ´¾ä¸Šäº†ç”¨åœº. é€šè¿‡æä¾› bind_quoted: bindings, æˆ‘ä»¬å¯ä»¥ç¦ç”¨ç«‹å³ unquoting, åŒæ—¶ä»ç„¶ç»‘å®šæˆ‘ä»¬æƒ³è¦ä¼ é€’åˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡çš„ä»»ä½•æ•°æ®ï¼š 123456789quote bind_quoted: [ foo: ..., bar: ...] do unquote(whatever) # &lt;- ç±»ä¼¼äº unquote: false çš„ä½œç”¨ foo # &lt;- ç”±äº bind_quoted è€Œå¯è®¿é—® bar # &lt;- ç”±äº bind_quoted è€Œå¯è®¿é—®end ä»£ç æ³¨å…¥ vs æ•°æ®ä¼ è¾“æˆ‘ä»¬è¦é¢ä¸´çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯: ä»å®ä¼ é€’åˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡çš„å†…å®¹åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯æ³¨å…¥çš„, è€Œä¸æ˜¯ä¼ è¾“çš„. å› æ­¤, å½“ä½ ä½¿ç”¨ unquote(som_ast) æ—¶, ä½ æ­£åœ¨å°†ä¸€ä¸ª AST ç‰‡æ®µæ³¨å…¥åˆ°ç”¨ quote expression æ„å»ºçš„å¦ä¸€ä¸ª AST ç‰‡æ®µä¸­. æœ‰æ—¶å€™, æˆ‘ä»¬å¸Œæœ›ä¼ è¾“æ•°æ®, è€Œä¸æ˜¯æ³¨å…¥æ•°æ®. æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­. å‡è®¾æˆ‘ä»¬æœ‰ä¸€äº›ä¸‰å…ƒç»„, æˆ‘ä»¬æƒ³è¦ä¼ è¾“åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­: 12iex(1)&gt; data = &#123;1, 2, 3&#125;&#123;1, 2, 3&#125; ç°åœ¨, è®©æˆ‘ä»¬å°è¯•ä½¿ç”¨å…¸å‹çš„ unquote è¿›è¡Œä¼ è¾“ï¼š 12iex(2)&gt; ast = quote do IO.inspect(unquote(data)) end&#123;&#123;:., [], [&#123;:__aliases__, [alias: false], [:IO]&#125;, :inspect]&#125;, [], [&#123;1, 2, 3&#125;]&#125; è¿™ä¼¼ä¹æ˜¯æœ‰æ•ˆçš„. è®©æˆ‘ä»¬ç”¨ eval_quoted çœ‹ä¸‹ç»“æœ: 12iex(3)&gt; Code.eval_quoted(ast)** (CompileError) nofile: invalid quoted expression: &#123;1, 2, 3&#125; é‚£ä¹ˆè¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆ? é—®é¢˜æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰çœŸæ­£ä¼ è¾“ &#123;1,2,3&#125; ä¸‰å…ƒç»„. æˆ‘ä»¬å°†å…¶æ³¨å…¥åˆ°ç›®æ ‡ AST ä¸­, æ³¨å…¥æ„å‘³ç€ &#123;1,2,3&#125; æœ¬èº«è¢«è§†ä¸ºä¸€ä¸ª AST ç‰‡æ®µ, è¿™æ˜¾ç„¶æ˜¯é”™è¯¯çš„. åœ¨è¿™ç§æƒ…å†µä¸‹, æˆ‘ä»¬çœŸæ­£æƒ³è¦çš„æ˜¯æ•°æ®ä¼ è¾“. åœ¨ä»£ç ç”Ÿæˆä¸Šä¸‹æ–‡ä¸­, æˆ‘ä»¬æœ‰ä¸€äº›æ•°æ®è¦ä¼ è¾“åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­. è¿™å°±æ˜¯Macro.escape ä½œç”¨æ‰€å¤„. é€šè¿‡è½¬ä¹‰ä¸€ä¸ª term, æˆ‘ä»¬å¯ä»¥ç¡®ä¿å®ƒæ˜¯è¢«ä¼ è¾“çš„, è€Œä¸æ˜¯è¢«æ³¨å…¥çš„. å½“æˆ‘ä»¬è°ƒç”¨ unquote(Macro.escape(term)) æ—¶, æˆ‘ä»¬å°†æ³¨å…¥ä¸€ä¸ª AST, ä»¥ term æè¿°æ•°æ®. è®©æˆ‘ä»¬è¯•è¯•: 123456iex(3)&gt; ast = quote do IO.inspect(unquote(Macro.escape(data))) end&#123;&#123;:., [], [&#123;:__aliases__, [alias: false], [:IO]&#125;, :inspect]&#125;, [], [&#123;:&#123;&#125;, [], [1, 2, 3]&#125;]&#125;iex(4)&gt; Code.eval_quoted(ast)&#123;1, 2, 3&#125; å¦‚ä½ æ‰€è§, æˆ‘ä»¬æˆåŠŸä¼ é€äº†æœªå—å½±å“çš„æ•°æ®. å†çœ‹æˆ‘ä»¬çš„å»¶è¿Ÿä»£ç ç”Ÿæˆ, è¿™æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„. ä¸æ³¨å…¥ç›®æ ‡ AST ä¸åŒ, æˆ‘ä»¬æƒ³è¦ä¼ è¾“è¾“å…¥ AST, å®Œå…¨ä¿ç•™å®ƒçš„å½¢çŠ¶: 1234567defmacro deftraceable(head, body) do # è¿™é‡Œæˆ‘ä»¬æœ‰ head å’Œ body çš„ AST quote do # æˆ‘ä»¬åœ¨è¿™é‡Œéœ€è¦ç›¸åŒçš„ headå’Œ body çš„AST, ä»¥ä¾¿ç”Ÿæˆ # æœ€ç»ˆä»£ç . endend é€šè¿‡ä½¿ç”¨ Macro.escape/1, æˆ‘ä»¬å¯ä»¥ç¡®ä¿è¾“å…¥ AST è¢«åŸåŸæœ¬æœ¬åœ°ä¼ è¾“å›è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡, åœ¨é‚£é‡Œæˆ‘ä»¬å°†ç”Ÿæˆæœ€ç»ˆçš„ä»£ç . æ­£å¦‚å‰ä¸€èŠ‚æ‰€è®¨è®ºçš„, æˆ‘ä»¬ä½¿ç”¨äº† bind_quoted, ä½†åŸç†ç›¸åŒ: 1234567quote bind_quoted: [ head: Macro.escape(head, unquote: true), body: Macro.escape(body, unquote: true)] do # è¿™é‡Œæˆ‘ä»¬æœ‰äº†ä»å®ä¸Šä¸‹æ–‡ä¸­å¾—åˆ°çš„ # head å’Œ body çš„ç²¾ç¡®å‰¯æœ¬.end Escaping å’Œ unquote: trueæ³¨æ„æˆ‘ä»¬ä¼ é€’ç»™äº† Macro.escape ä¸€ä¸ªæ¬ºéª—æ€§çš„ unquote: true é€‰é¡¹. è¿™æ˜¯æœ€éš¾è§£é‡Šçš„. ä¸ºäº†èƒ½å¤Ÿç†è§£å®ƒ, ä½ å¿…é¡»æ¸…æ¥š AST æ˜¯å¦‚ä½•ä¼ é€’ç»™å®å¹¶è¿”å›åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­çš„. é¦–å…ˆ, è®°ä½æˆ‘ä»¬å¦‚ä½•è°ƒç”¨æˆ‘ä»¬çš„å®ï¼š 1deftraceable unquote(action)(unquote(state)) do ... end ç°åœ¨, ç”±äºå®å®é™…ä¸Šæ¥æ”¶åˆ°çš„æ˜¯ quoted çš„å‚æ•°, head å‚æ•°å°†ç­‰åŒäºä»¥ä¸‹å†…å®¹ï¼š 1234# è¿™æ˜¯å®ä¸Šä¸‹æ–‡ä¸­çš„ head å‚æ•°å®é™…åŒ…å«çš„å†…å®¹quote unquote: false do unquote(action)(unquote(state))end è¯·è®°ä½, Macro.escape ä¼šä¿å­˜æ•°æ®, å› æ­¤å½“ä½ åœ¨å…¶ä»– AST ä¸­ä¼ è¾“å˜é‡æ—¶, å…¶å†…å®¹å°†ä¿æŒä¸å˜. è€ƒè™‘ä¸‹ä¸Šé¢çš„ head å½¢çŠ¶, è¿™æ˜¯æˆ‘ä»¬åœ¨å®å±•å¼€åæœ€ç»ˆä¼šå‡ºç°çš„æƒ…å†µ: 123456789101112131415# è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡for &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm do # è¿™é‡Œæ˜¯æˆ‘ä»¬ç”Ÿæˆå‡½æ•°çš„ä»£ç . ç”±äº bind_quoted, è¿™é‡Œ # æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ head å’Œ body å˜é‡. # å˜é‡ head ç­‰æ•ˆäº # quote unquote: false do # unquote(action)(unquote(state)) # end # æˆ‘ä»¬çœŸæ­£éœ€è¦çš„æ˜¯: # quote do # unquote(action)(unquote(state)) # endend ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ quoted head çš„ç¬¬äºŒç§å½¢å¼? å› ä¸ºè¿™ä¸ª AST ç°åœ¨æ˜¯åœ¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­å½¢æˆçš„, åœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­æˆ‘ä»¬æœ‰å¯ç”¨çš„ action å’Œ state å˜é‡. ç¬¬äºŒä¸ªè¡¨è¾¾å¼ä¼šç”¨åˆ°è¿™äº›å˜é‡çš„å†…å®¹. è¿™å°±æ˜¯æ‰€è°“çš„ unquoted: true çš„ä½œç”¨. å½“æˆ‘ä»¬è°ƒç”¨ Macro.escape(input_ast, unquote: true) æ—¶, æˆ‘ä»¬ä»ç„¶(å¤§éƒ¨åˆ†)ä¿ç•™ä¼ è¾“æ•°æ®çš„å½¢çŠ¶, ä½†è¾“å…¥ AST ä¸­çš„ unquote ç‰‡æ®µ(ä¾‹å¦‚, unquote(action) )å°†åœ¨è°ƒç”¨æ–¹çš„ä¸Šä¸‹æ–‡ä¸­è§£æ. æ€»çš„æ¥è¯´, è¾“å…¥ AST åˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡çš„æ­£ç¡®ä¼ è¾“æ–¹å¼å¦‚ä¸‹æ‰€ç¤º: 123456789defmacro deftraceable(head, body) do quote bind_quoted: [ head: Macro.escape(head, unquote: true), body: Macro.escape(body, unquote: true) ] do # Generate the code here end ...end è¿™å¹¶ä¸ç®—éš¾, ä½†éœ€è¦ä¸€äº›æ—¶é—´æ¥ç†è§£è¿™é‡Œåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ. è¯•ç€ç¡®ä¿ä½ ä¸æ˜¯ç›²ç›®åœ°åš escapesï¼ˆå’Œ&#x2F;æˆ– unquote: trueï¼‰, è€Œä¸ç†è§£è¿™æ˜¯ä½ çœŸæ­£æƒ³è¦çš„. æ¯•ç«Ÿ, è¿™ä¸æ˜¯é»˜è®¤çš„è¡Œä¸ºæ˜¯æœ‰åŸå› çš„. åœ¨ç¼–å†™å®æ—¶, è¦è€ƒè™‘ä½ æ˜¯å¦è¦æ³¨å…¥ä¸€äº› AST, æˆ–è€…ä¸åŠ æ›´æ”¹åœ°ä¼ è¾“æ•°æ®. åœ¨åä¸€ç§æƒ…å†µ, ä½ éœ€è¦ä½¿ç”¨ Macro.escape. å¦‚æœä¼ è¾“çš„æ•°æ®æ˜¯ä¸€ä¸ª AST ä¸”å¯èƒ½åŒ…å« unquote ç‰‡æ®µ, é‚£ä¹ˆæ‚¨å¯èƒ½éœ€è¦ä»¥ unquote: true çš„æ–¹å¼ä½¿ç”¨ Macro.escape . å›é¡¾å…³äº Elixir å®çš„ç³»åˆ—æ–‡ç« åˆ°æ­¤ç»“æŸäº†. æˆ‘å¸Œæœ›ä½ è§‰å¾—è¿™äº›æ–‡ç« æœ‰è¶£ä¸”æœ‰å­¦ä¹ æ„ä¹‰, å¹¶ä¸”å¯¹å®çš„å·¥ä½œæœºåˆ¶æœ‰äº†æ›´å¤šçš„äº†è§£å’Œä½¿ç”¨ä¿¡å¿ƒ. ä¸€å®šè¦è®°ä½ â€” åœ¨å±•å¼€é˜¶æ®µ, å®ç›¸å½“äº AST ç‰‡æ®µçš„æ™®é€šç»„åˆ. å¦‚æœä½ ç†è§£è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡å’Œå®è¾“å…¥, é‚£ä¹ˆç›´æ¥æ‰§è¡Œè½¬æ¢æˆ–åœ¨å¿…è¦æ—¶é€šè¿‡å»¶è¿Ÿæ‰§è¡Œè½¬æ¢å¹¶ä¸ç®—éš¾. æœ¬ç³»åˆ—ç»ä¸å¯èƒ½æ¶µç›–æ–¹æ–¹é¢é¢å’Œæ‰€æœ‰çš„ç»†èŠ‚. å¦‚æœä½ æƒ³äº†è§£æ›´å¤š, quote&#x2F;2 special form çš„æ–‡æ¡£æ˜¯ä¸€ä¸ªä¸é”™çš„åœ°æ–¹. æ‚¨è¿˜å¯ä»¥åœ¨ Macro å’Œ Code æ¨¡å—ä¸­æ‰¾åˆ°ä¸€äº›æœ‰ç”¨çš„å¸®åŠ©ç¨‹åº. Happy meta-programming! åŸæ–‡: https://www.theerlangelist.com/article/macros_6","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir-Macros","slug":"Elixir-Macros","permalink":"https://yeshan333.github.io/tags/Elixir-Macros/"}]},{"title":"(è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST","slug":"understanding-elixir-macros-part-5-reshaping-the-ast","date":"2022-06-19T16:56:29.000Z","updated":"2022-06-19T16:56:29.000Z","comments":true,"path":"2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/","permalink":"https://yeshan333.github.io/2022/06/19/understanding-elixir-macros-part-5-reshaping-the-ast/","excerpt":"","text":"Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡ [1] (è¯‘) Understanding Elixir Macros, Part 1 Basics [2] (è¯‘) Understanding Elixir Macros, Part 2 - Macro Theory [3] (è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST [4] (è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper [5] (è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST [6] (è¯‘) Understanding Elixir Macros, Part 6 - In-place Code GenerationåŸæ–‡ GitHub ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡. ä¸Šæ¬¡æˆ‘ä»‹ç»äº†ä¸€ä¸ªåŸºæœ¬ç‰ˆæœ¬çš„å¯è¿½æº¯å® deftraceable, å®ƒå…è®¸æˆ‘ä»¬ç¼–å†™å¯è·Ÿè¸ªçš„å‡½æ•°. è¿™ä¸ªå®çš„æœ€ç»ˆç‰ˆæœ¬è¿˜æœ‰ä¸€äº›é—ç•™çš„é—®é¢˜, ä»Šå¤©æˆ‘ä»¬å°†è§£å†³å…¶ä¸­ä¸€ä¸ª â€” å‚æ•°æ¨¡å¼åŒ¹é…. ä»ä»Šå¤©çš„ç»ƒä¹ åº”è¯¥è®¤è¯†åˆ°, æˆ‘ä»¬å¿…é¡»ä»”ç»†è€ƒè™‘å…³äºå®å¯èƒ½æ¥æ”¶åˆ°çš„è¾“å…¥çš„æ‰€æœ‰å‡è®¾æƒ…å†µ. é—®é¢˜æ‰€åœ¨æ­£å¦‚æˆ‘ä¸Šæ¬¡æ‰€æš—ç¤ºçš„é‚£æ ·, å½“å‰ç‰ˆæœ¬çš„ deftraceable ä¸èƒ½ä½¿ç”¨æ¨¡å¼åŒ¹é…çš„å‚æ•°. è®©æˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹è¿™ä¸ªé—®é¢˜: 12345678iex(1)&gt; defmodule Tracer do ... endiex(2)&gt; defmodule Test do import Tracer deftraceable div(_, 0), do: :error end** (CompileError) iex:5: unbound variable _ å‘ç”Ÿäº†ä»€ä¹ˆ? deftraceable å®ç›²ç›®åœ°å‡è®¾è¾“å…¥å‚æ•°æ˜¯æ™®é€šå˜é‡æˆ–å¸¸é‡. å› æ­¤, å½“ä½ è°ƒç”¨ deftracable div(a, b) æ—¶, deftracable div(a, b), do: ... ç”Ÿæˆçš„ä»£ç å°†åŒ…å«: 1passed_args = [a, b] |&gt; Enum.map(&amp;inspect/1) |&gt; Enum.join(&quot;,&quot;) ä¸Šé¢è¿™æ®µä¼šæŒ‰é¢„æœŸå·¥ä½œ, ä½†å¦‚æœä¸€ä¸ªå‚æ•°æ˜¯åŒ¿åå˜é‡ï¼ˆ_ï¼‰, é‚£ä¹ˆæˆ‘ä»¬å°†ç”Ÿæˆä»¥ä¸‹ä»£ç : 1passed_args = [_, 0] |&gt; Enum.map(&amp;inspect/1) |&gt; Enum.join(&quot;,&quot;) è¿™æ˜¾ç„¶æ˜¯ä¸æ­£ç¡®çš„, å› æ­¤æˆ‘ä»¬å¾—åˆ°äº†æœªç»‘å®šå˜é‡é”™è¯¯. é‚£ä¹ˆè§£å†³æ–¹æ¡ˆæ˜¯ä»€ä¹ˆå‘¢? æˆ‘ä»¬ä¸åº”è¯¥å¯¹è¾“å…¥å‚æ•°åšä»»ä½•å‡è®¾. ç›¸å, æˆ‘ä»¬åº”è¯¥å°†æ¯ä¸ªå‚æ•°æ”¾å…¥å®ç”Ÿæˆçš„ä¸“ç”¨å˜é‡ä¸­. æˆ–è€…ç”¨ä»£ç æ¥è¡¨è¾¾, å¦‚æœå®è¢«è°ƒç”¨: 1deftraceable fun(pattern1, pattern2, ...) æˆ‘ä»¬ä¼šç”Ÿæˆè¿™æ ·çš„å‡½æ•°å¤´: 1def fun(pattern1 = arg1, pattern2 = arg2, ...) è¿™å°†å…è®¸æˆ‘ä»¬å°†å‚æ•°å€¼ä»£å…¥å†…éƒ¨ä¸´æ—¶å˜é‡, å¹¶æ‰“å°è¿™äº›å˜é‡çš„å†…å®¹. è§£å†³æ–¹æ¡ˆè®©æˆ‘ä»¬æ¥å®ç°å®ƒ. é¦–å…ˆ, æˆ‘å°†å‘ä½ å±•ç¤ºè§£å†³æ–¹æ¡ˆçš„é¡¶å±‚ç¤ºæ„ç‰ˆ: 1234567891011121314151617181920defmacro deftraceable(head, body) do &#123;fun_name, args_ast&#125; = name_and_args(head) # é€šè¿‡ç»™æ¯ä¸ªå‚æ•°æ·»åŠ  &quot;= argX&quot;æ¥è£…é¥°è¾“å…¥å‚æ•°. # è¿”å›å‚æ•°åç§°åˆ—è¡¨ (arg1, arg2, ...) &#123;arg_names, decorated_args&#125; = decorate_args(args_ast) head = ?? # Replace original args with decorated ones quote do def unquote(head) do ... # ä¸å˜ # ä½¿ç”¨ä¸´æ—¶å˜é‡æ„é€ è¿½è¸ªä¿¡æ¯ passed_args = unquote(arg_names) |&gt; Enum.map(&amp;inspect/1) |&gt; Enum.join(&quot;,&quot;) ... # ä¸å˜ end endend é¦–å…ˆ, æˆ‘ä»¬ä»å‡½æ•°å¤´ï¼ˆheadï¼‰æå–å‡½æ•°åç§°å’Œ args ï¼ˆæˆ‘ä»¬åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼‰. ç„¶å, æˆ‘ä»¬å¿…é¡»å°† = argX æ³¨å…¥åˆ° args_ast ä¸­, å¹¶æ”¶å›ä¿®æ”¹åçš„å‚æ•°ï¼ˆæˆ‘ä»¬å°†å°†å…¶æ”¾å…¥ decorated_argsä¸­ï¼‰. æˆ‘ä»¬è¿˜éœ€è¦ç”Ÿæˆçš„å˜é‡çš„çº¯åç§°ï¼ˆæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´æ˜¯å®ƒä»¬çš„ ASTï¼‰, å› ä¸ºæˆ‘ä»¬å°†ä½¿ç”¨è¿™äº›åç§°æ¥æ”¶é›†å‚æ•°å€¼. å˜é‡ arg_names å®é™…ä¸ŠåŒ…å« quote do [arg_1, arg_2, ....] end, å¯ä»¥å¾ˆå®¹æ˜“åœ°æ³¨å…¥åˆ° AST æ ‘ä¸­. æˆ‘ä»¬æ¥å®ç°å‰©ä¸‹çš„éƒ¨åˆ†. é¦–å…ˆ, è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä¿®é¥°å‚æ•°: 1234567891011121314defp decorate_args(args_ast) do for &#123;arg_ast, index&#125; &lt;- Enum.with_index(args_ast) do # åŠ¨æ€ç”Ÿæˆ quoted æ ‡è¯†ç¬¦ arg_name = Macro.var(:&quot;arg#&#123;index&#125;&quot;, __MODULE__) # ä¸º patternX = argX ç”Ÿæˆ AST full_arg = quote do unquote(arg_ast) = unquote(arg_name) end &#123;arg_name, full_arg&#125; end |&gt; Enum.unzipend å¤§å¤šæ•°æ“ä½œå‘ç”Ÿåœ¨ for è¯­å¥ä¸­. æœ¬è´¨ä¸Š, æˆ‘ä»¬å¤„ç†äº†æ¯ä¸ªå˜é‡è¾“å…¥çš„ AST ç‰‡æ®µ, ç„¶åä½¿ç”¨ Macro.var/2 å‡½æ•°è®¡ç®—ä¸´æ—¶åç§°ï¼ˆquoted çš„ argXï¼‰, å®ƒèƒ½å°†ä¸€ä¸ªåŸå­å˜æ¢æˆä¸€ä¸ªåç§°ä¸å…¶ç›¸åŒçš„ quoted çš„å˜é‡. Macro.var/2 çš„ç¬¬äºŒä¸ªå‚æ•°ç¡®ä¿å˜é‡æ˜¯hygienic çš„. å°½ç®¡æˆ‘ä»¬å°† arg1, arg2, ... å˜é‡æ³¨å…¥åˆ°è°ƒç”¨è€…ä¸Šä¸‹æ–‡ä¸­, ä½†è°ƒç”¨è€…ä¸ä¼šçœ‹åˆ°è¿™äº›å˜é‡. äº‹å®ä¸Š, deftraceable çš„ç”¨æˆ·å¯ä»¥è‡ªç”±åœ°ä½¿ç”¨è¿™äº›åç§°ä½œä¸ºä¸€äº›å±€éƒ¨å˜é‡, ä¸ä¼šå¹²æ‰°æˆ‘ä»¬çš„å®å¼•å…¥çš„ä¸´æ—¶å˜é‡. æœ€å, åœ¨æ¨å¯¼å¼çš„æœ«å°¾, æˆ‘ä»¬è¿”å›ä¸€ä¸ªå…ƒç»„, è¯¥å…ƒç»„ç”±ä¸´æ—¶çš„åç§°å’Œ quoted çš„å®Œæ•´æ¨¡å¼ç»„æˆ - (ä¾‹å¦‚ _ = arg1, æˆ– 0 = arg2). ä½¿ç”¨ unzip å’Œ to_tuple è¿›è¡Œæ¨å¯¼ä¹‹åç¡®ä¿ decorate_argsä»¥ &#123;arg_names, decorated_args&#125; çš„å½¢å¼è¿”å›ç»“æœ. decorate_args è¾…åŠ©å˜é‡å°±ç»ªå, æˆ‘ä»¬å°±å¯ä»¥ä¼ é€’è¾“å…¥å‚æ•°, å¹¶è·å¾—ä¿®é¥°å‚æ•°, ä»¥åŠä¸´æ—¶å˜é‡çš„åç§°. ç°åœ¨æˆ‘ä»¬éœ€è¦å°†è¿™äº›ä¿®é¥°è¿‡çš„å‚æ•°æ³¨å…¥åˆ°å‡½æ•°çš„å¤´éƒ¨, ä»¥å–ä»£åŸå§‹å‚æ•°. è¦æ³¨æ„, æˆ‘ä»¬éœ€è¦åšåˆ°ä»¥ä¸‹å‡ ç‚¹: é€’å½’éå†è¾“å…¥å‡½æ•°å¤´çš„ AST æ‰¾åˆ°æŒ‡å®šå‡½æ•°åå’Œå‚æ•°çš„ä½ç½® ç”¨ä¿®é¥°è¿‡çš„å‚æ•°çš„ AST æ›¿æ¢åŸå§‹ï¼ˆè¾“å…¥ï¼‰å‚æ•° å¦‚æœæˆ‘ä»¬ä½¿ç”¨å®, Macro.postwalk/2 è¿™ä¸ªå¤„ç†å¯ä»¥è¢«åˆç†åœ°ç®€åŒ–æ‰: 1234567891011121314151617181920212223242526defmacro deftraceable(head, body) do &#123;fun_name, args_ast&#125; = name_and_args(head) &#123;arg_names, decorated_args&#125; = decorate_args(args_ast) # 1. é€’å½’åœ°éå† AST head = Macro.postwalk( head, # lambda å‡½æ•°å¤„ç†è¾“å…¥ AST ä¸­çš„å…ƒç´ , è¿”å›ä¿®æ”¹è¿‡çš„ AST fn # 2. æ¨¡å¼åŒ¹é…å‡½æ•°åå’Œå‚æ•°æ‰€åœ¨çš„ä½ç½® (&#123;fun_ast, context, old_args&#125;) when ( fun_ast == fun_name and old_args == args_ast ) -&gt; # 3. å°†è¾“å…¥å‚æ•°æ›¿æ¢ä¸ºä¿®é¥°å‚æ•°çš„ AST &#123;fun_ast, context, decorated_args&#125; # å¤´éƒ¨ AST ä¸­çš„å…¶å®ƒå…ƒç´ ï¼ˆå¯èƒ½æ˜¯ guardsï¼‰ # -&gt; æˆ‘ä»¬è®©å®ƒä¿ç•™ä¸å˜ (other) -&gt; other end ) ... # ä¸å˜end Macro.postwalk/2 é€’å½’åœ°éå† AST, å¹¶ä¸”åœ¨æ‰€æœ‰èŠ‚ç‚¹çš„åä»£è¢«è®¿é—®ä¹‹å, ä¸ºæ¯ä¸ªèŠ‚ç‚¹è°ƒç”¨æä¾›çš„ lambda å‡½æ•°. lambda å‡½æ•°æ¥æ”¶å…ƒç´ çš„ AST, è¿™æ ·æˆ‘ä»¬æœ‰æœºä¼šè¿”å›ä¸€äº›é™¤äº†æŒ‡å®šèŠ‚ç‚¹ä¹‹å¤–çš„ä¸œè¥¿. æˆ‘ä»¬åœ¨è¿™ä¸ª lambda é‡Œåšçš„å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¨¡å¼åŒ¹é…, æˆ‘ä»¬åœ¨å¯»æ‰¾ &#123;fun_name, context, args&#125;. å¦‚ç¬¬ä¸‰ç¯‡æ–‡ç« ä¸­æ‰€è¿°é‚£æ ·, è¿™æ˜¯è¡¨è¾¾å¼ some_fun(arg1, arg2, ...) çš„ quoted è¡¨ç°å½¢å¼. ä¸€æ—¦æˆ‘ä»¬é‡åˆ°åŒ¹é…æ­¤æ¨¡å¼çš„èŠ‚ç‚¹, æˆ‘ä»¬åªéœ€è¦ç”¨æ–°çš„ï¼ˆä¿®é¥°è¿‡çš„ï¼‰è¾“å…¥å‚æ•°æ›¿æ¢æ‰æ—§çš„. åœ¨æ‰€æœ‰å…¶å®ƒæƒ…å†µä¸‹, æˆ‘ä»¬ç®€å•åœ°è¿”å›è¾“å…¥çš„ AST, ä½¿å¾—æ ‘çš„å…¶ä½™éƒ¨åˆ†ä¸å˜. è¿™çœ‹ç€æœ‰ç‚¹å¤æ‚äº†, ä½†å®ƒè§£å†³äº†æˆ‘ä»¬çš„é—®é¢˜. ä»¥ä¸‹æ˜¯ deftraceable å®çš„æœ€ç»ˆç‰ˆæœ¬: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859defmodule Tracer do defmacro deftraceable(head, body) do &#123;fun_name, args_ast&#125; = name_and_args(head) &#123;arg_names, decorated_args&#125; = decorate_args(args_ast) head = Macro.postwalk(head, fn (&#123;fun_ast, context, old_args&#125;) when ( fun_ast == fun_name and old_args == args_ast ) -&gt; &#123;fun_ast, context, decorated_args&#125; (other) -&gt; other end) quote do def unquote(head) do file = __ENV__.file line = __ENV__.line module = __ENV__.module function_name = unquote(fun_name) passed_args = unquote(arg_names) |&gt; Enum.map(&amp;inspect/1) |&gt; Enum.join(&quot;,&quot;) result = unquote(body[:do]) loc = &quot;#&#123;file&#125;(line #&#123;line&#125;)&quot; call = &quot;#&#123;module&#125;.#&#123;function_name&#125;(#&#123;passed_args&#125;) = #&#123;inspect result&#125;&quot; IO.puts &quot;#&#123;loc&#125; #&#123;call&#125;&quot; result end end end defp name_and_args(&#123;:when, _, [short_head | _]&#125;) do name_and_args(short_head) end defp name_and_args(short_head) do Macro.decompose_call(short_head) end defp decorate_args([]), do: &#123;[],[]&#125; defp decorate_args(args_ast) do for &#123;arg_ast, index&#125; &lt;- Enum.with_index(args_ast) do # åŠ¨æ€ç”Ÿæˆ quoted æ ‡è¯†ç¬¦ï¼ˆidentifierï¼‰ arg_name = Macro.var(:&quot;arg#&#123;index&#125;&quot;, __MODULE__) # ä¸º patternX = argX æ„å»º AST full_arg = quote do unquote(arg_ast) = unquote(arg_name) end &#123;arg_name, full_arg&#125; end |&gt; Enum.unzip endend è®©æˆ‘ä»¬æ¥è¯•è¯•: 1234567891011121314iex(1)&gt; defmodule Tracer do ... endiex(2)&gt; defmodule Test do import Tracer deftraceable div(_, 0), do: :error deftraceable div(a, b), do: a/b endiex(3)&gt; Test.div(5, 2)iex(line 6) Elixir.Test.div(5,2) = 2.5iex(4)&gt; Test.div(5, 0)iex(line 5) Elixir.Test.div(5,0) = :error æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„é‚£æ ·, å¯ä»¥è¿›å…¥ AST, åˆ†è§£å®ƒ, å¹¶åœ¨å…¶ä¸­æ•£å¸ƒä¸€äº›è‡ªå®šä¹‰çš„æ³¨å…¥ä»£ç , è¿™å¹¶ä¸ç®—å¾ˆå¤æ‚. ç¼ºç‚¹æ˜¯, ç¼–å†™çš„å®çš„ä»£ç ä¼šå˜å¾—è¶Šæ¥è¶Šå¤æ‚, å¹¶ä¸”æ›´éš¾åˆ†æ. ä»Šå¤©çš„è¯é¢˜åˆ°æ­¤ç»“æŸ. ä¸‹ä¸€æ¬¡, æˆ‘å°†è®¨è®ºåŸåœ°ä»£ç ç”ŸæˆæŠ€æœ¯ ã€Š(è¯‘) Understanding Elixir Macros, Part 6 - In-place Code Generationã€‹. åŸæ–‡: https://www.theerlangelist.com/article/macros_5","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir-Macros","slug":"Elixir-Macros","permalink":"https://yeshan333.github.io/tags/Elixir-Macros/"}]},{"title":"(è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper","slug":"understanding-elixir-macros-part-4-diving-deeper","date":"2022-06-19T12:02:19.000Z","updated":"2022-06-19T12:02:19.000Z","comments":true,"path":"2022/06/19/understanding-elixir-macros-part-4-diving-deeper/","permalink":"https://yeshan333.github.io/2022/06/19/understanding-elixir-macros-part-4-diving-deeper/","excerpt":"","text":"Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡ [1] (è¯‘) Understanding Elixir Macros, Part 1 Basics [2] (è¯‘) Understanding Elixir Macros, Part 2 - Macro Theory [3] (è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST [4] (è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper [5] (è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST [6] (è¯‘) Understanding Elixir Macros, Part 6 - In-place Code GenerationåŸæ–‡ GitHub ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡. åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­, æˆ‘å‘ä½ å±•ç¤ºäº†åˆ†æè¾“å…¥ AST å¹¶å¯¹å…¶è¿›è¡Œå¤„ç†çš„ä¸€äº›åŸºæœ¬æ–¹æ³•. ä»Šå¤©æˆ‘ä»¬å°†ç ”ç©¶ä¸€äº›æ›´å¤æ‚çš„ AST è½¬æ¢. è¿™å°†é‡æå·²ç»è§£é‡Šè¿‡çš„æŠ€æœ¯. è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†è¡¨æ˜æ·±å…¥ç ”ç©¶ AST å¹¶ä¸æ˜¯å¾ˆéš¾çš„, å°½ç®¡æœ€ç»ˆçš„ç»“æœä»£ç å¾ˆå®¹æ˜“å˜å¾—ç›¸å½“å¤æ‚, è€Œä¸”æœ‰ç‚¹é»‘ç§‘æŠ€ï¼ˆhacky). è¿½è¸ªå‡½æ•°è°ƒç”¨åœ¨æœ¬æ–‡ä¸­, æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå® deftraceable, å®ƒå…è®¸æˆ‘ä»¬å®šä¹‰å¯è·Ÿè¸ªçš„å‡½æ•°. å¯è·Ÿè¸ªå‡½æ•°çš„å·¥ä½œæ–¹å¼ä¸æ™®é€šå‡½æ•°ä¸€æ ·, ä½†æ¯å½“æˆ‘ä»¬è°ƒç”¨å®ƒæ—¶, éƒ½ä¼šæ‰“å°å‡ºè°ƒè¯•ä¿¡æ¯. å¤§è‡´æ€è·¯æ˜¯è¿™æ ·çš„: 1234567891011defmodule Test do import Tracer deftraceable my_fun(a,b) do a/b endendTest.my_fun(6,2)# =&gt; test.ex(line 4) Test.my_fun(6,2) = 3 è¿™ä¸ªä¾‹å­å½“ç„¶æ˜¯è™šæ„çš„. ä½ ä¸éœ€è¦è®¾è®¡è¿™æ ·çš„å®, å› ä¸º Erlang å·²ç»æœ‰éå¸¸å¼ºå¤§çš„è·Ÿè¸ªåŠŸèƒ½, è€Œä¸”æœ‰ä¸€ä¸ª Elixir åŒ…å¯ç”¨. ç„¶è€Œ, è¿™ä¸ªä¾‹å­å¾ˆæœ‰è¶£, å› ä¸ºå®ƒéœ€è¦ä¸€äº›æ›´æ·±å±‚æ¬¡çš„ AST è½¬æ¢æŠ€å·§. åœ¨å¼€å§‹ä¹‹å‰, æˆ‘è¦å†æä¸€æ¬¡, ä½ åº”è¯¥ä»”ç»†è€ƒè™‘ä½ æ˜¯å¦çœŸçš„éœ€è¦è¿™æ ·çš„ç»“æ„. ä¾‹å¦‚ deftraceable è¿™æ ·çš„å®å¼•å…¥äº†ä¸€ä¸ªæ¯ä¸ªä»£ç ç»´æŠ¤è€…éƒ½éœ€è¦äº†è§£çš„ä¸œè¥¿. çœ‹ç€ä»£ç , å®ƒèƒŒåå‘ç”Ÿçš„äº‹ä¸æ˜¯æ˜¾è€Œæ˜“è§çš„. å¦‚æœæ¯ä¸ªäººéƒ½è®¾è®¡è¿™æ ·çš„ç»“æ„, æ¯ä¸ª Elixir é¡¹ç›®éƒ½ä¼šå¾ˆå¿«åœ°å˜æˆè‡ªå®šä¹‰è¯­è¨€çš„å¤§é”…æ±¤. å½“ä»£ç ä¸»è¦ä¾èµ–äºå¤æ‚çš„å®æ—¶, å³ä½¿å¯¹äºæœ‰ç»éªŒçš„å¼€å‘äººå‘˜, å³ä½¿æ˜¯æœ‰ç»éªŒçš„å¼€å‘äººå‘˜ä¹Ÿå¾ˆéš¾ç†è§£ä¸¥é‡ä¾èµ–äºå¤æ‚å®çš„åº•å±‚ä»£ç çš„å®é™…æµç¨‹. ä½†æ˜¯åœ¨é€‚å½“ä½¿ç”¨å®çš„æƒ…å†µä¸‹, ä½ ä¸åº”è¯¥ä»…ä»…å› ä¸ºæœ‰äººå£°ç§°å®æ˜¯ä¸å¥½çš„, å°±ä¸ä½¿ç”¨å®ƒ. ä¾‹å¦‚, å¦‚æœåœ¨ Erlang ä¸­æ²¡æœ‰è·Ÿè¸ªåŠŸèƒ½, æˆ‘ä»¬å°±éœ€è¦è®¾è®¡ä¸€äº›å®æ¥å¸®åŠ©æˆ‘ä»¬ï¼ˆå®é™…ä¸Šä¸éœ€è¦ç±»ä¼¼ä¸Šè¿°çš„ä¾‹å­, ä½†é‚£æ˜¯å¦å¤–ä¸€ä¸ªè¯é¢˜ï¼‰, å¦åˆ™æˆ‘ä»¬çš„ä»£ç å°±ä¼šæœ‰å¤§é‡é‡å¤çš„æ¨¡æ¿ä»£ç . åœ¨æˆ‘çœ‹æ¥, æ¨¡æ¿ä»£ç å¤ªå¤šæ˜¯ä¸å¥½çš„, å› ä¸ºä»£ç ä¸­æœ‰äº†å¤ªå¤šå½¢å¼åŒ–çš„å™ªéŸ³, å› æ­¤æ›´éš¾é˜…è¯»å’Œç†è§£. å®æœ‰åŠ©äºå‡å°‘è¿™äº›å™ªå£°, ä½†åœ¨ä½¿ç”¨å®ä¹‹å‰, è¯·å…ˆè€ƒè™‘æ˜¯å¦å¯ä»¥ä¼˜å…ˆä½¿ç”¨ Elixir å†…ç½®çš„è¿è¡Œæ—¶ç»“æ„ï¼ˆå‡½æ•°, æ¨¡å—, åè®®ï¼‰æ¥è§£å†³é‡å¤ä»£ç . çœ‹å®Œè¿™ä¸ªé•¿é•¿çš„å…è´£å£°æ˜, è®©æˆ‘ä»¬å¼€å§‹å®ç° deftraceableå§. é¦–å…ˆ, æ‰‹åŠ¨ç”Ÿæˆå¯¹åº”çš„ä»£ç . è®©æˆ‘ä»¬å›é¡¾ä¸‹ç”¨æ³•: 123deftraceable my_fun(a,b) do a/bend ç”Ÿæˆçš„ä»£ç ç±»ä¼¼äºè¿™æ ·: 123456789101112131415def my_fun(a, b) do file = __ENV__.file line = __ENV__.line module = __ENV__.module function_name = &quot;my_fun&quot; passed_args = [a,b] |&gt; Enum.map(&amp;inspect/1) |&gt; Enum.join(&quot;,&quot;) result = a/b loc = &quot;#&#123;file&#125;(line #&#123;line&#125;)&quot; call = &quot;#&#123;module&#125;.#&#123;function_name&#125;(#&#123;passed_args&#125;) = #&#123;inspect result&#125;&quot; IO.puts &quot;#&#123;loc&#125; #&#123;call&#125;&quot; resultend è¿™ä¸ªæƒ³æ³•å¾ˆç®€å•. æˆ‘ä»¬ä»ç¼–è¯‘å™¨ç¯å¢ƒä¸­è·å–å„ç§æ•°æ®, ç„¶åè®¡ç®—ç»“æœ, æœ€åå°†æ‰€æœ‰å†…å®¹æ‰“å°åˆ°å±å¹•ä¸Š. è¯¥ä»£ç ä¾èµ–äº __ENV__ ç‰¹æ®Šå½¢å¼, å¯ç”¨äºåœ¨æœ€ç»ˆ AST ä¸­æ³¨å…¥å„ç§ç¼–è¯‘æ—¶ä¿¡æ¯(ä¾‹å¦‚è¡Œå·å’Œæ–‡ä»¶). __ENV__ æ˜¯ä¸€ä¸ªç»“æ„ä½“, æ¯å½“ä½ åœ¨ä»£ç ä¸­ä½¿ç”¨å®ƒæ—¶, å®ƒå°†åœ¨ç¼–è¯‘æ—¶å±•å¼€ä¸ºé€‚å½“çš„å€¼. å› æ­¤, åªè¦åœ¨ä»£ç ä¸­å†™å…¥ __ENV__.file. æ–‡ä»¶ç”Ÿæˆçš„å­—èŠ‚ç å°†åŒ…å«åŒ…å«æ–‡ä»¶åçš„(äºŒè¿›åˆ¶)å­—ç¬¦ä¸²å¸¸é‡. ç°åœ¨æˆ‘ä»¬éœ€è¦åŠ¨æ€æ„å»ºè¿™ä¸ªä»£ç . è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¤§æ¦‚çš„æ ·å­ï¼ˆoutlineï¼‰: 12345678910111213141516171819defmacro deftraceable(??) do quote do def unquote(head) do file = __ENV__.file line = __ENV__.line module = __ENV__.module function_name = ?? passed_args = ?? |&gt; Enum.map(&amp;inspect/1) |&gt; Enum.join(&quot;,&quot;) result = ?? loc = &quot;#&#123;file&#125;(line #&#123;line&#125;)&quot; call = &quot;#&#123;module&#125;.#&#123;function_name&#125;(#&#123;passed_args&#125;) = #&#123;inspect result&#125;&quot; IO.puts &quot;#&#123;loc&#125; #&#123;call&#125;&quot; result end endend è¿™é‡Œæˆ‘ä»¬åœ¨éœ€è¦åŸºäºè¾“å…¥å‚æ•°åŠ¨æ€æ³¨å…¥ AST ç‰‡æ®µçš„åœ°æ–¹æ”¾ç½®é—®å·ï¼ˆ??ï¼‰. ç‰¹åˆ«åœ°, æˆ‘ä»¬å¿…é¡»ä»ä¼ é€’çš„å‚æ•°ä¸­æ¨å¯¼å‡ºå‡½æ•°åã€å‚æ•°åå’Œå‡½æ•°ä½“. ç°åœ¨, å½“æˆ‘ä»¬è°ƒç”¨å® deftraceable my_fun(...) do ... end, å®æ¥æ”¶ä¸¤ä¸ªå‚æ•° â€” å‡½æ•°å¤´ï¼ˆå‡½æ•°åå’Œå‚æ•°åˆ—è¡¨ï¼‰å’ŒåŒ…å«å‡½æ•°ä½“çš„å…³é”®å­—åˆ—è¡¨. è¿™äº›éƒ½æ˜¯è¢« quote è¿‡çš„. æˆ‘æ˜¯å¦‚ä½•çŸ¥é“çš„ï¼Ÿå…¶å®æˆ‘ä¸çŸ¥é“. æˆ‘ä¸€èˆ¬é€šè¿‡ä¸æ–­è¯•é”™æ¥è·å¾—çš„è¿™äº›ä¿¡æ¯. åŸºæœ¬ä¸Š, æˆ‘ä»å®šä¹‰ä¸€ä¸ªå®å¼€å§‹ï¼š 1234defmacro deftraceable(arg1) do IO.inspect arg1 nilend ç„¶åæˆ‘å°è¯•ä»ä¸€äº›æµ‹è¯•æ¨¡å—æˆ– shell ä¸­è°ƒç”¨å®. æˆ‘å°†é€šè¿‡å‘å®å®šä¹‰ä¸­æ·»åŠ å¦ä¸€ä¸ªå‚æ•°æ¥æµ‹è¯•. ä¸€æ—¦æˆ‘å¾—åˆ°ç»“æœ, æˆ‘ä¼šè¯•å›¾æ‰¾å‡ºå‚æ•°è¡¨ç¤ºä»€ä¹ˆ, ç„¶åå¼€å§‹æ„å»ºå®. å®ç»“æŸå¤„çš„ nil ç¡®ä¿æˆ‘ä»¬ä¸ç”Ÿæˆä»»ä½•ä¸œè¥¿ï¼ˆæˆ‘ä»¬ç”Ÿæˆçš„ nil é€šå¸¸ä¸è°ƒç”¨è€…ä»£ç æ— å…³ï¼‰. è¿™å…è®¸æˆ‘è¿›ä¸€æ­¥æ„å»ºç‰‡æ®µè€Œä¸æ³¨å…¥ä»£ç . æˆ‘é€šå¸¸ä¾é  IO.inspectå’Œ Macro.to_string/1 æ¥éªŒè¯ä¸­é—´ç»“æœ, ä¸€æ—¦æˆ‘æ»¡æ„äº†, æˆ‘ä¼šåˆ é™¤ nil éƒ¨åˆ†, çœ‹çœ‹æ˜¯å¦èƒ½å·¥ä½œ. æ­¤æ—¶ deftraceable æ¥æ”¶å‡½æ•°å¤´å’Œèº«ä½“. å‡½æ•°å¤´å°†æ˜¯ä¸€ä¸ªæˆ‘ä»¬ä¹‹å‰æè¿°çš„ç»“æ„çš„ AST ç‰‡æ®µï¼š 1&#123;function_name, context, [arg1, arg2, ...] æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ï¼š ä» quoted çš„å¤´ä¸­æå–å‡½æ•°åå’Œå‚æ•° å°†è¿™äº›å€¼æ³¨å…¥æˆ‘ä»¬çš„å®è¿”å›çš„ AST ä¸­ å°†å‡½æ•°ä½“æ³¨å…¥åŒä¸€ä¸ª AST æ‰“å°è·Ÿè¸ªä¿¡æ¯ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ä»è¿™ä¸ª AST ç‰‡æ®µä¸­æå–å‡½æ•°åå’Œå‚æ•°, æœ‰ä¸€ä¸ª Macro.decompose_call/1 çš„è¾…åŠ©åŠŸèƒ½å‡½æ•°å¯ä»¥å¸®æˆ‘ä»¬åšåˆ°. åšå®Œè¿™äº›æ­¥éª¤, å®çš„æœ€ç»ˆç‰ˆæœ¬å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728defmodule Tracer do defmacro deftraceable(head, body) do # æå–å‡½æ•°åå’Œå‚æ•° &#123;fun_name, args_ast&#125; = Macro.decompose_call(head) quote do def unquote(head) do file = __ENV__.file line = __ENV__.line module = __ENV__.module # æ³¨å…¥å‡½æ•°åå’Œå‚æ•°åˆ° AST ä¸­ function_name = unquote(fun_name) passed_args = unquote(args_ast) |&gt; Enum.map(&amp;inspect/1) |&gt; Enum.join(&quot;,&quot;) # å°†å‡½æ•°ä½“æ³¨å…¥åˆ° AST result = unquote(body[:do]) # æ‰“å° trace è·Ÿè¸ªä¿¡æ¯ loc = &quot;#&#123;file&#125;(line #&#123;line&#125;)&quot; call = &quot;#&#123;module&#125;.#&#123;function_name&#125;(#&#123;passed_args&#125;) = #&#123;inspect result&#125;&quot; IO.puts &quot;#&#123;loc&#125; #&#123;call&#125;&quot; result end end endend è®©æˆ‘ä»¬è¯•ä¸€ä¸‹ï¼š 12345678910111213iex(1)&gt; defmodule Tracer do ... endiex(2)&gt; defmodule Test do import Tracer deftraceable my_fun(a,b) do a/b end endiex(3)&gt; Test.my_fun(10,5)iex(line 4) Test.my_fun(10,5) = 2.0 # trace output2.0 è¿™ä¼¼ä¹èµ·ä½œç”¨äº†. ç„¶è€Œ, æˆ‘åº”è¯¥ç«‹å³æŒ‡å‡º, è¿™ç§å®ç°å­˜åœ¨ä¸€äº›é—®é¢˜: å®ä¸èƒ½å¾ˆå¥½åœ°å¤„ç†å¸¦å®ˆå«ï¼ˆguardsï¼‰çš„å‡½æ•°å®šä¹‰ æ¨¡å¼åŒ¹é…å‚æ•°å¹¶ä¸æ€»æ˜¯æœ‰æ•ˆçš„ï¼ˆä¾‹å¦‚, å½“ä½¿ç”¨ _ æ¥åŒ¹é…ä»»ä½• term æ—¶ï¼‰ åœ¨æ¨¡å—ä¸­ç›´æ¥åŠ¨æ€ç”Ÿæˆä»£ç æ—¶, å®ä¸èµ·ä½œç”¨. æˆ‘å°†é€ä¸€è§£é‡Šè¿™äº›é—®é¢˜, é¦–å…ˆä»å®ˆå«ï¼ˆguardsï¼‰å¼€å§‹, å…¶ä½™é—®é¢˜ç•™å¾…ä»¥åçš„æ–‡ç« å†è®¨è®º. å¤„ç† guards ï¼ˆå®ˆå«ï¼‰æ‰€æœ‰å…·æœ‰å¯è¿½æº¯æ€§çš„é—®é¢˜éƒ½æºäºæˆ‘ä»¬å¯¹è¾“å…¥ AST åšäº†ä¸€äº›äº‹å®å‡è®¾. è¿™æ˜¯ä¸€ä¸ªå±é™©çš„é¢†åŸŸ, æˆ‘ä»¬å¿…é¡»å°å¿ƒåœ°æ¶µç›–æ‰€æœ‰æƒ…å†µ. ä¾‹å¦‚, å®å‡è®¾ head åªåŒ…å«å‡½æ•°åç§°å’Œå‚æ•°åˆ—è¡¨. å› æ­¤, å¦‚æœæˆ‘ä»¬æƒ³å®šä¹‰ä¸€ä¸ªå¸¦å®ˆå«çš„å¯è·Ÿè¸ªå‡½æ•°, deftraceable å°†ä¸èµ·ä½œç”¨: 123deftraceable my_fun(a,b) when a &lt; b do a/bend åœ¨è¿™ç§æƒ…å†µä¸‹, æˆ‘ä»¬çš„å¤´éƒ¨ï¼ˆå®çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ä¹Ÿå°†åŒ…å«å®ˆå«ï¼ˆguardsï¼‰çš„ä¿¡æ¯, å¹¶ä¸”ä¸èƒ½è¢« macro .decompose_call/1 è§£æ. è§£å†³æ–¹æ¡ˆæ˜¯æ£€æµ‹è¿™ç§æƒ…å†µ, å¹¶ä»¥ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼å¤„ç†å®ƒ. é¦–å…ˆ, è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ª head æ˜¯å¦‚ä½•è¢« quoted çš„: 12345678iex(16)&gt; quote do my_fun(a,b) when a &lt; b end&#123;:when, [], [ &#123;:my_fun, [], [&#123;:a, [if_undefined: :apply], Elixir&#125;, &#123;:b, [if_undefined: :apply], Elixir&#125;]&#125;, &#123;:&lt;, [context: Elixir, import: Kernel], [&#123;:a, [if_undefined: :apply], Elixir&#125;, &#123;:b, [if_undefined: :apply], Elixir&#125;]&#125; ]&#125; æ‰€ä»¥å®é™…ä¸Šæˆ‘ä»¬çš„ guard head å®é™…ä¸Šæ˜¯è¿™æ ·çš„: &#123;:when, _, [name_and_args, ...]&#125;, æˆ‘ä»¬å¯ä»¥ä¾é å®ƒæ¥ä½¿ç”¨æ¨¡å¼åŒ¹é…æå–å‡½æ•°åç§°å’Œå‚æ•°: 12345678910defmodule Tracer do ... defp name_and_args(&#123;:when, _, [short_head | _]&#125;) do name_and_args(short_head) end defp name_and_args(short_head) do Macro.decompose_call(short_head) end ... å½“ç„¶, æˆ‘ä»¬éœ€è¦ä»å®ä¸­è°ƒç”¨è¿™ä¸ªå‡½æ•°: 123456789defmodule Tracer do ... defmacro deftraceable(head, body) do &#123;fun_name, args_ast&#125; = name_and_args(head) ... # ä¸å˜ end ...end å¦‚æ‚¨æ‰€è§, å¯ä»¥å®šä¹‰é¢å¤–çš„ç§æœ‰å‡½æ•°å¹¶ä»å®è°ƒç”¨å®ƒä»¬. æ¯•ç«Ÿ, å®åªæ˜¯ä¸€ä¸ªå‡½æ•°, å½“è°ƒç”¨å®ƒæ—¶, åŒ…å«çš„æ¨¡å—å·²ç»ç¼–è¯‘å¹¶åŠ è½½åˆ°ç¼–è¯‘å™¨çš„ VM ä¸­(å¦åˆ™, å®æ— æ³•è¿è¡Œ). ä»¥ä¸‹æ˜¯å® deftraceable çš„å®Œæ•´ç‰ˆæœ¬: 1234567891011121314151617181920212223242526272829303132defmodule Tracer do defmacro deftraceable(head, body) do &#123;fun_name, args_ast&#125; = name_and_args(head) quote do def unquote(head) do file = __ENV__.file line = __ENV__.line module = __ENV__.module function_name = unquote(fun_name) passed_args = unquote(args_ast) |&gt; Enum.map(&amp;inspect/1) |&gt; Enum.join(&quot;,&quot;) result = unquote(body[:do]) loc = &quot;#&#123;file&#125;(line #&#123;line&#125;)&quot; call = &quot;#&#123;module&#125;.#&#123;function_name&#125;(#&#123;passed_args&#125;) = #&#123;inspect result&#125;&quot; IO.puts &quot;#&#123;loc&#125; #&#123;call&#125;&quot; result end end end defp name_and_args(&#123;:when, _, [short_head | _]&#125;) do name_and_args(short_head) end defp name_and_args(short_head) do Macro.decompose_call(short_head) endend è®©æˆ‘ä»¬æ¥è¯•éªŒä¸€ä¸‹: 1234567891011121314151617181920iex(1)&gt; defmodule Tracer do ... endiex(2)&gt; defmodule Test do import Tracer deftraceable my_fun(a,b) when a&lt;b do a/b end deftraceable my_fun(a,b) do a/b end endiex(3)&gt; Test.my_fun(5,10)iex(line 4) Test.my_fun(5,10) = 0.50.5iex(4)&gt; Test.my_fun(10, 5)iex(line 7) Test.my_fun(10,5) = 2.0 è¿™ä¸ªç»ƒä¹ çš„ä¸»è¦ç›®çš„æ˜¯è¯´æ˜å¯ä»¥ä»è¾“å…¥ AST ä¸­æ¨æ–­å‡ºä¸€äº›ä¸œè¥¿. åœ¨è¿™ä¸ªä¾‹å­ä¸­, æˆ‘ä»¬è®¾æ³•æ£€æµ‹å’Œå¤„ç†å¸¦ guards çš„å‡½æ•°. æ˜¾ç„¶, å› ä¸ºå®ƒä¾èµ–äº AST çš„å†…éƒ¨ç»“æ„, ä»£ç å˜å¾—æ›´åŠ å¤æ‚äº†. åœ¨è¿™ç§æƒ…å†µä¸‹, ä»£ç ä¾æ—§æ¯”è¾ƒç®€å•, ä½†ä½ å°†åœ¨åé¢çš„æ–‡ç«  ã€Š(è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the ASTã€‹ ä¸­çœ‹åˆ°æˆ‘æ˜¯å¦‚ä½•è§£å†³ deftraceable å®å‰©ä½™çš„é—®é¢˜çš„, äº‹æƒ…å¯èƒ½å¾ˆå¿«å˜å¾—å¤æ‚èµ·æ¥äº†. åŸæ–‡: https://www.theerlangelist.com/article/macros_4","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir-Macros","slug":"Elixir-Macros","permalink":"https://yeshan333.github.io/tags/Elixir-Macros/"}]},{"title":"(è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST","slug":"understanding-elixir-macros-part-3-getting-into-the-ast","date":"2022-06-19T10:53:07.000Z","updated":"2022-06-19T10:53:07.000Z","comments":true,"path":"2022/06/19/understanding-elixir-macros-part-3-getting-into-the-ast/","permalink":"https://yeshan333.github.io/2022/06/19/understanding-elixir-macros-part-3-getting-into-the-ast/","excerpt":"","text":"Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡ [1] (è¯‘) Understanding Elixir Macros, Part 1 Basics [2] (è¯‘) Understanding Elixir Macros, Part 2 - Macro Theory [3] (è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST [4] (è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper [5] (è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST [6] (è¯‘) Understanding Elixir Macros, Part 6 - In-place Code GenerationåŸæ–‡ GitHub ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡. æ˜¯æ—¶å€™ç»§ç»­æ¢ç´¢ Elixir çš„å®äº†. ä¸Šæ¬¡æˆ‘ä»‹ç»äº†ä¸€äº›å…³äºå®çš„åŸºæœ¬åŸç†, ä»Šå¤©, æˆ‘å°†è¿›å…¥ä¸€ä¸ªè¾ƒå°‘è°ˆåŠçš„é¢†åŸŸ, å¹¶è®¨è®º Elixir AST çš„ä¸€äº›ç»†èŠ‚. è·Ÿè¸ªå‡½æ•°è°ƒç”¨åˆ°ç›®å‰ä¸ºæ­¢, ä½ åªçœ‹åˆ°äº†æ¥å—è¾“å…¥ AST ç‰‡æ®µå¹¶å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·çš„åŸºç¡€å®, å¹¶åœ¨è¾“å…¥ç‰‡æ®µå‘¨å›´æˆ–ä¹‹é—´æ·»åŠ äº†ä¸€äº›é¢å¤–çš„æ ·æ¿ä»£ç . ç”±äºæˆ‘ä»¬ä¸åˆ†ææˆ–è§£æè¾“å…¥çš„ AST, è¿™å¯èƒ½æ˜¯æœ€å¹²å‡€(æˆ–æœ€ä¸ hackiest)çš„å®ç¼–å†™é£æ ¼, è¿™æ ·çš„å®ç›¸å½“ç®€å•ä¸”å®¹æ˜“ç†è§£. ç„¶è€Œ, æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è§£æè¾“å…¥çš„ AST ç‰‡æ®µä»¥è·å–æŸäº›ç‰¹æ®Šä¿¡æ¯. ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ ExUnit çš„æ–­è¨€. ä¾‹å¦‚, è¡¨è¾¾å¼ assert 1+1 == 2+2 ä¼šå‡ºç°è¿™ä¸ªé”™è¯¯: 1234Assertion with == failedcode: 1+1 == 2+2lhs: 1rhs: 2 è¿™ä¸ªå® assert æ¥æ”¶äº†æ•´ä¸ªè¡¨è¾¾å¼ 1+1 == 2+2, ç„¶åä»ä¸­åˆ†å‡ºç‹¬ç«‹çš„è¡¨è¾¾å¼ç”¨æ¥æ¯”è¾ƒ, å¦‚æœæ•´ä¸ªè¡¨è¾¾å¼è¿”å› false, åˆ™æ‰“å°å®ƒä»¬å¯¹åº”çš„ç»“æœ. æ‰€ä»¥, å®çš„ä»£ç å¿…é¡»æƒ³åŠæ³•å°†è¾“å…¥çš„ AST åˆ†è§£ä¸ºå‡ ä¸ªéƒ¨åˆ†å¹¶åˆ†åˆ«è®¡ç®—å­è¡¨è¾¾å¼. æ›´å¤šæ—¶å€™, æˆ‘ä»¬è°ƒç”¨äº†æ›´å¤æ‚çš„ AST å˜æ¢. ä¾‹å¦‚, ä½ å¯ä»¥å€ŸåŠ© ExActor è¿™æ ·åš: 1defcast inc(x), state: state, do: new_state(state + x) å®ƒä¼šè¢«è½¬æ¢ä¸ºå¤§è‡´å¦‚ä¸‹çš„å½¢ 1234567def inc(pid, x) do :gen_server.cast(pid, &#123;:inc, x&#125;)enddef handle_cast(&#123;:inc, x&#125;, state) do &#123;:noreply, state+x&#125;end å’Œ assert ä¸€æ ·, å® defcast éœ€è¦æ·±å…¥åˆ†æè¾“å…¥çš„ AST ç‰‡æ®µ, å¹¶æ‰¾å‡ºæ¯ä¸ªå­ç‰‡æ®µï¼ˆä¾‹å¦‚, å‡½æ•°å, æ¯ä¸ªå‚æ•°ï¼‰. ç„¶å, ExActor ä¼šæ‰§è¡Œä¸€ä¸ªç²¾å·§çš„å˜æ¢, å°†å„ä¸ªéƒ¨åˆ†é‡ç»„æˆä¸€ä¸ªæ›´åŠ å¤æ‚çš„ä»£ç . ä»Šå¤©, æˆ‘å°†æƒ³ä½ å±•ç¤ºæ„å»ºè¿™ç±»å®çš„åŸºç¡€æŠ€æœ¯, æˆ‘ä¹Ÿä¼šåœ¨ä¹‹åçš„æ–‡ç« ä¸­ä¼šå°†å˜æ¢åšå¾—æ›´å¤æ‚. ä½†åœ¨æ­¤ä¹‹å‰, æˆ‘è¦è¯·ä½ è®¤çœŸè€ƒè™‘ä¸€ä¸‹ä½ çš„ä»£ç æ˜¯å¦æœ‰æœ‰å¿…è¦åŸºäºå®. å°½ç®¡å®ååˆ†å¼ºå¤§, ä½†ä¹Ÿæœ‰ç¼ºç‚¹. é¦–å…ˆ, å°±åƒä¹‹å‰æˆ‘ä»¬çœ‹åˆ°çš„é‚£æ ·, æ¯”èµ·é‚£äº› â€œæ™®é€šâ€ çš„è¿è¡Œæ—¶æŠ½è±¡ (å‡½æ•°, æ¨¡å—, åè®®), å®çš„ä»£ç ä¼šå¾ˆå¿«åœ°å˜å¾—éå¸¸å¤š. ä½ å¯ä»¥ä¾èµ– undocumented format (è¯‘æ³¨: ç¼ºå°‘æ–‡æ¡£è§£é‡Š, å¯“æ„ä»£ç æå…¶éš¾ä»¥ç†è§£) çš„ AST æ¥å¿«é€Ÿå®Œæˆè®¸å¤šåµŒå¥—çš„ quote&#x2F;unquoted è°ƒç”¨, ä»¥åŠå¥‡æ€ªçš„æ¨¡å¼åŒ¹é…. æ­¤å¤–, å®çš„æ»¥ç”¨å¯èƒ½ä½¿ä½ çš„å®¢æˆ·ç«¯ä»£ç  (è¯‘æ³¨: ä½¿ç”¨å®çš„ä»£ç ) æå…¶éš¾æ‡‚, å› ä¸ºå®ƒå°†ä¾èµ–äºè‡ªå®šä¹‰çš„éæ ‡å‡†ä¹ æƒ¯ç”¨æ³•ï¼ˆä¾‹å¦‚ ExActor çš„ defcastï¼‰. è¿™ä½¿å¾—ç†è§£ä»£ç å’Œäº†è§£åº•å±‚ç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆå˜å¾—æ›´åŠ å›°éš¾. ä»å¥½çš„æ–¹é¢æ¥çœ‹, å®åœ¨åˆ é™¤æ ·æ¿ä»£ç æ—¶éå¸¸æœ‰ç”¨(æ­£å¦‚ ExActor ç¤ºä¾‹æ‰€å±•ç¤ºçš„é‚£æ ·), å¹¶ä¸”å…·æœ‰è®¿é—®è¿è¡Œæ—¶ä¸å¯ç”¨çš„ä¿¡æ¯çš„èƒ½åŠ›(æ­£å¦‚æ‚¨åº”è¯¥ä» assert ç¤ºä¾‹ä¸­çœ‹åˆ°çš„é‚£æ ·). æœ€å, ç”±äºå®åœ¨ç¼–è¯‘æœŸé—´è¿è¡Œ, å› æ­¤å¯ä»¥é€šè¿‡å°†è®¡ç®—è½¬ç§»åˆ°ç¼–è¯‘æ—¶æ¥ä¼˜åŒ–ä¸€äº›ä»£ç . å› æ­¤, è‚¯å®šä¼šæœ‰é€‚åˆå®çš„æƒ…æ™¯, æ‚¨ä¸åº”è¯¥å®³æ€•ä½¿ç”¨å®ƒä»¬. ä½†æ˜¯, æ‚¨ä¸åº”è¯¥ä»…ä»…ä¸ºäº†è·å¾—ä¸€äº›å¯çˆ±çš„ dsl å¼è¯­æ³•è€Œé€‰æ‹©å®. åœ¨ä½¿ç”¨å®ä¹‹å‰, åº”è¯¥è€ƒè™‘æ˜¯å¦å¯ä»¥ä¾é â€œæ ‡å‡†â€è¯­è¨€æŠ½è±¡ï¼ˆå¦‚å‡½æ•°ã€æ¨¡å—å’Œåè®®ï¼‰åœ¨è¿è¡Œæ—¶æœ‰æ•ˆåœ°è§£å†³é—®é¢˜. æ¢ç´¢ AST ç»“æ„ç›®å‰, å…³äº AST ç»“æ„çš„æ–‡æ¡£ä¸å¤š. ç„¶è€Œ, åœ¨ shell ä¼šè¯ä¸­å¯ä»¥å¾ˆç®€å•åœ°æ¢ç´¢å’Œä½¿ç”¨ AST, æˆ‘é€šå¸¸å°±æ˜¯è¿™æ ·æ¢ç´¢ AST ç»“æ„çš„. ä¾‹å¦‚, è¿™é‡Œæœ‰ä¸€ä¸ªå…³äºå˜é‡çš„ quoted 12iex(1)&gt; quote do my_var end&#123;:my_var, [if_undefined: :apply], Elixir&#125; åœ¨è¿™é‡Œ, ç¬¬ä¸€ä¸ªå…ƒç´ ä»£è¡¨å˜é‡çš„åç§°ï¼›ç¬¬äºŒä¸ªå…ƒç´ æ˜¯ä¸Šä¸‹æ–‡ Keyword åˆ—è¡¨, å®ƒåŒ…å«äº†è¯¥ AST ç‰‡æ®µçš„å…ƒæ•°æ®ï¼ˆä¾‹å¦‚ imports å’Œ aliasesï¼‰. é€šå¸¸ä½ ä¸ä¼šå¯¹ä¸Šä¸‹æ–‡æ•°æ®æ„Ÿå…´è¶£ï¼›ç¬¬ä¸‰ä¸ªå…ƒç´ é€šå¸¸ä»£è¡¨ quoted å‘ç”Ÿçš„æ¨¡å—, åŒæ—¶ä¹Ÿç”¨äºç¡®ä¿ quoted å˜é‡çš„ hygienic. å¦‚æœè¯¥å…ƒç´ ä¸º nil, åˆ™è¯¥æ ‡è¯†ç¬¦æ˜¯ä¸ hygienic çš„. ä¸€ä¸ªç®€å•çš„è¡¨è¾¾å¼çœ‹èµ·æ¥åŒ…å«äº†è®¸å¤šä¸œè¥¿: 123iex(2)&gt; quote do a+b end&#123;:+, [context: Elixir, import: Kernel], [&#123;:a, [if_undefined: :apply], Elixir&#125;, &#123;:b, [if_undefined: :apply], Elixir&#125;]&#125; çœ‹èµ·æ¥å¯èƒ½å¾ˆå¤æ‚, ä½†æ˜¯å¦‚æœæˆ‘å‘ä½ å±•ç¤ºæ›´é«˜å±‚æ¬¡çš„è¡¨è¾¾æ¨¡å¼, å°±å¾ˆå®¹æ˜“ç†è§£äº†: 1&#123;:+, context, [ast_for_a, ast_for_b]&#125; åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­, ast_for_a å’Œ ast_fot_b éµå¾ªç€ä½ ä¹‹å‰æ‰€çœ‹åˆ°çš„å˜é‡çš„å½¢çŠ¶ï¼ˆå¦‚ &#123;:a, [if_undefined: :apply], Elixir&#125;ï¼‰. ä¸€èˆ¬, quoted çš„å‚æ•°å¯ä»¥æ˜¯ä»»æ„å¤æ‚çš„, å› ä¸ºå®ƒä»¬æè¿°äº†æ¯ä¸ªå‚æ•°çš„è¡¨è¾¾å¼. äº‹å®ä¸Š, Elixir AST æ˜¯ä¸€ä¸ªç®€å• quoted expression çš„æ·±å±‚ç»“æ„, å°±åƒæˆ‘ç»™ä½ å±•ç¤ºçš„é‚£æ ·. è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå…³äºå‡½æ•°è°ƒç”¨çš„ä¾‹å­: 12iex(3)&gt; quote do div(5,4) end&#123;:div, [context: Elixir, import: Kernel], [5, 4]&#125; è¿™ç±»ä¼¼äº quoted + çš„æ“ä½œ, æˆ‘ä»¬çŸ¥é“ + å®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°. äº‹å®ä¸Š, æ‰€æœ‰äºŒè¿›åˆ¶è¿ç®—ç¬¦éƒ½ä¼šåƒå‡½æ•°è°ƒç”¨ä¸€æ ·è¢« quoted. æœ€å, è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªè¢« quoted çš„å‡½æ•°å®šä¹‰: 12345678910iex(4)&gt; quote do def my_fun(arg1, arg2), do: :ok end&#123;:def, [context: Elixir, import: Kernel], [ &#123;:my_fun, [context: Elixir], [ &#123;:arg1, [if_undefined: :apply], Elixir&#125;, &#123;:arg2, [if_undefined: :apply], Elixir&#125; ]&#125;, [do: :ok] ]&#125; çœ‹èµ·æ¥æœ‰ç‚¹å“äºº, ä½†å¯ä»¥åªçœ‹é‡è¦çš„éƒ¨åˆ†æ¥ç®€åŒ–å®ƒ. äº‹å®ä¸Š, è¿™ç§æ·±å±‚ç»“æ„ç›¸å½“äº: 1&#123;:def, context, [fun_call, [do: body]]&#125; fun_call æ˜¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„ç»“æ„ï¼ˆæ­£å¦‚ä¹‹å‰ä½ çœ‹è¿‡çš„é‚£æ ·ï¼‰. å¦‚ä½ æ‰€è§, AST èƒŒåé€šå¸¸æœ‰ä¸€äº›é€»è¾‘å’Œæ„ä¹‰. æˆ‘ä¸ä¼šåœ¨è¿™é‡Œå†™å‡ºæ‰€æœ‰ AST çš„å½¢çŠ¶, ä½†ä¼šåœ¨ iex ä¸­å°è¯•ä½ æ„Ÿå…´è¶£çš„ç®€å•çš„ç»“æ„æ¥æ¢ç´¢ AST. è¿™æ˜¯ä¸€ä¸ªé€†å‘å·¥ç¨‹, ä½†ä¸æ˜¯ç«ç®­ç§‘å­¦. å†™ä¸€ä¸ª assert å®ä¸ºäº†å¿«é€Ÿæ¼”ç¤º, è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ assert å®. è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å®, å› ä¸ºå®ƒé‡æ–°å®šä¹‰äº†æ¯”è¾ƒæ“ä½œç¬¦çš„å«ä¹‰. é€šå¸¸, å½“ä½ å†™ä¸‹ a == b è¡¨è¾¾å¼æ—¶, ä½ ä¼šå¾—åˆ°ä¸€ä¸ªå¸ƒå°”ç»“æœ. ä½†æ˜¯, å½“å°†æ­¤è¡¨è¾¾å¼ç»™ assert å®æ—¶, å¦‚æœè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœä¸º false, åˆ™ä¼šæ‰“å°è¯¦ç»†çš„è¾“å‡º. æˆ‘å°†ä»ç®€å•çš„éƒ¨åˆ†å¼€å§‹, é¦–å…ˆåœ¨å®é‡Œåªæ”¯æŒ == è¿ç®—ç¬¦. å¯ä»¥çŸ¥é“, æˆ‘ä»¬è°ƒç”¨ assert expected == required æ—¶, ç­‰åŒäºè°ƒç”¨ assert(expect == required), è¿™æ„å‘³ç€æˆ‘ä»¬çš„å®æ¥æ”¶åˆ°ä¸€ä¸ªè¡¨ç¤ºæ¯”è¾ƒçš„å¼•ç”¨ç‰‡æ®µ. è®©æˆ‘ä»¬æ¥æ¢ç´¢è¿™ä¸ªæ¯”è¾ƒè¡¨è¾¾å¼çš„ AST ç»“æœ: 123456iex(1)&gt; quote do 1 == 2 end&#123;:==, [context: Elixir, import: Kernel], [1, 2]&#125;iex(2)&gt; quote do a == b end&#123;:==, [context: Elixir, import: Kernel], [&#123;:a, [if_undefined: :apply], Elixir&#125;, &#123;:b, [if_undefined: :apply], Elixir&#125;]&#125; æ‰€ä»¥æˆ‘ä»¬çš„ç»“æ„æœ¬è´¨ä¸Šæ˜¯ &#123;:==, context, [quoted_lhs, quoted_rhs]&#125;. å¦‚æœä½ è®°ä½äº†å‰å‡ ä¸ªç³»åˆ—ä¸­æ‰€æ¼”ç¤ºçš„ä¾‹å­, é‚£ä¹ˆå°±ä¸ä¼šæ„Ÿåˆ°æ„å¤–, å› ä¸ºæˆ‘æåˆ°è¿‡äºŒè¿›åˆ¶è¿ç®—ç¬¦æ˜¯ä½œä¸º 2 ä¸ªå‚æ•°çš„å‡½æ•°è¢« quoted çš„. çŸ¥é“äº† AST çš„å½¢çŠ¶, å®ç°è¿™ä¸ªå®å°±å¾ˆç®€å•: 12345678910111213141516171819defmodule Assertions do defmacro assert(&#123;:==, _, [lhs, rhs]&#125; = expr) do quote do left = unquote(lhs) right = unquote(rhs) result = (left == right) unless result do IO.puts &quot;Assertion with == failed&quot; IO.puts &quot;code: #&#123;unquote(Macro.to_string(expr))&#125;&quot; IO.puts &quot;lhs: #&#123;left&#125;&quot; IO.puts &quot;rhs: #&#123;right&#125;&quot; end result end endend ç¬¬ä¸€ä¸ªæœ‰è¶£çš„äº‹æƒ…å‘ç”Ÿåœ¨ç¬¬ 2 è¡Œ. æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•å¯¹è¾“å…¥è¡¨è¾¾å¼è¿›è¡Œæ¨¡å¼åŒ¹é…çš„, å¸Œæœ›å®ƒç¬¦åˆæŸç§ç»“æ„. è¿™å®Œå…¨æ²¡é—®é¢˜, å› ä¸ºå®æ˜¯å‡½æ•°, è¿™æ„å‘³ç€æ‚¨å¯ä»¥ä¾èµ–äºæ¨¡å¼åŒ¹é…ã€guardsï¼ˆå®ˆå«ï¼‰, ç”šè‡³æœ‰å¤šå­å¥å®. åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­, æˆ‘ä»¬ä¾é æ¨¡å¼åŒ¹é…å°†ï¼ˆè¢« quoted çš„ï¼‰æ¯”è¾ƒè¡¨è¾¾å¼çš„æ¯ä¸€è¾¹å¸¦å…¥ç›¸åº”çš„å˜é‡. ç„¶å, åœ¨ quoted çš„ä»£ç ä¸­, æˆ‘ä»¬é€šè¿‡åˆ†åˆ«è®¡ç®—å·¦è¾¹å’Œå³è¾¹é‡æ–°è§£é‡Š == æ“ä½œï¼ˆç¬¬ 4 è¡Œå’Œç¬¬ 5 è¡Œï¼‰, ç„¶åæ˜¯æ•´ä¸ªç»“æœï¼ˆç¬¬ 7 è¡Œï¼‰. æœ€å, å¦‚æœç»“æœä¸ºå‡, æˆ‘ä»¬æ‰“å°è¯¦ç»†ä¿¡æ¯ï¼ˆç¬¬ 9-14 è¡Œï¼‰. æ¥è¯•ä¸€ä¸‹: 123456789iex(1)&gt; defmodule Assertions do ... endiex(2)&gt; import Assertionsiex(3)&gt; assert 1+1 == 2+2Assertion with == failedcode: 1 + 1 == 2 + 2lhs: 2rhs: 4false å°†ä»£ç å®ç°é€šç”¨åŒ–å°†ä¹‹å‰çš„ä»£ç ç”¨åˆ°å…¶ä»–çš„è¿ç®—æ“ä½œç¬¦å¹¶ä¸å›°éš¾: 1234567891011121314151617181920defmodule Assertions do defmacro assert(&#123;operator, _, [lhs, rhs]&#125; = expr) when operator in [:==, :&lt;, :&gt;, :&lt;=, :&gt;=, :===, :=~, :!==, :!=, :in] do quote do left = unquote(lhs) right = unquote(rhs) result = unquote(operator)(left, right) unless result do IO.puts(&quot;Assertion with #&#123;unquote(operator)&#125; failed&quot;) IO.puts(&quot;code: #&#123;unquote(Macro.to_string(expr))&#125;&quot;) IO.puts(&quot;lhs: #&#123;left&#125;&quot;) IO.puts(&quot;rhs: #&#123;right&#125;&quot;) end result end endend è¿™é‡Œåªæœ‰ä¸€ç‚¹ç‚¹å˜åŒ–. é¦–å…ˆ, åœ¨æ¨¡å¼åŒ¹é…ä¸­, ç¡¬ç¼–ç ï¼ˆhard codeï¼‰ :== è¢«å˜é‡ operator å–ä»£äº†ï¼ˆç¬¬ 2 è¡Œï¼‰. æˆ‘è¿˜å¼•å…¥ï¼ˆå®é™…ä¸Š, æ˜¯ä» Elixir æºä»£ç ä¸­å¤åˆ¶ç²˜è´´äº†ï¼‰guard è¯­å¥æŒ‡å®šäº†å®èƒ½å¤„ç†çš„è¿ç®—ç¬¦é›†ï¼ˆç¬¬ 3 è¡Œï¼‰. è¿™ä¸ªæ£€æŸ¥æœ‰ä¸€ä¸ªç‰¹æ®ŠåŸå› . è¿˜è®°å¾—æˆ‘ä¹‹å‰æåˆ°çš„, quoted a + bï¼ˆæˆ–ä»»ä½•å…¶å®ƒçš„äºŒè¿›åˆ¶æ“ä½œï¼‰çš„å½¢çŠ¶ç­‰åŒäºå¼•ç”¨ fun(a, b). å› æ­¤, æ²¡æœ‰è¿™äº› guard è¯­å¥, ä»»ä½•åŒå‚æ•°çš„å‡½æ•°è°ƒç”¨éƒ½ä¼šåœ¨æˆ‘ä»¬çš„å®ä¸­ç»“æŸ, è¿™å¯èƒ½æ˜¯æˆ‘ä»¬ä¸æƒ³è¦çš„. ä½¿ç”¨è¿™ä¸ª guard è¯­å¥èƒ½å°†è¾“å…¥é™åˆ¶åœ¨å·²çŸ¥çš„äºŒè¿›åˆ¶è¿ç®—ç¬¦ä¸­. æœ‰è¶£çš„äº‹æƒ…å‘ç”Ÿåœ¨ç¬¬ 9 è¡Œ. åœ¨è¿™é‡Œæˆ‘ä½¿ç”¨äº† unquote(operator)(left, right) æ¥å¯¹æ“ä½œç¬¦è¿›è¡Œç®€å•çš„æ³›å‹åˆ†æ´¾. ä½ å¯èƒ½è®¤ä¸ºæˆ‘å¯ä»¥ä½¿ç”¨ left unquote(operator) right æ¥æ›¿ä»£, ä½†å®ƒå¹¶ä¸èƒ½è¿ç®—. åŸå› æ˜¯ operator å˜é‡ä¿å­˜çš„æ˜¯ä¸€ä¸ªåŸå­ï¼ˆå¦‚:==ï¼‰. å› æ­¤, è¿™ä¸ªå¤©çœŸçš„ quoted ä¼šäº§ç”Ÿ left :== right, è¿™ç”šè‡³ä¸ç¬¦åˆ Elixir çš„è¯­æ³•è§„å®š. è®°ä½, åœ¨ quote æ—¶, æˆ‘ä»¬ä¸ç»„è£…å­—ç¬¦ä¸², è€Œæ˜¯ç»„è£… AST ç‰‡æ®µ. æ‰€ä»¥, å½“æˆ‘ä»¬æƒ³ç”Ÿæˆä¸€ä¸ªäºŒè¿›åˆ¶æ“ä½œä»£ç æ—¶, æˆ‘ä»¬éœ€è¦æ³¨å…¥ä¸€ä¸ªæ­£ç¡®çš„ AST, å®ƒï¼ˆå¦‚å‰æ‰€è¿°ï¼‰ä¸åŒå‚æ•°çš„å‡½æ•°è°ƒç”¨ç›¸åŒ. å› æ­¤, æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä½¿ç”¨å‡½æ•°è°ƒç”¨çš„æ–¹å¼ unquote(operator)(left, right). è¿™ä¸€ç‚¹è®²å®Œäº†, ä»Šå¤©çš„è¿™ä¸€ç« ä¹Ÿè¯¥ç»“æŸäº†. å®ƒæœ‰ç‚¹çŸ­, ä½†ç•¥å¾®å¤æ‚äº›. ä¸‹ä¸€ç«  ã€Š(è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeperã€‹, æˆ‘å°†æ·±å…¥ AST è§£æçš„è¯é¢˜. åŸæ–‡: https://www.theerlangelist.com/article/macros_3","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir-Macros","slug":"Elixir-Macros","permalink":"https://yeshan333.github.io/tags/Elixir-Macros/"}]},{"title":"(è¯‘) Understanding Elixir Macros, Part 2 - Macro Theory","slug":"understanding-elixir-macros-part-2-macro-theory","date":"2022-06-19T00:36:03.000Z","updated":"2022-06-19T00:36:03.000Z","comments":true,"path":"2022/06/19/understanding-elixir-macros-part-2-macro-theory/","permalink":"https://yeshan333.github.io/2022/06/19/understanding-elixir-macros-part-2-macro-theory/","excerpt":"","text":"Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡ [1] (è¯‘) Understanding Elixir Macros, Part 1 Basics [2] (è¯‘) Understanding Elixir Macros, Part 2 - Macro Theory [3] (è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST [4] (è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper [5] (è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST [6] (è¯‘) Understanding Elixir Macros, Part 6 - In-place Code GenerationåŸæ–‡ GitHub ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡. è¿™æ˜¯å…³äº Elixir å®ç³»åˆ—çš„ç¬¬äºŒç¯‡. ä¸Šä¸€æ¬¡æˆ‘ä»¬è®¨è®ºäº† Elixir ç¼–è¯‘è¿‡ç¨‹å’Œ Elixir AST, æœ€åè®²äº†ä¸€ä¸ªåŸºæœ¬çš„å®çš„ä¾‹å­ trace. ä»Šå¤©, æˆ‘ä»¬ä¼šæ›´è¯¦ç»†åœ°è®²è§£å®çš„æœºåˆ¶. å¯èƒ½æœ‰ä¸€äº›å†…å®¹ä¼šå’Œä¸Šä¸€ç¯‡é‡å¤, ä½†æˆ‘è®¤ä¸ºè¿™å¯¹äºç†è§£è¿ä½œåŸç†å’Œ AST çš„ç”Ÿæˆå¾ˆæœ‰å¸®åŠ©. æŒæ¡äº†è¿™äº›ä»¥å, ä½ å¯¹äºè‡ªå·±ç¼–å†™çš„å®ä»£ç å°±æ›´æœ‰ä¿¡å¿ƒäº†. åŸºç¡€å¾ˆé‡è¦, å› ä¸ºéšç€æ›´å¤šåœ°ç”¨åˆ°å®, ä»£ç å¯èƒ½ä¼šç”±è®¸å¤šçš„ quote/unquote ç»“æ„ç»„æˆ. è°ƒç”¨ä¸€ä¸ªå®æˆ‘ä»¬æœ€éœ€è¦é‡è§†çš„æ˜¯å±•å¼€é˜¶æ®µ. ç¼–è¯‘å™¨åœ¨è¿™ä¸ªé˜¶æ®µè°ƒç”¨äº†å„ç§å®ï¼ˆä»¥åŠå…¶å®ƒä»£ç ç”Ÿæˆç»“æ„ï¼‰æ¥ç”Ÿæˆæœ€ç»ˆçš„ AST. ä¾‹å¦‚, å® trace çš„å…¸å‹ç”¨æ³•æ˜¯è¿™æ ·çš„: 1234567defmodule MyModule do require Tracer ... def some_fun(...) do Tracer.trace(...) endend åƒä¹‹å‰æ‰€æåˆ°çš„é‚£æ ·, ç¼–è¯‘å™¨ä»ä¸€ä¸ªç±»ä¼¼äºè¿™æ®µä»£ç çš„ AST å¼€å§‹. è¿™ä¸ª AST ä¹‹åä¼šè¢«å±•å¼€, ç„¶åç”Ÿæˆæœ€åçš„ä»£ç . å› æ­¤, åœ¨è¿™æ®µä»£ç çš„å±•å¼€é˜¶æ®µ, Tracer.trace&#x2F;1 ä¼šè¢«è°ƒç”¨. æˆ‘ä»¬çš„å®æ¥å—äº†è¾“å…¥çš„ AST, ç„¶åå¿…é¡»ç”Ÿæˆè¾“å‡ºå¯¹åº”çš„ AST ç»“æ„. ä¹‹åç¼–è¯‘å™¨ä¼šç®€å•åœ°ç”¨è¾“å‡ºçš„ AST æ›¿æ¢æ‰å¯¹å®çš„è°ƒç”¨. è¿™ä¸ªè¿‡ç¨‹æ˜¯æ¸è¿›çš„ â€” ä¸€ä¸ªå®å¯ä»¥è¿”å›è°ƒç”¨å…¶ä»–å® (ç”šè‡³å®ƒæœ¬èº«) çš„ AST. ç¼–è¯‘å™¨ä¼šå†æ¬¡å±•å¼€, ç›´åˆ°ä¸å¯ä»¥å±•å¼€ä¸ºæ­¢. è°ƒç”¨å®ä½¿å¾—æˆ‘ä»¬æœ‰æœºä¼šä¿®æ”¹ä»£ç çš„å«ä¹‰. ä¸€ä¸ªå…¸å‹çš„å®ä¼šè·å–è¾“å…¥çš„ AST å¹¶ä¿®æ”¹å®ƒ, å¹¶åœ¨å®ƒå‘¨å›´æ·»åŠ ä¸€äº›ä»£ç . é‚£å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨å® trace æ‰€åšçš„äº‹æƒ…. æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ª quoted expressionï¼ˆä¾‹å¦‚ 1+2ï¼‰, ç„¶åè¿”å›äº†è¿™ä¸ª: 123result = 1 + 2Tracer.print(&quot;1 + 2&quot;, result)result è¦åœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹è°ƒç”¨å®ï¼ˆåŒ…æ‹¬ shell é‡Œï¼‰, ä½ éƒ½å¿…é¡»å…ˆè°ƒç”¨ require Tracer æˆ– import Tracer. ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå®æœ‰ä¸¤ä¸ªçœ‹ä¼¼çŸ›ç›¾çš„æ€§è´¨: å®ä¹Ÿæ˜¯ Elixir ä»£ç  å®åœ¨åœ¨æœ€ç»ˆçš„å­—èŠ‚ç ç”Ÿæˆä¹‹å‰çš„å±•å¼€é˜¶æ®µè¿è¡Œ Elixir ä»£ç æ˜¯å¦‚ä½•åœ¨è¢«ç”Ÿæˆä¹‹å‰è¿è¡Œçš„ï¼Ÿå®ƒä¸èƒ½. è¦è°ƒç”¨ä¸€ä¸ªå®, å…¶å®¹å™¨æ¨¡å—ï¼ˆå®çš„å®šä¹‰æ‰€åœ¨çš„æ¨¡å—ï¼‰å¿…é¡»å·²ç»è¢«ç¼–è¯‘. å› æ­¤, è¦è¿è¡Œ Tracer æ¨¡å—ä¸­æ‰€å®šä¹‰çš„å®, æˆ‘ä»¬å¿…é¡»ç¡®è®¤å®ƒå·²ç»è¢«ç¼–è¯‘äº†. ä¹Ÿå°±æ˜¯è¯´, æˆ‘ä»¬å¿…é¡»å‘ç¼–è¯‘å™¨æä¾›ä¸€ä¸ªå…³äºæˆ‘ä»¬æ‰€éœ€æ±‚çš„æ¨¡å—çš„é¡ºåº. å½“æˆ‘ä»¬ require äº†ä¸€ä¸ªæ¨¡å—, æˆ‘ä»¬ä¼šè®© Elixir æš‚åœå½“å‰æ¨¡å—çš„ç¼–è¯‘, ç›´åˆ°æˆ‘ä»¬ require çš„æ¨¡å—ç¼–è¯‘å¥½å¹¶è½½å…¥åˆ°äº†ç¼–è¯‘å™¨çš„è¿è¡Œæ—¶ï¼ˆç¼–è¯‘å™¨æ‰€åœ¨çš„ Erlang VM å®ä¾‹ï¼‰. åªæœ‰åœ¨ Tracer æ¨¡å—å®Œå…¨ç¼–è¯‘å¥½å¹¶å¯¹ç¼–è¯‘å™¨å¯ç”¨çš„æƒ…å†µä¸‹, æˆ‘ä»¬æ‰èƒ½è°ƒç”¨ trace å®. ä½¿ç”¨ import ä¹Ÿæœ‰ç›¸åŒæ•ˆæœ, åªä¸è¿‡å®ƒè¿˜åœ¨è¯æ³•ä¸Šå¼•å…¥äº†æ‰€æœ‰çš„å…¬å…±å‡½æ•°å’Œå®, ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç”¨ trace æ›¿ä»£ Tracer.trace. ç”±äºå®ä¹Ÿæ˜¯å‡½æ•°, è€Œ Elixir åœ¨è°ƒç”¨å‡½æ•°æ—¶å¯ä»¥çœç•¥æ‹¬å·, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™: 1Tracer.trace 1+2 è¿™å¾ˆå¯èƒ½æ˜¯ Elixir ä¹‹æ‰€ä»¥ä¸åœ¨å‡½æ•°è°ƒç”¨æ—¶è¦æ±‚æ‹¬å·çš„æœ€ä¸»è¦åŸå› . è®°ä½, å¤§å¤šæ•°è¯­è¨€ç»“æ„éƒ½æ˜¯å®. å¦‚æœæ‹¬å·æ˜¯å¿…é¡»çš„, é‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç¼–å†™çš„ä»£ç å°†ä¼šæ›´åŠ å˜ˆæ‚. 1234defmodule(MyModule, do: def(function_1, do: ...) def(function_2, do: ...)) Hygieneåœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬æåˆ°, å®é»˜è®¤æ˜¯æ•´æ´ï¼ˆHygieneï¼‰çš„. æ„æ€å°±æ˜¯å®å¼•å…¥çš„å˜é‡æœ‰å…¶è‡ªå·±çš„ç§æœ‰ä½œç”¨åŸŸ, ä¸ä¼šå½±å“ä»£ç çš„å…¶ä»–éƒ¨åˆ†. è¿™å°±æ˜¯æˆ‘ä»¬èƒ½å¤Ÿåœ¨æˆ‘ä»¬çš„ trace å®ä¸­å®‰å…¨åœ°å¼•å…¥ result å˜é‡çš„åŸå› : 1234quote do result = unquote(expression_ast) # result æ˜¯å®çš„ç§æœ‰å˜é‡ ...end è¯¥å˜é‡ä¸ä¼šå¹²æ‰°è°ƒç”¨è¿™ä¸ªå®çš„ä»£ç . åœ¨è°ƒç”¨å®çš„åœ°æ–¹, å¯ä»¥éšæ„çš„å£°æ˜ä½ è‡ªå·±çš„ result å˜é‡, å®ƒä¸ä¼šè¢« tracer å®ä¸­çš„ result å˜é‡éšè—è¦†ç›–. å¤§å¤šæ•°æ—¶å€™ hygiene æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ, ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–. æœ‰æ—¶å€™, å¯èƒ½éœ€è¦åˆ›å»ºåœ¨è°ƒç”¨è€…ä½œç”¨åŸŸå†…å¯ç”¨çš„å˜é‡. ä¸‹é¢æˆ‘ä»¬é€šè¿‡ Plug åº“çš„ä¸€ä¸ªç”¨ä¾‹æ¥æ¼”ç¤º, æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ Plug æ¥åˆ¶å®šè·¯ç”±: 1234567get &quot;/resource1&quot; do send_resp(conn, 200, ...)endpost &quot;/resource2&quot; do send_resp(conn, 200, ...)end æ³¨æ„, ä¸Šé¢è¿™ä¸¤ä¸ªå®æ˜¯å¦‚ä½•ä½¿ç”¨å¹¶ä¸å­˜åœ¨çš„ conn å˜é‡. è¿™æ˜¯å› ä¸º, get å®åœ¨ç”Ÿæˆçš„ä»£ç ä¸­ç»‘å®šäº†è¯¥å˜é‡. å¯ä»¥æƒ³è±¡ä¸€ä¸‹, äº§ç”Ÿçš„ä»£ç å¦‚ä¸‹: 123456defp do_match(&quot;GET&quot;, &quot;/resource1&quot;, conn) do ...enddefp do_match(&quot;POST&quot;, &quot;/resource2&quot;, conn) do ...end æ³¨æ„: Plug ç”Ÿæˆçš„çœŸå®ä»£ç æ˜¯ä¸åŒçš„, è¿™é‡Œä¸ºäº†æ¼”ç¤ºå¯¹å…¶è¿›è¡Œäº†ç®€åŒ–. è¿™æ˜¯ä¸€ä¸ªä¾‹å­, å®å¼•å…¥äº†ä¸€ä¸ªå˜é‡, å®ƒå¿…é¡»ä¸æ˜¯ hygienic çš„. å˜é‡ conn ç”± get å®å¼•å…¥, å¿…é¡»å¯¹è°ƒç”¨è€…å¯è§. å¦ä¸€ä¸ªä¾‹å­æ˜¯ä½¿ç”¨ ExActor çš„. çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­: 12345defmodule MyServer do ... defcall my_request(...), do: reply(result) ...end å¦‚æœä½ å¯¹ GenServer å¾ˆç†Ÿæ‚‰, é‚£ä¹ˆä½ çŸ¥é“ä¸€ä¸ª call çš„ç»“æœå¿…é¡»æ˜¯ &#123;:reply, response, state&#125; çš„å½¢å¼. ç„¶è€Œ, åœ¨ä¸Šè¿°ä»£ç ä¸­, ç”šè‡³æ²¡æœ‰æåˆ° state. é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦‚ä½•è¿”å› state çš„å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º defcall å®ç”Ÿæˆäº†ä¸€ä¸ªéšè—çš„state å˜é‡, å®ƒä¹‹åå°†è¢« reply å®æ˜ç¡®ä½¿ç”¨. åœ¨ä¸Šé¢ä¸¤ç§æƒ…å†µä¸­, å®éƒ½å¿…é¡»åˆ›å»ºä¸€ä¸ªä¸ hygienic çš„å˜é‡, è€Œä¸”å¿…é¡»åœ¨å®æ‰€å¼•ç”¨çš„ä»£ç ä¹‹å¤–å¯è§. ä¸ºè¾¾åˆ°è¿™ä¸ªç›®çš„, å¯ä»¥ä½¿ç”¨ var! ç»“æ„. ä¸‹é¢æ˜¯ Plugçš„ get å®çš„ç®€åŒ–ç‰ˆæœ¬: 1234567defmacro get(route, body) do quote do defp do_match(&quot;GET&quot;, unquote(route), var!(conn)) do # put body AST here end endend æ³¨æ„æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ var!(conn) çš„. é€šè¿‡è¿™æ ·åš, æˆ‘ä»¬æŒ‡å®š conn æ˜¯ä¸€ä¸ªå¯¹è°ƒç”¨è€…å¯è§çš„å˜é‡. ä¸Šè¿°ä»£ç æ²¡æœ‰è§£é‡Š body æ˜¯å¦‚ä½•æ³¨å…¥çš„. åœ¨è¿™ä¹‹å‰, ä½ éœ€è¦ç†è§£å®æ‰€æ¥å—çš„å‚æ•°. å®å‚æ•°ä½ è¦è®°ä½, å®æœ¬è´¨ä¸Šæ˜¯åœ¨ AST å±•å¼€é˜¶æ®µè¢«å¯¼å…¥çš„ Elixir å‡½æ•°, ç„¶åç”Ÿæˆæœ€ç»ˆçš„ AST. å®çš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºå®ƒæ‰€æ¥å—çš„å‚æ•°éƒ½æ˜¯ quoted çš„. è¿™å°±æ˜¯æˆ‘ä»¬ä¹‹æ‰€ä»¥èƒ½å¤Ÿè°ƒç”¨çš„åŸå› : 123def my_fun do ...end ç­‰åŒäº: 1def(my_fun, do: (...)) æ³¨æ„æˆ‘ä»¬å¦‚ä½•è°ƒç”¨ def å®, ä¼ é€’ my_fun, å³ä½¿è¿™ä¸ªå˜é‡ä¸å­˜åœ¨. è¿™å®Œå…¨æ²¡é—®é¢˜, å› ä¸ºæˆ‘ä»¬å®é™…ä¸Šä¼ é€’çš„æ˜¯ quote(do: my_fun) çš„ç»“æœ, è€Œå¼•ç”¨ï¼ˆquoteï¼‰ä¸è¦æ±‚å˜é‡å­˜åœ¨. åœ¨å†…éƒ¨, def å®ä¼šæ¥æ”¶åˆ°åŒ…å«äº† :my_fun çš„å¼•ç”¨å½¢å¼. def å®ä¼šä½¿ç”¨è¿™ä¸ªä¿¡æ¯æ¥ç”Ÿæˆå¯¹åº”åç§°çš„å‡½æ•°. è¿™é‡Œå†æä¸€ä¸‹ do...end å—. ä»»ä½•æ—¶å€™å‘é€ä¸€ä¸ª do...end å—ç»™ä¸€ä¸ªå®, éƒ½ç›¸å½“äºå‘é€ä¸€ä¸ªå¸¦æœ‰ :do é”®çš„ Keyword åˆ—è¡¨ï¼ˆKeywords listï¼‰. æ‰€ä»¥å¦‚ä¸‹è°ƒç”¨: 1my_macro arg1, arg2 do ... end ç­‰åŒäº 1my_macro(arg1, arg2, do: ...) è¿™äº›åªä¸è¿‡æ˜¯ Elixir ä¸­çš„è¯­æ³•ç³–. è§£é‡Šå™¨å°† do ... end è½¬æ¢æˆäº† &#123;:do, ...&#125;. ç°åœ¨, æˆ‘åªæåˆ°äº†å‚æ•°æ˜¯è¢«å¼•ç”¨ï¼ˆquotedï¼‰çš„. ç„¶è€Œ, å¯¹äºè®¸å¤šå¸¸é‡ï¼ˆåŸå­, æ•°å­—, å­—ç¬¦ä¸²ï¼‰, å¼•ç”¨ï¼ˆquotedï¼‰å½¢å¼å’Œè¾“å…¥å€¼å®Œå…¨ä¸€æ ·. æ­¤å¤–, äºŒå…ƒå…ƒç»„å’Œåˆ—è¡¨ä¼šåœ¨è¢«å¼•ç”¨ï¼ˆquotedï¼‰æ—¶ä¿æŒå®ƒä»¬çš„ç»“æ„. è¿™æ„å‘³ç€ quote(do: &#123;a, b&#125;) å°†ä¼šè¿”å›ä¸€ä¸ªäºŒå…ƒå…ƒç»„, å®ƒçš„ä¸¤ä¸ªå€¼éƒ½æ˜¯è¢«å¼•ç”¨ï¼ˆquotedï¼‰çš„. 1234567891011121314iex(1)&gt; quote do :an_atom end:an_atomiex(2)&gt; quote do &quot;a string&quot; end&quot;a string&quot;iex(3)&gt; quote do 3.14 end3.14iex(4)&gt; quote do &#123;1,2&#125; end&#123;1, 2&#125;iex(5)&gt; quote do [1,2,3,4,5] end[1, 2, 3, 4, 5] å¯¹ä¸‰å…ƒå…ƒç»„çš„å¼•ç”¨ï¼ˆquotedï¼‰ä¸ä¼šä¿ç•™å®ƒçš„å½¢çŠ¶: 12iex(6)&gt; quote do &#123;1,2,3&#125; end&#123;:&#123;&#125;, [], [1, 2, 3]&#125; ç”±äºåˆ—è¡¨å’ŒäºŒå…ƒå…ƒç»„åœ¨è¢«å¼•ç”¨æ—¶èƒ½ä¿ç•™ç»“æ„, æ‰€ä»¥å…³é”®è¯åˆ—è¡¨ï¼ˆKeywords listï¼‰ä¹Ÿå¯ä»¥: 12345iex(7)&gt; quote do [a: 1, b: 2] end[a: 1, b: 2]iex(8)&gt; quote do [a: x, b: y] end[a: &#123;:x, [], Elixir&#125;, b: &#123;:y, [], Elixir&#125;] åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­, ä½ å¯ä»¥çœ‹åˆ°è¾“å…¥çš„å…³é”®è¯åˆ—è¡¨å®Œå…¨æ²¡å˜. ç¬¬äºŒä¸ªä¾‹å­è¯æ˜äº†å¤æ‚çš„éƒ¨åˆ†ï¼ˆä¾‹å¦‚è°ƒç”¨ xå’Œ yï¼‰ä¼šæ˜¯ quoted å½¢å¼. ä½†æ˜¯åˆ—è¡¨è¿˜ä¿æŒç€å®ƒçš„å½¢çŠ¶. è¿™ä»ç„¶æ˜¯ä¸€ä¸ªé”®ä¸º :a å’Œ :b çš„å…³é”®è¯åˆ—è¡¨. å°†å®ƒä»¬æ”¾åœ¨ä¸€èµ·ä¸ºä»€ä¹ˆè¿™äº›éƒ½å¾ˆé‡è¦? å› ä¸ºåœ¨å®ä»£ç ä¸­, æ‚¨å¯ä»¥å¾ˆå®¹æ˜“åœ°ä»å…³é”®å­—åˆ—è¡¨ (Keyword list) ä¸­è·å–æ‰€éœ€è¦çš„é€‰é¡¹, è€Œä¸éœ€è¦åˆ†æä¸€äº›ä»¤äººè´¹è§£çš„ AST. ä¹‹å‰, æˆ‘ä»¬ç•™ä¸‹äº†è¿™ä¸ªè‰å›¾ä»£ç : 1234567defmacro get(route, body) do quote do defp do_match(&quot;GET&quot;, unquote(route), var!(conn)) do # put body AST here end endend è®°ä½, do ... end å’Œ do: ... æ˜¯ä¸€æ ·çš„, æ‰€ä»¥å½“æˆ‘ä»¬è°ƒç”¨ get route do ... end æ—¶, æˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨è°ƒç”¨ get(route, do: ...) è®°ä½å®å‚æ•°æ˜¯ quoted çš„, ä½†ä¹Ÿè¦çŸ¥é“ quoted çš„å…³é”®å­—åˆ—è¡¨ä¼šä¿æŒå®ƒä»¬çš„å½¢çŠ¶, å¯ä»¥ä½¿ç”¨ body[:do]è·å–å®ä¸­å¼•ç”¨çš„ä¸»ä½“: 1234567defmacro get(route, body) do quote do defp do_match(&quot;GET&quot;, unquote(route), var!(conn)) do unquote(body[:do]) end endend å› æ­¤, æˆ‘ä»¬åªéœ€å°† quoted çš„è¾“å…¥ä¸»ä½“æ³¨å…¥åˆ°æ­£åœ¨ç”Ÿæˆçš„ do_match å­å¥ï¼ˆclauseï¼‰ä¸»ä½“ä¸­. å¦‚ä¹‹å‰æ‰€è¿°, è¿™å°±æ˜¯å®çš„ç”¨é€”. å®ƒæ¥æ”¶ä¸€äº› AST ç‰‡æ®µ, å¹¶å°†å®ƒä»¬ä¸æ ·æ¿ä»£ç ç»„åˆåœ¨ä¸€èµ·, ä»¥ç”Ÿæˆæœ€ç»ˆç»“æœ. ç†æƒ³æƒ…å†µä¸‹, å½“æˆ‘ä»¬è¿™æ ·åšæ—¶, æˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¾“å…¥ AST çš„å†…å®¹, åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­, æˆ‘ä»¬åªéœ€è¦åœ¨ç”Ÿæˆçš„å‡½æ•°ä¸­æ³¨å…¥å‡½æ•°ä½“, è€Œä¸éœ€è¦å…³å¿ƒå‡½æ•°ä½“ä¸­å®é™…æœ‰ä»€ä¹ˆ. æµ‹è¯•è¿™ä¸ªå®å¾ˆç®€å•. ä»¥ä¸‹æ˜¯æ‰€éœ€ä»£ç çš„æœ€å°åŒ–: 1234567891011defmodule Plug.Router do # å® get ä»å®¢æˆ·ç«¯åˆ é™¤æ ·æ¿ä»£ç  # ç¡®ä¿ç”Ÿæˆçš„ä»£ç ç¬¦åˆæ³›å‹é€»è¾‘æ‰€éœ€çš„ä¸€äº›æ ‡å‡† defmacro get(route, body) do quote do defp do_match(&quot;GET&quot;, unquote(route), var!(conn)) do unquote(body[:do]) end end endend ç°åœ¨, æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªå®¢æˆ·ç«¯ (è¯‘æ³¨: ä½¿ç”¨å®çš„ä»£ç ) æ¨¡å—: 123456789101112defmodule MyRouter do import Plug.Router # å¤šå­å¥ dispatch çš„é€šç”¨ä»£ç  def match(type, route) do do_match(type, route, :dummy_connection) end # ä½¿ç”¨å®æœ€å°åŒ–æ ·æ¿ä»£ç é‡ get &quot;/hello&quot;, do: &#123;conn, &quot;Hi!&quot;&#125; get &quot;/goodbye&quot;, do: &#123;conn, &quot;Bye!&quot;&#125;end æµ‹è¯•ä¸€ä¸‹: 12345MyRouter.match(&quot;GET&quot;, &quot;/hello&quot;) |&gt; IO.inspect# &#123;:dummy_connection, &quot;Hi!&quot;&#125;MyRouter.match(&quot;GET&quot;, &quot;/goodbye&quot;) |&gt; IO.inspect# &#123;:dummy_connection, &quot;Bye!&quot;&#125; æ³¨æ„ match/2 çš„ä»£ç . å®ƒæ˜¯é€šç”¨çš„ä»£ç , ä¾èµ–äº do_match/3 çš„å®ç°. ä½¿ç”¨æ¨¡å—è§‚å¯Ÿä¸Šè¿°ä»£ç , ä½ å¯ä»¥çœ‹åˆ° match/2 çš„èƒ¶æ°´ä»£ç å­˜åœ¨äºå®¢æˆ·ç«¯æ¨¡å—ä¸­. è¿™è‚¯å®šç®—ä¸ä¸Šå®Œç¾, å› ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯éƒ½å¿…é¡»æä¾›å¯¹è¿™ä¸ªå‡½æ•°çš„æ­£ç¡®å®ç°, è€Œä¸”å¿…é¡»è°ƒç”¨ do_match å‡½æ•°. æ›´å¥½çš„é€‰æ‹©æ˜¯, Plug.Router èƒ½å¤Ÿå°†è¿™ä¸ªå®ç°æŠ½è±¡æä¾›ç»™æˆ‘ä»¬. æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ use å®, å¤§æ¦‚å°±æ˜¯å…¶å®ƒè¯­è¨€ä¸­çš„ mixin. æ€»ä½“æ€è·¯å¦‚ä¸‹: 1234567891011121314defmodule ClientCode do # è°ƒç”¨ mixin use GenericCode, option_1: value_1, option_2: value_2, ...enddefmodule GenericCode do # åœ¨æ¨¡å—è¢«ä½¿ç”¨çš„æ—¶å€™è°ƒç”¨ defmacro __using__(options) do # ç”Ÿæˆä¸€ä¸ªAST, è¯¥ AST å°†è¢«æ’å…¥åˆ° use çš„åœ°æ–¹ quote do ... end endend å› æ­¤, ä½¿ç”¨ use æœºåˆ¶å…è®¸æˆ‘ä»¬å‘è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­æ³¨å…¥ä¸€äº›ä»£ç . å°±åƒæ˜¯æ›¿ä»£äº†è¿™äº›: 1234defmodule ClientCode do require GenericCode GenericCode.__using__(...)end è¿™å¯ä»¥é€šè¿‡æŸ¥çœ‹ Elixir çš„æºä»£ç æ¥è¯æ˜. è¿™è¯æ˜äº†å¦ä¸€ç‚¹ â€” ä¸æ–­å±•å¼€. use å®ç”Ÿæˆè°ƒç”¨å¦ä¸€ä¸ªå®çš„ä»£ç . æˆ–è€…æ›´å·§å¦™åœ°è¯´, ç”¨ç”Ÿæˆä»£ç æ¥ç”Ÿæˆä»£ç . æ­£å¦‚å‰é¢æåˆ°çš„, ç¼–è¯‘å™¨ä¼šé€’å½’åœ°å±•å¼€å®ƒæ‰€å‘ç°çš„æ‰€æœ‰å®å®šä¹‰, ç›´åˆ°æ²¡æœ‰å¯å±•å¼€çš„å®ä¸ºæ­¢.. æœ‰äº†è¿™äº›çŸ¥è¯†, æˆ‘ä»¬å¯ä»¥å°† match å‡½æ•°çš„å®ç°è½¬ç§»åˆ°é€šç”¨çš„ Plug.Router æ¨¡å—: 123456789101112131415defmodule Plug.Router do defmacro __using__(_options) do quote do import Plug.Router def match(type, route) do do_match(type, route, :dummy_connection) end end end defmacro get(route, body) do ... # è¿™æ®µä»£ç ä¿æŒä¸å˜ endend è¿™ä½¿å¾—å®¢æˆ·ç«¯ä»£ç  (è¯‘æ³¨: ä½¿ç”¨å®çš„ä»£ç ) éå¸¸ç²¾ç®€: 123456defmodule MyRouter do use Plug.Router get &quot;/hello&quot;, do: &#123;conn, &quot;Hi!&quot;&#125; get &quot;/goodbye&quot;, do: &#123;conn, &quot;Bye!&quot;&#125;end __using__ å®ç”Ÿæˆçš„ AST ä¼šç®€å•åœ°è¢«æ³¨å…¥åˆ°è°ƒç”¨ use Plug.Router çš„åœ°æ–¹. ç‰¹åˆ«æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•ä» __using__ å®é‡Œä½¿ç”¨ import Plug.Router çš„, è¿™ä¸æ˜¯å¿…è¦çš„. ä½†è¿™è®©ä½ å¯ä»¥ä½¿ç”¨ get æ›¿ä»£ä½¿ç”¨ Plug.Router.get. é‚£ä¹ˆæˆ‘ä»¬å¾—åˆ°äº†ä»€ä¹ˆï¼Ÿå„ç§æ ·æ¿ä»£ç æ±‡é›†åˆ°äº†ä¸€ä¸ªåœ°æ–¹ï¼ˆPlug.Router). ä¸ä»…ä»…ç®€åŒ–äº†å®¢æˆ·ç«¯ä»£ç , ä¹Ÿè®©è¿™ä¸ªæŠ½è±¡æ­£ç¡®é—­åˆ. æ¨¡å— Plug.Routerç¡®ä¿äº† get å®æ‰€ç”Ÿæˆçš„ä»»ä½•ä¸œè¥¿éƒ½èƒ½é€‚åˆä½¿ç”¨ match çš„é€šç”¨ä»£ç . åœ¨å®¢æˆ·ç«¯ä¸­, æˆ‘ä»¬åªè¦ useé‚£ä¸ªæ¨¡å—, ç„¶åç”¨å®ƒæä¾›çš„å®æ¥ç»„åˆæˆ‘ä»¬çš„ router. æ€»ç»“ä¸€ä¸‹æœ¬ç« çš„å†…å®¹. è¿˜æœ‰è®¸å¤šç»†èŠ‚æ²¡æœ‰æåˆ°, ä½†å¸Œæœ›ä½ å¯¹äºå®æ˜¯å¦‚ä½•ä¸ Elixir ç¼–è¯‘å™¨ç›¸ç»“åˆå·¥ä½œçš„æœ‰äº†æ›´å¥½çš„ç†è§£. åœ¨ä¸‹ä¸€éƒ¨åˆ† ã€ŠUnderstanding Elixir Macros, Part 3 - Getting into the ASTã€‹, æˆ‘ä»¬ä¼šæ›´æ·±å…¥, å¹¶å¼€å§‹æ¢ç´¢å¦‚ä½•åˆ†è§£è¾“å…¥çš„ AST. é™„æ³¨ mixin: Mixin å³ Mix-in, å¸¸è¢«è¯‘ä¸º â€œæ··å…¥â€, æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å¼, åœ¨ Python ç­‰é¢å‘å¯¹è±¡è¯­è¨€ä¸­, é€šå¸¸å®ƒæ˜¯å®ç°äº†æŸç§åŠŸèƒ½å•å…ƒçš„ç±», ç”¨äºè¢«å…¶ä»–å­ç±»ç»§æ‰¿, å°†åŠŸèƒ½ç»„åˆåˆ°å­ç±»ä¸­. 12345678910# ä¾‹å­class Mixin: def mixin_method(self): print(&quot;Mixin method called&quot;)class MyClass(Mixin): passobj = MyClass()obj.mixin_method() # è¾“å‡º: Mixin method called åŸæ–‡: https://www.theerlangelist.com/article/macros_2","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir-Macros","slug":"Elixir-Macros","permalink":"https://yeshan333.github.io/tags/Elixir-Macros/"}]},{"title":"(è¯‘) Understanding Elixir Macros, Part 1 Basics","slug":"understanding-elixir-macros-part-1-basics","date":"2022-06-18T14:13:45.000Z","updated":"2022-06-18T14:13:45.000Z","comments":true,"path":"2022/06/18/understanding-elixir-macros-part-1-basics/","permalink":"https://yeshan333.github.io/2022/06/18/understanding-elixir-macros-part-1-basics/","excerpt":"","text":"Elixir Macros ç³»åˆ—æ–‡ç« è¯‘æ–‡ [1] (è¯‘) Understanding Elixir Macros, Part 1 Basics [2] (è¯‘) Understanding Elixir Macros, Part 2 - Macro Theory [3] (è¯‘) Understanding Elixir Macros, Part 3 - Getting into the AST [4] (è¯‘) Understanding Elixir Macros, Part 4 - Diving Deeper [5] (è¯‘) Understanding Elixir Macros, Part 5 - Reshaping the AST [6] (è¯‘) Understanding Elixir Macros, Part 6 - In-place Code GenerationåŸæ–‡ GitHub ä»“åº“, ä½œè€…: SaÅ¡a JuriÄ‡. è¿™æ˜¯è®¨è®º Elixir å® (Macros) ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€ç¯‡. æˆ‘åŸæœ¬è®¡åˆ’åœ¨æˆ‘å³å°†å‡ºç‰ˆçš„ã€ŠElixir in Actionã€‹ä¸€ä¹¦ä¸­è®¨è®ºè¿™ä¸ªä¸»é¢˜, ä½†æœ€ç»ˆå†³å®šä¸è¿™ä¹ˆåš, å› ä¸ºè¿™ä¸ªä¸»é¢˜ä¸ç¬¦åˆè¿™æœ¬ä¹¦çš„ä¸»é¢˜, è¿™æœ¬ä¹¦æ›´å…³æ³¨åº•å±‚ VM å’Œ OTP çš„å…³é”®éƒ¨åˆ†. å°±æˆ‘ä¸ªäººè€Œè¨€, æˆ‘è§‰å¾—å®çš„ä¸»é¢˜éå¸¸æœ‰è¶£, åœ¨æœ¬ç³»åˆ—æ–‡ç« ä¸­, æˆ‘å°†è¯•å›¾è§£é‡Šå®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„, æä¾›ä¸€äº›å…³äºå¦‚ä½•ç¼–å†™å®çš„åŸºæœ¬æŠ€å·§å’Œå»ºè®®. è™½ç„¶æˆ‘ç¡®ä¿¡ç¼–å†™å®ä¸æ˜¯å¾ˆéš¾, ä½†ä¸æ™®é€šçš„ Elixir ä»£ç ç›¸æ¯”, å®ƒç¡®å®éœ€è¦æ›´é«˜è§†è§’çš„å…³æ³¨. å› æ­¤, æˆ‘è®¤ä¸ºè¿™äº†è§£ Elixir ç¼–è¯‘å™¨çš„ä¸€äº›å†…éƒ¨ç»†èŠ‚æ˜¯éå¸¸æœ‰å¸®åŠ©çš„. äº†è§£äº‹æƒ…åœ¨å¹•åæ˜¯å¦‚ä½•è¿è¡Œä¹‹å, å°±å¯ä»¥æ›´å®¹æ˜“åœ°ç†è§£å…ƒç¼–ç¨‹ä»£ç . è¿™æ˜¯ç¯‡ä¸­çº§æ°´å¹³çš„æ–‡ç« . å¦‚æœä½ å¾ˆç†Ÿæ‚‰ Elixir å’Œ Erlang, ä½†å¯¹å®è¿˜æ„Ÿè§‰åˆ°å›°æƒ‘, é‚£ä¹ˆè¿™äº›å†…å®¹å¾ˆé€‚åˆä½ . å¦‚æœä½ åˆšå¼€å§‹æ¥è§¦ Elixir å’Œ Erlang, é‚£ä¹ˆæœ€å¥½ä»å…¶å®ƒåœ°æ–¹å¼€å§‹. æ¯”å¦‚ Getting started guide, æˆ–è€…ä¸€äº›å¯é çš„ä¹¦. å…ƒç¼–ç¨‹ (Meta-programming)æˆ–è®¸ä½ å·²ç»å¯¹ Elixir ä¸­çš„å…ƒç¼–ç¨‹æœ‰ä¸€ç‚¹äº†è§£. å…¶ä¸»è¦çš„æ€æƒ³å°±æ˜¯æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€äº›ä»£ç , å®ƒä»¬ä¼šæ ¹æ®æŸäº›è¾“å…¥æ¥ç”Ÿæˆä»£ç . æ­£å› ä¸ºæœ‰äº†å® (Macros), æˆ‘ä»¬å¯ä»¥å†™å‡ºå¦‚ä¸‹è¿™æ®µæ¥è‡ªäº Plug çš„ä»£ç : 1234567get &quot;/hello&quot; do send_resp(conn, 200, &quot;world&quot;)endmatch _ do send_resp(conn, 404, &quot;oops&quot;)end æˆ–è€…æ˜¯æ¥è‡ª ExActor çš„ 12345defmodule SumServer do use ExActor.GenServer defcall sum(x, y), do: reply(x+y)end åœ¨ä»¥ä¸Šä¸¤ä¸ªä¾‹å­ä¸­, æˆ‘ä»¬ä½¿ç”¨åˆ°äº†ä¸€äº›è‡ªå®šä¹‰çš„å®, è¿™äº›å®ä¼šåœ¨ç¼–è¯‘æ—¶ (compile time) éƒ½è½¬åŒ–æˆå…¶å®ƒçš„ä»£ç . è°ƒç”¨ Plug çš„ get å’Œ match ä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°, è€Œ ExActor çš„ defcall ä¼šç”Ÿæˆä¸¤ä¸ªå‡½æ•°å’Œå°†å‚æ•°æ­£ç¡®ä»å®¢æˆ·ç«¯è¿›ç¨‹ä¼ æ’­ç»™æœåŠ¡ç«¯è¿›ç¨‹çš„ä»£ç . Elixir æœ¬èº«çš„å®ç°ä¸Šå°±éå¸¸å¤šåœ°ç”¨åˆ°äº†å®. ä¾‹å¦‚ defmodule, def, if, unless, ç”šè‡³ defmacro éƒ½æ˜¯å®. è¿™ä½¿å¾—è¯­è¨€çš„æ ¸å¿ƒèƒ½ä¿æŒæœ€å°åŒ–, æ—¥åå¯¹è¯­è¨€çš„æ‰©å±•å°±ä¼šæ›´åŠ ç®€å•. é²œä¸ºäººçŸ¥çš„æ˜¯, å®å¯ä»¥è®©æˆ‘ä»¬å¯ä»¥æœ‰åŠ¨æ€ (on the fly) ç”Ÿæˆå‡½æ•°çš„å¯èƒ½æ€§: 123456789101112131415161718192021defmodule Fsm do fsm = [ running: &#123;:pause, :paused&#125;, running: &#123;:stop, :stopped&#125;, paused: &#123;:resume, :running&#125; ] for &#123;state, &#123;action, next_state&#125;&#125; &lt;- fsm do def unquote(action)(unquote(state)), do: unquote(next_state) end def initial, do: :runningendFsm.initial# :runningFsm.initial |&gt; Fsm.pause# :pausedFsm.initial |&gt; Fsm.pause |&gt; Fsm.pause# ** (FunctionClauseError) no function clause matching in Fsm.pause/1 åœ¨è¿™é‡Œ, æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª Fsm module, åŒæ ·çš„, å®ƒåœ¨ç¼–è¯‘æ—¶ä¼šè½¬æ¢æˆå¯¹åº”çš„å¤šå­å¥å‡½æ•° (multi-clause functions). ç±»ä¼¼çš„æŠ€æœ¯è¢« Elixir ç”¨äºç”Ÿæˆ String.Unicode æ¨¡å—. æœ¬è´¨ä¸Šè®², è¿™ä¸ªæ¨¡å—æ˜¯é€šè¿‡è¯»å– UnicodeData.txt å’ŒSpecialCasing.txt æ–‡ä»¶é‡Œå¯¹ç ä½ (codepoints) çš„æè¿°æ¥ç”Ÿæˆçš„. åŸºäºæ–‡ä»¶ä¸­çš„æ•°æ®, å„ç§å‡½æ•° (ä¾‹å¦‚ upcase, downcase) ä¼šè¢«ç”Ÿæˆ. æ— è®ºæ˜¯å®è¿˜æ˜¯ä»£ç ç”Ÿæˆ, æˆ‘ä»¬éƒ½åœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­å¯¹æŠ½è±¡è¯­æ³•æ ‘åšäº†æŸäº›å˜æ¢. ä¸ºäº†ç†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„, ä½ éœ€è¦å­¦ä¹ ä¸€ç‚¹Elixir ç¼–è¯‘è¿‡ç¨‹å’Œ AST çš„çŸ¥è¯†. ç¼–è¯‘è¿‡ç¨‹ (Compilation process) è¾“å…¥çš„æºä»£ç è¢«è§£æ, ç„¶åç”Ÿæˆç›¸åº”çš„æŠ½è±¡è¯­æ³•æ ‘ (AST1). AST1 ä¼šä»¥åµŒå¥—çš„ Elixir Terms çš„å½¢å¼æ¥è¡¨è¿°ä½ çš„ä»£ç . ç„¶åè¿›å…¥å±•å¼€é˜¶æ®µ. åœ¨è¿™ä¸ªé˜¶æ®µ, å„ç§å†…ç½®çš„å’Œè‡ªå®šä¹‰çš„å®è¢«è½¬æ¢æˆäº†æœ€ç»ˆç‰ˆæœ¬. ä¸€æ—¦è½¬æ¢ç»“æŸ, Elixir å°±å¯ä»¥ç”Ÿæˆæœ€åçš„å­—èŠ‚ç , å³æºç¨‹åºçš„äºŒè¿›åˆ¶è¡¨ç¤º. è¿™åªæ˜¯å¯¹æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹çš„æ¦‚è¿°. ä¾‹å¦‚, Elixir ç¼–è¯‘å™¨è¿˜ä¼šç”Ÿæˆ Erlang AST, ç„¶åä¾èµ– Erlang å‡½æ•°å°†å…¶è½¬æ¢ä¸ºå­—èŠ‚ç , ä½†æ˜¯æˆ‘ä»¬è¿˜ä¸éœ€è¦çŸ¥é“è¿™éƒ¨åˆ†ç»†èŠ‚. ä¸è¿‡, æˆ‘è®¤ä¸ºè¿™å¹…å›¾å¯¹äºç†è§£å…ƒç¼–ç¨‹ä»£ç æ˜¯æœ‰å¸®åŠ©çš„. ç†è§£å…ƒç¼–ç¨‹é­”æ³•çš„å…³é”®ç‚¹åœ¨äºç†è§£åœ¨å±•å¼€é˜¶æ®µ (expansion phase) å‘ç”Ÿäº†ä»€ä¹ˆ. ç¼–è¯‘å™¨ä¼šåŸºäºåŸå§‹ Elixir ä»£ç çš„ AST å±•å¼€ä¸ºæœ€ç»ˆç‰ˆæœ¬. å¦å¤–, ä»è¿™ä¸ªå›¾ä¸­å¯ä»¥å¾—åˆ°å¦ä¸€ä¸ªé‡è¦ç»“è®º, Elixir åœ¨ç”Ÿæˆäº†äºŒè¿›åˆ¶ä¹‹å, å…ƒç¼–ç¨‹å°±åœæ­¢äº†. ä½ å¯ä»¥ç¡®å®šä½ çš„ä»£ç ä¸ä¼šè¢«é‡æ–°å®šä¹‰, é™¤éä½¿ç”¨åˆ°äº†ä»£ç å‡çº§æˆ–æ˜¯ä¸€äº›åŠ¨æ€çš„ä»£ç æ’å…¥æŠ€æœ¯ (è¿™ä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´). å…ƒç¼–ç¨‹æ€»æ˜¯ä¼šå¼•å…¥ä¸€ä¸ªéšå½¢ (æˆ–ä¸æ˜æ˜¾)çš„å±‚, åœ¨ Elixir ä¸­è¿™åªå‘ç”Ÿåœ¨ç¼–è¯‘æ—¶, å¹¶ç‹¬ç«‹äºç¨‹åºçš„å„ç§æ‰§è¡Œè·¯å¾„. ä»£ç è½¬æ¢å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶, å› æ­¤æ¨å¯¼æœ€ç»ˆäº§å“ä¼šç›¸å¯¹ç®€å•, è€Œä¸”å…ƒç¼–ç¨‹ä¸ä¼šå¹²æ‰°ä¾‹å¦‚ dialyzer è¿™æ ·çš„é™æ€åˆ†æå·¥å…·. ç¼–è¯‘æ—¶å…ƒç¼–ç¨‹ (Compile time meta-programming)ä¹Ÿæ„å‘³ç€æˆ‘ä»¬ä¸ä¼šæœ‰æ€§èƒ½æŸå¤±. è¿›å…¥è¿è¡Œæ—¶ (run-time) å, ä»£ç å°±å·²ç»å®šå‹äº†, ä»£ç ä¸­ä¸ä¼šæœ‰å…ƒç¼–ç¨‹ç»“æ„åœ¨è¿è¡Œ. åˆ›å»º AST ç‰‡æ®µä»€ä¹ˆæ˜¯ Elixir AST? å®ƒæ˜¯ä¸€ä¸ª Elixir Term (è¯‘æ³¨: Elixir ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½å¯ä»¥çœ‹æˆæ˜¯ term), ä¸€ä¸ªæ·±åº¦åµŒå¥—çš„å±‚æ¬¡ç»“æ„, ç”¨äºè¡¨è¿°ä¸€ä¸ªè¯­æ³•æ­£ç¡®çš„ Elixir ä»£ç . ä¸ºäº†è¯´å¾—æ›´æ˜ç™½ä¸€äº›, ä¸¾ä¸ªä¾‹å­. è¦ç”ŸæˆæŸæ®µä»£ç çš„ AST, å¯ä»¥ä½¿ç”¨ quote: 12iex(1)&gt; quoted = quote do 1 + 2 end&#123;:+, [context: Elixir, import: Kernel], [1, 2]&#125; ä½¿ç”¨ quote å¯ä»¥è·å–ä»»æ„ä¸€ä¸ªå¤æ‚çš„ Elixir è¡¨è¾¾å¼å¯¹åº”çš„ AST ç‰‡æ®µ. åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­, ç”Ÿæˆçš„ AST ç‰‡æ®µç”¨äºæè¿°ä¸€ä¸ªç®€å•çš„æ±‚å’Œæ“ä½œ (1+2). è¿™é€šå¸¸è¢«ç§°ä¸º quoted expression. å¤§å¤šæ•°æ—¶å€™ä½ ä¸éœ€è¦å»ç†è§£ quoted ç»“æ„çš„å…·ä½“ç»†èŠ‚, è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­. åœ¨è¿™ç§æƒ…å†µä¸‹, AST ç‰‡æ®µæ˜¯ä¸€ä¸ªåŒ…å«å¦‚ä¸‹å…ƒç´ çš„ä¸‰å…ƒç»„ (triplet): ä¸€ä¸ªåŸå­ (atom) è¡¨ç¤ºæ‰€è¦è¿›è¡Œçš„æ“ä½œ (:+) è¡¨è¾¾å¼ä¸Šä¸‹æ–‡ (context, ä¾‹å¦‚ imports å’Œ aliases). é€šå¸¸ä½ å¹¶ä¸éœ€è¦ç†è§£è¿™ä¸ªæ•°æ® æ“ä½œå‚æ•° è¦ç‚¹: è¿™ä¸ª quoted expression æ˜¯ä¸€ä¸ªæè¿°ä»£ç çš„ Elixir term. ç¼–è¯‘å™¨ä¼šä½¿ç”¨å®ƒç”Ÿæˆæœ€ç»ˆçš„å­—èŠ‚ç . è™½ç„¶ä¸å¸¸è§, ä½†å¯¹ä¸€ä¸ª quoted expression æ±‚å€¼ä¹Ÿæ˜¯å¯ä»¥çš„: 12iex(2)&gt; Code.eval_quoted(quoted)&#123;3, []&#125; è¿”å›çš„å…ƒç»„ä¸­åŒ…å«äº†è¡¨è¾¾å¼çš„ç»“æœ, ä»¥åŠä¸€ä¸ªåˆ—è¡¨, å…¶ä¸­åŒ…å«äº†æ„æˆè¡¨è¾¾å¼çš„å˜é‡. ä½†æ˜¯, åœ¨ AST è¢«æ±‚å€¼å‰ (é€šå¸¸ç”±ç¼–è¯‘å™¨å®Œæˆ), quoted expression å¹¶æ²¡æœ‰è¿›è¡Œè¯­ä¹‰ä¸Šçš„éªŒè¯. ä¾‹å¦‚, å½“æˆ‘ä»¬ä¹¦å†™å¦‚ä¸‹è¡¨è¾¾å¼æ—¶: 12iex(3)&gt; a + b** (CompileError) iex:3: undefined function a/0 (there is no such import) æˆ‘ä»¬ä¼šå¾—åˆ°é”™è¯¯, å› ä¸ºè¿™é‡Œæ²¡æœ‰å«åšä¸€ä¸ªå«åš a çš„å˜é‡ (æˆ–å‡½æ•°). ç›¸æ¯”è€Œè¨€, å¦‚æœ quote è¿™ä¸ªè¡¨è¾¾å¼: 123iex(3)&gt; quote do a + b end&#123;:+, [context: Elixir, import: Kernel], [&#123;:a, [if_undefined: :apply], Elixir&#125;, &#123;:b, [if_undefined: :apply], Elixir&#125;]&#125; è¿™ä¸ªæ²¡æœ‰å‘ç”Ÿé”™è¯¯, æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªè¡¨è¾¾å¼ a+b çš„ quoted è¡¨ç°å½¢å¼. å…¶æ„æ€æ˜¯, ç”Ÿæˆäº†ä¸€ä¸ªæè¿°è¯¥è¡¨è¾¾å¼ a+b çš„ term, ä¸ç®¡è¡¨è¾¾å¼ä¸­çš„å˜é‡æ˜¯å¦å­˜åœ¨. æœ€ç»ˆçš„ä»£ç å¹¶æ²¡æœ‰ç”Ÿæˆ, æ‰€ä»¥è¿™é‡Œä¸ä¼šæœ‰é”™è¯¯æŠ›å‡º. å¦‚æœæŠŠè¯¥è¡¨è¿°æ’å…¥åˆ°æŸäº› a å’Œ b æ˜¯æœ‰æ•ˆæ ‡è¯†ç¬¦çš„ AST ä¸­, åˆšæ‰å‘ç”Ÿé”™è¯¯çš„ä»£ç  a+b, æ‰æ˜¯æ­£ç¡®çš„. ä¸‹é¢æ¥è¯•ä¸€ä¸‹, é¦–å…ˆ quote ä¸€ä¸ªæ±‚å’Œ (sum)è¡¨è¾¾å¼: 123iex(4)&gt; sum_expr = quote do a + b end&#123;:+, [context: Elixir, import: Kernel], [&#123;:a, [if_undefined: :apply], Elixir&#125;, &#123;:b, [if_undefined: :apply], Elixir&#125;]&#125; ç„¶ååˆ›å»ºä¸€ä¸ª quoted å˜é‡ç»‘å®šè¡¨è¾¾å¼: 123456789iex(5)&gt; bind_expr = quote do...(5)&gt; a=1...(5)&gt; b=2...(5)&gt; end&#123;:__block__, [], [ &#123;:=, [], [&#123;:a, [if_undefined: :apply], Elixir&#125;, 1]&#125;, &#123;:=, [], [&#123;:b, [if_undefined: :apply], Elixir&#125;, 2]&#125; ]&#125; è®°ä½, å®ƒä»¬åªæ˜¯ quoted è¡¨è¾¾å¼. å®ƒä»¬åªæ˜¯åœ¨æè¿°ä»£ç çš„ç®€å•æ•°æ®, å¹¶æ²¡æœ‰æ‰§è¡Œ. è¿™æ—¶, å˜é‡ a å’Œ b å¹¶ä¸å­˜åœ¨äºå½“å‰ Elixir shell ä¼šè¯ (session)ä¸­. è¦ä½¿è¿™äº›ç‰‡æ®µèƒ½å¤Ÿä¸€èµ·å·¥ä½œ, å¿…é¡»æŠŠå®ƒä»¬è¿æ¥èµ·æ¥: 1234567891011121314iex(6)&gt; final_expr = quote do...(6)&gt; unquote(bind_expr)...(6)&gt; unquote(sum_expr)...(6)&gt; end&#123;:__block__, [], [ &#123;:__block__, [], [ &#123;:=, [], [&#123;:a, [if_undefined: :apply], Elixir&#125;, 1]&#125;, &#123;:=, [], [&#123;:b, [if_undefined: :apply], Elixir&#125;, 2]&#125; ]&#125;, &#123;:+, [context: Elixir, import: Kernel], [&#123;:a, [if_undefined: :apply], Elixir&#125;, &#123;:b, [if_undefined: :apply], Elixir&#125;]&#125; ]&#125; è¿™é‡Œæˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªç”± bind_expr å’Œ sum_expr æ„æˆçš„æ–°çš„ quoted expression -&gt; final_expr. å®é™…ä¸Š, æˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„ AST ç‰‡æ®µ, å®ƒç»“åˆäº†è¿™ä¸¤ä¸ªè¡¨è¾¾å¼. æš‚ä¸è¦å…³å¿ƒ unquote çš„éƒ¨åˆ† - æˆ‘ç¨åä¼šè§£é‡Šè¿™ä¸€ç‚¹. ä¸æ­¤åŒæ—¶, æˆ‘ä»¬å¯ä»¥è¿›è¡Œæ±‚å€¼è®¡ç®—è¿™ä¸ª AST ç‰‡æ®µ (fragment): 12iex(7)&gt; Code.eval_quoted(final_expr)&#123;3, [&#123;&#123;:b, Elixir&#125;, 2&#125;, &#123;&#123;:a, Elixir&#125;, 1&#125;]&#125; å†æ¬¡çœ‹åˆ°, æ±‚å€¼ç»“æœç”±ä¸€ä¸ªè¡¨è¾¾å¼ç»“æœ (3), ä¸€ä¸ªå˜é‡ç»‘å®šåˆ—è¡¨æ„æˆ. å½¢å¦‚: 1234&#123;expression, [&#123;&#123;:variable, Elixir&#125;, value&#125;,...]&#125;=========== ======== ====== | | |è¡¨è¾¾å¼ç»“æœ å˜é‡åç§° å˜é‡çš„å€¼ ä»è¿™ä¸ªç»‘å®šåˆ—è¡¨ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡º, è¯¥è¡¨è¾¾å¼ç»‘å®šäº†ä¸¤ä¸ªå˜é‡ a å’Œ b, å¯¹åº”çš„å€¼åˆ†åˆ«ä¸º 1 å’Œ 2. è¿™å°±æ˜¯åœ¨ Elixir ä¸­å…ƒç¼–ç¨‹æ–¹æ³•çš„æ ¸å¿ƒ. å½“æˆ‘ä»¬è¿›è¡Œå…ƒç¼–ç¨‹çš„æ—¶å€™, æˆ‘ä»¬å®é™…ä¸Šæ˜¯æŠŠå„ç§ AST ç‰‡æ®µç»„åˆèµ·æ¥ç”Ÿæˆæ–°çš„æˆ‘ä»¬éœ€è¦çš„ AST. æˆ‘ä»¬é€šå¸¸å¯¹è¾“å…¥ AST çš„å†…å®¹å’Œç»“æ„ä¸æ„Ÿå…´è¶£, ç›¸å, æˆ‘ä»¬ä½¿ç”¨ quote ç”Ÿæˆå’Œç»„åˆè¾“å…¥ç‰‡æ®µ, å¹¶ç”Ÿæˆç»è¿‡ä¿®é¥°åçš„ä»£ç . Unquotingunquote åœ¨è¿™é‡Œå‡ºç°äº†. æ³¨æ„, æ— è®º quote å— (quote ... end) é‡Œæœ‰ä»€ä¹ˆ, å®ƒéƒ½ä¼šå˜æˆ AST ç‰‡æ®µ. è¿™æ„å‘³ç€æˆ‘ä»¬ä¸å¯ä»¥ç®€å•åœ°å°†å¤–éƒ¨çš„å˜é‡æ³¨å…¥åˆ°æˆ‘ä»¬çš„ quote é‡Œ. ä¾‹å¦‚, è¿™æ ·æ˜¯ä¸èƒ½è¾¾åˆ°æ•ˆæœçš„: 123456789iex(8)&gt; quote do...(8)&gt; bind_expr...(8)&gt; sum_expr...(8)&gt; end&#123;:__block__, [], [ &#123;:bind_expr, [if_undefined: :apply], Elixir&#125;, &#123;:sum_expr, [if_undefined: :apply], Elixir&#125; ]&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­, quote ä»…ä»…æ˜¯ç®€å•çš„ç”Ÿæˆå¯¹ bind_expr å’Œ sum_expr çš„å˜é‡å¼•ç”¨, å®ƒä»¬å¿…é¡»å­˜åœ¨äºè¿™ä¸ª AST å¯ä»¥è¢«ç†è§£çš„ä¸Šä¸‹æ–‡ç¯å¢ƒé‡Œ. ä½†è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœ. æˆ‘éœ€è¦çš„æ•ˆæœæ˜¯æœ‰ä¸€ç§æ–¹å¼èƒ½å¤Ÿç›´æ¥æ³¨å…¥ bind_expr å’Œ sum_expr çš„å†…å®¹åˆ°ç”Ÿæˆçš„ AST çš„å¯¹åº”çš„ä½ç½®. è¿™å°±æ˜¯ unquote(...) çš„ç›®çš„ - æ‹¬å·é‡Œçš„è¡¨è¾¾å¼ä¼šè¢«ç«‹åˆ»æ‰§è¡Œ, ç„¶åå°±åœ°æ’å…¥åˆ°è°ƒç”¨äº† unquote çš„åœ°æ–¹. è¿™æ„å‘³ç€ unquote çš„ç»“æœå¿…é¡»æ˜¯åˆæ³•çš„ AST ç‰‡æ®µ. ç†è§£ unquote çš„å¦ä¸€ç§æ–¹å¼æ˜¯, å¯ä»¥æŠŠå®ƒçœ‹åšæ˜¯å­—ç¬¦ä¸²çš„æ’å€¼ (#&#123;&#125;). å¯¹äºå­—ç¬¦ä¸²ä½ å¯ä»¥è¿™æ ·å†™: 1&quot;....#&#123;some_expression&#125;....&quot; ç±»ä¼¼çš„, å¯¹äº quote å¯ä»¥è¿™æ ·å†™: 12345quote do ... unquote(some_expression) ...end å¯¹æ­¤ä¸¤ç§æƒ…å†µ, æ±‚å€¼çš„è¡¨è¾¾å¼å¿…é¡»åœ¨å½“å‰ä¸Šä¸‹æ–‡ä¸­æ˜¯æœ‰æ•ˆçš„, å¹¶æ³¨å…¥è¯¥ç»“æœåˆ°ä½ æ„å»ºçš„è¡¨è¾¾å¼ä¸­. (è¦ä¹ˆæ˜¯ string, æˆ–è€…æ˜¯ä¸€ä¸ª AST ç‰‡æ®µ) ç†è§£è¿™ä¸€ç‚¹å¾ˆé‡è¦: unquote å¹¶ä¸æ˜¯ quote çš„åå‘è¿‡ç¨‹. quote å°†ä¸€æ®µä»£ç è½¬æ¢æˆ quoted è¡¨è¾¾å¼ (quoted expression), unquoteå¹¶æ²¡æœ‰åšé€†å‘æ“ä½œ. å¦‚æœéœ€è¦æŠŠä¸€ä¸ª quoted expression è½¬æ¢ä¸ºå­—ç¬¦ä¸², å¯ä»¥ä½¿ç”¨ Macro.to_string/1. 123456iex(9)&gt; Macro.to_string(bind_expr)&quot;a = 1\\nb = 2&quot;iex(10)&gt; Macro.to_string(sum_expr)&quot;a + b&quot;iex(11)&gt; Macro.to_string(final_expr)&quot;(\\n a = 1\\n b = 2\\n)\\n\\na + b&quot; ä¾‹å­: tracing expressionç†è®ºç»“åˆå®è·µ, ä¸€ä¸ªç®€å•ä¾‹å­, æˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªå¸®åŠ©æˆ‘ä»¬è°ƒè¯•ä»£ç çš„å®. è¿™ä¸ªå®å¯ä»¥è¿™æ ·ç”¨: 123iex(1)&gt; Tracer.trace(1 + 2)Result of 1 + 2: 33 Tracer.trace æ¥å—ä¸€ä¸ªç»™å®šçš„è¡¨è¾¾å¼, ä¼šæ‰“å°å…¶ç»“æœåˆ°å±å¹•ä¸Š. ç„¶åè¿”å›è¡¨è¾¾å¼çš„ç»“æœ. éœ€è¦è®¤è¯†åˆ°è¿™æ˜¯ä¸€ä¸ªå®, å®ƒçš„è¾“å…¥ï¼ˆ1+2ï¼‰å¯ä»¥è¢«è½¬æ¢æˆæ›´å¤æ‚çš„å½¢å¼ â€” æ‰“å°è¡¨è¾¾å¼çš„ç»“æœå¹¶è¿”å›å®ƒ. è¿™ä¸ªå˜æ¢ä¼šå‘ç”Ÿåœ¨å®å±•å¼€é˜¶æ®µ, äº§ç”Ÿçš„å­—èŠ‚ç ä¸ºè¾“å…¥ä»£ç ç»è¿‡ä¿®é¥°çš„ç‰ˆæœ¬. åœ¨æŸ¥çœ‹å®ƒçš„å®ç°ä¹‹å‰, æƒ³è±¡ä¸€ä¸‹æœ€ç»ˆçš„ç»“æœæˆ–è®¸ä¼šå¾ˆæœ‰å¸®åŠ©. å½“æˆ‘ä»¬è°ƒç”¨ Tracer.trace(1+2), å¯¹åº”äº§ç”Ÿçš„å­—èŠ‚ç ç±»ä¼¼äºè¿™æ ·: 123mangled_result = 1 + 2Tracer.print(&quot;1+2&quot;, mangled_result)mangled_result mangled_result è¡¨ç¤º Elixir ç¼–è¯‘å™¨ä¼šé”€æ¯æ‰€æœ‰åœ¨å®é‡Œå¼•ç”¨çš„ä¸´æ—¶å˜é‡. è¿™ä¹Ÿè¢«ç§°ä¸ºå®æ¸…æ´— (macro hygiene), è®©å®ä¿æŒå¹²å‡€, ä¸ä¼šå½±å“åˆ°ä½¿ç”¨å®çš„ä»£ç , æˆ‘ä»¬ä¼šåœ¨æœ¬ç³»åˆ—ä¹‹åçš„å†…å®¹ä¸­è®¨è®ºå®ƒï¼ˆä¸åœ¨æœ¬æ–‡ï¼‰. è¯¥å®çš„å®šä¹‰æ˜¯è¿™æ ·çš„: 123456789101112131415defmodule Tracer do defmacro trace(expression_ast) do string_representation = Macro.to_string(expression_ast) quote do result = unquote(expression_ast) Tracer.print(unquote(string_representation), result) result end end def print(string_representation, result) do IO.puts &quot;Result of #&#123;string_representation&#125;: #&#123;inspect result&#125;&quot; endend è®©æˆ‘ä»¬æ¥é€æ­¥åˆ†æè¿™æ®µä»£ç . é¦–å…ˆ, æˆ‘ä»¬ç”¨ defmacro å®šä¹‰å®. å®æœ¬è´¨ä¸Šæ˜¯ç‰¹æ®Šå½¢å¼çš„å‡½æ•°. å®ƒçš„åå­—ä¼šè¢«é”€æ¯, å¹¶ä¸”åªèƒ½åœ¨å±•å¼€æœŸè°ƒç”¨å®ƒï¼ˆå°½ç®¡ç†è®ºä¸Šä½ ä»ç„¶å¯ä»¥åœ¨è¿è¡Œæ—¶è°ƒç”¨ï¼‰. æˆ‘ä»¬çš„å®æ¥æ”¶åˆ°äº†ä¸€ä¸ª quoted expression. è¿™ä¸€ç‚¹éå¸¸é‡è¦ â€” æ— è®ºä½ å‘é€äº†ä»€ä¹ˆå‚æ•°ç»™ä¸€ä¸ªå®, å®ƒä»¬éƒ½å·²ç»æ˜¯ quoted çš„. æ‰€ä»¥, å½“æˆ‘ä»¬è°ƒç”¨ Tracer.trace(1+2), æˆ‘ä»¬çš„å®ï¼ˆå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰ä¸ä¼šæ¥æ”¶åˆ° 3. ç›¸å, expression_ast çš„å†…å®¹ä¼šæ˜¯ quote(do: 1+2) çš„ç»“æœ. åœ¨ç¬¬ä¸‰è¡Œ, æˆ‘ä»¬ä½¿ç”¨ Macro.to_string/1 æ¥æ±‚å‡ºæˆ‘ä»¬æ‰€æ”¶åˆ°çš„ AST ç‰‡æ®µçš„å­—ç¬¦ä¸²è¡¨è¾¾å½¢å¼. è¿™æ˜¯ä½ åœ¨è¿è¡Œæ—¶ä¸èƒ½å¤Ÿå¯¹ä¸€ä¸ªæ™®é€šå‡½æ•°åšçš„äº‹ä¹‹ä¸€. è™½ç„¶æˆ‘ä»¬èƒ½åœ¨è¿è¡Œæ—¶è°ƒç”¨ Macro.to_string/1, ä½†é—®é¢˜åœ¨äºæˆ‘ä»¬æ²¡åŠæ³•å†è®¿é—® AST äº†, å› æ­¤ä¸èƒ½å¤ŸçŸ¥é“æŸäº›è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å½¢å¼äº†. ä¸€æ—¦æˆ‘ä»¬æ‹¥æœ‰äº†å­—ç¬¦ä¸²å½¢å¼, æˆ‘ä»¬å°±å¯ä»¥ç”Ÿæˆå¹¶è¿”å›ç»“æœ AST äº†, è¿™ä¸€æ­¥æ˜¯åœ¨ quote do ... end ç»“æ„ä¸­å®Œæˆçš„. å®ƒçš„ç»“æœæ˜¯ç”¨æ¥æ›¿ä»£åŸå§‹çš„ Tracer.trace(...) è°ƒç”¨çš„ quoted expression. è®©æˆ‘ä»¬è¿›ä¸€æ­¥è§‚å¯Ÿè¿™ä¸€éƒ¨åˆ†: å¦‚æœä½ æ˜ç™½ unquote çš„ä½œç”¨, é‚£ä¹ˆè¿™ä¸ªå°±å¾ˆç®€å•äº†. å®é™…ä¸Š, æˆ‘ä»¬æ˜¯åœ¨æŠŠ expression_astï¼ˆquoted 1+2ï¼‰ä»£å…¥åˆ°æˆ‘ä»¬ç”Ÿæˆçš„ç‰‡æ®µï¼ˆfragmentï¼‰ä¸­, å°†è¡¨è¾¾å¼çš„ç»“æœæ”¾å…¥ result å˜é‡. ç„¶åæˆ‘ä»¬ä½¿ç”¨æŸç§æ ¼å¼æ¥æ‰“å°å®ƒä»¬ï¼ˆå€ŸåŠ© Macro.to_string&#x2F;1ï¼‰, æœ€åè¿”å›ç»“æœ. å±•å¼€ä¸€ä¸ª ASTåœ¨ Shell è§‚å¯Ÿå…¶æ˜¯å¦‚ä½•è¿æ¥èµ·æ¥æ˜¯å¾ˆå®¹æ˜“çš„. å¯åŠ¨ iex Shell, å¤åˆ¶ç²˜è´´ä¸Šé¢å®šä¹‰çš„ Tracer æ¨¡å—: 123iex(1)&gt; defmodule Tracer do ... end ç„¶å, å¿…é¡» require Tracer: 1iex(2)&gt; require Tracer æ¥ä¸‹æ¥, å¯¹ trace å®è°ƒç”¨è¿›è¡Œ quote æ“ä½œ: 123iex(3)&gt; quoted = quote do Tracer.trace(1+2) end&#123;&#123;:., [], [&#123;:__aliases__, [alias: false], [:Tracer]&#125;, :trace]&#125;, [], [&#123;:+, [context: Elixir, import: Kernel], [1, 2]&#125;]&#125; ç°åœ¨, è¾“å‡ºçœ‹èµ·æ¥æœ‰ç‚¹ææ€–, é€šå¸¸ä½ ä¸å¿…éœ€è¦ç†è§£å®ƒ. ä½†æ˜¯å¦‚æœä½ ä»”ç»†çœ‹, åœ¨è¿™ä¸ªç»“æ„ä¸­ä½ å¯ä»¥çœ‹åˆ° Tracer å’Œ trace, è¿™è¯æ˜äº† AST ç‰‡æ®µæ˜¯ä½•ä¸æºä»£ç ç›¸å¯¹åº”çš„, ä½†è¿˜æœªå±•å¼€. ç°åœ¨, è¯¥å¼€å§‹å±•å¼€è¿™ä¸ª AST äº†, ä½¿ç”¨ Macro.expand/2: 12345678910111213141516171819iex(4)&gt; expanded = Macro.expand(quoted, __ENV__)&#123;:__block__, [], [ &#123;:=, [], [ &#123;:result, [counter: -576460752303423231, if_undefined: :apply], Tracer&#125;, &#123;:+, [context: Elixir, import: Kernel], [1, 2]&#125; ]&#125;, &#123;&#123;:., [], [ &#123;:__aliases__, [counter: -576460752303423231, alias: false], [:Tracer]&#125;, :print ]&#125;, [], [ &quot;1 + 2&quot;, &#123;:result, [counter: -576460752303423231, if_undefined: :apply], Tracer&#125; ]&#125;, &#123;:result, [counter: -576460752303423231, if_undefined: :apply], Tracer&#125; ]&#125; è¿™æ˜¯æˆ‘ä»¬çš„ä»£ç å®Œå…¨å±•å¼€åçš„ç‰ˆæœ¬, ä½ å¯ä»¥çœ‹åˆ°å…¶ä¸­æåˆ°äº† resultï¼ˆç”±å®å¼•å…¥çš„ä¸´æ—¶å˜é‡ï¼‰, ä»¥åŠå¯¹ Tracer.print/2 çš„è°ƒç”¨. ä½ ç”šè‡³å¯ä»¥å°†è¿™ä¸ªè¡¨è¾¾å¼è½¬æ¢æˆå­—ç¬¦ä¸²: 1234567iex(5)&gt; Macro.to_string(expanded)&quot;result = 1 + 2\\nTracer.print(\\&quot;1 + 2\\&quot;, result)\\nresult&quot;iex(6)&gt; Macro.to_string(expanded) |&gt; IO.putsresult = 1 + 2Tracer.print(&quot;1 + 2&quot;, result)result:ok è¿™äº›è¯´æ˜äº†ä½ å¯¹å®çš„è°ƒç”¨å·²ç»å±•å¼€æˆäº†åˆ«çš„ä¸œè¥¿. è¿™å°±æ˜¯å®å·¥ä½œçš„åŸç†. å°½ç®¡æˆ‘ä»¬åªæ˜¯åœ¨ shell ä¸­å°è¯•, ä½†ä½¿ç”¨ mix æˆ–elixirc æ„å»ºé¡¹ç›®æ—¶ä¹Ÿæ˜¯ä¸€æ ·çš„. æˆ‘æƒ³è¿™äº›å†…å®¹å¯¹äºç¬¬ä¸€ç¯‡æ¥è¯´å·²ç»å¤Ÿäº†. ä½ å·²ç»å¯¹ç¼–è¯‘è¿‡ç¨‹å’Œ AST æœ‰æ‰€äº†è§£, ä¹Ÿçœ‹è¿‡äº†ä¸€ä¸ªç®€å•çš„å®çš„ä¾‹å­. åœ¨ä¸‹ä¸€ç¯‡ ã€Š(è¯‘) Understanding Elixir Macros, Part 2 - Micro Theoryã€‹, æˆ‘ä»¬å°†æ›´æ·±å…¥åœ°è®¨è®ºå®çš„ä¸€äº›æœºåˆ¶. è¯‘æ³¨ codepoints: é€šå¸¸æ˜¯ä¸€ä¸ªæ•°å­—, ç”¨äºè¡¨ç¤º Unicode å­—ç¬¦. Terms: ä»»ä½•æ•°æ®ç±»å‹ä¸­çš„ä¸€æ®µæ•°æ®éƒ½è¢«ç§°ä¸º term. åŸæ–‡ï¼šhttps://www.theerlangelist.com/article/macros_1","categories":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"}],"tags":[{"name":"Elixir-Macros","slug":"Elixir-Macros","permalink":"https://yeshan333.github.io/tags/Elixir-Macros/"}]},{"title":"(è¯‘) ç†è§£ Prometheus çš„èŒƒå›´å‘é‡ (Range Vector)","slug":"understanding-prometheus-range-vectors","date":"2022-04-23T15:38:37.000Z","updated":"2022-04-23T15:38:37.000Z","comments":true,"path":"2022/04/23/understanding-prometheus-range-vectors/","permalink":"https://yeshan333.github.io/2022/04/23/understanding-prometheus-range-vectors/","excerpt":"","text":"Prometheus ä¸­ Range Vector çš„æ¦‚å¿µæ˜¯æœ‰ä¸€ç‚¹ä¸ç›´è§‚çš„ï¼Œé™¤éä½ å½»åº•é˜…è¯»å¹¶ç†è§£äº†å®˜æ–¹æä¾›çš„æ–‡æ¡£ã€‚è°ä¼šè¿™æ ·åšå‘¢ï¼Œå»è¯»å®˜æ–¹æ–‡æ¡£ï¼Ÿå¤§å¤šçš„äººåº”è¯¥ä¼šèŠ±äº›é”™è¯¯çš„æ—¶é—´å»åšäº†ä¸€äº›é”™è¯¯çš„äº‹æƒ…ï¼Œç„¶åéšæœºå»å¯»æ‰¾ä¸€ç¯‡åƒæœ¬æ–‡ä¸€æ ·çš„æ–‡ç« å»ç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œä¸æ˜¯å—ï¼Ÿ ä»€ä¹ˆæ˜¯ Vectorç”±äº Prometheus æ˜¯ä¸€ä¸ªæ—¶åºå‹çš„æ•°æ®åº“ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨åŸºäºæ—¶é—´æˆ³çš„ä¸Šä¸‹æ–‡ä¸­è¢«å®šä¹‰ã€‚ç”±æ—¶é—´æˆ³åˆ°è®°å½•æ•°æ®çš„æ˜ å°„ï¼ˆmapï¼‰åºåˆ—ï¼ˆseriesï¼‰è¢«ç§°ä¹‹ä¸ºæ—¶é—´åºåˆ—ï¼ˆtimeseriesï¼‰ã€‚åœ¨ Prometheus çš„æœ¯è¯­ä¸­ï¼Œå…³äºæ—¶é—´åºåˆ—çš„é›†åˆï¼ˆå³ä¸€ç»„æ—¶åºæ•°æ®ï¼‰è¢«ç§°ä¹‹ä¸º vectorã€‚è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç¤ºä¾‹å»æ›´å¥½çš„è¯´æ˜è¿™ä¸€ç‚¹ã€‚ å‡è®¾ http_requests_total æ˜¯ä¸€ä¸ªè¡¨ç¤ºæœåŠ¡å—åˆ°çš„ http è¯·æ±‚æ€»é‡çš„ vectorã€‚Vectors å…è®¸æˆ‘ä»¬æ›´è¿›ä¸€æ­¥çš„ä½¿ç”¨è¢«ç§°ä¸º â€œlabelsâ€ çš„ä¸œè¥¿å¤šç»´åº¦å»è¡¨ç¤ºæ•°æ®ã€‚ ä¾‹: 1234567// the set of timeseries representing the number of requests with a `200` HTTP response code.// HTTP çŠ¶æ€ç ä¸º 200 çš„è¯·æ±‚æ•°çš„ä¸€ç»„æ—¶é—´åºåˆ—http_requests_total&#123;code=&quot;200&quot;&#125;// the set of timeseries representing the number of requests served by the `/api/v1/query` handler.// è¡¨ç¤º&#x27; /api/v1/query &#x27;å¤„ç†ç¨‹åºå¤„ç†çš„è¯·æ±‚æ•°çš„ä¸€ç»„æ—¶é—´åºåˆ—http_requests_total&#123;handler=&quot;/api/v1/query&quot;&#125; è¿™æ ·ï¼Œæˆ‘ä»¬å°±æ‹¥æœ‰äº†æ‰€æœ‰ä¸æ‰€æœåŠ¡çš„ HTTP è¯·æ±‚æ•°é‡ç›¸å…³çš„ç»†ç²’åº¦çš„ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜å¯ä»¥åœ¨éœ€è¦æ—¶é€‰æ‹©èšåˆè¿™äº›ä¿¡æ¯ã€‚ä»è¯­æ³•ä¸Šè®²ï¼Œhttp_requests_total æŒ‡çš„æ˜¯å‘½åä¸ºå®ƒçš„æ•´ä¸ªæ—¶é—´åºåˆ—é›†ã€‚é€šè¿‡æ·»åŠ  &#123;code=&quot;200&quot;&#125; æˆ– &#123;handler=&quot;/api/v1/query&quot;&#125;ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªå­é›†ã€‚ Vectors çš„ç±»å‹Prometheus è¿›ä¸€æ­¥å®šä¹‰äº†ä¸¤ç§ç±»å‹çš„ vectorï¼Œå–å†³äºæ—¶é—´æˆ³ï¼ˆtimestampsï¼‰è¢«æ˜ å°„ä¸ºä»€ä¹ˆï¼š Instant vector-ä¸€ç»„æ—¶é—´åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªæ—¶é—´æˆ³éƒ½æ˜ å°„åˆ°â€œç¬é—´ï¼ˆinstantï¼‰â€çš„å•ä¸ªæ•°æ®ç‚¹ã€‚åœ¨ä¸‹é¢çš„å“åº”ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨æ—¶é—´æˆ³ 1608481001 å¤„è®°å½•çš„å•ä¸ªå€¼ã€‚ 12345678curl &#x27;http://localhost:9090/api/v1/query&#x27; \\ --data &#x27;query=http_requests_total&#123;code=&quot;200&quot;&#125;&#x27; \\ --data time=1608481001&#123; &quot;metric&quot;: &#123;&quot;__name__&quot;: &quot;http_requests_total&quot;, &quot;code&quot;: &quot;200&quot;&#125;, &quot;value&quot;: [1608481001, &quot;881&quot;]&#125; Range vector-ä¸€ç»„æ—¶é—´åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªæ—¶é—´æˆ³æ˜ å°„åˆ°ä¸€ä¸ªæ•°æ®ç‚¹çš„â€œèŒƒå›´ï¼ˆrangeï¼‰â€ï¼Œè®°å½•åˆ°è¿‡å»çš„ä¸€æ®µæŒç»­æ—¶é—´ã€‚å¦‚æœæ²¡æœ‰ç§°ä¸º â€œrangeâ€ çš„æŒ‡å®šæŒç»­æ—¶é—´ï¼Œåˆ™è¿™äº›å€¼ä¸èƒ½å­˜åœ¨ï¼Œè¯¥æŒç»­æ—¶é—´ç”¨äºæ„å»ºæ¯ä¸ªæ—¶é—´æˆ³çš„å€¼åˆ—è¡¨ã€‚ åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œè¯·æ³¨æ„å¸¦æœ‰æ—¶é—´æˆ³çš„å€¼åˆ—è¡¨ï¼Œä» 1608481001 åˆ°è¿‡å»æœ€å¤š 30sã€‚ 123456789101112curl &#x27;http://localhost:9090/api/v1/query&#x27; \\ --data &#x27;query=http_requests_total&#123;code=&quot;200&quot;&#125;[30s]&#x27; \\ --data time=1608481001&#123; &quot;metric&quot;: &#123;&quot;__name__&quot;: &quot;http_requests_total&quot;, &quot;code&quot;: &quot;200&quot;&#125;, &quot;values&quot;: [ [1608480978, &quot;863&quot;], [1608480986, &quot;874&quot;], [1608480094, &quot;881&quot;] ]&#125; åŸºäºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹å…³äºè¿™ä¸¤ä¸ª vector ç±»å‹çš„ä¸¤ä¸ªæ¦‚å¿µï¼ˆideasï¼‰ï¼š Instant vectors å¯ä»¥ç”¨ç›´æ¥è¢«ç»˜åˆ¶; Range vectors åˆ™ä¸èƒ½ã€‚è¿™æ˜¯å› ä¸ºç»˜åˆ¶å›¾è¡¨éœ€è¦åœ¨ y è½´ä¸Šä¸º x è½´ä¸Šçš„æ¯ä¸ªæ—¶é—´æˆ³æ˜¾ç¤ºä¸€ä¸ªæ•°æ®ç‚¹ã€‚Instant vectors çš„æ¯ä¸ªæ—¶é—´æˆ³åªæœ‰ä¸€ä¸ªå€¼ï¼Œè€Œ Range vectors æœ‰å¾ˆå¤šã€‚ä¸ºäº†ç»˜åˆ¶æŒ‡æ ‡ï¼ˆmetricï¼‰å›¾è¡¨ï¼Œå¯¹äºåœ¨æ—¶é—´åºåˆ—ä¸­æ˜¾ç¤ºå•ä¸ªæ—¶é—´æˆ³çš„å¤šä¸ªæ•°æ®ç‚¹æ˜¯æ²¡æœ‰è¢«å®šä¹‰çš„ã€‚ Instant vectors å¯ä»¥è¿›è¡Œæ¯”è¾ƒå’Œè¿ç®—; Range vectors ä¸èƒ½ã€‚è¿™ä¹Ÿæ˜¯ç”±äºæ¯”è¾ƒè¿ç®—ç¬¦å’Œç®—æœ¯è¿ç®—ç¬¦çš„å®šä¹‰æ–¹å¼ã€‚å¯¹äºæ¯ä¸ªæ—¶é—´æˆ³ï¼Œå¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªå€¼ï¼Œæˆ‘ä»¬ä¸çŸ¥é“å¦‚ä½•æ·»åŠ [1]æˆ–å°†å®ƒä»¬ä¸å¦ä¸€ä¸ªæ€§è´¨ç±»ä¼¼çš„æ—¶é—´åºåˆ—è¿›è¡Œæ¯”è¾ƒã€‚ ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦ Range Vectorsæˆ‘ä»¬ç°åœ¨çŸ¥é“ï¼ŒRange Vectors ä¸èƒ½ç›´æ¥ç”¨äºå›¾è¡¨æˆ–èšåˆã€‚å› æ­¤ï¼Œå¾ˆè‡ªç„¶åœ°è¦é—®å®ƒä»¬ä¸ºä»€ä¹ˆä¼šå­˜åœ¨? ç­”æ¡ˆå¾ˆç®€å•: counterã€‚ counter æ˜¯ç›‘æ§ç³»ç»Ÿçš„åŸºæœ¬ç±»å‹ä¹‹ä¸€ï¼Œé™¤äº† gauges å’Œ timingsã€‚æˆ‘ä»¬å°†ç»§ç»­å‰é¢çš„ç¤ºä¾‹ï¼Œå»è¯•å›¾ç†è§£ counters å’Œ range vectors æ˜¯å¦‚ä½•ç›¸äº’ä½œç”¨çš„ã€‚ å‡è®¾æˆ‘ä»¬æƒ³çŸ¥é“æˆ‘ä»¬çš„æœåŠ¡ç°åœ¨æ­£åœ¨å¤„ç†å¤šå°‘è¯·æ±‚ã€‚æˆ‘ä»¬çš„åº¦é‡æŒ‡æ ‡ http_requests_total&#123;code=&quot;200&quot;ï¼Œhandler=&quot;/api/v1/query&quot;&#125; æ˜¯ä¸€ä¸ª instant vectorï¼Œå…¶å€¼ä»£è¡¨ä¸€ä¸ªå•è°ƒé€’å¢çš„ counter [2]ã€‚è¿™ä¸ª counter ç”¨äºåº¦é‡æˆ‘ä»¬çš„æœåŠ¡æ¥æ”¶åˆ°çš„è¯·æ±‚æ€»æ•°ã€‚æˆ‘ä»¬çŸ¥é“ Prometheus åœ¨è¿‡å»çš„ä¸åŒæ—¶é—´é‡Œ â€œçˆ¬å–ï¼ˆscrapedï¼‰â€ äº†è¿™ä¸ª counterï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä»è¯·æ±‚ counter çš„å€¼å¼€å§‹: 1234567curl &#x27;http://localhost:9090/api/v1/query&#x27; \\ --data &#x27;query=http_requests_total&#123;code=&quot;200&quot;,handler=&quot;/api/v1/query&quot;&#125;&#x27;&#123; &quot;metric&quot;: &#123;&quot;__name__&quot;: &quot;http_requests_total&quot;, &quot;code&quot;: &quot;200&quot;, &quot;handler&quot;:&quot;/api/v1/query&quot;&#125;, &quot;value&quot;: [1608437313, &quot;881&quot;]&#125; ä½†ä»å“åº”ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ ·åšä¼šå¾—åˆ°æˆ‘ä»¬ä¸æ„Ÿå…´è¶£çš„è¯·æ±‚çš„æ€»æ•°ï¼Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯å®ƒåœ¨è¿‡å»çš„æœ‰é™æ—¶é—´å†…æ”¶åˆ°çš„è¯·æ±‚çš„æ•°é‡ï¼ˆä¸Šé¢è¡¨ç¤ºçš„æ˜¯è¿‡å»æ‰€æœ‰æ—¶é—´çš„è¯·æ±‚æ€»é‡ï¼‰ï¼Œä¾‹å¦‚ï¼Œæœ€è¿‘åäº”åˆ†é’Ÿã€‚å½“æˆ‘ä»¬åªæœ‰ä¸€ä¸ªä¸æ–­å¢é•¿çš„ counter æ—¶ï¼Œæˆ‘ä»¬å¦‚ä½•å¾—åˆ°è¿™ä¸ªæ•°å­—ï¼Ÿ æ›´å¥½çš„æ–¹æ³•æ˜¯ç”¨ counter çš„å½“å‰å€¼å‡å» 15 åˆ†é’Ÿå‰çœ‹åˆ°çš„ counter å€¼ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°å®ä¾‹åœ¨è¿™æ®µæ—¶é—´å†…æ¥æ”¶åˆ°çš„ç¡®åˆ‡è¯·æ±‚æ•°ã€‚ä¸ºäº†åœ¨ PromQL ä¸­è¡¨ç¤ºè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ç»™ instant vector é™„åŠ æŒç»­æ—¶é—´ [15m]ã€‚è¿™éƒ¨åˆ†å«åš range selectorï¼Œå®ƒæŠŠ instant vector è½¬æ¢æˆ range vectorã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨åƒincrease è¿™æ ·çš„å‡½æ•°ï¼Œå®ƒæœ‰æ•ˆåœ°[3]ä» range å¼€å§‹å¤„çš„æ•°æ®ç‚¹å‡å» range ç»“æŸå¤„çš„æ•°æ®ç‚¹ã€‚ 123456789curl &#x27;http://localhost:9090/api/v1/query&#x27; \\ --data &#x27;query=increase(http_requests_total&#123;code=&quot;200&quot;,handler=&quot;/api/v1/query&quot;&#125;[15m])&#x27;&#123; &quot;metric&quot;: &#123;&quot;__name__&quot;: &quot;http_requests_total&quot;, &quot;code&quot;: &quot;200&quot;, &quot;handler&quot;:&quot;/api/v1/query&quot;&#125;, &quot;values&quot;: [ [1608437313, &quot;18.4&quot;] ]&#125; ä¸Šé¢æŸ¥è¯¢è¯­å¥çš„è§£é‡Šï¼šå®ƒè¡¨ç¤ºè¿‡å» 15 åˆ†é’Ÿå†…è¯·æ±‚æ€»æ•°çš„å¢é•¿é‡ã€‚ä¸Šé¢çš„å“åº”åŒ…å«äº†æˆ‘ä»¬æƒ³è¦æ‹¿åˆ°çš„æœŸæœ›ä¹‹å†…çš„ç­”æ¡ˆã€‚ç»“æœä»¥ instant vector çš„å½¢å¼å‡ºç°ï¼Œç°åœ¨å¯ä»¥ç”¨äºè¿›ä¸€æ­¥ç»˜åˆ¶å›¾è¡¨æˆ–æ±‡æ€»ï¼ˆaggregatedï¼‰ã€‚ ç”¨äº Range Vector çš„å‡½æ•°ç±»ä¼¼äº increase(range-vector)ï¼Œä¸‹é¢çš„ PromQL å‡½æ•°åªå¯ç”¨äº range vectors: changes(range-vector) absent_over_time(range-vector) delta(range-vector) deriv(range-vector) holt_winters(range-vector, scalar, scalar) idelta(range-vector) irate(range-vector) predict_linear(range-vector, scalar) rate(range-vector) resets(range-vector) avg_over_time(range-vector) min_over_time(range-vector) max_over_time(range-vector) sum_over_time(range-vector) count_over_time(range-vector) quantile_over_time(scalar, range-vector) stddev_over_time(range-vector) stdvar_over_time(range-vector) ä¸Šè¿°çš„å‡½æ•°çš„è®¡ç®—ç»“æœè¿”å›éƒ½ä¸º instant vectorã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºè¿™æ ·çš„ç»“è®ºï¼š range vector ä½œä¸ºè¿™äº›ä»¥ â€œrange vectorâ€ ä¸ºè¾“å…¥å€¼çš„å‡½æ•°æ˜¯æœ‰ç”¨çš„ã€‚ é™¤äº†ä¸Šé¢çš„å‡½æ•°å’Œ curls[^1]ï¼Œè¿˜æœ‰æ›´å¤šå…³äº range vectors çš„å†…å®¹ï¼Œæˆ‘ä»¬å°†åœ¨å¦ä¸€ç¯‡åšæ–‡ä¸­ä»‹ç»ã€‚ è„šæ³¨[1] æœªå®šä¹‰çš„è¡Œä¸ºå¹¶ä¸æ„å‘³ç€ä¸å¯èƒ½å®šä¹‰ä¸€ç§ä½¿è¿™äº›æ“ä½œå¯ä»¥å·¥ä½œçš„æ–¹å¼ã€‚è¿™æ„å‘³ç€å®ç°é€‰æ‹©é¿å…æ”¯æŒè¿™ä¸€ç‚¹ã€‚è¿™æ ·åšå¯ä»¥ç®€åŒ–å®ç°ï¼Œæˆ–è€…å› ä¸ºå¯èƒ½æ²¡æœ‰ä¸€ç§æ–¹æ³•ä½¿å®ƒåœ¨å„ç§æƒ…å†µ ï¼ˆcasesï¼‰ä¹‹é—´ä¸€è‡´åœ°å·¥ä½œã€‚ [2] å•è°ƒé€’å¢ counter çš„å€¼æ°¸ä¸å‡å°‘ï¼›å®ƒè¦ä¹ˆå¢åŠ è¦ä¹ˆä¿æŒä¸å˜ã€‚Prometheus åªå…è®¸ä¸€ç§ counter å‡å°‘çš„æƒ…å†µï¼Œå³åœ¨ç›®æ ‡é‡å¯æœŸé—´ã€‚å¦‚æœ counter å€¼ä½äºä¹‹å‰è®°å½•çš„å€¼ï¼Œåˆ™ rate å’Œ increase ç­‰ range vector å‡½æ•°å°†å‡å®šç›®æ ‡é‡æ–°å¯åŠ¨å¹¶å°†æ•´ä¸ªå€¼æ·»åŠ åˆ°å®ƒæ‰€çŸ¥é“çš„ç°æœ‰å€¼ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åº”è¯¥æ€»æ˜¯å…ˆ rate å sumï¼Œè€Œä¸æ˜¯å…ˆ sun å rateã€‚Rate then sum, never sum then rate [3] â€œæœ‰æ•ˆï¼ˆeffectivelyï¼‰â€æ˜¯è¿™é‡Œçš„å…³é”®è¯ã€‚increase å®é™…ä¸Šä¹Ÿå¯ä»¥è¿›è¡Œå¤–æ¨ï¼Œå› ä¸ºæ‰€è¯·æ±‚çš„æŒç»­æ—¶é—´å¯èƒ½æ²¡æœ‰åœ¨èŒƒå›´ï¼ˆrangeï¼‰çš„â€œå¼€å§‹â€å’Œâ€œç»“æŸâ€å¤„ç²¾ç¡®å¯¹é½çš„æ•°æ®ç‚¹ã€‚ åŸæ–‡ï¼šhttps://satyanash.net/software/2021/01/04/understanding-prometheus-range-vectors.htmlä½œè€…ï¼šSatyajeet Kanetkar","categories":[{"name":"Prometheus","slug":"Prometheus","permalink":"https://yeshan333.github.io/categories/Prometheus/"}],"tags":[{"name":"Prometheus","slug":"Prometheus","permalink":"https://yeshan333.github.io/tags/Prometheus/"}]},{"title":"Go json Marshal & UnMarshal çš„ä¸€ç‚¹å° trick","slug":"Go-json-Marshal-UnMarshal-çš„ä¸€ç‚¹å°-trick","date":"2022-03-30T23:58:46.000Z","updated":"2022-03-30T23:58:46.000Z","comments":true,"path":"2022/03/30/Go-json-Marshal-UnMarshal-çš„ä¸€ç‚¹å°-trick/","permalink":"https://yeshan333.github.io/2022/03/30/Go-json-Marshal-UnMarshal-%E7%9A%84%E4%B8%80%E7%82%B9%E5%B0%8F-trick/","excerpt":"","text":"åœ¨ç¼–å†™ Web Service ç­‰æ¶‰åŠæ•°æ®åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åœºæ™¯ï¼Œå¯¹äº JSON ç±»å‹çš„æ•°æ®ï¼Œåœ¨ Go ä¸­æˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨åˆ° encoding&#x2F;json Packageã€‚æœ€è¿‘å¾®æœ‰æ‰€æ„Ÿï¼Œå°æ°´ä¸€ç¯‡ omitemptyJSON æ•°æ®çš„ UnMarshal æˆ‘ä»¬ç»å¸¸ä¼šé…åˆ Struct Tags ä½¿ç”¨ï¼Œè®© Struct çš„ Filed ä¸ JSON æ•°æ®çš„æŒ‡å®š property ç»‘å®šã€‚ å¦‚æœè¦åºåˆ—åŒ–ä¸º Go Struct çš„ JSON æ•°æ®å¯¹åº”çš„ Fields ç›¸å…³çš„ JSON properties æ˜¯ç¼ºå¤±çš„ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨ omitempty æ ‡è®° Go Fieldsï¼Œåºåˆ—åŒ–æ—¶ï¼ŒJSON æ•°æ®ä¸­ç¼ºå°‘çš„å±æ€§å°†ä¼šè¢«è®¾ç½®ä¸º Go ä¸­å¯¹åº”çš„ zero-valueï¼Œæ¯”å¦‚ï¼š 1234567891011121314151617181920212223package mainimport ( &quot;encoding/json&quot; &quot;fmt&quot;)type Person struct &#123; Name string `json:&quot;name&quot;` Age string `json:&quot;age,omitempty&quot;` Weak bool `json:&quot;weak,omitempty&quot;`&#125;func main() &#123; jsonData := `&#123;&quot;name&quot;:&quot;ShanSan&quot;&#125;` req := Person&#123;&#125; _ = json.Unmarshal([]byte(jsonData), &amp;req) fmt.Printf(&quot;%+v&quot;, req) fmt.Println(req.Age)&#125;// output// &#123;Name:ShanSan Age: Weak:false&#125;// Go Playground Link ä½†ä¸Šé¢çš„ä¾‹å­å¯¹äºä¸€äº›åœºæ™¯çš„å¤„ç†å¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚çœ‹ä¸‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š 1234567891011121314151617181920212223package mainimport ( &quot;encoding/json&quot; &quot;fmt&quot;)type Person struct &#123; Name string `json:&quot;name&quot;` Age string `json:&quot;age,omitempty&quot;` Weak bool `json:&quot;weak,omitempty&quot;`&#125;func main() &#123; jsonData := `&#123;&quot;name&quot;:&quot;ShanSan&quot;, &quot;age&quot;: &quot;&quot;&#125;` req := Person&#123;&#125; _ = json.Unmarshal([]byte(jsonData), &amp;req) fmt.Printf(&quot;%+v&quot;, req) fmt.Println(req.Age)&#125;// output// &#123;Name:ShanSan Age: Weak:false&#125;// å¯ä»¥çœ‹åˆ° age ä¸º &quot;&quot; æ—¶ï¼Œå’Œç¼ºçœæ—¶çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚å¾ˆæ˜¾ç„¶ï¼Œä¸Šé¢çš„å†™æ³•ï¼Œç¼ºçœçš„å­—æ®µå’Œç©ºå­—æ®µæ˜¯æ²¡æœ‰è¢«åŒºåˆ†å¼€çš„ã€‚å¯¹äºä¸€äº›æ•°æ®çš„ Update æ“ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬åªæƒ³ Update Name å­—æ®µï¼Œå¯¹åº”çš„ JSON æ•°æ®ä¸º &#123;&quot;name&quot;:&quot;ShanSan&quot;&#125;ï¼Œæ‰§è¡Œä¸Šè¿°çš„ååºåˆ—åŒ–åŠ¨ä½œï¼ŒAge å­—æ®µä¼šè¢«è®¾ç½®ä¸º empty stringï¼ŒWaek ä¹Ÿè¢«è®¾ç½®ä¸ºäº† falseï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³çœ‹åˆ°çš„ã€‚ nil ä¸€ä¸‹æˆ‘ä»¬å¯ä»¥æŒ‡é’ˆç±»å‹ï¼ˆpointer typeï¼‰å¯¹ä¸Šé¢çš„æƒ…å†µåŒºåˆ†ä¸€ä¸‹ï¼š 123456789101112131415161718192021222324package mainimport ( &quot;encoding/json&quot; &quot;fmt&quot;)type Person struct &#123; Name *string `json:&quot;name&quot;` Age *string `json:&quot;age,omitempty&quot;` Weak *bool `json:&quot;weak,omitempty&quot;`&#125;func main() &#123; jsonData := `&#123;&quot;name&quot;:&quot;ShanSan&quot;&#125;` jsonDataEmptyAge := `&#123;&quot;name&quot;:&quot;ShanSan&quot;, &quot;age&quot;: &quot;&quot;&#125;` req := Person&#123;&#125; reqEmptyAge := Person&#123;&#125; _ = json.Unmarshal([]byte(jsonData), &amp;req) _ = json.Unmarshal([]byte(jsonDataEmptyAge), &amp;reqEmptyAge) fmt.Printf(&quot;%+v&quot;, req) fmt.Printf(&quot;%+v&quot;, reqEmptyAge)&#125;// &#123;Name:0xc000010390 Age:&lt;nil&gt; Weak:&lt;nil&gt;&#125;&#123;Name:0xc0000103c0 Age:0xc0000103d0 Weak:&lt;nil&gt;&#125; emmmï¼Œç¼ºçœçš„å­—æ®µä¸º nil äº†ã€‚ Marshal çš„æ—¶å€™åºåˆ—åŒ– struct çš„æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨äº† omitemptyï¼Œä¹Ÿä¼šå‡ºç°ç±»ä¼¼ä¸Šé¢ååºåˆ—åŒ–çš„æƒ…å†µï¼Œå¯¹äºç¼ºçœçš„ field æˆ–è€… zero-valueï¼Œåºåˆ—åŒ–å¾—åˆ°çš„ JSON æ•°æ®ä¹Ÿä¼šç¼ºçœç›¸å…³å±æ€§ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ pointer ä¿ç•™ç›¸å…³å­—æ®µï¼Œå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536package mainimport ( &quot;encoding/json&quot; &quot;fmt&quot;)type Student struct &#123; Name string `json:&quot;name&quot;` Score int `json:&quot;score,omitempty&quot;`&#125;type StudentWithPointer struct &#123; Name string `json:&quot;name&quot;` Score *int `json:&quot;score,omitempty&quot;`&#125;func main() &#123; student := Student&#123; Name: &quot;ShanSan&quot;, Score: 0, &#125; score := 0 studentWithPointer := StudentWithPointer&#123; Name: &quot;ShanSan&quot;, Score: &amp;score, &#125; data, _ := json.Marshal(student) dataWithPointer, _ := json.Marshal(studentWithPointer) fmt.Println(string(data)) fmt.Println(string(dataWithPointer))&#125;// &#123;&quot;name&quot;:&quot;ShanSan&quot;&#125;// &#123;&quot;name&quot;:&quot;ShanSan&quot;,&quot;score&quot;:0&#125; Go Playground å‚è€ƒ encoding&#x2F;json Differentiate between empty and not-set fields with JSON in Golang Goâ€™s â€œomitemptyâ€ explained","categories":[{"name":"Go","slug":"Go","permalink":"https://yeshan333.github.io/categories/Go/"}],"tags":[{"name":"json","slug":"json","permalink":"https://yeshan333.github.io/tags/json/"},{"name":"Marshal","slug":"Marshal","permalink":"https://yeshan333.github.io/tags/Marshal/"},{"name":"UnMarshal","slug":"UnMarshal","permalink":"https://yeshan333.github.io/tags/UnMarshal/"}]},{"title":"profiling & Flame Graphs","slug":"profiling-flame-graph","date":"2022-02-26T22:54:38.000Z","updated":"2022-02-26T22:54:38.000Z","comments":true,"path":"2022/02/26/profiling-flame-graph/","permalink":"https://yeshan333.github.io/2022/02/26/profiling-flame-graph/","excerpt":"","text":"å¿½ç„¶æƒ³èµ·æ¥è¿˜æ²¡æ€ä¹ˆç”¨è¿‡ profiling toolsï¼Œè¿™å¯æ˜¯æ€§èƒ½åˆ†æâ€œæ€å™¨â€å•Šï¼Œå°æ°´ä¸€æ³¢ï¼Œå…´è®¸ä»¥åå°±ç”¨ä¸Šäº†ğŸ™ƒã€‚ profiling profilingï¼Œåˆ†æã€‚æœ‰å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ä¼šç›¸å¯¹å¤„äº runtime çš„ç¨‹åºè¿›è¡ŒæŒ‡æ ‡ &amp; ç‰¹å¾åˆ†æï¼Œæ¯”å¦‚ CPU ä½¿ç”¨æƒ…å†µã€å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œrace æ£€æµ‹ç­‰ã€‚ Flame Graphsï¼ˆç«ç„°å›¾ï¼‰ Flame Graphï¼Œç«ç„°å›¾ã€‚ç«ç„°å›¾æ˜¯ä¸€ç§å¸¸ç”¨çš„å¯è§†åŒ–åˆ†ææ€§èƒ½æ•°æ®çš„æ–¹å¼ã€‚ä¸åŒç±»å‹ç«ç„°å›¾é€‚åˆä¸åŒçš„æ€§èƒ½åˆ†æä¼˜åŒ–åœºæ™¯ã€‚ ä¸Šå›¾ä¸º CPU ä½¿ç”¨æƒ…å†µçš„ Flame Graphï¼Œæ¥è‡ª -&gt; (https://github.com/brendangregg/FlameGraphã€‚é€šè¿‡è¯¥å›¾ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ° CPU å ç”¨æœ€å¤šçš„å‡½æ•°ï¼Œåˆ†æä»£ç çƒ­è·¯å¾„ã€‚ç‰¹å¾å¦‚ä¸‹ï¼š çºµè½´ï¼šè¡¨å‡½æ•°è°ƒç”¨æ ˆï¼Œä¸Šå±‚å‡½æ•°æ—¶ä¸‹å±‚å‡½æ•°çš„å­å‡½æ•°ï¼› æ¨ªè½´ï¼šè¡¨ç¤º CPU å ç”¨æ—¶é—´ï¼Œè¶Šé•¿è¡¨ç¤ºå ç”¨æ—¶é—´è¶Šå¤šï¼› å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šæ¨ªè½´å…ˆåé¡ºåºæ˜¯ä¸ºäº†èšåˆï¼Œè·Ÿå‡½æ•°é—´ä¾èµ–æˆ–è°ƒç”¨å…³ç³»æ— å…³ï¼›ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç«ç„°å›¾å„ç§é¢œè‰²æ˜¯ä¸ºæ–¹ä¾¿åŒºåˆ†ï¼Œæœ¬èº«ä¸å…·æœ‰ç‰¹æ®Šå«ä¹‰ã€‚ å°è¯•ä¸€ä¸‹Elixir Phoenix Framework &amp; Flame Onæ ¹æ®è¿™ç¯‡ Toturial -&gt; Profiling Elixir Applications with Flame Graphs and Flame Onï¼Œæˆ‘ä»¬åœ¨ Phoenix App Telemetry Dashboard ä¸­é›†æˆ Flame Onï¼ŒGET åˆ°å¦‚ä¸‹ Flame Graphï¼š Go &amp;&amp; pprofGo å†…ç½®äº† profiling å·¥å…· [pprof][https://github.com/google/pprof] æ–¹ä¾¿æˆ‘ä»¬å¯¹ç¨‹åºè¿›è¡Œåˆ†æï¼Œé€šè¿‡ runtime&#x2F;pprof åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºä¸­æŒ‡å®šä½ç½®åŸ‹ä¸‹é‡‡é›†ç‚¹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445package mainimport ( &quot;math/rand&quot; &quot;os&quot; &quot;runtime/pprof&quot; &quot;time&quot;)func generate(n int) []int &#123; rand.Seed(time.Now().UnixNano()) nums := make([]int, 0) for i := 0; i &lt; n; i++ &#123; nums = append(nums, rand.Int()) &#125; return nums&#125;func insertionSort(nums []int) &#123; var n = len(nums) for i := 1; i &lt; n; i++ &#123; j := i for j &gt; 0 &#123; if nums[j-1] &gt; nums[j] &#123; nums[j-1], nums[j] = nums[j], nums[j-1] &#125; j = j - 1 &#125; &#125;&#125;func main() &#123; profileFile, _ := os.OpenFile(&quot;cpu.pprof&quot;, os.O_CREATE, 0644) defer profileFile.Close() pprof.StartCPUProfile(profileFile) defer pprof.StopCPUProfile() var n int = 10 for i := 0; i &lt; 5; i++ &#123; nums := generate(n) insertionSort(nums) n *= 100 &#125;&#125; 123go run main.go # ç”Ÿæˆ cpu.pprof profiling æ–‡ä»¶# å¯åŠ¨ http server æŸ¥çœ‹åˆ†ææ•°æ®go tool pprof -http=:8080 cpu.pprof ç„¶åå¯ä»¥ GET åˆ°ç±»ä¼¼å¦‚ä¸‹å¾— Flame Graphsï¼Œå°±æŒºä¸ Simplex çš„ï¼Œ2333ï¼š ReactReact App çš„ profiling æˆ‘ä»¬å¯ä»¥å€ŸåŠ©æµè§ˆå™¨æ‰©å±• React DevTools è¿›è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨ä½¿ç”¨å®˜æ–¹æä¾›çš„ Profiler API. æˆ‘ä»¬èµ·ä¸ª Ant-Design Pro æ¥çœ‹çœ‹ï¼šhttps://github.com/ant-design/ant-design-pro 1yarn create umi å‚è€ƒ Flame Graphs Profiling Elixir Applications with Flame Graphs and Flame On Goç¨‹åºæ€§èƒ½åˆ†æ pprof","categories":[{"name":"Performance","slug":"Performance","permalink":"https://yeshan333.github.io/categories/Performance/"},{"name":"Profiling","slug":"Performance/Profiling","permalink":"https://yeshan333.github.io/categories/Performance/Profiling/"}],"tags":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/tags/Elixir/"},{"name":"React","slug":"React","permalink":"https://yeshan333.github.io/tags/React/"},{"name":"Go","slug":"Go","permalink":"https://yeshan333.github.io/tags/Go/"},{"name":"Profiling","slug":"Profiling","permalink":"https://yeshan333.github.io/tags/Profiling/"},{"name":"Flame Graphs","slug":"Flame-Graphs","permalink":"https://yeshan333.github.io/tags/Flame-Graphs/"}]},{"title":"çŠ¶æ€æœºçš„ä¸€ç‚¹å„¿äº‹ï¼ˆfsm-smr-dfsmï¼‰","slug":"fsm-smr-dfsm","date":"2022-01-31T17:32:51.000Z","updated":"2022-01-31T17:32:51.000Z","comments":true,"path":"2022/01/31/fsm-smr-dfsm/","permalink":"https://yeshan333.github.io/2022/01/31/fsm-smr-dfsm/","excerpt":"","text":"æœ‰é™çŠ¶æ€æœºï¼ˆFinite State Machineï¼‰ æœ‰é™çŠ¶æ€æœºï¼ˆè‹±è¯­ï¼šfinite-state machineï¼Œç¼©å†™ï¼šFSMï¼‰åˆç§°æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆè‹±è¯­ï¼šfinite-state automatonï¼Œç¼©å†™ï¼šFSAï¼‰ï¼Œç®€ç§°çŠ¶æ€æœºï¼Œæ˜¯è¡¨ç¤ºæœ‰é™ä¸ªçŠ¶æ€ä»¥åŠåœ¨è¿™äº›çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å’ŒåŠ¨ä½œç­‰è¡Œä¸ºçš„æ•°å­¦è®¡ç®—æ¨¡å‹ã€‚- ç»´åŸºç™¾ç§‘ æœ‰é™çŠ¶æ€æœºçš„è¦ç´  çŠ¶æ€ï¼šçŠ¶æ€æ˜¯æœ‰é™ä¸ªçš„ï¼Œä»»ä¸€æ—¶åˆ»ï¼Œåªå¤„äºä¸€ç§çŠ¶æ€ æ¡ä»¶ï¼šç”¨äºè§¦å‘çŠ¶æ€è½¬ç§»åŠ¨ä½œçš„â€œäº‹ä»¶â€ï¼Œæ¡ä»¶è¢«æ»¡è¶³ï¼ˆè¾“å…¥ï¼‰å°±ä¼šè§¦å‘ç›¸åº”åŠ¨ä½œ åŠ¨ä½œï¼šæ¡ä»¶æ»¡è¶³åï¼Œæ‰§è¡ŒçŠ¶æ€è½¬ç§»çš„è¡Œä¸º è½¬æ¢ï¼šä»ä¸€ä¸ªçŠ¶æ€è½¬æ¢ä¸ºå¦ä¸€ä¸ªçŠ¶æ€ï¼Œè½¬æ¢ä¸€èˆ¬ç”±çŠ¶æ€è½¬æ¢å‡½æ•°å®Œæˆ è®©æˆ‘ä»¬æ¥çœ‹ä¸‹æœ‰é™çŠ¶æ€æœºçš„ç»å…¸ä¾‹å­ï¼šæ—‹è½¬é—¸æœºï¼ˆè¿™å¹´ä»£é—¸æœºåŸºæœ¬ä¸ç”¨ç¡¬å¸äº†ğŸ˜‚ï¼‰ ä½¿ç”¨çŠ¶æ€å›¾è¡¨ç¤ºçš„è¯å°±æ˜¯ä¸‹é¢è¿™æ ·å­ï¼š çŠ¶æ€ï¼šæ—‹è½¬é—¸æœºåªæœ‰ä¸¤ç§çŠ¶æ€ï¼šé”å®šå’Œè§£é” æ¡ä»¶ã€åŠ¨ä½œã€è½¬æ¢ï¼šé—¸æœºçš„åˆå§‹çŠ¶æ€æ˜¯é”å®šï¼ˆLockedï¼‰çš„ï¼Œå½“æ¸¸å®¢æ”¾ç½®ç¡¬å¸ï¼ˆCoinï¼‰åˆ°é—¸æœºä¸­æ—¶ï¼Œé—¸æœºå°±ä¼šè½¬æ¢ä¸ºè§£é”ï¼ˆUn-lockedï¼‰çŠ¶æ€ï¼Œå½“æ¸¸å®¢æ‰§è¡Œæ¨åŠ¨ä½œé€šè¿‡é—¸æœºåï¼Œé—¸æœºçŠ¶æ€åˆä¼šè¢«è½¬æ¢ä¸ºé”å®šï¼ˆLockedï¼‰ã€‚ å½“é—¸æœºå¤„äºè§£é”ï¼ˆUn-lockedï¼‰çŠ¶æ€æ—¶ï¼Œåå¤çš„æ”¾ç¡¬å¸æ˜¯æ²¡æœ‰ç”¨çš„ï¼ŒçŠ¶æ€ä¸ä¼šå˜ï¼ŒåŒç†ï¼Œé”å®šæ€æ—¶ï¼Œåå¤ Push æ—‹è½¬é—¨ä¹Ÿæ˜¯æ²¡ç”¨çš„ï¼Œé—¸æœºçŠ¶æ€ä¸ä¼šå˜ï¼Œæ¸¸å®¢é€šè¿‡ä¸äº†ã€‚ ç”¨çŠ¶æ€è½¬æ¢è¡¨è¡¨ç¤ºå¦‚ä¸‹å›¾ï¼š Go å®ç°æ—‹è½¬é—¨çš„ FSMåŸºäº Go è¯­è¨€ï¼Œå¯å®ç°æ—‹è½¬é—¨é—¸æœºçš„ FSM å¦‚ä¸‹ï¼ŒStateTransitionTable å³ä¸ºçŠ¶æ€è½¬æ¢è¡¨ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889package mainimport ( &quot;bufio&quot; &quot;fmt&quot; &quot;log&quot; &quot;os&quot; &quot;strings&quot;)const ( Locked = iota Unlocked)const ( InputCoin = &quot;coin&quot; InputPush = &quot;push&quot;)type State uint32type StateTransitionTableDef struct &#123; State State Input string&#125;// Actiontype TransitionFunc func(state *State)var StateTransitionTable = map[StateTransitionTableDef]TransitionFunc&#123; &#123;Locked, InputCoin&#125;: func(state *State) &#123; fmt.Println(&quot;Unlocks the turnstile so that the customer can push through.&quot;) *state = Unlocked &#125;, &#123;Locked, InputPush&#125;: func(state *State) &#123; fmt.Println(&quot;The turnstile has been locked.&quot;) &#125;, &#123;Unlocked, InputCoin&#125;: func(state *State) &#123; fmt.Println(&quot;The turnstile has been unlocked.&quot;) &#125;, &#123;Unlocked, InputPush&#125;: func(state *State) &#123; fmt.Println(&quot;When the customer has pushed through, locks the turnstile.&quot;) *state = Locked &#125;,&#125;type TurnStile struct &#123; State State&#125;func (t *TurnStile) ExecuteAction(action string) &#123; stateActionTupple := StateTransitionTableDef&#123; t.State, strings.TrimSpace(action), &#125; if transFunc := StateTransitionTable[stateActionTupple]; transFunc == nil &#123; fmt.Println(&quot;Unknown action, please try again!&quot;) &#125; else &#123; transFunc(&amp;t.State) &#125;&#125;func main() &#123; turnstileFSM := &amp;TurnStile&#123; State: Locked, // Initial State &#125; prompt(turnstileFSM.State) reader := bufio.NewReader(os.Stdin) for &#123; action, err := reader.ReadString(&#x27;\\n&#x27;) if err != nil &#123; log.Fatalln(err) &#125; turnstileFSM.ExecuteAction(action) &#125;&#125;func prompt(s State) &#123; m := map[State]string&#123; Locked: &quot;Locked&quot;, Unlocked: &quot;Unlocked&quot;, &#125; fmt.Printf(&quot;current state is: [%s], please input action: [coin | push]: \\n&quot;, m[s])&#125; FSM åº”ç”¨-è¯æ³•åˆ†æFSM å¾ˆå…¸å‹çš„ä¸€ä¸ªåº”ç”¨å°±æ˜¯ç”¨äºç¼–è¯‘å™¨å‰ç«¯-&gt;è¯æ³•åˆ†æå™¨ï¼ˆLexerï¼‰çš„è¯æ³•åˆ†æä¸Šï¼ˆtokenizeï¼‰ã€‚æ¯”å¦‚å¦‚ä¸‹å…³ç³»è¡¨è¾¾å¼è¯­å¥çš„ tokenize ä¸Šï¼š blogAge &gt; 3 æˆ‘ä»¬çš„ Lexer æ‰«æå…³ç³»è¡¨è¾¾å¼æ—¶éœ€è¦è¯†åˆ«åˆ° blogAge ä¸ºæ ‡è¯†ç¬¦ï¼ˆIdentifierï¼‰ï¼Œ&gt; ä¸ºæ¯”è¾ƒæ“ä½œç¬¦ï¼ˆGreaterï¼‰ï¼Œ3 ä¸ºæ•°å­—å­—é¢é‡ï¼ˆNumericLiteralï¼‰ï¼Œå¯¹åº”çš„è¯æ³•è§„åˆ™å¦‚ä¸‹ï¼š æ ‡è¯†ç¬¦ï¼ˆIdentifierï¼‰ï¼šé¦–å­—ç¬¦éœ€è¦ä¸ºå­—æ¯ï¼Œå…¶ä»–å­—ç¬¦å¯ä¸ºæ•°å­—æˆ–å­—æ¯æˆ–ä¸‹åˆ’çº¿ æ¯”è¾ƒæ“ä½œç¬¦ï¼ˆGreaterï¼‰ï¼š&gt; æ•°å­—å­—é¢é‡ï¼ˆNumericLiteralï¼‰ï¼šå…¨éƒ¨ç”±æ•°å­—ç»„æˆ å¯¹åº”çš„ FSM ç®€åŒ–ç‰ˆçŠ¶æ€å›¾å¦‚ä¸‹ï¼š å¤åˆ¶çŠ¶æ€æœºï¼ˆReplicated State Machineï¼‰åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸï¼ŒçŠ¶æ€æœºè¢«ç”¨äºä¿è¯èŠ‚ç‚¹çŠ¶æ€çš„ä¸€è‡´æ€§ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸€è‡´æ€§ç®—æ³•æ˜¯åŸºäºå¤åˆ¶çŠ¶æ€æœºï¼ˆReplicated State Machineï¼‰æå‡ºæ¥çš„ã€‚ æ¯ä¸€ä¸ª Server èŠ‚ç‚¹éƒ½ä¼šæœ‰ä¸€ä¸ªçŠ¶æ€æœºï¼Œè¿™ä¸ªçŠ¶æ€æœºçš„è¾“å…¥æ¥æºä¸ºä¸€ä»½å‚¨å­˜ç€å‘½ä»¤åºåˆ—çš„æ—¥å¿—ï¼Œå¯¹äºç›¸åŒçš„å‘½ä»¤è¾“å…¥ï¼Œæ¯ä¸ªèŠ‚ç‚¹çŠ¶æ€æœºï¼ˆç¡®å®šæœ‰é™è‡ªåŠ¨æœº DFAï¼ŒDeterministic Finite Automataï¼‰çš„è¾“å‡ºæ˜¯ç¡®å®šçš„ã€ç›¸åŒçš„ã€‚ å‚è€ƒ å¤åˆ¶çŠ¶æ€æœº Finite-state machine ä½¿ç”¨ Golang å®ç°çŠ¶æ€æœº","categories":[{"name":"Compile","slug":"Compile","permalink":"https://yeshan333.github.io/categories/Compile/"}],"tags":[{"name":"FSM","slug":"FSM","permalink":"https://yeshan333.github.io/tags/FSM/"},{"name":"Compiler","slug":"Compiler","permalink":"https://yeshan333.github.io/tags/Compiler/"},{"name":"Lexer","slug":"Lexer","permalink":"https://yeshan333.github.io/tags/Lexer/"}]},{"title":"2021 | è‚†æ„éšå¿ƒ","slug":"2021-annual-reviewed","date":"2022-01-01T12:55:00.000Z","updated":"2022-01-01T12:55:00.000Z","comments":true,"path":"2022/01/01/2021-annual-reviewed/","permalink":"https://yeshan333.github.io/2022/01/01/2021-annual-reviewed/","excerpt":"Yeahâ€œå…œå…œè½¬è½¬â€åˆä¸€å¹´äº†ï¼Œåˆåˆ°äº†è¯¥æ°´å¹´åº¦ Review çš„æ—¶å€™å•¦âœ…â‡ï¸ã€‚ ç®—ä¸‹æ¥ï¼Œåšå®¢ä¸‰å¹´äº†ï¼Œå‡†å¤‡å¼€å¯æ–°çš„ä¸‰å¹´äº†ã€‚è¿™ç¯‡æ€»ç»“ä¹Ÿç®—æ˜¯ç¬¬ä¸‰ç¯‡æ€»ç»“äº†ï¼Œ3 - å¯ä»¥è¯´æ˜¯æˆ‘å¾ˆå–œæ¬¢çš„æ•°å­—ï¼ŒæŒºå¤šç½‘åï¼ˆShanSanã€yeshan333ï¼‰ï¼Œè¿˜æœ‰åšå®¢åŸŸåï¼ˆshansan.topã€shan333.cnã€â€¦ï¼‰æ˜¯å’Œâ€œä¸‰â€æœ‰å…³çš„ï¼ˆand so onï¼‰ï¼Œä¹Ÿç®—æ˜¯â€œè°éŸ³æ¢—â€å•¦ğŸ˜ï¼Ÿ å›å¤´çœ‹çœ‹ä¹‹å‰å†™çš„å‡ ç¯‡æ€»ç»“ï¼Œè¿˜æŒºæœ‰æ„æ€çš„ã€‚21 å¹´ä¼¼ä¹å¹¶æ²¡æœ‰å¤ªå¤šé‚£ä¹ˆåˆ»æ„å»åšçš„äº‹ï¼Œæƒ³åˆ°äº†å°±å»è¯•è¯•äº†ã€‚è¿™ä¸€æ¬¡ï¼Œä¸éœ€è¦é‚£ä¹ˆçš„æœ‰æ¡ç†æ€§ï¼Œéšæ‰‹ä¸€è®°ã€‚","text":"Yeahâ€œå…œå…œè½¬è½¬â€åˆä¸€å¹´äº†ï¼Œåˆåˆ°äº†è¯¥æ°´å¹´åº¦ Review çš„æ—¶å€™å•¦âœ…â‡ï¸ã€‚ ç®—ä¸‹æ¥ï¼Œåšå®¢ä¸‰å¹´äº†ï¼Œå‡†å¤‡å¼€å¯æ–°çš„ä¸‰å¹´äº†ã€‚è¿™ç¯‡æ€»ç»“ä¹Ÿç®—æ˜¯ç¬¬ä¸‰ç¯‡æ€»ç»“äº†ï¼Œ3 - å¯ä»¥è¯´æ˜¯æˆ‘å¾ˆå–œæ¬¢çš„æ•°å­—ï¼ŒæŒºå¤šç½‘åï¼ˆShanSanã€yeshan333ï¼‰ï¼Œè¿˜æœ‰åšå®¢åŸŸåï¼ˆshansan.topã€shan333.cnã€â€¦ï¼‰æ˜¯å’Œâ€œä¸‰â€æœ‰å…³çš„ï¼ˆand so onï¼‰ï¼Œä¹Ÿç®—æ˜¯â€œè°éŸ³æ¢—â€å•¦ğŸ˜ï¼Ÿ å›å¤´çœ‹çœ‹ä¹‹å‰å†™çš„å‡ ç¯‡æ€»ç»“ï¼Œè¿˜æŒºæœ‰æ„æ€çš„ã€‚21 å¹´ä¼¼ä¹å¹¶æ²¡æœ‰å¤ªå¤šé‚£ä¹ˆåˆ»æ„å»åšçš„äº‹ï¼Œæƒ³åˆ°äº†å°±å»è¯•è¯•äº†ã€‚è¿™ä¸€æ¬¡ï¼Œä¸éœ€è¦é‚£ä¹ˆçš„æœ‰æ¡ç†æ€§ï¼Œéšæ‰‹ä¸€è®°ã€‚ åšå®¢ &amp; æŠ€æœ¯-Blog &amp; Techs21 å¹´çš„åšå®¢æ²¡æœ‰å¤šå¤§çš„å˜åŒ–ï¼Œå®ç°äº†ä¸ªç®€å•çš„ GitHub Action åšäº†ä¸‹ CI&#x2F;CD åˆ°è…¾è®¯äº‘çš„ CVM æœåŠ¡å™¨ï¼ˆå¯¹åº”åŸŸå shan333.cn ä¸‹çš„ä¸€ä¸ªå¤‡ä»½ [backup] åšå®¢ï¼‰ï¼Œåˆ‡æ¢äº†ä¸‹è¯„è®ºç³»ç»Ÿåˆ° Walineï¼Œæ›´æœ‰èŒƒäº†~ã€‚ ä»”ç»†ç®—ç®—ï¼Œåšå®¢çš„ PV åº”è¯¥æœ‰ 10w äº†å§ï¼ˆç®—ä¸Šæˆ‘ä¸­é€”å¹²æ‰çš„ PV ç»Ÿè®¡ğŸ˜‚ï¼‰ï¼Ÿåšå®¢å¤ªæ°´ï¼Œä¹‹å‰æ²¡æ•¢ç”©ç¾¤è¢« dalao ä¸€æ³¢åæ§½ &amp; æœ¬æ¥å°±å†™ç€ç©çš„ï¼Œä¸éœ€è¦è¿‡å¤šçš„ PV&#x2F;UVã€‚ BTWï¼Œå½“åˆç”©ä¸‹çš„ä¸€ä¸ªæœˆè‡³å°‘ä¸€ç¯‡æ–‡ç« çš„ ğŸš©ï¼Œå¥½åƒå®Œæˆçš„è¿˜å¯ä»¥ï¼Œå°±äºŒæœˆä»½å°‘äº†ç¯‡ï¼ˆé‚£æ—¶å€™æˆ‘åº”è¯¥åœ¨é”¤ã€ŠCommand &amp; Conquer : Mental Omegaã€‹ğŸ¤¦â€â™‚ï¸ï¼‰ åå¹´ä¹‹çº¦ï¼ˆ2021.09.15-Beginï¼‰ åå¹´ä¹‹çº¦ï¼Œå³ä»åŠ å…¥è¿™ä¸ªæ´»åŠ¨èµ·ï¼Œæˆ‘ä»¬çš„åšå®¢åå¹´ä¸å…³é—­ï¼Œä¿æŒæ›´æ–°å’Œæ´»åŠ›ã€‚- æ¥è‡ªåå¹´ä¹‹çº¦ç«™ç‚¹é¦–é¡µ å†™åˆ°è¿™ä¸ªæˆ‘æƒ³èµ·äº†æœ€è¿‘ä¸€ä¸ªæœˆåœ¨çœ‹çš„æ–—ç ´è‹ç©¹ï¼Œå°±ç¦»è°±ã€‚ åå¹´ä¹‹çº¦ &lt;www.foreverblog.cn&gt;ï¼Œå°è±¡ä¹‹ä¸­å¥½åƒæ˜¯ 18 å¹´çš„æ—¶å€™åœ¨ Valine çš„äº¤æµç¾¤çŸ¥é“çš„ï¼Ÿæˆ‘è®°å¾—æˆ‘ç”³è¯·è¿‡ä¸€æ¬¡ï¼Œè¢« reject æ‰äº†ï¼ˆå¤ªæ°´äº†ï¼ŒğŸ˜¶â€ğŸŒ«ï¸ï¼‰ï¼Œå›å¤´çœ‹çœ‹å½’æ¡£é¡µï¼Œé‚£æ—¶å€™å†™å¾—æ–‡ç« æŒºæ°´çš„ï¼ŒæŒºæƒ³åˆ æ‰ï¼Œä½†æ˜¯æˆ‘åœ¨ 20 å¹´åˆçš„æ—¶å€™ç»™åšå®¢å¥—äº†ä¸‹ Git -&gt; âŒˆactions-for-hexo-blogâŒ‹ï¼Œåšå®¢çš„å˜æ›´å†å²å·²ç»è¿½è¸ªèµ·æ¥äº†ï¼Œä¸åˆ äº†ä¸åˆ äº†ï¼Œè´¹åŠ²ğŸ˜Šï¼Œæˆ‘è¿˜æ¯å¹´éƒ½åˆ°äº’è”ç½‘æ¡£æ¡ˆé¦†ï¼ˆInternet Archiveï¼‰åšä¸‹ Snapshotï¼Œå¤šé‡æ‰‹æ®µä¿ç•™å›å¿†ï¼Œæˆ‘è¢«è‡ªå·±åˆ¶è£äº†ğŸ˜¢ã€‚ åå¹´ï¼Œå¥½åƒæŒºé•¿å•Šï¼Œä½†å®ƒä¸‰å¹´äº†ï¼Œæ–‡ç« è´¨é‡æ…¢æ…¢å¥½èµ·æ¥äº† &lt;ä¸è¿‡è¿˜æ˜¯æŒºæ°´ï¼Œä½†æˆ‘è¿˜èƒ½æ›´â€œæ°´â€&gt;ï¼Œæ˜¯æ—¶å€™äº†ï¼ŒBrotherï¼ åå¹´ä¹‹çº¦å®¡æ ¸ Techs &amp; Codingå†çœ‹çœ‹ 21 å¹´ GitHub çš„å°ç»¿ç‚¹ï¼Œæœ‰ç‚¹å·®å¼ºäººæ„å•Šï¼Œæœ‰å¾ˆå¤šå°ç‚¹æ˜¯ä¸€ä¸ª rss-feed çš„ CI æ‰“çš„ï¼Œ21 å¹´çš„ Coding æ—¶é—´æ˜¯å°‘äº†ç‚¹ï¼ŒæŒªäº†å¾ˆå¤šçš„æ—¶é—´å»åšç‚¹å…¶ä»–äº‹æƒ…å»äº†ï¼Œæœ€è¿‘ç¼–ç é‡ç¨å¢ï¼Œèƒ½æ„Ÿè§‰åˆ°ä»£ç è´¨é‡è¶Šæ¥è¶Š low äº† &lt;2333ï¼Œå¥½åƒåŸæ¥å°±æŒºæ‹‰è·¨çš„ğŸ™ƒï¼Œè£‚å¼€äº†&gt;ã€‚æˆ‘æ„Ÿè§‰ 22 å¹´å·®ä¸å¤šå¯ä»¥å»â€œæ°´â€ä¸€ä¸‹æ„Ÿå…´è¶£çš„å¼€æºé¡¹ç›®äº†å§ï¼Ÿ åœ¨ Twitter ä¸Šçœ‹äº†ä¸€åœˆï¼Œdalao ä»¬å¤ªææ€–äº†ğŸ¤ã€‚ GitHub 21 å¹´æŠ˜è…¾çš„æ–°ç©æ„å¥½åƒä¸å¤šï¼Œç…§æ—§è€ç€ Goã€TypeScriptã€Kubernetesï¼Œâ€œèœ»èœ“ç‚¹æ°´â€èˆ¬çœ‹äº†ä¸‹ Prometheusã€‚å†æƒ³æƒ³çœ‹äº†å•¥æŠ€æœ¯ç›¸å…³çš„ä¹¦ï¼Œå¥½åƒæŒºå°‘æœ‰æŠ€æœ¯æ·±åº¦çš„ï¼Œæˆ‘çœ‹äº†å¾ˆå¤šå’Œ DevOpsã€CloudNative ã€å·¥ç¨‹åŒ–ç›¸å…³çš„ä¹¦ã€‚æ‰“å¼€è‡ªå·±æœ¬æƒ³ä¸“é—¨ç”¨æ¥ Reading çš„â€œå°å¹³æ¿å­â€ï¼Œå¥½åƒå’Œä¸Šå¹´æ²¡å¤šå¤§å˜åŒ–ï¼Œç”µå­ä¹¦è¿˜æ˜¯é‚£å‡ æœ¬ï¼Œå“ˆå“ˆå“ˆï¼Œåƒç°äº†åƒç°äº†~(^_^)ï¼š iPads ä¸Šçš„ç”µå­ä¹¦ å¦‚æœè¯´ 21 å¹´çœ‹è¿‡çš„å°è±¡æœ€æ·±åˆ»çš„æŠ€æœ¯ä¹¦æ˜¯å“ªå‡ æœ¬ï¼Œé‚£ä¹ˆåº”è¯¥å°±æ˜¯ã€ŠGo è¯­è¨€è®¾è®¡ä¸å®ç°ã€‹å’Œã€Šå‡¤å‡°æ¶æ„-æ„å»ºå¯é çš„å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿã€‹ï¼Œã€ŠGo è¯­è¨€è®¾è®¡ä¸å®ç°ã€‹ä½œè€…çš„åŠŸåº•å¾ˆå¼ºï¼Œè†œäº†â¤ï¸ï¼Œ21 å¹´æˆ‘å†’å‡ºäº†ä¸ªæƒ³æ¥è§¦ Compile æŠ€æœ¯çš„æƒ³æ³•ï¼Œå°±æ˜¯å› ä¸ºè¿™æœ¬ä¹¦ã€‚ Geektime ç”¨çš„æ—¶é—´å‡å°‘äº†ï¼Œä¸å‰æ‰‹äº†ï¼Œå›å¤´çœ‹çœ‹ä¸€äº›è€çš„ä¸œè¥¿ã€‚ å¿½ç„¶é—´æƒ³èµ·æ¥å› ä¸ºæ¯•è®¾è¿˜çœ‹äº†ä¸‹ã€Šæ™®æ—æ–¯é¡¿å¾®ç§¯åˆ†è¯»æœ¬ã€‹ï¼Œè™½ç„¶æ²¡ç”¨ä¸Šï¼Œä½†æˆ‘å±…ç„¶çœ‹å¾—æ´¥æ´¥æœ‰å‘³ï¼Œæˆ‘æ€•æ˜¯ä¸ªå‡çš„æ•°å­¦ç³»å­¦ç”Ÿï¼Œè¿™æœ¬ä¹¦æ˜¯æŒºå…¥é—¨çš„ï¼Œæˆ‘è¿˜åæ‰‹å‰æ‰‹åˆ° App Store ä¹°äº†ä¸‹ MarginNote3 å»çœ‹è¿™æœ¬ä¹¦ï¼Œä¸€ç›´æ²¡æ€ä¹ˆç”¨ä¸Šè¿™ä¸ª Appï¼Œ2022 å¹´åº”è¯¥èƒ½ç”¨ä¸Šäº†å§ğŸ˜¢ï¼Ÿ æ ¡å›­-Campus2021ï¼Œ21 å¹´æœ€å¤§çš„ä¸€ä»¶äº‹åº”è¯¥å°±æ˜¯æ¯•ä¸šäº†ï¼Œ21 å¹´çš„æ¯•ä¸šå­£å› ä¸ºç–«æƒ…çš„åŸå› å¥½åƒæ˜¯é‚£èˆ¬çš„â€œå¸¸è§„â€ï¼Œå¥½åƒæ²¡æœ‰åšä¸‹è¿‡ä»€ä¹ˆæ‰¿è¯ºï¼Œå¥½åƒæ²¡æœ‰æ€ä¹ˆå’ŒåŒå­¦ &amp; è€å¸ˆèŠè¿‡å¯¹æœªæ¥çš„æœŸå¾…ï¼Œå› ä¸ºç»å†è¿‡ 2020 å¹´çš„æ˜¥æ‹›å’Œç§‹æ‹›çš„æ‘§æ®‹ï¼Œå¥½åƒå¹¶æ²¡æœ‰æ‰¾å·¥ä½œçš„ç„¦è™‘æ„Ÿï¼Œæ›´å¤šçš„æˆ‘æƒ³å› è¯¥è¿˜æ˜¯è¿·æƒ‘ï¼Œä¸€åˆ‡ä¼¼éƒ½é‚£ä¹ˆçš„â€œå¹³æ·¡â€ï¼Œå¹¶æ²¡æœ‰åšä»€ä¹ˆâ€œæƒŠå¿ƒåŠ¨é­„â€çš„äº‹ï¼Œå¥½åƒå¹¶æ²¡æœ‰ç”µå½±ä¸­çš„é‚£äº›æ¡¥æ®µï¼ŸğŸ‡ğŸ‡ğŸ‡ğŸ‘€ ç¦»å¼€å­¦æ ¡å‰ï¼Œå¾®å¾®æ•´ç†äº†ä¸‹é‚£äº›å¹´å¹è¿‡çš„æ°´ï¼ŒæŠŠ Speak ç¨å¾®æ•´ç†äº†ä¸‹ï¼Œå°†ä¹‹å‰çš„å¹æ°´ç«™ slide.shan333.cn è¿ç§»åˆ°äº† React &amp; Gastby å†™çš„ slides.shan333.cn ä¸Šã€‚ é‚£äº›å¹´çš„ Slides 12 æœˆä»½åœ¨ koukou ç©ºé—´æäº†æ‰‹å­¦æ ¡çš„ç…§ç‰‡ï¼Œè¶Šæ¥è¶Šå¥½çœ‹äº†ğŸ˜²ï¼š å­¦æ ¡é£æ™¯ æˆ‘è¿˜é¡ºä¾¿æ‹¿æŠ–éŸ³çš„å‰ªæ˜ ç¨å¾®ç†äº†ä¸ªçŸ­è§†é¢‘ï¼ŒéŸ³è§†é¢‘æŠ€æœ¯ tqlï¼ŒçœŸæ˜¯â€œé™ç»´æ‰“å‡»â€ï¼Œé‡Šæ”¾çµæ„Ÿï¼šâ˜â˜â˜ ä¸å¾—ä¸æ‰¿è®¤ï¼Œç°åœ¨çš„ç¡®æ˜¯ä¸ªå¥½çš„æ—¶ä»£ï¼Œå¾ˆå¤šä¸œè¥¿ä¸ä¼šéƒ½å¯ä»¥å»æœç´¢ç€å­¦ï¼Œå°±çœ‹è‡ªå·±æƒ³ä¸æƒ³æ¥è§¦ï¼Œæœ‰æ²¡æœ‰å…´è¶£ï¼Œæ„¿ä¸æ„¿æ„èŠ±æ—¶é—´ï¼Œæƒ³åšå¾—å¤šä¸“ä¸šã€‚ å·¥ä½œ-Workä¸çŸ¥ä¸è§‰å·²ç»æ¥åˆ° A å‚å·¥ä½œå¿«å…­ä¸ªæœˆäº†ï¼Œè¿‘è·ç¦»ä»å†…ç½‘ yuque &amp; æŠ€æœ¯ç«™è§‚æ‘©ä¹‹å‰çŸ¥é“çš„ä¸€äº› dalao åœ¨åšçš„äº‹æƒ… &amp; å†™çš„ä¸œè¥¿ã€‚ç¬é—´å‘ç°è¿™äº›äººå¥½åƒæ¯”æƒ³è±¡ä¸­çš„è¿˜è¦å¼ºã€‚ æ¯•ä¸šåï¼Œæˆ‘é€‰æ‹©äº†æ¯”è¾ƒæ„Ÿå…´è¶£çš„ä¸€é—¨è¡Œä¸šï¼Œæˆ‘è§‰å¾—æˆ‘é€‰æ‹©çš„æ˜¯ä¸€ä¸ªæå…·åˆ›é€ åŠ›å’Œæ€è€ƒåŠ›çš„èŒä¸šã€‚æˆ‘è§‰å¾—è¿™é‡Œåº”è¯¥æœ‰å¾ˆå¤šçš„è¯è®°å½•æ‰å¯¹ï¼Œä½†åœ¨è¿™å†™ä¸å‡ºæ¥äº†ï¼Œæˆ‘åœ¨å¦ä¸€ä¸ªåœ°æ–¹â€œå†™äº†â€ã€‚ ç”Ÿæ´»-Life2021 å¹´çš„ä¸‹åŠå¹´æˆ‘ä¹Ÿç»å†äº†å¾ˆå¤šçš„äº‹æƒ…ï¼Œæˆ‘ä¹Ÿæ¸æ¸æ˜ç™½äº†ä¸€äº›äº‹æƒ…ï¼Œæœ‰äº›äº‹çœŸçš„å¾—è‡ªå·±ç»å†è¿‡ï¼Œæ‰ä¼šæœ‰æ›´å¤šå¾—ä½“ä¼šï¼Œä¸€åˆ‡ä¼¼ä¹æ˜¯é‚£ä¹ˆå¾—éš¾ä»¥ç†è§£ï¼Œåˆä¼¼ä¹é‚£ä¹ˆçš„ç†æ‰€å½“ç„¶ã€‚æˆ‘ç”šè‡³è§‰å¾—æˆ‘ä¼¼ä¹å¼€å§‹è´¨ç–‘èµ·äº†æŸæ ·ä¸œè¥¿ï¼Œä½†åˆæ²¡å…¨ç›˜å¦å®šã€‚äºå±€ä¸­ä»å¯ä¿æŒæ¸…é†’ï¼Œäºå±€å¤–ï¼Œåˆå¯ä»¥çœ‹åˆ°å¾ˆå¤šçš„ä¸œè¥¿ã€‚â€œå½“å±€è€…è¿·ï¼Œæ—è§‚è€…æ¸…â€æœ‰æ—¶å€™ä¹Ÿå¯äºˆä»¥é©³æ–¥ã€‚è¿™ä¸€å¹´åŒæ ·ä¹Ÿè®¤è¯†äº†ä¸€äº›äººï¼Œ ç¼˜èµ·äºé‚£æœ¬ã€Šå¾®ä¹ æƒ¯ã€‹ï¼Œä»”ç»†å›å¿†èµ·æ¥ï¼Œæˆ‘å¥½åƒå¤šäº†å¾ˆå¤šçš„ä¹ ä»¥ä¸ºå¸¸çš„â€œå°åŠ¨ä½œâ€ï¼Œå‡ ä¹æ˜¯ä¸‹æ„è¯†çš„åŠ¨ä½œï¼Œä¸Šç­çš„è·¯é€”åæ‰‹å°±æ˜¯æ‰“å¼€è¯»ä¹¦ Appï¼Œçœ‹é‚£ä¹ˆå‡ é¡µï¼Œæ²¡æœ‰å¤šå¤§çš„å‹åŠ›ï¼Œä¸€å¤©æƒ³çœ‹å¤šå°‘çœ‹å¤šå°‘ï¼Œå“ªæ€•åªæ˜¯ä¸€é¡µã€‚å¥½äº†ï¼Œå½“æˆ‘æ•²å‡ºè¿™è¡Œå­—çš„æ—¶å€™ï¼Œé¡ºä¾¿åšäº†å‡ ä¸ªä¿¯å§æ’‘ğŸ˜‚ã€‚ 21 å¹´ 12 æœˆä¸­ï¼Œæ¥äº†æ¬¡åå¤šå…¬é‡Œçš„å¾’æ­¥ï¼Œç›¸å½“çš„æ”¾æ¾ï¼Œåšå®¢é¦–æ¬¡è´´å¼  chou ç…§ğŸ¤—ï¼š kubi æ¸¸æˆ-GamesçœŸä¸‰å›½æ— åŒ 7 å¸å›½ å›å¿†äº†ä¸€ä¸‹ï¼Œ21 å¹´ä¸€å¦‚æ—¢å¾€çš„é”¤è€æ¸¸æˆå¤šä¸€ç‚¹ï¼Œæˆ‘æŠŠç”µè„‘ç»™æ¢äº†ï¼Œé”¤ SC2 æ›´çˆ½äº†ï¼Œä½†æ˜¯ 8 æœˆä»½çš„æ—¶å€™å›½æœå·®ä¸å¤š GG äº†ï¼Œé€€å‡ºæ±Ÿæ¹–é€‰æ‹©å…»è€æ¸¸æˆäº†ã€‚ ç«ç„°çº¹ç« -æ™“ä¹‹å¥³ç¥ 11 &amp; 12 æœˆæœ‰éƒ¨åˆ†æ—¶é—´åœ¨å’Œä½ dalao æ‰“ï¼Œâ€œçœŸæ»´èœâ€ï¼š é˜…è¯»-Reading2021ï¼Œé˜…è¯»æºæ›´å¤šè¿˜æ˜¯è¯­é›€å’Œä¹¦ï¼ŒçŸ¥ä¹çœ‹å¾—æ²¡æœ‰é‚£ä¹ˆé¢‘ç¹äº†ï¼Œæˆ‘è¿˜æ¥è§¦äº†ä¸ªå«åšå°‘æ•°æ´¾çš„ç½‘ç«™ï¼Œå†…å®¹è´¨é‡å¾ˆé«˜ã€‚æˆ‘ä¸è¯­é›€ğŸ•Šï¸çš„ç¼˜åˆ†åº”è¯¥èµ·äºå¤§äºŒçš„æ—¶å€™ï¼Ÿæˆ‘åœ¨è¿™é‡Œäº†è§£äº†ä¸€æ³¢ä½“éªŒè®¾è®¡ &amp; äº¤äº’ &amp; å‰ç«¯çŸ¥è¯†ï¼Œè§è¯†äº†å¾ˆå¤šæœ‰â€œæ€è€ƒåº¦â€çš„æ–‡ç« è¿˜æœ‰dalaoï¼Œç–¯ç‹‚ followã€‚å¥½åƒé‚£äº›å¹´æˆ‘å¯¹ä½“éªŒè®¾è®¡çš„å…´èµ·å°±æ˜¯ç¼˜äºè¿™é‡Œï¼Œæƒ³èµ·æ¥æ‹¿æ•™è‚²é‚®ç®±è–…çš„ Figma è¿˜åœ¨â€œæˆ‘çš„æ¡Œé¢â€å¾ˆä¹…æ²¡æ‰“å¼€è¿‡äº†ï¼Œæˆ‘è¿˜æƒ³ç€è¯•ç€æ‹¿ iPad è¯•è¯•æ’ç”»ï¼ˆillustrationï¼‰æ¥ç€ï¼ŒEdge çš„é›†é”¦åŠŸèƒ½çœŸä¸é”™ï¼Œå­˜äº†å¾ˆå¤šæ’ç”»ç½‘ç«™ï¼Œåˆå¤šä¸ªæ”¶è—åƒç°çš„åœ°æ–¹ğŸ•ã€‚ æˆ‘çš„è¯­é›€ 21å¹´çœ‹çš„â€œé—²ä¹¦â€å¤šäº†èµ·æ¥ï¼Œçœ‹ç€ä¸€äº›åˆ«äººæè¿°çš„äº‹ï¼Œæƒ³æƒ³è‡ªå·±æ˜¯æ€ä¹ˆæ ·çš„äººï¼Œå¦‚ä½•å»æè¿°è‡ªå·±ï¼Œå†çœ‹çœ‹è‡ªå·±ä¼šå˜æˆä»€ä¹ˆæ ·çš„äººï¼Œå¯èƒ½ä¼šæ˜¯ä»€ä¹ˆæ ·çš„äººï¼ˆin the futureï¼‰ï¼Œæˆ‘æƒ³è¦çš„æ˜¯æœ‰æ›´å¹¿çš„çœ‹é—®é¢˜çš„è§†è§’ &amp; é”»ç‚¼ä¸‹æ€è€ƒåŠ›ï¼Ÿï¼š ã€Šæ´»ç€ã€‹ ã€Šå¾®ä¹ æƒ¯ã€‹ ã€Šè›¤èŸ†å…ˆç”Ÿå»çœ‹å¿ƒç†åŒ»ç”Ÿã€‹ ã€Šåˆ†å¯¸æ„Ÿã€‹ ã€Šæ¨ç»›ï¼šè°ˆå®šä»å®¹ï¼Œä¾¿æ˜¯ä¼˜é›…ã€‹ ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹ â€¦â€¦ å¯èƒ½æ˜¯å› ä¸ºä¹‹å‰å‘¨åˆŠçœ‹å¤šäº†ï¼Œæˆ‘æŠŠ 21 å¹´é˜…è¯»çœ‹åˆ°çš„ä¸€äº›å†…å®¹ï¼ˆéšæ‰‹æŠ„ &amp; ä¸€äº›ç¢ç‰‡è¯æ€è€ƒï¼‰åæ‰‹åœ¨è¯­é›€ä¸Šå¼€äº†ä¸ªå‘¨åˆŠè®°å½•äº†ä¸‹æ¥ ğŸ‘‰è®°å½•è¿™ä¸€å‘¨æˆ‘ çœ‹&#x2F;å¬ è®©æˆ‘æœ‰æ„Ÿè§¦çš„ä¸€äº›æ–‡å­— ï¼Œé¢‡æœ‰â€œä¸‡ç‰©çš†å¯å‘¨åˆŠâ€é‚£æ„æ€äº†ã€‚ 2021 å¹´å°è±¡æ·±åˆ»çš„ä¸‰å¥è¯ æœ€ææ€–çš„æ˜¯ä½ è‡ªå·±ä¸çŸ¥é“ä½ ä¸çŸ¥é“ï¼›å› ä¸ºå¦‚æœä½ ä¸çˆ±ä¸€ä»¶äº‹ï¼Œä½ ä¸å¯èƒ½æŠŠå®ƒåšå¾—çœŸæ­£ä¼˜ç§€ï¼›æˆ‘ä»¬ä¸€ç”Ÿå¯èƒ½ä¼šåšå¾ˆå¤šå¾ˆå¤šçš„äº‹æƒ…ï¼Œæœ‰äº›äº‹æƒ…ä¹‹æ‰€ä»¥å»åšï¼Œå¹¶éå®ƒæ˜¯æœ‰å¤šä¹ˆå¤§çš„æ„ä¹‰ï¼Œè€Œæ˜¯å› ä¸ºæˆ‘ä»¬æ„Ÿå…´è¶£ã€‚ ä½†æœ‰äº›çµæ„Ÿå’Œæƒ³æ³•ï¼Œæ€»æ˜¯é‚£ä¹ˆçš„å®¹æ˜“æ¶ˆé€ã€‚å“ªæ€•æ˜¯æˆ‘å°†å®ƒå³åˆ»è®°å½•ä¸‹æ¥äº†ï¼Œå¯å½“æˆ‘å†çœ‹çš„æ—¶å€™ï¼Œå¥½åƒå·²ç»ä¸æ˜¯ä¹‹å‰é‚£ä¸ªâ€œå‘³é“â€äº†ã€‚ç¿»äº†ä¸‹ Microsoft ToDo è¿™ä¸€å¹´æˆ‘å¥½åƒç§¯å‹äº†å¾ˆå¤š Itemsã€‚RSS Reed é˜…è¯»ä¿¡æ¯æµä¼¼ä¹æ²¡é‚£ä¹ˆå¥½äº†ï¼Œæœ€è¿‘æœ‰è¯•è¯• TG RSS Feed Robot + yuque çš„æƒ³æ³•ï¼Œè™½ç„¶åœ¨æŸæ¨ä¸Šçœ‹åˆ°äº†è®¸å¤š dalao KM ç®¡ç†çš„æ–¹å¼ï¼Œä½†å¥½åƒæ²¡æœ‰ç‰¹åˆ«é€‚åˆæˆ‘çš„ã€‚Exploringï¼ æŠ˜ç£¨ çœ‹ &amp; å¬-See &amp; Listen 21 å¹´åˆå…³æ³¨äº†ä¸‹ Red Bull BC Oneï¼ŒRespect ä¸€ä¸‹é‚£äº›å¹´è€è¿‡çš„è¡—èˆï¼Œ21 å¹´æ²¡æœ‰æˆ‘ç‰¹åˆ«å–œæ¬¢çš„ Styleï¼Œè¿™åº”è¯¥æ˜¯ç¬¬äºŒæ¬¡åœ¨ World Final æœ‰ Bgirl äº†ï¼Œä¸çŸ¥é“å•¥æ—¶å€™èƒ½å‡ºç°ä¸­å›½åŒºçš„ dalaoğŸ™ƒã€‚ 21 å¹´ 10 æœˆå¼€å§‹ï¼Œæˆ‘ä¸€ä¸ªäººå¼€å¯äº†åŸºæœ¬æ¯å‘¨ä¸€åœºç”µå½±çš„æ¨¡å¼ï¼ˆç´¯è®¡ 10 åœºï¼Œäººç”Ÿç›®å‰ç´¯è®¡ 13 åœºï¼ŸğŸ„ï¼‰ï¼Œè¿˜æŒºæœ‰æ„æ€çš„ï¼Œæˆ–è®¸è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„æˆé•¿äº†ï¼Ÿç›¸æ¯”ä¹‹å‰ï¼Œæˆ‘æœ‰äº†æ›´å¤šçš„è§†è§’ï¼Œæˆ‘çœ‹æ‡‚äº†æ›´å¤šç”µå½±è¦æç»˜çš„æ•…äº‹ï¼Œå¤–åŠ ä¸€äº›ç»å†å’Œçœ‹åˆ°æˆ–è€…å¬åˆ°è¿‡çš„æ•…äº‹ï¼Œæˆ‘å¯ä»¥æ›´å¤šçš„å¯¹ä¸ªäººçš„ç†è§£è¿›è¡Œæè¿°äº†ã€‚ 21 å¹´çš„ç”µå½± 2021å¹´ï¼Œå¬æŠ€æœ¯ Podcastï¼ˆæ’­å®¢ï¼‰æ²¡æœ‰é‚£ä¹ˆå¤šäº†ï¼Œè¿˜æ˜¯ä¸€å¦‚æ—¢å¾€çš„å…³æ³¨ç€æ•è›‡è€…è¯´ï¼Œè½¬æˆ˜æŸæ¨å›´è§‚ dalao äº†ï¼Œæ·±å¤œå¬å–œé©¬æ‹‰é›…å‚¬çœ ã€‚ æœªæ¥-Future2021 å¦‚æœç”¨ä¸€å¥è¯æè¿°çš„è¯ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯ï¼šæœ‰æŒºå¤šçš„äº‹æ˜¯æƒ³åˆ°äº†ï¼Œä¾¿å»åšäº†ï¼Œä¸éœ€è¦é‚£ä¹ˆçš„æœ‰è§„åˆ’æ€§ã€‚ 2022 å¹´ï¼Œæˆ‘æƒ³æ€ä¹ˆæ“ä½œï¼šæ›´æœ‰æŒ‘æˆ˜ï¼Œæ›´æœ‰è¶£ï¼Œæ›´æœ‰æ€è€ƒï¼Œæ›´æœ‰æ·±åº¦çš„äº‹ï¼Ÿ2333ï¼Œè¿™é‡Œå°±ä¸ç«‹ ğŸš© äº†ï¼Œæˆ‘è¿˜éœ€è¦æƒ³æ®µæ—¶é—´ã€‚ æµå¹´ å…³æ³¨æ€è€ƒçš„è¿‡ç¨‹ï¼Œç»ˆå°†æ›´åŠ å“è¶Š | 2020 å¹´æ€»ç»“ 2019 å¹´æ€»ç»“","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"Git ä»“åº“ç˜¦èº«ä¸ LFS å¤§æ–‡ä»¶å­˜å‚¨","slug":"git-lfs-and-thin-repo","date":"2021-12-26T16:26:23.000Z","updated":"2021-12-26T16:26:23.000Z","comments":true,"path":"2021/12/26/git-lfs-and-thin-repo/","permalink":"https://yeshan333.github.io/2021/12/26/git-lfs-and-thin-repo/","excerpt":"ç†Ÿæ‚‰ Git çš„å°ä¼™ä¼´åº”è¯¥éƒ½çŸ¥é“éšç€ Git ä»“åº“ç»´æŠ¤çš„æ—¶é—´è¶Šæ¥è¶Šä¹…ï¼Œè¿½è¸ªçš„æ–‡ä»¶è¶Šæ¥è¶Šå¤šï¼Œgit å­˜å‚¨çš„ objects æ•°é‡ä¼šæå…¶åºå¤§ï¼Œæ¯æ¬¡ä»è¿œç¨‹ä»“åº“ git clone çš„æ—¶å€™éƒ½ä¼šå¢¨è¿¹å¾ˆä¹…ã€‚å¦‚æœæˆ‘ä»¬ä¸å°å¿ƒ git add äº†ä¸€ä¸ªä½“ç§¯å¾ˆå¤§çš„æ–‡ä»¶ï¼Œä¸” git push åˆ°äº†è¿œç¨‹ä»“åº“ï¼Œé‚£ä¹ˆæˆ‘ä»¬ git clone çš„æ—¶å€™ä¹Ÿä¼šå¾ˆæ…¢ã€‚ çœ‹ä¸€ä¸‹ GitHub ä¸Šçš„ microsoft&#x2F;vscode ä»“åº“ï¼Œéƒ½æœ‰ ä¹ä¸‡å¤šä¸ª commit äº†ï¼Œå¯æƒ³è€ŒçŸ¥ objects çš„æ•°é‡åº”è¯¥å¾ˆææ€–ï¼Œå°è¯• clone ä¸€ä¸‹ï¼ˆä¸€ç™¾å¤šä¸‡ä¸ª objectsï¼‰ï¼š","text":"ç†Ÿæ‚‰ Git çš„å°ä¼™ä¼´åº”è¯¥éƒ½çŸ¥é“éšç€ Git ä»“åº“ç»´æŠ¤çš„æ—¶é—´è¶Šæ¥è¶Šä¹…ï¼Œè¿½è¸ªçš„æ–‡ä»¶è¶Šæ¥è¶Šå¤šï¼Œgit å­˜å‚¨çš„ objects æ•°é‡ä¼šæå…¶åºå¤§ï¼Œæ¯æ¬¡ä»è¿œç¨‹ä»“åº“ git clone çš„æ—¶å€™éƒ½ä¼šå¢¨è¿¹å¾ˆä¹…ã€‚å¦‚æœæˆ‘ä»¬ä¸å°å¿ƒ git add äº†ä¸€ä¸ªä½“ç§¯å¾ˆå¤§çš„æ–‡ä»¶ï¼Œä¸” git push åˆ°äº†è¿œç¨‹ä»“åº“ï¼Œé‚£ä¹ˆæˆ‘ä»¬ git clone çš„æ—¶å€™ä¹Ÿä¼šå¾ˆæ…¢ã€‚ çœ‹ä¸€ä¸‹ GitHub ä¸Šçš„ microsoft&#x2F;vscode ä»“åº“ï¼Œéƒ½æœ‰ ä¹ä¸‡å¤šä¸ª commit äº†ï¼Œå¯æƒ³è€ŒçŸ¥ objects çš„æ•°é‡åº”è¯¥å¾ˆææ€–ï¼Œå°è¯• clone ä¸€ä¸‹ï¼ˆä¸€ç™¾å¤šä¸‡ä¸ª objectsï¼‰ï¼š è¿™é‡Œå¾®å¾®è®°å½•ä¸‹ Git ä»“åº“ç˜¦èº«å’Œä½¿ç”¨ Git LFS è¿›è¡Œå¤§æ–‡ä»¶å­˜å‚¨ç®¡ç†çš„å‡ ä¸ªå¸¸è§„æ“ä½œã€‚ Git ä»“åº“ç˜¦èº« ç˜¦èº«èƒŒæ™¯ï¼šé”™è¯¯æŠŠå¤§æ–‡ä»¶ push åˆ°äº†è¿œç¨‹ä»“åº“ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æˆ–è€… du -mh æŸ¥çœ‹ Git ä»“åº“çš„ä½“ç§¯ï¼Œgit-count-objectsï¼š 12# æŸ¥çœ‹ä»“åº“ä½“ç§¯æƒ…å†µgit count-objects -vH ç¤ºä¾‹ï¼šå¯ä»¥çœ‹åˆ°å½“å‰ä»“åº“ä½“ç§¯åªæœ‰ 12.00 KiB å·¦å³ ç°åœ¨æˆ‘ä»¬æ¨¡æ‹Ÿé”™è¯¯çš„å°†å¤§æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹ Git ä»“åº“çš„åŠ¨ä½œï¼š 1234567891011121314151617# 1ã€ç”Ÿæˆä¸€ä¸ª 90MB å¤§å°çš„æ–‡ä»¶ï¼ŒGithub åšäº†é™åˆ¶è¶…è¿‡ 100 MB å¤§å°çš„æ–‡ä»¶å»ºè®®ä½¿ç”¨ LFSï¼Œç›´æ¥æ‹’ç» pushâœ dd if=/dev/zero of=bigfile bs=90MB count=1# 2ã€å°†è¿™ä¸ªæ–‡ä»¶ push åˆ°è¿œç¨‹ä»“åº“âœ git add bigfileâœ git commit -m &quot;add 90MB bigfile&quot;âœ git push origin masterEnumerating objects: 4, done.Counting objects: 100% (4/4), done.Delta compression using up to 16 threadsCompressing objects: 100% (3/3), done.Writing objects: 100% (3/3), 85.71 KiB | 306.00 KiB/s, done.Total 3 (delta 0), reused 0 (delta 0)remote: warning: See http://git.io/iEPt8g for more information.remote: warning: File bigfile is 85.83 MB; this is larger than GitHub&#x27;s recommended maximum file size of 50.00 MBremote: warning: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.To github.com:yeshan333/git-lfs-prune-repo.git e3baf1a..f057313 master -&gt; master å¥½ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å‡è£…è¿™ä¸ªä»“åº“æœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œä¸çŸ¥é“å…·ä½“æ˜¯é‚£ä¸ªæ–‡ä»¶è®© Git ä»“åº“çš„ä½“ç§¯çªç„¶å˜å¤§ï¼Œå¯¼è‡´ clone å¾ˆæ…¢ğŸ¤£ã€‚å°±ç®—çŸ¥é“äº†æ˜¯å“ªé‡Œä¸ªæ–‡ä»¶é€ æˆçš„ï¼Œæˆ‘ä»¬ç›´æ¥åˆ é™¤é‚£ä¸ªæ–‡ä»¶æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ é™¤é‚£ä¸ªæ–‡ä»¶å¯¹åº”çš„ Git Object æ–‡ä»¶ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸‹å‘½ä»¤å°†æœ¬åœ° clone çš„ä»“åº“å†å²æäº¤è¿‡çš„ä½“ç§¯è¾ƒå¤§çš„å‰ 5 ä¸ªæ–‡ä»¶åä¸å¯¹åº”çš„ Object æ–‡ä»¶çš„ ID ç½—åˆ—å‡ºæ¥ï¼š 1git rev-list --objects --all | grep &quot;$(git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -5 | awk &#x27;&#123;print$1&#125;&#x27;)&quot; ç„¶åæˆ‘ä»¬åˆ é™¤å†å²æäº¤è¿‡çš„å¤§æ–‡ä»¶ bigfileï¼Œä»æ—¥å¿—ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ¬åœ°ä»“åº“å·²ç»ç§»é™¤å¤§æ–‡ä»¶æˆåŠŸäº† 1234567891011121314âœ git filter-branch --force --index-filter &#x27;git rm -rf --cached --ignore-unmatch bigfile&#x27; --prune-empty --tag-name-filter cat -- --allWARNING: git-filter-branch has a glut of gotchas generating mangled history rewrites. Hit Ctrl-C before proceeding to abort, then use an alternative filtering tool such as &#x27;git filter-repo&#x27; (https://github.com/newren/git-filter-repo/) instead. See the filter-branch manual page for more details; to squelch this warning, set FILTER_BRANCH_SQUELCH_WARNING=1.Proceeding with filter-branch...Rewrite e3baf1ac709ae54b60afac9038adcf26fd086748 (1/1) (0 seconds passed, remaining 0 predicted)WARNING: Ref &#x27;refs/heads/master&#x27; is unchangedWARNING: Ref &#x27;refs/remotes/origin/master&#x27; is unchangedWARNING: Ref &#x27;refs/remotes/origin/main&#x27; is unchangedWARNING: Ref &#x27;refs/remotes/origin/master&#x27; is unchanged æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ reflog å’Œ gc å‹ç¼©ï¼ˆæ¸…ç†å’Œå›æ”¶å¤§æ–‡ä»¶å ç”¨çš„ objects ç©ºé—´ï¼‰çœ‹çœ‹ç˜¦èº«æ•ˆæœï¼Œæœ€åå°†å˜åŠ¨æ¨é€åˆ°è¿œç¨‹ä»“åº“å³å¯ï¼š 123456789101112âœ git reflog expire --expire=now --all &amp;&amp; git gc --prune=now --aggressiveâœ git count-objects -vHâœ git push --mirrorTotal 0 (delta 0), reused 0 (delta 0)To github.com:yeshan333/git-lfs-prune-repo.git - [deleted] main + f057313...e3baf1a master -&gt; master (forced update) * [new branch] origin/HEAD -&gt; origin/HEAD * [new branch] origin/main -&gt; origin/main * [new branch] origin/master -&gt; origin/master Whatâ€™s the difference between git clone â€“mirror and git clone â€“bare Git LFS å¤§æ–‡ä»¶å­˜å‚¨å¦‚æœæˆ‘ä»¬ä¹‹å‰ç”Ÿæˆçš„å¤§æ–‡ä»¶ bigfile å¤§å°è¶…è¿‡ 100 MBï¼Œé‚£ä¹ˆ push åˆ° Github çš„æ—¶å€™ï¼Œä¼šæŠ›å‡ºä¸ª error é”™è¯¯ï¼Œå¹¶ä¼šæœ‰æ¡å»ºè®®ä½¿ç”¨ LFS (Large File Storage)ï¼šhttps://git-lfs.github.com/ ç®¡ç†è¿™ä¸ªå¤§æ–‡ä»¶ï¼š 1234567891011121314âœ git push origin mainEnumerating objects: 4, done.Counting objects: 100% (4/4), done.Delta compression using up to 16 threadsCompressing objects: 100% (2/2), done.Writing objects: 100% (3/3), 1.85 MiB | 752.00 KiB/s, done.Total 3 (delta 0), reused 1 (delta 0)remote: error: Trace: 993cb74d30fdb2342e7243f5a7002c1892d00d3a216b80e64b43ef7e4382b947remote: error: See http://git.io/iEPt8g for more information.remote: error: File bigfile is 1907.35 MB; this exceeds GitHub&#x27;s file size limit of 100.00 MBremote: error: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.To github.com:yeshan333/git-lfs-prune-repo.git ! [remote rejected] main -&gt; main (pre-receive hook declined)error: failed to push some refs to &#x27;git@github.com:yeshan333/git-lfs-prune-repo.git&#x27; 1234567891011121314151617181920212223242526272829303132333435# ä»“åº“åˆå§‹åŒ– LFSâœ git lfs installUpdated git hooks.Git LFS initialized.# åˆ›å»ºå¤§æ–‡ä»¶âœ dd if=/dev/zero of=bigfile200 bs=200MB count=11+0 records in1+0 records out200000000 bytes (200 MB, 191 MiB) copied, 0.176594 s, 1.1 GB/s# æŒ‡å®š LFS è¿½è¸ªå¤§æ–‡ä»¶âœ git lfs track &quot;bigfile200&quot;Tracking &quot;â€œbigfile200â€&quot;# è¢«è¿½è¸ªçš„æ–‡ä»¶ä¼šè®°å½•å† .gitattributes æ–‡ä»¶ä¸­æˆ‘ä»¬å°† .gitattributes æ–‡ä»¶ push åˆ°è¿œç¨‹ä»“åº“å³å¯âœ cat .gitattributes&quot;bigfile200&quot; filter=lfs diff=lfs merge=lfs -textâœ git add .gitattributesâœ git commit -m &quot;add .gitattributes&quot;âœ git push# æäº¤å¤§æ–‡ä»¶âœ git add bigfile200âœ git commit -m &quot;bigfile 200MB&quot;[master 84fb90b] bigfile 200MB 1 file changed, 3 insertions(+) create mode 100644 bigfile200âœ git pushUploading LFS objects: 100% (1/1), 200 MB | 3.7 MB/s, done.Enumerating objects: 4, done.Counting objects: 100% (4/4), done.Delta compression using up to 16 threadsCompressing objects: 100% (3/3), done.Writing objects: 100% (3/3), 423 bytes | 423.00 KiB/s, done.Total 3 (delta 0), reused 0 (delta 0)To github.com:yeshan333/git-lfs-prune-repo.git aef9a0b..84fb90b master -&gt; master å¼€å¯äº† LFS ä¹‹åï¼Œå¯¹åº”å¤§æ–‡ä»¶çš„å†…å®¹å­˜å‚¨åœ¨ LFS æœåŠ¡å™¨ä¸­ï¼Œä¸å†æ˜¯å­˜å‚¨åœ¨ Git ä»“åº“ä¸­ï¼ŒGit ä»“åº“ä¸­å­˜å‚¨çš„æ˜¯å¤§æ–‡ä»¶çš„æŒ‡é’ˆæ–‡ä»¶ï¼ŒLFS çš„æŒ‡é’ˆæ–‡ä»¶æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚ Done? å‚è€ƒ Push Mirroring-Gitlab git ç˜¦èº« | Palanceâ€™s Blog è¯¦è§£ Git å¤§æ–‡ä»¶å­˜å‚¨ï¼ˆGit LFSï¼‰","categories":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/tags/Git/"}]},{"title":"Deserve","slug":"deserve","date":"2021-12-04T06:49:35.000Z","updated":"2021-12-04T06:49:35.000Z","comments":true,"path":"2021/12/04/deserve/","permalink":"https://yeshan333.github.io/2021/12/04/deserve/","excerpt":"ä»Šå¤©å‡Œæ™¨äº”ç‚¹å°±é†’äº†ï¼Œç§¯ç´¯äº†å¥½å¤šå¥½å¤šçš„æƒ…ç»ªå•Šï¼","text":"ä»Šå¤©å‡Œæ™¨äº”ç‚¹å°±é†’äº†ï¼Œç§¯ç´¯äº†å¥½å¤šå¥½å¤šçš„æƒ…ç»ªå•Šï¼","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"å›ç¯åœ°å€çš„ä¸€ç‚¹å„¿ç ´äº‹","slug":"loopback-addr","date":"2021-11-27T11:41:50.000Z","updated":"2021-11-27T11:41:50.000Z","comments":true,"path":"2021/11/27/loopback-addr/","permalink":"https://yeshan333.github.io/2021/11/27/loopback-addr/","excerpt":"å¿ƒè¡€æ¥æ½®ï¼Œå°æ°´ä¸€ç¯‡ï¼ å›ç¯åœ°å€ï¼ˆloopback addressï¼‰ loopback åœ¨ç»´åŸºç™¾ç§‘ä¸Šæœ‰ä¸€æ®µè¿™æ ·çš„è§£é‡Šï¼šLoopback (also written loop-back) is the routing of electronic signals or digital data streams back to their source without intentional processing or modification. It is primarily a means of testing the communications infrastructure.é€šç†Ÿçš„è¯´å°±æ˜¯å°†ç”±â€œæºâ€å‘é€å‡ºå»çš„æ•°æ®è·¯ç”±å›â€œæºâ€ã€‚","text":"å¿ƒè¡€æ¥æ½®ï¼Œå°æ°´ä¸€ç¯‡ï¼ å›ç¯åœ°å€ï¼ˆloopback addressï¼‰ loopback åœ¨ç»´åŸºç™¾ç§‘ä¸Šæœ‰ä¸€æ®µè¿™æ ·çš„è§£é‡Šï¼šLoopback (also written loop-back) is the routing of electronic signals or digital data streams back to their source without intentional processing or modification. It is primarily a means of testing the communications infrastructure.é€šç†Ÿçš„è¯´å°±æ˜¯å°†ç”±â€œæºâ€å‘é€å‡ºå»çš„æ•°æ®è·¯ç”±å›â€œæºâ€ã€‚ ä½œä¸ºåˆ’æ°´é€‰æ‰‹ï¼Œæˆ‘ä»¬è‚¯å®šä¼šæ¥è§¦è¿‡è¿™æ ·ä¸€ä¸ªä¸œè¥¿ -&gt; Virtual loopback interfaceã€‚å½“æˆ‘ä»¬å†™çš„åº”ç”¨&#x2F;æœåŠ¡æƒ³åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿›è¡Œé€šä¿¡çš„æ—¶å€™ï¼ŒåŸºæœ¬éƒ½ä¼šä½¿ç”¨åˆ°å®ƒã€‚ åœ¨ç±» Unix ç³»ç»Ÿä¸­ï¼Œè™šæ‹Ÿå›ç¯æ¥å£ï¼ˆVirtual loopback interfaceï¼‰é€šå¸¸è¢«å‘½åä¸º lo æˆ–è€… lo0ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ipconfig çœ‹ä¸€ä¸‹ï¼š emmmï¼Œ127.0.0.1ï¼Œå¥½å®¶ä¼™ï¼Œæ²¡é”™ï¼Œ127.0.0.1 å°±æ˜¯ä¸€ä¸ª IPv4 çš„å›ç¯åœ°å€ã€‚IETF æ ‡å‡†ä¸­ï¼ˆRFC1122ã€RFC5735ï¼‰å°† IPv4 CIDR åœ°å€å— 127.0.0.0&#x2F;8 åˆ’ä¸ºå›ç¯åœ°å€ï¼ˆå³ 127.0.0.0 ~ 127.255.255.255ï¼‰ã€‚IPv6 ä¸‹å›ç¯åœ°å€ä¸º ::1/128ã€‚ IPv6 ä¸‹ 127.0.0.1 è¡¨ç¤ºä¸º ::1 å‡ ä¸ªå¸¸è§çš„å°å®¶ä¼™OK, å›ç¯åœ°å€ç®€ä»‹å®Œäº†ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹ä¸‹ä»¥ä¸‹å‡ ä¸ªå¸¸ç”¨çš„â€œå°å®¶ä¼™â€ï¼š localhost 0.0.0.0 127.0.0.1 åœ¨è¿™é‡Œï¼ŒæŠ›å‡ºå‡ ä¸ªé—®é¢˜ï¼Ÿå†è‡ªé—®è‡ªç­”ï¼ğŸ˜ è¿™ä¸‰ä¸ªå®¶ä¼™æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æ˜¾è€Œæ˜“è§ï¼Œ0.0.0.0 å’Œ 127.0.0.1 æ˜¯ IP åœ°å€å˜›ï¼Œlocalhost æ˜¯ hostnameã€‚è‡³äºå†å…·ä½“ç‚¹çš„ä¸œè¥¿ï¼Œå¯ä»¥çœ‹ä¸‹åé¢ä¸¤ä¸ªé—®é¢˜ã€‚ ä¸ºä»€ä¹ˆæ–­ç½‘åï¼Œæˆ‘ä»¬è¿˜èƒ½ ping é€šè¿™ä¸‰ä¸ªä¸œè¥¿ï¼Ÿ æ–­ç½‘çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ ping å‘½ä»¤ï¼Œping ä¸€ä¸‹å…¬ç½‘çš„ IP åœ°å€ï¼Œä¸€èˆ¬æ˜¯ä¸é€šçš„ã€‚ä½†æ˜¯ ping 127.0.0.1 å´å¯ä»¥ã€‚å› ä¸º 127.0.0.1 æ˜¯ä¸€ä¸ªå›ç¯åœ°å€ï¼ˆLoopback Addressï¼‰ï¼Œæ“ä½œç³»ç»Ÿå¯¹äºèµ°çœŸå®ç½‘å¡çš„å…¬ç½‘ IP æ•°æ®åŒ…çš„å¤„ç†å’Œèµ°è™šæ‹Ÿç½‘å¡çš„æœ¬æœºå›ç¯åœ°å€ï¼ˆä¹‹å‰ä»‹ç»çš„ lo å’Œ lo0ï¼ŒVirtual loopback interfaceï¼‰çš„å¤„ç†æ˜¯ä¸ä¸€æ ·çš„ã€‚ç›¸å¯¹äºç›®æ ‡æ˜¯å…¬ç½‘ IP çš„æ•°æ®åŒ…èµ°çš„ ring bufferï¼Œå›ç¯åœ°å€çš„æ•°æ®åŒ…èµ°äº†ä¸€ä¸ªæ•°æ®ç»“æ„ input_pkt_queue è§¦å‘è½¯ä¸­æ–­ ksoftirqd å¤„ç†ï¼Œè¿™ç¯‡æ–‡ç« æœ‰è¾ƒä¸ºæ·±å…¥çš„ä»‹ç» ğŸ‘‰ğŸ”—ğŸ‚ã€‚ è‡³äº ping localhost ä¹Ÿæ˜¯é€šçš„æ˜¯å› ä¸º localhost DNS è§£æåˆ°äº†å›ç¯åœ°å€ 127.0.0.1ï¼Œå¯ä»¥ä½¿ç”¨ cat /etc/hosts æŸ¥çœ‹ Linux hosts æ–‡ä»¶ã€‚IETF æ ‡å‡† RFC6761 å°†åŸŸå localhost é»˜è®¤ä¿ç•™ç»™äº†å›ç¯åœ°å€ 127.0.0.1ã€‚ 123âœ cat /etc/hosts127.0.0.1 localhost::1 ip6-localhost ip6-loopback è‡³äºä¸ºä»€ä¹ˆæ–­ç½‘èƒ½ ping é€š 0.0.0.0ï¼Œå¯ä»¥ç»“åˆä¸‹ä¸€ä¸ªé—®é¢˜æ€è€ƒä¸€ä¸‹ã€‚ å¼€å‘å®Œåçš„ Web Serviceï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼š listen 0.0.0.0ï¼Œè¿™æœ‰ä»€ä¹ˆç”¨ï¼Ÿ listen 0.0.0.0 ä¼šç›‘å¬æœ¬æœºä¸Šçš„æ‰€æœ‰IPV4åœ°å€ã€‚è®©æœåŠ¡è®¿é—®æ–¹å°±å¯ä»¥é€šè¿‡æœ¬æœºçš„å¤šä¸ª IP åœ°å€ï¼ˆåŒ…æ‹¬å›ç¯åœ°å€ï¼Œåªè¦æœåŠ¡è®¿é—®æ–¹ä¸æœ¬æœºå¤„äºåŒä¸€ä¸ªç½‘ç»œä¸‹ï¼‰è®¿é—®æœ¬æœºçš„ Web æœåŠ¡ã€‚RFC 5735 å¯¹ç‰¹æ®Šçš„ 0.0.0.0 åœ°å€åšäº†ä»‹ç»ã€‚ Wireshark å›ç¯åœ°å€æŠ“åŒ…åœ¨è¿™é‡Œä»‹ç»ä¸‹ä½¿ç”¨ Wireshark æŠ“å–å›ç¯åœ°å€çš„æ•°æ®åŒ…ï¼Œ Wireshark å¦‚æœæƒ³è¦æŠ“å–å›ç¯åœ°å€çš„åŒ…ï¼ˆ(loopback packets)ï¼‰ï¼Œéœ€è¦å®‰è£… Npcapã€‚ 1ã€æˆ‘ä»¬æœ¬åœ°ä½¿ç”¨ Go çš„ Gin èµ·ä¸ªç²—ç³™ç‰ˆ Web æœåŠ¡ï¼š 12345678910111213package mainimport &quot;github.com/gin-gonic/gin&quot;func main() &#123; r := gin.Default() r.GET(&quot;/ping&quot;, func(c *gin.Context) &#123; c.JSON(200, gin.H&#123; &quot;message&quot;: &quot;pong&quot;, &#125;) &#125;) r.Run() // listen and serve on 0.0.0.0:8080 (for windows &quot;localhost:8080&quot;)&#125; 2ã€æ‰“å¼€ Wiresharkï¼Œcapture å›ç¯åœ°å€çš„è™šæ‹Ÿç½‘å¡ï¼š 3ã€è¿‡æ»¤ä¸€ä¸‹ TCP ç«¯å£ï¼Œcurl ä¸€ä¸‹ localhost:8080&#x2F;pingï¼š 1curl --location --request GET &#x27;localhost:8080/ping&#x27; æ°´å®Œï¼Œæ”¶å·¥ï¼ğŸ˜Š å‚è€ƒ LoopBack (Virtual loopback interface) - wikipedia Localhost - wikipedia æ–­ç½‘äº†ï¼Œè¿˜èƒ½pingé€š 127.0.0.1 å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://yeshan333.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"Wireshark","slug":"Wireshark","permalink":"https://yeshan333.github.io/tags/Wireshark/"}]},{"title":"å›åˆ°åæœˆ-ç”Ÿæ´»ä¸­çš„ä¸€ç‚¹å„¿å°ç¡®å¹¸","slug":"back-to-october","date":"2021-11-14T10:21:37.000Z","updated":"2021-11-14T10:21:37.000Z","comments":true,"path":"2021/11/14/back-to-october/","permalink":"https://yeshan333.github.io/2021/11/14/back-to-october/","excerpt":"","text":"å‰è¨€ä¸çŸ¥ä¸è§‰ï¼Œç¦»å¼€æ ¡å›­å°†è¿‘å››ä¸ªæœˆäº†ï¼Œæ­£å¼å·¥ä½œï¼ˆæ‘¸ğŸŸ~ï¼‰ä¹Ÿå·®ä¸å¤šå››ä¸ªå¤šæœˆäº†ï¼Œæœ€è¿‘ç»å†äº†å¾ˆå¤šäº‹ï¼Œå¤´å‘ä¹Ÿæ‰äº†ä¸å°‘ğŸ˜‚ {å¾®å¾®å®³æ€•äº†}ã€‚ä¹‹å‰ä¸€ç›´æœ‰æƒ³æ³•æƒ³è¡¥å……ä¸€äº›å¸¦æœ‰ç”Ÿæ´»æ°”æ¯çš„åšæ–‡åˆ°è‡ªå·±çš„åšå®¢ä¸­ï¼Œå°è±¡ä¸­ 2021 å¹´çš„ reviewed æœ‰æåˆ°è¿‡ï¼Œæ€»è§‰å¾—è‡ªå·±çš„åšå®¢å°‘äº†ç‚¹å‘³å„¿ï¼ˆç”Ÿæ´»çš„å‘³é“ï¼‰ï¼Œæ¯•ç«Ÿæˆ‘ä¹Ÿæ˜¯ä¸ªæ´»è„±è„±çš„äººå•Šï¼Œä¹Ÿæ˜¯æœ‰ â€œæ„Ÿè§‰â€ çš„ã€‚ è¶ç€å‘¨æœ«ï¼Œæ¥ä¸€ç¯‡ã€‚ç•¥å¾®å›é¡¾äº†ä¸‹è¿™å‡ ä¸ªæœˆï¼Œè§‰å¾—æœ€åº”è¯¥å†™çš„å°±æ˜¯ 10 æœˆï¼ˆå±äº‹å¤šğŸ˜„ï¼‰ï¼Œè™½ç„¶è¯´ç°åœ¨éƒ½ 11 æœˆäº†ï¼Œä½†ä¹Ÿä¸å¦¨ç¢æˆ‘å†™ 10 æœˆçš„äº‹ã€‚ 10 æœˆçš„é‚£äº›å°ç¡®å¹¸ å›½åº† ç­”è¾© æˆ–è®¸æ³¨å®šçš„é‡è§ å›½åº†ä¸ƒå¤©emmmï¼Œè¯´åˆ° 10 æœˆï¼Œé¦–å½“å…¶å†²çš„å½“ç„¶æ˜¯å›½åº†ä¸ƒå¤©çš„å‡æœŸäº†ã€‚è¿™ä¸ƒå¤©æˆ‘æœ‰ä¸‹é¢çš„ä¸€ä¸ªå°æ€»ç»“ï¼Œ2333ï¼š Day 1ï¼Œæ¸¸æˆï¼ˆFPSï¼‰ï¼› Day 2ï¼Œæ¸¸æˆï¼ˆFPSï¼‰ï¼› Day 3ï¼Œæ¸¸æˆï¼ˆSRPGï¼‰ï¼› Day 4ï¼Œç°ä»£æ–‡å­¦å°è¯´ã€Šæ´»ç€ã€‹ + ç”µå½±ã€Šæ´»ç€ã€‹ï¼› Day 5ï¼Œçˆ¬ä¸ªå±±ï¼› Day 6ï¼ŒåŠ¨ç‰©å›­ &amp; åŒ—äº¬è·¯ &amp; ä¹¦åº—ï¼› Day 7ï¼Œçœ‹äº†ä¸ªç”µå½±ï¼Œå†™ç¯‡æ–‡ç« ï¼› Day 8ï¼Œä¸Šäº†ä¸ªç­å„¿ã€‚ æ¸¸æˆï¼šæˆ‘åœ¨ 7 æœˆä»½æ¢äº†ä¸ªé…ç½®è¿˜å¯ä»¥ç”µè„‘ï¼Œç»ˆäºèƒ½æ‰“ç‚¹åƒæ ·ç‚¹çš„æ¸¸æˆäº†ï¼Œä¹‹å‰é‚£å°ç ´ç”µè„‘ï¼Œæˆ‘åªèƒ½æ‰“ä¸ªã€Šç»†èƒåˆ†è£‚ï¼šæ–­ç½ªã€‹æ„æ€ä¸€ä¸‹ï¼Œå“¦ï¼Œè¿˜æœ‰ã€Šæ˜Ÿé™…äº‰éœ¸ 2ã€‹ä¹Ÿèƒ½å‹‰å¼ºç©ç©ï¼Œå½“åˆçœ‹ç€å®¤å‹ç©æ–°å‡ºçš„æ¸¸æˆï¼Œé‚£å«ä¸€ä¸ªç¾¡æ…•å•Šï¼ˆé‚£æ—¶å€™æˆ‘ä¸€èˆ¬åªå¥½ç”©ä¸ªé—¨å‡ºå»å·äº†ï¼‰ã€‚10 æœˆå‰ï¼Œã€ŠSniper Elite 4ã€‹ç‹™å‡»ç²¾è‹± 4 æ­£å¥½æ‰“æŠ˜ï¼Œåæ‰‹åœ¨ Steam å…¥æ‰‹äº†æˆ‘çš„ç¬¬äºŒæ¬¾æ¸¸æˆï¼ˆä¹‹å‰è€ç™½å«–å…šäº†ï¼ŒèŠ±ç‚¹é’±ï¼Œæ„æ€ä¸‹ï¼‰ã€‚BTWï¼Œå›½åº†å‰ä¸€ä¸ªåŒäº‹æ¨èè¿‡æˆ‘è€ä¸‹ã€ŠHearts of Ironã€‹é’¢é“é›„å¿ƒï¼Œç©äº†ä¸‹ï¼ŒçœŸå¤æ‚ï¼Œä¸é€‚åˆæˆ‘ã€‚è¢«æŸã€Šç‹è€…è£è€€ã€‹å½±å“ï¼Œæ‰“ä¹ æƒ¯å­¦ä¹ æˆæœ¬æ²¡ä¹ˆé«˜çš„æ¸¸æˆäº†ï¼ˆè¿™å°±æ˜¯ä¼ è¯´ä¸­çš„è¿«äºç”Ÿæ´»ï¼Ÿï¼‰ã€‚äºæ˜¯æœºæ™ºçš„æˆ‘ï¼Œå·§å¦™çš„é¿å¼€äº†å›½åº†å‰ä¸‰å¤©çš„äººæµ·ï¼Œå†³å®šä¸å‡ºå»ï¼Œæ‰“å¼€ä¸¤å¤©çš„ã€Šç‹™å‡»ç²¾è‹± 4ã€‹ï¼Œå”‰ï¼ŒçœŸé¦™ï¼ ç¬¬ä¸‰å¤©ï¼Œåæ‰‹æ‰“å¼€äº†æµ·è±šæ¨¡æ‹Ÿå™¨ï¼ˆæ²¡åŠæ³•ï¼Œæ¡ä»¶å®ƒä¸å…è®¸ï¼‰ï¼Œç©èµ·äº† SRPG æ¸¸æˆ -&gt; ã€Šç«ç„°çº¹ç« ï¼šæ™“ä¹‹å¥³ç¥ã€‹ï¼Œç«ç„°çº¹ç« ç³»åˆ—æ¸¸æˆç©äº†å¾ˆå¤šå¹´äº†ï¼Œä¸çŸ¥é“æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½å«–ä¸Š 2019 å¹´å‡ºçš„ã€Šç«ç„°ä¹‹çº¹ç« ï¼šé£èŠ±é›ªæœˆã€‹&#x2F;(ã„’oã„’)&#x2F;~~ï¼ŒGoogle äº†ä¸€éï¼Œæ²¡ç¿»åˆ°é•œåƒï¼Œå¤ªéš¾äº†ğŸ˜­ã€‚æ¯æ¬¡ç©è¿™ç§ç•¥å¾®å¸¦ç‚¹å¹´ä»£æ„Ÿçš„æ¸¸æˆï¼Œéƒ½ä¼šå›å¿†èµ·å°æ—¶å€™ç©æ’å¡å¸¦æ¸¸æˆçš„é‚£ç§å¿«ä¹ã€‚ ohï¼Œè¿™ä¸ªæœˆæˆ‘è¿˜é€šè¿‡æŸå°ç¨‹åºè€äº†ä¸‹å½“åˆå°æ—¶å€™ç©è¿‡çš„ã€Šçƒ­è¡€æ ¼æ–—ã€‹ï¼Œå¿«ä¹å°±è¿™ä¹ˆç®€å•ğŸ˜ï¼Ÿ å°è¯´ï¼šç¬¬å››å¤©ï¼Œæˆ‘å°è¯•ç€çœ‹äº†ä¸‹ä½™åçš„é•¿ç¯‡å°è¯´ã€Šæ´»ç€ã€‹ï¼Œä¸°å¯Œä¸‹è‡ªå·±çš„ç²¾ç¥ä¸–ç•Œã€‚æ‰€å¹¸å®ƒçš„ç¯‡å¹…ä¹Ÿæ²¡æœ‰é‚£ä¹ˆé•¿ï¼ˆæƒ³èµ·æ¥ï¼Œå½“åˆæˆ‘é‚£å¥—å‘¨æ˜“ä¹Ÿæ²¡çœ‹å®Œï¼Œè™½ç„¶ä¸€å°æœ¬æŒºè–„çš„ğŸ˜¢ï¼Œä½†å°æœ¬æœ¬å †èµ·æ¥å°±å¾ˆå¤šäº†ï¼‰ã€‚å°è¯´åœ¨ç”¨æ­»äº¡å»â€œè±¡å¾â€æ´»ç€ï¼Œå°½ç®¡ä¸»äººå…¬çš„ä¸€ç”Ÿæ˜¯é‚£ä¹ˆçš„ä¸å¹¸ï¼Œä½†ä»–æœ€åä»ç„¶æ˜¯é‚£ä¹ˆçš„ä¹è§‚è±è¾¾ã€‚ä»”ç»†æƒ³æƒ³ï¼Œæˆ‘è§‰å¾—ç¦è´µè¿˜æ˜¯æŒºå¹¸è¿çš„ï¼Œé‡åˆ°äº†é‚£ä¹ˆå¤šå¯¹è‡ªå·±å¥½çš„äººã€‚å°½ç®¡æˆ‘æ²¡æœ‰ç”Ÿé•¿åœ¨é‚£ä¸ªå¹´ä»£ï¼Œä½†æˆ‘åœ¨è¿™å°è¯´ä¸­ä»ä¸€ä¸ªå¹³å‡¡äººçš„è§†è§’ï¼ˆç›¸æ¯”äºä¹‹å‰çš„ç»å¸¸çœ‹çš„æŠ—æˆ˜ç”µè§†å‰§ï¼‰åˆçœ‹åˆ°äº†çš„å½“åˆé‚£äº›å¹´ä»£çš„ä¸å®¹æ˜“ã€‚ç¬¬å››å¤©ç¨å¾®æ™šäº›çš„æ—¶å€™ï¼Œæˆ‘é¡ºä¾¿çœ‹äº†ä¸‹å¼ è‰ºè°‹æ‰§å¯¼çš„åŒåç”µå½±ï¼Œç”µå½±ç¨å¾®ç¾åŒ–äº†ä¸‹å°è¯´ï¼Œä½†ä¸å¾—ä¸è¯´ 94 å¹´çš„ç”µå½±è¿™ä¹ˆæ£’ï¼Œé‚£ç®±è´¯ç©¿æ•´éƒ¨ç”µå½±çš„çš®å½±ç®±ï¼Œè®©æˆ‘å°è±¡å¾ˆæ·±åˆ»ï¼Œç”µå½±çš„è™½ç„¶æ²¡æœ‰æ‹å®Œæ•´éƒ¨å°è¯´ï¼Œä½†æç»˜å¾—å¾ˆåˆ°ä½äº†ã€‚ä¹Ÿè®¸å¤šå¹´åçš„æˆ‘å†çœ‹ä¼šæœ‰æ›´å¤šå¾—ä½“ä¼šğŸ¤”ï¼Œä¸‹é¢æ˜¯æˆ‘çœ‹å°è¯´çš„æ—¶å€™å–œæ¬¢å¾—ä¸€æ®µè¯ï¼š çˆ¬å±±ï¼šç¬¬äº”å¤©çš„çˆ¬å±±å…¶å®å¹¶æ²¡æœ‰åˆ—å…¥æˆ‘çš„è§„åˆ’ä¸­ï¼ˆæƒ³äº†æƒ³ï¼Œæˆ‘çš„å›½åº†å½“åˆä¹Ÿæ²¡è§„åˆ’ğŸ¤£ï¼‰ï¼Œè¿™å¯ä»¥è¯´æ˜¯è¯´èµ°å°±èµ°äº†ï¼Œå‡ºå»å‘¼å¸ä¸‹æ–°é²œç©ºæ°”ã€‚è¿™å¤©ç›¸å½“çš„ relaxï¼Œè¿™å¹¿å·çš„ç™½äº‘å±±è¿˜æŒºçŸ®ï¼Œä¸è¿‡å¿«åˆ°å±±é¡¶çš„é‚£æ®µè·¯ä¹Ÿä¸å¥½èµ°å•Šã€‚æˆ‘ä»¥ä¸ºè¿‡å®Œä¸€éå±±ä¸Šçš„æ™¯ç‚¹äº†ï¼Œä½†æ˜¯å’ŒæŸä¸ªäººèŠçš„æ—¶å€™ï¼Œæˆ‘å‘ç°æˆ‘å±…ç„¶è¿˜æœ‰é‚£ä¹ˆå¤šçš„åœ°ç‚¹æ²¡å»ï¼Œåé¢å†å»æ¬¡ï¼ˆå›§.jpgï¼‰ã€‚ åŠ¨ç‰©å›­ &amp; åŒ—äº¬è·¯ &amp; ç”µå½±ï¼šè¿™é‡Œè¦ç‰¹åˆ«æä¸€ä¸‹ï¼Œæˆ‘éƒ½æ˜¯ä¸€ä¸ªäººå»çš„ï¼Œ2333ï¼Œæˆ‘éª„å‚²ï¼ˆğŸ˜ï¼‰ã€‚åæ§½ä¸€ä¸‹ï¼ŒåŠ¨ç‰©å›­ &amp; åŒ—äº¬è·¯ ä¹Ÿå°±è¿™äº†ï¼Œä¸è¿‡å¦‚æ­¤ğŸ¤£ï¼Œæ„Ÿè§‰æ¯ä¸ªåŸå¸‚éƒ½æœ‰ã€‚ç”µå½±çœ‹çš„æ˜¯æœ€è¿‘å¾ˆç«çš„ã€Šé•¿æ´¥æ¹–ã€‹ï¼Œäººç”Ÿçš„ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººå»çœ‹çš„ç”µå½±ï¼Œåªèƒ½è¯´æˆ‘å¤ªå‹‡äº†ï¼Œä¹‹å‰çœ‹ç”µå½±ä¸€ç›´æ˜¯å’ŒåŒå­¦å»çš„ï¼Œä¸€ç›´å®³æ€•ä¸€ä¸ªäººå»çœ‹ï¼ˆæœ‰ç§æƒ³æ³•ä¸€ç›´å›´ç»•ç€æˆ‘çš„è„‘æµ·ï¼šä¸€ä¸ªäººå»ä¸å¤ªå¥½å§ï¼Ÿå‘¨å›´éƒ½æ˜¯å°æƒ…ä¾£ï¼Ÿè¢«æš´å‡»ï¼‰ã€‚è¢«æœ‹å‹ç–¯ç‹‚ pushï¼Œæ‚Ÿäº†ï¼Œæƒ³çœ‹å°±çœ‹ï¼Œå…³æ³¨é‚£ä¹ˆå¤šåˆ«äººçš„çœ‹æ³•å¹²å˜›ï¼ˆåˆ«äººä¹Ÿæœªå¿…å…³æ³¨ä½ ï¼‰ã€‚ ä¹¦åº—ï¼šè°ˆåˆ°é˜…è¯»ï¼Œæˆ‘ç»å†äº†ä»çº¸è´¨ä¹¦åˆ°ç”µå­ä¹¦å†åˆ°çº¸è´¨ä¹¦ &amp; ç”µå­ä¹¦æ··åˆåŒæ‰“çš„å˜æ¢ã€‚æœ€è¿‘å‡ ä¸ªæœˆå»ä¹¦åº—çš„é¢‘ç‡æœ‰ç‚¹é«˜äº†ï¼Œè¢«è¯­é›€ä¸Š dalao ä»¬ä¸°å¯Œçš„ç²¾ç¥ä¸–ç•Œåˆºæ¿€åˆ°äº†ğŸ¤£ï¼Œæˆ‘å¯¹è‡ªå·±ç²¾ç¥ä¸–ç•Œçš„æ¢ç´¢åˆæ›´åŠ çƒ­åˆ‡äº†ï¼Œå»ä¹¦åº—æ”’ç‚¹â€œæ°”â€ã€‚è‡ªå·±ä¹‹å‰æ˜¯å¾ˆå¤šå–œæ¬¢åˆ°çŸ¥ä¹è¿˜æœ‰å¾®ä¿¡å…¬ä¼—å·å»çœ‹åˆ«äººå†™çš„æ–‡ç« çš„ï¼Œå¥ˆä½•è¿˜æ˜¯æ²¡æœ‰èƒ½å¤Ÿå¾ˆå¥½çš„æŠŠè‡ªå·±çš„æƒ³æ³•çœŸå®å†™å‡ºæ¥ã€‚æˆ‘åˆæ‚Ÿäº†ğŸ¤£ï¼Œæ˜¯æˆ‘æ²¡æœ‰æ–™ï¼Œæ–™å‚¨å¤‡ä¸å¤Ÿå¤šï¼ŒMaybeï¼Œä¸€æœ¬å®Œæ•´çš„ä¹¦ç›¸æ¯”äºç‰‡æ®µåŒ–çš„æ–‡ç« èƒ½è®©æˆ‘æœ‰æ›´æ·±åˆ»çš„æ„Ÿå—ï¼é‚£ä¹ˆå°±å¾®å¾®æé«˜äº†ä¸‹çœ‹ä¹¦çš„é¢‘ç‡ï¼Œåšç‚¹çªç ´ã€‚ ç­”è¾©è¿™ä¸ªæœˆè¿˜æœ‰ä¸€ä»¶é‡è¦çš„äº‹ï¼Œå°±æ˜¯æˆ‘çš„è½¬æ­£ç­”è¾©ã€‚ä¸å¾—ä¸è¯´å†™ PPT æ˜¯ä¸ªå¾ˆç—›è‹¦çš„äº‹æƒ…ï¼Œä½†æ˜¯ä¸ºäº†ç»™è‡ªå·±ä¸ªäº¤ä»£ï¼Œå¿…é¡»å¾—å†™ä¸€ä¸ªã€‚å‡†å¤‡ç­”è¾©çš„è¿‡ç¨‹æˆ‘ä¹Ÿæ…¢æ…¢å¯¹è‡ªå·±æœ‰äº†æ›´åŠ æ¸…æ¥šçš„è®¤çŸ¥ã€‚ ç›´è‡³ç°åœ¨ï¼Œæˆ‘ä»ç„¶èƒ½å¾ˆæ¸…æ¥šå¾—æ„Ÿå—åˆ°è‡ªå·±çš„å˜åŒ–ã€‚ æœ€è¿‘è®¤è¯†çš„åŒäº‹ &amp; æœ‹å‹éƒ½è·Ÿæˆ‘è¯´è¿‡ä¸€å¥è¯ï¼ˆSocial è¿˜å¾—æ˜¯ä½ å•Šï¼ï¼‰ï¼Œå®é™…ä¸Šï¼ŒSocialï¼Ÿæˆ‘å¹¶æ²¡æœ‰é‚£ä¹ˆçš„ Socialã€‚æˆ‘è§‰å¾—æˆ‘ä»¥å‰æ˜¯é‚£ä¹ˆä¸€ä¸ªå­¤åƒ»çš„äººï¼Œå“ªæ€•æ˜¯å¯¹å®¶äººä¹Ÿæ˜¯å¦‚æ­¤ã€‚æˆ‘æ˜¯é‚£ä¹ˆçš„å–œæ¬¢ä¸€ä¸ªäººå‘†ç€ï¼ˆå‘†ç€ï¼Ÿæˆ–è®¸å¯ä»¥ç§°ä¹‹ä¸ºç‹¬å¤„ï¼‰ï¼Œä¸æ„¿æ„äºå¤ªå¤šçš„äººæ¥è§¦ï¼Œèƒ½è‡ªå·±åšçš„äº‹ç»ä¸æ‰¾åˆ«äººï¼Œå°±ç®—ä¸èƒ½è‡ªå·±åšï¼Œä¹Ÿä¼šç»§ç»­åšæŒæ‰¾ç€æ³•å»åšï¼Œå°±æ˜¯ä¸å¤ªæ„¿æ„æ‰¾åˆ«äººå¸®å¿™ã€‚æˆ‘æ„Ÿè§‰çŸ¥ä¹ä¸Šçš„ä¸€ä¸ªè¯é¢˜å¯¹æˆ‘è¿™ä¸€ç±»äººçš„æè¿°æ˜¯å¾ˆåˆ°ä½çš„ -&gt; ä¸ºä»€ä¹ˆè¯´å†…å‘çš„äººç²¾ç¥å†…è€—å¾ˆä¸¥é‡å‘¢?ã€‚æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä¼šè§‰å¾—æˆ‘æ˜¯é‚£ä¹ˆçš„ä¸è‡ªä¿¡ã€‚å·¥ä½œä¸Šçš„äº‹ï¼Œæœ€åˆæ˜¯æ¯”è¾ƒåŒæ¶æ²Ÿé€šçš„ï¼Œå‘¨å›´çš„åŒäº‹è¿˜æ˜¯ä¸é”™çš„ï¼Œä½†æˆ‘è¿˜æ˜¯ä¸æ„¿æ„å»æ²Ÿé€šï¼Œæ€»è§‰å¾—æˆ‘è‡ªå·±èƒ½è§£å†³ğŸ˜¢ï¼Œä½†è¿™æ•ˆç‡ç›¸å¯¹äºåˆä½œæ¥è¯´ï¼Œå°±æ²¡é‚£ä¹ˆçš„å¥½äº†ã€‚ ç°åœ¨æ„Ÿè§‰å¥½å¤šäº†ï¼Œæˆ‘æ…¢æ…¢çš„è¸å‡ºäº†é‚£ä¸€æ­¥ï¼Œä¸»åŠ¨å’Œåˆ«äººæ²Ÿé€šç¨å¾®å¤šäº†ç‚¹ã€‚ä½†è¿˜æ˜¯æœ‰ç§ç±»ä¼¼äºâ€œåŒæ¶â€çš„å¿ƒç†å­˜åœ¨ï¼Œä¸æƒ³åˆ«äººçŸ¥é“å¤ªå¤šã€‚å¥½äº†ï¼Œè¿™é‡Œæˆ‘ä¹Ÿä¸æƒ³å†™å¤ªå¤šï¼Œæˆ‘æœŸå¾…è‡ªå·±çš„ä¸‹ä¸€æ­¥å˜åŒ–ğŸ™‚ã€‚ è¿™é‡Œçš„è¯å¯èƒ½æœ‰ç‚¹ä¹±ï¼Œç¨ï¼ˆæ—¥ï¼‰åå†ç†ä¸€ç†ã€‚ é‡è§â€¦â€¦ Life is not over.","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"ä½¿ç”¨ Kubeadm æ­å»ºä¸ªå…¬ç½‘ k8s é›†ç¾¤ï¼ˆå•æ§åˆ¶å¹³é¢é›†ç¾¤ï¼‰","slug":"create-k8s-cluster","date":"2021-10-24T13:51:19.000Z","updated":"2021-10-24T13:51:19.000Z","comments":true,"path":"2021/10/24/create-k8s-cluster/","permalink":"https://yeshan333.github.io/2021/10/24/create-k8s-cluster/","excerpt":"å‰è¨€YYï¼šå›½åº†çš„æ—¶å€™è¶ç€é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘çš„è½»é‡çº§æœåŠ¡å™¨åšä¿ƒé”€ä¸€ä¸å°å¿ƒå‰äº†ä¸ªæ‰‹ğŸ˜ğŸ˜¢ï¼Œ2 Coresï¼Œ4G RAM è¿˜æ˜¯é˜”ä»¥çš„ï¼Œæ—¢ç„¶ä¹°äº†ï¼Œé‚£ä¸èƒ½ä¸ç”¨å‘€ğŸš©ï¼Œä¹‹å‰ä¸€ç›´æƒ³ç€æ­å»ºä¸ª k8s é›†ç¾¤ç©ç©ï¼Œæœ¬åœ°å¼€å‘æœºè™½ç„¶èµ·äº†ä¸ª k8sï¼ˆæ‹¿ Docker Desktop èµ·çš„ï¼Œä¸ dei åŠ²ï¼‰ï¼Œä½†å°±ä¸€ä¸ª Nodeï¼Œä¸çˆ½ï¼Œå¯¹ k8s çš„ä½“éªŒä¸åˆ°ä½ğŸ˜’ï¼Œ1024ï¼Œæ˜¯æ—¶å€™ç”¨èµ·æ¥äº†ï¼ŒæŠ˜è…¾ä¸€ä¸‹ï¼Œé¡ºä¾¿è®©æœ€è¿‘æµ®èºçš„å¿ƒå†·é™ä¸€ä¸‹ã€‚ è¿™æ¬¡æ‹¿å®˜æ–¹çš„ Kubeadm è€ä¸€ä¸‹ï¼Œä»¥é˜¿é‡Œäº‘çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ä¸º Control èŠ‚ç‚¹ï¼Œè…¾è®¯äº‘çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ä¸º Worker èŠ‚ç‚¹ï¼Œè¯´å¹²å°±å¹²ã€‚","text":"å‰è¨€YYï¼šå›½åº†çš„æ—¶å€™è¶ç€é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘çš„è½»é‡çº§æœåŠ¡å™¨åšä¿ƒé”€ä¸€ä¸å°å¿ƒå‰äº†ä¸ªæ‰‹ğŸ˜ğŸ˜¢ï¼Œ2 Coresï¼Œ4G RAM è¿˜æ˜¯é˜”ä»¥çš„ï¼Œæ—¢ç„¶ä¹°äº†ï¼Œé‚£ä¸èƒ½ä¸ç”¨å‘€ğŸš©ï¼Œä¹‹å‰ä¸€ç›´æƒ³ç€æ­å»ºä¸ª k8s é›†ç¾¤ç©ç©ï¼Œæœ¬åœ°å¼€å‘æœºè™½ç„¶èµ·äº†ä¸ª k8sï¼ˆæ‹¿ Docker Desktop èµ·çš„ï¼Œä¸ dei åŠ²ï¼‰ï¼Œä½†å°±ä¸€ä¸ª Nodeï¼Œä¸çˆ½ï¼Œå¯¹ k8s çš„ä½“éªŒä¸åˆ°ä½ğŸ˜’ï¼Œ1024ï¼Œæ˜¯æ—¶å€™ç”¨èµ·æ¥äº†ï¼ŒæŠ˜è…¾ä¸€ä¸‹ï¼Œé¡ºä¾¿è®©æœ€è¿‘æµ®èºçš„å¿ƒå†·é™ä¸€ä¸‹ã€‚ è¿™æ¬¡æ‹¿å®˜æ–¹çš„ Kubeadm è€ä¸€ä¸‹ï¼Œä»¥é˜¿é‡Œäº‘çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ä¸º Control èŠ‚ç‚¹ï¼Œè…¾è®¯äº‘çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ä¸º Worker èŠ‚ç‚¹ï¼Œè¯´å¹²å°±å¹²ã€‚ Check ä¸€ä¸‹æ–‡æ¡£è¦æ±‚ - å‡†å¤‡å·¥ä½œKubenetes å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº† Kubeadm èµ· k8s é›†ç¾¤çš„å‡ ç‚¹è¦æ±‚ï¼Œåœ¨è¿™é‡Œå¾®å¾®æ£€æŸ¥ä¸‹ä¸¤å°è½»é‡çº§äº‘æœåŠ¡å™¨ï¼š A compatible Linux host. The Kubernetes project provides generic instructions for Linux distributions based on Debian and Red Hat, and those distributions without a package manager.[æˆ‘ä»¬ç”¨çš„ Ubuntu 20.04ï¼Œé‚£è‚¯å®šç¬¦åˆ Debian ç³»çš„]. 2 GB or more of RAM per machine (any less will leave little room for your apps).[4G, æˆ‘ä»¬å¾ˆ OK, ä½†æ„Ÿè§‰åé¢ä¼šæ‹‰è·¨]. 2 CPUs or more. [æ­£å¥½ä¸€å° 2ä¸ª CPU, nice]. Full network connectivity between all machines in the cluster (public or private network is fine).[ä¸¤å°è½»é‡çº§åº”ç”¨æœåŠ¡å™¨éƒ½æœ‰å…¬ç½‘ IPï¼Œé‚£å¿…é¡»äº’é€šå•Š]. Unique hostname, MAC address, and product_uuid for every node.[è¿™é‡Œå¾—å¾®å¾® check ä¸€ä¸‹ä¸¤å°æœåŠ¡å™¨ï¼Œcat /sys/class/net/eth0/address çœ‹ä¸‹ MAC åœ°å€ï¼Œsudo cat /sys/class/dmi/id/product_uuid çœ‹ä¸‹ product_uuid, hostname çœ‹ä¸‹ä¸»æœºåï¼Œemmm, correctï¼] Certain ports are open on your machines. [è¿™é‡Œå¾—åˆ°é˜¿é‡Œäº‘è½»é‡çº§æœåŠ¡å™¨ &amp; è…¾è®¯äº‘çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨çš„é˜²ç«å¢™å¼€æ”¾ä¸‹ç›¸å…³ TCP ç«¯å£]ã€‚ é˜¿é‡Œäº‘è½»é‡çº§åº”ç”¨æœåŠ¡å™¨å¼€å¯ Controlï¼ˆæ§åˆ¶å¹³é¢ï¼‰èŠ‚ç‚¹çš„ TCP ç«¯å£ï¼Œè¿™é‡Œè¦å¯¹ç…§ä¸‹æ–‡æ¡£ç»™å‡ºçš„éœ€è¦å¼€æ”¾çš„ç«¯å£ï¼š Control Plane Open PortsAliyun Control Node è…¾è®¯äº‘è½»é‡çº§åº”ç”¨æœåŠ¡å™¨å¼€å¯ Workerï¼ˆå·¥ä½œï¼‰èŠ‚ç‚¹çš„ TCP ç«¯å£ï¼š Worker Node Open PortsTencent Cloud Worker Node Swap disabled. You MUST disable swap in order for the kubelet to work properly. [ä¸ºäº†è®© kubelet èµ·æ¥ï¼Œè¦æŠŠ Swap åˆ†åŒºå…³é—­ï¼Œä½¿ç”¨ free -mh çœ‹ä¸‹ Swap æ˜¯å¦åœ¨ä½¿ç”¨ï¼Œ swapoff -a å…³é—­ Swap åˆ†åŒº]. å‚è€ƒï¼šhttps://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/ ä¸ºä»€ä¹ˆéœ€è¦å…³é—­ Swap åˆ†åŒºï¼Œæœ‰ dalao åšäº†åˆ†æï¼šhttps://www.jianshu.com/p/6f3268ce642f Letting iptables see bridged traffic. è¿™é‡Œç…§ç€æ–‡æ¡£ï¼Œä¸€æ³¢æ“ä½œä¸‹ä¸¤å°æœåŠ¡å™¨ï¼š 12345678910111213sudo modprobe br_netfiltercat &lt;&lt;EOF | sudo tee /etc/modules-load.d/k8s.confbr_netfilterEOFcat &lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.confnet.bridge.bridge-nf-call-ip6tables = 1net.bridge.bridge-nf-call-iptables = 1EOFsudo sysctl --systemlsmod | grep br_netfilter Container Runtime Interfaceï¼ˆCRIï¼‰. [è¿™é‡Œéœ€è¦å®‰è£…ä¸‹ Pod è¿è¡Œéœ€è¦çš„å®¹å™¨è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬é€‰æ‹© Docker]. 1234567891011apt-get updateapt-get install -y apt-transport-https \\ software-properties-common \\ ca-certificates \\ curl \\ gnupg \\ lsb-releasecurl -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -sudo add-apt-repository &quot;deb [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable&quot;apt-get updateapt-get install -y docker-ce docker-ce-cli containerd.io å®‰è£…å®Œæ¯•è¿˜éœ€è¦å°† Docker çš„ cgroup driver æ›¿æ¢ä¸º systemdï¼Œç¡®ä¿ä¸ Kubeneters ä½¿ç”¨çš„ä¸€è‡´ã€‚ 12345678cat&gt;&gt;/etc/docker/daemon.json&lt;&lt;EOF&#123; &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;]&#125;EOFsystemctl daemon-reloadsystemctl restart docker å®‰è£… kubeadm, kubelet, kubectlä¸Šé¢æ£€æŸ¥å·¥ä½œå¦‚æœå¾ˆé¡ºåˆ©çš„è¯ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å‡†å¤‡ kubeadm, kubelet, kubectl å®‰è£…äº†ï¼Œä¸è¿‡æˆ‘ä»¬è¿˜å¾—ç»™ apt æ·»åŠ  Kubenetest è½¯ä»¶æºï¼Œå®˜æ–¹æ–‡æ¡£ä¸­ä½¿ç”¨çš„å¦‚è½¯ä»¶æºæ˜¯ Google åŸŸåä¸‹çš„ï¼Œå›½å†…äº‘æœåŠ¡å™¨è®¿é—®ä¼šæœ‰é—®é¢˜ï¼ˆæ‡‚å¾—éƒ½æ‡‚äº†ğŸ˜‚ï¼‰ï¼Œè¿™é‡Œä½¿ç”¨å›½å†…å¾—æºï¼Œè¿™é‡Œä¸¤å°æœåŠ¡å™¨éƒ½æ“ä½œä¸€ä¸‹ï¼š 123456# 1ã€æ·»åŠ  GPG Keysudo curl -fsSL http://mirrors.aliyun.com/kubernetes/apt/doc/apt-key.gpg | sudo apt-key add -# 2ã€æ·»åŠ  k8s è½¯ä»¶æºsudo add-apt-repository &quot;deb http://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial main&quot;3ã€update ä¸€ä¸‹apt-get update ä¸Šé¢æ‰§è¡Œæ²¡æœ‰é—®é¢˜çš„è¯ï¼Œå°±å¯ä»¥å¼€å§‹å®‰è£… kubelet kubeadm kubectläº†ï¼š 1234567sudo apt-get install -y kubelet kubeadm kubectl# æŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬, apt install apt-show-versionsapt-show-versions kubectl kubelet kubeadm# è®© kubelet å¼€æœºå¯åŠ¨sudo systemctl start kubeletsudo systemctl enable kubelet kubeadm: å¼•å¯¼å¯åŠ¨ Kubernate é›†ç¾¤çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ kubelet: åœ¨ç¾¤é›†ä¸­çš„æ‰€æœ‰è®¡ç®—æœºä¸Šè¿è¡Œçš„ç»„ä»¶, å¹¶ç”¨æ¥æ‰§è¡Œå¦‚å¯åŠ¨ Pods å’Œ Containers ç­‰æ“ä½œã€‚ kubectl: ç”¨äºæ“ä½œè¿è¡Œä¸­çš„é›†ç¾¤çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ åˆå§‹åŒ–é›†ç¾¤ä¸ºäº†èƒ½å¤Ÿè®©é›†ç¾¤åˆå§‹åŒ–æ›´å¿«ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé¢„æ‹‰å–é›†ç¾¤åˆå§‹åŒ–ä¾èµ–çš„é•œåƒï¼Œemmmï¼Œå®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„åˆæ˜¯ Google çš„ç½‘å€ï¼Œè¿™é‡Œæˆ‘ä»¬åŸºäº GitHub -&gt; AliyunContainerService&#x2F;k8s-for-docker-desktop é¡¹ç›®åšé•œåƒçš„å¿«é€Ÿæ‹‰å–ã€‚ç¡®ä¿ç›¸å…³é•œåƒç‰ˆæœ¬ä¸ kubelet ä¿æŒä¸€è‡´ï¼ˆè¿™é‡Œæ˜¯ v1.22.2ï¼‰, kubeadm config images list --kubernetes-version v1.22.2 å¯æŸ¥çœ‹éœ€è¦å“ªäº›é•œåƒã€‚ 12345678910111213141516git clone https://github.com/AliyunContainerService/k8s-for-docker-desktop.git &amp;&amp; cd k8s-for-docker-desktoprm -f images.properties# è°ƒæ•´é•œåƒç‰ˆæœ¬cat&gt;&gt;images.properties&lt;&lt;EOFk8s.gcr.io/pause:3.5=registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.5k8s.gcr.io/kube-controller-manager:v1.22.2=registry.cn-hangzhou.aliyuncs.com/google_containers/kube-controller-manager:v1.22.2k8s.gcr.io/kube-scheduler:v1.22.2=registry.cn-hangzhou.aliyuncs.com/google_containers/kube-scheduler:v1.22.2k8s.gcr.io/kube-proxy:v1.22.2=registry.cn-hangzhou.aliyuncs.com/google_containers/kube-proxy:v1.22.2k8s.gcr.io/kube-apiserver:v1.22.2=registry.cn-hangzhou.aliyuncs.com/google_containers/kube-apiserver:v1.22.2k8s.gcr.io/etcd:3.5.0-0=registry.cn-hangzhou.aliyuncs.com/google_containers/etcd:3.5.0-0k8s.gcr.io/coredns/coredns:v1.8.4=registry.cn-hangzhou.aliyuncs.com/google_containers/coredns:1.8.4quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.26.1=registry.cn-hangzhou.aliyuncs.com/google_containers/nginx-ingress-controller:0.26.1EOF# æ‹‰å–é•œåƒ./load_images.sh åˆå§‹åŒ–æ§åˆ¶å¹³é¢èŠ‚ç‚¹ï¼ˆControl Plane Node(s)ï¼‰æ§åˆ¶ï¼ˆControlï¼‰èŠ‚ç‚¹ {é˜¿é‡Œäº‘è½»é‡çº§åº”ç”¨æœåŠ¡å™¨} çš„é•œåƒé¢„æ‹‰å–å®Œæ¯•åï¼Œå¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼š 12345# api server IPv4 åœ°å€ä½¿ç”¨å…¬ç½‘ IPkubeadm init \\ --pod-network-cidr=10.244.0.0/16 \\ --kubernetes-version v1.22.2 # --apiserver-advertise-address 120.79.73.159 ä¸ºå½“å‰ root ç”¨æˆ·ç”Ÿæˆ kubeconfigï¼š 123mkdir -p $HOME/.kubesudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/configsudo chown $(id -u):$(id -g) $HOME/.kube/config å®‰è£… CNIï¼ˆContainer Network Interfaceï¼‰ -&gt; Flannel 1curl --insecure -sfL https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml | kubectl apply -f - æŸ¥çœ‹èŠ‚ç‚¹çŠ¶å†µï¼Œemmmï¼ŒReady æ²¡æ¯›ç—… 123root@iZwz92a65mqaa8zwy83dpnZ:~/k8s-for-docker-desktop# kubectl get nodesNAME STATUS ROLES AGE VERSIONizwz92a65mqaa8zwy8 Ready control-plane,master 4m6s v1.22.2 æ·»åŠ å·¥ä½œèŠ‚ç‚¹ï¼ˆWorker Node(s)ï¼‰æ¥ä¸‹æ¥æˆ‘ä»¬å°† Worker èŠ‚ç‚¹åŠ å…¥åˆ°é›†ç¾¤ä¸­ï¼Œç”±äºæˆ‘ä»¬åœ¨åˆå§‹åŒ–æ§åˆ¶å¹³é¢æ‰€åœ¨çš„ä¸»èŠ‚ç‚¹æ—¶å¹¶æ²¡æœ‰æŒ‡å®šå…¬ç½‘ IPï¼Œæ‰€ä»¥è¿™é‡Œå…ˆåšä¸ª IP è½¬å‘ï¼Œè®© Worker èŠ‚ç‚¹èƒ½å¤Ÿå’Œæ§åˆ¶å¹³é¢èŠ‚ç‚¹é—´è¿›è¡Œé€šä¿¡ã€‚ 1iptables -t nat -A OUTPUT -d &lt;åˆå§‹åŒ–æ§åˆ¶å¹³é¢èŠ‚ç‚¹å¾—åˆ°çš„ IP&gt; -j DNAT --to-destination &lt;é˜¿é‡Œäº‘è½»é‡çº§æœåŠ¡å™¨å…¬ç½‘ IP&gt; ç„¶åæˆ‘ä»¬å°† Worker èŠ‚ç‚¹ join è¿›é›†ç¾¤ä¸­ï¼š 1kubeadm join &lt;åˆå§‹åŒ–æ§åˆ¶å¹³é¢èŠ‚ç‚¹å¾—åˆ°çš„ IP&gt;:6443 --token 4zicbp.d1wertghxdgcgz6y --discovery-token-ca-cert-hash sha256:1912dbf415da652f97b9fa728cb85dd338e17b24ee338ec48b073c8fa8sdfgth é¡ºåˆ©çš„è¯ğŸ˜Šï¼Œé‚£ä¹ˆç»“æœå¦‚ä¸‹ï¼š worker join ç„¶ååˆ°æ§åˆ¶èŠ‚ç‚¹çœ‹ä¸‹é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€ï¼Œé¡ºåˆ©çš„è¯ç»“æœå¦‚ä¸‹ğŸ¤£ï¼š 1234root@iZwz92a65mqdpnZ:~/k8s-for-docker-desktop# kubectl get nodesNAME STATUS ROLES AGE VERSIONizwz92a65mqaa8zwy83dpnz Ready control-plane,master 48m v1.22.2vm-8-4-ubuntu Ready &lt;none&gt; 8m9s v1.22.2 å‚è€ƒ Installing kubeadm ä½¿ç”¨ Kubeadm éƒ¨ç½² è§£å†³é˜¿é‡Œäº‘ECSä¸‹kubeadméƒ¨ç½²k8sæ— æ³•æŒ‡å®šå…¬ç½‘IP","categories":[{"name":"Kubernetes","slug":"Kubernetes","permalink":"https://yeshan333.github.io/categories/Kubernetes/"}],"tags":[{"name":"Kubernetes","slug":"Kubernetes","permalink":"https://yeshan333.github.io/tags/Kubernetes/"},{"name":"Kubeadm","slug":"Kubeadm","permalink":"https://yeshan333.github.io/tags/Kubeadm/"}]},{"title":"ä»å¹³å‡è´Ÿè½½å¼€å§‹ï¼Œè¿™è¿›ç¨‹æ˜¯ CPU Bound è¿˜æ˜¯ IO Bound çš„ï¼Ÿ","slug":"io-bound-cpu-bound-with-average-load","date":"2021-10-07T16:12:38.000Z","updated":"2021-10-07T16:12:38.000Z","comments":true,"path":"2021/10/07/io-bound-cpu-bound-with-average-load/","permalink":"https://yeshan333.github.io/2021/10/07/io-bound-cpu-bound-with-average-load/","excerpt":"","text":"åœ¨æ’æŸ¥æ€§èƒ½é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨ top æˆ–è€… uptime ä¸¤ä¸ª Linux å‘½ä»¤ï¼Œtop å‘½ä»¤å’Œ uptime å‘½ä»¤éƒ½ä¼šç»™å‡ºæœ€è¿‘æœºå™¨ 1 minï¼Œ5 minï¼Œ15 min çš„å¹³å‡è´Ÿè½½æƒ…å†µï¼Œä¸€èˆ¬å¹³å‡è´Ÿè½½å€¼ï¼ˆAverage Loadï¼‰æ¥è¿‘ç”šè‡³è¶…å‡º CPU cores (ç°åœ¨ä¸€èˆ¬æŒ‡ processors çš„ä¸ªæ•°, ç°åœ¨ CPU çš„ä¸€ä¸ª core ä¸€èˆ¬æœ‰ä¸¤ä¸ª processor, å¯ä»¥å¤„ç†ä¸¤ä¸ªè¿›ç¨‹) æ—¶ï¼Œç³»ç»Ÿä¼šæœ‰æ€§èƒ½ç“¶é¢ˆ. å¹³å‡è´Ÿè½½æ˜¯æŒ‡å•ä½æ—¶é—´å†…ï¼Œç³»ç»Ÿå¤„äºå¯è¿è¡ŒçŠ¶æ€å’Œä¸å¯ä¸­æ–­çŠ¶æ€çš„å¹³å‡è¿›ç¨‹æ•°ï¼Œä¹Ÿå°±æ˜¯å¹³å‡æ´»è·ƒè¿›ç¨‹. é€ æˆå¹³å‡è´Ÿè½½å‡é«˜çš„åŸå› ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§ï¼š 1ã€æœ‰ IO Bound è¿›ç¨‹ï¼ˆå³å­˜åœ¨ IO å¯†é›†å‹ä»»åŠ¡ï¼‰ 2ã€æœ‰ CPU Bound è¿›ç¨‹ï¼ˆå³å­˜åœ¨ CPU å¯†é›†å‹ä»»åŠ¡ï¼‰ 3ã€å¤„äºå°±ç»ªçŠ¶æ€ï¼ˆReadyï¼‰çš„è¿›ç¨‹å¤š â€¦.. æœ¬ç¯‡æ–‡ç« ä¸»è¦è®°å½•ä¸‹é€ æˆå¹³å‡è´Ÿè½½å‡é«˜çš„ä¸¤ä¸ªåœºæ™¯. IO å¯†é›†å‹åœºæ™¯å’Œ CPU å¯†é›†å‹åœºæ™¯. è¿™é‡Œçš„å®éªŒç¯å¢ƒåœ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸º Ubuntu 20.04.3 LTS çš„å®¹å™¨å†…, é€šè¿‡ stress è¿›è¡Œ IO Bound ä¸ CPU Bound åœºæ™¯çš„æ¨¡æ‹Ÿ, å®¿ä¸»æœºæœ‰ 16 ä¸ª processors, 8G è¿è¡Œå†…å­˜. 123456789101112131415docker run --rm -it ubuntu:latestroot@bfdbc798879c:/# cat /etc/os-releaseNAME=&quot;Ubuntu&quot;VERSION=&quot;20.04.3 LTS (Focal Fossa)&quot;ID=ubuntuID_LIKE=debianPRETTY_NAME=&quot;Ubuntu 20.04.3 LTS&quot;VERSION_ID=&quot;20.04&quot;HOME_URL=&quot;https://www.ubuntu.com/&quot;SUPPORT_URL=&quot;https://help.ubuntu.com/&quot;BUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;PRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;VERSION_CODENAME=focalUBUNTU_CODENAME=focal 123456789101112131415161718192021222324252627282930root@bfdbc798879c:/# toptop - 11:21:53 up 3:10, 0 users, load average: 0.66, 0.79, 0.46Tasks: 2 total, 1 running, 1 sleeping, 0 stopped, 0 zombie%Cpu0 : 1.0 us, 0.6 sy, 0.0 ni, 93.3 id, 0.0 wa, 0.0 hi, 5.1 si, 0.0 st%Cpu1 : 10.2 us, 0.3 sy, 0.0 ni, 88.1 id, 0.0 wa, 0.0 hi, 1.3 si, 0.0 st%Cpu2 : 10.4 us, 2.7 sy, 0.0 ni, 87.0 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu3 : 0.0 us, 0.0 sy, 0.0 ni,100.0 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu4 : 11.1 us, 0.7 sy, 0.0 ni, 88.3 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu5 : 0.0 us, 0.3 sy, 0.0 ni, 99.7 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu6 : 0.7 us, 1.3 sy, 0.0 ni, 98.0 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu7 : 3.0 us, 0.0 sy, 0.0 ni, 97.0 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu8 : 0.3 us, 1.0 sy, 0.0 ni, 98.7 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu9 : 0.7 us, 0.0 sy, 0.0 ni, 99.3 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu10 : 0.0 us, 0.0 sy, 0.0 ni, 99.7 id, 0.3 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu11 : 0.0 us, 0.0 sy, 0.0 ni,100.0 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu12 : 0.3 us, 0.3 sy, 0.0 ni, 99.0 id, 0.3 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu13 : 0.3 us, 0.0 sy, 0.0 ni, 99.7 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu14 : 10.7 us, 0.7 sy, 0.0 ni, 88.6 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st%Cpu15 : 0.0 us, 0.0 sy, 0.0 ni,100.0 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 stMiB Mem : 7829.4 total, 1913.4 free, 1582.2 used, 4333.7 buff/cacheMiB Swap: 2048.0 total, 2047.7 free, 0.3 used. 5582.8 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 1 root 20 0 4232 3504 2952 S 0.0 0.0 0:00.02 bash 12 root 20 0 6092 3332 2828 R 0.0 0.0 0:00.08 toproot@bfdbc798879c:/# free -mh total used free shared buff/cache availableMem: 7.6Gi 1.6Gi 1.8Gi 410Mi 4.3Gi 5.4GiSwap: 2.0Gi 0.0Ki 2.0Gi è®©æˆ‘ä»¬å…ˆå®‰è£…ä¸€ä¸‹ stress å‹åŠ›æµ‹è¯•å·¥å…·å’Œç³»ç»Ÿè§‚æµ‹è¦ç”¨åˆ°çš„å·¥å…·. 12apt-get updateapt-get install -y stress sysstat CPU Bound åœºæ™¯è¿™é‡Œæˆ‘ä»¬è®©ä¸‰ä¸ªé€»è¾‘ CPU æ»¡è½½: 12# æŒç»­ 10 min, 3 CPU æ»¡è½½stress -c 3 -t 600 æˆ‘ä»¬ç”¨ watch å‘½ä»¤æŒç»­è§‚å¯Ÿå¹³å‡è´Ÿè½½æƒ…å†µ, å¹³å‡è´Ÿè½½åœ¨é€æ¸å˜é«˜ï¼Œæ­¤æ—¶æˆ‘çš„ç”µè„‘ CPU é£æ‰‡ä¹Ÿå¾ˆå“äº†ğŸ˜‚ 1watch -d uptime æˆ‘ä»¬åœ¨ä½¿ç”¨ top å‘½ä»¤å¯ä»¥çœ‹åˆ°æœ‰ä¸‰ä¸ª CPU å·²ç»æ»¡è½½äº†ï¼Œä½¿ç”¨ç‡ç™¾åˆ†ç™¾ï¼Œè¿˜å¯ä»¥çœ‹åˆ°æ˜¯å“ªä¸ª COMMMAND é€ æˆçš„ï¼Œ ä½†æ˜¯ä¸Šé¢ä¸èƒ½å¾ˆæ¸…æ¥šçš„çœ‹åˆ° IO çš„æƒ…å†µï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ mpstat æ¯éš” 5 ç§’å°†æ‰€æœ‰ CPU çš„è§‚æµ‹æƒ…å†µæ‰“å‡ºæ¥ï¼š 1mpstat -P ALL 5 å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ï¼Œçš„ç¡®æœ‰ä¸‰ä¸ª CPU çš„ç©ºé—²çŠ¶æ€ä¸º 0ï¼ˆæ»¡è½½ï¼‰ï¼Œä½¿ç”¨ç‡ç™¾åˆ†ç™¾ï¼Œä¸” IO Wait ç­‰å¾…æ—¶é—´æ˜¯å¾ˆä½çš„ï¼Œæ‰€ä»¥å•å• CPU Bound åœºæ™¯å¯é€ æˆ Average Load çš„å‡é«˜. ä¸ä½¿ç”¨ top å‘½ä»¤,ä½¿ç”¨ pidstat æ¯éš” 5 ç§’, ä¸‰æ¬¡æ‰“å°è¿›ç¨‹çš„ CPU æƒ…å†µå¯å®šä½å‡ºæ˜¯å“ªä¸ªè¿›ç¨‹é€ æˆçš„å¹³å‡è´Ÿè½½å‡é«˜. 1234567root@bfdbc798879c:/# pidstat -u 5 3Linux 5.4.72-microsoft-standard-WSL2 (bfdbc798879c) 10/07/21 _x86_64_ (16 CPU)12:01:29 UID PID %usr %system %guest %wait %CPU CPU Command12:01:34 0 571 100.00 0.00 0.00 0.00 100.00 9 stress12:01:34 0 572 100.00 0.00 0.00 0.00 100.00 15 stress12:01:34 0 573 100.00 0.00 0.00 0.00 100.00 11 stress IO Bound åœºæ™¯stress å‹åŠ›å·¥å…·ä¹Ÿå¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œ IO Bound åœºæ™¯çš„æ¨¡æ‹Ÿ, å¼€å§‹ä¹‹å‰å°†ä¸Šé¢ CPU Bound åœºæ™¯ç»™ç»ˆæ­¢, åŒæ ·åœ°, æˆ‘ä»¬å…ˆå¼€å¥½ä¸€ä¸ª Terminal è§‚å¯Ÿå¹³å‡è´Ÿè½½çš„å˜åŒ–: 1watch -d uptime ä½¿ç”¨ strees è°ƒèµ· 50 ä¸ªè¿›ç¨‹(è¿™é‡Œè¦é«˜äº CPU processors çš„æ•°é‡, è®©è¿›ç¨‹äº‰å¤º CPU), ä¸æ–­æ‰“ IO, æŒç»­ 10 min: 12root@bfdbc798879c:/# stress -i 50 -t 600stress: info: [1756] dispatching hogs: 0 cpu, 50 io, 0 vm, 0 hdd å¯ä»¥è§‚å¯Ÿåˆ°, å¹³å‡è´Ÿè½½åœ¨ä¸æ–­å‡é«˜, å†ä½¿ç”¨ mpstat å¯ä»¥è§‚æµ‹åˆ° IO Wait å¾ˆé«˜. 1mpstat -P ALL 5 å¯ä»¥ GET åˆ° IO Bound ä»»åŠ¡çš„ç¡®ä¼šé€ æˆå¹³å‡è´Ÿè½½å‡é«˜, ç»“åˆ iostat, æˆ‘ä»¬è¿˜å¯ä»¥è§‚æµ‹ç£ç›˜è®¾å¤‡çš„è¯»å†™æ€§èƒ½æƒ…å†µ: 1iostat -d -x","categories":[{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/categories/Linux/"},{"name":"æ€§èƒ½ä¼˜åŒ–","slug":"Linux/æ€§èƒ½ä¼˜åŒ–","permalink":"https://yeshan333.github.io/categories/Linux/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/tags/Linux/"},{"name":"å‹åŠ›æµ‹è¯•","slug":"å‹åŠ›æµ‹è¯•","permalink":"https://yeshan333.github.io/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/"},{"name":"CPU Bound","slug":"CPU-Bound","permalink":"https://yeshan333.github.io/tags/CPU-Bound/"},{"name":"IO Bound","slug":"IO-Bound","permalink":"https://yeshan333.github.io/tags/IO-Bound/"}]},{"title":"å¸¸ç”¨çš„ Linux ç½‘ç»œç›¸å…³çš„å‘½ä»¤","slug":"common-use-linux-network-command","date":"2021-09-25T16:34:52.000Z","updated":"2021-09-25T16:34:52.000Z","comments":true,"path":"2021/09/25/common-use-linux-network-command/","permalink":"https://yeshan333.github.io/2021/09/25/common-use-linux-network-command/","excerpt":"æ°´æ–‡è­¦å‘Šâš ğŸ˜‚ï¼Œæœ€è¿‘è¿™äº›ç©æ„ç”¨å¾—å¤šï¼Œå¾®å¾®è®°å½•ä¸€ä¸‹ï¼Œç›®å‰å†™çš„æ¯”è¾ƒæ°´ï¼Œåé¢åº”è¯¥ä¼šè¡¥ç‚¹å®è·µç»éªŒğŸš©ã€‚","text":"æ°´æ–‡è­¦å‘Šâš ğŸ˜‚ï¼Œæœ€è¿‘è¿™äº›ç©æ„ç”¨å¾—å¤šï¼Œå¾®å¾®è®°å½•ä¸€ä¸‹ï¼Œç›®å‰å†™çš„æ¯”è¾ƒæ°´ï¼Œåé¢åº”è¯¥ä¼šè¡¥ç‚¹å®è·µç»éªŒğŸš©ã€‚ netstatnetstat ä¸€èˆ¬ç”¨äºæŸ¥çœ‹ Socket çš„ä½¿ç”¨æƒ…å†µã€‚è¿™å‘½ä»¤åœ¨ Windows ä¸‹ä¹Ÿå¯ç›´æ¥ä½¿ç”¨ï¼ˆä½†å‚æ•°æœ‰ä¸€å®šçš„å·®å¼‚ï¼‰ã€‚å¦‚ä½¿ç”¨ Ubuntu éœ€è¦å®‰è£… net-tools 12# ubuntu$ apt install net-tools å¸¸ç”¨å‘½ä»¤ï¼š 123456789101112131415161718# 1ã€æŸ¥çœ‹ TCP Socket æƒ…å†µï¼ŒTCP è¿æ¥çš„çŠ¶æ€$ netstat -atActive Internet connections (servers and established)Proto Recv-Q Send-Q Local Address Foreign Address Statetcp 0 0 172.25.239.216:51430 aerodent.canonical:http TIME_WAIT# 2ã€æŸ¥çœ‹ TCP Socket ç»Ÿè®¡ä¿¡æ¯$ netstat -stTcp: 3 active connection openings 0 passive connection openings 0 failed connection attempts 0 connection resets received 0 connections established 248 segments received 195 segments sent out 5 segments retransmitted 0 bad segments received 0 resets sent å®è·µï¼šåœ¨æ€§èƒ½æµ‹è¯•åœºæ™¯ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è§‚å¯Ÿ TCP è¿æ¥çš„çŠ¶æ€ã€è¿æ¥æ•°ç­‰ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦å¦‚ä¸‹å‘½ä»¤é…åˆ grep ç­‰å‘½ä»¤å¯¹æ•°æ®åº“è¿æ¥ã€Web Service è¿æ¥çŠ¶æ€é—®é¢˜è¿›è¡Œæ’æŸ¥ï¼š 1netstat -alnp ssss çš„ä½œç”¨è·Ÿ netstat å¾ˆç›¸ä¼¼ï¼Œä½†å½“æœåŠ¡å™¨è¿æ¥æ•°éå¸¸å¤šçš„æ—¶å€™ï¼Œæ‰§è¡Œé€Ÿåº¦æ¯” netstat å¿«å¾ˆå¤šï¼Œå¦‚æœ man netstat ä¸€ä¸‹ï¼Œnetstat çš„æ‰‹å†Œä¸­ä¹Ÿæ¨èä½¿ç”¨ ssã€‚ 1234$ man netstatNOTES This program is mostly obsolete. Replacement for netstat is ss. Replacement for netstat -r is ip route. Replacement for netstat -i is ip -s link. Replacement for netstat -g is ip maddr. å¸¸ç”¨å‘½ä»¤ï¼š 12345678# 1ã€æ˜¾ç¤º TCP Socket ä½¿ç”¨çŠ¶å†µ$ ss -t -aState Recv-Q Send-Q Local Address:Port Peer Address:PortESTABLISH 0 0 172.16.0.12:46148 13.229.188.59:https...# 2ã€åˆ—å‡ºæ‰€æœ‰æ‰“å¼€çš„ç«¯å£ï¼Œé…åˆ grepï¼Œå¯æŸ¥çœ‹æŒ‡å®šç«¯å£ä½¿ç”¨æƒ…å†µ$ ss -pl | grep 8080 digåŸŸåæŸ¥è¯¢å·¥å…·ï¼Œä¸€èˆ¬ç”¨äºæŸ¥çœ‹ä¸»æœº DNS è½®è¯¢è§£æçŠ¶å†µã€‚ä¸€èˆ¬ Linux ç³»ç»Ÿéƒ½ä¼šè‡ªå¸¦è¿™ä¸ªå‘½ä»¤ã€‚ 12# å®‰è£…$ apt-get install dnsutils å¸¸ç”¨ï¼š 1234567891011121314151617181920212223242526272829303132# 1ã€æŒ‡å®š DNS Server æŸ¥çœ‹åŸŸå DNS è§£ææƒ…å†µ$ dig @8.8.8.8 shansan.top; &lt;&lt;&gt;&gt; DiG 9.16.1-Ubuntu &lt;&lt;&gt;&gt; @8.8.8.8 shansan.top; (1 server found);; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 44094;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 1;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 512;; QUESTION SECTION:;shansan.top. IN A;; ANSWER SECTION:shansan.top. 600 IN CNAME yeshan333.github.io.yeshan333.github.io. 3600 IN A 185.199.108.153yeshan333.github.io. 3600 IN A 185.199.109.153yeshan333.github.io. 3600 IN A 185.199.110.153yeshan333.github.io. 3600 IN A 185.199.111.153;; Query time: 160 msec;; SERVER: 8.8.8.8#53(8.8.8.8);; WHEN: Sat Sep 25 21:00:48 CST 2021;; MSG SIZE rcvd: 137# 2ã€æŸ¥çœ‹æŒ‡å®š DNS ç±»å‹è®°å½•ï¼Œå¦‚ CNAME$ dig shansan.top CNAME# 3ã€åå‘è§£æ IP åœ°å€å¯¹åº”åŸŸå$ dig -x 8.8.8.8 +short nslookupnslookup å‘½ä»¤çš„ä½œç”¨å’Œ dig å‘½ä»¤ç±»ä¼¼ï¼Œåœ¨ Windows ä¸‹çš„ PowerShell &amp; Linux å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ å¸¸ç”¨ï¼š 1234567# 1ã€æŒ‡å®š DNS Server æŸ¥è¯¢åŸŸåè§£æä¿¡æ¯âœ nslookup shan333.cn f1g1ns1.dnspod.netServer: f1g1ns1.dnspod.netAddress: 61.151.180.44#53Name: shan333.cnAddress: 111.230.58.139 telnettelnet å¯ç”¨äºåˆ¤æ–­ TCP ç«¯å£æ˜¯å¦å¯é€šã€‚ 12345âœ telnet github.com 22Trying 20.205.243.166...Connected to github.com.Escape character is &#x27;^]&#x27;.SSH-2.0-babeld-4f04c79d ä¸ telnet ä½œç”¨å·®ä¸å¤šçš„æœ‰ netcatã€ncã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/tags/Linux/"}]},{"title":"åŸºäº Docker æ­å»ºä¸€ä¸ªæœ€å°åŒ–çš„ Prometheus Federationã€Œè”é‚¦ã€é›†ç¾¤","slug":"prometheus-federation","date":"2021-08-28T17:25:18.000Z","updated":"2021-08-28T17:25:18.000Z","comments":true,"path":"2021/08/28/prometheus-federation/","permalink":"https://yeshan333.github.io/2021/08/28/prometheus-federation/","excerpt":"ä¸€ä¸å°å¿ƒå°±å…«æœˆæœ«äº†ï¼Œæˆ‘æ•²ï¼Œæœ€è¿‘å¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨äº†è§£ Prometheusï¼Œä¸€ç›´æƒ³â€œæ‚â€ç¯‡æ–‡ç« å‡ºæ¥ï¼Œå¥ˆä½•ä¸€ç›´åœ¨å¢¨è¿¹ï¼Œæ˜¯æ—¶å€™äº†ï¼Œä¸ç„¶å°±ä¹æœˆäº†ï¼Œå®Œä¸æˆåšå®¢çš„ Flag äº†ï¼Œ233333ã€‚ å‰è¨€æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº† Promethues Federation é›†ç¾¤åŒ–æœºåˆ¶ &amp; åŸºäº Docker æ­å»ºä¸€ä¸ªæœ€å°åŒ–çš„ Prometheus Federation é›†ç¾¤å¨±ä¹ç¯å¢ƒçš„ç›¸å…³æ“ä½œã€‚ä¸æ˜¯ Step By Step çš„ã€‚","text":"ä¸€ä¸å°å¿ƒå°±å…«æœˆæœ«äº†ï¼Œæˆ‘æ•²ï¼Œæœ€è¿‘å¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨äº†è§£ Prometheusï¼Œä¸€ç›´æƒ³â€œæ‚â€ç¯‡æ–‡ç« å‡ºæ¥ï¼Œå¥ˆä½•ä¸€ç›´åœ¨å¢¨è¿¹ï¼Œæ˜¯æ—¶å€™äº†ï¼Œä¸ç„¶å°±ä¹æœˆäº†ï¼Œå®Œä¸æˆåšå®¢çš„ Flag äº†ï¼Œ233333ã€‚ å‰è¨€æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº† Promethues Federation é›†ç¾¤åŒ–æœºåˆ¶ &amp; åŸºäº Docker æ­å»ºä¸€ä¸ªæœ€å°åŒ–çš„ Prometheus Federation é›†ç¾¤å¨±ä¹ç¯å¢ƒçš„ç›¸å…³æ“ä½œã€‚ä¸æ˜¯ Step By Step çš„ã€‚ Prometheuså…ˆå›é¡¾ä¸€ä¸‹ Prometheus çš„å„ä¸ªç”Ÿæ€ç»„ä»¶ï¼Œäº†è§£ä¸‹å®ƒä»¬å„è‡ªæ‰¿æ‹…çš„è´£ä»»æ˜¯æ˜¯ä»€ä¹ˆã€‚åŸºäºä¸‹é¢ä¸€å¼ æ¥è‡ª Prometheus å®˜æ–¹æ–‡æ¡£çš„æ¶æ„ &amp; ç”Ÿæ€ç»„ä»¶å›¾åšä¸‹ç®€ä»‹ï¼š Prometheus targetsï¼ˆJobs&#x2F;exportersï¼‰ï¼šæä¾›ç›‘æ§ Metrics çš„æ•°æ®æºï¼ŒPrometheus æ˜¯åŸºäºæ‹‰ï¼ˆPull-Basedï¼‰æ¨¡å‹çš„ç›‘æ§ç³»ç»Ÿï¼› Pushgatewayï¼šMetrics æ¨é€ç½‘å…³ï¼ŒPrometheus æ‹‰å– Metrics æ˜¯æœ‰æ—¶é—´é—´éš”çš„ï¼Œæœ‰æ—¶å€™ä¸€äº›çŸ­æ—¶ä»»åŠ¡ï¼ˆShort-lived jobsï¼‰æ²¡æœ‰ç­‰åˆ° Prometheus è¿‡æ¥æ‹‰å–å…¶ Metrics å°±æ²¡äº†ï¼Œæ‰€ä»¥æä¾›äº†ä¸€ä¸ªè¿™æ ·çš„ç»„ä»¶è®© Jobs ä¸»åŠ¨æ¨é€ Metrics åˆ°ä½œä¸ºä¸­ä»‹çš„ Pushgateway ç»„ä»¶ï¼› Prometheus Serverï¼šæ ¸å¿ƒç»„ä»¶ Retrievalï¼šPrometheus çš„é€šè¿‡ yaml é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®çš„ï¼Œå¯ä»¥é…ç½® Prometheus æ‹‰å– Metrics çš„æ—¶é—´é—´éš”ï¼Œå‘Šè­¦è§„åˆ™è®¡ç®—é…ç½®ï¼Œçˆ¬å–æ•°æ®æºé…ç½®ç­‰èƒ½åŠ›ï¼› TSDBï¼šPrometheus å†…ç½®çš„æœ¬åœ°å­˜å‚¨æ—¶é—´åºåˆ—æ•°æ®åº“ï¼Œè¯¥æ•°æ®åº“ç»å†äº†ä»åŸå‹åˆ° V1 åˆ°ç°åœ¨ V2 ç‰ˆæœ¬çš„æ¼”è¿›ï¼Œåšäº†è®¸å¤šçš„ä¼˜åŒ–ï¼Œæƒ³äº†è§£æ›´å¤šç»†èŠ‚å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç«  The Evolution of Prometheus Storage Layerï¼›Exporters æ˜¯åŸºäºæ–‡æœ¬æ ¼å¼è¿›è¡Œ Metrics çš„æš´éœ²çš„ï¼Œ V2 ç‰ˆæœ¬Prometheus æ”¾å¼ƒäº†åŸæœ‰çš„ Protocol Buffers åºåˆ—åŒ–åè®®ï¼Œå®ç°äº† Text Decoderï¼Œä¼˜åŒ–äº†æ€§èƒ½ï¼Œå®˜æ–¹å¯¹æ­¤æ›´å¤šçš„è€ƒè™‘å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡æ¡£ï¼š protobuf_vs_textï¼› HTTP Serverï¼šæä¾›äº†ä¸ TSDB å’Œ Prometheus äº¤äº’çš„ HTTP APIï¼Œæ–¹ä¾¿åœ¨æ›´å¤šçš„åœºæ™¯ä¸‹åšä¸€äº›è‡ªå®šä¹‰æ“ä½œï¼› Service discoveryï¼šæœåŠ¡å‘ç°æœºåˆ¶ï¼ŒPrometheus å†…ç½®äº†åŸºäºæ–‡æœ¬æ–‡ä»¶ã€DNS Serverå’Œ Consul çš„æœåŠ¡å‘ç°æœºåˆ¶ï¼ˆéƒ½å¯ä»¥åœ¨é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®ï¼‰ï¼Œè§„æ¨¡åŒ–ç›‘æ§åœºæ™¯ä¸‹ï¼Œæ–¹ä¾¿å‘ç° Prometheus çš„çˆ¬å–å¯¹è±¡è¿›è¡Œ Metrics æ‹‰å–ï¼› Alertmanagerï¼šå‘Šè­¦é€šçŸ¥ç»„ä»¶ï¼Œæä¾›äº†å‘Šè­¦åˆ†ç»„ï¼Œå‘Šè­¦æŠ‘åˆ¶ï¼ˆInhibitï¼‰ï¼Œå‘Šè­¦é™é»˜ï¼ˆSilenceï¼‰ï¼Œé‚®ä»¶é€šçŸ¥ï¼ŒWebHook ç­‰æœºåˆ¶ï¼›å€¼å¾—æ³¨æ„çš„æ˜¯ Prometheus Server æä¾›äº†å‘Šè­¦è§„åˆ™çš„è®¡ç®—èƒ½åŠ›ï¼Œä½†æ˜¯é€šçŸ¥å¹¶ä¸ç”±å®ƒå®Œæˆï¼Œè€Œæ˜¯ç”± Alertmanager å®Œæˆã€‚å‘Šè­¦é€šçŸ¥æ˜¯ä¸ªé‡æ´»ï¼Œå¹¶ä¸ç®€å•ã€‚æ–‡ç« ææ Prometheus: Alertmanager å¯¹ Alertmanager è¿›è¡Œäº†æ·±å±‚æ¬¡çš„åˆ†æï¼Œå¯ä»¥å¾®å¾®çœ‹ä¸‹ï¼› PromQLï¼šPrometheus æä¾›çš„ä¸€ä¸ª DSLï¼ŒåŒäºç”¨äºæ—¶åºæ•°æ®çš„æŸ¥è¯¢ä¸èšåˆè¿ç®—ç­‰æ“ä½œï¼Œå‘Šè­¦è§„åˆ™ï¼ˆAlerting Rules &amp; Recording Rulesï¼‰çš„è®¡ç®—ä¹Ÿç”¨åˆ°äº† PromQLï¼› Prometheus Web UIï¼šPrometheus è‡ªå¸¦çš„ä¸€ä¸ª Web UIï¼Œæä¾›äº†è®¸å¤šçš„æ•°æ®å¯è§†åŒ–èƒ½åŠ›ï¼Œä½†å…¶å¯¹å¯è§†åŒ–å›¾è¡¨çš„æ”¯æŒæœ‰é™ï¼Œæ‰€ä»¥ç¤¾åŒºå‡ºç°äº† Grafana å¯è§†åŒ–å·¥å…·ï¼Œå…¶æä¾›çš„ Dashboard ç®¡ç†èƒ½åŠ›æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œä½†ä»ç„¶æœ‰ç¼ºç‚¹ï¼Œæ¯”å¦‚è¿™ç¯‡æ–‡ç« å°±è¯´äº†ä¸€ç‚¹ å¦‚ä½•ä½¿ Grafana as codeã€‚ Federation æœºåˆ¶Pormetheus Federationï¼ˆè”é‚¦ï¼‰æœºåˆ¶æ˜¯ Promehteus æœ¬èº«æä¾›çš„ä¸€ç§é›†ç¾¤åŒ–çš„æ‰©å±•èƒ½åŠ›ã€‚å½“æˆ‘ä»¬è¦ç›‘æ§çš„æœåŠ¡å¾ˆå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šéƒ¨ç½²å¾ˆå¤šçš„ Prometheus èŠ‚ç‚¹åˆ†åˆ« Pull è¿™äº›æœåŠ¡æš´éœ²çš„ Metricsï¼ŒFederation æœºåˆ¶å¯ä»¥è®²è¿™äº›åˆ†åˆ«éƒ¨ç½²çš„ Prometheus èŠ‚ç‚¹æ‰€è·å¾—çš„æŒ‡æ ‡èšåˆèµ·æ¥ï¼Œå­˜æ”¾åœ¨ä¸€ä¸ªä¸­å¿ƒç‚¹çš„ Prometheusã€‚å¦‚ä¸‹å›¾ï¼š åœ¨ Prometheus çš„é…ç½®é…ç½®æ–‡ä»¶ï¼Œè°ƒæ•´å¦‚ä¸‹å­—æ®µå³å¯ä½¿ç”¨ Federation æœºåˆ¶ï¼š 123456789101112131415161718192021scrape_configs: - job_name: &#x27;federate&#x27; scrape_interval: 10s honor_labels: true metrics_path: &#x27;/federate&#x27; # é€šè¿‡ match å‚æ•°ï¼Œé…ç½®è¦æ‹‰å–çš„ Metricsï¼Œ # ä¸è¦ Pull full metrics params: &#x27;match[]&#x27;: - &#x27;&#123;job=&quot;prometheus&quot;&#125;&#x27; - &#x27;&#123;job=&quot;node&quot;&#125;&#x27; - &#x27;&#123;job=&quot;blackbox&quot;&#125;&#x27; static_configs: # å…¶ä»– Prometheus èŠ‚ç‚¹ - targets: - &#x27;prometheus-follower-1:9090&#x27; - &#x27;prometheus-follower-2:9090&#x27; å…³äº Federation è”é‚¦é›†ç¾¤æ›´å¤šçš„è®¨è®ºå¯ä»¥çœ‹çœ‹ï¼šåˆ«å†ä¹±ç”¨prometheusè”é‚¦äº†ï¼Œåˆ†äº«ä¸€ä¸ªmulti_remote_readçš„æ–¹æ¡ˆæ¥å®ç°prometheusé«˜å¯ç”¨ åŸºäºæœåŠ¡åŠŸèƒ½åˆ†åŒºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Federation é›†ç¾¤çš„ç‰¹æ€§åœ¨ä»»åŠ¡çº§åˆ«å¯¹ Prometheus é‡‡é›†ä»»åŠ¡è¿›è¡Œåˆ’åˆ†ï¼Œä»¥æ”¯æŒè§„æ¨¡çš„æ‰©å±•ã€‚ åŸºäº Docker æ­å»ºæœ€å°åŒ–çš„ Federation é›†ç¾¤ä¸Šæ–‡å¾®å¾® Recap äº†ä¸€ä¸‹ Prometheusã€Œæ™®ç½—ç±³ä¿®æ–¯ã€ç›¸å…³çŸ¥è¯†ï¼Œç°åœ¨å›åˆ°æœ€å°åŒ– Federation çš„æ­å»ºï¼Œæœ¬æ¬¡è¦æ­å»ºçš„ä¸€ä¸ªæœ€å°åŒ– Federation é›†ç¾¤ï¼ˆArchitectureï¼‰å¦‚ä¸‹å›¾ï¼š å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸¤ä¸ª Prometheus Follower Container åˆ†åˆ«å¯¹ Node Exporter å’Œ Black Exporter æš´éœ²çš„ä¸»æœºçŠ¶æ€ç›¸å…³çš„ Metrics å’Œ ç½‘ç»œçŠ¶å†µç›¸å…³çš„ Metrics è¿›è¡Œæ‹‰ï¼ˆPullï¼‰å–ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªä¸­å¿ƒçš„ Prometheus Leader å¯¹ä¸Šè¿°æŒ‡æ ‡è¿›è¡Œèšåˆã€‚æˆ‘ä»¬è¿˜åˆ†åˆ«ç»™ Leader å’Œ ä¸€ä¸ª Follower éƒ¨ç½²äº†å¯è§†åŒ–é¢æ¿ Grafana ç”¨äºæŸ¥çœ‹ Metricsã€‚Alertmanager ä¹Ÿé€šè¿‡å®¹å™¨åŒ–çš„æ–¹å¼å¯åŠ¨ã€‚ å‘Šè­¦çš„é€šçŸ¥åŸºäº WebHookï¼Œè¿™é‡Œä½¿ç”¨åˆ°äº†é’‰é’‰ç¾¤æœºå™¨äººï¼Œé…ç½®äº†ä¸»æœºå†…å­˜ &amp; CPU ä½¿ç”¨æƒ…å†µçš„å‘Šè­¦ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031groups:- name: targets rules: - alert: monitor_service_down expr: up == 0 for: 30s labels: severity: critical annotations: summary: &quot;Monitor service non-operational&quot; description: &quot;Service &#123;&#123; $labels.instance &#125;&#125; is down.&quot;- name: host rules: - alert: high_cpu_load expr: node_load1 &gt; 1.5 for: 30s labels: severity: warning annotations: summary: &quot;Server under high load&quot; description: &quot;Docker host is under high load, the avg load 1m is at &#123;&#123; $value&#125;&#125;. Reported by instance &#123;&#123; $labels.instance &#125;&#125; of job &#123;&#123; $labels.job &#125;&#125;.&quot; - alert: high_memory_load expr: (sum(node_memory_MemTotal_bytes) - sum(node_memory_MemFree_bytes + node_memory_Buffers_bytes + node_memory_Cached_bytes) ) / sum(node_memory_MemTotal_bytes) * 100 &gt; 45 for: 30s labels: severity: warning annotations: summary: &quot;Server memory is almost full&quot; description: &quot;Docker host memory usage is &#123;&#123; humanize $value&#125;&#125;%. Reported by instance &#123;&#123; $labels.instance &#125;&#125; of job &#123;&#123; $labels.job &#125;&#125;.&quot; æˆ‘ä»¬é€šè¿‡ Docker Volume æŒ‚è½½çš„æ–¹å¼è®² Prometheus çš„é…ç½®æ–‡ä»¶å’Œå‘Šè­¦è§„åˆ™æ–‡ä»¶æŒ‚è½½åˆ°å¯¹åº”çš„è¯†åˆ«è·¯å¾„ï¼›Grafana çš„ Dashboard ä¸ç™»é™†ç›¸å…³çš„é…ç½®æˆ‘ä»¬ä¹ŸåŸºäºæ­¤æ–¹å¼ã€‚Prometheus çš„æ›´å¤šé…ç½®å¯å‚è€ƒ prometheus configurationï¼šï¼›Grafana æ›´å¤šçš„é…ç½®å‚æ•°å¯ä»¥å‚è€ƒï¼šGrafana Provisioningã€‚ Federation é›†ç¾¤çš„é€šä¿¡æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª Docker Networkã€Œmonitoring_networkã€ã€‚æˆ‘ä»¬ä½¿ç”¨ Dockerâ€”Compose è¿›è¡Œå®¹å™¨çš„ç¼–æ’ï¼Œç¼–æ’æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š docker-compose.yml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146version: &#x27;3.5&#x27;networks: monitoring_network:volumes: prometheus_leader_data: &#123;&#125; prometheus_follower_1_data: &#123;&#125; prometheus_follower_2_data: &#123;&#125; grafana_leader_data: &#123;&#125; grafana_follower_data: &#123;&#125;services: prometheus-leader: container_name: prometheus-leader image: prom/prometheus networks: - monitoring_network volumes: - ./configs/prometheus-leader/prometheus.yml:/etc/prometheus/prometheus.yml - ./configs/prometheus-leader/alerts/alert.rules:/etc/prometheus/alert.rules - prometheus_leader_data:/prometheus ports: - &quot;9090:9090&quot; command: - &#x27;--config.file=/etc/prometheus/prometheus.yml&#x27; - &#x27;--storage.tsdb.path=/prometheus&#x27; - &#x27;--web.console.libraries=/etc/prometheus/console_libraries&#x27; - &#x27;--web.console.templates=/etc/prometheus/consoles&#x27; restart: unless-stopped prometheus-follower-1: container_name: prometheus-follower-1 image: prom/prometheus networks: - monitoring_network volumes: - ./configs/prometheus-follower-1/prometheus.yml:/etc/prometheus/prometheus.yml - ./configs/prometheus-follower-1/records/node_exporter_recording.rules:/etc/prometheus/node_exporter_recording.rules - ./configs/prometheus-follower-1/alerts/node_exporter_alert.rules:/etc/prometheus/node_exporter_alert.rules - prometheus_follower_1_data:/prometheus ports: - &quot;9099:9090&quot; command: - &#x27;--config.file=/etc/prometheus/prometheus.yml&#x27; - &#x27;--storage.tsdb.path=/prometheus&#x27; - &#x27;--web.console.libraries=/etc/prometheus/console_libraries&#x27; - &#x27;--web.console.templates=/etc/prometheus/consoles&#x27; restart: unless-stopped prometheus-follower-2: container_name: prometheus-follower-2 image: prom/prometheus networks: - monitoring_network volumes: - ./configs/prometheus-follower-2/prometheus.yml:/etc/prometheus/prometheus.yml # - ./configs/prometheus-follower-2/records/node_exporter_recording.rules:/etc/prometheus/node_exporter_recording.rules # - ./configs/prometheus-follower-2/alerts/node_exporter_alert.rules:/etc/prometheus/node_exporter_alert.rules - prometheus_follower_2_data:/prometheus ports: - &quot;9098:9090&quot; command: - &#x27;--config.file=/etc/prometheus/prometheus.yml&#x27; - &#x27;--storage.tsdb.path=/prometheus&#x27; - &#x27;--web.console.libraries=/etc/prometheus/console_libraries&#x27; - &#x27;--web.console.templates=/etc/prometheus/consoles&#x27; restart: unless-stopped grafana_leader: container_name: grafana_leader image: grafana/grafana networks: - monitoring_network volumes: - ./configs/grafana-leader/provisioning/dashboards:/etc/grafana/provisioning/dashboards - ./configs/grafana-leader/provisioning/datasources/config.yml:/etc/grafana/provisioning/datasources/config.yml - grafana_leader_data:/etc/grafana environment: - TERM=linux - GF_INSTALL_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource - GF_SECURITY_ADMIN_USER=admin - GF_SECURITY_ADMIN_PASSWORD=admin123456 ports: - &quot;3000:3000&quot; restart: unless-stopped grafana_follower: container_name: grafana_follower image: grafana/grafana networks: - monitoring_network volumes: - ./configs/grafana-follower/provisioning/dashboards:/etc/grafana/provisioning/dashboards - ./configs/grafana-follower/provisioning/datasources/config.yml:/etc/grafana/provisioning/datasources/config.yml - grafana_follower_data:/etc/grafana environment: - TERM=linux - GF_INSTALL_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource - GF_SECURITY_ADMIN_USER=admin - GF_SECURITY_ADMIN_PASSWORD=admin123456 ports: - &quot;3001:3000&quot; restart: unless-stopped node_exporter: image: quay.io/prometheus/node-exporter:latest container_name: node_exporter_stats networks: - monitoring_network ports: - &quot;9100:9100&quot; expose: - &quot;9100&quot; restart: unless-stopped blackbox_exporter: image: prom/blackbox-exporter container_name: blackbox_exporter networks: - monitoring_network ports: - &quot;9115:9115&quot; restart: unless-stopped alertmanager: image: prom/alertmanager container_name: alertmanager networks: - monitoring_network volumes: - ./configs/alertmanager/alertmanager.yml:/etc/alertmanager/alertmanager.yml ports: - &quot;9093:9093&quot; restart: unless-stopped dingtalk-robot: image: timonwong/prometheus-webhook-dingtalk container_name: dingtalk-robot networks: - monitoring_network ports: - &quot;8060:8060&quot; volumes: - ./configs/dingtalk/config.yml:/etc/prometheus-webhook-dingtalk/config.yml restart: unless-stopped dingtalk é€šçŸ¥çš„é…ç½®å‚è€ƒäº†è¿™ç¯‡æ–‡ç« ï¼šå°†é’‰é’‰æ¥å…¥ Prometheus AlertManager WebHookã€‚ å·²ç»ç›¸å…³çš„é…ç½®æ–‡ä»¶å’Œå®¹å™¨ç¼–æ’æ–‡ä»¶ä¸Šä¼ åˆ°äº† GitHubï¼Œæ›´å¤šçš„é…ç½®ç»†èŠ‚å¯ä»¥åˆ° GitHub çš„é¡¹ç›®ä»“åº“ yeshan333&#x2F;prometheus-federation-minimal-demo æŸ¥çœ‹ï¼Œä¹Ÿå¯å°†è¯¥é¡¹ç›® clone åˆ°æœ¬åœ°ï¼Œè·‘ä¸€ä¸‹çœ‹çœ‹ï¼š 1ã€git cloneï¼› 12git clone https://github.com/yeshan333/prometheus-federation-minimal-democd prometheus-federation-minimal-demo 2ã€æ›´æ¢é’‰é’‰æœºå™¨äººçš„ WebHook åœ°å€ï¼Œæœºå™¨äººé…ç½®çš„ Webhook åœ°å€åœ¨ configs/dingtalk/config.yml æ–‡ä»¶ï¼› 1vim configs/dingtalk/config.yml 123targets: webhook1: url: https://oapi.dingtalk.com/robot/send?access_token=&lt;dingtalk-robaot-access-token&gt; 3ã€é€šè¿‡ docker-compose å¯åŠ¨è”é‚¦é›†ç¾¤ï¼Œä½ å¯èƒ½éœ€è¦å®‰è£… Docker &amp; docker-composeï¼Œå¯å‚è€ƒï¼šGet Dockerï¼› 1docker-compose up -d 4ã€æœŸå¾…çš„å®¹å™¨è¿è¡ŒçŠ¶å†µå¦‚ä¸‹ï¼š 1234567891011$ docker-compose psNAME COMMAND SERVICE STATUS PORTSalertmanager &quot;/bin/alertmanager -â€¦&quot; alertmanager running 0.0.0.0:9093-&gt;9093/tcp, :::9093-&gt;9093/tcpblackbox_exporter &quot;/bin/blackbox_exporâ€¦&quot; blackbox_exporter running 0.0.0.0:9115-&gt;9115/tcp, :::9115-&gt;9115/tcpdingtalk-robot &quot;/bin/prometheus-webâ€¦&quot; dingtalk-robot running 0.0.0.0:8060-&gt;8060/tcp, :::8060-&gt;8060/tcpgrafana_follower &quot;/run.sh&quot; grafana_follower running 0.0.0.0:3001-&gt;3000/tcp, :::3001-&gt;3000/tcpgrafana_leader &quot;/run.sh&quot; grafana_leader running 0.0.0.0:3000-&gt;3000/tcp, :::3000-&gt;3000/tcpnode_exporter_stats &quot;/bin/node_exporter&quot; node_exporter running 0.0.0.0:9100-&gt;9100/tcp, :::9100-&gt;9100/tcpprometheus-follower-1 &quot;/bin/prometheus --câ€¦&quot; prometheus-follower-1 running 0.0.0.0:9099-&gt;9090/tcp, :::9099-&gt;9090/tcpprometheus-follower-2 &quot;/bin/prometheus --câ€¦&quot; prometheus-follower-2 running 0.0.0.0:9098-&gt;9090/tcp, :::9098-&gt;9090/tcpprometheus-leader &quot;/bin/prometheus --câ€¦&quot; prometheus-leader running 0.0.0.0:9090-&gt;9090/tcp, :::9090-&gt;9090/tcp 5ã€æŸ¥çœ‹ Grafana Leaderï¼šhttp://localhost:3000ï¼ŒAlertmanager UIï¼šhttp://localhost:9093 End.","categories":[{"name":"Monitoring","slug":"Monitoring","permalink":"https://yeshan333.github.io/categories/Monitoring/"}],"tags":[{"name":"Prometheus","slug":"Prometheus","permalink":"https://yeshan333.github.io/tags/Prometheus/"},{"name":"Grafana","slug":"Grafana","permalink":"https://yeshan333.github.io/tags/Grafana/"},{"name":"Federation","slug":"Federation","permalink":"https://yeshan333.github.io/tags/Federation/"},{"name":"Docker","slug":"Docker","permalink":"https://yeshan333.github.io/tags/Docker/"},{"name":"Monitoring","slug":"Monitoring","permalink":"https://yeshan333.github.io/tags/Monitoring/"}]},{"title":"å¯¹ä¸‹è½½è½¯ä»¶/æ–‡ä»¶è¿›è¡Œæ ¡éªŒçš„å·¥å…·ï¼ˆChecksum and GPGï¼‰","slug":"checksum-gpg-tools","date":"2021-07-10T18:23:57.000Z","updated":"2021-07-10T18:23:57.000Z","comments":true,"path":"2021/07/10/checksum-gpg-tools/","permalink":"https://yeshan333.github.io/2021/07/10/checksum-gpg-tools/","excerpt":"å‰è¨€ä¹‹å‰è£…è½¯ä»¶ä¸€ç›´éƒ½æ²¡æœ‰éªŒè¯å®‰è£…æ–‡ä»¶çš„ä¹ æƒ¯ï¼Œä¿¡æ¯å®‰å…¨æ„è¯†ä¸é«˜ï¼Œç¢°å·§æœ€è¿‘æ²¡å•¥äº‹ï¼Œå¾®å¾®å†™ç¯‡æ–‡ç« è®°å½•ä¸‹æ ¡éªŒå·¥å…·ï¼ˆäº’è”ç½‘httpã€httpsã€ftp æœåŠ¡å¹¶æ²¡æœ‰é‚£ä¹ˆå®‰å…¨ï¼Œæ˜¯å¯ä»¥è¢«åŠ«æŒç¯¡æ”¹ã€‚è€è£…è½¯ä»¶é€‰æ‰‹äº†ï¼Œæ˜¯è¯¥å…»æˆä¸ªæ ¡éªŒæ–‡ä»¶çš„ä¹ æƒ¯äº†ï¼‰ã€‚ åœ¨äº’è”ç½‘ä¸‹è½½è½¯ä»¶&#x2F;æ–‡ä»¶çš„æ—¶å€™ç»å¸¸ä¼šçœ‹åˆ°å®˜æ–¹æä¾›äº†ä¸€æ®µâŒˆæ ¡éªŒå’Œï¼ˆchecksumï¼‰âŒ‹æˆ–åŒ…å«æ ¡éªŒå’Œçš„æ–‡ä»¶ä¾›æ ¡éªŒã€‚å¸¸è§çš„æ ¡éªŒå’Œæœ‰ md5ã€SHA å®¶æ—ç­‰ã€‚è¿˜æœ‰éƒ¨åˆ†è½¯ä»¶&#x2F;æ–‡ä»¶ä¼šæä¾› GPG æ ¡éªŒæ–‡ä»¶ï¼ˆsignature file, SIGï¼‰ç»™ä¸‹è½½è€…è¿›è¡Œæ ¡éªŒã€‚ æ¥çœ‹çœ‹è¿™ä¸¤ç§æ ¡éªŒæ–¹å¼ç›¸å…³çš„å·¥å…·ã€‚","text":"å‰è¨€ä¹‹å‰è£…è½¯ä»¶ä¸€ç›´éƒ½æ²¡æœ‰éªŒè¯å®‰è£…æ–‡ä»¶çš„ä¹ æƒ¯ï¼Œä¿¡æ¯å®‰å…¨æ„è¯†ä¸é«˜ï¼Œç¢°å·§æœ€è¿‘æ²¡å•¥äº‹ï¼Œå¾®å¾®å†™ç¯‡æ–‡ç« è®°å½•ä¸‹æ ¡éªŒå·¥å…·ï¼ˆäº’è”ç½‘httpã€httpsã€ftp æœåŠ¡å¹¶æ²¡æœ‰é‚£ä¹ˆå®‰å…¨ï¼Œæ˜¯å¯ä»¥è¢«åŠ«æŒç¯¡æ”¹ã€‚è€è£…è½¯ä»¶é€‰æ‰‹äº†ï¼Œæ˜¯è¯¥å…»æˆä¸ªæ ¡éªŒæ–‡ä»¶çš„ä¹ æƒ¯äº†ï¼‰ã€‚ åœ¨äº’è”ç½‘ä¸‹è½½è½¯ä»¶&#x2F;æ–‡ä»¶çš„æ—¶å€™ç»å¸¸ä¼šçœ‹åˆ°å®˜æ–¹æä¾›äº†ä¸€æ®µâŒˆæ ¡éªŒå’Œï¼ˆchecksumï¼‰âŒ‹æˆ–åŒ…å«æ ¡éªŒå’Œçš„æ–‡ä»¶ä¾›æ ¡éªŒã€‚å¸¸è§çš„æ ¡éªŒå’Œæœ‰ md5ã€SHA å®¶æ—ç­‰ã€‚è¿˜æœ‰éƒ¨åˆ†è½¯ä»¶&#x2F;æ–‡ä»¶ä¼šæä¾› GPG æ ¡éªŒæ–‡ä»¶ï¼ˆsignature file, SIGï¼‰ç»™ä¸‹è½½è€…è¿›è¡Œæ ¡éªŒã€‚ æ¥çœ‹çœ‹è¿™ä¸¤ç§æ ¡éªŒæ–¹å¼ç›¸å…³çš„å·¥å…·ã€‚ æ ¡éªŒå’Œæ ¡éªŒå·¥å…· æ ¡éªŒå’Œï¼ˆè‹±è¯­ï¼šChecksumï¼‰æ˜¯å†—ä½™æ ¡éªŒçš„ä¸€ç§å½¢å¼ã€‚ å®ƒæ˜¯é€šè¿‡é”™è¯¯æ£€æµ‹æ–¹æ³•ï¼Œå¯¹ç»è¿‡ç©ºé—´ï¼ˆå¦‚é€šä¿¡ï¼‰æˆ–æ—¶é—´ï¼ˆå¦‚è®¡ç®—æœºå­˜å‚¨ï¼‰æ‰€ä¼ é€æ•°æ®çš„å®Œæ•´æ€§è¿›è¡Œæ£€æŸ¥çš„ä¸€ç§ç®€å•æ–¹æ³•ã€‚ -æ¥è‡ªç»´åŸºç™¾ç§‘ Windows CertUtilCertUtil æ˜¯ Windows è‡ªå¸¦çš„æ–‡ä»¶æ ¡éªŒå’Œè®¡ç®—ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒè®¡ç®—ä¸‹è½½çš„è½¯ä»¶&#x2F;æ–‡ä»¶çš„ checksum ä¸å®˜æ–¹æä¾›çš„ checksum ä½œå¯¹æ¯”ã€‚ åœ¨ PowerShell æˆ– CMD ä¸­å¯ä»¥æ‰§è¡Œ CertUtil -? å‘½ä»¤æŸ¥çœ‹ CertUtil æ”¯æŒçš„å‚æ•°ã€‚CertUtil çš„è®¡ç®—æ–‡ä»¶æ ¡éªŒå’Œå‘½ä»¤çš„ä¸€èˆ¬å½¢å¼ä¸º 1CertUtil -hashfile &lt;path to file&gt; &lt;hash algorithm&gt; CertUtil æ”¯æŒçš„æ ¡éªŒå’Œè®¡ç®—çš„å“ˆå¸Œç®—æ³•æœ‰ MD2 MD4 MD5 SHA1 SHA256 SHA384 SHA512 ç­‰ã€‚ 1234567891011121314151617Usage: CertUtil [Options] -hashfile InFile [HashAlgorithm] Generate and display cryptographic hash over a fileOptions: -Unicode -- Write redirected output in Unicode -gmt -- Display times as GMT -seconds -- Display times with seconds and milliseconds -v -- Verbose operation -privatekey -- Display password and private key data -pin PIN -- Smart Card PIN -sid WELL_KNOWN_SID_TYPE -- Numeric SID 22 -- Local System 23 -- Local Service 24 -- Network ServiceHash algorithms: MD2 MD4 MD5 SHA1 SHA256 SHA384 SHA512 è®©æˆ‘ä»¬çœ‹ä¸ªä¾‹å­ï¼Œå°±è£…ä¸ª Go å§ï¼ˆå˜¿å˜¿ï¼Œæœ€è¿‘åœ¨è£…ç³»ç»Ÿï¼Œä»€ä¹ˆè½¯ä»¶éƒ½æ²¡äº†ï¼‰ï¼Œç›´æ¥å®˜æ–¹ï¼ˆhttps://golang.org/dl/ï¼‰ä¸‹è½½ Go çš„å®‰è£…ç¨‹åºï¼Œä¸‹è½½é¡µé¢ç»™å‡ºäº† SHA256 Checksumã€‚ Go ä¸‹è½½é¡µ ä½¿ç”¨ Certutil è®¡ç®— go1.16.5.windows-amd64.msi å®‰è£…ç¨‹åºçš„æ ¡éªŒå’Œã€‚ 1CertUtil -hashfile go1.16.5.windows-amd64.msi SHA256 CertUtil è®¡ç®—ç»“æœ CertUtil è®¡ç®—ç»“æœï¼ˆ322dd8c585f37b62c9e603c84747b97a7a65b56fcef56b64e3021ccad90785b2ï¼‰å’Œä¸‹è½½é¡µæä¾›çš„æ ¡éªŒå’Œï¼ˆ322dd8c585f37b62c9e603c84747b97a7a65b56fcef56b64e3021ccad90785b2ï¼‰æ¯”å¯¹ï¼Œemmmï¼Œæ²¡æ¯›ç—…ï¼Œå¾®å¾®æ”¾å¿ƒå®‰è£…äº†ã€‚ æ–‡æ¡£ï¼šmicrosoft windows-commands certutil Linux md5summd5sum æ˜¯å¤§å¤šæ•° Linux ç³»ç»Ÿéƒ½é¢„è£…çš„æ ¡éªŒ 128 ä½ MD5 å“ˆå¸Œå€¼ï¼Œç”¨äºæ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§çš„æ ¡éªŒå’Œå·¥å…·ã€‚ å‘½ä»¤çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼Œä½¿ç”¨ md5sum --help æŸ¥çœ‹æ›´å¤šæ“ä½œï¼š 1md5sum &lt;file-path or files-path&gt; è¾“å‡ºæ ¼å¼ä¸€èˆ¬ç¤ºä¾‹å¦‚ä¸‹ï¼ˆæ ¡éªŒå’Œ + æ–‡ä»¶åï¼‰ md5sum è®¡ç®—æ ¡éªŒå’Œ éƒ¨åˆ†è½¯ä»¶ä¸‹è½½æ—¶ä¼šæ‹¿åˆ°ä¸€ä¸ªç±»ä¼¼å¦‚ä¸‹å†…å®¹æ ¼å¼çš„ checksum æ–‡ä»¶ï¼Œå§‘ä¸”å‘½åä¸º demo_hash.md5 12f4e81ade7d6f9fb342541152d08e7a97 .profile0f077c02d1303b89b9c5cb92e5d7d112 .bashrc é‚£ä¹ˆä½¿ç”¨ md5sum è¿›è¡Œæ ¡éªŒæ—¶å¯ä»¥è¿™ä¹ˆæ“ä½œï¼Œmd5sum ä¼šè‡ªåŠ¨æ ¹æ® demo_hash.md5 é‡Œé¢çš„æ–‡ä»¶é€ä¸ªæ£€æŸ¥ md5ï¼š 123$ md5sum -c demo_hash.md5 # åŠ ä¸ª `-c` å‚æ•°.profile: OK.bashrc: OK æ–‡æ¡£ï¼šmd5sum-invocation GPG key æ ¡éªŒå·¥å…· GPGï¼ˆGnuPGï¼‰æ˜¯ä¸€ä¸ªå®ç°äº† OpenPGP æ ‡å‡†çš„ç”¨äºæ•°æ®åŠ å¯†å’Œæ•°å­—ç­¾åçš„å·¥å…·ã€‚ äº’è”ç½‘ä¸Šå­˜åœ¨ç€éƒ¨åˆ†è½¯ä»¶&#x2F;æ–‡ä»¶é€šè¿‡ GPG å¯†é’¥è¿›è¡Œç­¾åæ¥è¯æ˜å…¶æ¥æºã€‚GitHub ä¹Ÿæœ‰ç€ä¸€ç§ä½¿ç”¨ GPG å¯†é’¥æ¥æ£€éªŒ Git Commit æ¥æºå¯é æ€§çš„æ‰‹æ®µï¼Œå¦‚æœå¯é ï¼Œä¼šåœ¨å‰ç«¯é¡µé¢ commit log å†å²é‚£é‡Œæ˜¾ç¤ºä¸€ä¸ªå¦‚ä¸‹çš„å°ç»¿æ ‡ï¼š GitHub commit signature btwï¼Œä¹‹å‰å¾®å¾®å†™è¿‡ä¸€ç¯‡æ–‡ç«  -&gt; ç»™ GitHub commit åŠ ä¸ªå°ç»¿æ ‡ã€‚ ä½¿ç”¨ GPG key è¿›è¡Œè½¯ä»¶&#x2F;æ–‡ä»¶æ ¡éªŒçš„ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š step 1ï¼šè·å–è½¯ä»¶&#x2F;æ–‡ä»¶ä½œè€…çš„å…¬é’¥ï¼ˆpublic keyï¼‰ï¼Œå¯¼å…¥åˆ° GPG key ç®¡ç†å™¨ï¼› step 2ï¼šæ ¹æ®ä½œè€…çš„ gpg key æŒ‡çº¹ï¼ˆfingerprintï¼‰éªŒè¯å…¬é’¥ï¼ˆpublic keyï¼‰çš„å¯é æ€§ï¼› step 3ï¼šæ ¹æ®è½¯ä»¶&#x2F;æ–‡ä»¶çš„ç­¾åæ–‡ä»¶ï¼ˆsignature fileï¼ŒSIGï¼‰æ ¡éªŒæ¥æºæ˜¯å¦å¯é ã€‚ Gpg4winGpg4win æ˜¯å®˜æ–¹çš„ Windows GnuPG å‘è¡Œç‰ˆï¼Œå…¨å®¶æ¡¶è½¯ä»¶ï¼Œå®˜ç½‘ä¸º gpg4win.orgã€‚é€šè¿‡è‡ªå¸¦çš„ GUI å®¢æˆ·ç«¯ Kleopatraï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®Œæˆæ–‡ä»¶çš„æ ¡éªŒã€‚ç›´æ¥å®˜ç½‘ä¸‹è½½å®‰è£…å³å¯ -&gt; Download Pageã€‚ Kleopatra è¿™é‡Œæˆ‘ä»¬ä»¥ Windows ä¸‹ Python 3.9.6 çš„å®‰è£…ä¸ºä¾‹ï¼Œçœ‹ä¸‹ä½¿ç”¨ Kleopatra è¿›è¡Œæ ¡éªŒçš„è¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„ âŒˆä»¥ä¸‹æ“ä½œä¸‹è½½çš„æ–‡ä»¶å‡åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹âŒ‹ã€‚ å…ˆåˆ°å®˜æ–¹ä¸‹è½½é¡µrelease&#x2F;python-396ä¸‹è½½ Windows Python 3.9.6 çš„å®‰è£…æ–‡ä»¶å’Œå¯¹åº”çš„ GPG å¯†é’¥ç­¾åæ–‡ä»¶ï¼ˆsigï¼‰ï¼š å®‰è£…æ–‡ä»¶å’Œç­¾åæ–‡ä»¶ä¸‹è½½ 12curl -sSlO https://www.python.org/ftp/python/3.9.6/python-3.9.6-amd64.execurl -O https://www.python.org/ftp/python/3.9.6/python-3.9.6-amd64.exe.asc ç°åœ¨å¼€å§‹å¯¹ç€ä¹‹å‰æ‰€çš„æ ¡éªŒæ­¥éª¤æ“ä½œä¸€ä¸‹ã€‚ Step 1ï¼šè·å–è½¯ä»¶&#x2F;æ–‡ä»¶ä½œè€…çš„å…¬é’¥ï¼ˆpublic keyï¼‰ï¼Œå¯¼å…¥åˆ° GPG key ç®¡ç†å™¨ï¼› ä» https://www.python.org/downloads/ é¡µé¢å¤§æ¦‚å››åˆ†ä¹‹ä¸‰çš„åœ°æ–¹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¹‹å‰ä¸‹è½½çš„ Windows Banaries çš„ release manager æ˜¯ Steve Dowerï¼Œæˆ‘ä»¬æ ¹æ®å®˜ç½‘æä¾›çš„é“¾æ¥è·å–å…¬é’¥ã€‚ è·å– Steve Dower å…¬é’¥keybase ä¸Šçš„å…¬é’¥ ä¸‹è½½å…¬é’¥ã€‚ 1curl -O https://keybase.io/stevedower/pgp_keys.asc ä½¿ç”¨ Kleopatra å¯¼å…¥ä¸‹è½½å¥½çš„å…¬é’¥ pgp_keys.ascã€‚ å¯¼å…¥å…¬é’¥ Step 2ï¼šæ ¹æ®ä½œè€…çš„ gpg key æŒ‡çº¹ï¼ˆfingerprintï¼‰éªŒè¯å…¬é’¥ï¼ˆpublic keyï¼‰çš„å¯é æ€§ï¼› éªŒè¯æŒ‡çº¹ å¯¼å…¥çš„å…¬é’¥æŒ‡çº¹ä¸æä¾›çš„æŒ‡çº¹ä¸€è‡´ï¼Œä¸€èˆ¬å°±æ— é—®é¢˜äº†ã€‚ Step 3ï¼šæ ¹æ®è½¯ä»¶&#x2F;æ–‡ä»¶çš„ç­¾åæ–‡ä»¶ï¼ˆsignature fileï¼ŒSIGï¼‰æ ¡éªŒæ¥æºæ˜¯å¦å¯é ã€‚ ä½¿ç”¨ä¹‹å‰ä¸‹è½½å¥½çš„ signature fileï¼ˆpython-3.9.6-amd64.exe.ascï¼‰è¿›è¡Œæ ¡éªŒï¼Œå¦‚ä¸‹ï¼š SIG æ ¡éªŒ emmmï¼Œæ²¡é—®é¢˜ã€‚Good jobï¼ GnuPG(GPG)GnuPG æ˜¯ä¹‹å‰æåˆ°çš„ Gpg4win çš„åç«¯ï¼Œé€‚åˆå‘½ä»¤è¡Œé€‰æ‰‹ã€‚å¤§éƒ¨åˆ† Linux ç³»ç»Ÿè‡ªå¸¦ã€‚ä¸‹é¢æˆ‘ä»¬åœ¨ WSLï¼ˆUbuntu-20.04ï¼‰æ„Ÿå—ä¸‹ã€‚ è¿™é‡Œæˆ‘ä»¬ä»¥å¯¹ GnuPGï¼ˆLTSï¼‰ Tarball çš„ä¸‹è½½æ ¡éªŒä¸ºä¾‹å­ã€‚ 123456mkdir gnupg_tarballcd gnupg_tarball# ä¸‹è½½ GnuPGï¼ˆLTSï¼‰ tarballcurl -O https://www.gnupg.org/ftp/gcrypt/gnupg/gnupg-2.2.29.tar.bz2# ä¸‹è½½æ ¡éªŒæ–‡ä»¶curl -O https://www.gnupg.org/ftp/gcrypt/gnupg/gnupg-2.2.29.tar.bz2.sig Step 1ï¼šä¿å­˜å…¬é’¥ï¼Œå¯¼å…¥å…¬é’¥ã€‚åœ¨ https://www.gnupg.org/signature_key.html æ‹¿åˆ°ä½œè€…çš„ signature keyï¼Œä¿å­˜åˆ° gnupg-2.2.29.ascã€‚ ä¿å­˜å…¬é’¥ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667âœ cat&gt;gnupg-2.2.29.asc&lt;&lt;EOF&gt; -----BEGIN PGP PUBLIC KEY BLOCK-----&gt;&gt; mQENBE0ti4EBCACqGtKlX9jI/enhlBdy2cyQP6Q7JoyxtaG6/ckAKWHYrqFTQk3I&gt; Ue8TuDrGT742XFncG9PoMBfJDUNltIPgKFn8E9tYQqAOlpSA25bOb30cA2ADkrjg&gt; jvDAH8cZ+fkIayWtObTxwqLfPivjFxEM//IdShFFVQj+QHmXYBJggWyEIil8Bje7&gt; KRw6B5ucs4qSzp5VH4CqDr9PDnLD8lBGHk0x8jpwh4V/yEODJKATY0Vj00793L8u&gt; qA35ZiyczUvvJSLYvf7STO943GswkxdAfqxXbYifiK2gjE/7SAmB+2jFxsonUDOB&gt; 1BAY5s3FKqrkaxZr3BBjeuGGoCuiSX/cXRIhABEBAAG0Fldlcm5lciBLb2NoIChk&gt; aXN0IHNpZymJAVUEEwEIAD8CGwMGCwkIBwMCBhUIAgkKCwQWAgMBAh4BAheAFiEE&gt; 2GkhI8QGXepeDzq1JJs50k8l47YFAl4MxBkFCRShVzYACgkQJJs50k8l47YImQf9&gt; HaqHWor+aSmaEwQnaAN0zRa4kPbAWya182aJtsFzLZJf6BbS0aoiMhwtREN/DMvB&gt; jzxARKep/cELaM+mc7oDK4mEwqSX/u6BE8D7FaNA9sut8P+4xjpoLPU+UzILMg29&gt; t1remjyT9rs6sbu8BqufIxueArkjoi4WCOSRiVTdw+YDd88volPkXlPfS8hg9Rct&gt; wZ8kEEDywa+NrxiLx+kDgDNTNdk3PJdfcnesf8S1a+KLUTNRds5+xGTYz0JSQ9BZ&gt; 7Q9r4VQ/NL55muQZi5W7lVxdp3HxQFUNjHzzBfGtkpS4xqZpJvNjW50Wh5Vi5RYZ&gt; LZ3M1EuIHXHmRiY4dmqqcpkBDQRUUDsjAQgA5hBwN9F3OqKf+9mXCXUDK4lb5wMj&gt; dti96xG04gAn7wWo7On6c5ntriZQuRdR5GHcdw73XC6CFehHeo/eSVYiWqBNBAfE&gt; 9UzbkES+cY+4wDzqVacqhKxd70XmHQgyK7ppRG/MwkL1UyArCGGAKN6MV/2fzO6I&gt; GQw3jntRue3/2PGGnGaisNAKlvttHWZ91uy4KY5fBM19uQCgZdx4v8/rP0+yQqsW&gt; TwJUKvymx5GIfNaCJvgF+v+aPrwspxBMf9jpHXqDXnh4Lo8C/GsQMD6GClVfQjsv&gt; vzUHKH2eoL4oNfku+Ua5BuAHYi+uAuzqV9TdpF9PCpQMyPfuuZclMPLdMwARAQAB&gt; tDJOSUlCRSBZdXRha2EgKEdudVBHIFJlbGVhc2UgS2V5KSA8Z25paWJlQGZzaWou&gt; b3JnPokBPAQTAQgAJgIbAwULBwgJAwQVCAkKBRYCAwEAAh4BAheABQJYDxRZBQkL&gt; S5A2AAoJECBxsIozvT8GvG8IAMBIlGz9voYcSSXAdQOuvz2gM2kOjvMHzN6VlS9V&gt; P06IjnTz2DnejFZwLmxJw8e8mZjUo0jw22uo1HREQhDrne3S1IazPMeTUCUNzpWF&gt; MxXNc6SAyrw9apWa8gouGUWJv3HOwVs8EFA2E9UdtDJ2uG7MY/+eC5K/aeOAyudZ&gt; EbvS8rgZypTFrBtBcNKUWZhz7FRn63HxEmYLE3p6I19ZDXrc1WTazF2oz18zym6c&gt; uURr6waRbdSemUTshpLnKCBZXzJ82bXBgXNnfdmc3gtS24ZmM3ZfK/rYztEDkiTk&gt; s2R1gwDwf5RtDpaf5LD2ufESdbLuT+8blAlscbgYLBcwDquZAY0EWMu6rgEMAKcz&gt; vM1IhpUwBpxPCNdrlMZh7XeLqKUd7hUvQ1KHOuDONxCDnfXdxGCKKI0Ds5I7Kkyp&gt; Wzvcl7PplRy2fYZWwcGtL+Kj01y4L2lXB/xrrVaVwRr4S0FrcbseUGYRafBpR0C1&gt; Yo24CL1ef4ivsfbER2SyaZ3lrT9Ccv6xfvTluhU8X+2li1ssak/Frvy02u3EORLD&gt; LxaaLQgANgsjnIjv/JQZ4l3xFIJT98tEoL18btg5lGrS2w4yFU1aa1SNsbp7vcu7&gt; wsqcJmCzX98LyG8/IBGJ5JXmZ03yzWhZ3uhhy1+Avi4GV4Mi0ADwaGMp6O63Mc3w&gt; SL8A/DoCKJLISOc+D5xNfw6C8sYlaOSzQfqY9l4HW/+QbJmEFL2+bnjSHb8yaVU3&gt; ae2IIrlNkZ5Jamp12Kq6x9Vei0xGk3gd4sqhmHhECdxoJtkX9L5gt436QxdjiTcW&gt; q3V+NNfq94UJu2Ej2kN0fNT0t9RU2n0P/mS0L+1gw5Ex6BX7BIzGL0bZhYomQwAR&gt; AQABiQHOBB8BCAA4FiEEW4DFdUKY8MtV2O1qvO9+KUsJLigFAljLwN0XDIABlKXJco7CV2&gt; oDwv5co7CV2OH99yPPRitrECBwAACgkQvO9+KUsJLig2Cgv/T4rXEjHwlbsuTkzp&gt; tgK80Dh92URzBAhPhSJ0kUz2b6y7FgVYgZ95u8elGUS4lOB0GOQSK3y4sCgldTQF&gt; GQpMuvNMX6oNQTv1Z/H9H7Sc6AntozKRA6LQC+7DMxjPh2DEhVLYNqi7gMXtuH8o&gt; Xz5+quarw/xbVmuS4UNqcxakd4A/HW6PayRhuju4+oV2+UmGU0etzGVwKSN/UicC&gt; 3Re3mUy8SwJFQ9/3EAfiY0SGzSWH1z7bTRg9Ga2ctYDNzUpyQsgLxD6ZRHcONkOoMEQ9&gt; GUMEQ96BeSsjT4yW9ED70CcCbhg+pMxR+lnpk4BZ4WML/plBjEb8B1YaRvhYWKd3&gt; OSVB/JsS6J6Q/y9TTsAJDBLAfw9h7RQKibViuVFSNftAuSdktah5mDwFnL0ZMzVS&gt; 3tDVDa5PDqbHEhK55/5EWBg4eNbAukVZmmoLzzERGXuj+LOIRElG3/n3chy1uM73&gt; B6da3al4gDDNHifPsuozpkVN1EAROZx1K9hGGDZC3yFQTjsJtCRBbmRyZSBIZWlu&gt; ZWNrZSAoUmVsZWFzZSBTaWduaW5nIEtleSmJAdQEEwEIAD4WIQRbgMV1Qpjwy1XY&gt; 7Wq8734pSwkuKAUCWMu6rgIbAwUJEswDAAULCQgHAgYVCAkKCwIEFgIDAQIeAQIX&gt; gAAKCRC8734pSwkuKEL9DACEIL5IS9wUty62Bnwd9wK2hmwihXNkTLsOOoi8aCdO&gt; ywPwcIucgAcIO+c/t0lbe4y4sJ1KrKbdyOUQiJAyxobLCSV/MkhIDAmsZB1ZIpF3&gt; nfmNekRdCVcMpqX8jAwoBS3Q9m2UJz1LeDCLFCvLF0nbyUnqHZP19UOvxmzAyZMA&gt; Ub3W5y1+GMo4yA+3xSFI8ZbjzhawixCCRs69/4p+zCXR4e7LBf6koAHllD/0ZULp&gt; SDjF+t2IkvRrMlM+e+Mxjklinr8v1FRGzmE/kCcdHaP88+iwC2wUKOZtFs4yIBLO&gt; SWdQk9tLPmR8uWgNZmatRJyNvOaxd6EbK3jfckbJGFkmXjH+M9vMqFpoAewZ359FUs7AX&gt; qjq+Us7AXLAMNUynom7IrtR5Rvsjx6RNtKQYUD6XY5rc7r9js9iGruHDAAW5lyRg&gt; j3wikc0IbV9L1bTsXIp29BsrU9sXUkVEp+xQJZgwqoOduoSjmOK88QdkibDqJiGF&gt; dzIRiXx+Nxv1Pr9L7A4/tq+YMwRfQ+WJFgkrBgEEAdpHDwEBB0DPvkeV6RzXomGF&gt; 8jQwp0RXEt2TGFwwI7RkbpYwECY2l7QfV2VybmVyIEtvY2ggKGRpc3Qgc2lnbmlu&gt; ZyAyMDIwKYiaBBMWCgBCFiEEbapuZKdtKEBXG0kCUoiXuCZAOtoFAl9D7DUCGwMF&gt; CRKFxxEFCwkIBwIDIgIBBhUKCQgLAgQWAgMBAh4HAheAAAoJEFKIl7gmQDraea4A&gt; /24v8c50HSC/Basf4WlREkuzhudplo8iT0BGtTQRdGAmAP9gIZ8dBekg9PRlpe7A&gt; l7ErThn6owVH9szWrUt6jkKOBg==&gt; =h7e4&gt; -----END PGP PUBLIC KEY BLOCK-----&gt;EOF æ¥ä¸‹æ¥å¯¼å…¥å…¬é’¥åˆ° gpgã€‚ 1234567âœ cat gnupg-2.2.29.asc | gpg --importgpg: key 249B39D24F25E3B6: public key &quot;Werner Koch (dist sig)&quot; importedgpg: key 2071B08A33BD3F06: public key &quot;NIIBE Yutaka (GnuPG Release Key) &lt;gniibe@fsij.org&gt;&quot; importedgpg: key BCEF7E294B092E28: public key &quot;Andre Heinecke (Release Signing Key)&quot; importedgpg: key 528897B826403ADA: public key &quot;Werner Koch (dist signing 2020)&quot; importedgpg: Total number processed: 4gpg: imported: 4 Step 2ï¼šæŸ¥çœ‹å¯¼å…¥çš„å…¬é’¥çš„æŒ‡çº¹æ˜¯å¦ä¸å®˜ç½‘ä¸Šå…¬å¸ƒçš„ä¸€è‡´ 12345678âœ gpg --list-keys --keyid-format=long Werner Kochpub rsa2048/249B39D24F25E3B6 2011-01-12 [SC] [expires: 2021-12-31] D8692123C4065DEA5E0F3AB5249B39D24F25E3B6uid [ unknown] Werner Koch (dist sig)pub ed25519/528897B826403ADA 2020-08-24 [SC] [expires: 2030-06-30] 6DAA6E64A76D2840571B4902528897B826403ADAuid [ unknown] Werner Koch (dist signing 2020) å¦‚æœä¸€è‡´çš„è¯ï¼Œä¿¡ä»»æ­¤å…¬é’¥ã€‚ 123456789101112131415161718192021222324252627âœ gpg --edit-key D8692123C4065DEA5E0F3AB5249B39D24F25E3B6gpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc.This is free software: you are free to change and redistribute it.There is NO WARRANTY, to the extent permitted by law.pub rsa2048/249B39D24F25E3B6 created: 2011-01-12 expires: 2021-12-31 usage: SC trust: unknown validity: unknown[ unknown] (1). Werner Koch (dist sig)gpg&gt; signpub rsa2048/249B39D24F25E3B6 created: 2011-01-12 expires: 2021-12-31 usage: SC trust: unknown validity: unknown Primary key fingerprint: D869 2123 C406 5DEA 5E0F 3AB5 249B 39D2 4F25 E3B6 Werner Koch (dist sig)This key is due to expire on 2021-12-31.Are you sure that you want to sign this key with yourkey &quot;yeshan333 &lt;1329441308@qq.com&gt;&quot; (582AAB66132A3FDA)Really sign? (y/N) ygpg&gt; save è¿™ç©æ„è¿˜éœ€è¦ä¸€ä¸ªæŒ‡çº¹ sign å…¬é’¥ï¼Œå¯é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¿«é€Ÿæ“ä½œ 1gpg --lsign-key &quot;6DAA6E64A76D2840571B4902528897B826403ADA&quot; Signing a key tells your software that you trust the key that you have been provided with and that you have verified that it is associated with the person in question. Step 3ï¼šä½¿ç”¨ signature file æ ¡éªŒ Tarball 12345678910âœ gpg --verify gnupg-2.2.29.tar.bz2.siggpg: assuming signed data in &#x27;gnupg-2.2.29.tar.bz2&#x27;gpg: Signature made Sun Jul 4 22:54:50 2021 CSTgpg: using EDDSA key 6DAA6E64A76D2840571B4902528897B826403ADAgpg: checking the trustdbgpg: marginals needed: 3 completes needed: 1 trust model: pgpgpg: depth: 0 valid: 2 signed: 2 trust: 0-, 0q, 0n, 0m, 0f, 2ugpg: depth: 1 valid: 2 signed: 0 trust: 2-, 0q, 0n, 0m, 0f, 0ugpg: next trustdb check due at 2021-12-31gpg: Good signature from &quot;Werner Koch (dist signing 2020)&quot; [full] emmmï¼Œé—®é¢˜ä¸å¤§ã€‚è¿™é‡Œæœ‰ä¸€ä¸¢ä¸¢é—®å·â“What is the exact meaning of this gpg output regarding trust? å¾®å¾®æå‡ä¸‹ä¿¡ä»»æ°´å¹³ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495âœ gpg --edit-key 6DAA6E64A76D2840571B4902528897B826403ADA D8692123C4065DEA5E0F3AB5249B39D24F25E3B6gpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc.This is free software: you are free to change and redistribute it.There is NO WARRANTY, to the extent permitted by law.pub ed25519/528897B826403ADA created: 2020-08-24 expires: 2030-06-30 usage: SC trust: undefined validity: full[ full ] (1). Werner Koch (dist signing 2020)Invalid command (try &quot;help&quot;)gpg&gt; trustpub ed25519/528897B826403ADA created: 2020-08-24 expires: 2030-06-30 usage: SC trust: undefined validity: full[ full ] (1). Werner Koch (dist signing 2020)Please decide how far you trust this user to correctly verify other users&#x27; keys(by looking at passports, checking fingerprints from different sources, etc.) 1 = I don&#x27;t know or won&#x27;t say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menuYour decision? 4pub ed25519/528897B826403ADA created: 2020-08-24 expires: 2030-06-30 usage: SC trust: full validity: full[ full ] (1). Werner Koch (dist signing 2020)Please note that the shown key validity is not necessarily correctunless you restart the program.gpg&gt; saveKey not changed so no update needed.âœ gpg --edit-key D8692123C4065DEA5E0F3AB5249B39D24F25E3B6gpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc.This is free software: you are free to change and redistribute it.There is NO WARRANTY, to the extent permitted by law.gpg: checking the trustdbgpg: marginals needed: 3 completes needed: 1 trust model: pgpgpg: depth: 0 valid: 2 signed: 2 trust: 0-, 0q, 0n, 0m, 0f, 2ugpg: depth: 1 valid: 2 signed: 0 trust: 0-, 1q, 0n, 0m, 1f, 0ugpg: next trustdb check due at 2021-12-31pub rsa2048/249B39D24F25E3B6 created: 2011-01-12 expires: 2021-12-31 usage: SC trust: undefined validity: full[ full ] (1). Werner Koch (dist sig)gpg&gt; trustpub rsa2048/249B39D24F25E3B6 created: 2011-01-12 expires: 2021-12-31 usage: SC trust: undefined validity: full[ full ] (1). Werner Koch (dist sig)Please decide how far you trust this user to correctly verify other users&#x27; keys(by looking at passports, checking fingerprints from different sources, etc.) 1 = I don&#x27;t know or won&#x27;t say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menuYour decision? 4pub rsa2048/249B39D24F25E3B6 created: 2011-01-12 expires: 2021-12-31 usage: SC trust: full validity: full[ full ] (1). Werner Koch (dist sig)Please note that the shown key validity is not necessarily correctunless you restart the program.gpg&gt; saveâœ gpg --verify gnupg-2.2.29.tar.bz2.siggpg: assuming signed data in &#x27;gnupg-2.2.29.tar.bz2&#x27;gpg: Signature made Sun Jul 4 22:54:50 2021 CSTgpg: using EDDSA key 6DAA6E64A76D2840571B4902528897B826403ADAgpg: checking the trustdbgpg: marginals needed: 3 completes needed: 1 trust model: pgpgpg: depth: 0 valid: 2 signed: 2 trust: 0-, 0q, 0n, 0m, 0f, 2ugpg: depth: 1 valid: 2 signed: 0 trust: 0-, 0q, 0n, 0m, 2f, 0ugpg: next trustdb check due at 2021-12-31gpg: Good signature from &quot;Werner Koch (dist signing 2020)&quot; [full] æ›´å¤š GPG Key æ ¡éªŒå·¥å…·æŸ¥çœ‹ GnuPG ä¸»é¡µï¼šhttps://www.gnupg.org/download/index.html","categories":[{"name":"Cryptography","slug":"Cryptography","permalink":"https://yeshan333.github.io/categories/Cryptography/"}],"tags":[{"name":"MD5","slug":"MD5","permalink":"https://yeshan333.github.io/tags/MD5/"},{"name":"GPG","slug":"GPG","permalink":"https://yeshan333.github.io/tags/GPG/"}]},{"title":"ä½¿ç”¨ osmosfeed åˆ›å»ºè‡ªå·±çš„ Web RSS é˜…è¯»å™¨","slug":"osmosfeed-rss-reader","date":"2021-06-29T15:34:20.000Z","updated":"2021-06-29T15:34:20.000Z","comments":true,"path":"2021/06/29/osmosfeed-rss-reader/","permalink":"https://yeshan333.github.io/2021/06/29/osmosfeed-rss-reader/","excerpt":"ä¹‹å‰ä¸€ç›´ç”¨ App Store ä¸Šçš„ä¸€ä¸ª RSS é˜…è¯»å™¨ RSS Reader Prime è®¢é˜…æŠ€æœ¯å‘¨åˆŠå’Œ dalao çš„æŠ€æœ¯åšå®¢ï¼Œä¸å¾—ä¸è¯´æŒºå¥½ç”¨çš„ï¼Œå¥ˆä½•å…¨çº¿ä¸‹æ¶äº†ï¼Œç°åœ¨å°±å¹³æ¿ä¸Šä¿ç•™ç€è¿™ä¸ª Appï¼Œæ‰‹æœºä¸Šæ²¡æœ‰ï¼ˆå›½åŒºå¥½ç”¨çš„ RSS é˜…è¯»å™¨åŸºæœ¬æ— äº†ï¼‰ã€‚æœ‰æ—¶å€™åˆæƒ³ç€ç”¨æ‰‹æœºè¯»è¯»æŠ€æœ¯æ–‡ç« ï¼ˆæ¿å­å¤ªå¤§ï¼Œä¸å¥½æ‹¿ï¼‰ï¼Œäºæ˜¯ä¹ç¿»äº†ä¸‹ GitHub rss-reader topic ä¸‹çš„ç›¸å…³é˜…è¯»å™¨é¡¹ç›®ï¼ŒæŒ‘äº†æ‰‹åŸºäº Web å’Œ GitHub Pages çš„ RSS é˜…è¯»å™¨ï¼ˆWeb æ‰æ˜¯çœŸçš„â€œè·¨ç«¯â€ï¼Œ2333~ï¼‰ï¼Œæ°´ç¯‡æ–‡ç« å¾®å¾®è®°å½•ä¸‹ã€‚","text":"ä¹‹å‰ä¸€ç›´ç”¨ App Store ä¸Šçš„ä¸€ä¸ª RSS é˜…è¯»å™¨ RSS Reader Prime è®¢é˜…æŠ€æœ¯å‘¨åˆŠå’Œ dalao çš„æŠ€æœ¯åšå®¢ï¼Œä¸å¾—ä¸è¯´æŒºå¥½ç”¨çš„ï¼Œå¥ˆä½•å…¨çº¿ä¸‹æ¶äº†ï¼Œç°åœ¨å°±å¹³æ¿ä¸Šä¿ç•™ç€è¿™ä¸ª Appï¼Œæ‰‹æœºä¸Šæ²¡æœ‰ï¼ˆå›½åŒºå¥½ç”¨çš„ RSS é˜…è¯»å™¨åŸºæœ¬æ— äº†ï¼‰ã€‚æœ‰æ—¶å€™åˆæƒ³ç€ç”¨æ‰‹æœºè¯»è¯»æŠ€æœ¯æ–‡ç« ï¼ˆæ¿å­å¤ªå¤§ï¼Œä¸å¥½æ‹¿ï¼‰ï¼Œäºæ˜¯ä¹ç¿»äº†ä¸‹ GitHub rss-reader topic ä¸‹çš„ç›¸å…³é˜…è¯»å™¨é¡¹ç›®ï¼ŒæŒ‘äº†æ‰‹åŸºäº Web å’Œ GitHub Pages çš„ RSS é˜…è¯»å™¨ï¼ˆWeb æ‰æ˜¯çœŸçš„â€œè·¨ç«¯â€ï¼Œ2333~ï¼‰ï¼Œæ°´ç¯‡æ–‡ç« å¾®å¾®è®°å½•ä¸‹ã€‚ ä»€ä¹ˆæ˜¯ RSS RSS, Really Simple Syndication. ä¸€ç§æè¿°å’ŒåŒæ­¥ç½‘ç«™å†…å®¹çš„ XML æ ¼å¼ï¼Œä¸€èˆ¬ç½‘ç«™éƒ½ä¼šæä¾› RSSï¼Œæœ‰åˆ©äºè®©ç”¨æˆ·é€šè¿‡ RSS Feedï¼ˆRSSæºï¼Œä¸€èˆ¬å³ä¸ºç«™ç‚¹çš„RSSåœ°å€ï¼‰ è·å–ç½‘ç«™å†…å®¹çš„æœ€æ–°æ›´æ–°ã€‚ æ›´å¤šå…³äº RSS çš„å†…å®¹åœ¨ GitHub ä¸Šæœ‰ä¸ªåä¸º ALL-about-RSS çš„é¡¹ç›®æœ‰ä»‹ç»ã€‚ ä½¿ç”¨ osmosfeed æ­å»º Web-based RSS é˜…è¯»å™¨osmosfeed æ˜¯ GitHub ä¸Šå¼€æºçš„ä¸€ä¸ª RSS Web ç‰ˆé˜…è¯»å™¨ï¼Œå¯ä»¥ä½¿ç”¨ GitHub Pages æ‰˜ç®¡ï¼Œä¸»é¢˜å¯è‡ªå®šä¹‰ã€‚ 1ã€é¦–å…ˆæ ¹æ® osmosfeed çš„æ¨¡æ¿ä»“ osmosfeed-template æ–°å»ºä¸ªäººä»“åº“ã€‚ æˆ³æ­¤é“¾æ¥ä½¿ç”¨æ¨¡æ¿ä»“åº“ï¼šhttps://github.com/osmoscraft/osmosfeed-template/generate é€šè¿‡æ¨¡æ¿åº“æ–°å»ºä¸ªäººå…¬å…±ä»“åº“ 2ã€ä»“åº“å»ºå¥½åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨è§¦å‘ RSS Web Reader æ„å»ºçš„ actionBuild site on schedule or main branch updateï¼Œæ„å»ºäº§ç‰©å°†ä¼šè¢«æ¨é€åˆ°ä»“åº“çš„ gh-pages åˆ†æ”¯ã€‚ 3ã€æœ€è¿‘ GitHub æ›´æ–°äº†æ³¢ï¼ŒGitHub Pages çš„å¼€å¯æœ‰äº†æ–°çš„é€‰é¡¹å¡ï¼Œä»“åº“é¡¶éƒ¨ Settings -&gt; å·¦ä¾§è¾¹æ  Pagesï¼Œè°ƒæ•´å‘å¸ƒæºåˆ†æ”¯gh-pagesï¼Œåæ‰‹ä¸€ä¸ª Save å°±å¥½äº†ã€‚ å¼€å¯ä»“åº“ Pagesï¼Œæºåˆ†æ”¯ä¸º gh-pages 4ã€è®¢é˜…æºå¯ç›´æ¥ç¼–è¾‘æ ¹ç›®å½•ä¸‹çš„ osmosfeed.yaml æ–‡ä»¶ï¼Œåæ‰‹æŠŠè‡ªå·±åšå®¢è®¢é˜…ä¸ŠğŸ‘»ğŸ˜ã€‚preview: https://shansan.top/osmosfeed-rss-reader/ 1234# cacheUrl: https://GITHUB_USERNAME.github.io/REPO_NAME/cache.jsonsources: - href: https://github.com/osmoscraft/osmosfeed/releases.atom # Get new feature announcement via this feed - href: https://shansan.top/rss2.xml action åœ¨æ²¡æœ‰å¯¹ä»“åº“ main åˆ†æ”¯å˜åŠ¨çš„æƒ…å†µä¸‹ï¼Œä¼šæ¯å¤©è‡ªåŠ¨è§¦å‘ä¸€æ¬¡ã€‚ action schedule, crontab.guru æ›´å¤šæ“ä½œå¯å‚è€ƒ osmosfeed é¡¹ç›®çš„ READMEï¼šhttps://github.com/osmoscraft/osmosfeed","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"},{"name":"RSS","slug":"RSS","permalink":"https://yeshan333.github.io/categories/RSS/"}],"tags":[{"name":"RSS Reader","slug":"RSS-Reader","permalink":"https://yeshan333.github.io/tags/RSS-Reader/"}]},{"title":"çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾ Cauchy é—®é¢˜çš„ä¸€äº›ç¬”è®°","slug":"heat-conduction-equation","date":"2021-05-16T15:14:31.000Z","updated":"2021-05-16T15:14:31.000Z","comments":true,"path":"2021/05/16/heat-conduction-equation/","permalink":"https://yeshan333.github.io/2021/05/16/heat-conduction-equation/","excerpt":"æ¯•è®¾å·¥ä½œå³å°†ç»“æŸä¹‹é™…ï¼Œé™„ä¸Šä¸€ä»½ç¬”è®°åˆ°åšå®¢-æ•°å­¦ç‰©ç†æ–¹ç¨‹-çƒ­ä¼ å¯¼æ–¹ç¨‹.","text":"æ¯•è®¾å·¥ä½œå³å°†ç»“æŸä¹‹é™…ï¼Œé™„ä¸Šä¸€ä»½ç¬”è®°åˆ°åšå®¢-æ•°å­¦ç‰©ç†æ–¹ç¨‹-çƒ­ä¼ å¯¼æ–¹ç¨‹. åé—®é¢˜ä¸ä¸é€‚å®šé—®é¢˜åé—®é¢˜æè¿°note quote ä¸€å¯¹é—®é¢˜ç§°ä¸ºæ˜¯äº’é€†çš„ ä¸é€‚å®šé—®é¢˜çš„ä¸‰ä¸ªåˆ¤æ–­æ ‡å‡† é—®é¢˜çš„è§£æ˜¯å­˜åœ¨çš„ï¼› é—®é¢˜çš„è§£æ˜¯å”¯ä¸€çš„ï¼› é—®é¢˜çš„è§£æ˜¯ç¨³å®šçš„ï¼› è¯¥æ¦‚å¿µç”±ç°æ³•å›½ç§‘å­¦é™¢é™¢å£« J.Hadamard åœ¨è€¶é²å¤§å­¦æå‡º. é€‚å®šï¼ˆwell-posedï¼‰é—®é¢˜ &amp; ä¸é€‚å®šï¼ˆill-posedï¼‰é—®é¢˜. $$ Ax&#x3D;y, A: X \\rightarrow Y çš„çº¿æ€§ç´§ç®—å­ $$ 1ã€è§£çš„å­˜åœ¨æ€§ï¼š$ \\forall y \\in Y, \\exist x \\in X, $ ä½¿å¾— $ Ax&#x3D;y. $2ã€è§£çš„å”¯ä¸€æ€§ï¼š$ \\forall y_1, y_2 \\in Y, y_1 \\neq y_2, $ æœ‰ $ Ax_1&#x3D;y_1, Ax_2&#x3D;y_2, $ ä½¿å¾— $ x_1 \\neq x_2. $3ã€è§£çš„ç¨³å®šæ€§ï¼ˆå³è§£çš„è¿ç»­æ€§ï¼‰ï¼šè‹¥æœ‰ $ Ax_1&#x3D;y_1, Ax_2&#x3D;y_2, $ åˆ™å½“ $ y_1 \\rightarrow y_2 $ æ—¶, ä½¿å¾— $ x_1 \\rightarrow x_2. $ note info å½“å®šè§£æ¡ä»¶ï¼ˆåˆå€¼æ¡ä»¶ï¼Œè¾¹ç•Œæ¡ä»¶ï¼‰ä»¥åŠæ–¹ç¨‹ä¸­çš„ç³»æ•°æœ‰å¾®å°å˜åŠ¨æ—¶ï¼Œç›¸åº”çš„è§£ä¹Ÿåªæœ‰å¾®å°å˜åŠ¨. è§£çš„ç¨³å®šæ€§ä¹Ÿç§°ä¸ºè§£å…³äºå‚æ•°çš„è¿ç»­ä¾èµ–æ€§. å¾®åˆ†æ–¹ç¨‹ å¾®åˆ†æ–¹ç¨‹ï¼šåŒ…å«å¯¼æ•°çš„æ–¹ç¨‹ï¼Œå¸¸ç”¨äºæè¿°ç°å®äº‹ç‰©çš„å˜åŒ–. å¾®ç§¯åˆ†å­¦æ˜¯ä¸€é—¨ç ”ç©¶å˜åŒ–çš„å­¦é—®. å¾®åˆ†åº”ç”¨åŒ…æ‹¬å¯¹é€Ÿåº¦ã€åŠ é€Ÿåº¦ã€æ›²çº¿æ–œç‡ã€æœ€ä¼˜åŒ–ç­‰çš„è®¡ç®—. å¾®åˆ†æ–¹ç¨‹çš„å®šè§£æ¡ä»¶ï¼šå³åˆå€¼æ¡ä»¶å’Œè¾¹ç•Œæ¡ä»¶ï¼› ä¸‰ç±»è¾¹ç•Œæ¡ä»¶ ç¬¬ä¸€ç±»ï¼šç‹„åˆ©å…‹é›·è¾¹ç•Œæ¡ä»¶ï¼ˆDirichlet boundary conditionï¼‰ä¹Ÿè¢«ç§°ä¸ºå¸¸å¾®åˆ†æ–¹ç¨‹æˆ–åå¾®åˆ†æ–¹ç¨‹çš„â€œç¬¬ä¸€ç±»è¾¹ç•Œæ¡ä»¶â€ï¼ŒæŒ‡å®šå¾®åˆ†æ–¹ç¨‹çš„è§£åœ¨è¾¹ç•Œå¤„çš„å€¼. æ±‚å‡ºè¿™æ ·çš„æ–¹ç¨‹çš„è§£çš„é—®é¢˜è¢«ç§°ä¸ºç‹„åˆ©å…‹é›·é—®é¢˜. ç¬¬äºŒç±»ï¼šè¯ºä¼Šæ›¼è¾¹ç•Œæ¡ä»¶ï¼ˆNeumann boundary condition) ä¹Ÿè¢«ç§°ä¸ºå¸¸å¾®åˆ†æ–¹ç¨‹æˆ–åå¾®åˆ†æ–¹ç¨‹çš„â€œç¬¬äºŒç±»è¾¹ç•Œæ¡ä»¶â€. è¯ºä¼Šæ›¼è¾¹ç•Œæ¡ä»¶æŒ‡å®šäº†å¾®åˆ†æ–¹ç¨‹çš„è§£åœ¨è¾¹ç•Œå¤„çš„å¾®åˆ†. ç¬¬ä¸‰ç±»ï¼šRobbinæ¡ä»¶&#x2F;æ··åˆè¾¹ç•Œæ¡ä»¶ï¼ŒæœªçŸ¥å‡½æ•°åœ¨è¾¹ç•Œä¸Šçš„å‡½æ•°å€¼å’Œå¤–æ³•å‘å¯¼æ•°çš„çº¿æ€§ç»„åˆ. åå¾®åˆ†æ–¹ç¨‹ä¸‰å¤§é—®é¢˜ åˆè¾¹å€¼é—®é¢˜æˆ–æ··åˆé—®é¢˜ï¼šåå¾®åˆ†æ–¹ç¨‹ + åˆå€¼æ¡ä»¶ + è¾¹ç•Œæ¡ä»¶ï¼› åˆå€¼é—®é¢˜æˆ– Cauchy é—®é¢˜ï¼šåå¾®åˆ†æ–¹ç¨‹ + åˆå€¼æ¡ä»¶ï¼› è¾¹å€¼é—®é¢˜ï¼šåå¾®åˆ†æ–¹ç¨‹ + è¾¹ç•Œæ¡ä»¶ï¼› æ–¹ç¨‹å¼ä¸æ–¹ç¨‹ç»„ æ–¹ç¨‹å¼ï¼šæ–¹ç¨‹ä¸ªæ•°ä¸º 1ï¼› æ–¹ç¨‹ç»„ï¼šæ–¹ç¨‹ä¸ªæ•°å¤§äº 1ï¼› æ¬ å®šä¸è¶…å®š æ¬ å®šï¼šæ–¹ç¨‹ä¸ªæ•°å°‘äºæœªçŸ¥å‡½æ•°ä¸ªæ•°ï¼› è¶…å®šï¼šæ–¹ç¨‹ä¸ªæ•°å¤šäºæœªçŸ¥å‡½æ•°ä¸ªæ•°ï¼› æ–¹ç¨‹ï¼ˆç»„ï¼‰ä¸­å‡ºç°çš„æœªçŸ¥å‡½æ•°çš„æœ€é«˜é˜¶åå¯¼æ•°çš„é˜¶æ•°ç§°ä¸ºæ–¹ç¨‹ï¼ˆç»„ï¼‰çš„é˜¶æ•°. æ•°å­¦ç‰©ç†å¾®åˆ†æ–¹ç¨‹åé—®é¢˜çš„åˆ†ç±»æ–‡çŒ®[1]æ ¹æ®ä»¥ä¸‹ä¸€èˆ¬å½¢å¼çš„å¾®åˆ†æ–¹ç¨‹ç»„ï¼Œç»™å‡ºäº†æ•°å­¦ç‰©ç†åé—®é¢˜çš„äº”å¤§åˆ†ç±». å…¶ä¸­ $ u(x,t) $ ä¸ºå¾®åˆ†æ–¹ç¨‹ç»„çš„è§£ï¼›$ L, I, B, A $ åˆ†åˆ«æ˜¯å¾®åˆ†ç®—å­ï¼Œåˆå§‹ç®—å­ï¼Œè¾¹ç•Œç®—å­å’Œé™„åŠ ç®—å­. $ \\Omega $ ä¸ºæ±‚è§£åŒºåŸŸï¼Œ$ \\partial \\Omega $ ä¸ºæ±‚è§£åŒºåŸŸçš„è¾¹ç•Œ. $ \\partial \\Omega^{\\prime} $ ä¸º $ \\Omega $ çš„ä¸€éƒ¨åˆ†. $ f(x,t) $ ä¸ºæ–¹ç¨‹çš„å³ç«¯é¡¹ï¼Œ$ \\varphi(x), \\psi(x,t), k(x,t) $ åˆ†åˆ«ä¸ºåˆå§‹æ¡ä»¶ã€è¾¹ç•Œæ¡ä»¶å’Œé™„åŠ æ¡ä»¶. ä¸Šè¿°ä»»ä¸€å·²é‡å˜ä¸ºæœªçŸ¥é‡ï¼Œå³ä¸ºå¾®åˆ†æ–¹ç¨‹åé—®é¢˜. å‚æ•°è¯†åˆ«é—®é¢˜ï¼šç®—å­ $ L $ æœªçŸ¥ï¼ˆé€šå¸¸ $ L $ çš„ç»“æ„æ˜¯å·²çŸ¥çš„ï¼ŒæœªçŸ¥çš„ä¸ºç®—å­ä¸­çš„å‚æ•°ï¼‰ï¼› å¯»æºåé—®é¢˜ï¼šå³ç«¯æ–¹ç¨‹æºé¡¹ $ f(x,t) $ æœªçŸ¥ï¼› é€†æ—¶åé—®é¢˜ï¼š$ \\varphi(x) $ æ¡ä»¶æœªçŸ¥æ—¶ï¼Œé™„åŠ æ¡ä»¶ä¸ºç³»ç»ŸæŸä¸€æ—¶åˆ»çš„çŠ¶æ€ï¼Œè¯¥åé—®é¢˜ä»åé¢çš„çŠ¶æ€å»ç¡®å®šåˆå§‹çŠ¶æ€ï¼› è¾¹ç•Œæ§åˆ¶é—®é¢˜ï¼šè¾¹ç•Œæ¡ä»¶ $ \\psi(x,t) $ æœªçŸ¥ï¼› å‡ ä½•åé—®é¢˜ï¼šåŒºåŸŸè¾¹ç•Œ $ \\partial \\Omega $ æœªçŸ¥ï¼› åé—®é¢˜é€šå¸¸æ˜¯ä¸é€‚å®šçš„ï¼Œå³åˆå§‹æ¡ä»¶ä¸Šçš„ä¸€ä¸ªå¾®å°çš„æ‰°åŠ¨ï¼Œå°†å¯¼è‡´ç»“æœçš„å·¨å¤§å˜åŒ–. å…‹æœåé—®é¢˜ä¸é€‚å®šæ€§æ˜¯æ¯”è¾ƒæ£˜æ‰‹çš„ï¼Œè¿™ä¹Ÿæ˜¯åé—®é¢˜ç ”ç©¶çš„é‡è¦è¯¾é¢˜. éšæœºå¾®åˆ†æ–¹ç¨‹è§£çš„çˆ†ç ´ï¼šåœ¨å¤§å¤šæ•°æ—¶é—´é‡Œï¼Œè§£æ˜¯æœ‰è§£çš„ã€‚ä½†å­˜åœ¨æŸä¸€æ—¶é—´ç‚¹ï¼Œè§£è¶‹äº $ \\infty $. ä»»ä½•ä¸€ä¸ªç‰©ç†ç°è±¡éƒ½æ˜¯å¤„åœ¨ç‰¹å®šæ¡ä»¶ä¸‹çš„. å…³äºåé—®é¢˜çš„æ›´å¤šæè¿° å…³äºåé—®é¢˜çš„ä¸€ä¸ªæ¯”è¾ƒé€‚ç”¨çš„æ•°å­¦å®šä¹‰æ˜¯â€œç”±å®šè§£é—®é¢˜çš„è§£çš„éƒ¨åˆ†ä¿¡æ¯å»æ±‚å®šè§£é—®é¢˜ä¸­çš„æœªçŸ¥æˆåˆ†â€. æœ‰æ•ˆåé—®é¢˜çš„æ•°å€¼ç®—æ³•ä»¥æ­£é—®é¢˜çš„é«˜ç²¾åº¦è§£æ³•ä¸ºåŸºç¡€.åé—®é¢˜çš„ä¸é€‚å®šæ€§ä¸»è¦è¡¨ç°åœ¨ä¸¤ä¸ªæ–¹é¢: ä¸€æ–¹é¢ï¼Œç”±äºå®¢è§‚æ¡ä»¶é™åˆ¶çš„è¾“å…¥æ•°æ®(å³ç»™å®šçš„è§£çš„éƒ¨åˆ†å·²çŸ¥ä¿¡æ¯)å¾€å¾€æ˜¯æ¬ å®šçš„æˆ–è€…æ˜¯è¶…å®šçš„ï¼Œè¿™å°±å¯¼è‡´è§£çš„ä¸å”¯ä¸€æ€§æˆ–è€…æ˜¯è§£çš„ä¸å­˜åœ¨æ€§; å¦ä¸€æ–¹é¢ï¼Œåé—®é¢˜çš„è§£å¯¹è¾“å…¥æ•°æ®å¾€å¾€ä¸å…·æœ‰è¿ç»­ä¾èµ–æ€§ã€‚ç”±äºè¾“å…¥æ•°æ®ä¸­ä¸å¯é¿å…çš„æµ‹é‡è¯¯å·®ï¼Œäººä»¬å°±å¿…é¡»æå‡ºç”±æ‰°åŠ¨æ•°æ®æ±‚åé—®é¢˜åœ¨ä¸€å®šæ„ä¹‰ä¸‹è¿‘ä¼¼è§£çš„ç¨³å®šçš„æ–¹æ³•. å› æ­¤ï¼Œåé—®é¢˜å’Œä¸é€‚å®šé—®é¢˜æ˜¯ç´§å¯†è”ç³»åœ¨ä¸€èµ·çš„.å®šè§£æ¡ä»¶éƒ½æ˜¯é€šè¿‡æµ‹é‡å’Œç»Ÿè®¡è€Œå¾—åˆ°çš„ï¼Œåœ¨æµ‹é‡å’Œç»Ÿè®¡çš„è¿‡ç¨‹ä¸­è¯¯å·®æ€»æ˜¯éš¾å…çš„ï¼ŒåŒæ—¶åœ¨å»ºç«‹æ•°å­¦æ¨¡å‹çš„è¿‡ç¨‹ä¸­ä¹Ÿå¤šæ¬¡ç”¨äº†è¿‘ä¼¼. å¦‚æœè§£çš„ç¨³å®šæ€§ä¸æˆç«‹ï¼Œé‚£ä¹ˆæ‰€å»ºç«‹çš„å®šè§£é—®é¢˜å°±å¤±å»äº†å®é™…æ„ä¹‰. å¦‚æœä¸€ä¸ªå®šè§£é—®é¢˜çš„é€‚å®šæ€§ä¸æˆç«‹ï¼Œå°±è¦å¯¹å®šè§£é—®é¢˜ä½œè¿›ä¸€æ­¥åœ°ä¿®æ”¹ï¼Œç›´åˆ°å®ƒå…·æœ‰é€‚å®šæ€§[3]. çƒ­ä¼ å¯¼æ–¹ç¨‹ Direct heat conduction problems (DHCPs) ç›´æ¥çƒ­ä¼ å¯¼é—®é¢˜, Inverse heat conduction problem (IHCPs) é€†çƒ­ä¼ å¯¼é—®é¢˜ çƒ­ä¼ å¯¼æ­£&#x2F;åé—®é¢˜ çƒ­ä¼ å¯¼åé—®é¢˜ï¼šåœ¨çƒ­äº¤æ¢æƒ…å½¢ä¸‹ï¼Œé€šè¿‡ç ”ç©¶ç‰©ä½“å†…éƒ¨æˆ–è¾¹ç•Œçš„ä¸€ç‚¹æˆ–å¤šç‚¹æ¸©åº¦åˆ†å¸ƒä¿¡æ¯æ¥åæ¼”çƒ­æºé¡¹ã€åˆå§‹æ¡ä»¶ã€è¾¹ç•Œæ¡ä»¶ã€ç‰©ç†çš„å‡ ä½•æ¡ä»¶ç­‰æœªçŸ¥é‡. çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾ Cauchy é—®é¢˜çš„[4]ï¼šå…¸å‹çš„çƒ­ä¼ å¯¼æ–¹ç¨‹çš„éç‰¹å¾Cauchyé—®é¢˜æ˜¯é€šè¿‡ä¸€éƒ¨åˆ†è¾¹ç•Œä¸Šçš„æˆ–è€…å†…éƒ¨çš„æ•°æ®æ¥åˆ¤å®šå¦ä¸€éƒ¨åˆ†è¾¹ç•Œçš„çƒ­æµ. ä¸€ç»´çƒ­ä¼ å¯¼æ–¹ç¨‹åˆè¾¹å€¼é—®é¢˜æœ‰é™åŸŸä¸Šè¾¹ç•Œæ¡ä»¶ä¸ºç¬¬ä¸€ç±» Dirichlet è¾¹ç•Œæ¡ä»¶çš„æ•°å­¦æ¨¡å‹ï¼š æ±‚è§£åŒºåŸŸï¼š å¤„ç†çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾ Cauchy é—®é¢˜çš„ç›¸å…³æ–¹æ³•åŸºæœ¬è§£æ–¹æ³•åŸºæœ¬è§£æ–¹æ³•ï¼ˆthe method of fundamental solutions, MFSï¼‰ä½¿ç”¨å¾®åˆ†ç®—å­çš„åŸºæœ¬è§£å»è¿‘ä¼¼æ•°å€¼è§£. çƒ­ä¼ å¯¼æ–¹ç¨‹éç‰¹å¾ Cauchy é—®é¢˜ä½¿ç”¨åŸºæœ¬è§£æ–¹æ±‚è§£æ—¶ï¼Œæ•°å€¼è¿‘ä¼¼è§£ç”±ä»¥ä¸‹åŸºæœ¬è§£çš„çº¿æ€§ç»„åˆå¾—åˆ°[5]ï¼š $$\\begin{array}{c}\\tilde{u}(x) &#x3D; \\sum_{i &#x3D; 1}^{N} a_{i} u^{*}\\left(x-\\mu_{i}\\right)\\end{array}$$ å¾…å®šç³»æ•° $ a_{i} $ é€šè¿‡å¯¹æ±‚è§£åŒºåŸŸè¾¹ç•Œå’Œè™šè¾¹ç•Œè¿›è¡Œé…ç½®ç‚¹é…ç½®å¾—åˆ°. åŸºæœ¬è§£æ–¹æ³•æ˜¯ä¸€ç§æ— ç½‘æ ¼çš„å¾„å‘åŸºå‡½æ•°ç±»æ–¹æ³•. å›  Cauchy é—®é¢˜çš„ä¸é€‚å®šæ€§ï¼ŒåŸºæœ¬è§£æ–¹æ³•æ‰€å¾—åˆ°çš„çº¿æ€§ç³»ç»Ÿæ˜¯é«˜åº¦ç—…æ€çš„ï¼Œå¸¸è§„æ–¹æ³•æ±‚è§£å·²æ²¡æœ‰æ„ä¹‰. éœ€è¦ä½¿ç”¨æ­£åˆ™åŒ–æ–¹æ³•å¤„ç†çº¿æ€§ç³»ç»Ÿçš„ç—…æ€æ€§. æ­£åˆ™åŒ–æ–¹æ³• æ­£åˆ™åŒ–æ–¹æ³•æ±‚è§£ä¸é€‚å®šé—®é¢˜çš„æœ¬è´¨æ˜¯, å¯¹é—®é¢˜çš„è§£è¿›è¡Œä¸€å®šçš„é™åˆ¶, è€ƒè™‘ä¸€ä¸ªè¿‘ä¼¼çš„é€‚å®šé—®é¢˜æ¥ä¿è¯åŸé—®é¢˜è¿‘ä¼¼è§£çš„ç¨³å®šæ€§. Tikhonov æ­£åˆ™åŒ–æ–¹æ³• æ­£åˆ™åŒ–å‚æ•° $ \\alpha $ çš„é€‰å–. ç¡®å®šå¼æ–¹æ³• åå·®åŸåˆ™ æ‹Ÿæœ€ä¼˜æ–¹æ³• å¯å‘å¼æ–¹æ³• å¹¿ä¹‰äº¤å‰æ ¸å¼ L-æ›²çº¿æ³•åˆ™ å‚è€ƒ [1] å¼ æ™ºå€. çƒ­ä¼ å¯¼æ–¹ç¨‹åé—®é¢˜çš„è‹¥å¹²æ–¹æ³•ç ”ç©¶[D]. å“ˆå°”æ»¨: å“ˆå°”æ»¨å·¥ä¸šå¤§å­¦, 2010. [2] è‡§é¡ºå…¨. çƒ­ä¼ å¯¼æ–¹ç¨‹æ­£é—®é¢˜å’Œåé—®é¢˜çš„æ•°å€¼è§£ç ”ç©¶[D]. è¥¿å®‰: è¥¿å®‰ç†å·¥å¤§å­¦, 2019. [3] ç‹æ˜æ–°. æ•°å­¦ç‰©ç†æ–¹ç¨‹[M]. æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾, 2005: 1-171. [4] è´¾ç°æ­£. çƒ­ä¼ å¯¼æ–¹ç¨‹ä¸­çš„è‹¥å¹²åé—®é¢˜[D]. ä¸Šæµ·: å¤æ—¦å¤§å­¦, 2005. [5] é‡‘é‚¦æ¢¯. ä¸€ç±»æ¤­åœ†å‹åå¾®åˆ†æ–¹ç¨‹åé—®é¢˜çš„æ— ç½‘æ ¼æ–¹æ³•[D]. æ­å·: æµ™æ±Ÿå¤§å­¦, 2005.","categories":[{"name":"math","slug":"math","permalink":"https://yeshan333.github.io/categories/math/"}],"tags":[{"name":"math","slug":"math","permalink":"https://yeshan333.github.io/tags/math/"}]},{"title":"ç®€å•äº†è§£æ³¢ Mono-repo & Multi-repoï¼ˆPoly-repoï¼‰","slug":"term-monorepo-multirepo","date":"2021-04-30T23:30:00.000Z","updated":"2021-04-30T23:30:00.000Z","comments":true,"path":"2021/04/30/term-monorepo-multirepo/","permalink":"https://yeshan333.github.io/2021/04/30/term-monorepo-multirepo/","excerpt":"Mono-repo å’Œ Multi-repo æ˜¯è½¯ä»¶å¼€å‘ä¸­ä»£ç ç®¡ç†çš„ä¸¤ä¸ªä¸åŒç­–ç•¥ã€‚Mono-repo &amp; Multi-repo å­°ä¼˜å­°åŠ£æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆå¾—è¯é¢˜äº†ï¼Œè¿™é‡Œå°±ä¸ PK äº†ï¼Œâ€œç•¥å¾®â€çœ‹ä¸‹ä¸¤è€…åŒºåˆ«ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨ Git ä½œä¸ºç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†é¡¹ç›®çš„ä»£ç æ—¶ï¼Œé‚£ä¹ˆ monorepo ä¸ multirepo çš„å®šä¹‰è¡¨è¿°å¦‚ä¸‹ï¼š monorepoï¼Œä½¿ç”¨ä¸€ä¸ª Git ä»“åº“ç®¡ç†é¡¹ç›®ç›¸å…³çš„å¤šä¸ª æ¨¡å—&#x2F;åŒ…&#x2F;åŠŸèƒ½&#x2F;åº”ç”¨ã€‚ multirepoï¼ˆåˆç§°ä¸º polyrepoï¼‰ï¼Œä½¿ç”¨å¤šä¸ª Git ä»“åº“åˆ†åˆ«ç®¡ç†é¡¹ç›®çš„æ¯ä¸€ä¸ª æ¨¡å—&#x2F;åŒ…&#x2F;åŠŸèƒ½&#x2F;åº”ç”¨ã€‚","text":"Mono-repo å’Œ Multi-repo æ˜¯è½¯ä»¶å¼€å‘ä¸­ä»£ç ç®¡ç†çš„ä¸¤ä¸ªä¸åŒç­–ç•¥ã€‚Mono-repo &amp; Multi-repo å­°ä¼˜å­°åŠ£æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆå¾—è¯é¢˜äº†ï¼Œè¿™é‡Œå°±ä¸ PK äº†ï¼Œâ€œç•¥å¾®â€çœ‹ä¸‹ä¸¤è€…åŒºåˆ«ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨ Git ä½œä¸ºç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†é¡¹ç›®çš„ä»£ç æ—¶ï¼Œé‚£ä¹ˆ monorepo ä¸ multirepo çš„å®šä¹‰è¡¨è¿°å¦‚ä¸‹ï¼š monorepoï¼Œä½¿ç”¨ä¸€ä¸ª Git ä»“åº“ç®¡ç†é¡¹ç›®ç›¸å…³çš„å¤šä¸ª æ¨¡å—&#x2F;åŒ…&#x2F;åŠŸèƒ½&#x2F;åº”ç”¨ã€‚ multirepoï¼ˆåˆç§°ä¸º polyrepoï¼‰ï¼Œä½¿ç”¨å¤šä¸ª Git ä»“åº“åˆ†åˆ«ç®¡ç†é¡¹ç›®çš„æ¯ä¸€ä¸ª æ¨¡å—&#x2F;åŒ…&#x2F;åŠŸèƒ½&#x2F;åº”ç”¨ã€‚ Monorepo çš„åº”ç”¨å®ä¾‹GitHub æœ‰å¾ˆå¤šçš„ä½¿ç”¨ Monorepo é£æ ¼ç®¡ç†ä»£ç çš„å¼€æºé¡¹ç›®ï¼Œæ¯”å¦‚å¤§åé¼é¼çš„ Babelï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹å›¾ï¼š Babel GitHub Repo packages ç›®å½•ä¸‹å­˜æ”¾äº†å¾ˆå¤šä¸ª Babel ç›¸å…³çš„å­é¡¹ç›®ã€‚ googles-monorepo-demoç»™å‡ºäº†ä¸€ä¸ªåŸºäº Maven æ„å»ºå·¥å…·çš„ Google é£æ ¼çš„ Monorepo é¡¹ç›®ã€‚ è¿˜æœ‰å¤§ä½¬ç»™å‡ºäº†æœ‰ CI&#x2F;CD pipeline åŸºäº Java, Maven, GitHub Actions çš„ Demo ğŸ‘‰ monorepo-maven-exampleã€‚ monorepo-maven-example-with-github-actions ä½¿ç”¨å·¥å…·å¿«é€Ÿæ­å»º Monorepo é£æ ¼çš„é¡¹ç›®ç°ä»Šï¼Œæœ‰è®¸å¤šå¯ä»¥åˆ›å»º Monorepo é£æ ¼é¡¹ç›®çš„å·¥å…·ï¼Œåœ¨å‰ç«¯ç¤¾åŒºæœ‰ Lernaã€Nxã€Rush Stackã€Yarn Workspaces ç­‰ï¼Œè¿˜æœ‰è®¸å¤šå…¶å®ƒçš„æ„å»ºå·¥å…·å¯ä»¥ç”¨äºåˆ›å»º Monorepo é£æ ¼çš„é¡¹ç›®ï¼Œè§é¡¹ç›® -&gt; awesome-monorepoã€‚è¿™é‡Œè®©æˆ‘ä»¬çœ‹çœ‹é€šè¿‡ Nx åˆ›å»ºçš„ Monorepo é£æ ¼çš„é¡¹ç›®æ˜¯æ€ä¹ˆæ ·çš„ï¼š Nx create project medium ä¸Šæœ‰ç¯‡æ–‡ç« ç®€è¿°äº† 11 ç§ä¸åŒ Monorepo æ„å»ºå·¥å…·çš„ç‰¹ç‚¹ï¼š11 Great Tools for a Monorepo in 2021 ä¸€å›¾çœ‹ Monorepo å’Œ Multirepo çš„åŒºåˆ«è¿™é‡Œæˆ‘ä»¬ç”¨ä¸€å¼ å›¾æ¥çœ‹ä¸‹ä½¿ç”¨ Git ç®¡ç†å¤šä¸ª package æ—¶ï¼ŒMonorepo å’Œ Multirepoï¼ˆPolyrepoï¼‰ çš„åŒºåˆ«ï¼š Monorepo &amp; Multirepo(Polyrepo) Donâ€™t say so much. å°±è¿™æ ·äº†ğŸ¤¨ğŸ•Šï¸ï¼Œåˆæ°´äº†ä¸€ç¯‡æ–‡ç« ã€‚","categories":[{"name":"Architecture","slug":"Architecture","permalink":"https://yeshan333.github.io/categories/Architecture/"}],"tags":[{"name":"é¡¹ç›®ç®¡ç†","slug":"é¡¹ç›®ç®¡ç†","permalink":"https://yeshan333.github.io/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"},{"name":"Monorepo","slug":"Monorepo","permalink":"https://yeshan333.github.io/tags/Monorepo/"}]},{"title":"Windows Insiders WSLg Linux GUI App æ”¯æŒå°é²œ","slug":"enjoy-wslg","date":"2021-04-25T18:59:48.000Z","updated":"2021-04-25T18:59:48.000Z","comments":true,"path":"2021/04/25/enjoy-wslg/","permalink":"https://yeshan333.github.io/2021/04/25/enjoy-wslg/","excerpt":"2021 å¹´ 4 æœˆ 21 æ—¥ï¼Œå¾®è½¯åœ¨ Developer Blogs å‘å¸ƒäº† Windows é¢„è§ˆç‰ˆ WSLï¼ˆWindows Linux å­ç³»ç»Ÿï¼‰ å¯¹ Linux GUI App çš„æ”¯æŒçš„å…¬å‘ŠğŸ”—ï¼Œç¢°å·§ğŸ˜€æˆ‘æœ€è¿‘é‡è£…äº†æ³¢ç”µè„‘ï¼Œç³»ç»Ÿæ¢æˆäº† Windows Insidersï¼ˆDevï¼‰ï¼Œæ­£å¥½å¯ä»¥æ„Ÿå—æ³¢ Linux GUI App çš„æ”¯æŒã€‚btwï¼Œé¢„è§ˆç‰ˆçš„æ–‡ä»¶ç®¡ç†å™¨æ”¯æŒè®¿é—® WSL çš„æ–‡ä»¶äº†ï¼Œ6~ çš„ã€‚ Windows new icons WSL ç°åœ¨å±…ç„¶æ”¯æŒè·‘ Linux å›¾å½¢åº”ç”¨äº†ï¼ŒçœŸé¦™ï¼ˆğŸ˜ï¼Œè™½ç„¶ä¸Šä¸€å¹´ WSL çš„ Roadmap ä¸­æœ‰è¯´è¿‡è¦æ”¯æŒï¼Œä½†æˆ‘æ²¡å…³æ³¨ï¼Œè€äºŒæ‰‹çŸ¥è¯†å…šäº†ï¼‰ã€‚Quickstart -&gt;","text":"2021 å¹´ 4 æœˆ 21 æ—¥ï¼Œå¾®è½¯åœ¨ Developer Blogs å‘å¸ƒäº† Windows é¢„è§ˆç‰ˆ WSLï¼ˆWindows Linux å­ç³»ç»Ÿï¼‰ å¯¹ Linux GUI App çš„æ”¯æŒçš„å…¬å‘ŠğŸ”—ï¼Œç¢°å·§ğŸ˜€æˆ‘æœ€è¿‘é‡è£…äº†æ³¢ç”µè„‘ï¼Œç³»ç»Ÿæ¢æˆäº† Windows Insidersï¼ˆDevï¼‰ï¼Œæ­£å¥½å¯ä»¥æ„Ÿå—æ³¢ Linux GUI App çš„æ”¯æŒã€‚btwï¼Œé¢„è§ˆç‰ˆçš„æ–‡ä»¶ç®¡ç†å™¨æ”¯æŒè®¿é—® WSL çš„æ–‡ä»¶äº†ï¼Œ6~ çš„ã€‚ Windows new icons WSL ç°åœ¨å±…ç„¶æ”¯æŒè·‘ Linux å›¾å½¢åº”ç”¨äº†ï¼ŒçœŸé¦™ï¼ˆğŸ˜ï¼Œè™½ç„¶ä¸Šä¸€å¹´ WSL çš„ Roadmap ä¸­æœ‰è¯´è¿‡è¦æ”¯æŒï¼Œä½†æˆ‘æ²¡å…³æ³¨ï¼Œè€äºŒæ‰‹çŸ¥è¯†å…šäº†ï¼‰ã€‚Quickstart -&gt; WSLg çš„æ¶æ„WSLg æ˜¯æ”¯æŒ Windows è¿è¡Œ Linux å›¾å½¢åº”ç”¨çš„æ ¸å¿ƒé¡¹ç›®ï¼Œ Windows Subsystem for Linux GUI çš„ç®€å†™ï¼Œçœ‹äº†çœ¼ Git commitï¼Œ8 å¤©å‰å¼€æºçš„ï¼ŒğŸ‚ã€‚README é‡Œé¢æœ‰å¼  WSLg çš„æ¶æ„å›¾ï¼Œç•¥å¾®æ“ä½œä¸‹å¸–åˆ°è¿™é‡Œï¼š WSLg Architecture æ‰«äº†çœ¼ï¼Œåªæœ‰ RDP å’Œ X11 æœ‰ç‚¹å°è±¡ï¼Œè¿™ä¸ª Wayland åœ¨æœ€è¿‘å…³äº Ubuntu 21.04 çš„æ–°é—»æœ‰çœ‹åˆ°è¿‡ï¼Œå…·ä½“åŸç†è¿™é‡Œå°±ä¸äº†è§£äº†ï¼Œéªšå°±å®Œäº‹äº†ï¼Œå…ˆè·‘ä¸ª Linux GUI App æ„Ÿå—æ³¢ã€‚ å·²æœ‰å¾®è½¯å¤§ä½¬å¯¹ WSLg çš„æ¶æ„åšäº†è¯¦ç»†çš„ä»‹ç»ï¼Œå‚è§æ–‡ç« ï¼šWSLg Architecture Windows Insiders Dev è·‘ä¸‹ Linux GUI Appè¿™é‡Œåˆåˆ°äº†ç»å…¸çš„ç¯å¢ƒé…ç½®ç¯èŠ‚ï¼ˆå¹²å•¥å•¥ä¸è¡Œï¼Œè€è£…ç¯å¢ƒé€‰æ‰‹äº†ï¼‰ã€‚ä¸å¾—ä¸è¯´ï¼ŒWindows ç³»ç»Ÿæ¢æˆ Insiders ç‰ˆæœ¬çœŸé¦™ï¼ŒWSL å®‰è£…ä¸€å¥å‘½ä»¤å°±å®Œäº‹äº†ã€‚è™½ç„¶åˆç¢°åˆ°äº†è®¸ä¹…æœªè§åˆ°çš„ç»å…¸è“å±é—®é¢˜ï¼Œä½†è¿˜æ˜¯é˜”ä»¥æ¥å—çš„ï¼Œæˆ‘ giaoã€‚ çœ‹æ³¢ WSLg çš„ READMEï¼Œé…ä¸‹ç¯å¢ƒï¼Œæ“ä½œç³»ç»Ÿç‰ˆæœ¬è¦ 21362+ï¼Œè¿˜å¾—å¾®å¾®æ›´æ–°æ³¢ğŸ¤¨ï¼š Upgrade Windows System Sometime laterâ€¦â€¦â€¦â€¦â€¦â€¦. Windows insiders version OKï¼Œå¯ä»¥æ“ä½œäº†ï¼Œä¹‹å‰æˆ‘å·²ç»å®‰è£…è¿‡ WSLï¼Œä¸”åˆ‡æ¢åˆ°äº† v2 ç‰ˆæœ¬ï¼Œsoï¼ŒæŒ‰ç…§ README æ‰€è¯´ï¼Œåªéœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œå³å¯ã€‚ ä»¥ Administrator èº«ä»½å¯åŠ¨ Powershell æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1234# 1ã€é‡å¯ä¸‹ WSLwsl --shutdown# 2ã€Updatewsl --update WSL Update ç„¶åéšæ„è£…ä¸ª GUI App æ„Ÿå—ä¸‹ï¼Œè£…ä¸ª gedit å§ï¼š 123# Nautilus æ–‡ä»¶ç®¡ç†å™¨ï¼Œå¯åœ¨ Windows å¼€å§‹èœå•å¯åŠ¨ Linux GUI Appsudo apt install nautilus -ysudo apt install gedit -y Windows Desktop Gedit è¿˜é˜”ä»¥ï¼Œè™½ç„¶æˆ‘æ˜¯â€œå‘½ä»¤è¡Œä»”â€äº†ï¼Œä½†æ—¶ä¸æ—¶ç”¨ä¸‹ GUI App è¿˜æ˜¯é¦™çš„ã€‚","categories":[{"name":"WSL","slug":"WSL","permalink":"https://yeshan333.github.io/categories/WSL/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/tags/Linux/"},{"name":"WSL","slug":"WSL","permalink":"https://yeshan333.github.io/tags/WSL/"},{"name":"GUI","slug":"GUI","permalink":"https://yeshan333.github.io/tags/GUI/"}]},{"title":"åˆæ¢ Git Submodules","slug":"git-submodules","date":"2021-03-10T15:51:15.000Z","updated":"2021-03-10T15:51:15.000Z","comments":true,"path":"2021/03/10/git-submodules/","permalink":"https://yeshan333.github.io/2021/03/10/git-submodules/","excerpt":"ä¹‹å‰ä¸€ç›´æƒ³å°†ä¸€ä¸ª Git ä»“åº“æ”¾åˆ°å¦ä¸€ä¸ª Git ä»“åº“ï¼Œæœ‰ Maven å¤šæ¨¡å—é¡¹ç›®ï¼ˆMaven Multimodule Projectï¼‰å’Œ Gradle å¤šé¡¹ç›®æ„å»ºï¼ˆGradle Multiproject Buildï¼‰é‚£å‘³å„¿ã€‚Git è¿™ä¹ˆéªšï¼Œè‚¯å®šä¹Ÿå¯ä»¥ã€‚â€œæ‰«â€äº†å¤šä¸ªå¼€æºä»“åº“ï¼ŒGet åˆ°äº† Git submodule å¯ä»¥åšè¿™ç§æ“ä½œï¼Œæ°´ç¯‡æ–‡ç« è®°å½•æ³¢ã€‚","text":"ä¹‹å‰ä¸€ç›´æƒ³å°†ä¸€ä¸ª Git ä»“åº“æ”¾åˆ°å¦ä¸€ä¸ª Git ä»“åº“ï¼Œæœ‰ Maven å¤šæ¨¡å—é¡¹ç›®ï¼ˆMaven Multimodule Projectï¼‰å’Œ Gradle å¤šé¡¹ç›®æ„å»ºï¼ˆGradle Multiproject Buildï¼‰é‚£å‘³å„¿ã€‚Git è¿™ä¹ˆéªšï¼Œè‚¯å®šä¹Ÿå¯ä»¥ã€‚â€œæ‰«â€äº†å¤šä¸ªå¼€æºä»“åº“ï¼ŒGet åˆ°äº† Git submodule å¯ä»¥åšè¿™ç§æ“ä½œï¼Œæ°´ç¯‡æ–‡ç« è®°å½•æ³¢ã€‚ æ²¡æœ‰ä½¿ç”¨ Git Submodules ä¹‹å‰æ²¡æœ‰ä½¿ç”¨ submodule ä¹‹å‰ï¼Œå¦‚æœåœ¨ä¸€ä¸ª Git é¡¹ç›®è¿½è¸ªå¦ä¸€ä¸ª Git é¡¹ç›®ï¼Œä¼šæŠ¥ä¸€ä¸ª warningã€Œæˆ‘æ•²ï¼Œæœ‰æš—ç¤ºç”¨ submoduleï¼Œä¹‹å‰æ²¡æ³¨æ„ã€ï¼Œæ“ä½œå¦‚ä¸‹ï¼š 1234mkdir git-submodulecd git-submodulegit initgit clone https://github.com/volantis-x/hexo-theme-volantis --depth 1 æ‰§è¡Œ git add hexo-theme-volantisï¼Œä¼šå‡ºç°å¦‚ä¸‹ warningï¼ˆadding embedded git repositoryï¼‰ï¼š è¿½è¸ªæ‰§è¡Œç»“æœ ç„¶åä½¿ç”¨ git status æŸ¥çœ‹ï¼Œè™½ç„¶ git add æˆåŠŸäº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æˆåŠŸ add åˆ° hexo-theme-volantis é‡Œé¢çš„å†…å®¹ã€‚æç¤ºä¹Ÿè¯´äº†ï¼ˆwill not contain the contents of the embedded repositoryï¼‰ï¼Œæäº¤åˆ° GitHub åï¼Œæ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼Œ folder æˆ³ä¹Ÿæˆ³ä¸å¼€ã€‚ push to GitHub å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼Œå¹¶ä¸èƒ½ä¿è¯ å­ç›®å½•&#x2F;æ–‡ä»¶ çš„å®Œæ•´æ€§ã€‚å°±æˆ‘ä¹‹å‰å¦‚æœæƒ³åœ¨ä¸€ä¸ª Git é¡¹ç›®ä¿ç•™å¦ä¸€ä¸ª Git é¡¹ç›®ï¼Œé‚£ä¹ˆæˆ‘åªèƒ½å°†ä¸€ä¸ªé¡¹ç›®çš„ Git ç‰ˆæœ¬åº“å»æ‰ï¼Œä»åç»­çš„ä½¿ç”¨æ„Ÿå—æ¥çœ‹ï¼Œæ­¤åæˆ‘è¿½è¸ªå¦ä¸€ä¸ªé¡¹ç›®çš„æ›´æ–°ä¼šæœ‰ç‚¹éº»çƒ¦ã€‚ä» yeshan333&#x2F;actions-for-hexo-blog é¡¹ç›®çš„å¯¹ volantis é¡¹ç›®è¿½è¸ªçš„å†å²commit@3ce9316 å¯ä»¥çœ‹å¾—å‡ºæ¥ Git Submodules çš„ä½œç”¨æ˜¯æ—¶å€™è¯¥è§è¯† submodule çš„ä½œç”¨äº†ï¼Œä»å®˜æ–¹æ–‡æ¡£å¯ä»¥çœ‹åˆ°ï¼Œå®ƒå¯ä»¥è§£å†³ä¹‹å‰ä¸Šé¢æåˆ°çš„ä¸€äº›é—®é¢˜ã€‚ç•¥å¾®æ¦‚æ‹¬ä¸‹å°±æ˜¯ï¼š Gitçš„ submodule å¯ä»¥å°†ä¸€ä¸ª Git ç‰ˆæœ¬åº“ä½œä¸ºä¸€ä¸ªå­ç›®å½•ä¿å­˜åœ¨å¦ä¸€ä¸ª Git ç‰ˆæœ¬åº“ä¸­ï¼Œå¹¶å¯ä»¥ä¿ç•™ä¸¤ä¸ªç‰ˆæœ¬åº“ä¹‹é—´ commit çš„åˆ†ç¦»ï¼Œä¿æŒçˆ¶é¡¹ç›®å’Œå­é¡¹ç›®ç›¸äº’ç‹¬ç«‹ï¼Œå®ç°æ›´ä¸ºç²¾ç¡®çš„ç‰ˆæœ¬æ§åˆ¶ã€‚ Git Submodules çš„æœ¬è´¨æ‹¿ actions-for-hexo-blog é¡¹ç›®æ¥å®è·µæ„Ÿå—ä¸‹ submoduleã€‚æ“ä½œå¦‚ä¸‹ï¼š 12git clone git@github.com:yeshan333/actions-for-hexo-blog.git &amp;&amp; cd actions-for-hexo-bloggit submodule add git@github.com:volantis-x/hexo-theme-volantis.git themes/volantis æ‰§è¡Œä¸Šè¿°å‘½ä»¤ä¹‹åï¼Œä¼šçœ‹åˆ°å½“å‰é¡¹ç›®ä¸‹ç”Ÿæˆäº†ä¸ª .gitmodules æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123[submodule &quot;themes/volantis&quot;] path = themes/volantis url = git@github.com:volantis-x/hexo-theme-volantis.git åŒæ—¶ï¼Œ.git/config æ–‡ä»¶ä¹Ÿä¼šè¢«è¿½åŠ å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š 123[submodule &quot;themes/volantis&quot;] url = git@github.com:volantis-x/hexo-theme-volantis.git active = true å†çœ‹çœ‹ theme/volantis ç›®å½•ï¼Œå‘ç°è¯¥é¡¹ç›®çš„ Git ç‰ˆæœ¬åº“ä¸è§äº†ï¼Œä¹‹å‰æåˆ° git submodule å¯ä»¥ä¿ç•™ä¸¤ä¸ªç‰ˆæœ¬åº“ä¹‹é—´ commit çš„åˆ†ç¦»ï¼Œé‚£ä¹ˆé¡¹ç›® volantis çš„ç‰ˆæœ¬åº“æ”¾å“ªäº†ï¼Ÿæ‘¸ç´¢ä¸‹å½“å‰é¡¹ç›®çš„ç‰ˆæœ¬åº“å¯ä»¥çœ‹åˆ°è¢«æ”¾åœ¨äº† .git/modules/themes/volantis ä¸‹ã€‚å°è¯•æäº¤åˆ° GitHub çœ‹çœ‹ã€‚ GitHub æäº¤ç»“æœ emmâ€¦â€¦ï¼Œæ”¶å·¥ï¼Œç›®å½•åæ˜¾ç¤ºå¤šä¸ª commit å¼•ç”¨ï¼Œå¯ä»¥è¿›è¡Œè·³è½¬ã€‚ æ›´å¤šæ“ä½œ ä¸ submodule ç±»ä¼¼çš„ subtreeï¼šGit Submodules vs Git Subtrees å­æ¨¡å—æ›´æ–°ï¼šgit submodule update submodule æœ€ä½³å®è·µ 12345# å­æ¨¡å—åˆ é™¤- åˆ é™¤.gitsubmoduleæ–‡ä»¶ä¸­å­æ¨¡å—çš„ç›¸å…³å­—æ®µï¼›- åˆ é™¤.git/configæ–‡ä»¶ä¸­å­æ¨¡å—çš„ç›¸å…³å­—æ®µï¼›- åˆ é™¤æ¨¡å—ç›®å½•ï¼š- git rm --cached &lt;submodule-path&gt;","categories":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/tags/Git/"}]},{"title":"ä½¿ç”¨ rsync-deploy-action åŒæ­¥ Hexo åšå®¢åˆ°ä¸ªäººæœåŠ¡å™¨","slug":"hexo-blog-synchronization-with-rsync","date":"2021-01-19T20:02:51.000Z","updated":"2021-01-19T20:02:51.000Z","comments":true,"path":"2021/01/19/hexo-blog-synchronization-with-rsync/","permalink":"https://yeshan333.github.io/2021/01/19/hexo-blog-synchronization-with-rsync/","excerpt":"å‰å‡ å¤©å†™äº†ä¸ªåŸºäº rsync è¿›è¡Œæ–‡ä»¶åŒæ­¥çš„ Action -&gt; rsync-deploy-actionã€‚ç›®çš„æœ‰ä¸‰ä¸ªï¼š 1ã€æ·±å…¥äº†è§£æ³¢ GitHub Actionsï¼Œæ„Ÿå—ä¸‹ GitHub çš„æ–‡æ¡£ï¼› 2ã€ä¸ªäººåšå®¢åœ¨æˆ‘çš„è…¾è®¯äº‘ CVM æœåŠ¡å™¨ä¸Šæ˜¯éƒ¨ç½²æœ‰ä¸€ä»½çš„ã€ŒåŸŸåï¼šshan333.cnã€ï¼Œä¹‹å‰çš„åšå®¢åŒæ­¥æ–¹å¼æ˜¯é€šè¿‡ Linux çš„å®šæ—¶ä»»åŠ¡ï¼Œè§‰å¾—ä¸å¤ªè¡Œï¼Œå½“å‰åšå®¢çš„æ›´æ–°å¹¶æ²¡æœ‰é‚£ä¹ˆé¢‘ç¹ï¼Œæ²¡å¿…è¦æ¯éš”å‡ ä¸ªå°æ—¶å°± git pull ä¸€ä¸‹ï¼Œä¸”æœåŠ¡å™¨è¿˜æŒ‚ç€å…¶ä»–ä¸œè¥¿ï¼Œæ€§èƒ½è¿˜æ˜¯æœ‰ç‚¹æŸè€—çš„ï¼Œæ¢æˆé€šè¿‡ rsync è¿›è¡Œä¸»åŠ¨æ¨é€çš„æ–¹å¼å¥½ç‚¹ï¼› 3ã€ç†Ÿæ‚‰æ³¢ SSH åè®®å’Œ rsync åè®®ã€‚ ä»Šå¤©æ’¸ä¸€ç¯‡æ–‡ç« ç®€å•è®°å½•ä¸‹è¿™æ¬¡æŠ˜è…¾ã€‚","text":"å‰å‡ å¤©å†™äº†ä¸ªåŸºäº rsync è¿›è¡Œæ–‡ä»¶åŒæ­¥çš„ Action -&gt; rsync-deploy-actionã€‚ç›®çš„æœ‰ä¸‰ä¸ªï¼š 1ã€æ·±å…¥äº†è§£æ³¢ GitHub Actionsï¼Œæ„Ÿå—ä¸‹ GitHub çš„æ–‡æ¡£ï¼› 2ã€ä¸ªäººåšå®¢åœ¨æˆ‘çš„è…¾è®¯äº‘ CVM æœåŠ¡å™¨ä¸Šæ˜¯éƒ¨ç½²æœ‰ä¸€ä»½çš„ã€ŒåŸŸåï¼šshan333.cnã€ï¼Œä¹‹å‰çš„åšå®¢åŒæ­¥æ–¹å¼æ˜¯é€šè¿‡ Linux çš„å®šæ—¶ä»»åŠ¡ï¼Œè§‰å¾—ä¸å¤ªè¡Œï¼Œå½“å‰åšå®¢çš„æ›´æ–°å¹¶æ²¡æœ‰é‚£ä¹ˆé¢‘ç¹ï¼Œæ²¡å¿…è¦æ¯éš”å‡ ä¸ªå°æ—¶å°± git pull ä¸€ä¸‹ï¼Œä¸”æœåŠ¡å™¨è¿˜æŒ‚ç€å…¶ä»–ä¸œè¥¿ï¼Œæ€§èƒ½è¿˜æ˜¯æœ‰ç‚¹æŸè€—çš„ï¼Œæ¢æˆé€šè¿‡ rsync è¿›è¡Œä¸»åŠ¨æ¨é€çš„æ–¹å¼å¥½ç‚¹ï¼› 3ã€ç†Ÿæ‚‰æ³¢ SSH åè®®å’Œ rsync åè®®ã€‚ ä»Šå¤©æ’¸ä¸€ç¯‡æ–‡ç« ç®€å•è®°å½•ä¸‹è¿™æ¬¡æŠ˜è…¾ã€‚ rsync-deploy-action çš„åˆ›å»ºæŒ‘ rsync åè®®ï¼Œä¸æŒ‘ FTP æˆ– scp çš„æ–°å»º GitHub Actions çš„éƒ¨åˆ†åŸå› æ˜¯ rsync å¯ä»¥åšå¢é‡å¤‡ä»½ã€‚GitHub Action æœ‰ä¸‰ç§ç±»åˆ«ï¼Œå³ Docker containerã€JavaScript å’Œ Composite run stepsã€‚è¿™æ¬¡æ‰‹æ’¸çš„ Action å½’å±äº GitHub å®˜æ–¹æ–‡æ¡£ä»‹ç»çš„ Docker container actionã€‚rsync-deploy-action å·²ç»å‘å¸ƒåˆ° GitHub çš„ Marketplaceã€‚æºä»“åº“åœ°å€ï¼šhttps://github.com/yeshan333/rsync-deploy-actionã€‚ rsync ä¸å…¶ä»–æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼ˆå¦‚ FTP æˆ– scpï¼‰ä¸åŒï¼Œrsync çš„æœ€å¤§ç‰¹ç‚¹æ˜¯ä¼šæ£€æŸ¥å‘é€æ–¹å’Œæ¥æ”¶æ–¹å·²æœ‰çš„æ–‡ä»¶ï¼Œä»…ä¼ è¾“æœ‰å˜åŠ¨çš„éƒ¨åˆ†ï¼ˆé»˜è®¤è§„åˆ™æ˜¯æ–‡ä»¶å¤§å°æˆ–ä¿®æ”¹æ—¶é—´æœ‰å˜åŠ¨ï¼‰ã€‚ rsync-deploy-action åŸºäº SSH åè®®è¿›è¡Œæ–‡ä»¶çš„è¿œç¨‹åŒæ­¥ï¼Œä»å…ƒæ•°æ®æ–‡ä»¶ action.yml å¯ä»¥çœ‹åˆ°ï¼ŒAction æ”¯æŒ 8 ä¸ªå‚æ•°ã€Œ6ä¸ªå¿…é€‰ï¼Œ2ä¸ªå¯é€‰ã€ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950name: &#x27;rsync-deploy-action&#x27;description: &#x27;Synchronize files to the remote server using the SSH private key&#x27;inputs: ssh_login_username: description: &#x27;SSH login username&#x27; required: true remote_server_ip: description: &#x27;remote server ip&#x27; required: true ssh_port: description: &#x27;remote server SSH port&#x27; required: true default: &quot;22&quot; ssh_private_key: description: &#x27;login user SSH private key&#x27; required: true source_path: description: &#x27;The source storage path of the synchronous files&#x27; required: true destination_path: description: &#x27;The destination storage path of the synchronous files&#x27; required: true ssh_args: description: &#x27;SSH args&#x27; required: false rsync_args: description: &#x27;rsync args&#x27; required: falseoutputs: start_time: description: &#x27;Start time of synchronization&#x27; end_time: # id of output description: &#x27;End time of synchronization&#x27;runs: using: &#x27;docker&#x27; image: &#x27;Dockerfile&#x27; args: - $&#123;&#123; inputs.ssh_login_username &#125;&#125; - $&#123;&#123; inputs.remote_server_ip &#125;&#125; - $&#123;&#123; inputs.ssh_port &#125;&#125; - $&#123;&#123; inputs.ssh_private_key &#125;&#125; - $&#123;&#123; inputs.source_path &#125;&#125; - $&#123;&#123; inputs.destination_path &#125;&#125; - $&#123;&#123; inputs.ssh_args &#125;&#125; - $&#123;&#123; inputs.rsync_args &#125;&#125;branding: icon: &#x27;file&#x27; color: &#x27;green&#x27; åˆ©ç”¨ rsync-deploy-action çš„ Dockerfile æ–‡ä»¶é…åˆ Action æ‰§è¡Œæ—¥å¿—å¯ä»¥ä¸€çª¥ GitHub Actions èƒŒåæ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚ Action çš„ with å‚æ•°çš„ä¼ é€’åœ¨ä¸€å®šç¨‹åº¦ä¸Šåˆ©ç”¨äº† Dockerfile çš„ ENTRYPOINTã€‚ 12345678910111213141516# Container image that runs your codeFROM alpine:latestRUN apk update \\ &amp;&amp; apk upgrade \\ &amp;&amp; apk add --no-cache \\ rsync \\ openssh-client# Copies your code file from your action repository to the filesystem path `/` of the containerCOPY entrypoint.sh /entrypoint.shRUN chmod +x /entrypoint.sh# Code file to execute when the docker container starts up (`entrypoint.sh`)ENTRYPOINT [&quot;/entrypoint.sh&quot;] æ¥ä¸‹æ¥ä»‹ç»ä¸‹åˆ©ç”¨ rsync-deploy-action è¿›è¡Œ Hexo åšå®¢åŒæ­¥åˆ°ä¸ªäººè…¾è®¯äº‘ CVM æœåŠ¡å™¨çš„è¿‡ç¨‹ã€‚ Hexo åšå®¢åŒæ­¥åˆ°äº‘æœåŠ¡å™¨ç”±äº rsync æ˜¯åŸºäº SSH åè®®çš„ï¼Œrsync-deploy-action éœ€è¦ä½¿ç”¨åˆ° SSH ç§é’¥ï¼Œæ‰€ä»¥éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªå¯ä»¥è¿›è¡Œ SSH è¿œç¨‹ç™»å½•çš„ç”¨æˆ·ï¼Œä¸å»ºè®®ç›´æ¥ä½¿ç”¨ root ç”¨æˆ·ã€‚ SSH å¯†é’¥ç™»å½•1ã€å…ˆé…ç½®å¥½è¿œç¨‹è…¾è®¯äº‘ CVM æœåŠ¡å™¨ SSH å…è®¸å¯†é’¥ç™»å½•ã€‚ç¼–è¾‘ SSH é…ç½®æ–‡ä»¶ &#x2F;etc&#x2F;ssh&#x2F;sshd_configã€‚ 1vim /etc/ssh/sshd_config StrictModes yes æ”¹æˆ StrictModes no ï¼ˆå»æ‰æ³¨é‡Šåæ”¹æˆ noï¼‰ æ‰¾åˆ° #PubkeyAuthentication yes æ”¹æˆ PubkeyAuthentication yes ï¼ˆå»æ‰æ³¨é‡Šï¼‰ æ‰¾åˆ° #AuthorizedKeysFile .ssh&#x2F;authorized_keys æ”¹æˆ AuthorizedKeysFile .ssh&#x2F;authorized_keys ï¼ˆå»æ‰æ³¨é‡Šï¼‰ ä¿å­˜åï¼Œé‡å¯ sshdã€‚ 1systemctl restart sshd 2ã€æ–°å»ºç”¨æˆ· githubï¼Œç”¨äºè¿œç¨‹ SSH å…å¯†ç™»å½•ã€‚ åœ¨è¿œç¨‹æœåŠ¡å™¨æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 12345# root ç”¨æˆ·ä¸‹åˆ›å»ºç”¨æˆ· github å¹¶ä¸”æŒ‡å®š HOME ç›®å½•useradd -d /home/github github# ä¹Ÿå¯ä»¥ä½¿ç”¨ adduser githubï¼Œadduserä¼šè‡ªåŠ¨åˆ›å»º HOME ç›®å½•ç­‰# è®¾ç½® github ç”¨æˆ·å¯†ç ï¼Œç”¨äºåç»­ SSH ç™»å½•å…¬é’¥çš„ä¸Šä¼ passwd github 3ã€åœ¨æœ¬åœ° PC æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºç”¨äºç™»å½•çš„å¯†é’¥å¯¹ã€‚ 123456# ç”Ÿæˆå¯†é’¥å¯¹ssh-keygen -t rsa -b 4096 -C &quot;1329441308@qq.com&quot;# å°†ç”Ÿæˆçš„å…¬é’¥ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ï¼Œserver_ip ä¸ºæœåŠ¡å™¨ IP åœ°å€ï¼Œssh_port ä¸º SSH ç«¯å£å·cat ~/.ssh/id_rsa.pub | ssh github@server_ip -p ssh_port &quot;mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys&quot;# ssh å¯†é’¥ç™»å½•æµ‹è¯•ï¼Œserver_ip ä¸ºæœåŠ¡å™¨ IP åœ°å€ï¼Œssh_port ä¸º SSH ç«¯å£å·ssh -p ssh_port -i ~/.ssh/id_rsa github@server_ip ä»¥ä¸Šæ“ä½œå®Œæˆæ²¡é—®é¢˜ä¹‹åï¼Œå³å¯ä½¿ç”¨ rsync-deploy-action äº†ï¼Œåé¢ä»¥ä¸ªäºº Hexo åšå®¢çš„åŒæ­¥ä¸ºä¾‹å­ï¼Œç®€å•çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨æ­¤ Actionã€‚ Hexo åšå®¢åŒæ­¥ä¸ªäºº Hexo åšå®¢ä¹‹å‰å·²ç»é…ç½®è¿‡ GitHub Action çš„ workflows è¿›è¡Œåšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€Œåšå®¢æºä»“åº“ï¼šyeshan333&#x2F;actions-for-hexo-blogã€ï¼Œæ‰€ä»¥å†æ·»åŠ ä¸ª step ç»™ rsync-deploy-action å³å¯å¯ç”¨åšå®¢åŒæ­¥ã€‚step å£°æ˜å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233name: Site CIon: pull_request: branches: [master] push: branches: [master]jobs: build: runs-on: ubuntu-latest steps: ...... - name: Release to GitHub Pages run: | git config --global user.email &quot;1329441308@qq.com&quot; git config --global user.name &quot;yeshan333&quot; git clone git@github.com:yeshan333/yeshan333.github.io.git .deploy_git chmod 755 -R .deploy_git hexo clean hexo generate hexo deploy - name: Push to tencentyun CVM uses: yeshan333/rsync-deploy-action@v1.0.0 with: ssh_login_username: $&#123;&#123; secrets.SSH_LOGIN_USERNAME &#125;&#125; remote_server_ip: $&#123;&#123; secrets.REMOTE_SERVER_IP &#125;&#125; ssh_port: $&#123;&#123; secrets.SSH_PORT &#125;&#125; ssh_private_key: $&#123;&#123; secrets.SSH_PRIVATE_KEY &#125;&#125; source_path: ./.deploy_git/* destination_path: ~/shan333.cn rsync_args: --exclude=&quot;./.deploy_git/.git/*&quot; workflow ä¸­åä¸º Push to tencentyun CVM çš„ step ä¼šå°† .deploy_git ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ã€Œå­˜æ”¾åˆ° ~&#x2F;shan333.cn ç›®å½•ä¸‹ã€ï¼Œç†Ÿæ‚‰ Hexo çš„æœ‹å‹åº”è¯¥çŸ¥é“ hexo deploy ç”Ÿæˆçš„æ–‡ä»¶ä¼šæ”¾åœ¨ .deploy_git ç›®å½•ä¸‹ï¼Œè¿™é‡Œç”¨åˆ°äº† Hexo çš„ä¸€ä¸ª Plugin -&gt; hexo-deployer-gitã€‚å…¶å®ä¹Ÿå¯ä»¥å°† hexo generate ç”Ÿæˆçš„ public ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŒæ­¥åˆ°äº‘æœåŠ¡å™¨ã€‚ rsync-deploy-action ä½¿ç”¨åˆ°çš„å‚æ•°è§£é‡Šã€Œæœ‰éƒ¨åˆ†æ•°æ®ä¹Ÿç®—æ˜¯éšç§æ•°æ®ï¼Œè¿™é‡Œæ„æ€ä¸‹ç”¨äº† GitHub çš„ repository secretsã€ï¼š ssh_login_usernameï¼šå¯ä»¥è¿›è¡Œ SSH å¯†é’¥ç™»å½•çš„ç”¨æˆ·åï¼Œå³ä¹‹å‰é…ç½®å¥½çš„ github ç”¨æˆ·ã€‚ remote_server_ipï¼šäº‘æœåŠ¡å™¨ IP ssh_private_keyï¼šSSH ç™»å½•ç”¨æˆ·çš„ç§é’¥ï¼Œå³ä¹‹å‰çš„ ~&#x2F;.ssh&#x2F;id_rsa æ–‡ä»¶çš„å†…å®¹ source_pathï¼šåšå®¢ç›¸å…³æ‰€æœ‰æ–‡ä»¶è·¯å¾„ destination_pathï¼šåŒæ­¥åˆ°äº‘æœåŠ¡å™¨çš„ç›®æ ‡è·¯å¾„~/shan333.cnï¼Œå³/home/github/shan333.cn rsync_argsï¼šaction çš„å¯é€‰å‚æ•°ï¼Œ.git ç›®å½•æ˜¯æ²¡å¿…è¦åŒæ­¥ä¸Šä¼ çš„ï¼Œæ’é™¤æ‰ â€œå¤§åŠŸå‘Šæˆâ€ã€‚rsync åè®®çš„æ›´å¤šä»‹ç»å¯å‚è€ƒï¼šWangDoc.com rsyncã€‚ Moreä¸ªäººçš„è…¾è®¯äº‘ CVM æœåŠ¡å™¨ä¹‹å‰ä¸ºäº†æ–¹ä¾¿ç»´æŠ¤å®‰è£…äº†ä¸ªè¿ç»´é¢æ¿BT.CNï¼ŒHexo åšå®¢æ˜¯ç”¨è¿‡ Nginx Serving çš„ï¼Œä½† Nginx æ˜¯é€šè¿‡è¿ç»´é¢æ¿å®‰è£…çš„ï¼Œé»˜è®¤çš„ user ä¸º wwwã€Œå®å¡”å¯¹ Nginx çš„é…ç½®æ–‡ä»¶è¿›è¡Œäº†æ‹†åˆ†ã€ï¼Œä½†åŒæ­¥åçš„åšå®¢æ˜¯æ”¾åœ¨ github ç”¨æˆ·çš„ HOME ç›®å½•ä¸‹çš„ shan333.cn ç›®å½•ä¸­çš„ï¼Œwww æ— æƒé™æ‰§è¡Œåšå®¢çš„ç›¸å…³æ–‡ä»¶ï¼ˆ403 Forbiddenï¼‰ï¼Œæ‰€ä»¥éœ€è¦æ“ä½œæ³¢ç»™ www ç”¨æˆ·å¯æ‰§è¡Œæƒé™ï¼Œè®© Nginx Worker å¯ä»¥ serving åšå®¢ï¼š 1234# root ç”¨æˆ·ä¸‹æ‰§è¡Œï¼Œgithub ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ 755 æƒé™chmod -R 755 /home/github# å°† www ç”¨æˆ·æ·»åŠ åˆ° github user groupusermod www -G -a github å‚è€ƒ GitHub Actions-Creating actions GitHub Actions-Workflow syntax SSH å¯†é’¥ç™»å½•-ç½‘é“æ–‡æ¡£ nginx-split-large-configuration-file Dockerfile ENTRYPOINT","categories":[{"name":"DevOps","slug":"DevOps","permalink":"https://yeshan333.github.io/categories/DevOps/"}],"tags":[{"name":"Github Actions","slug":"Github-Actions","permalink":"https://yeshan333.github.io/tags/Github-Actions/"},{"name":"DevOps","slug":"DevOps","permalink":"https://yeshan333.github.io/tags/DevOps/"},{"name":"Nginx","slug":"Nginx","permalink":"https://yeshan333.github.io/tags/Nginx/"}]},{"title":"å…³æ³¨æ€è€ƒçš„è¿‡ç¨‹ï¼Œç»ˆå°†æ›´åŠ å“è¶Š | 2020 å¹´æ€»ç»“","slug":"2020-annual-reviewed","date":"2021-01-06T16:29:08.000Z","updated":"2021-01-06T16:29:08.000Z","comments":true,"path":"2021/01/06/2020-annual-reviewed/","permalink":"https://yeshan333.github.io/2021/01/06/2020-annual-reviewed/","excerpt":"","text":"å¼€ç¯‡ç¢è¯­2020 å¹´æœ«å’Œ 2021 å¹´åˆåœ¨æ˜é‡‘ç¤¾åŒºå’Œ Twitter çœ‹äº†è¯¸å¤šå¤§ä½¬çš„ 2020 å¹´æ€»ç»“ã€Œé¡ºä¾¿è†œæ‹œ dalao çš„åŒæ—¶å­¦ä¹ æ³¢æ–‡æ³•ğŸ˜€ï¼Œæ–¹ä¾¿å†™è‡ªå·±çš„å¹´åº¦æ€»ç»“ã€ã€‚ 2020 å¹´ 12 æœˆ 08 æ—¥ï¼Œæˆ‘åœ¨ QQ ç©ºé—´å‘å¸ƒäº†ç¯‡â€œé¢„æ€»ç»“â€ï¼Œç‰¹åœ°ç«‹äº†ä¸ª flag ğŸš©ã€2020å¹´æœ€åä¸€å‘¨æˆ–è€… 2021 å¹´ç¬¬ä¸€å‘¨æŠŠå¹´åº¦æ€»ç»“å†™å‡ºæ¥ã€ï¼Œé˜²æ­¢è‡ªå·±â€œèµ–è´¦â€ğŸ˜‚ã€‚æ¯•ç«Ÿ 2019 å¹´éƒ½å†™äº†ä»½æ€»ç»“äº†ï¼Œ2020 å¹´çš„ä¸èƒ½å°‘å§ï¼ä»é‚£æ—¶å€™å¼€å§‹ï¼Œå°±åœ¨ç£¨ç£¨å”§å”§çš„å‡†å¤‡ææ–™ï¼Œå†™ç¯‡æ–‡ç« ä¸å®¹æ˜“å•Š &#x2F;(ã„’oã„’)&#x2F;~~ã€‚ç¬¬äºŒæ¬¡å†™å¹´åº¦æ€»ç»“ï¼Œä»Šå¹´å†™ä»½é•¿ç‚¹çš„ã€‚ æœ€è¿‘ä½¿ç”¨äº†â€œæ¯•ç”Ÿçš„ EN åŠŸåŠ›â€å»ç¿»è¯‘ä¸€ç¯‡æ¯•è®¾ç›¸å…³çš„è®ºæ–‡ -&gt; ã€ŠMethod of fundamental solutions with regularization techniques for Cauchy problems of elliptic operatorsã€‹ï¼Œæ•²æ‰“ç€ä¸€å †çš„æ•°å­¦å…¬å¼ã€ŒLatex å’Œ plain æ··ç€ç”¨ã€ï¼Œå›é¡¾ç€è¯¸å¤šåå¾®åˆ†æ–¹ç¨‹ï¼ˆPDEï¼‰çš„çŸ¥è¯†ã€Œè£‚å¼€äº†~ã€ï¼Œç¬é—´æ„Ÿè§‰è‡ªå·±åˆæ˜¯ä¸€ä¸ªæ•°å­¦ç³»çš„å­¦ç”Ÿäº†ã€‚ è¯ä¸å¤šè¯´ï¼Œå›åˆ°æ­£é¢˜ï¼Œæ€»ç»“æ¥äº†ï¼ å›é¡¾ 2020å¯ä»¥æ³¨æ„åˆ°ï¼Œåœ¨è¿™ç¯‡å¹´åº¦æ€»ç»“çš„é¢˜ç›®ä¸­æˆ‘ç‰¹åˆ«æåˆ°äº†æ€è€ƒï¼Œä¸”è¿™ä¸€å¹´åšå®¢é¦–é¡µçš„ Banner æ¢äº†å‡ æ¬¡ Title ä¹Ÿæ˜¯å’Œâ€œæ€è€ƒè¿‡ç¨‹â€æœ‰å…³çš„ã€‚å¯ä»¥å¼•ç”³å‡ºä¸€ç‚¹ - è¿™ä¸€å¹´ï¼Œç›¸å¯¹äºç»“æœçš„äº§å‡ºï¼Œæˆ‘æ›´å…³æ³¨çš„æ˜¯è¿‡ç¨‹çš„æ”¶è·-è§£å†³é—®é¢˜è¿‡ç¨‹ä¸­çš„æ€è€ƒã€‚æ ¡æ‹›æ—¶éƒ¨åˆ†é¢è¯•çš„èƒŒä¹¦å¼å›ç­”è®©æˆ‘å¾ˆä¸çˆ½ã€Œè‡ªå·±å¤ªèœğŸ˜’ã€ï¼Œé€¼è‡ªå·±äº†è§£æŠŠæŸé¡¹æŠ€æœ¯å‡ºç°çš„å†å²ä¸åŸå› ï¼Œè¿™ç®—æ˜¯éƒ¨åˆ†åŸå› ã€‚å¦ä¸€éƒ¨åˆ†å˜›ï¼Œä»¥å‰å…¥é—¨æ—¶ä¸€æ­¥ä¸€æ­¥è·Ÿç€åˆ«äººåš demoï¼Œè·Ÿç€åˆ«äººçš„æ€è·¯èµ°ï¼ŒæŒ‰ç…§åˆ«äººçš„æ–¹æ³•è§£å†³é—®é¢˜ï¼Œç°åœ¨æ·±å—å…¶å®³åº“ğŸ˜¥ï¼Œç¼ºå°‘äº†ç‚¹â€œç‹¬ç«‹æ€è€ƒâ€ï¼Œå¤ªä¸çˆ½äº†ã€‚Soï¼Œ2020 å¹´å…³æ³¨äº†ä¸‹è§£å†³é—®é¢˜çš„æ€è€ƒè¿‡ç¨‹ï¼Œæ–¹æ¡ˆå¦‚ä½•é«˜æ•ˆé«˜è´¨äº§å‡ºã€‚ å­¦ä¹  - æˆé•¿è°ˆåˆ°å­¦ä¹ ï¼Œè¿™ä¸€å¹´çœ‹å¾—ä¹¦ä¸ç®—å¤šï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜æŒºç¡¬æ ¸ã€‚æˆ‘æ±²å–çŸ¥è¯†çš„æ–¹å¼ä¸ä»…æœ‰è¯»ä¹¦ &amp; æ–‡æ¡£ &amp; åšå®¢ï¼Œè¿˜ä¼šçœ‹ä¸€äº› dalao åœ¨æå®¢æ—¶é—´å¼€çš„æŠ€æœ¯ä¸“æ ï¼Œç•¥å¾®çœ‹ä¸‹æˆ‘çš„æå®¢æ—¶é—´ 2020 å¹´ç»ˆæŠ¥å‘Šï¼š æå®¢æ—¶é—´ 2020 å¹´ç»ˆæŠ¥å‘Š â€œæœ‰ä¸€å¤©è‚å¾—å¤ªæ™šäº†ï¼Œä¸å¾—ï¼Œä»¥åå¥½å¥½æ‘¸é±¼å‘€ï¼Œå•Š sirã€‚â€ è·Ÿç€è€—å­å”è®¤è¯†äº†è¿™ä¸ªå¹³å°ï¼Œå‰äº†å¥½å‡ æ¬¡æ‰‹ 2333~ï¼Œä¸è¿‡åˆ°ç°åœ¨çœ‹æ¥å¹¶ä¸äºï¼Œç›¸å¯¹äºè§†é¢‘å­¦ä¹ ï¼Œä¸ªäººè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢è¿™ç§æ–‡å­—å½¢å¼çš„å­¦ä¹ çš„ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åå¤ç¢ç£¨ï¼Œé€šè¿‡è¿™ä¸ªå¹³å°è¿˜äº†è§£åˆ°äº†è®¸å¤šå„ä¸ªé¢†åŸŸçš„ dalaoã€‚ Podcastä»ä¸Šä¸€å¹´ï¼ˆ2019ï¼‰ GET åˆ°çš„æ’­å®¢ã€Œæ•è›‡è€…è¯´ã€æ±²å–çŸ¥è¯†çš„å§¿åŠ¿ 2020 å¹´ä»ç„¶ä¿æŒç€ï¼Œå¯¹ä¸ªäººæ¥è¯´åˆæ–°é¢–ã€åˆæœ‰è¶£ï¼Œå¯ä»¥å¬åˆ° dalao çš„å£°éŸ³ã€å°å£° bbï¼Œæ ¡æ‹›é¢è¯•æ€»æ„Ÿè§‰æœ‰ä¸ªé¢è¯•å®˜å£°éŸ³åœ¨å“ªé‡Œå¬è¿‡ğŸ¤£ã€ã€‚ Readingè¿™ä¸€å¹´çœ‹å¾—ä¹¦è¿˜çœŸçš„ä¸ç®—å¤šï¼Œç•¥å¾®ç½—åˆ—ä¸‹ï¼š åœ¨è¯»ï¼Œæœ‰éƒ¨åˆ†å·®ä¸å¤šè¯»å®Œäº† ã€ŠReact è®¾è®¡æ¨¡å¼ä¸æœ€ä½³å®è·µã€‹ ã€Šè®¡ç®—æœºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ã€‹ ã€Šç½‘ç»œæ˜¯æ€æ ·è¿æ¥çš„ã€‹ ã€ŠPython äº‘åŸç”Ÿï¼šæ„å»ºåº”å¯¹æµ·é‡ç”¨æˆ·æ•°æ®çš„é«˜å¯æ‰©å±• Web åº”ç”¨ã€‹ ã€Šç°ä»£æ“ä½œç³»ç»Ÿ åŸä¹¦ç¬¬å››ç‰ˆã€‹ ã€Šäº‘åŸç”Ÿ Javaã€‹ ã€ŠCloud Native Go æ„å»ºåŸºäº Go å’Œ React çš„äº‘åŸç”Ÿ Web åº”ç”¨ä¸å¾®æœåŠ¡ã€‹ ã€ŠKubernetes Handbookã€‹ ã€ŠTypeScript Deep Diveã€‹ ã€Šå¤§å‹ç½‘ç«™æŠ€æœ¯æ¶æ„ï¼šæ ¸å¿ƒåŸç†ä¸æ¡ˆä¾‹åˆ†æã€‹ ã€ŠNginx é«˜æ€§èƒ½ä¸ Web æœåŠ¡å™¨è¯¦è§£ã€‹ ä»Šå¹´å‡†å¤‡äº†è§£ä¸‹ ã€ŠGo è¯­è¨€è®¾è®¡ä¸å®ç°ã€‹ ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…» - é“¾æ¥ã€è£…è½½ä¸åº“ã€‹ â€¦â€¦ è¿™ä¸€å¹´ï¼Œæˆ‘å…³æ³¨äº†è®¸å¤š CS åŸºç¡€ç›¸å…³ã€Œæ·±çŸ¥ä¸ CS ä¸“ä¸šçš„ dalao çš„å·®è·è¿˜æ˜¯å¾ˆå¤§çš„ã€çš„ä¹¦ç±ï¼Œä¸ºäº†æ ¡æ‹›é¢è¯•ï¼Œæ›´ä¸ºäº†ä»¥åæ›´å¥½çš„å‘å±•ã€‚ä»Šå¹´çœ‹çš„ä¹¦æœ‰éƒ¨åˆ†æ˜¯å’Œ Jimmy Song dalao ç›¸å…³çš„ï¼Œä¹Ÿå› è¿™ä½ dalao å…³æ³¨ä¸Šäº† Cloud Nativeã€‚æ„Ÿå¹ä¸‹ã€ŠGo è¯­è¨€è®¾è®¡ä¸å®ç°ã€‹ä½œè€…æ·±åšçš„åŠŸåº•ï¼Œ2021 å¹´æƒ³å†æ·±å…¥äº†è§£æ³¢ç¼–è¯‘åŸç†ã€‚ Codingåˆ°äº†ï¼ŒCoding ç›¸å…³çš„ï¼Œä¸å¾—ä¸æ GitHubï¼Œä½œä¸ºâ€œèµ„æ·± GitHub æ‰“å¡æ··å­â€ï¼Œé™¤äº† Gitee ä¸Šä¸ºäº†æ„Ÿå—ä¸‹ DevOps åšçš„ AI ç›¸å…³çš„å…¥é—¨çº§é¡¹ç›®çš„ä»£ç ï¼Œä»Šå¹´å†™çš„å¤§éƒ¨åˆ†ä»£ç éƒ½ä»¥æ”¾åˆ°äº† GitHub ä¸ªäººå…¬æœ‰ä»“æˆ–è€…ç§æœ‰ä»“ä¸Šã€‚çœ‹çœ‹æˆ‘çš„ GitHub å¹´åº¦æŠ¥å‘Šï¼Œå¯ä»¥å¤§è‡´äº†è§£ä¸‹æˆ‘çš„ Coding æƒ…å†µï¼š 2020 GitHub annual report å†çœ‹çœ‹å°ç»¿ç‚¹ï¼Œè¿™ä¸€å¹´è¿‡å¾—è¿˜ç®—â€œå……å®â€ã€‚ GitHub Card è¯¸å¤šçš„ç¬¬ä¸€æ¬¡2020 å¹´ï¼Œæœ‰ç€è¯¸å¤šå¯¹äºæˆ‘æ¥è¯´ç‰¹åˆ«æœ‰æ„ä¹‰çš„ç¬¬ä¸€æ¬¡ï¼Œè®¤è¯†äº†è®¸å¤šçš„æœ‹å‹ã€dalaoã€‚ ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººçš„è¿œé€”2020 å¹´çš„ 21 å±Šæš‘å‡å®ä¹ æ˜¥æ‹›ï¼Œæˆ‘æœ€ç»ˆæ¥äº†ä¸€å®¶æ­å·äº’è”ç½‘å¤§å‚çš„ offerï¼Œå¤§è€è¿œçš„ä»æ¡‚æ—è·‘å»æ­å·å®ä¹ ã€‚è¿™è¿˜æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººè·‘è¿™ä¹ˆè¿œï¼Œå¤§å­¦å…¥å­¦æ—¶è¿˜æœ‰çˆ¶æ¯é™ªåŒï¼Œè¿™çœŸçš„æ˜¯ç¬¬ä¸€æ¬¡è·‘åˆ°æ­å·è¿™ä¹ˆè¿œçš„åœ°æ–¹ã€‚å“ªä¸ªå‚ï¼Ÿçœ‹ä¸‹å›¾ğŸ˜€ã€Œå­¦é™¢ç¤¾å›¢ï¼Œç’å¤©è¿‡æµ·ï¼Œå˜¿å˜¿å˜¿~(^_^)ï¼Œå¯¹ä¸ä½-å¯¹ä¸ä½ã€ï¼š HangZhou Netease é¡ºå¸¦ä¸€æï¼Œç¬¬ä¸€æ¬¡ç™½å¤©åâ€œç°æœºâ€ï¼Œè§è¯†äº†ä¸‹ç¥–å›½çš„å¤§å¥½æ²³å±±ã€Œä¸œå—ä¸˜é™µã€æ±Ÿæµ™å¹³åŸã€ã€‚ ç¬¬ä¸€æ¬¡å®ä¹ è¯´èµ·å®ä¹ ï¼Œè¿™è¿˜æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å®ä¹ ã€Œâ€œæ‰“å·¥ä»”â€ã€ï¼Œä¸åƒæœ‰äº›å¤§ä½¬ä»å¤§ä¸€å°±å¼€å§‹æœ‰å®ä¹ æœºä¼šäº†ã€‚ä¸‰ä¸ªæœˆçš„å®ä¹ æœŸéƒ½åœ¨â€œæ··â€ä¸€ä¸ªå¹³å°çš„å¼€å‘ï¼Œå¤ä¹ å·©å›º &amp; å­¦ä¹ äº†æŒºå¤šçš„å‰ç«¯ã€æœåŠ¡ç«¯ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³çš„æŠ€æœ¯ï¼Œè¿™é‡Œæœ‰ Cloud Native ç›¸å…³æŠ€æœ¯çš„è½åœ°ï¼Œåœ¨è¿™é‡Œç—›å¿«çš„ç©äº†å‡ ä¸‹ Kubernetes å’Œ DevOps å…ƒç´ å‘¨æœŸè¡¨é‡Œé¢çš„ä¸œè¥¿ï¼Œçœ‹äº†æ³¢â€œä¼ è¯´â€ä¸­çš„ PingCAP dalao çš„åˆ†äº«ã€‚åœ¨è¿™é‡Œè¦éå¸¸æ„Ÿè°¢æˆ‘çš„ mentor ç»™äº†æˆ‘å¾ˆå¤šæœºä¼šè®©æˆ‘å®è·µæˆ‘çš„æƒ³æ³•ï¼Œå°†ç›¸å…³æŠ€æœ¯ã€è§„èŒƒèå…¥åˆ°å¹³å°çš„å¼€å‘ä¸­æ¥ã€‚ä¸å¾—ä¸æçš„æ˜¯-æˆ‘æ‰€åœ¨çš„éƒ¨é—¨å½’å±äº Netease çš„ä¸€ä¸ª AI Labï¼Œå¾ˆå¹¸è¿èƒ½å¤Ÿäº†è§£åˆ°å‰æ²¿ RL ç›¸å…³æŠ€æœ¯çš„è½åœ°å®è·µï¼Œå…·ä½“å°±ä¸å±•å¼€æ¸¯äº†ã€‚ åœ¨æ­å·å®ä¹ è®¤è¯†äº†å‡ ä¸ªæ¥è‡ªæ­¦å¤§ã€æµ™å¤§ã€åŒ—å¤§ã€ç”µå­ç§‘å¤§ã€HongKong çš„æœ‹å‹ &amp; ç­–åˆ’dalaoã€åŠ¨æ•ˆdalaoã€ç¾æœ¯dalaoï¼Œæœ‰åŒå‚çš„ä¹Ÿæœ‰ä¸åŒå‚çš„ï¼Œè¿™äº›äººçœŸçš„å¼ºï¼Œæˆ‘åäº†ï¼Œæˆ‘ä¸€ç›´æƒ³è·Ÿä»–ä»¬è¯´èƒ½ä¸èƒ½ç»™ç‚¹æœºä¼šï¼Œåˆ«åŠæ‰“æˆ‘äº†ï¼Œæ±‚æ”¾è¿‡ï¼Œç–¯ç‹‚æš—ç¤º+æ˜ç¤ºğŸ¤ªæŠ¬å‡ æ‰‹ã€‚å’Œå‡ ä¸ªå¤§ä½¬å¼€äº†å¾ˆå¤šæ¬¡å°ç¶ï¼Œæ¶¨äº†å¾ˆå¤šçŸ¥è¯†ï¼Œåªæƒ³æ„Ÿå¹ï¼šå·®è·å’‹è¿™ä¹ˆå¤§ï¼Œä¸æ¯”äº†-ä¸å¿…äº†ã€‚ ç¬¬ä¸€æ¬¡æ ¡æ‹›2020 å¹´ï¼Œç¬¬ä¸€æ¬¡å‚åŠ æ ¡æ‹›ï¼ˆ2021å±Šæ˜¥ã€ç§‹æ‹›ï¼‰ï¼Œä¹Ÿè®¸æ˜¯æœ€åä¸€æ¬¡æ ¡æ‹›äº†ï¼Œæ— è¯»ç ”æ‰“ç®—ï¼ˆâ€œèœâ€å°±ä¸€ä¸ªå­—ï¼‰ã€‚æ²¡æƒ³åˆ°æˆ‘ä¸ªèœé¸¡å±…ç„¶æœ‰æœºä¼šå¤§å‚ä¸€è½®æ¸¸ï¼ˆBATã€TMDã€èŠå‚ã€ğŸ–å‚ç­‰ï¼‰ï¼Œéå¸¸æ„Ÿè°¢æ¯ä¸ªé¢è¯•å®˜ç»™çš„æœºä¼šï¼Œè¿˜é¡ºå¸¦ç»™äº†æˆ‘éå¸¸å¤šæˆé•¿ã€æ²Ÿé€šæ–¹é¢çš„å»ºè®®ï¼Œå°è±¡æœ€æ·±åˆ»çš„å°±æ˜¯ç¾å›¢å’Œé¹…å‚çš„é¢è¯•ï¼ŒçŸ¥è¯†é¢æ‰“æ»¡äº†ï¼Œè¿˜é¡ºå¸¦é—®äº†æ•°ç†ç»Ÿè®¡ç›¸å…³çš„çŸ¥è¯†ï¼Œå¸®æˆ‘æ‰“é€šäº†ä¸‹çŸ¥è¯†ä½“ç³»ã€‚æ€»å¾—æ¥è¯´ï¼Œè¿™æ¬¡æ ¡æ‹›ä¸äºä¸äºï¼Œæ‹¿äº†å‡ ä¸ªä¸ç®—å¥½ä¹Ÿä¸ç®—å·®çš„ offerï¼Œå¯èƒ½å› ä¸ºæˆ‘å¤ªèœï¼Œæ²¡èƒ½ç•™ğŸ–å‚ï¼Œæœ€ç»ˆé€‰æ‹©äº† A å‚ï¼Œç»§ç»­åŠªåŠ›ï¼ŒæœŸå¾…ä»¥åæ›´å¥½çš„æˆé•¿ã€‚ å†æ¬¡é¡ºå¸¦ä¸€æï¼Œ20 å¹´å‡‘ï¼ˆâ€œç™½å«–â€ï¼‰äº†å‡ ä¸ªå‚çš„å°ç‰©ä»¶ã€‚ Gift ç¬¬ä¸€æ¬¡æ”¯æŒæ°å“¥çš„æ¼”å”±ä¼šä½œä¸ºæ°å“¥å°†è¿‘å…«å¹´çš„æ­Œè¿·ï¼Œä»Šå¹´å¬äº†åœºç½‘æ˜“äº‘éŸ³ä¹çš„çº¿ä¸Šæ¼”å”±ä¼šï¼Œ2333~ï¼Œç»ˆäºæ”¯æŒäº†æ³¢æ°å“¥ï¼Œå¸Œæœ› 2021 å¹´æœ‰æœºä¼šçº¿ä¸‹å¬ä¸€åœºæ°å“¥çš„å·¡å›æ¼”å”±ä¼šã€‚ WE LIVE ç”Ÿæ—¥æ¼”å”±ä¼š ç¬¬ä¸€æ¬¡æŠŠè‡ªå·±çš„ç¬”è®°æœ¬â€œå¹²æ‰äº†â€2020 å¹´ï¼Œå®‰å¥ˆä¸ä½å¿ƒä¸­çš„â€œå†²åŠ¨â€ï¼ŒæŠŠè‡ªå·±çš„æ¸£æ¸£ç¬”è®°æœ¬ç”µè„‘â€œè§£å‰–â€äº†ï¼Œã€Œç‰¹åˆ«æƒ³æ¢ä¸€ä¸‹ï¼Œå¥ˆä½•æ²¡èµ„æœ¬ï¼Œè·‘ä¸ª IDEA çœŸè´¹åŠ²ï¼Œç­‰æˆ‘å…¥èŒç¬¬ä¸€ä¸ªæœˆ salary åˆ°æ‰‹ï¼Œåæ‰‹â€œå± â€äº†å®ƒã€ã€‚ ä¸ªäººç¬”è®°æœ¬é…ç½® å±•æœ› 2021ä¸€æ³¢æ“ä½œæ°´ä¸‹æ¥ï¼Œå‘ç° 2020 å¹´è¿‡å¾—è¿˜å‡‘åˆã€‚2021 å¹´å¸Œæœ›æ´»å¾—æ›´ç²¾å½©ã€æ›´å¿«ä¹ã€‚ä¸€æ³¢é¢è¯•å’Œå®ä¹ ä¸‹æ¥ï¼Œå‘ç°è‡ªå·±å„æ–¹é¢çš„èƒ½åŠ›è¿˜æ˜¯ä¸è¡Œå•Šï¼Œå¸Œæœ›ä»Šå¹´èƒ½å­¦å¥½å†°å±±ä¸Šå±‚çš„åŒæ—¶å¥½å¥½æå‡ä¸‹å†°å±±ä¸‹å±‚çš„èƒ½åŠ›ã€‚ ç½‘å›¾-å†°å±±æ¨¡å‹ 2020 å¹´çš„å¼€æºæŠ€æœ¯ç¤¾åŒºå‚ä¸ç¨‹åº¦è¿˜æ˜¯ä¸è¡Œï¼Œ2021 å¹´ç»§ç»­åŠªåŠ›ã€‚2020 å¹´æœ«ï¼Œæœ‰å¹¸å—èµµè€å¸ˆé‚€è¯·ç»™ä¸Š Linux è¯¾çš„å­¦å¼Ÿå­¦å¦¹åšäº†æ¬¡ Linux ç›¸å…³çš„åˆ†äº«ï¼Œç‰¹åœ°å›é¡¾äº†ä¸‹ä¹‹å‰å­¦åˆ°çš„ä¸œè¥¿ï¼Œå¤ªå¤šçº°æ¼ï¼ˆâ€œè™½ç„¶æˆ‘åœ¨å¹æ°´ï¼Œè€Œä¸”æˆ‘ä¹Ÿæ²¡è®²å¤šå°‘ Linuxï¼Œå¯¹ä¸ä½ï¼Œå“ˆå“ˆå“ˆï¼Œè¿˜ç™½å«–äº†ä¸ªå°ç±³æ‰‹ç¯~å“ˆå“ˆå“ˆï¼â€ï¼‰ã€‚Slides ã€ŒTipï¼šä¸‹å›¾å¯ä»¥æ‹¨åŠ¨å“¦(^_^)ã€ 2021 å¹´ï¼ŒåšæŒè¾“å‡ºï¼Œå¸Œæœ›ä¸ªäººåšå®¢æ›´æœ‰å‘³é“ï¼Œä¸åªæ˜¯æŠ€æœ¯æ–‡ç« ï¼Œèƒ½æœ‰ç‚¹ç”Ÿæ´»å‘³å„¿~ï¼ 2019 å¹´æ€»ç»“","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"2021 Happy New Year","slug":"2021-new-year","date":"2021-01-01T00:00:00.000Z","updated":"2021-01-01T00:00:00.000Z","comments":true,"path":"2021/01/01/2021-new-year/","permalink":"https://yeshan333.github.io/2021/01/01/2021-new-year/","excerpt":"","text":"","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"ç®€å•è€ä¸€ä¸‹-Kafka","slug":"è€ä¸€ä¸‹Kafka","date":"2020-12-13T20:30:14.000Z","updated":"2020-12-13T20:30:14.000Z","comments":true,"path":"2020/12/13/è€ä¸€ä¸‹Kafka/","permalink":"https://yeshan333.github.io/2020/12/13/%E8%80%8D%E4%B8%80%E4%B8%8BKafka/","excerpt":"è¶ç€æ¯•è®¾åˆæœŸï¼Œè¿˜èƒ½æ‘¸ä¼šå„¿ğŸŸï¼Œäº†è§£æ³¢ Kafkaã€‚ Kafka æœ¯è¯­ä¸€è§ˆ Kafkaï¼Œåˆ†å¸ƒå¼æ¶ˆæ¯å¼•æ“ç³»ç»Ÿï¼Œä¸»è¦åŠŸèƒ½æ˜¯æä¾›ä¸€å¥—å®Œå¤‡çš„æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…è§£å†³æ–¹æ¡ˆã€‚Kafka ä¹Ÿæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ã€åˆ†åŒºçš„ã€å¤šå‰¯æœ¬çš„å¤šè®¢é˜…è€…ï¼ŒåŸºäº Zookeeper åè°ƒçš„åˆ†å¸ƒå¼æ—¥å¿—ç³»ç»Ÿï¼Œå¯ç”¨äºå¤„ç† Web æ—¥å¿—å’Œæ¶ˆæ¯æœåŠ¡ã€‚ Topicï¼šä¸»é¢˜ï¼Œæ‰¿è½½æ¶ˆæ¯ï¼ˆRecordï¼‰çš„é€»è¾‘å®¹å™¨ï¼Œæ¯æ¡å‘å¸ƒåˆ° Kafka é›†ç¾¤çš„æ¶ˆæ¯éƒ½å½’å±äºæŸä¸€ä¸ª Topicï¼Œå®é™…åº”ç”¨ä¸­ï¼Œä¸åŒçš„ topic å¯¹åº”ç€ä¸åŒçš„ä¸šåŠ¡ï¼› Brokerï¼šKafka æœåŠ¡è¿›ç¨‹ï¼Œä¸€ä¸ª Kafka é›†ç¾¤ç”±å¤šä¸ª Broker æœåŠ¡è¿›ç¨‹ç»„æˆï¼Œè™½ç„¶å¤šä¸ª Broker å¯åœ¨åŒä¸€æœåŠ¡å™¨ä¸Šè¿›è¡Œéƒ¨ç½²ï¼Œä½†ä¸ºäº†é«˜å¯ç”¨ï¼Œä¼šå°†ä¸åŒçš„ Broker éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼› Partitionï¼šåˆ†åŒºï¼Œä¸€ç»„æœ‰åºçš„æ¶ˆæ¯åºåˆ—ï¼Œä¸€ä¸ª Topic å¯ä»¥æœ‰å¤šä¸ªåˆ†åŒºï¼ŒåŒä¸€ Topic ä¸‹çš„ Partition å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ Broker ä¸­ã€‚Producer ç”Ÿäº§çš„æ¯ä¸€æ¡æ¶ˆæ¯éƒ½ä¼šè¢«æ”¾åˆ°ä¸€ä¸ª Partition ä¸­ï¼Œæ¯æ¡æ¶ˆæ¯åœ¨ Partition ä¸­çš„ä½ç½®ä¿¡æ¯ç”±ä¸€ä¸ª Offsetï¼ˆåç§»é‡ï¼‰æ•°æ®è¡¨å¾ã€‚Kafka é€šè¿‡åç§»é‡ï¼ˆOffsetï¼‰æ¥ä¿è¯æ¶ˆæ¯åœ¨åˆ†åŒºå†…çš„é¡ºåºæ€§ï¼›","text":"è¶ç€æ¯•è®¾åˆæœŸï¼Œè¿˜èƒ½æ‘¸ä¼šå„¿ğŸŸï¼Œäº†è§£æ³¢ Kafkaã€‚ Kafka æœ¯è¯­ä¸€è§ˆ Kafkaï¼Œåˆ†å¸ƒå¼æ¶ˆæ¯å¼•æ“ç³»ç»Ÿï¼Œä¸»è¦åŠŸèƒ½æ˜¯æä¾›ä¸€å¥—å®Œå¤‡çš„æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…è§£å†³æ–¹æ¡ˆã€‚Kafka ä¹Ÿæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ã€åˆ†åŒºçš„ã€å¤šå‰¯æœ¬çš„å¤šè®¢é˜…è€…ï¼ŒåŸºäº Zookeeper åè°ƒçš„åˆ†å¸ƒå¼æ—¥å¿—ç³»ç»Ÿï¼Œå¯ç”¨äºå¤„ç† Web æ—¥å¿—å’Œæ¶ˆæ¯æœåŠ¡ã€‚ Topicï¼šä¸»é¢˜ï¼Œæ‰¿è½½æ¶ˆæ¯ï¼ˆRecordï¼‰çš„é€»è¾‘å®¹å™¨ï¼Œæ¯æ¡å‘å¸ƒåˆ° Kafka é›†ç¾¤çš„æ¶ˆæ¯éƒ½å½’å±äºæŸä¸€ä¸ª Topicï¼Œå®é™…åº”ç”¨ä¸­ï¼Œä¸åŒçš„ topic å¯¹åº”ç€ä¸åŒçš„ä¸šåŠ¡ï¼› Brokerï¼šKafka æœåŠ¡è¿›ç¨‹ï¼Œä¸€ä¸ª Kafka é›†ç¾¤ç”±å¤šä¸ª Broker æœåŠ¡è¿›ç¨‹ç»„æˆï¼Œè™½ç„¶å¤šä¸ª Broker å¯åœ¨åŒä¸€æœåŠ¡å™¨ä¸Šè¿›è¡Œéƒ¨ç½²ï¼Œä½†ä¸ºäº†é«˜å¯ç”¨ï¼Œä¼šå°†ä¸åŒçš„ Broker éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼› Partitionï¼šåˆ†åŒºï¼Œä¸€ç»„æœ‰åºçš„æ¶ˆæ¯åºåˆ—ï¼Œä¸€ä¸ª Topic å¯ä»¥æœ‰å¤šä¸ªåˆ†åŒºï¼ŒåŒä¸€ Topic ä¸‹çš„ Partition å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ Broker ä¸­ã€‚Producer ç”Ÿäº§çš„æ¯ä¸€æ¡æ¶ˆæ¯éƒ½ä¼šè¢«æ”¾åˆ°ä¸€ä¸ª Partition ä¸­ï¼Œæ¯æ¡æ¶ˆæ¯åœ¨ Partition ä¸­çš„ä½ç½®ä¿¡æ¯ç”±ä¸€ä¸ª Offsetï¼ˆåç§»é‡ï¼‰æ•°æ®è¡¨å¾ã€‚Kafka é€šè¿‡åç§»é‡ï¼ˆOffsetï¼‰æ¥ä¿è¯æ¶ˆæ¯åœ¨åˆ†åŒºå†…çš„é¡ºåºæ€§ï¼› Leaderï¼šæ¯ä¸ª Partition ä¸‹å¯ä»¥é…ç½®å¤šä¸ª Replicaï¼ˆå‰¯æœ¬ï¼‰ï¼ŒReplica ç”±ä¸€ä¸ª Leader å’Œå¤šä¸ª Follower ç»„æˆï¼ŒLeader è´Ÿè´£å½“å‰ Partition æ¶ˆæ¯çš„è¯»å†™ï¼› Followerï¼šç”¨äºåŒæ­¥ Leader ä¸­çš„æ•°æ®ï¼Œæ•°æ®å†—ä½™ï¼ŒLeader å¤±æ•ˆæ—¶ä¼šä» Followers ä¸­é€‰å–ï¼› Producerï¼šç”Ÿäº§è€…å³æ•°æ®çš„å‘å¸ƒè€…ã€‚Producer å°†æ¶ˆæ¯å‘é€ç»™ Kafka å¯¹åº”çš„ Topic ä¸­ï¼ŒBroker æ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œä¼šå°†æ¶ˆæ¯å­˜å‚¨åˆ° Partition ä¸­ï¼› Consumerï¼šæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹å¤šä¸ª Topic ä¸­çš„æ¶ˆæ¯ï¼Œä¸€ä¸ª Topic ä¸­çš„æ¶ˆæ¯ä¹Ÿå¯ä»¥è¢«å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼› Consumer Groupï¼šæ¶ˆè´¹è€…ç»„ï¼Œæ¯ä¸€ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šå½’å±äºæŸä¸€ä¸ªæ¶ˆè´¹è€…ç»„ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œåˆ™å–é»˜è®¤çš„ Groupï¼› Consumer Offsetï¼šæ¶ˆè´¹è€…ä½ç§»ï¼Œç”¨äºè¡¨ç¤ºæ¶ˆè´¹è€…çš„æ¶ˆè´¹è¿›åº¦ï¼› ä¸ Kafka ç›¸å…³çš„å‡ ä¸ªé—®é¢˜ï¼š Kafka å®ç°é«˜å¯ç”¨çš„æ‰‹æ®µKafka å®ç°ä¼¸ç¼©æ€§çš„æ‰‹æ®µZookeeperåœ¨Kafkaä¸­çš„ä½œç”¨Kafkaå¦‚ä½•å®ç°æ¶ˆæ¯çš„æœ‰åº Broker åˆ†å¸ƒå¼éƒ¨ç½² å¤‡ä»½æœºåˆ¶ï¼ˆReplacationï¼‰ï¼ŒæŠŠç›¸åŒçš„æ•°æ®æ‹·è´åˆ°å¤šå°æœºå™¨ä¸Šã€‚å³ Kafka Replicaï¼ŒLeader Replica æä¾›æ•°æ®çš„è¯»å†™æ“ä½œï¼ŒFollower Replica è´Ÿè´£åŒæ­¥æ•°æ®ã€‚ Partition æœºåˆ¶ï¼Œä¸€ä¸ª Topic åˆ’åˆ†ä¸ºå¤šä¸ª Partitionï¼Œé˜²æ­¢å•å° Broker æœºå™¨æ— æ³•å®¹çº³å¤ªå¤šçš„æ•°æ®ï¼ŒPartition æœºåˆ¶ä¸ Replica æœºåˆ¶è”ç³»ç´§å¯†ï¼Œæ¯ä¸ª Partition å¯ä»¥æœ‰å¤šä¸ª Replicaï¼ˆ1 Leader + N Followersï¼‰ã€‚ Zookeeper å¯ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿæä¾›åˆ†å¸ƒå¼é…ç½®æœåŠ¡ã€åŒæ­¥æœåŠ¡å’Œå‘½åæ³¨å†ŒæœåŠ¡ã€‚ Broker æ³¨å†Œï¼› Topic æ³¨å†Œï¼ŒPartition ä¸ Broker ä¿¡æ¯çš„ä¿å­˜ï¼› è´Ÿè½½å‡è¡¡æœæœåŠ¡ï¼ŒProducer ä¸ Consumer çš„è´Ÿè½½å‡è¡¡ï¼› åˆ†åŒºä¸æ¶ˆè´¹è€…å…³ç³»çš„ç®¡ç†ï¼› â€¦ç­‰ æºç è§£è¯´zookeeperåœ¨kafkaä¸­çš„ä½œç”¨ ä»å‰æ–‡å¯çŸ¥ï¼ŒKafka çš„æ¶ˆæ¯å­˜å‚¨åœ¨ Topic ä¸­ï¼Œä¸€ä¸ª Topic åˆå¯ä»¥åˆ’åˆ†ä¸ºå¤šä¸ª Partitionï¼Œå¤š Partition æ—¶ï¼ŒKafka åªèƒ½ä¿è¯ Partition å†…çš„æ¶ˆæ¯æœ‰åºï¼ˆOffsetä¿è¯æœ‰åºï¼‰ï¼Œå¦‚éœ€ä¿è¯ Topic æ¶ˆæ¯çš„æœ‰åºï¼Œé‚£ä¹ˆåªèƒ½ä½¿ç”¨å•ä¸ªPartitionäº†ã€‚å¦‚æœä»è¦ä½¿ç”¨å¤šä¸ª Partitionï¼Œæ¶ˆæ¯çš„åˆ†åŒºå†™å…¥ç­–ç•¥åº”é€‰æ‹©æŒ‰é”®ï¼ˆKeyï¼‰ä¿å­˜ã€‚ è¯¦ç»†è§£ækafkaä¹‹kafkaåˆ†åŒºå’Œå‰¯æœ¬ é€šè¿‡ Go ä½“éªŒä¸€ä¸‹ Kafkaç¯å¢ƒæ­å»ºæ—¢ç„¶åªæ˜¯ç©ä¸€ä¸‹ï¼Œä¸å¦‚ä½¿ç”¨ Docker æ­å»º Kafka ç¯å¢ƒå§ï¼Œâ€œå³ç”¨å³ç„šâ€ã€‚ ç¯å¢ƒï¼šWindows 10 Docker Desktop + WSL è¿™é‡Œé€šè¿‡ Docker-Compose æ­å»ºä¸ªå•æœºç‰ˆçš„ kafka é›†ç¾¤ï¼Œç¼–æ’æ–‡ä»¶å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536version: &#x27;3.4&#x27;services: zoo1: container_name: zookeeper-one image: zookeeper:3.4.9 hostname: zoo1 ports: - &quot;2181:2181&quot; environment: ZOO_MY_ID: 1 ZOO_PORT: 2181 ZOO_SERVERS: server.1=zoo1:2888:3888 volumes: - ./zk-single-kafka-single/zoo1/data:/data - ./zk-single-kafka-single/zoo1/datalog:/datalog kafka1: container_name: kafka-one image: confluentinc/cp-kafka:5.3.1 hostname: kafka1 ports: - &quot;9092:9092&quot; environment: KAFKA_ADVERTISED_LISTENERS: LISTENER_DOCKER_INTERNAL://kafka1:19092,LISTENER_DOCKER_EXTERNAL://$&#123;DOCKER_HOST_IP:-127.0.0.1&#125;:9092 KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: LISTENER_DOCKER_INTERNAL:PLAINTEXT,LISTENER_DOCKER_EXTERNAL:PLAINTEXT KAFKA_INTER_BROKER_LISTENER_NAME: LISTENER_DOCKER_INTERNAL KAFKA_ZOOKEEPER_CONNECT: &quot;zoo1:2181&quot; KAFKA_BROKER_ID: 1 KAFKA_LOG4J_LOGGERS: &quot;kafka.controller=INFO,kafka.producer.async.DefaultEventHandler=INFO,state.change.logger=INFO&quot; KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1 volumes: - ./zk-single-kafka-single/kafka1/data:/var/lib/kafka/data depends_on: - zoo1 è¯¥ç¼–æ’æ–‡ä»¶æ¥è‡ªï¼šhttps://github.com/simplesteph/kafka-stack-docker-compose çš„ zk-single-kafka-single.ymlã€‚ä½¿ç”¨ docker-compose up å¯åŠ¨å®¹å™¨ã€‚ ç¼–æ’æ–‡ä»¶ä¸­æ‰€ä½¿ç”¨åˆ°çš„é•œåƒ confluentinc/cp-kafka:5.3.1 å’Œ zookeeper:3.4.9 é…ç½®å‚è€ƒï¼š https://hub.docker.com/_&#x2F;zookeeper https://hub.docker.com/r/confluentinc/cp-kafka Kafka å’Œ Zookeeper å®¹å™¨å¯åŠ¨åï¼Œé…åˆ IDEA çš„ä¸¤ä¸ªæ’ä»¶ Kafkalytic å’Œ Zoolytic ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„è§‚å¯Ÿé›†ç¾¤çš„æƒ…å†µï¼š Cluster Management é€šè¿‡ vscode æ’ä»¶æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„å¯¹å¯åŠ¨çš„å®¹å™¨è¿›è¡Œç®¡ç†ï¼ˆæ—¥å¿—è¿½è¸ªã€shell attachç­‰ï¼‰ï¼š vscode docker plugin é€šè¿‡ Kafka è‡ªå¸¦çš„å‘½ä»¤è¡Œå·¥å…·å¯ä»¥æŸ¥çœ‹ Topicï¼šï¼ˆå…ˆè¿æ¥åˆ° Kafka å®¹å™¨ï¼šdocker exec -it kafka-one bashï¼‰ 12345root@kafka1:/# kafka-topics --describe --zookeeper zoo1:2181Topic:__confluent.support.metrics PartitionCount:1 ReplicationFactor:1 Configs:retention.ms=31536000000 Topic: __confluent.support.metrics Partition: 0 Leader: 1 Replicas: 1 Isr: 1Topic:__consumer_offsets PartitionCount:50 ReplicationFactor:1 Configs:s...... ä½¿ç”¨ confluent-kafka-go ä½“éªŒ KafkaGo ä¸­æœ‰ä¸¤ä¸ªæ¯”è¾ƒæœ‰åçš„ Go Clientï¼Œå³ kafka-go å’Œ confluent-kafka-goã€‚æˆ‘éƒ½ä¸ç†Ÿæ‚‰ğŸ˜‚ï¼Œä½†æ˜¯å‰é¢ç¼–æ’æ—¶ç”¨åˆ°äº† confluent å…¬å¸çš„ Kafka é•œåƒï¼Œæ‰€ä»¥è¿™é‡Œé€‰ç”¨ confluent-kafka-go åˆ›å»º Clientã€‚confluent-kafka-go é¡¹ç›®çš„ example æ‹¿æ¥å³ç”¨ã€‚ 1ã€åˆ›å»º Go Module 1234mkdir go-kafka-democd go-kafka-demogo mod init github.com/yeshan333/go-kafka-demogo get -u github.com/confluentinc/confluent-kafka-go 2ã€åˆ›å»º Consumerã€‚è¿™ä¸ª Consumer è®¢é˜…çš„ Topic ä¸º myTopicã€‚ 1234567891011121314151617181920212223242526272829303132333435// kafka_consumer.gopackage mainimport ( &quot;fmt&quot; &quot;github.com/confluentinc/confluent-kafka-go/kafka&quot;)func main() &#123; c, err := kafka.NewConsumer(&amp;kafka.ConfigMap&#123; &quot;bootstrap.servers&quot;: &quot;localhost&quot;, &quot;group.id&quot;: &quot;myGroup&quot;, &quot;auto.offset.reset&quot;: &quot;earliest&quot;, &#125;) if err != nil &#123; panic(err) &#125; c.SubscribeTopics([]string&#123;&quot;myTopic&quot;, &quot;^aRegex.*[Tt]opic&quot;&#125;, nil) for &#123; msg, err := c.ReadMessage(-1) if err == nil &#123; fmt.Printf(&quot;Message on %s: %s\\n&quot;, msg.TopicPartition, string(msg.Value)) &#125; else &#123; // The client will automatically try to recover from all errors. fmt.Printf(&quot;Consumer error: %v (%v)\\n&quot;, err, msg) &#125; &#125; c.Close()&#125; 3ã€åˆ›å»º Producerã€‚è¿™ä¸ª Producer å‘ myTopic Topic å‘é€äº† 7 æ¡æ¶ˆæ¯ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344// kafka_producer.gopackage mainimport ( &quot;fmt&quot; &quot;github.com/confluentinc/confluent-kafka-go/kafka&quot;)func main() &#123; p, err := kafka.NewProducer(&amp;kafka.ConfigMap&#123;&quot;bootstrap.servers&quot;: &quot;localhost&quot;&#125;) if err != nil &#123; panic(err) &#125; defer p.Close() // Delivery report handler for produced messages go func() &#123; for e := range p.Events() &#123; switch ev := e.(type) &#123; case *kafka.Message: if ev.TopicPartition.Error != nil &#123; fmt.Printf(&quot;Delivery failed: %v\\n&quot;, ev.TopicPartition) &#125; else &#123; fmt.Printf(&quot;Delivered message to %v\\n&quot;, ev.TopicPartition) &#125; &#125; &#125; &#125;() // Produce messages to topic (asynchronously) topic := &quot;myTopic&quot; for _, word := range []string&#123;&quot;Welcome&quot;, &quot;to&quot;, &quot;the&quot;, &quot;Confluent&quot;, &quot;Kafka&quot;, &quot;Golang&quot;, &quot;client&quot;&#125; &#123; p.Produce(&amp;kafka.Message&#123; TopicPartition: kafka.TopicPartition&#123;Topic: &amp;topic, Partition: kafka.PartitionAny&#125;, Value: []byte(word), &#125;, nil) &#125; // Wait for message deliveries before shutting down p.Flush(15 * 1000)&#125; 4ã€ä¸¤ä¸ª terminalï¼Œå…ˆè·‘ Consumerï¼Œå†è·‘ Producerã€‚ 1234# terminal 1go run kafka_consumer.go# ternimal 2go run kafka_producer.go run result æ”¶å·¥ï¼Œå…¶ä»–ä¸œè¥¿åç»­æ…¢æ…¢å•ƒã€‚æœ¬æ–‡æºæ–‡ä»¶ï¼šhttps://github.com/yeshan333/go-kafka-demo å‚è€ƒ CONFLUENT-Kafka Go Client Apache Kafka Operations kafka-stack-docker-compose","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"https://yeshan333.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Kafka","slug":"ä¸­é—´ä»¶/Kafka","permalink":"https://yeshan333.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/Kafka/"}],"tags":[{"name":"Kafka","slug":"Kafka","permalink":"https://yeshan333.github.io/tags/Kafka/"},{"name":"æ¶ˆæ¯å¼•æ“ç³»ç»Ÿ","slug":"æ¶ˆæ¯å¼•æ“ç³»ç»Ÿ","permalink":"https://yeshan333.github.io/tags/%E6%B6%88%E6%81%AF%E5%BC%95%E6%93%8E%E7%B3%BB%E7%BB%9F/"},{"name":"æµå¤„ç†å¹³å°","slug":"æµå¤„ç†å¹³å°","permalink":"https://yeshan333.github.io/tags/%E6%B5%81%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/"}]},{"title":"ä½¿ç”¨tcpdumpå’ŒWiresharkçœ‹ä¸‹TCPæ¡æ‰‹","slug":"ä½¿ç”¨tcpdumpå’Œwiresharkçœ‹ä¸‹TCPæ¡æ‰‹","date":"2020-11-15T15:52:13.000Z","updated":"2020-11-15T15:52:13.000Z","comments":true,"path":"2020/11/15/ä½¿ç”¨tcpdumpå’Œwiresharkçœ‹ä¸‹TCPæ¡æ‰‹/","permalink":"https://yeshan333.github.io/2020/11/15/%E4%BD%BF%E7%94%A8tcpdump%E5%92%8Cwireshark%E7%9C%8B%E4%B8%8BTCP%E6%8F%A1%E6%89%8B/","excerpt":"tcpdump å’Œ Wireshark æ˜¯æœ€å¸¸ç”¨çš„ç½‘ç»œæŠ“åŒ…å’Œåˆ†æå·¥å…·ï¼Œä½œä¸ºç»å¸¸å’Œç½‘ç»œæ‰“äº¤é“çš„åˆ’æ°´é€‰æ‰‹ï¼Œæ€ä¹ˆèƒ½ä¸äº†è§£ä¸‹å‘¢ï¼Ÿè¡¥ç¯‡åšæ–‡å›é¡¾ä¸‹ç›¸å…³æ“ä½œã€‚è¿™é‡Œä»¥ example.com çš„ä¸€æ¬¡ GET è¯·æ±‚ä¸ºä¾‹ï¼Œå…ˆä½¿ç”¨ tcpdump æŠ“ä¸ªåŒ…ï¼Œå†ä½¿ç”¨ Wireshark çœ‹ä¸‹ TCP çš„æ¡æ‰‹ã€‚ æ“ä½œç¯å¢ƒï¼šWSL2(Ubuntu 20.04 LTS) + Windows 10","text":"tcpdump å’Œ Wireshark æ˜¯æœ€å¸¸ç”¨çš„ç½‘ç»œæŠ“åŒ…å’Œåˆ†æå·¥å…·ï¼Œä½œä¸ºç»å¸¸å’Œç½‘ç»œæ‰“äº¤é“çš„åˆ’æ°´é€‰æ‰‹ï¼Œæ€ä¹ˆèƒ½ä¸äº†è§£ä¸‹å‘¢ï¼Ÿè¡¥ç¯‡åšæ–‡å›é¡¾ä¸‹ç›¸å…³æ“ä½œã€‚è¿™é‡Œä»¥ example.com çš„ä¸€æ¬¡ GET è¯·æ±‚ä¸ºä¾‹ï¼Œå…ˆä½¿ç”¨ tcpdump æŠ“ä¸ªåŒ…ï¼Œå†ä½¿ç”¨ Wireshark çœ‹ä¸‹ TCP çš„æ¡æ‰‹ã€‚ æ“ä½œç¯å¢ƒï¼šWSL2(Ubuntu 20.04 LTS) + Windows 10 ç”¨ tcpdump æŠ“ä¸ªåŒ…å…ˆåœ¨ WSL2 Ubuntu å®‰è£…ä¸‹ tcpdumpã€‚ 1234# å¯åŠ¨ wslwsl# å®‰è£… tcpdumpapt-get install tcpdump æŠ“åŒ…éœ€è¦ä½¿ç”¨ä¸¤ä¸ªç»ˆç«¯ï¼Œä¸€ä¸ªç»ˆç«¯ä½¿ç”¨ curl å‘ example.com å‘é€è¯·æ±‚ï¼Œä¸€ä¸ªç”¨äº packets çš„æŠ“å–ã€‚OKï¼ŒæŠ“åŒ…å¼€å§‹ï¼š 1ã€ä¸€ä¸ªç»ˆç«¯ä½¿ç”¨ tcpdump ç›‘å¬ example.comã€‚ 12# terminal 1ï¼Œç›‘å¬ example.com çš„ç½‘ç»œåŒ…tcpdump -nn host example.com -w web.pcap 2ã€å¦ä¸€ä¸ªç»ˆç«¯ä½¿ç”¨ curl å‘é€ç½‘ç»œè¯·æ±‚ã€‚ 12# terminal 2ï¼Œå‘é€ç½‘ç»œè¯·æ±‚curl example.com è¯·æ±‚å‘é€å®Œæ¯•åï¼ŒCtrl + C ç»ˆæ­¢ç»ˆç«¯ 1 çš„ç›‘å¬ï¼Œå°†æŠ“å–ç»“æœ wep.pcap æ‹·è´åˆ° Windows 10 æ¡Œé¢ã€‚ 1mv web.pcap /mnt/c/Users/yeshan/Desktop/web.pcap æ‹¿ Wireshark çœ‹ä¸‹åŒ…ç”±äº tcpdump çš„è¾“å‡ºæ ¼å¼å¹¶ä¸ç›´è§‚ï¼Œæ‰€ä»¥ä¹‹å‰å°†æŠ“å–ç»“æœå†™å…¥åˆ° web.pcapã€‚ç„¶åè¿™é‡Œä½¿ç”¨æœ‰å›¾å½¢åŒ–ç•Œé¢çš„ Wireshark å»çœ‹ä¸‹åˆšåˆšæŠ“ä¸‹æ¥çš„ç½‘ç»œåŒ… web.pcapã€‚ ä¸‹è½½å®‰è£… Wiresharkï¼šhttps://www.wireshark.org/download.html 1ã€ä½¿ç”¨ Wireshark æ‰“å¼€ web.pcapã€‚ 2ã€ä½¿ç”¨ Wireshark çš„ç»Ÿè®¡å·¥å…·å¯ä»¥çœ‹åˆ° TCP æ¡æ‰‹çš„æµç¨‹ã€‚åˆ†æ-&gt;æµé‡å›¾ 123# ç¡®å®š example.com ip$ dig +short example.com93.184.216.34 å®Œç¾ï¼Œå¯ä»¥çœ‹åˆ°ç»å…¸çš„ TCP æ¡æ‰‹è¿‡ç¨‹ã€‚ã€ŒTCPä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹ï¼šã€ å¾ˆé¦™çš„æ˜¯ Wireshark æä¾›äº†è®¸å¤šç¤ºä¾‹ç½‘ç»œåŒ…ã€SampleCaptures ã€ï¼Œè®¡ç½‘å­¦ä¹ æ–°ä¸–ç•Œï¼Ÿ","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://yeshan333.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"Wireshark","slug":"Wireshark","permalink":"https://yeshan333.github.io/tags/Wireshark/"},{"name":"è®¡ç®—æœºç½‘è·¯","slug":"è®¡ç®—æœºç½‘è·¯","permalink":"https://yeshan333.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E8%B7%AF/"},{"name":"TCP","slug":"TCP","permalink":"https://yeshan333.github.io/tags/TCP/"},{"name":"tcpdump","slug":"tcpdump","permalink":"https://yeshan333.github.io/tags/tcpdump/"}]},{"title":"æµ…è§£shallow copyã€deep copy","slug":"æµ…è§£shallow copyã€deep copy","date":"2020-10-09T23:04:04.000Z","updated":"2020-10-09T23:04:04.000Z","comments":true,"path":"2020/10/09/æµ…è§£shallow copyã€deep copy/","permalink":"https://yeshan333.github.io/2020/10/09/%E6%B5%85%E8%A7%A3shallow%20copy%E3%80%81deep%20copy/","excerpt":"â€œå›ğŸ‘‹æâ€ã€‚æœ€è¿‘åšä¸œè¥¿ï¼Œæœ‰ç‚¹å„¿ç©ä¸è½¬å¤æ‚æ•°æ®ç±»å‹ï¼Œå†™ç¯‡åšæ–‡å†å›é¡¾ä¸‹æ·±ã€æµ…æ‹·è´ç›¸å…³çŸ¥è¯†ã€‚æ·±ã€æµ…çš„åŒºåˆ†ä¸»è¦åœ¨å¯¹å¤æ‚æ•°æ®ç±»å‹è¿›è¡Œæ“ä½œçš„æ—¶å€™ã€‚ By the wayï¼šæ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼Œåæœˆäº†ï¼Œä¹‹å‰å®šäº†ä¸ªå°ç›®æ ‡ï¼šä¸€ä¸ªæœˆè‡³å°‘ä¸€ç¯‡æ–‡ç« äº§å‡ºã€‚2020å¹´çš„ $ \\frac{5}{6} $ å·²ç»è¿‡å»ã€‚å¾ˆåº†å¹¸è‡ªå·±åšæŒäº†ä¸‹æ¥ï¼Œå­¦åˆ°äº†ä¸å°‘ä¸œè¥¿ã€‚å®ä¹ æœŸé—´å…¶å®æœ‰ä¸å°‘çš„æ–‡ç« ä¸»é¢˜çš„æƒ³æ³•ï¼Œä½†çœŸæ­£æƒ³åŠ¨æ‰‹å†™ç¯‡åšæ–‡çš„æ—¶å€™ï¼Œå‘ç°äº‹æƒ…å¹¶æ²¡æœ‰æƒ³æƒ³ä¸­çš„é‚£ä¹ˆç®€å•ï¼Œä¸€ä¸ªä¸»é¢˜æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼Œå†åŠ ä¸Šå®è·µç»éªŒçš„ä¸è¶³ï¼Œæœ‰äº›ä¸œè¥¿å¾ˆéš¾å†™é“ç‚¹ä¸Šï¼Œcopy &amp; paste æ€»æ˜¯ä¸å¤ªå¥½çš„ã€åŠªåŠ›æé«˜æ–‡ç« è´¨é‡ï¼Œhhh~ã€ã€‚å¸Œæœ›è‡ªå·±åç»­ç»§ç»­åŠ æ²¹ã€‚","text":"â€œå›ğŸ‘‹æâ€ã€‚æœ€è¿‘åšä¸œè¥¿ï¼Œæœ‰ç‚¹å„¿ç©ä¸è½¬å¤æ‚æ•°æ®ç±»å‹ï¼Œå†™ç¯‡åšæ–‡å†å›é¡¾ä¸‹æ·±ã€æµ…æ‹·è´ç›¸å…³çŸ¥è¯†ã€‚æ·±ã€æµ…çš„åŒºåˆ†ä¸»è¦åœ¨å¯¹å¤æ‚æ•°æ®ç±»å‹è¿›è¡Œæ“ä½œçš„æ—¶å€™ã€‚ By the wayï¼šæ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼Œåæœˆäº†ï¼Œä¹‹å‰å®šäº†ä¸ªå°ç›®æ ‡ï¼šä¸€ä¸ªæœˆè‡³å°‘ä¸€ç¯‡æ–‡ç« äº§å‡ºã€‚2020å¹´çš„ $ \\frac{5}{6} $ å·²ç»è¿‡å»ã€‚å¾ˆåº†å¹¸è‡ªå·±åšæŒäº†ä¸‹æ¥ï¼Œå­¦åˆ°äº†ä¸å°‘ä¸œè¥¿ã€‚å®ä¹ æœŸé—´å…¶å®æœ‰ä¸å°‘çš„æ–‡ç« ä¸»é¢˜çš„æƒ³æ³•ï¼Œä½†çœŸæ­£æƒ³åŠ¨æ‰‹å†™ç¯‡åšæ–‡çš„æ—¶å€™ï¼Œå‘ç°äº‹æƒ…å¹¶æ²¡æœ‰æƒ³æƒ³ä¸­çš„é‚£ä¹ˆç®€å•ï¼Œä¸€ä¸ªä¸»é¢˜æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼Œå†åŠ ä¸Šå®è·µç»éªŒçš„ä¸è¶³ï¼Œæœ‰äº›ä¸œè¥¿å¾ˆéš¾å†™é“ç‚¹ä¸Šï¼Œcopy &amp; paste æ€»æ˜¯ä¸å¤ªå¥½çš„ã€åŠªåŠ›æé«˜æ–‡ç« è´¨é‡ï¼Œhhh~ã€ã€‚å¸Œæœ›è‡ªå·±åç»­ç»§ç»­åŠ æ²¹ã€‚ æµ…æ‹·è´ï¼ˆshallow copyï¼‰ æµ…æ‹·è´æ€»ç»“ï¼šæ–°å¯¹è±¡å†…å®¹ä¸ºåŸå¯¹è±¡å†…ç¬¬ä¸€å±‚å¯¹è±¡çš„å¼•ç”¨ã€‚ Python ä¸­çš„æµ…æ‹·è´å…³é”®ç‚¹å°±åœ¨äºè¿™ç¬¬ä¸€å±‚å¯¹è±¡ã€‚è®©æˆ‘ä»¬å…ˆçœ‹çœ‹ Python ä¸­çš„æµ…æ‹·è´ã€‚ å…ˆçœ‹çœ‹ä¸å«åµŒå¥—å…ƒç´ çš„æƒ…å½¢ï¼š 12345678910111213141516l1 = [1, 2, 3]# ç›´æ¥èµ‹å€¼ï¼Œä½¿ç”¨ is æ¯”è¾ƒåœ°å€l2 = l1print(l1 is l2) # True# ä½¿ç”¨æ„é€ å™¨l3 = list(l1)print(l1 is l3) # False# åˆ‡ç‰‡l4 = l1[:]print(l1 is l4) # Falseprint(id(l1), id(l2), id(l3), id(l4)) # æŸ¥çœ‹å†…å­˜åœ°å€# 2124445454144 2124445454144 2124445477568 2124445029248 å«åµŒå¥—å…ƒç´ çš„æƒ…å½¢ï¼š 12345678910111213141516171819202122232425262728293031l1 = [1, [2,3], 4]# ç›´æ¥èµ‹å€¼l2 = l1# æ„é€ å™¨l3 = list(l1)# åˆ‡ç‰‡l4 = l1[:]for first, second, third, fourth in zip(l1, l2, l3, l4): # æŸ¥çœ‹æ¯å±‚å¯¹è±¡çš„åœ°å€ print(&quot;value&quot;, first, &quot;address:&quot;, id(first), id(second), id(third), id(fourth))# value 1 address: 140729744430752 140729744430752 140729744430752 140729744430752# value [2, 3] address: 1924217248768 1924217248768 1924217248768 1924217248768# value 4 address: 140729744430848 140729744430848 140729744430848 140729744430848l4[1].append(&quot;new&quot;)print(l1) # [1, [2, 3, &#x27;new&#x27;], 4]print(l2) # [1, [2, 3, &#x27;new&#x27;], 4]print(l3) # [1, [2, 3, &#x27;new&#x27;], 4]print(l4) # [1, [2, 3, &#x27;new&#x27;], 4]for first, second, third, fourth in zip(l1, l2, l3, l4): # æŸ¥çœ‹æ¯å±‚å¯¹è±¡çš„åœ°å€ print(&quot;value&quot;, first, &quot;address:&quot;, id(first), id(second), id(third), id(fourth))# value 1 address: 140729744430752 140729744430752 140729744430752 140729744430752# value [2, 3, &#x27;new&#x27;] address: 1639298767872 1639298767872 1639298767872 1639298767872# value 4 address: 140729744430848 140729744430848 140729744430848 140729744430848 ä»ä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥çœ‹åˆ°ï¼ŒPythonä¸­åˆ‡ç‰‡æ“ä½œã€å·¥å‚å‡½æ•°å’Œ=æ“ä½œå‡æ˜¯æµ…æ‹·è´ï¼Œåªæ‹·è´äº†åŸå¯¹è±¡çš„ç¬¬ä¸€å±‚å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯¹ç¬¬ä¸€å±‚å¯¹è±¡çš„æ“ä½œä¼šå½±å“åˆ°å…¶å®ƒå¯¹å…ƒå¯¹è±¡è¿›è¡Œæµ…æ‹·è´çš„å¯¹è±¡ã€‚ä½†=æ“ä½œå’Œåˆ‡ç‰‡ã€æ„é€ å™¨ï¼ˆå·¥å‚å‡½æ•°ï¼‰ä¸åŒçš„æ˜¯ï¼Œ=æ“ä½œä¸ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒPython ä¸­ tuple çš„ tuple() å’Œåˆ‡ç‰‡æ“ä½œå’Œ=è¿›è¡Œçš„æ‹·è´ä¸€æ ·ï¼Œä¸ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚å­—å…¸çš„æµ…æ‹·è´å¯ä»¥ä½¿ç”¨ dict.copy()ã€‚ JS ä¸­çš„æµ…æ‹·è´è®©æˆ‘ä»¬å†æ¥çœ‹çœ‹ JS ä¸­çš„æµ…æ‹·è´æ“ä½œã€‚ è€è§„çŸ©ï¼Œå…ˆçœ‹çœ‹ç®€å•å¯¹è±¡ï¼š 123456789101112131415161718192021let obj1 = &#123; a: 1, b: 2&#125;;// èµ‹å€¼let obj2 = obj1; // &#123; a: 1, b: 2 &#125;// Object.assignlet obj3 = Object.assign(&#123;&#125;, obj1); // &#123; a: 1, b: 2 &#125;console.log(obj3)// spreadlet obj4 = &#123;...obj1&#125;; // // &#123; a: 1, b: 2 &#125;obj2.a = &quot;new&quot;;// &#123; a: &#x27;new&#x27;, b: 2 &#125; &#123; a: &#x27;new&#x27;, b: 2 &#125; &#123; a: 1, b: 2 &#125; &#123; a: 1, b: 2 &#125;console.log(obj1, obj2, obj3, obj4) å†çœ‹ä¸‹å¤æ‚å¯¹è±¡ï¼š 1234567891011121314151617181920212223let obj1 = &#123; a: &#123; b: 1, c: 2 &#125;, d: 3&#125;;// ç›´æ¥èµ‹å€¼let obj2 = obj1; // &#123; a: &#123; b: 1, c: 2 &#125;, d: 3 &#125;// Object.assignlet obj3 = Object.assign(&#123;&#125;, obj1); // &#123; a: &#123; b: 1, c: 2 &#125;, d: 3 &#125;// Object Spreadlet obj4 = &#123;...obj1&#125;; // &#123; a: &#123; b: 1, c: 2 &#125;, d: 3 &#125;obj2.a.b = &quot;new&quot;;console.log(obj1); // &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125;console.log(obj2); // &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125;console.log(obj3); // &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125;console.log(obj4); // &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125; å¯ä»¥çœ‹åˆ°ï¼ŒJS å¯¹è±¡çš„=æ“ä½œã€Object.assign({}, originObject) å’Œå¯¹è±¡æ‰©å±•è¿ç®—å‡æ˜¯æµ…æ‹·è´ã€‚ä½†æ˜¯ Object.assignå’Œå¯¹è±¡çš„æ‰©å±•è¿ç®—å¯¹åªæœ‰ä¸€å±‚çš„å¯¹è±¡è¿›è¡Œçš„æ˜¯æ·±æ‹·è´ã€‚æ­¤å¤– JS æ•°ç»„ã€Œarray ä¹Ÿæ˜¯ objectã€çš„ mapã€reduceã€filterã€slice ç­‰æ–¹æ³•å¯¹åµŒå¥—æ•°ç»„è¿›è¡Œçš„ä¹Ÿæ˜¯æµ…æ‹·è´æ“ä½œã€‚ å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼ŒJS å’Œ Python ä¸­çš„æµ…æ‹·è´æ‹·è´çš„å‡æ˜¯ç¬¬ä¸€å±‚å¯¹è±¡çš„å¼•ç”¨ã€‚ æ·±æ‹·è´ï¼ˆdeep copyï¼‰ æ·±æ‹·è´æ€»ç»“ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶ä¸”å°†åŸå¯¹è±¡ä¸­çš„å…ƒç´ ï¼Œä»¥é€’å½’çš„æ–¹å¼ï¼Œé€šè¿‡åˆ›å»ºæ–°çš„å­å¯¹è±¡æ‹·è´åˆ°æ–°å¯¹è±¡ä¸­ã€‚æ·±æ‹·è´æ‹·è´äº†å¯¹è±¡çš„æ‰€æœ‰å…ƒç´ ï¼ŒåŒ…æ‹¬å¤šå±‚åµŒå¥—çš„å…ƒç´ ã€‚ Python ä¸­çš„æ·±æ‹·è´åœ¨ Python ä¸­å®ç°å¤æ‚å¯¹è±¡çš„æ‹·è´å¯ä»¥é€šè¿‡æ ‡å‡†åº“copy æä¾›çš„ copy.deepcopy å®ç°ï¼Œæ­¤å¤– copy æ¨¡å—è¿˜æä¾›äº† copy.copy è¿›è¡Œå¯¹è±¡çš„æµ…æ‹·è´ã€‚ çœ‹ä¸‹æ·±æ‹·è´çš„æƒ…å†µï¼š 12345678import copyl1 = [1, [2, 3], 4]l2 = copy.deepcopy(l1)l2[1].append(&quot;new&quot;)print(l1) # [1, [2, 3], 4]print(l2) # [1, [2, 3, &#x27;new&#x27;], 4] å¯ä»¥çœ‹åˆ°ï¼Œæœ‰åˆ«äºæµ…æ‹·è´ï¼Œå¯¹æ·±æ‹·è´ l1 çš„æ–°å¯¹è±¡ l2 çš„å­å…ƒç´ å¢åŠ æ–°å…ƒç´ ï¼Œå¹¶ä¸ä¼šå½±å“åˆ° l1ã€‚ JS ä¸­çš„æ·±æ‹·è´åœ¨ JS ä¸­è¿›è¡Œå¤æ‚å¯¹è±¡çš„æ·±æ‹·è´ï¼Œå¯ä»¥ä½¿ç”¨ JSON.stringify å…ˆå°† JS å¯¹è±¡è½¬æˆ JSON å†è½¬ JS å¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š 123456789101112131415let obj1 = &#123; a: &#123; b: 1, c: 2 &#125;, d: 3&#125;;let obj2 = JSON.parse(JSON.stringify(obj1));obj2.a.b = &quot;new&quot;;console.log(obj1); // &#123; a: &#123; b: 1, c: 2 &#125;, d: 3 &#125;console.log(obj2); // &#123; a: &#123; b: &#x27;new&#x27;, c: 2 &#125;, d: 3 &#125; å¯ä»¥çœ‹åˆ°ï¼Œæ·±æ‹·è´åå¯¹æ–°å¯¹è±¡æ·±å±‚æ¬¡å¯¹è±¡çš„æ›´æ”¹ä¸ä¼šä½¿åŸå¯¹è±¡å‘ç”Ÿå˜æ›´ã€‚ æ‰‹åŠ¨å®ç°æ·±æ‹·è´æ“ä½œåœ¨æŸäº›æƒ…å†µä¸‹éœ€è¦æˆ‘ä»¬å®ç°æ·±æ‹·è´æ“ä½œï¼Œæ¯”å¦‚å¯¹è‡ªå®šä¹‰æ•°æ®ç±»å‹è¿›è¡Œæ·±æ‹·è´ã€‚å‰é¢ JS æ‰€è¿°ä½¿ç”¨ JSON è¿›è¡Œçš„æ·±æ‹·è´æ–¹æ³•ä»æœ‰ç¼ºé™·ï¼Œæ¯”å¦‚ï¼šä¼šå¿½ç•¥ undefinedã€ä¼šå¿½ç•¥ symbolã€ä¸èƒ½åºåˆ—åŒ–å‡½æ•°ã€ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ã€‚è¿™æ—¶å€™å°±éœ€è¦äº†è§£æ³¢æ·±æ‹·è´çš„å®ç°äº†ã€‚ ä»å‰é¢æ‰€è¿°å¯çŸ¥ï¼Œæ·±æ‹·è´ä¸æµ…æ‹·è´çš„åŒºåˆ«ä¸»è¦åœ¨äº copy çš„å±‚æ¬¡ï¼Œæµ…æ‹·è´ copy çš„æ˜¯ç¬¬ä¸€å±‚å¯¹è±¡çš„å¼•ç”¨ï¼Œæ·±æ‹·è´éœ€è¦ copy æ·±å±‚æ¬¡å¯¹è±¡ã€‚Soï¼Œä»¥ deepcopy å±‚æ¬¡ Object ä¸ºä¾‹å­ï¼Œè¦å®ç°çœŸæ­£çš„æ·±æ‹·è´æ“ä½œåˆ™éœ€è¦é€šè¿‡éå†é”®æ¥èµ‹å€¼å¯¹åº”çš„å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å¦‚æœé‡åˆ° Object ç±»å‹è¿˜éœ€è¦å†æ¬¡è¿›è¡Œéå†ã€ŒåŒæ ·çš„æ–¹æ³•ã€ã€‚é€’å½’æ— ç–‘äº†ã€‚æ¥çœ‹æ³¢å®ç°ï¼š 1234567891011121314151617181920212223242526function deepclone(obj) &#123; let map = new WeakMap(); // è§£å†³å¾ªç¯å¼•ç”¨ function deep(data) &#123; let result = &#123;&#125;; // æ”¯æŒ Symbol ç±»å‹çš„å±æ€§ const keys = [...Object.getOwnPropertyNames(data), ...Object.getOwnPropertySymbols(data)] if (!keys.length) return data; const exist = map.get(data); if (exist) return exist; map.set(data, result); keys.forEach(key =&gt; &#123; let item = data[key]; if (typeof item === &#x27;object&#x27; &amp;&amp; item) &#123; result[key] = deep(item); &#125; else &#123; result[key] = item; &#125; &#125;) return result; &#125; return deep(obj);&#125; OKï¼Œå†çœ‹äº› Python çš„ copy.deepcopy çš„å®ç°ï¼š 1234567891011121314def deepcopy(x, memo=None, _nil=[]): &quot;&quot;&quot;Deep copy operation on arbitrary Python objects. See the module&#x27;s __doc__ string for more info. &quot;&quot;&quot; if memo is None: memo = &#123;&#125; d = id(x) # æŸ¥è¯¢è¢«æ‹·è´å¯¹è±¡xçš„id y = memo.get(d, _nil) # æŸ¥è¯¢å­—å…¸é‡Œæ˜¯å¦å·²ç»å­˜å‚¨äº†è¯¥å¯¹è±¡ if y is not _nil: return y # å¦‚æœå­—å…¸é‡Œå·²ç»å­˜å‚¨äº†å°†è¦æ‹·è´çš„å¯¹è±¡ï¼Œåˆ™ç›´æ¥è¿”å› ... emmâ€¦ï¼Œå®ç°æ€æƒ³ä¹Ÿæ˜¯ä½¿ç”¨é€’å½’ï¼ŒåŒæ—¶å€ŸåŠ©äº† memo ï¼ˆå¤‡å¿˜å½•ï¼‰è§£å†³å¯¹è±¡çš„å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œé¿å… StackOverflowã€‚ å‚è€ƒ Object Spread Initializer Python copy.deepcopy JS Symbol å…³äº JavaScript çš„æ•°æ®ç±»å‹ï¼Œä½ çŸ¥å¤šå°‘ï¼Ÿ Pythonå¯¹è±¡çš„æ¯”è¾ƒã€æ‹·è´","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://yeshan333.github.io/categories/JavaScript/"}],"tags":[{"name":"æ·±æ‹·è´ä¸æµ…æ‹·è´","slug":"æ·±æ‹·è´ä¸æµ…æ‹·è´","permalink":"https://yeshan333.github.io/tags/%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D/"}]},{"title":"è´Ÿè½½å‡è¡¡æŠ€æœ¯å°è®°","slug":"è´Ÿè½½å‡è¡¡æŠ€æœ¯å°è®°","date":"2020-09-20T18:25:06.000Z","updated":"2020-09-20T18:25:06.000Z","comments":true,"path":"2020/09/20/è´Ÿè½½å‡è¡¡æŠ€æœ¯å°è®°/","permalink":"https://yeshan333.github.io/2020/09/20/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E6%8A%80%E6%9C%AF%E5%B0%8F%E8%AE%B0/","excerpt":"OSI æ¨¡å‹ å¸¸è§ OSI æ¨¡å‹è´Ÿè½½å‡è¡¡æ–¹æ¡ˆ 2 å±‚è´Ÿè½½å‡è¡¡ï¼šä¸€èˆ¬æ˜¯ç”¨è™šæ‹Ÿ MAC åœ°å€æ–¹å¼ï¼Œå¤–éƒ¨å¯¹è™šæ‹Ÿ MAC åœ°å€è¯·æ±‚ï¼Œè´Ÿè½½å‡è¡¡å™¨æ¥æ”¶ååˆ†é…åç«¯å®é™…çš„ MAC åœ°å€å“åº”ã€‚ 3 å±‚è´Ÿè½½å‡è¡¡ï¼šä¸€èˆ¬é‡‡ç”¨è™šæ‹Ÿ IP åœ°å€æ–¹å¼ï¼Œå¤–éƒ¨å¯¹è™šæ‹Ÿçš„ IP åœ°å€è¯·æ±‚ï¼Œè´Ÿè½½å‡è¡¡å™¨æ¥æ”¶ååˆ†é…åç«¯å®é™…çš„ IP åœ°å€å“åº”ã€‚","text":"OSI æ¨¡å‹ å¸¸è§ OSI æ¨¡å‹è´Ÿè½½å‡è¡¡æ–¹æ¡ˆ 2 å±‚è´Ÿè½½å‡è¡¡ï¼šä¸€èˆ¬æ˜¯ç”¨è™šæ‹Ÿ MAC åœ°å€æ–¹å¼ï¼Œå¤–éƒ¨å¯¹è™šæ‹Ÿ MAC åœ°å€è¯·æ±‚ï¼Œè´Ÿè½½å‡è¡¡å™¨æ¥æ”¶ååˆ†é…åç«¯å®é™…çš„ MAC åœ°å€å“åº”ã€‚ 3 å±‚è´Ÿè½½å‡è¡¡ï¼šä¸€èˆ¬é‡‡ç”¨è™šæ‹Ÿ IP åœ°å€æ–¹å¼ï¼Œå¤–éƒ¨å¯¹è™šæ‹Ÿçš„ IP åœ°å€è¯·æ±‚ï¼Œè´Ÿè½½å‡è¡¡å™¨æ¥æ”¶ååˆ†é…åç«¯å®é™…çš„ IP åœ°å€å“åº”ã€‚ 4 å±‚è´Ÿè½½å‡è¡¡ï¼šåŸºäº IP + ç«¯å£çš„è´Ÿè½½å‡è¡¡æ–¹æ¡ˆï¼Œå¯¹åº”äº OSI ä¸ƒå±‚æ¨¡å‹çš„ç¬¬å››å±‚ã€‚åŸºäºä¼ è¾“å±‚çš„åº•å±‚è´Ÿè½½å‡è¡¡æ–¹æ¡ˆï¼Œå¯ä»¥å®ç° TCP è¿æ¥å±‚çš„ä¼šè¯ä¿æŒã€‚ 7 å±‚è´Ÿè½½å‡è¡¡ï¼šå³åº”ç”¨å±‚çš„è´Ÿè½½å‡è¡¡ã€‚7 å±‚çš„è´Ÿè½½å‡è¡¡æ›´åŠ é’ˆå¯¹ç‰¹å®šçš„åº”ç”¨åè®®ã€‚åŸºäº HTTP åº”ç”¨çš„è´Ÿè½½å‡è¡¡å¯ä»¥å®ç°å¯¹ URL çš„è½¬å‘åº”ç”¨ã€HTTP è¯·æ±‚çš„å¤„ç†ã€session ä¿¡æ¯ä¼šè¯ä¿æŒç­‰ç­‰ã€‚ 4 å±‚ä¸ 7 å±‚è´Ÿè½½å‡è¡¡ 4 å±‚çš„è´Ÿè½½å‡è¡¡æ›´åå‘åº•å±‚èƒ½åŠ›çš„è½¬å‘ï¼Œç›¸å¯¹äº 7 å±‚è´Ÿè½½å‡è¡¡ï¼Œè´Ÿè½½æ€§èƒ½æ›´å¥½ã€‚7 å±‚è´Ÿè½½å‡è¡¡èƒ½åšæ›´ç»†å¾®ç²’åº¦çš„è´Ÿè½½å†³ç­–ã€‚å¸¸è§è´Ÿè½½å‡è¡¡å™¨ï¼ˆLoad Balancerï¼‰ï¼šF5ï¼šç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨ï¼›LVSï¼šåŸºäºIPå±‚å’ŒåŸºäºå†…å®¹è¯·æ±‚åˆ†å‘çš„è´Ÿè½½å‡è¡¡å™¨ï¼›Nginxï¼šè½»é‡çº§è´Ÿè½½å‡è¡¡å™¨ï¼ŒTCP&#x2F;UDPã€HTTP è´Ÿè½½å‡è¡¡æ”¯æŒï¼›HAProxyï¼šæ”¯æŒ TCP&#x2F;HTTP çš„è´Ÿè½½å‡è¡¡ï¼› å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³• è½®è¯¢ï¼ˆRound Robinï¼‰ å°†å¤–éƒ¨è¯·æ±‚æŒ‰é¡ºåºè½®æµåˆ†é…åˆ°é›†ç¾¤ä¸­çš„çœŸå®æœåŠ¡å™¨ä¸Šï¼Œå®ƒå‡ç­‰åœ°å¯¹å¾…æ¯ä¸€å°æœåŠ¡å™¨ï¼Œè€Œä¸ç®¡æœåŠ¡å™¨ä¸Šå®é™…çš„è¿æ¥æ•°å’Œç³»ç»Ÿè´Ÿè½½ã€‚ åŠ æƒè½®è¯¢ï¼ˆWeighted Round Robinï¼‰ æ ¹æ®çœŸå®æœåŠ¡å™¨çš„ä¸åŒå¤„ç†èƒ½åŠ›æ¥è°ƒåº¦è®¿é—®è¯·æ±‚ã€‚è¿™æ ·å¯ä»¥ä¿è¯å¤„ç†èƒ½åŠ›å¼ºçš„æœåŠ¡å™¨å¤„ç†æ›´å¤šçš„è®¿é—®æµé‡ã€‚è‡ªåŠ¨é—®è¯¢çœŸå®æœåŠ¡å™¨çš„è´Ÿè½½æƒ…å†µï¼Œå¹¶åŠ¨æ€åœ°è°ƒæ•´å…¶æƒå€¼ã€‚ ç›®æ ‡åœ°å€æ•£åˆ—ï¼ˆDestination Hashingï¼‰ â€œç›®æ ‡åœ°å€æ•£åˆ—â€è°ƒåº¦ç®—æ³•æ ¹æ®è¯·æ±‚çš„ç›®æ ‡IPåœ°å€ï¼Œä½œä¸ºæ•£åˆ—é”®ï¼ˆHash Keyï¼‰ä»é™æ€åˆ†é…çš„æ•£åˆ—è¡¨æ‰¾å‡ºå¯¹åº”çš„æœåŠ¡å™¨ï¼Œè‹¥è¯¥æœåŠ¡å™¨æ˜¯å¯ç”¨çš„ä¸”æœªè¶…è½½ï¼Œå°†è¯·æ±‚å‘é€åˆ°è¯¥æœåŠ¡å™¨ï¼Œå¦åˆ™è¿”å›ç©ºã€‚ æºåœ°å€æ•£åˆ—ï¼ˆSource Hashingï¼‰ â€œæºåœ°å€æ•£åˆ—â€è°ƒåº¦ç®—æ³•æ ¹æ®è¯·æ±‚çš„æºIPåœ°å€ï¼Œä½œä¸ºæ•£åˆ—é”®ï¼ˆHash Keyï¼‰ä»é™æ€åˆ†é…çš„æ•£åˆ—è¡¨æ‰¾å‡ºå¯¹åº”çš„æœåŠ¡å™¨ï¼Œè‹¥è¯¥æœåŠ¡å™¨æ˜¯å¯ç”¨çš„ä¸”æœªè¶…è½½ï¼Œå°†è¯·æ±‚å‘é€åˆ°è¯¥æœåŠ¡å™¨ï¼Œå¦åˆ™è¿”å›ç©ºã€‚ æœ€å°‘é“¾æ¥ï¼ˆLeast Connectionsï¼‰ å°†è¯·æ±‚åˆ†é…åˆ°è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨ä¸Šï¼ˆç›®å‰å¤„ç†è¯·æ±‚æœ€å°‘çš„æœåŠ¡å™¨ï¼‰ã€‚æ ¹æ®æœåŠ¡å™¨å½“å‰çš„è¯·æ±‚å¤„ç†æƒ…å†µï¼ŒåŠ¨æ€åˆ†é…. åŠ æƒæœ€å°‘é“¾æ¥ï¼ˆWeighted Least Connectionsï¼‰ åœ¨é›†ç¾¤ç³»ç»Ÿä¸­çš„æœåŠ¡å™¨æ€§èƒ½å·®å¼‚è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œè´Ÿè½½å‡è¡¡å™¨é‡‡ç”¨â€åŠ æƒæœ€å°‘é“¾æ¥â€è°ƒåº¦ç®—æ³•ä¼˜åŒ–è´Ÿè½½å‡è¡¡æ€§èƒ½ï¼Œå…·æœ‰è¾ƒé«˜æƒå€¼çš„æœåŠ¡å™¨å°†æ‰¿å—è¾ƒå¤§æ¯”ä¾‹çš„æ´»åŠ¨è¿æ¥è´Ÿè½½ã€‚è´Ÿè½½å‡è¡¡å™¨å¯ä»¥è‡ªåŠ¨é—®è¯¢çœŸå®æœåŠ¡å™¨çš„è´Ÿè½½æƒ…å†µï¼Œå¹¶åŠ¨æ€åœ°è°ƒæ•´å…¶æƒå€¼ã€‚ éšæœºæ³•ã€åŠ æƒéšæœºï¼ˆRandomï¼‰ é€šè¿‡ç³»ç»Ÿéšæœºå‡½æ•°ï¼Œæ ¹æ®åå°æœåŠ¡å™¨åˆ—è¡¨çš„å¤§å°å€¼æ¥éšæœºé€‰å–å…¶ä¸­ä¸€å°è¿›è¡Œè®¿é—®ã€‚ç”±æ¦‚ç‡æ¦‚ç‡ç»Ÿè®¡ç†è®ºå¯ä»¥å¾—çŸ¥ï¼Œéšç€è°ƒç”¨é‡çš„å¢å¤§ï¼Œå…¶å®é™…æ•ˆæœè¶Šæ¥è¶Šæ¥è¿‘äºå¹³å‡åˆ†é…æµé‡åˆ°åå°çš„æ¯ä¸€å°æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯è½®è¯¢æ³•çš„æ•ˆæœã€‚ åŠ æƒéšæœºæ³•è·ŸåŠ æƒè½®è¯¢æ³•ç±»ä¼¼ï¼Œæ ¹æ®åå°æœåŠ¡å™¨ä¸åŒçš„é…ç½®å’Œè´Ÿè½½æƒ…å†µï¼Œé…ç½®ä¸åŒçš„æƒé‡ã€‚ä¸åŒçš„æ˜¯ï¼Œå®ƒæ˜¯æŒ‰ç…§æƒé‡æ¥éšæœºé€‰å–æœåŠ¡å™¨çš„ï¼Œè€Œéé¡ºåºã€‚ å‚è€ƒ What Is Layer 7 Load Balancing? å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://yeshan333.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"Load Balance","slug":"Load-Balance","permalink":"https://yeshan333.github.io/tags/Load-Balance/"}]},{"title":"setTimeout æ˜¯åˆ°äº†xx ms å°±æ‰§è¡Œå—ï¼Œäº†è§£æµè§ˆå™¨çš„ Event-Loop æœºåˆ¶","slug":"setTimeoutæ˜¯åˆ°äº†xx ms å°±æ‰§è¡Œå—ï¼Œäº†è§£ Event-Loop æœºåˆ¶","date":"2020-08-22T13:42:41.000Z","updated":"2020-08-22T13:42:41.000Z","comments":true,"path":"2020/08/22/setTimeoutæ˜¯åˆ°äº†xx ms å°±æ‰§è¡Œå—ï¼Œäº†è§£ Event-Loop æœºåˆ¶/","permalink":"https://yeshan333.github.io/2020/08/22/setTimeout%E6%98%AF%E5%88%B0%E4%BA%86xx%20ms%20%E5%B0%B1%E6%89%A7%E8%A1%8C%E5%90%97%EF%BC%8C%E4%BA%86%E8%A7%A3%20Event-Loop%20%E6%9C%BA%E5%88%B6/","excerpt":"è¦æƒ³ JavaScript ç©å¾—æºœï¼Œè¿˜å¾—äº†è§£æ³¢ JavaScript æ‰§è¡Œæœºåˆ¶&#x2F;(ã„’oã„’)&#x2F;~~ã€‚ å‰è¨€æœ€è¿‘çœ‹äº†æ³¢ JavaScript ç›¸å…³çš„æ–‡ç« ï¼Œä¸å¾—ä¸è¯´ï¼ŒJavaScript æˆ‘è¿˜çœŸæ²¡ç©æ˜ç™½ï¼ˆç»™æˆ‘å“­~ã€‚ã€‚ã€‚ğŸ˜…ï¼‰ã€‚ä¹ŸæŒºä¹…æ²¡å†™æ–‡äº†ï¼Œå®ä¹ ï¼ˆâ€œæ‘¸ğŸŸâ€ï¼‰ä¹‹ä½™å°è®°ä¸€æ³¢ã€‚ å›é¡¾ä¸€å¥è¯ï¼šJavaScript æ˜¯ä¸€é—¨å•çº¿ç¨‹ã€éé˜»å¡ã€å¼‚æ­¥ã€è§£é‡Šæ€§è„šæœ¬è¯­è¨€ã€‚ æœ¬æ–‡çš„æ ‡é¢˜æ˜¯ï¼šsetTimeout æ˜¯åˆ°äº†xx ms å°±æ‰§è¡Œå—ï¼Œäº†è§£ Event-Loop æœºåˆ¶ã€‚å…ˆå›ç­”æ³¢ï¼šä¸æ˜¯ã€‚ æ¥çœ‹ä¸‹ç½‘ä¸Šçš„ä¸€æ®µç»å…¸ js ä»£ç åœ¨æµè§ˆå™¨ä¸­ã€ŒMicrosoft Edge 84.0.522.63ï¼ˆ64ä½ï¼‰ã€çš„æ‰§è¡Œç»“æœã€‚ 12345678910console.log(&#x27;script start&#x27;);setTimeout(() =&gt; &#123; console.log(&#x27;setTimeout&#x27;);&#125;,0);Promise.resolve().then(() =&gt; &#123; console.log(&#x27;promise1&#x27;);&#125;).then(() =&gt;&#123; console.log(&quot;promise2&quot;);&#125;);console.log(&#x27;script end&#x27;);","text":"è¦æƒ³ JavaScript ç©å¾—æºœï¼Œè¿˜å¾—äº†è§£æ³¢ JavaScript æ‰§è¡Œæœºåˆ¶&#x2F;(ã„’oã„’)&#x2F;~~ã€‚ å‰è¨€æœ€è¿‘çœ‹äº†æ³¢ JavaScript ç›¸å…³çš„æ–‡ç« ï¼Œä¸å¾—ä¸è¯´ï¼ŒJavaScript æˆ‘è¿˜çœŸæ²¡ç©æ˜ç™½ï¼ˆç»™æˆ‘å“­~ã€‚ã€‚ã€‚ğŸ˜…ï¼‰ã€‚ä¹ŸæŒºä¹…æ²¡å†™æ–‡äº†ï¼Œå®ä¹ ï¼ˆâ€œæ‘¸ğŸŸâ€ï¼‰ä¹‹ä½™å°è®°ä¸€æ³¢ã€‚ å›é¡¾ä¸€å¥è¯ï¼šJavaScript æ˜¯ä¸€é—¨å•çº¿ç¨‹ã€éé˜»å¡ã€å¼‚æ­¥ã€è§£é‡Šæ€§è„šæœ¬è¯­è¨€ã€‚ æœ¬æ–‡çš„æ ‡é¢˜æ˜¯ï¼šsetTimeout æ˜¯åˆ°äº†xx ms å°±æ‰§è¡Œå—ï¼Œäº†è§£ Event-Loop æœºåˆ¶ã€‚å…ˆå›ç­”æ³¢ï¼šä¸æ˜¯ã€‚ æ¥çœ‹ä¸‹ç½‘ä¸Šçš„ä¸€æ®µç»å…¸ js ä»£ç åœ¨æµè§ˆå™¨ä¸­ã€ŒMicrosoft Edge 84.0.522.63ï¼ˆ64ä½ï¼‰ã€çš„æ‰§è¡Œç»“æœã€‚ 12345678910console.log(&#x27;script start&#x27;);setTimeout(() =&gt; &#123; console.log(&#x27;setTimeout&#x27;);&#125;,0);Promise.resolve().then(() =&gt; &#123; console.log(&#x27;promise1&#x27;);&#125;).then(() =&gt;&#123; console.log(&quot;promise2&quot;);&#125;);console.log(&#x27;script end&#x27;); å¯ä»¥æ˜æ˜¾çœ‹åˆ° setTimeout çš„ callback å¹¶éåœ¨ 0 ms åç«‹å³æ‰§è¡Œã€‚é‚£ä¹ˆï¼Œè¿™æ˜¯é—®ä»€ä¹ˆï¼Ÿè¦äº†è§£åŸå› ï¼Œéœ€è¦äº†è§£åç»­ä»‹ç»çš„ Event Loop æœºåˆ¶ã€‚ æ¦‚å¿µä¸€è§ˆ æµè§ˆå™¨çš„å†…æ ¸-å¤šçº¿ç¨‹çš„æ¸²æŸ“è¿›ç¨‹ï¼šé¡µé¢çš„æ¸²æŸ“ã€js çš„æ‰§è¡Œã€äº‹ä»¶çš„å¾ªç¯éƒ½åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­è¿›è¡Œã€‚æ¸²æŸ“è¿›ç¨‹ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªçº¿ç¨‹ï¼š JSå†…æ ¸ä¸­çš„çº¿ç¨‹ Taskï¼šTask æœ‰ MicroTask å’Œ MacroTask ä¹‹åˆ†ï¼ŒMicroTask åœ¨ Promise å‡ºç°ä¹‹åå¼•å…¥ã€‚MacroTask å’Œ MicroTask åˆ†åˆ«åœ¨ä»¥ä¸‹å‡ ç§åœºæ™¯å½¢æˆï¼š MacroTaskï¼šä¸»ä»£ç å—ã€setTimeoutã€setIntervalã€IO äº‹ä»¶ç­‰ã€‚ MicroTaskï¼šPromiseã€process.nextTick ç­‰ã€‚ æµè§ˆå™¨ä¸­çš„Event Loopæœ‰äº†åŸºç¡€æ¦‚å¿µï¼Œè®©æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹æ–‡ç« å¼€å¤´ç»™å‡ºçš„ä»£ç æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910console.log(&#x27;script start&#x27;);setTimeout(() =&gt; &#123; console.log(&#x27;setTimeout&#x27;);&#125;,0);Promise.resolve().then(() =&gt; &#123; console.log(&#x27;promise1&#x27;);&#125;).then(() =&gt;&#123; console.log(&quot;promise2&quot;);&#125;);console.log(&#x27;script end&#x27;); 1ã€é¦–å…ˆï¼Œæ•´ä¸ªä»£ç å—ä½œä¸ºç¬¬ä¸€ä¸ª MacroTask è¢«æ‰§è¡Œï¼ŒåŒæ­¥çš„ä»£ç ç›´æ¥è¢«å‹å…¥æ‰§è¡Œæ ˆè¢«æ‰§è¡Œã€ŒåŒæ­¥ä»»åŠ¡åœ¨JSå¼•æ“çº¿ç¨‹ä¸Šæ‰§è¡Œã€ï¼Œscript start å’Œ script end è¢«æ‰“å°ï¼› 2ã€setTimeout è¢«ä½œä¸º MacroTask å¤„ç†ï¼ŒåŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼› 3ã€Promise è¢«ä½œä¸º MicroTask å¤„ç†ï¼ŒåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼› 4ã€æœ¬æ¬¡ MacroTask å¤„ç†å®Œæ¯•ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç° promise then çš„ callbackï¼Œpromise1ï¼Œpromise2 å…ˆåæ‰“å°ï¼› 5ã€æ¥ä¸‹æ¥æ‰§è¡Œä¸‹ä¸€ä¸ª MacroTaskï¼Œå³ setTimeout æ¨é€ç»™ä»»åŠ¡é˜Ÿåˆ—çš„ callbackï¼Œæ‰“å° setTimeoutã€‚ soï¼Œä»£ç æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 12345script startscript endpromise1promise2setTimeout ç”±æ­¤ï¼Œå¯å¤§è‡´äº†è§£åˆ°æµè§ˆå™¨ä¸‹ Event-Loop æ‰§è¡Œæœºåˆ¶å¤§è‡´å¦‚ä¸‹ï¼š Event-Loop æ‰§è¡Œæœºåˆ¶ 1ã€ä¸€å¼€å§‹ï¼Œæ•´æ®µè„šæœ¬è¢«å½“ä½œ MacroTask æ‰§è¡Œ2ã€æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒåŒæ­¥ä»£ç è¿›å…¥å¯æ‰§è¡Œæ ˆä¸­ç›´æ¥æ‰§è¡Œï¼ŒMacroTask è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼ŒMicroTask è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—3ã€å½“å‰ MacroTask æ‰§è¡Œå®Œå°±å‡ºé˜Ÿï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™ä¾æ¬¡æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ MicroTaskï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º4ã€æ‰§è¡Œæµè§ˆå™¨çš„ UI çº¿ç¨‹çš„æ¸²æŸ“å·¥ä½œã€Œä¸¤ä¸ª MicroTask æ‰§è¡Œç©ºéš™ï¼Œæœ‰æ¬¡ render å·¥ä½œã€6ã€æ‰§è¡Œé˜Ÿé¦–çš„ MacroTaskï¼Œå›åˆ° 2ï¼Œä¾æ­¤å¾ªç¯ï¼Œç›´è‡³å®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—éƒ½ä¸ºç©ºå¯é€šè¿‡ä¸‹å›¾ç®€å•ç†è§£ä¸€æ³¢ï¼š ç”±æ­¤å¯çŸ¥é“ï¼ŒsetTimeout ä¸­çš„ callback ä¸èƒ½æŒ‰æ—¶æ‰§è¡Œæ˜¯å› ä¸º Event-Loopï¼Œå¯¼è‡´ JS å¼•æ“çº¿ç¨‹è¿˜æœ‰å…¶å®ƒçš„ task ï¼ˆpromise MicroTaskï¼‰è¦å¤„ç†ï¼Œä¸»çº¿ç¨‹è¿˜æœªç©ºé—²ä¸‹æ¥ã€‚ å‚è€ƒ What the heck is the event loop anyway?ã€Œå¾ˆç²¾å½©çš„æ¼”è®²ğŸ‚ã€ ä»æµè§ˆå™¨å¤šè¿›ç¨‹åˆ°JSå•çº¿ç¨‹ï¼ŒJSè¿è¡Œæœºåˆ¶æœ€å…¨é¢çš„ä¸€æ¬¡æ¢³ç† ç²¾è¯»ã€ŠTasks, microtasks, queues and schedulesã€‹ ğŸ˜‡åŸç”ŸJSçµé­‚ä¹‹é—®(ä¸‹) ã€THE LAST TIMEã€‘å½»åº•åƒé€ JavaScript æ‰§è¡Œæœºåˆ¶","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yeshan333.github.io/categories/JavaScript/"}],"tags":[{"name":"Event-Loop","slug":"Event-Loop","permalink":"https://yeshan333.github.io/tags/Event-Loop/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://yeshan333.github.io/tags/JavaScript/"}]},{"title":"æ“ä½œç³»ç»Ÿç¬”è®°-IPC æœºåˆ¶","slug":"Process-IPC","date":"2020-08-02T14:53:41.000Z","updated":"2020-08-02T14:53:41.000Z","comments":true,"path":"2020/08/02/Process-IPC/","permalink":"https://yeshan333.github.io/2020/08/02/Process-IPC/","excerpt":"è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼ŒInter-Process Communicationï¼‰ï¼ŒæŒ‡è‡³å°‘ä¸¤ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹é—´ä¼ é€æ•°æ®æˆ–ä¿¡å·çš„ä¸€äº›æŠ€æœ¯æˆ–æ–¹æ³•ã€‚ æ€»è§ˆIPC","text":"è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼ŒInter-Process Communicationï¼‰ï¼ŒæŒ‡è‡³å°‘ä¸¤ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹é—´ä¼ é€æ•°æ®æˆ–ä¿¡å·çš„ä¸€äº›æŠ€æœ¯æˆ–æ–¹æ³•ã€‚ æ€»è§ˆIPC è¿›ç¨‹é—´é€šä¿¡çš„é—®é¢˜ ç«æ€æ¡ä»¶ï¼ˆrace conditionï¼‰ï¼šå¤šä¸ªè¿›ç¨‹å¯¹å…±äº«æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œå½±å“ç¨‹åºçš„æ­£ç¡®è¿è¡Œã€‚åœ¨è®¡ç®—æœºå†…å­˜æˆ–è€…å­˜å‚¨é‡Œï¼Œå¦‚æœåŒæ—¶å‘å‡ºè¯»å†™å¤§é‡æ•°æ®çš„æŒ‡ä»¤çš„æ—¶å€™ç«æ€æ¡ä»¶å¯èƒ½å‘ç”Ÿï¼Œæœºå™¨è¯•å›¾è¦†ç›–ç›¸åŒçš„æˆ–è€…æ—§çš„æ•°æ®ï¼Œè€Œæ­¤æ—¶æ—§çš„æ•°æ®ä»ç„¶åœ¨è¢«è¯»å–ã€‚ ä¸´ç•ŒåŒºï¼ˆcritical sectionï¼‰ï¼šå¯¹å…±äº«èµ„æºè¿›è¡Œè®¿é—®çš„ç¨‹åºç‰‡æ®µã€‚ è¿›ç¨‹çš„åŒæ­¥ä¸äº’æ–¥ è¿›ç¨‹çš„åŒæ­¥ä¸äº’æ–¥ è¿›ç¨‹çš„åŒæ­¥ï¼ˆSynchronizationï¼‰æ˜¯è§£å†³è¿›ç¨‹é—´åä½œå…³ç³»(ç›´æ¥åˆ¶çº¦å…³ç³») çš„æ‰‹æ®µã€‚è¿›ç¨‹åŒæ­¥æŒ‡ä¸¤ä¸ªä»¥ä¸Šè¿›ç¨‹åŸºäºæŸä¸ªæ¡ä»¶æ¥åè°ƒå®ƒä»¬çš„æ´»åŠ¨ã€‚ä¸€ä¸ªè¿›ç¨‹çš„æ‰§è¡Œä¾èµ–äºå¦ä¸€ä¸ªåä½œè¿›ç¨‹çš„æ¶ˆæ¯æˆ–ä¿¡å·ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹æ²¡æœ‰å¾—åˆ°æ¥è‡ªäºå¦ä¸€ä¸ªè¿›ç¨‹çš„æ¶ˆæ¯æˆ–ä¿¡å·æ—¶åˆ™éœ€ç­‰å¾…ï¼Œç›´åˆ°æ¶ˆæ¯æˆ–ä¿¡å·åˆ°è¾¾æ‰è¢«å”¤é†’ã€‚è¿›ç¨‹äº’æ–¥å…³ç³»æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿›ç¨‹åŒæ­¥å…³ç³»ã€‚åœ¨ç³»ç»Ÿä¸­å¤šä¸ªè¿›ç¨‹å› äº‰ç”¨ä¸´ç•Œèµ„æºï¼ˆCritical Resourceï¼‰è€Œäº’æ–¥æ‰§è¡Œã€‚ äº’æ–¥è®¾è®¡äº’æ–¥è®¾è®¡ å‚è€ƒ ç°ä»£æ“ä½œç³»ç»Ÿ Inter-process communication è¿›ç¨‹é—´é€šä¿¡","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"https://yeshan333.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"è¿›ç¨‹é€šä¿¡","slug":"è¿›ç¨‹é€šä¿¡","permalink":"https://yeshan333.github.io/tags/%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1/"}]},{"title":"æ“ä½œç³»ç»Ÿç¬”è®°-è¿›/çº¿ç¨‹æ¨¡å‹","slug":"æ“ä½œç³»ç»Ÿè¿›-çº¿ç¨‹æ¨¡å‹","date":"2020-07-22T20:22:41.000Z","updated":"2020-07-22T20:22:41.000Z","comments":true,"path":"2020/07/22/æ“ä½œç³»ç»Ÿè¿›-çº¿ç¨‹æ¨¡å‹/","permalink":"https://yeshan333.github.io/2020/07/22/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%9B-%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B/","excerpt":"æ¨¡å‹æ˜¯æŒ‡å¯¹äºæŸä¸ªå®é™…é—®é¢˜æˆ–å®¢è§‚äº‹ç‰©ã€è§„å¾‹è¿›è¡ŒæŠ½è±¡åçš„ä¸€ç§å½¢å¼åŒ–è¡¨è¾¾æ–¹å¼ã€‚- MBA æ™ºåº“ç™¾ç§‘ - æ¨¡å‹ æ¦‚å¿µæ¢³ç†è¿›ç¨‹ è¿›ç¨‹æ˜¯å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹å•ä½ã€‚ ä¸€ä¸ªè¿›ç¨‹æ˜¯æŸç§ç±»å‹æ´»åŠ¨çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œå®ƒæœ‰ç¨‹åºã€è¾“å…¥ã€è¾“å‡ºä»¥åŠçŠ¶æ€ã€‚è¿›ç¨‹æ˜¯å¯¹æ­£åœ¨è¿è¡Œç¨‹åºçš„ä¸€ä¸ªæŠ½è±¡ã€‚å•ä¸ªå¤„ç†å™¨å¯ä»¥è¢«è‹¥å¹²è¿›ç¨‹å…±äº«ï¼Œå®ƒä½¿ç”¨æŸç§è°ƒåº¦ç®—æ³•å†³å®šä½•æ—¶åœæ­¢ä¸€ä¸ªè¿›ç¨‹çš„å·¥ä½œï¼Œå¹¶è½¬è€Œä¸ºå¦ä¸€ä¸ªè¿›ç¨‹æä¾›æœåŠ¡ã€‚ä¸€ä¸ªç¨‹åºå¯å¯¹åº”å¤šä¸ªè¿›ç¨‹ã€‚ ç³»ç»Ÿèµ„æºä»¥è¿›ç¨‹ä¸ºå•ä½åˆ†é…ï¼Œå¦‚å†…å­˜ã€æ–‡ä»¶ã€æ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ã€‚","text":"æ¨¡å‹æ˜¯æŒ‡å¯¹äºæŸä¸ªå®é™…é—®é¢˜æˆ–å®¢è§‚äº‹ç‰©ã€è§„å¾‹è¿›è¡ŒæŠ½è±¡åçš„ä¸€ç§å½¢å¼åŒ–è¡¨è¾¾æ–¹å¼ã€‚- MBA æ™ºåº“ç™¾ç§‘ - æ¨¡å‹ æ¦‚å¿µæ¢³ç†è¿›ç¨‹ è¿›ç¨‹æ˜¯å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹å•ä½ã€‚ ä¸€ä¸ªè¿›ç¨‹æ˜¯æŸç§ç±»å‹æ´»åŠ¨çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œå®ƒæœ‰ç¨‹åºã€è¾“å…¥ã€è¾“å‡ºä»¥åŠçŠ¶æ€ã€‚è¿›ç¨‹æ˜¯å¯¹æ­£åœ¨è¿è¡Œç¨‹åºçš„ä¸€ä¸ªæŠ½è±¡ã€‚å•ä¸ªå¤„ç†å™¨å¯ä»¥è¢«è‹¥å¹²è¿›ç¨‹å…±äº«ï¼Œå®ƒä½¿ç”¨æŸç§è°ƒåº¦ç®—æ³•å†³å®šä½•æ—¶åœæ­¢ä¸€ä¸ªè¿›ç¨‹çš„å·¥ä½œï¼Œå¹¶è½¬è€Œä¸ºå¦ä¸€ä¸ªè¿›ç¨‹æä¾›æœåŠ¡ã€‚ä¸€ä¸ªç¨‹åºå¯å¯¹åº”å¤šä¸ªè¿›ç¨‹ã€‚ ç³»ç»Ÿèµ„æºä»¥è¿›ç¨‹ä¸ºå•ä½åˆ†é…ï¼Œå¦‚å†…å­˜ã€æ–‡ä»¶ã€æ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ã€‚ è¿›ç¨‹è¡¨è¿›ç¨‹è¡¨ï¼ˆprocess tableï¼‰ï¼Œä¹Ÿç§°è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ï¼Œæ˜¯ç”±æ“ä½œç³»ç»Ÿç»´æŠ¤çš„ï¼Œæ¯ä¸ªè¿›ç¨‹å ç”¨å…¶ä¸­ä¸€ä¸ªè¡¨é¡¹ã€‚è¯¥è¡¨é¡¹åŒ…å«äº†æ“ä½œç³»ç»Ÿå¯¹è¿›ç¨‹è¿›è¡Œæè¿°å’Œæ§åˆ¶çš„å…¨éƒ¨ä¿¡æ¯ï¼Œä»è€Œä¿è¯è¯¥è¿›ç¨‹æ¢å‡ºåå†æ¬¡å¯åŠ¨æ—¶ï¼Œå°±åƒä»æœªä¸­æ–­è¿‡ä¸€æ ·ã€‚ å…¸å‹è¿›ç¨‹è¡¨è¡¨é¡¹çš„ä¸€äº›å­—æ®µ segment æ®µå®šä¹‰( segment ) æ˜¯ç”¨æ¥åŒºåˆ†æˆ–è€…åˆ’åˆ†èŒƒå›´åŒºåŸŸçš„æ„æ€ã€‚æ±‡ç¼–è¯­è¨€çš„ segment ä¼ªæŒ‡ä»¤è¡¨ç¤ºæ®µå®šä¹‰çš„èµ·å§‹ï¼Œends ä¼ªæŒ‡ä»¤è¡¨ç¤ºæ®µå®šä¹‰çš„ç»“æŸã€‚æ®µå®šä¹‰æ˜¯ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ã€‚refï¼šç¨‹åºå‘˜éœ€è¦äº†è§£çš„ç¡¬æ ¸çŸ¥è¯†ä¹‹æ±‡ç¼–è¯­è¨€(å…¨) è¿›ç¨‹æ§åˆ¶åŸè¯­ åŸè¯­ åŸè¯­ï¼šå®ŒæˆæŸç§ç‰¹å®šåŠŸèƒ½çš„ä¸€æ®µç¨‹åºï¼Œå…·æœ‰ä¸å¯åˆ†å‰²æ€§æˆ–ä¸å¯ä¸­æ–­æ€§ã€‚å³åŸè¯­çš„æ‰§è¡Œå¿…é¡»æ˜¯è¿ç»­çš„ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸å…è®¸è¢«ä¸­æ–­ã€‚ä¹Ÿå°±æ˜¯æ»¡è¶³åŸå­æ€§ã€‚åŸå­æ€§æ“ä½œï¼Œä¸€ç»„ç›¸å…³æ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œä¸å¯ä¸­æ–­ï¼Œè¦ä¹ˆå°±ä¸æ‰§è¡Œã€‚ è¿›ç¨‹åˆ›å»ºåŸè¯­ è¿›ç¨‹æ’¤æ¶ˆåŸè¯­ é˜»å¡åŸè¯­ å”¤é†’åŸè¯­ æŒ‚èµ·åŸè¯­ æ¿€æ´»åŸè¯­ æ”¹å˜è¿›ç¨‹ä¼˜å…ˆçº§ ä¸Šä¸‹æ–‡åˆ‡æ¢ä»ä¸€ä¸ªè¿›ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹éœ€è¦ä¸€å®šçš„æ—¶é—´è¿›è¡Œç®¡ç†å¤„ç†ï¼ŒåŒ…æ‹¬ä¿å­˜å¯„å­˜å™¨çš„å€¼å’Œå†…å­˜æ˜ å°„ï¼Œæ›´æ–°ä¸åŒçš„è¡¨æ ¼å’Œåˆ—è¡¨ã€æ¸…é™¤å’Œé‡æ–°è°ƒå…¥å†…å­˜é«˜é€Ÿç¼“å­˜ç­‰ã€‚ è¿›ç¨‹é—´åˆ‡æ¢ï¼ˆprocess switchï¼‰åˆç§°ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆcontext switchï¼‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªå­˜å‚¨å’Œé‡å»º CPU çŠ¶æ€çš„æœºåˆ¶ï¼Œè¦äº¤æ¢ CPU ä¸Šçš„è¿›ç¨‹æ—¶ï¼Œå¿…éœ€å…ˆè¡Œå­˜å‚¨å½“å‰è¿›ç¨‹çš„çŠ¶æ€ï¼Œç„¶åå†å°†è¿›ç¨‹çŠ¶æ€è¯»å› CPU ä¸­ã€‚è¿›ç¨‹ä¸è¿è¡Œæ—¶ï¼Œå°†å¯„å­˜å™¨çš„å€¼ä¿å­˜åœ¨è¿›ç¨‹æ§åˆ¶å—PCBä¸­ï¼›å½“æ“ä½œç³»ç»Ÿè¦è¿è¡Œä¸€ä¸ªæ–°çš„è¿›ç¨‹æ—¶ï¼Œä¼šå°†PCBä¸­çš„ç›¸å…³å€¼é€åˆ°å¯¹åº”çš„å¯„å­˜å™¨ä¸­ã€‚ åœ°å€ç©ºé—´åœ°å€ç©ºé—´æ˜¯å†…å­˜ä¸­å¯ä¾›ç¨‹åºæˆ–è¿›ç¨‹ä½¿ç”¨çš„æœ‰æ•ˆåœ°å€èŒƒå›´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæ˜¯ç¨‹åºæˆ–è¿›ç¨‹å¯ä»¥è®¿é—®çš„å†…å­˜ã€‚å­˜å‚¨å™¨å¯ä»¥æ˜¯ç‰©ç†çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯è™šæ‹Ÿçš„ï¼Œç”¨äºæ‰§è¡ŒæŒ‡ä»¤å’Œå­˜å‚¨æ•°æ®ã€‚ çº¿ç¨‹çº¿ç¨‹ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªè¿è¡Œå®ä½“ï¼Œæ˜¯ CPU è°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚çº¿ç¨‹çš„ä¸‹æ–‡ç¯å¢ƒæ˜¯ç¨‹åºè®¡æ•°å™¨ç­‰å¯„å­˜å™¨ã€‚çº¿ç¨‹æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„æ ˆå’Œå…±äº«çš„å †ã€‚ çº¿ç¨‹å¼•å…¥è§£å†³çš„é—®é¢˜ é™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ï¼Œçº¿ç¨‹çš„åˆ›å»ºã€æ’¤é”€èŠ±è´¹æ—¶é—´å°‘äºè¿›ç¨‹ å¤šçº¿ç¨‹å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU çš„è®¡ç®—èƒ½åŠ›ã€Œå†…æ ¸çº¿ç¨‹ã€ï¼Œåœ¨çº¿ç¨‹ç²’åº¦è¿›è¡Œé˜»å¡è€Œä¸æ˜¯è¿›ç¨‹ é™ä½é€šä¿¡éš¾åº¦ï¼ŒåŒä¸€è¿›ç¨‹å†…çš„çº¿ç¨‹å…±äº«å†…å­˜å’Œæ–‡ä»¶ è¿›ç¨‹å’Œçº¿ç¨‹å„è‡ªæŒæœ‰çš„èµ„æºè¿›ç¨‹å’Œçº¿ç¨‹å„è‡ªæŒæœ‰çš„èµ„æº å¤šé“ç¨‹åºè®¾è®¡ä¸­çš„è¿›ç¨‹æ¨¡å‹ å¤šé“ç¨‹åºè®¾è®¡ï¼šå…è®¸å¤šä¸ªç¨‹åºåŒæ—¶è¿›å…¥å†…å­˜å¹¶è¿è¡Œï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†æé«˜ç³»ç»Ÿæ•ˆç‡ã€‚ å¤šé“ç¨‹åºè®¾è®¡ä¸­çš„è¿›ç¨‹æ¨¡å‹ å›¾ä¾‹ã€Œæ¥è‡ªã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹ã€ä¸­å¤šé“ç¨‹åºè®¾è®¡è®¡ç®—æœºçš„å†…å­˜ä¸­æœ‰ 4 é“ç¨‹åºï¼Œè¿™ 4 é“ç¨‹åºè¢«æŠ½è±¡ä¸ºå„è‡ªæ‹¥æœ‰è‡ªå·±æ§åˆ¶æµç¨‹çš„è¿›ç¨‹ï¼ˆæ¯é“ç¨‹åºéƒ½æ‹¥æœ‰è‡ªå·±çš„é€»è¾‘è®¡æ•°å™¨ï¼‰ã€‚å›¾ c ï¼Œåœ¨ä»»ä½•ä¸€ç»™å®šç¬é—´ä»…æœ‰ä¸€ä¸ªè¿›ç¨‹çœŸæ­£åœ¨è¿è¡Œï¼Œè¿›ç¨‹è¿è¡Œæ—¶ä¼šå°†è‡ªå·±çš„é€»è¾‘ç¨‹åºè®¡æ•°å™¨è£…å…¥å®é™…çš„ç‰©ç†ç¨‹åºè®¡æ•°å™¨ä¸­ï¼Œè¿›ç¨‹ç»“æŸæˆ–æš‚åœæ‰§è¡Œæ—¶ï¼Œç‰©ç†ç¨‹åºè®¡æ•°å™¨å°†è¢«ä¿å­˜åœ¨å†…å­˜ä¸­è¯¥è¿›ç¨‹çš„é€»è¾‘ç¨‹åºè®¡æ•°å™¨ä¸­ã€‚ å¸¸è§çº¿ç¨‹æ¨¡å‹ ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸çº¿ç¨‹ä¹‹åˆ† ç”¨æˆ·çº¿ç¨‹ï¼Œæ˜¯å®Œå…¨å»ºç«‹åœ¨ç”¨æˆ·ç©ºé—´çš„çº¿ç¨‹åº“ï¼Œç”¨æˆ·çº¿ç¨‹çš„åˆ›å»ºã€è°ƒåº¦ã€åŒæ­¥å’Œé”€æ¯å…¨ç”±åº“å‡½æ•°åœ¨ç”¨æˆ·ç©ºé—´å®Œæˆï¼Œä¸éœ€è¦å†…æ ¸çš„å¸®åŠ©ã€‚å› æ­¤è¿™ç§çº¿ç¨‹æ˜¯æå…¶ä½æ¶ˆè€—å’Œé«˜æ•ˆçš„ã€‚ä½†åŒä¸€è¿›ç¨‹ä¸‹åˆ›å»ºçš„ç”¨æˆ·çº¿ç¨‹å¯¹ CPU çš„ç«äº‰æ˜¯ä»¥è¿›ç¨‹çš„ç»´åº¦å‚ä¸çš„ï¼Œè¿™ä¼šå¯¼è‡´è¯¥è¿›ç¨‹ä¸‹çš„ç”¨æˆ·çº¿ç¨‹åªèƒ½åˆ†æ—¶å¤ç”¨æ‰€å±è¿›ç¨‹è¢«åˆ†é…çš„ CPU æ—¶é—´ç‰‡ï¼Œæ‰€ä»¥æ— æ³•å¾ˆå¥½çš„åˆ©ç”¨ CPU å¤šæ ¸è¿ç®—çš„ä¼˜åŠ¿ã€‚ä¸€èˆ¬æƒ…å†µä¸‹è¯´çš„çº¿ç¨‹æŒ‡çš„æ˜¯ç”¨æˆ·çº¿ç¨‹ã€‚å†…æ ¸çº¿ç¨‹ï¼Œç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†å’Œè°ƒåº¦ï¼Œèƒ½å¤Ÿç›´æ¥æ“ä½œè®¡ç®—æœºçš„åº•å±‚èµ„æºï¼Œçº¿ç¨‹åˆ‡æ¢æ—¶ CPU éœ€è¦åˆ‡æ¢åˆ°å†…æ ¸æ€ã€‚å†…æ ¸çº§çº¿ç¨‹å¯ä»¥å¾ˆå¥½åˆ©ç”¨å¤šæ ¸ CPU çš„å¹¶è¡Œè®¡ç®—é¢ä¼˜åŠ¿ï¼Œå¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨çš„æ–¹å¼ä½¿ç”¨å†…æ ¸çº¿ç¨‹ã€‚ ç”¨æˆ·ç©ºé—´ç®¡ç†çº¿ç¨‹ï¼Œæ•´ä¸ªçº¿ç¨‹åŒ…æ”¾åœ¨ç”¨æˆ·ç©ºé—´ï¼Œå†…æ ¸å¯¹çº¿ç¨‹åŒ…ä¸€æ— æ‰€çŸ¥ï¼Œå†…æ ¸ç®¡ç†çš„è¿˜æ˜¯è¿›ç¨‹ æ¯ä¸ªçº¿ç¨‹æœ‰ç”¨è‡ªå·±çš„çº¿ç¨‹è¡¨ï¼Œçº¿ç¨‹åœ¨ä¸€ä¸ªè¿è¡Œæ—¶ç³»ç»Ÿä¸Šæ‰§è¡Œï¼ˆè¿è¡Œæ—¶ç³»ç»Ÿæ—¶ä¸€ä¸ªç®¡ç†çº¿ç¨‹çš„è¿‡ç¨‹çš„é›†åˆï¼Œå¸¸ç”¨è¿‡ç¨‹æœ‰ pthread_createã€pthread_yieldç­‰ï¼‰ ä¼˜ç‚¹ï¼š ä¿å­˜çº¿ç¨‹çŠ¶æ€çš„è¿‡ç¨‹å’Œè°ƒåº¦ç¨‹åºéƒ½åªæ˜¯æœ¬åœ°è¿‡ç¨‹ï¼Œæ•ˆç‡æ¯”è¿›è¡Œå†…æ ¸è°ƒç”¨é«˜ çº¿ç¨‹åˆ‡æ¢ä¸éœ€è¦å†…æ ¸ç‰¹æƒï¼Œçº¿ç¨‹è°ƒåº¦éå¸¸å¿«æ·ï¼Œè°ƒåº¦ç®—æ³•å¯ç”±åº”ç”¨ç¨‹åºç‰¹å®š ç¼ºç‚¹ å¤§å¤šæ•°ç³»ç»Ÿè°ƒç”¨éƒ½æ˜¯é˜»å¡çš„ï¼Œæˆ‘ä»¬éœ€è¦é¿å…è¢«é˜»å¡çº¿ç¨‹å½±å“å…¶ä»–çº¿ç¨‹ï¼Œæ­¤æ—¶é˜»å¡ç³»ç»Ÿè°ƒç”¨å¦‚ä½•å®ç°ï¼Ÿ å†…æ ¸åªå°†å¤„ç†å™¨åˆ†é…ç»™è¿›ç¨‹ï¼ŒåŒä¸€è¿›ç¨‹ä¸­çš„ä¸¤ä¸ªçº¿ç¨‹ä¸èƒ½åŒæ—¶è¿è¡Œäºä¸¤ä¸ªå¤„ç†å™¨ä¸Š ç”¨æˆ·ç©ºé—´ç®¡ç†çº¿ç¨‹ åœ¨å†…æ ¸ç©ºé—´ç®¡ç†çº¿ç¨‹ å†…æ ¸ç©ºé—´ä½¿ç”¨çº¿ç¨‹è¡¨è®°å½•æ‰€æœ‰çš„çº¿ç¨‹ï¼Œçº¿ç¨‹çš„æ›´æ–°ã€çº¿ç¨‹åˆ›å»ºã€é”€æ¯é€šè¿‡ç³»ç»Ÿè°ƒç”¨å®ç° çº¿ç¨‹é˜»å¡æ—¶ï¼Œå†…æ ¸å¯é€‰æ‹©è¿è¡Œå¤„äºå°±ç»ªæ€çš„çº¿ç¨‹ï¼ˆåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹æˆ–å…¶å®ƒè¿›ç¨‹ä¸­çš„çº¿ç¨‹ï¼‰ é—®é¢˜ï¼š å¤šçº¿ç¨‹è¿›ç¨‹åˆ›å»ºæ–°çš„è¿›ç¨‹æ—¶ä¼šé‡åˆ°åˆ°åº•æ˜¯æ‹¥æœ‰ä¸åŸè¿›ç¨‹ç›¸åŒæ•°é‡çš„çº¿ç¨‹è¿˜æ˜¯ä¸€ä¸ªçº¿ç¨‹çš„é—®é¢˜ å¦‚æœçº¿ç¨‹çš„åˆ›å»ºã€ç»ˆæ­¢æ“ä½œè¾ƒä¸ºé¢‘ç¹ï¼Œç³»ç»Ÿè°ƒç”¨çš„å¼€é”€è¿˜æ˜¯ä¸å¯å¿½è§†çš„ åœ¨å†…æ ¸ç©ºé—´å®ç°çº¿ç¨‹ çº¿ç¨‹æ¨¡å‹æ··åˆæ¨¡å‹ï¼Œå³å†…æ ¸çº¿ç¨‹ä¸ç”¨æˆ·çº¿ç¨‹é—´å¤šè·¯å¤ç”¨ã€‚ ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹ æ­¤æ¨¡å‹ä¸‹ï¼ˆç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹ï¼‰ï¼Œçº¿ç¨‹çš„åˆ›å»ºã€åˆ‡æ¢å’ŒåŒæ­¥ç­‰å·¥ä½œè¾ƒä¸ºè½»é‡ä¸é«˜æ•ˆï¼Œä¾èµ–äºç¼–ç¨‹è¯­è¨€å®ç°ã€‚ä½†åŒè¿›ç¨‹å†…çš„å¤šçº¿ç¨‹æ— æ³•å¾ˆå¥½çš„åˆ©ç”¨å¤šæ ¸ CPU ä¼˜åŠ¿ï¼Œåªèƒ½é€šè¿‡åˆ†æ—¶å¤ç”¨æ–¹å¼è½®æ¢æ‰§è¡Œã€‚å½“è¿›ç¨‹å†…çš„ä»»æ„çº¿ç¨‹é˜»å¡ï¼Œæ¯”å¦‚çº¿ç¨‹ A è¯·æ±‚ I&#x2F;O æ“ä½œè¢«é˜»å¡ï¼Œå¾ˆå¯èƒ½å¯¼è‡´æ•´ä¸ªè¿›ç¨‹èŒƒå›´å†…çš„é˜»å¡ï¼Œè¿™æ˜¯å› ä¸ºè¿›ç¨‹å¯¹åº”çš„å†…æ ¸çº¿ç¨‹å› è¿›ç¨‹å†…çš„çº¿ç¨‹è¢«é˜»å¡è€Œè¢«å‰¥å¤º CPU æ‰§è¡Œæ—¶é—´ï¼Œå¯¼è‡´æ•´ä¸ªè¿›ç¨‹ä¸¢å¤±åœ¨ CPU æ‰§è¡ŒæŒ‡ä»¤çš„æœºä¼šã€‚ è¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹è¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹ æ­¤æ¨¡å‹ä¸‹ï¼ˆå†…æ ¸çº§çº¿ç¨‹æ¨¡å‹ï¼‰ï¼Œçº¿ç¨‹çš„è°ƒåº¦å’Œç®¡ç†ç”±æ“ä½œç³»ç»Ÿå†…æ ¸è´Ÿè´£ï¼Œæ¯æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢éƒ½ä¼šä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œä¼šäº§ç”Ÿä¸å°çš„èµ„æºæ¶ˆè€—ï¼Œç”¨æˆ·ç©ºé—´åˆ›å»ºçš„çº¿ç¨‹æ•°é‡å—é™äºæ“ä½œç³»ç»Ÿå†…æ ¸å¯åˆ›å»ºå†…æ ¸çº¿ç¨‹çš„æ•°é‡ã€‚ä½†æ­¤æ¨¡å‹ä¸‹ï¼Œå¤šçº¿ç¨‹å¯å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ï¼Œå› ä¸ºæ¯ä¸ªçº¿ç¨‹å¯ä»¥ç‹¬ç«‹åœ°è¢«æ“ä½œç³»ç»Ÿè°ƒåº¦åˆ†é…åˆ° CPU ä¸Šæ‰§è¡ŒæŒ‡ä»¤ï¼ŒæŸä¸ªçº¿ç¨‹çš„é˜»å¡ä¸ä¼šå½±å“åˆ°è¿›ç¨‹å†…å…¶ä»–çº¿ç¨‹å·¥ä½œçš„æ‰§è¡Œã€‚ ä¸¤çº§çº¿ç¨‹æ¨¡å‹æ­¤æ¨¡å‹ä¸ºç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹ä¸å†…æ ¸çº§çº¿ç¨‹æ¨¡å‹çš„æ··åˆï¼Œå®ç°å¤šä¸ªç”¨æˆ·çº§çº¿ç¨‹ä¸å¤šä¸ªå†…æ ¸çº§çº¿ç¨‹çš„å¤šè·¯å¤ç”¨ã€‚æ­¤æ¨¡å‹ä¸‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯¹åº”å¤šä¸ªå†…æ ¸çº¿ç¨‹ï¼Œæœ‰è¿›ç¨‹å†…çš„è°ƒåº¦å™¨å†³å®šè¿›ç¨‹å†…çš„çº¿ç¨‹å¦‚ä½•ä¸ç”³è¯·çš„å†…æ ¸çº¿ç¨‹å¯¹åº”ã€‚ ä¸¤çº§çº¿ç¨‹æ¨¡å‹ æ­¤çº¿ç¨‹æ¨¡å‹å¯æœ‰æ•ˆé™ä½çº¿ç¨‹åˆ›å»ºå’Œç®¡ç†çš„èµ„æºæ¶ˆè€—ï¼ŒåŒæ—¶æä¾›è‰¯å¥½çš„å¹¶è¡Œèƒ½åŠ›ã€‚ç”¨æˆ·çº¿ç¨‹çš„è°ƒåº¦å’Œç®¡ç†åˆè¿›ç¨‹çš„è°ƒåº¦å™¨è´Ÿè´£ï¼Œå†…æ ¸çº¿ç¨‹çš„è°ƒåº¦å’Œç®¡ç†ç”±æ“ä½œç³»ç»Ÿè´Ÿè´£ã€‚ä½†æ­¤æ¨¡å‹çš„çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯çš„ä¿å­˜å’Œæ¢å¤ï¼Œæ ˆç©ºé—´çš„å¤§å°ç®¡ç†ç»™å¼€å‘äººå‘˜å¸¦æ¥çš„è¾ƒå¤§çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚ Go ä¸­çš„ MPG çº¿ç¨‹æ¨¡å‹GO è¯­è¨€çš„ MPG çº¿ç¨‹æ¨¡å‹åŸºäºä¸¤çº§çº¿ç¨‹æ¨¡å‹è¿›è¡Œäº†æ”¹é€ ï¼Œæé«˜äº†çº¿ç¨‹è°ƒåº¦çš„çµæ´»åº¦ã€‚å¦‚å›¾ï¼š MPG çº¿ç¨‹æ¨¡å‹ MPG è§£é‡Š Mï¼ˆMachineï¼‰ï¼šä¸€ä¸ª Machine å¯¹åº”ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ï¼Œåœ¨ M çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå®ƒåªä¼šä¸ä¸€ä¸ªå†…æ ¸çº¿ç¨‹è¿›è¡Œç»‘å®šã€‚Pï¼ˆProcessorï¼‰ï¼šä¸€ä¸ª Processor è¡¨ç¤ºæ‰§è¡Œ Go ä»£ç ç‰‡æ®µæ‰€éœ€çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œåœ¨è¿è¡Œæ—¶ä¸€ä¸ª M åªèƒ½ç»‘å®šä¸€ä¸ª Pï¼ŒM å’Œ P çš„ç»„åˆä¸º G æä¾›è¿è¡Œç¯å¢ƒã€‚åœ¨å•ä¸ª Go è¯­è¨€è¿›ç¨‹ä¸­ï¼ŒP çš„æœ€å¤§æ•°é‡å†³å®šäº†ç¨‹åºçš„å¹¶å‘è§„æ¨¡ã€‚Gï¼ˆGoroutineï¼‰ï¼šGo è¯­è¨€ä»£ç ç‰‡æ®µçš„å°è£…ï¼ˆé€šå¸¸ä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œå‡½æ•°æ˜¯ Go çš„ä¸€ç­‰å…¬æ°‘ï¼‰ï¼Œä¸€ä¸ªå¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼ŒGo åç¨‹ã€‚åç¨‹ï¼ˆcoroutineï¼‰ï¼Œä¸€ç§ç”¨æˆ·æ€è½»é‡çº§çº¿ç¨‹ï¼Œä¸åŒäºä¹‹å‰æ‰€è¯´çš„çº¿ç¨‹ï¼Œåç¨‹å®ç°çš„æ˜¯éæŠ¢å å¼è°ƒåº¦ï¼ˆå³ç”±å½“å‰åç¨‹åˆ‡æ¢åˆ°å…¶ä»–åç¨‹ç”±å½“å‰åç¨‹å†³å®šï¼‰ï¼Œåç¨‹æ˜¯è¯­è¨€çº§åˆ«çš„ã€‚ã€Œåä½œå¼è°ƒåº¦ã€åç¨‹ä¼˜ç¼ºç‚¹ï¼šcoroutineåç¨‹è¯¦è§£Go 1.14 åŸºäºä¿¡å·çš„æŠ¢å å¼è°ƒåº¦å®ç°åŸç† åœ¨å®é™…è¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒM å’Œ P çš„ç»„åˆä¸º G æä¾›æœ‰æ•ˆçš„è¿è¡Œç¯å¢ƒï¼Œè€Œå¤šä¸ªå¯æ‰§è¡Œ G å°†ä¼šé¡ºåºæ’æˆä¸€ä¸ªé˜Ÿåˆ—æŒ‚åœ¨æŸä¸ª P ä¸Šé¢ï¼Œç­‰å¾…è°ƒåº¦å’Œæ‰§è¡Œã€‚M å’Œ P ä¼šé€‚æ—¶çš„ç»„åˆå’Œæ–­å¼€ï¼Œä»¥ä¿è¯æ‰§è¡Œ G é˜Ÿåˆ—èƒ½å¤Ÿå¾—åˆ°åŠæ—¶è¿è¡Œã€‚å¦‚ä¸‹å›¾ï¼š Goroutine é˜»å¡ ä¸Šå›¾å³åŠéƒ¨åˆ†ï¼Œå½“ M å¯¹åº”çš„å†…æ ¸çº¿ç¨‹è¢«å”¤é†’æ—¶ï¼ŒM ä¼šå°è¯•ä¸º G0 æ•è·ä¸€ä¸ª P ä¸Šä¸‹æ–‡ï¼Œå¯èƒ½æ˜¯ä»ç©ºé—²çš„ P åˆ—è¡¨ä¸­è·å–ï¼Œå¦‚æœè·å–ä¸æˆåŠŸï¼ŒM ä¼šæŠŠ G0 æ”¾å…¥è°ƒåº¦å™¨çš„å¯æ‰§è¡Œ G é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…å…¶ä»– P çš„æŸ¥æ‰¾ã€‚ å‚è€ƒ ç°ä»£æ“ä½œç³»ç»Ÿ go1.14 åŸºäºä¿¡å·çš„æŠ¢å å¼è°ƒåº¦å®ç°åŸç† Linuxä¸‹çš„è¿›ç¨‹ç±»åˆ«ï¼ˆå†…æ ¸çº¿ç¨‹ã€è½»é‡çº§è¿›ç¨‹å’Œç”¨æˆ·è¿›ç¨‹ï¼‰ æ“ä½œç³»ç»ŸåŸç†-è¿›ç¨‹çº¿ç¨‹æ¨¡å‹ã€Œè¿›ç¨‹çŠ¶æ€è½¬æ¢æ¨¡å‹ã€ Go å¹¶å‘ç¼–ç¨‹å®æˆ˜ coroutineåç¨‹è¯¦è§£","categories":[{"name":"Go","slug":"Go","permalink":"https://yeshan333.github.io/categories/Go/"},{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"https://yeshan333.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"è¿›/çº¿ç¨‹","slug":"æ“ä½œç³»ç»Ÿ/è¿›-çº¿ç¨‹","permalink":"https://yeshan333.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B-%E7%BA%BF%E7%A8%8B/"}],"tags":[{"name":"è¿›ç¨‹","slug":"è¿›ç¨‹","permalink":"https://yeshan333.github.io/tags/%E8%BF%9B%E7%A8%8B/"},{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"https://yeshan333.github.io/tags/%E7%BA%BF%E7%A8%8B/"}]},{"title":"React Hooks é‚£äº›äº‹å„¿","slug":"React-Hooks-é‚£äº›äº‹å„¿","date":"2020-07-08T14:33:31.000Z","updated":"2020-07-08T14:33:31.000Z","comments":true,"path":"2020/07/08/React-Hooks-é‚£äº›äº‹å„¿/","permalink":"https://yeshan333.github.io/2020/07/08/React-Hooks-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/","excerpt":"ç¿»äº†æ³¢ä¹‹å‰å†™çš„æ–‡ç« è¿˜æœ‰ç¬”è®°ï¼Œå‘ç°å…³äºå‰ç«¯çš„æ–‡ç« å¹¶ä¸å¤šï¼ˆå¥½æ­¹ä¹Ÿåˆ’æ°´åšè¿‡ç‚¹å‰ç«¯å¼€å‘ï¼‰ã€‚å·§äº†ï¼Œæœ€è¿‘æ²¡ä»€ä¹ˆå¥½è¯é¢˜å¯å†™ï¼Œåšä¸‹ React Hooks å­¦ä¹ ç¬”è®°å§ã€‚ Effect Hookä¸å¾—ä¸è¯´ Hook çš„å‡ºç°é™ä½äº†æˆ‘ä»¬åœ¨ React ä¸­å¤„ç†å‰¯ä½œç”¨ï¼ˆside effectï¼‰çš„å¿ƒæ™ºè´Ÿæ‹…ï¼Œé€šè¿‡ useEffect å°±å¯ä»¥å¾ˆå¥½çš„å®Œæˆä¹‹å‰éœ€è¦ä½¿ç”¨å‡ ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°é…åˆæ‰èƒ½å®Œæˆçš„äº‹ã€‚ Effect Hook æ­»å¾ªç¯è¯·æ±‚é—®é¢˜ç”±äº Effect Hook ä¸ç†Ÿã€Œå®˜æ–¹æ–‡æ¡£æ²¡è¯»é€ã€ï¼Œæœ€è¿‘ä½¿ç”¨ useEffect å‡ºç°äº†å¼‚æ­¥è¯·æ±‚å‘é€äº†æ— é™æ¬¡çš„é—®é¢˜ï¼Œç¿»ğŸš—äº†ã€‚æˆ‘æœ‰ä¸ªç»„ä»¶å¤§æ¦‚æ˜¯è¿™ä¹ˆå†™çš„ï¼š","text":"ç¿»äº†æ³¢ä¹‹å‰å†™çš„æ–‡ç« è¿˜æœ‰ç¬”è®°ï¼Œå‘ç°å…³äºå‰ç«¯çš„æ–‡ç« å¹¶ä¸å¤šï¼ˆå¥½æ­¹ä¹Ÿåˆ’æ°´åšè¿‡ç‚¹å‰ç«¯å¼€å‘ï¼‰ã€‚å·§äº†ï¼Œæœ€è¿‘æ²¡ä»€ä¹ˆå¥½è¯é¢˜å¯å†™ï¼Œåšä¸‹ React Hooks å­¦ä¹ ç¬”è®°å§ã€‚ Effect Hookä¸å¾—ä¸è¯´ Hook çš„å‡ºç°é™ä½äº†æˆ‘ä»¬åœ¨ React ä¸­å¤„ç†å‰¯ä½œç”¨ï¼ˆside effectï¼‰çš„å¿ƒæ™ºè´Ÿæ‹…ï¼Œé€šè¿‡ useEffect å°±å¯ä»¥å¾ˆå¥½çš„å®Œæˆä¹‹å‰éœ€è¦ä½¿ç”¨å‡ ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°é…åˆæ‰èƒ½å®Œæˆçš„äº‹ã€‚ Effect Hook æ­»å¾ªç¯è¯·æ±‚é—®é¢˜ç”±äº Effect Hook ä¸ç†Ÿã€Œå®˜æ–¹æ–‡æ¡£æ²¡è¯»é€ã€ï¼Œæœ€è¿‘ä½¿ç”¨ useEffect å‡ºç°äº†å¼‚æ­¥è¯·æ±‚å‘é€äº†æ— é™æ¬¡çš„é—®é¢˜ï¼Œç¿»ğŸš—äº†ã€‚æˆ‘æœ‰ä¸ªç»„ä»¶å¤§æ¦‚æ˜¯è¿™ä¹ˆå†™çš„ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940import React, &#123; useState, useEffect &#125; from &#x27;react&#x27;;import request from &#x27;umi-request&#x27;;import logo from &#x27;./logo.svg&#x27;;import &#x27;./App.css&#x27;;function App() &#123; const [data, setData] = useState([]); useEffect(() =&gt; &#123; request(&#x27;https://jsonplaceholder.typicode.com/todos/&#x27;, &#123; method: &#x27;get&#x27;, &#125;) .then(response =&gt; &#123; console.log(&#x27;fetch data&#x27;); setData(response); &#125;) .catch(error =&gt; &#123; console.log(&quot;report error: &quot;, error); &#125;) &#125;); return ( &lt;div className=&quot;App&quot;&gt; &lt;header className=&quot;App-header&quot;&gt; &lt;img src=&#123;logo&#125; className=&quot;App-logo&quot; alt=&quot;logo&quot; /&gt; &lt;ul&gt; &#123;data.map(item =&gt; &#123; return ( &lt;li key=&#123;item.id&#125;&gt;&#123;item.title&#125;&lt;/li&gt; ); &#125;)&#125; &lt;/ul&gt; &lt;/header&gt; &lt;/div&gt; );&#125;export default App; æ•ˆæœå¦‚ä¸‹ï¼š æ•ˆæœ https://zo2c2.csb.app/ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä»è°ƒè¯•æ§åˆ¶å°çœ‹åˆ°ï¼Œå¼‚æ­¥è¯·æ±‚ä¸€ç›´åœ¨å‘ï¼Œé™·å…¥äº†æ­»å¾ªç¯ä¹‹ä¸­ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º useEffect ä¼šåœ¨ç»„ä»¶ Mounting å’Œ Updating é˜¶æ®µæ‰§è¡Œã€‚æ¯æ¬¡ request è¯·æ±‚æˆåŠŸï¼Œæˆ‘ä»¬éƒ½ä¼šè®¾ç½®ä¸€æ¬¡ç»„ä»¶çš„ state -&gt; dataï¼Œæ‰€ä»¥ç»„ä»¶ä¼šæ›´æ–°ï¼ŒuseEffect ä¼šå†æ¬¡æ‰§è¡Œï¼Œå¾ªç¯å¾€å¤ï¼Œé€ æˆäº†æ— é™é‡å¤è¯·æ±‚é—®é¢˜ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿä¹‹å‰æˆ‘å¿½ç•¥äº† useEffect ç¬¬äºŒä¸ªå‚æ•°çš„å­˜åœ¨ï¼Œä½¿ç”¨ useEffect çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›ç»„ä»¶åªåœ¨ mounting é˜¶æ®µå¼‚æ­¥è·å–æ•°æ®ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆè®¾ç½® useEffect çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè®©å®ƒå…·æœ‰å’Œ componentDidMount ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç±»ä¼¼çš„è¡Œä¸ºï¼ˆç»„ä»¶ç¬¬ä¸€æ¬¡ mount åæ‰§è¡Œï¼‰ï¼š React ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ æ¥æºï¼šhttps://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/ 123456789101112useEffect(() =&gt; &#123; request(&#x27;https://jsonplaceholder.typicode.com/todos/&#x27;, &#123; method: &#x27;get&#x27;, &#125;) .then(response =&gt; &#123; console.log(&#x27;fetch data&#x27;); setData(response); &#125;) .catch(error =&gt; &#123; console.log(&quot;report error: &quot;, error); &#125;)&#125;, []); æˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ªç©ºæ•°ç»„ä½œä¸º useEffect çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™æ ·å°±èƒ½é¿å…åœ¨ç»„ä»¶ Updating é˜¶æ®µæ‰§è¡Œ useEffectã€‚è¿™ä¸ªæ•°ç»„æˆä¸ºä¾èµ–æ•°ç»„ã€‚ä¾èµ–æ•°ç»„ä¸ºç©ºï¼Œè¡¨æ˜ useEffect ä¸ä¼šå› ä¸ºæŸä¸ªå˜é‡çš„å˜åŒ–è€Œå†æ¬¡æ‰§è¡Œã€‚åœ¨ç»„ä»¶éœ€è¦æ ¹æ®æŸä¸ªå˜é‡å˜åŒ–è¿›è¡Œæ¸²æŸ“çš„æ—¶å€™ï¼Œå¯ä»¥å°†æ­¤å˜é‡æ”¾åˆ°ä¾èµ–æ•°ç»„ä¸­ï¼Œä¸€æ—¦è¿™ä¸ªä¾èµ–çš„å˜é‡å˜åŠ¨ï¼ŒuseEffect å°±ä¼šé‡æ–°æ‰§è¡Œã€‚ è®©ç»„ä»¶å¸è½½ååšç‚¹äº‹åœ¨ class ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç»„ä»¶å¸è½½åè¦åšçš„äº‹æ”¾åœ¨ componentWillUnmount ä¸­ã€‚å¼•å…¥ Hook åï¼Œåœ¨ function ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç»„ä»¶å¸è½½è¦åšçš„äº‹æ”¾åœ¨ useEffect ä¸­ï¼Œè®©å®ƒè¿”å›ä¸€ä¸ª callback å³å¯ï¼Œå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829import React, &#123; useState, useEffect &#125; from &quot;react&quot;;function Child(&#123; visible &#125;) &#123; useEffect(() =&gt; &#123; alert(&quot;ç»„ä»¶å·²æŒ‚è½½&quot;); return () =&gt; &#123; // return ä¸€ä¸ª callback alert(&quot;ç»„ä»¶å·²è¢«å¸è½½ï¼ï¼&quot;); &#125;; &#125;, []); return visible ? &quot;true&quot; : &quot;false&quot;;&#125;export default function App() &#123; const [visible, changeVisible] = useState(true); return ( &lt;div&gt; &#123;visible &amp;&amp; &lt;Child visible=&#123;visible&#125; /&gt;&#125; &lt;button onClick=&#123;() =&gt; &#123; changeVisible(!visible); &#125;&#125; &gt; &#123;visible ? &quot;å¸è½½ç»„ä»¶&quot; : &quot;æŒ‚è½½ç»„ä»¶&quot;&#125; &lt;/button&gt; &lt;/div&gt; );&#125; effect å¸è½½ç»„ä»¶åšç‚¹äº‹å„¿ å‚è€ƒ ç²¾è¯» useEffect å®Œå…¨æŒ‡å— useEffect å®Œæ•´æŒ‡å— useEffect ä½¿ç”¨æŒ‡å— How to fetch data with React Hooks? çœ‹å®Œè¿™ç¯‡ï¼Œä½ ä¹Ÿèƒ½æŠŠ React Hooks ç©å‡ºèŠ±","categories":[{"name":"React","slug":"React","permalink":"https://yeshan333.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://yeshan333.github.io/tags/React/"}]},{"title":"ä½¿ç”¨docker-composeç¼–æ’å‰åç«¯åˆ†ç¦»åº”ç”¨","slug":"ä½¿ç”¨docker-composeç¼–æ’å‰åç«¯åˆ†ç¦»åº”ç”¨","date":"2020-06-28T11:39:55.000Z","updated":"2020-06-28T11:39:55.000Z","comments":true,"path":"2020/06/28/ä½¿ç”¨docker-composeç¼–æ’å‰åç«¯åˆ†ç¦»åº”ç”¨/","permalink":"https://yeshan333.github.io/2020/06/28/%E4%BD%BF%E7%94%A8docker-compose%E7%BC%96%E6%8E%92%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E5%BA%94%E7%94%A8/","excerpt":"å‡ ä¸ªæœˆè¿‡å»äº†ï¼Œæ˜¯æ—¶å€™æŠŠå½“åˆçš„ ğŸš© å¹²æ‰äº†ã€‚ é¡ºä¾¿æé«˜ä¸‹ docker çš„ç†Ÿç»ƒåº¦ï¼Œå¾—é—²çœ‹ä¸‹åŸç†ğŸš©ï¼ˆå‡æœŸçœ‹è¿‡ï¼Œæ²¡æ€»ç»“â€¦ï¼‰ã€‚ é‡è£…äº†æ³¢ç³»ç»Ÿï¼ˆWindows 2004 ç‰ˆæœ¬ï¼‰ï¼Œè¿™ä¸ªç‰ˆæœ¬ä¸‹ï¼ŒDocker Desktop æ˜¯ä»¥ WSL2 ä¸º backend çš„ï¼Œä¸ç”¨ Hyper -V äº†ï¼Œèˆ’æœäº†å¾ˆå¤šã€‚ ç»†å“äº†ä¸‹ï¼ˆåˆæ‘¸é±¼æ DevOpsï¼‰ï¼Œè·‘è¿™ä¸ªå‰åç«¯åˆ†ç¦»é¡¹ç›®éœ€è¦åˆ°çš„å®¹å™¨è¿˜æŒºå¤šï¼Œ4 ä¸ªå·¦å³ï¼ˆåç«¯ REST æœåŠ¡ã€æ•°æ®åº“æœåŠ¡ã€å‰ç«¯æœåŠ¡ï¼‰ï¼Œå‰ç«¯æœåŠ¡ä¸Šäº†ä¸¤ä¸ªå®¹å™¨ã€è²Œä¼¼æ²¡å¿…è¦ã€ï¼Œä¸€ä¸ªç”¨æ¥è¿‡æ¸¡ï¼Œä¸€ä¸ªè·‘æŒ‚ç€ SPA çš„ Nginxã€‚ è¿™æ¬¡ç¥­å‡ºäº† Docker Composeï¼Œæ¯•ç«Ÿå®¹å™¨æœ‰ç‚¹â€œå°å¤šâ€ï¼Œå•å•ç”¨å‘½ä»¤è´¹åŠ²ã€‚","text":"å‡ ä¸ªæœˆè¿‡å»äº†ï¼Œæ˜¯æ—¶å€™æŠŠå½“åˆçš„ ğŸš© å¹²æ‰äº†ã€‚ é¡ºä¾¿æé«˜ä¸‹ docker çš„ç†Ÿç»ƒåº¦ï¼Œå¾—é—²çœ‹ä¸‹åŸç†ğŸš©ï¼ˆå‡æœŸçœ‹è¿‡ï¼Œæ²¡æ€»ç»“â€¦ï¼‰ã€‚ é‡è£…äº†æ³¢ç³»ç»Ÿï¼ˆWindows 2004 ç‰ˆæœ¬ï¼‰ï¼Œè¿™ä¸ªç‰ˆæœ¬ä¸‹ï¼ŒDocker Desktop æ˜¯ä»¥ WSL2 ä¸º backend çš„ï¼Œä¸ç”¨ Hyper -V äº†ï¼Œèˆ’æœäº†å¾ˆå¤šã€‚ ç»†å“äº†ä¸‹ï¼ˆåˆæ‘¸é±¼æ DevOpsï¼‰ï¼Œè·‘è¿™ä¸ªå‰åç«¯åˆ†ç¦»é¡¹ç›®éœ€è¦åˆ°çš„å®¹å™¨è¿˜æŒºå¤šï¼Œ4 ä¸ªå·¦å³ï¼ˆåç«¯ REST æœåŠ¡ã€æ•°æ®åº“æœåŠ¡ã€å‰ç«¯æœåŠ¡ï¼‰ï¼Œå‰ç«¯æœåŠ¡ä¸Šäº†ä¸¤ä¸ªå®¹å™¨ã€è²Œä¼¼æ²¡å¿…è¦ã€ï¼Œä¸€ä¸ªç”¨æ¥è¿‡æ¸¡ï¼Œä¸€ä¸ªè·‘æŒ‚ç€ SPA çš„ Nginxã€‚ è¿™æ¬¡ç¥­å‡ºäº† Docker Composeï¼Œæ¯•ç«Ÿå®¹å™¨æœ‰ç‚¹â€œå°å¤šâ€ï¼Œå•å•ç”¨å‘½ä»¤è´¹åŠ²ã€‚ Demo å®æˆ˜ Demo åœ°å€ï¼šhttps://github.com/yeshan333/Flask-React-ToDoList 123git clone https://github.com/yeshan333/Flask-React-ToDoListcd Flask-React-ToDoListgit checkout docker 1ã€å…ˆç»™åç«¯æœåŠ¡å†™ä¸ª Dockerfileè¿™ä¸ªé¡¹ç›®çš„åç«¯æœåŠ¡æ˜¯ç”¨ Flask å†™çš„ï¼ŒDockerfile å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122FROM python:3.8-alpineLABEL maintainer = &quot;yeshan &lt;yeshan1329441308@gmail.com&gt;&quot;EXPOSE 5000# Keeps Python from generating .pyc files in the containerENV PYTHONDONTWRITEBYTECODE 1# Turns off buffering for easier container loggingENV PYTHONUNBUFFERED 1# Install pip requirementsADD requirements.txt .RUN python -m pip install -r requirements.txtWORKDIR /appADD . /app# production web serverCMD [&quot;gunicorn&quot;, &quot;--bind&quot;, &quot;0.0.0.0:5000&quot;, &quot;app:app&quot;]# CMD [&quot;flask&quot;, &quot;run&quot;, &quot;--host&quot;, &quot;0.0.0.0&quot;, &quot;--port&quot;, &quot;5000&quot;] ç”Ÿäº§ç¯å¢ƒä¸‹ï¼ŒFlask è‡ªå¸¦çš„æœåŠ¡å™¨ä¸å¤Ÿéªšï¼Œæ‰€ä»¥è¿™é‡Œä¸Š gunicornã€‚ 2ã€å†ç»™å‰ç«¯ React-SPA å†™ä¸ª Dockerfileå‰ç«¯ä½¿ç”¨ React ç¼–å†™ã€Œæƒ³èµ·åˆå­¦é‚£æ—¶å€™æŠ½ç»„ä»¶é‚£å«ä¸€ä¸ªç—›è‹¦ã€ï¼ŒDockerfile å¦‚ä¸‹ 12345678910111213141516171819FROM node:12.18-alpine as frontend-reactLABEL maintainer = &quot;yeshan &lt;yeshan1329441308@gmail.com&gt;&quot;ENV NODE_ENV productionWORKDIR /usr/src/appCOPY [&quot;package.json&quot;, &quot;package-lock.json*&quot;, &quot;npm-shrinkwrap.json*&quot;, &quot;./&quot;]RUN npm install &amp;&amp; npm install -g serveCOPY . .RUN npm run buildEXPOSE 5000CMD [&quot;serve&quot;, &quot;-l&quot;, &quot;tcp://0.0.0.0:5000&quot;, &quot;-s&quot;, &quot;build&quot;] åŸæ¥æƒ³çš„æ˜¯ç›´æ¥ä½¿ç”¨ react-script è‡ªå¸¦çš„ HTTP æœåŠ¡å™¨çš„ï¼Œå‰ç«¯åº”ç”¨ä¹Ÿåœ¨å®¹å™¨è·‘ï¼Œä½†æ˜¯è¿™ä¸ª HTTP æœåŠ¡å™¨ä¸å¤Ÿéªšï¼Œä¸ºäº†ç”Ÿäº§ç¯å¢ƒï¼Œè¿˜æ˜¯ä¸Š Nginx äº†ã€‚ä¸ºäº†è°ƒè¯•ï¼Œä½¿ç”¨ serve å¥—ä¸€ä¸‹æ„å»ºå¥½çš„é¡µé¢ã€‚ 3ã€ç¼–å†™ docker-compose.yml å¯¹å®¹å™¨è¿›è¡Œç¼–æ’æ¥ä¸‹æ¥çš„ç¼–æ’æ–‡ä»¶æ‰æ˜¯å¤§å¤´ï¼Œè°ƒè¯•äº†åŠå¤©ã€ğŸ¤£è¿æ¥ MongoDBğŸ˜‚ã€ã€‚è¿™ä¸ª URI è¿æ¥å­—ç¬¦ä¸²è¯•äº†å¤šç§æ“ä½œï¼Œæ¯”å¦‚ï¼šconnection = MongoClient(&quot;mongodb://mongo:27017/&quot;)ã€connection = MongoClient(&quot;mongo:27017&quot;)ï¼Œæœ€åè¿˜æ˜¯çœ‹æ–‡æ¡£è§£å†³çš„ï¼Œè¿™â€¦ï¼Œæ–‡æ¡£è¿˜æ˜¯é¦™çš„ã€‚ åŸæ¥ compose v2 ä»¥ä¸Šï¼Œä½¿ç”¨ compose è¿›è¡Œç¼–æ’æ—¶ï¼Œä¼šé»˜è®¤å»ºç«‹ä¸€ä¸ªç½‘ç»œï¼ˆbridge ç±»å‹ï¼‰ï¼Œè¿æ¥å„ä¸ªå®¹å™¨ï¼Œä¸»æœºåå’Œå®¹å™¨åç›¸åŒï¼Œåé¢æŒ‡å®šäº†ä¸‹container_name: flask_backendã€container_name: mongo_databaseæ‰åœ¨ flask_backend å®¹å™¨ ping é€š MongoDB æœåŠ¡ã€‚ æ–‡æ¡£åŸæ–‡å¦‚ä¸‹ï¼š By default Compose sets up a single network for your app. Each container for a service joins the default network and is both reachable by other containers on that network, and discoverable by them at a hostname identical to the container name.ğŸ”— OKï¼Œçœ‹ä¸‹è¿™ä¸ªå° demo çš„ç¼–æ’æ–‡ä»¶ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243version: &#x27;3.4&#x27;services: backend: container_name: flask_backend image: backend build: context: ./backend dockerfile: Dockerfile ports: - &quot;5000:5000&quot; depends_on: - database database: container_name: mongo_database image: mongo volumes: - data:/data/db frontend: container_name: frontend-react image: frontend build: context: ./frontend dockerfile: Dockerfile volumes: - static:/usr/src/app/build ports: - &quot;3000:5000&quot; nginx: container_name: webserver-nginx image: nginx:latest ports: - &quot;80:80&quot; volumes: - static:/usr/share/nginx/html command: &quot;/bin/bash -c &quot;nginx -g &#x27;daemon off;&#x27;&quot;volumes: data: static: å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼Œä¹‹å‰ä¸ºå‰ç«¯ SPA åˆ›å»ºçš„å®¹å™¨åªæ˜¯ä¸ºäº†åšä¸‹è¿‡æ¸¡ã€Œé€šè¿‡ static volumn è¿›è¡Œè¿‡æ¸¡ã€ã€‚æœ€ç»ˆçš„åº”ç”¨è¿˜æ˜¯æŒ‚åœ¨ Nginx ä¸Šçš„ã€‚é€šè¿‡ volume åšä¸‹æŒä¹…å­˜å‚¨ã€‚ æœ€åï¼Œè·‘ä¸‹è¯•è¯•ï¼Œçœ‹çœ‹æ•ˆæœå¦‚ä½•ã€‚ 1docker-compose up -d 12# åˆå§‹åŒ–æ•°æ®åº“docker exec -i flask_backend flask create-database å¼€å§‹ç¼–æ’å®¹å™¨åˆ›å»ºçš„ç½‘ç»œä¸å·æ•ˆæœ æ”¶å·¥ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯åšä¸‹æœåŠ¡æŠ½ç¦»ï¼Œéƒ¨ç½²åˆ°äº‘åŸç”Ÿçš„æ“ä½œç³»ç»Ÿä¸Š-Kubernetesï¼ğŸš© å‚è€ƒ Compose file version 3 reference Networking in Compose Python in a container docker-practice npm serve ä½¿ç”¨ Docker éƒ¨ç½² NodeJS + MongoDB é¡¹ç›® Docker Nginx éƒ¨ç½² React","categories":[{"name":"docker","slug":"docker","permalink":"https://yeshan333.github.io/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://yeshan333.github.io/tags/docker/"},{"name":"DevOps","slug":"DevOps","permalink":"https://yeshan333.github.io/tags/DevOps/"},{"name":"æœåŠ¡ç¼–æ’","slug":"æœåŠ¡ç¼–æ’","permalink":"https://yeshan333.github.io/tags/%E6%9C%8D%E5%8A%A1%E7%BC%96%E6%8E%92/"}]},{"title":"ç»™ GitHub commit åŠ ä¸ªå°ç»¿æ ‡","slug":"ç»™ GitHub commit åŠ ä¸ªå°ç»¿æ ‡","date":"2020-06-26T19:11:12.000Z","updated":"2020-06-26T19:11:12.000Z","comments":true,"path":"2020/06/26/ç»™ GitHub commit åŠ ä¸ªå°ç»¿æ ‡/","permalink":"https://yeshan333.github.io/2020/06/26/%E7%BB%99%20GitHub%20commit%20%E5%8A%A0%E4%B8%AA%E5%B0%8F%E7%BB%BF%E6%A0%87/","excerpt":"æœ€è¿‘ä¸€æ³¢é‡è£…ç³»ç»Ÿå•¥éƒ½æ²¡äº†ï¼Œæœ€å¸¸ç”¨çš„ Git é…ç½®è‚¯å®šå¾—å®‰æ’å›æ¥çš„ã€‚è®°å¾—ä¹‹å‰ç»™ git çš„ commit åŠ äº†ä¸ªç­¾åï¼Œå›æƒ³ä¸‹ä¸ºä»€ä¹ˆè¦ç»™ commit åšä¸‹ç­¾åï¼Ÿå› ä¸ºå®ƒèƒ½è®© GitHub çš„ commit å†å²æ›´å¸…ï¼Ÿçœ‹ä¸‹åŠ ç­¾åä¹‹å‰æ˜¯æ€ä¹ˆæ ·çš„ï¼š å¯¹commitè¿›è¡Œç­¾åå‰","text":"æœ€è¿‘ä¸€æ³¢é‡è£…ç³»ç»Ÿå•¥éƒ½æ²¡äº†ï¼Œæœ€å¸¸ç”¨çš„ Git é…ç½®è‚¯å®šå¾—å®‰æ’å›æ¥çš„ã€‚è®°å¾—ä¹‹å‰ç»™ git çš„ commit åŠ äº†ä¸ªç­¾åï¼Œå›æƒ³ä¸‹ä¸ºä»€ä¹ˆè¦ç»™ commit åšä¸‹ç­¾åï¼Ÿå› ä¸ºå®ƒèƒ½è®© GitHub çš„ commit å†å²æ›´å¸…ï¼Ÿçœ‹ä¸‹åŠ ç­¾åä¹‹å‰æ˜¯æ€ä¹ˆæ ·çš„ï¼š å¯¹commitè¿›è¡Œç­¾åå‰ å†çœ‹ä¸‹å¯¹ commit ç­¾ååæ˜¯æ€ä¹ˆæ ·çš„ï¼š å¯¹commitè¿›è¡Œç­¾åå è¿™ä¹ˆä¸€å¯¹æ¯”ï¼Œæ˜¯æ›´å¸…äº†ï¼ä½†æˆ‘å¥½åƒä¸æ˜¯å› ä¸ºè¿™çš„æ‰åšçš„ã€‚æˆ‘æ˜¯ä¸ºäº†æ›´å¥½çš„å»æ··å¼€æºé¡¹ç›®åšçš„ï¼Œè¿™ä¸ªç»¿æ ‡èƒ½æ›´å¥½çš„è¯æ˜æˆ‘çš„èº«ä»½ï¼ï¼ï¼ï¼ˆå‡è£…æˆ‘å¾ˆä¸“ä¸šï¼Œ2333~ï¼‰ã€‚ä½¿ç”¨è¿‡ Git çš„åŒå­¦åº”è¯¥éƒ½æ™“å¾—ï¼Œæˆ‘ä»¬çš„æäº¤ä½œè€…ä¿¡æ¯æ˜¯å¯ä»¥è‡ªå·±è®¾ç½®çš„ï¼ˆè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»–äººèº«ä»½ä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹ï¼š 12$ git config user.name &quot;tester&quot;$ git config user.email &quot;gg@qq.com&quot; å†’ç”¨ä½œè€…ä¿¡æ¯ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ˜¯å¯ä»¥ push åˆ° GitHub çš„[æ²¡æœ‰å°ç»¿æ ‡è€Œå·²]ã€‚è¿™çœ‹èµ·æ¥å°±ä¸å¤ªå¥½ï¼Œå¾—è®© GitHub è¯æ˜ä¸‹è‡ªå·±å¾—èº«ä»½æ‰è¡Œï¼Œä»å®˜æ–¹æ–‡æ¡£å¯ä»¥çœ‹åˆ°ï¼Œ GitHub æä¾›äº†ä¸€ç§ä½¿ç”¨ GPG çš„æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬çš„ commit â€œæˆ´â€ä¸Šå°ç»¿æ ‡ã€‚ å¿˜äº†å½“åˆæ˜¯æ€ä¹ˆæ“ä½œçš„äº†ï¼Œåœ¨ Windows ä¸‹æ“ä½œè²Œä¼¼è¿˜æŒºéº»çƒ¦çš„ï¼Œè¶æ­¤æ‹ä¸€ä¸‹è¿‡ç¨‹ï¼Œè¶æœºæ°´ç¯‡æ–‡ç« ã€‚ GNU Privacy Guardï¼ˆGnuPGæˆ–GPGï¼‰æ˜¯ä¸€ä¸ªå¯†ç å­¦è½¯ä»¶ï¼Œç”¨äºåŠ å¯†ã€ç­¾åé€šä¿¡å†…å®¹åŠç®¡ç†éå¯¹ç§°å¯†ç å­¦çš„å¯†é’¥ã€‚ ç”Ÿæˆ GPG å¯†é’¥å¯¹ç¬¬ä¸€æ­¥è‚¯å®šå°±æ˜¯é€šè¿‡ GPG ç”Ÿæˆå¯†é’¥å¯¹äº†ã€‚è¿™æ—¶å€™éœ€è¦åˆ°ä¸€ä¸ª GnuPG è½¯ä»¶ï¼ŒOKï¼Œå»ä¸‹è½½ï¼šğŸ”GnuPGã€‚å…¶å® Git fot windows è‡ªå¸¦ä¸€ä¸ª gpg å‘½ä»¤è¡Œç¨‹åºï¼Œä½†æ˜¯å‘½ä»¤è¡Œç”¨å¤šäº†ï¼Œè¿˜æ˜¯ä¸Š GUI æ„‰å¿«ç‚¹å§ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨å¸¦ GUI çš„ Gpg4winğŸ”—ã€‚ æˆ‘ä»¬é€šè¿‡å…¨å®¶æ¡¶è½¯ä»¶ä¹‹ Kleopatra æ–°å»ºç«‹ä¸€å¯¹å¯†é’¥ï¼Œåå­—ä¸º GitHub ç”¨æˆ·åï¼Œé‚®ç®±ä¸º GitHub çš„æ³¨å†Œé‚®ç®±ï¼ˆä½¿ç”¨ 4096 bitsçš„å¯†é’¥ï¼‰ï¼š è®¾ç½® passphrase ï¼ˆé€šè¡Œå£ä»¤ï¼‰æ¥ä¿æŠ¤æˆ‘ä»¬çš„å¯†é’¥å¯¹ï¼Œæ¯æ¬¡ç­¾åéƒ½ä¼šç”¨å®ƒåˆ°ã€‚ï¼ˆä¹Ÿå¯ä»¥ä¸è®¾ç½®ï¼Œä¸ç”¨å£ä»¤éªŒè¯å°±å¯ä»¥ç›´æ¥ä½¿ç”¨å¯†é’¥ï¼‰ å¥½äº†ï¼Œå¯†é’¥å¯¹ç”Ÿæˆå®Œæ¯•ã€‚ä¸‹ä¸€æ­¥ï¼Œå°±æ˜¯æŠŠæŠŠå…¬é’¥æ”¾åˆ° GitHub ä¸Šï¼Œè®© GitHub å¯¹æˆ‘ä»¬çš„æäº¤è¿›è¡ŒéªŒè¯ï¼Œåˆ¤æ–­æ˜¯å¦è¯¥ç»™ commit â€œæˆ´â€ä¸Šå°ç»¿æ ‡ã€‚[è·å–å…¬é’¥ï¼šé¼ æ ‡å³é”®-&gt;ç»†èŠ‚-&gt;å¯¼å‡º]ã€[GitHub æ·»åŠ å…¬é’¥ï¼šSettings-&gt;SSH and GPG keys]ã€‚ ä¸‹ä¸€æ­¥å°±æ˜¯å¼€å¯ Git æäº¤ç­¾åã€‚ å¯ç”¨ Git æäº¤ç­¾åé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®© Git çŸ¥é“ gpg çš„å¯æ‰§è¡Œç¨‹åºåœ¨å“ªé‡Œï¼Ÿgpg çš„å¯æ‰§è¡Œç¨‹åºä½äºGpg4winğŸ”—åŒçº§ç›®å½•ä¸‹çš„GnuPG/binä¸­ï¼ˆGnuPG æ˜¯ Gpg4win ç»„ä»¶ä¹‹ä¸€ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š 1$ git config --global gpg.program &lt;path_to_gpg&gt; æˆ‘çš„è®¾ç½®å¦‚ä¸‹ï¼š 1234$ where gpgE:\\Git\\usr\\bin\\gpg.exe # è¿™ä¸ªæ˜¯ Git for windows è‡ªå¸¦çš„E:\\GnuPG\\bin\\gpg.exe # è¿™ä¸ªæ‰æ˜¯æˆ‘ä»¬è¦ç”¨çš„$ git config --global gpg.program &quot;E:\\GnuPG\\bin\\gpg.exe&quot; ç„¶åæ¯æ¬¡git commitæ—¶ï¼ŒåŠ ä¸Š-Så³å¯å¯ç”¨ç­¾åã€‚ æ¯æ¬¡éƒ½è¦å¤šæ‰“ä¸ªå‚æ•°å¤šéº»çƒ¦ï¼Œæˆ‘ä»¬é€šè¿‡å¦‚ä¸‹é…ç½®è®© Git é»˜è®¤å¯ç”¨ GPG ç­¾åï¼š 1$ git config --global commit.gpgsign true æœ€åæˆ‘ä»¬git pushä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰æ•ˆæœã€‚https://github.com/yeshan333/anonymous-git-commit/commits/master æ²¡é—®é¢˜ï¼Œæ”¶å·¥äº†ã€‚æˆ‘çš„ Git å…¨å±€é…ç½®å¦‚ä¸‹ï¼š 12345678$ cat ~/.gitconfig[user] name = yeshan333 email = 1329441308@qq.com[gpg] program = E:\\\\GnuPG\\\\bin\\\\gpg.exe[commit] gpgsign = true å‚è€ƒ GunPG GitHub - Signing commits ç»™ä½ çš„ Git commit åŠ ä¸Šç»¿å‹¾ - ä¸€ä¸ªç®€å•ä½†å¾ˆå¤šäººæ²¡æ³¨æ„çš„ç»†èŠ‚","categories":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/categories/Git/"}],"tags":[{"name":"GPG","slug":"GPG","permalink":"https://yeshan333.github.io/tags/GPG/"},{"name":"åŠ å¯†","slug":"åŠ å¯†","permalink":"https://yeshan333.github.io/tags/%E5%8A%A0%E5%AF%86/"},{"name":"éšç§","slug":"éšç§","permalink":"https://yeshan333.github.io/tags/%E9%9A%90%E7%A7%81/"}]},{"title":"å°† Web åº”ç”¨ä¸¢ç»™å®ˆæŠ¤è¿›ç¨‹","slug":"å°†Webåº”ç”¨ä¸¢ç»™å®ˆæŠ¤è¿›ç¨‹","date":"2020-06-21T14:26:36.000Z","updated":"2020-06-21T14:26:36.000Z","comments":true,"path":"2020/06/21/å°†Webåº”ç”¨ä¸¢ç»™å®ˆæŠ¤è¿›ç¨‹/","permalink":"https://yeshan333.github.io/2020/06/21/%E5%B0%86Web%E5%BA%94%E7%94%A8%E4%B8%A2%E7%BB%99%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/","excerpt":"æœ€è¿‘è€æ˜¯è¦æŠŠ Web App&#x2F;Service éƒ¨ç½²åœ¨ä¸ªäººçš„æœåŠ¡å™¨ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œå‘ç°è‡ªå·±ä¸æ€ä¹ˆç†Ÿæ‚‰ã€Œå‰æï¼šä¸ä¸Š docker ï¼Œé€ƒ~ã€ï¼Œç‰¹å†™æ­¤æ–‡ç« æ¥çºªå¿µä¸‹ğŸ¤”ğŸ‘€ï¼ˆä¹‹å‰éƒ¨ç½²çš„ Web App&#x2F;Service éƒ½æ˜¯ä¸¢ç»™ Herokuã€Netlifyã€GitHub è¿™æ ·çš„ PaaS å¹³å°è¿è¡Œï¼Œå†™ä¸ªé…ç½®æ–‡ä»¶ã€Œactionã€yamlã€tomlã€å°±å®Œäº‹äº†ã€‚è‡ªå·±æ•´çš„ç©æ„å„¿ä¸¢åœ¨è‡ªå·±æœåŠ¡å™¨ä¸Šè·‘çš„å¹¶ä¸ç®—å¤šï¼Œä»Šå¤©è´¹ç‚¹åŠ²ï¼Œäº†è§£ç‚¹åŸºç¡€è®¾æ–½ã€‚æ ¹æ®å†°å±±æ¨¡å‹ï¼Œäº†è§£ä¸‹ FaaS èƒ½æ›´å¥½çš„äº†è§£ PaaSï¼‰ã€‚","text":"æœ€è¿‘è€æ˜¯è¦æŠŠ Web App&#x2F;Service éƒ¨ç½²åœ¨ä¸ªäººçš„æœåŠ¡å™¨ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œå‘ç°è‡ªå·±ä¸æ€ä¹ˆç†Ÿæ‚‰ã€Œå‰æï¼šä¸ä¸Š docker ï¼Œé€ƒ~ã€ï¼Œç‰¹å†™æ­¤æ–‡ç« æ¥çºªå¿µä¸‹ğŸ¤”ğŸ‘€ï¼ˆä¹‹å‰éƒ¨ç½²çš„ Web App&#x2F;Service éƒ½æ˜¯ä¸¢ç»™ Herokuã€Netlifyã€GitHub è¿™æ ·çš„ PaaS å¹³å°è¿è¡Œï¼Œå†™ä¸ªé…ç½®æ–‡ä»¶ã€Œactionã€yamlã€tomlã€å°±å®Œäº‹äº†ã€‚è‡ªå·±æ•´çš„ç©æ„å„¿ä¸¢åœ¨è‡ªå·±æœåŠ¡å™¨ä¸Šè·‘çš„å¹¶ä¸ç®—å¤šï¼Œä»Šå¤©è´¹ç‚¹åŠ²ï¼Œäº†è§£ç‚¹åŸºç¡€è®¾æ–½ã€‚æ ¹æ®å†°å±±æ¨¡å‹ï¼Œäº†è§£ä¸‹ FaaS èƒ½æ›´å¥½çš„äº†è§£ PaaSï¼‰ã€‚ å†°å±±çš„åº•éƒ¨-åŸºç¡€åœ¨æŠŠ Web åº”ç”¨ä¸¢ç»™å®ˆæŠ¤ï¼ˆdaemonï¼‰è¿›ç¨‹å‰ï¼Œåº”è¯¥äº†è§£éƒ¨åˆ†åŸºç¡€æ¦‚å¿µã€‚ å®ˆæŠ¤è¿›ç¨‹æ˜¯åœ¨åå°è¿è¡Œä¸å—ç»ˆç«¯æ§åˆ¶çš„è¿›ç¨‹ï¼ˆå¦‚è¾“å…¥ã€è¾“å‡ºç­‰ï¼‰ã€‚ æ’å…¥ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬ä¹‹å‰åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œæ˜¯å¦‚ä½•è¿è¡Œ Web æœåŠ¡çš„ï¼Ÿå¯¹äº Spring Bootï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯ä½¿ç”¨ mvn spring-boot:run åœ¨å‰å°è·‘ Web æœåŠ¡ï¼›å¯¹äº React å‰ç«¯åº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ npm script å³ npm start å¯åŠ¨å‰ç«¯ HTTP æœåŠ¡å™¨è¿›è¡Œ view å±‚é¢„è§ˆã€‚é—®é¢˜æ¥äº†ï¼Œè¿™æ ·æ“ä½œï¼ŒæœåŠ¡è¿›ç¨‹æ˜¯è·‘åœ¨å‰å°çš„ï¼ˆæ‰€è°“çš„å‰å°ä»»åŠ¡&#x2F;è¿›ç¨‹ï¼‰ï¼Œå½“æˆ‘ä»¬é€€å‡ºæ“ä½œç»ˆç«¯æˆ–è€…æ‰‹åŠ¨ç»ˆæ­¢æ—¶ï¼Œè¿™äº›æœåŠ¡ä¹Ÿå°±ä¸èƒ½ç”¨äº†ï¼Œè€Œä¸”å‰å°ä»»åŠ¡ç‹¬å äº†ä¸€ä¸ªç»ˆç«¯ï¼Œä½¿å¾—æˆ‘ä»¬ä¸èƒ½å†åœ¨æ­¤ç»ˆç«¯æ‰§è¡Œå…¶ä»–å‘½ä»¤ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬è¦è®©æœåŠ¡æŒä¹…è¿è¡Œï¼Œè¿™ç§æƒ…å†µæ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æƒ³çœ‹åˆ°çš„ï¼Œé‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ æ‰€è°“çš„å‰å°ä»»åŠ¡æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥çœ‹å¾—åˆ°çš„ã€‚ åœ¨äº†è§£å¦‚ä½•è§£å†³é—®é¢˜å‰ï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦äº†è§£ä¸‹ä¸ºä»€ä¹ˆå‰å°ä»»åŠ¡ä¼šéšç€ session çš„é€€å‡ºè€Œé€€å‡ºï¼ˆæ”¶åˆ°äº† SIGHUPï¼‰ã€‚Linux ç³»ç»Ÿå¯¹æ­¤çš„è®¾è®¡å¦‚ä¸‹ï¼š 12341ã€ç”¨æˆ·å‡†å¤‡é€€å‡º session2ã€ç³»ç»Ÿå‘è¯¥ session å‘å‡ºSIGHUPä¿¡å·3ã€session å°†SIGHUPä¿¡å·å‘ç»™æ‰€æœ‰å­è¿›ç¨‹4ã€å­è¿›ç¨‹æ”¶åˆ°SIGHUPä¿¡å·åï¼Œè‡ªåŠ¨é€€å‡º SIGHUP æ˜¯ä»€ä¹ˆ SIGHUPï¼ˆsignal hang upï¼‰ ä¿¡å·åœ¨ç”¨æˆ·ç»ˆç«¯è¿æ¥(æ­£å¸¸æˆ–éæ­£å¸¸)ç»“æŸæ—¶å‘å‡º, é€šå¸¸æ˜¯åœ¨ç»ˆç«¯çš„æ§åˆ¶è¿›ç¨‹ç»“æŸæ—¶, é€šçŸ¥åŒä¸€ session å†…çš„å„ä¸ªä½œä¸š, è¿™æ—¶å®ƒä»¬ä¸æ§åˆ¶ç»ˆç«¯ä¸å†å…³è”. ç³»ç»Ÿå¯¹ SIGHUP ä¿¡å·çš„é»˜è®¤å¤„ç†æ˜¯ç»ˆæ­¢æ”¶åˆ°è¯¥ä¿¡å·çš„è¿›ç¨‹ã€‚æŸ¥çœ‹ç»´åŸºç™¾ç§‘ï¼šUnix ä¿¡å· ä»€ä¹ˆæ˜¯è¿›ç¨‹ç»„ è¿›ç¨‹ç»„æ˜¯ä¸€ç³»åˆ—ç›¸äº’å…³è”çš„è¿›ç¨‹é›†åˆï¼Œç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªè¿›ç¨‹å¿…é¡»ä»å±äºæŸä¸€ä¸ªè¿›ç¨‹ç»„ï¼›æ¯ä¸ªè¿›ç¨‹ç»„ä¸­éƒ½ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„ ID(process group id)ï¼Œç®€ç§° PGIDï¼›PGID ä¸€èˆ¬ç­‰åŒäºè¿›ç¨‹ç»„çš„åˆ›å»ºè¿›ç¨‹çš„ Process IDï¼Œè€Œè¿™ä¸ªè¿›ç¨‹ä¸€èˆ¬ä¹Ÿä¼šè¢«ç§°ä¸ºè¿›ç¨‹ç»„å…ˆå¯¼(process group leader)ï¼ŒåŒä¸€è¿›ç¨‹ç»„ä¸­é™¤äº†è¿›ç¨‹ç»„å…ˆå¯¼å¤–çš„å…¶ä»–è¿›ç¨‹éƒ½æ˜¯å…¶å­è¿›ç¨‹ï¼›è¿›ç¨‹ç»„çš„å­˜åœ¨ï¼Œæ–¹ä¾¿äº†ç³»ç»Ÿå¯¹å¤šä¸ªç›¸å…³è¿›ç¨‹æ‰§è¡ŒæŸäº›ç»Ÿä¸€çš„æ“ä½œï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§å‘é€ä¸€ä¸ªä¿¡å·é‡ç»™åŒä¸€è¿›ç¨‹ç»„ä¸­çš„æ‰€æœ‰è¿›ç¨‹ã€‚ ä»€ä¹ˆæ˜¯ session ä¼šè¯ï¼ˆsessionï¼‰æ˜¯ä¸€ä¸ªè‹¥å¹²è¿›ç¨‹ç»„çš„é›†åˆï¼ŒåŒæ ·çš„ï¼Œç³»ç»Ÿä¸­æ¯ä¸€ä¸ªè¿›ç¨‹ç»„ä¹Ÿéƒ½å¿…é¡»ä»å±äºæŸä¸€ä¸ªä¼šè¯ï¼›ä¸€ä¸ªä¼šè¯åªæ‹¥æœ‰æœ€å¤šä¸€ä¸ªæ§åˆ¶ç»ˆç«¯ï¼ˆä¹Ÿå¯ä»¥æ²¡æœ‰ï¼‰ï¼Œè¯¥ç»ˆç«¯ä¸ºä¼šè¯ä¸­æ‰€æœ‰è¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹æ‰€å…±ç”¨ã€‚ä¸€ä¸ªä¼šè¯ä¸­å‰å°è¿›ç¨‹ç»„åªä¼šæœ‰ä¸€ä¸ªï¼Œåªæœ‰å…¶ä¸­çš„è¿›ç¨‹æ‰å¯ä»¥å’Œæ§åˆ¶ç»ˆç«¯è¿›è¡Œäº¤äº’ï¼›é™¤äº†å‰å°è¿›ç¨‹ç»„å¤–çš„è¿›ç¨‹ç»„ï¼Œéƒ½æ˜¯åå°è¿›ç¨‹ç»„ï¼›å’Œè¿›ç¨‹ç»„å…ˆå¯¼ç±»ä¼¼ï¼Œä¼šè¯ä¸­ä¹Ÿæœ‰ä¼šè¯å…ˆå¯¼(session leader)çš„æ¦‚å¿µï¼Œç”¨æ¥è¡¨ç¤ºå»ºç«‹èµ·åˆ°æ§åˆ¶ç»ˆç«¯è¿æ¥çš„è¿›ç¨‹ã€‚åœ¨æ‹¥æœ‰æ§åˆ¶ç»ˆç«¯çš„ä¼šè¯ä¸­ï¼Œsession leader ä¹Ÿè¢«ç§°ä¸ºæ§åˆ¶è¿›ç¨‹(controlling process)ï¼Œä¸€èˆ¬æ¥è¯´æ§åˆ¶è¿›ç¨‹ä¹Ÿå°±æ˜¯ç™»å…¥ç³»ç»Ÿçš„ shell è¿›ç¨‹(login shell)ï¼› OKï¼Œå›åˆ°æˆ‘ä»¬çš„é—®é¢˜ï¼Œå¦‚ä½•è®©ä»»åŠ¡æŒä¹…è¿è¡Œã€ä¸å½±å“å…¶ä»–æ“ä½œã€‚è¿™æ—¶ï¼Œåå°è¿›ç¨‹å°±è¯¥ç™»åœºäº†ï¼Œå°†ä»»åŠ¡ä¸¢åœ¨åå°æ‰§è¡Œã€‚ä¸€ä¸ªä»»åŠ¡è¦ä¸¢ç»™å®ˆæŠ¤è¿›ç¨‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯è¦å°†ä»–å˜ä¸ºåå°è¿›ç¨‹ã€‚å˜ä¸ºåå°è¿›ç¨‹åï¼Œä¸€ä¸ªè¿›ç¨‹æ˜¯å¦å°±æˆä¸ºäº†å®ˆæŠ¤è¿›ç¨‹å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œç”¨æˆ·é€€å‡º session ä»¥åï¼Œåå°è¿›ç¨‹æ˜¯å¦è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Ÿç­”æ¡ˆæ˜¯æœªå¿…ã€‚çœ‹å®Œåé¢å°±æ˜ç™½äº†ã€‚ å†°å±±çš„ä¸Šå±‚-åº”ç”¨Linux æä¾›äº†å¾ˆå¤šç§æ–¹æ³•è®©æˆ‘ä»¬å°†å‰å°è¿›ç¨‹å˜ä¸ºåå°è¿›ç¨‹ï¼ŒæŒ‘å‡ ç§ä»‹ç»ä¸‹ã€‚ å°†å‰å°è¿›ç¨‹å˜ä¸ºåå°è¿›ç¨‹çš„å‡ ç§æ–¹å¼ä½ä¸è¿ç®—ç¬¦-&amp;é€šè¿‡åœ¨å‘½ä»¤çš„å°¾éƒ¨åŠ ä¸ªç¬¦å·&amp;å³å¯å°†è¿›ç¨‹å¯åŠ¨ä¸ºåå°è¿›ç¨‹ï¼Œåå°è¿›ç¨‹çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š åå°è¿›ç¨‹ç‰¹ç‚¹ 1ã€ç»§æ‰¿å½“å‰ session ï¼ˆå¯¹è¯ï¼‰çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰å’Œæ ‡å‡†é”™è¯¯ï¼ˆstderrï¼‰ã€‚å› æ­¤ï¼Œåå°ä»»åŠ¡çš„æ‰€æœ‰è¾“å‡ºä¾ç„¶ä¼šåŒæ­¥åœ°åœ¨å‘½ä»¤è¡Œä¸‹æ˜¾ç¤ºã€‚2ã€ä¸å†ç»§æ‰¿å½“å‰ session çš„æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰ã€‚ä½ æ— æ³•å‘è¿™ä¸ªä»»åŠ¡è¾“å…¥æŒ‡ä»¤äº†ã€‚å¦‚æœå®ƒè¯•å›¾è¯»å–æ ‡å‡†è¾“å…¥ï¼Œå°±ä¼šæš‚åœæ‰§è¡Œï¼ˆhaltï¼‰ã€‚è¿™ä¸ªç‰¹ç‚¹ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ‰§è¡Œå…¶ä»–å‘½ä»¤ã€‚ æˆ‘ä»¬å¯ä»¥è¿è¡Œä¸€ä¸ª FastAPI ç¼–å†™çš„ Web æœåŠ¡è§‚å¯Ÿä¸‹ã€‚ 1uvicorn main:app --reload &amp; å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼Œåå°è¿›ç¨‹ç»§æ‰¿äº†å½“å‰ session ï¼ˆå¯¹è¯ï¼‰çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰ã€‚æˆ‘ä»¬çŸ¥é“è¿›ç¨‹æ”¶åˆ° SIGHUP ä¿¡å·ä¼šè¢«ç»ˆæ­¢ï¼Œé‚£ä¹ˆåå°è¿›ç¨‹æ˜¯å¦ä¼šæ”¶åˆ° SIGHUP ä¿¡å·æŒ‚æ‰ï¼Ÿæå‡ºé˜¿é‡Œäº‘æœåŠ¡å™¨å®éªŒä¸‹ã€‚ è¿™ã€‚ã€‚ã€‚åå°è¿›ç¨‹åœ¨æˆ‘ä»¬é€€å‡º session åæŒ‚æ‰äº†ï¼ï¼ï¼ï¼Œè¿™æ˜¯ä¸ºå•¥ï¼Ÿé‚£æ˜¯å› ä¸ºåå°è¿›ç¨‹ä¸æ ‡å‡† I&#x2F;O æœ‰äº¤äº’ï¼ˆè¿™ä¸ªæœåŠ¡æ‰“æ—¥å¿—äº†ï¼‰ï¼Œåå°è¿›ç¨‹çš„çš„æ ‡å‡† I&#x2F;O ç»§æ‰¿è‡ªå½“å‰ sessionï¼Œå°±ç®—åŠ ä¸ª &amp; ç¬¦å·ä¹Ÿæ²¡æœ‰æ”¹å˜è¿™ä¸€ç‰¹ç‚¹ã€‚æˆ‘ä»¬æƒ³è¦çš„æ˜¯æœåŠ¡åœ¨åå°æŒä¹…è¿è¡Œï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ Linux æä¾›äº†ä¸€ä¸ª nohup å‘½ä»¤å¯ä»¥å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ FastAPI Web æœåŠ¡ä»£ç  12345678910111213141516171819202122232425# -*- coding: utf-8 -*-from fastapi import FastAPIfrom pydantic import BaseModelapp = FastAPI()class People(BaseModel): name: str age: int country: str offer_call: bool = None@app.get(&#x27;/&#x27;)def root(): return &#123;&quot;status&quot;: &quot;hello world&quot;&#125;@app.get(&#x27;/person/&#123;your_name&#125;&#x27;)def get_people_info(your_name: str, q: int = None): return &#123;&quot;your name&quot;: your_name, &quot;query&quot;: q&#125;@app.put(&#x27;/person/&#123;your_name&#125;&#x27;)def update_people_info(your_name: str, person: People): return &#123;&quot;people name&quot;: your_name, &quot;locate&quot;: person.age&#125; é˜»æ–­ SIGHUP ä¿¡å·çš„ nohup å¥½äº†ï¼Œå°±ç®—ç»“æŸäº† session æ­¤ Web æœåŠ¡ä»åœ¨è¿è¡Œã€‚nohup å‘½ä»¤å®é™…ä¸Šå°†å­è¿›ç¨‹ä¸å®ƒæ‰€åœ¨çš„ session åˆ†ç¦»äº†ã€‚OKï¼Œè¿›ç¨‹ç”±åå°è¿›ç¨‹å˜ä¸ºå®ˆæŠ¤è¿›ç¨‹äº†ï¼ˆæœ‰é‚£å‘³äº†ï¼Œè¿˜ä¸ç®—çœŸæ­£çš„å®ˆæŠ¤è¿›ç¨‹ï¼‰ã€‚ å®ˆæŠ¤è¿›ç¨‹åœ¨ session å…³é—­æ—¶ä¸ä¼šå—å½±å“ã€‚å®ˆæŠ¤è¿›ç¨‹çš„ä¼šè¯ç»„å’Œå½“å‰ç›®å½•ï¼Œæ–‡ä»¶æè¿°ç¬¦éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚åå°è¿è¡Œåªæ˜¯ç»ˆç«¯è¿›è¡Œäº†ä¸€æ¬¡forkï¼Œè®©ç¨‹åºåœ¨åå°æ‰§è¡Œï¼Œè¿™äº›éƒ½æ²¡æ”¹å˜ã€‚ nohup åšçš„é‚£äº›äº‹ é˜»æ­¢SIGHUPä¿¡å·å‘åˆ°è¿™ä¸ªè¿›ç¨‹ï¼ˆPIDï¼š14229ï¼‰ã€‚å…³é—­æ ‡å‡†è¾“å…¥ã€‚è¯¥è¿›ç¨‹ä¸å†èƒ½å¤Ÿæ¥æ”¶ä»»ä½•è¾“å…¥ï¼Œå³ä½¿è¿è¡Œåœ¨å‰å°ã€‚é‡å®šå‘æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯åˆ°æ–‡ä»¶nohup.outã€‚ å®ˆæŠ¤è¿›ç¨‹ç®¡ç†å·¥å…·-systemdSystemdï¼ˆSystem Daemonï¼‰ å¹¶ä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œæ˜¯ä¸€ç»„å‘½ä»¤ï¼Œæ¶‰åŠåˆ°ç³»ç»Ÿç®¡ç†çš„æ–¹æ–¹é¢é¢ã€‚è¿™é‡Œä¸åšä»‹ç»ï¼Œç›´æ¥ç»“åˆåœºæ™¯æ¥ç©è€ã€‚æ•™ç¨‹å¯çœ‹ï¼šSystemd å…¥é—¨æ•™ç¨‹ï¼šå‘½ä»¤ç¯‡ã€‚ æ˜¯æ—¶å€™æå‡º Spring-Boot åº”ç”¨äº†ï¼ˆmvn clean package æ„å»ºå¥½ jar åŒ…ï¼‰ã€‚å…ˆä¸ºè¿™ä¸ªåº”ç”¨å†™ä¸ª Systemd çš„é…ç½®æ–‡ä»¶spring-boot-app.serviceï¼Œå¦‚ä¸‹ 12345678910111213[Unit]Description=Spring Boot RESTful APIs Services[Service]ExecStart=/usr/local/java/jdk1.8.0_221/bin/java -jar /home/www/body/target/bodymanagement-0.0.1-SNAPSHOT.jarRestart=alwaysUser=rootGroup=rootEnvironment=PATH=/usr/local/java/jdk1.8.0_221/bin/javaWorkingDirectory=/home/www/body/[Install]WantedBy=multi-user.target ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 123456# å°†é…ç½®æ–‡ä»¶æ‹·è´åˆ° systemd ä¸­cp spring-boot-app.service /etc/systemd/system# é‡è½½é…ç½®æ–‡ä»¶$ sudo systemctl daemon-reload# å¯åŠ¨æœåŠ¡$ sudo systemctl start spring-boot-app.service è®¿é—®ï¼šhttp://47.92.4.141:8080/api/user/findLatestInfï¼Œå³å¯çœ‹åˆ°ç½‘é¡µæ˜¾ç¤º[]ã€‚ 12$ systemctl enable spring-boot-app.service # è®¾ç½®å¼€æœºå¯åŠ¨Created symlink from /etc/systemd/system/multi-user.target.wants/spring-boot-app.service to /etc/systemd/system/spring-boot-app.service. ä½¿ç”¨systemctl status spring-boot-app.serviceå¯ä»¥æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼Œä½¿ç”¨journalctl -u spring-boot-appå¯ä»¥æŸ¥çœ‹æœåŠ¡çŠ¶æ€ã€‚ æ›´å¤šå¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829# æŸ¥çœ‹æŸä¸ª Unit çš„æ—¥å¿—$ sudo journalctl -u nginx.service# æŸ¥çœ‹æŸä¸ª Unit çŠ¶æ€$ sudo systemctl status mongod# è®©æŸä¸ª Unit å¼€æœºæ—¶å¯åŠ¨$ sudo systemctl enable mongod# ç«‹å³å¯åŠ¨ä¸€ä¸ªæœåŠ¡$ sudo systemctl start apache.service# ç«‹å³åœæ­¢ä¸€ä¸ªæœåŠ¡$ sudo systemctl stop apache.service# é‡å¯ä¸€ä¸ªæœåŠ¡$ sudo systemctl restart apache.service# æ€æ­»ä¸€ä¸ªæœåŠ¡çš„æ‰€æœ‰å­è¿›ç¨‹$ sudo systemctl kill apache.service# é‡æ–°åŠ è½½ä¸€ä¸ªæœåŠ¡çš„é…ç½®æ–‡ä»¶, ä¸€æ—¦é…ç½®æ–‡ä»¶ä¿®æ”¹å°±éœ€è¦ä½¿ç”¨$ sudo systemctl reload apache.service# æŸ¥çœ‹æŸä¸ªæœåŠ¡çš„é…ç½®æ–‡ä»¶$ systemctl cat sshd.service# é‡æ–°åŠ è½½æ‰€æœ‰é…ç½®æ–‡ä»¶$ sudo systemctl daemon-reload å‚è€ƒ ç½‘ç»œç¼–ç¨‹çš„ä¸‰ä¸ªé‡è¦ä¿¡å·ï¼ˆSIGHUP ï¼ŒSIGPIPEï¼ŒSIGURGï¼‰ Linux å®ˆæŠ¤è¿›ç¨‹çš„å¯åŠ¨æ–¹æ³• ä»€ä¹ˆæ˜¯å®ˆæŠ¤è¿›ç¨‹ Node åº”ç”¨çš„ Systemd çš„å¯åŠ¨","categories":[{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/categories/Linux/"}],"tags":[{"name":"æœåŠ¡å™¨è¿›ç¨‹ç®¡ç†","slug":"æœåŠ¡å™¨è¿›ç¨‹ç®¡ç†","permalink":"https://yeshan333.github.io/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"}]},{"title":"(è¯‘)é€šè¿‡ Git å’Œ Angular äº†è§£è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯","slug":"è¯‘-é€šè¿‡-Git-å’Œ-Angular-äº†è§£è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯","date":"2020-06-04T22:06:59.000Z","updated":"2020-06-04T22:06:59.000Z","comments":true,"path":"2020/06/04/è¯‘-é€šè¿‡-Git-å’Œ-Angular-äº†è§£è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯/","permalink":"https://yeshan333.github.io/2020/06/04/%E8%AF%91-%E9%80%9A%E8%BF%87-Git-%E5%92%8C-Angular-%E4%BA%86%E8%A7%A3%E8%AF%AD%E4%B9%89%E5%8C%96%E6%8F%90%E4%BA%A4%E4%BF%A1%E6%81%AF/","excerpt":"å—ä¼ ç»Ÿæäº¤è§„èŒƒå’Œ Angular çº¦å®šçš„å¯å‘ï¼Œè®©æˆ‘ä»¬æ¥è§£é‡Šè¯­ä¹‰åŒ–æäº¤æœ¯è¯­ï¼Œå¹¶æ¼”ç¤ºæäº¤ä¿¡æ¯çš„å®é™…ç¤ºä¾‹ã€‚ è®¸å¤šé¡¹ç›®å†³å®šä»¥æŸç§çº¦å®šæ–¹å¼æ¥æ ‡å‡†åŒ–å®ƒä»¬çš„æäº¤ä¿¡æ¯ã€‚è¿™ç§åšæ³•å¹¶ä¸æ˜¯æ–°å‡ºç°çš„ï¼Œä½†åœ¨æœ€è¿‘å‡ å¹´ä¸­è¶Šæ¥è¶Šå¤šåœ°å¾—åˆ°äº†åº”ç”¨ã€‚è€Œä¸”å¾ˆå¯èƒ½æ‚¨å·²ç»åœ¨æŸäº›é¡¹ç›®ä¸­é‡åˆ°è¿‡è¿™æ ·çš„æäº¤æ¶ˆæ¯ã€‚","text":"å—ä¼ ç»Ÿæäº¤è§„èŒƒå’Œ Angular çº¦å®šçš„å¯å‘ï¼Œè®©æˆ‘ä»¬æ¥è§£é‡Šè¯­ä¹‰åŒ–æäº¤æœ¯è¯­ï¼Œå¹¶æ¼”ç¤ºæäº¤ä¿¡æ¯çš„å®é™…ç¤ºä¾‹ã€‚ è®¸å¤šé¡¹ç›®å†³å®šä»¥æŸç§çº¦å®šæ–¹å¼æ¥æ ‡å‡†åŒ–å®ƒä»¬çš„æäº¤ä¿¡æ¯ã€‚è¿™ç§åšæ³•å¹¶ä¸æ˜¯æ–°å‡ºç°çš„ï¼Œä½†åœ¨æœ€è¿‘å‡ å¹´ä¸­è¶Šæ¥è¶Šå¤šåœ°å¾—åˆ°äº†åº”ç”¨ã€‚è€Œä¸”å¾ˆå¯èƒ½æ‚¨å·²ç»åœ¨æŸäº›é¡¹ç›®ä¸­é‡åˆ°è¿‡è¿™æ ·çš„æäº¤æ¶ˆæ¯ã€‚ æœ€æ—©å‡ºç°çš„è§„èŒƒä¹‹ä¸€æ¥è‡ªä¸ AngularJS é¡¹ç›®ã€‚è¿™ä¸ªé¡¹ç›®å›¢é˜Ÿåˆ›å»ºäº†ä¸€ä¸ªè¯¦ç»†çš„æ–‡æ¡£ï¼Œå…¶ä¸­æŒ‡å®šäº†ä»–ä»¬åº”è¯¥æäº¤çš„ç›®æ ‡å’Œæ–¹å¼ã€‚è¿™äº›æäº¤çº¦å®šéå¸¸æµè¡Œï¼Œæœ‰äº›æ‚¨å¯èƒ½é€šè¿‡ Karma æŒ‡å—é‡åˆ°è¿‡ã€‚ä½†æ˜¯ï¼Œè¿˜æœ‰ä¸€äº›ä¸åŒçš„çº¦å®šï¼Œåƒ jQuery, JSHint, Ember, Angular(ä¸€ä¸ªå—AngularJS æäº¤è§„èŒƒå¯å‘çš„å¢å¼ºç‰ˆçº¦å®š)ï¼Œç”šè‡³æ›´å¤š: å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ä¸Šé¢å„ç§å„æ ·çš„æäº¤çº¦å®šï¼Œè¿™æ— ç–‘æ„æˆäº†ä¸€ä¸ªæ ‡å‡†åŒ–å®˜æ–¹è§„èŒƒçš„æ­£å½“ç†ç”±ã€‚çº¦å®šå¼æäº¤å°±æ˜¯è¿™æ ·ä¸€ç§è§„èŒƒï¼Œå®ƒåœ¨å®è·µä¸­ç®€åŒ–äº† Angular çº¦å®šï¼Œå¹¶ç®€åŒ–æŒ‡å‡ºäº†æäº¤æ¶ˆæ¯è§„èŒƒçš„è¦ç‚¹ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»â€œè¯­ä¹‰åŒ–æäº¤â€èƒŒåçš„æ¦‚å¿µï¼Œå¹¶ä½¿ç”¨ Git å’Œ Angular çš„æäº¤çº¦å®šæ¥æ¼”ç¤ºå…·ä½“çš„ä¾‹å­ã€‚å£°æ˜ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å®ƒä»¬åªæ˜¯ä¸ºäº†æ¾„æ¸…æ¦‚å¿µâ€”â€”æ„å‘³ç€ç‰ˆæœ¬æ§åˆ¶å·¥å…·å’Œè§„èŒƒçš„é€‰æ‹©å–å†³äºæ‚¨ã€‚ é‚£æˆ‘ä»¬å°±å¼€å§‹å§ï¼ğŸ‘¨ğŸ»â€ğŸ« åŠ¨æœºè®©æˆ‘ä»¬ä»å®šä¹‰å¼€å§‹: è¯­ä¹‰åŒ–æäº¤æ˜¯éµå¾ªç€ç‰¹å®šçº¦å®šå¹¶å…·æœ‰äººç±»å’Œæœºå™¨å¯è¯»å«ä¹‰çš„æäº¤æ¶ˆæ¯ è¿™æ„å‘³ç€ï¼Œå®ƒåªæ˜¯æäº¤æ¶ˆæ¯çš„æŒ‡å¯¼æ–¹é’ˆï¼Œå› æ­¤: æäº¤æ¶ˆæ¯æ˜¯è¯­ä¹‰åŒ–çš„ï¼šå› ä¸ºå®ƒä»¬è¢«åˆ’åˆ†ä¸ºæœ‰æ„ä¹‰çš„ç±»å‹ï¼Œæ ‡è¯†äº†æäº¤(commit)çš„æ„å›¾ æäº¤æ¶ˆæ¯æ˜¯çº¦å®šä¿—æˆçš„ï¼šå¯¹äºå¼€å‘è€…å’Œå·¥å…·ï¼Œå®ƒä»¬æœ‰ç€ç»Ÿä¸€çš„ç»“æ„å’Œè‰¯å¥½çš„ç±»å‹æ ‡è¯† æ­¤å¤–ï¼Œå½“æˆ‘ä»¬é€šå¸¸éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œæ—¶ï¼Œè¯­ä¹‰åŒ–æäº¤å¯èƒ½ä¼šæ´¾ä¸Šç”¨åœºï¼š å…è®¸ç»´æŠ¤äººå‘˜å’Œè´¡çŒ®è€…è½»æ¾åœ°æµè§ˆé¡¹ç›®å†å²å¹¶ç†è§£æäº¤çš„æ„å›¾ï¼ŒåŒæ—¶é€šè¿‡æäº¤æ¶ˆæ¯ç±»å‹å¿½ç•¥ä¸é‡è¦çš„æ›´æ”¹ å¼ºåˆ¶æäº¤ä¿¡æ¯çš„ç»“æ„ï¼Œé¼“åŠ±æœ‰é’ˆå¯¹ç‰¹å®šç›®çš„çš„å°å‹æäº¤ ç›´æ¥æäº¤ä¿¡æ¯çš„ä¸»ä½“ï¼Œä¸å¿…è¯å¤§æ®µè¯å»è§£è¯´ æ ¹æ®æäº¤ä¿¡æ¯ç±»å‹è‡ªåŠ¨æ›´æ–°åŒ…ç‰ˆæœ¬å·(Bump the package version) è‡ªåŠ¨ç”Ÿæˆæ—¥å¿—(CHANGELOGs)å’Œ release è¯´æ˜ æœ€åï¼Œè¯­ä¹‰åŒ–æäº¤è‡´åŠ›äºå®ç°æ›´å¥½çš„å¯è¯»æ€§å’Œè‡ªåŠ¨åŒ–ï¼Œä»¥åŠé€Ÿåº¦çš„æé«˜ã€‚ è¯è™½å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¸­çš„ä¸€äº›äººå¯èƒ½ä¸æ¥å—è¿™äº›æ¶ˆæ¯çº¦å®šï¼Œè®¤ä¸ºå®ƒä»¬æ˜¯å¯è¯»çš„æˆ–æä¾›ä¿¡æ¯çš„ï¼Œè¿™æ˜¾ç„¶æ˜¯æœ‰æ„ä¹‰çš„ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬ä¹Ÿä¸éœ€è¦è¿™äº›é™„å¸¦çš„å¥½å¤„ï¼Œé‚£åœ¨é¡¹ç›®ä¸­æ‰§è¡Œè¿™æ ·çš„è§„èŒƒæ˜¾ç„¶æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ å¥½äº†ï¼Œæ˜¯æ—¶å€™äº†è§£æˆ‘ä»¬å¦‚ä½•å®é™…éµå¾ªè¿™äº›çº¦å®šäº†ã€‚ å…è´£å£°æ˜ï¼šä»è¿™ä¸€åˆ»èµ·ï¼Œæˆ‘ä»¬å°†å¼•ç”¨ Angular æäº¤ä¿¡æ¯çº¦å®šåŠå…¶å¥½å¤„ã€‚ æäº¤ä¿¡æ¯çš„æ ¼å¼Angular è§„èŒƒè¦æ±‚æ ¹æ®ä»¥ä¸‹ç»“æ„æ¥æ„é€ æäº¤æ¶ˆæ¯(Commit Message): ä¸Šå›¾å‘æˆ‘ä»¬è¯´æ˜äº†æäº¤æ¶ˆæ¯ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ â€”â€” headerã€body å’Œ footer ã€‚ HeaderHeader æ˜¯å¼ºåˆ¶è¦æ±‚çš„ä¸€è¡Œï¼Œå®ƒç®€å•åœ°æè¿°äº†æ›´æ”¹çš„ç›®çš„(æœ€å¤š100ä¸ªå­—ç¬¦)ã€‚æ›´å¥½çš„æ˜¯ï¼Œå®ƒæœ¬èº«ç”±ä¸‰éƒ¨åˆ†ç»„æˆ: ç±»å‹(Type)ï¼šæ ‡è¯†æ›´æ”¹ç±»å‹çš„çŸ­å‰ç¼€ èŒƒå›´(Scope)ï¼šå¯é€‰é¡¹ï¼Œè¡¨æ˜ Commit å½±å“çš„èŒƒå›´ ä¸»ä½“(Subject)ï¼šè¡¨ç¤ºå¯¹å®é™…æ›´æ”¹çš„ç®€æ˜æè¿° å®é™…ä¸Šï¼Œå°± Git è€Œè¨€ï¼Œå®ƒå°±æ˜¯æäº¤æ¶ˆæ¯çš„é¦–è¡Œï¼š 1git commit -m &quot;fix(core): remove deprecated and defunct wtf* apis&quot; æˆ‘ä»¬æ’å…¥å•è¡Œæ¶ˆæ¯ï¼Œå¹¶ç”¨ : åˆ†éš”ã€‚å½“ fixå’Œ coreï¼ˆå—å½±å“çš„åŒ…ï¼‰åˆ†åˆ«æ˜¯ç±»å‹å’ŒèŒƒå›´æ—¶ï¼Œæˆ‘ä»¬å°†å·¦åˆ†åŒºå‡è®¾ç§°ä¸ºâ€œå‰ç¼€â€ã€‚å¦ä¸€æ–¹é¢ï¼Œå³åˆ†åŒºæ˜¾ç„¶æ„æˆäº†ä¸»ä½“(Subject)ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œä¸Šè¿°æ¶ˆæ¯å«ä¹‰æ˜¯ï¼šâ€œæœ¬æ¬¡æ›´æ”¹é€šè¿‡ç§»é™¤ä¸æ¨èä½¿ç”¨(deprecated)å’Œä¸å­˜åœ¨çš„ wtf * api ä¿®å¤äº†æ¥è‡ªCoreè½¯ä»¶åŒ…çš„é”™è¯¯â€ã€‚ Bodyä¸»ä½“(Body)æ˜¯å¯é€‰è¡Œï¼Œç”¨äºä»‹ç»æœ¬æ¬¡æ›´æ”¹èƒŒåçš„åŠ¨æœºæˆ–ä»…æè¿°ä¸€äº›æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚ è®©æˆ‘ä»¬ä»¥ä¸Šè¿°çš„ä¾‹å­ä¸ºä¾‹ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªä¸»ä½“ï¼š 1git commit -m &quot;fix(core): remove deprecated and defunct wtf* apis&quot; -m &quot;These apis have been deprecated in v8, so they should stick around till v10, but since they are defunct we are removing them early so that they don&#x27;t take up payload size.&quot; ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨æ¶ˆæ¯ä¸Šé™„åŠ äº†å‡ å¥è¯ï¼Œè¯¦ç»†è¯´æ˜äº†æ­¤æäº¤(Commit)ç›®çš„ã€‚ è¯·æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š æˆ‘ä»¬ä½¿ç”¨äº†å¤šä¸ª-mæ¥è¿æ¥æ®µè½è€Œä¸æ˜¯ç®€å•çš„è¡Œ å¤´éƒ¨å’Œä¸»ä½“åº”è¯¥ç”¨ç©ºç™½è¡Œåˆ†éš”ï¼ˆæ ¹æ®è¿™äº›æ®µè½ï¼Œè¿™æ˜¾ç„¶æ˜¯æ­£ç¡®çš„ï¼‰ æ³¨æ„ï¼šå°½ç®¡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¶ä»–æ–¹å¼å°†æ¶ˆæ¯åˆ†æˆå‡ è¡Œï¼Œä½†ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ä¸ªç¤ºä¾‹ä¸­ç»§ç»­ä½¿ç”¨å¤šä¸ª -mï¼ˆå±•ç¤ºäº†ä¸€ä¸ªä¸shellæ— å…³çš„è§£å†³æ–¹æ¡ˆï¼‰ã€‚ Footerå°¾éƒ¨(Footer)æ˜¯å¯é€‰è¡Œï¼Œå…¶ä¸­æåˆ°äº†ç”±äºæ›´æ”¹è€Œäº§ç”Ÿçš„å½±å“ï¼Œä¾‹å¦‚ï¼šå®£å¸ƒé‡å¤§æ›´æ”¹ã€é“¾æ¥å…³é—­å·²è§£å†³çš„é—®é¢˜(issues)ã€æåŠè´¡çŒ®è€…ç­‰ç­‰ã€‚ è¿™æ˜¯ä¸Šè¿°å¸¦æœ‰å°¾éƒ¨(footer)çš„æäº¤æ¶ˆæ¯ï¼š 1git commit -m &quot;fix(core): remove deprecated and defunct wtf* apis&quot; -m &quot;These apis have been deprecated in v8, so they should stick around till v10, but since they are defunct we are removing them early so that they don&#x27;t take up payload size.&quot; -m &quot;PR Close #33949&quot; åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯ç®€å•åœ°æ·»åŠ äº†å¯¹ç›¸å…³æ‹‰è¯·æ±‚(pull request)çš„å¼•ç”¨ï¼Œè€Œæ²¡æœ‰æ·»åŠ å…¶ä»–å†…å®¹ã€‚ æœ€åï¼Œè®©æˆ‘ä»¬æŸ¥çœ‹å®Œæ•´çš„æäº¤æ—¥å¿—ï¼š æ­£å¦‚æ‚¨å¯èƒ½ä¼šæ¨æ–­çš„ï¼Œæ­¤æäº¤å®é™…ä¸Šæ˜¯ Angular å­˜å‚¨åº“ä¸­å­˜åœ¨çš„ã€‚ å¸¸è§ç±»å‹é™¤äº†å®šä¹‰æäº¤æ¶ˆæ¯æ ¼å¼å¤–ï¼ŒAngular çš„æäº¤æ¶ˆæ¯çº¦å®šè¿˜æŒ‡å®šäº†ä¸€ä¸ªæœ‰ç”¨çš„ç±»å‹åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«äº†å„ç§å„æ ·çš„æ›´æ”¹ã€‚ åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥åŒºåˆ†å¦‚ä¸‹ä¸¤ç§ç±»å‹ï¼š å¼€å‘(Development)ï¼šä¸€ç§ç»´æŠ¤ç±»å‹ï¼Œå®ƒå¯¹å˜æ›´è¿›è¡Œåˆ†ç±»ï¼Œé¢å‘å¼€å‘äººå‘˜ï¼Œè¿™äº›å˜æ›´å®é™…ä¸Šå¹¶ä¸å½±å“äº§å“ä»£ç ï¼Œè€Œæ˜¯å½±å“å†…éƒ¨çš„å¼€å‘ç¯å¢ƒå’Œå·¥ä½œæµç¨‹(workflows) ç”Ÿäº§(Production)ï¼šä¸€ç§å¢å¼ºç±»å‹ï¼Œç”¨äºå¯¹ä»…å½±å“äº§å“ä»£ç çš„æœ€ç»ˆç”¨æˆ·(end users)è¿›è¡Œæ›´æ”¹åˆ†ç±» ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä»‹ç»å’Œè§£é‡Šè¿™äº›ç±»å‹ã€‚ æ³¨æ„ï¼šä»¥ä¸‹ç¤ºä¾‹ç›´æ¥å–è‡ªAngularå­˜å‚¨åº“çš„æäº¤æ—¥å¿—ã€‚ ğŸ‘·æ„å»ºæ„å»ºç±»å‹ build(ä»¥å‰ç§°ä¸ºchore)ç”¨äºè¯†åˆ«ä¸æ„å»ºç³»ç»Ÿç›¸å…³çš„å¼€å‘æ›´æ”¹(æ¶‰åŠè„šæœ¬ã€é…ç½®æˆ–å·¥å…·)å’ŒåŒ…ä¾èµ–é¡¹(dependencies)ã€‚ ä¾‹å­ï¼š ğŸ’šcici ç±»å‹ç”¨äºè¯†åˆ«ä¸æŒç»­é›†æˆå’Œéƒ¨ç½²ç³»ç»Ÿç›¸å…³çš„å¼€å‘æ›´æ”¹â€”â€”åŒ…æ‹¬è„šæœ¬ã€é…ç½®æˆ–å·¥å…·ã€‚ ä¾‹å­ï¼š ğŸ“æ–‡æ¡£docsæ–‡æ¡£ç±»å‹ç”¨äºè¯†åˆ«ä¸é¡¹ç›®ç›¸å…³çš„æ–‡æ¡£æ›´æ”¹â€”â€”æ— è®ºæ˜¯é’ˆå¯¹æœ€ç»ˆç”¨æˆ·çš„å¤–éƒ¨æ›´æ”¹(å¯¹äºåº“)è¿˜æ˜¯é’ˆå¯¹å¼€å‘äººå‘˜çš„å†…éƒ¨æ›´æ”¹ã€‚ ä¾‹å­ï¼š âœ¨ç‰¹æ€§è¯¥featç±»å‹ç”¨äºæ ‡è¯†ç”Ÿäº§ç¯å¢ƒç›¸å…³çš„æ–°çš„å‘åå…¼å®¹èƒ½åŠ›(backward-compatible)æˆ–åŠŸèƒ½çš„æ›´æ”¹ã€‚ ä¾‹å­ï¼š ğŸ›ä¿®å¤fixç±»å‹ç”¨äºæ ‡è¯†ç”Ÿäº§ç¯å¢ƒç›¸å…³å‘åå…¼å®¹(backward-compatible)çš„ bug ä¿®å¤(bug fixes) ä¾‹å­ï¼š âš¡ï¸æ€§èƒ½perfç±»å‹ç”¨äºæ ‡è¯†ç”Ÿäº§ç¯å¢ƒç›¸å…³å‘åå…¼å®¹çš„æ€§èƒ½(performance)æ”¹è¿›ç›¸å…³çš„äº§å“æ›´æ”¹ã€‚ ä¾‹å­ï¼š â™»ï¸é‡æ„refactorç±»å‹ç”¨äºè¯†åˆ«ä¸ä¿®æ”¹ä»£ç åº“ç›¸å…³çš„å¼€å‘æ›´æ”¹ï¼Œè¿™äº›æ›´æ”¹æ—¢æ²¡æœ‰æ·»åŠ åŠŸèƒ½ï¼Œä¹Ÿæ²¡æœ‰ä¿®å¤ bug â€”â€” ä¾‹å¦‚åˆ é™¤å†—ä½™ä»£ç ã€ç®€åŒ–ä»£ç ã€é‡å‘½åå˜é‡ç­‰ç­‰ã€‚ ä¾‹å­ï¼š ğŸ¨é£æ ¼styleç±»å‹ç”¨äºæ ‡è¯†ä»£ç æ ·å¼å˜åŠ¨ç›¸å…³çš„å¼€å‘æ›´æ”¹ï¼Œè€Œä¸è€ƒè™‘å…¶å«ä¹‰â€”â€”ä¾‹å¦‚ç¼©è¿›ã€åˆ†å·ã€å¼•å·ã€ç»“å°¾é€—å·ç­‰ç­‰ã€‚ ä¾‹å­ï¼š âœ…æµ‹è¯•testç±»å‹ç”¨äºæ ‡è¯†ä¸æµ‹è¯•ç›¸å…³çš„å¼€å‘æ›´æ”¹â€”â€”ä¾‹å¦‚é‡æ„ç°æœ‰æµ‹è¯•æˆ–æ·»åŠ æ–°æµ‹è¯•ã€‚ ä¾‹å­ï¼š å¥½å¤„ç°åœ¨æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰äº†è¿™äº›çº¦å®šï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä»ä¸­æ”¶è·çš„ä¸¤ç§å¥½å¤„ã€‚ æµè§ˆå†å²å˜æ›´è®°å½•Git ä¸ºæˆ‘ä»¬æä¾›äº†æµè§ˆå­˜å‚¨åº“æäº¤å†å²çš„èƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“å®é™…å‘ç”Ÿäº†ä»€ä¹ˆï¼Œè°åšäº†è´¡çŒ®ç­‰ç­‰ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›çº¦å®šæ˜¯å¦‚ä½•ç®€åŒ–æˆ‘ä»¬å¯¹è¿™äº›è®°å½•çš„æµè§ˆ: 1git log --oneline --grep &quot;^feat\\|^fix\\|^perf&quot; æˆ‘ä»¬ä½¿ç”¨æäº¤æ¶ˆæ¯ç±»å‹æ¥è¿‡æ»¤ï¼Œå› æ­¤åªæ˜¾ç¤ºç”Ÿäº§æ›´æ”¹(æ‰€æœ‰ä»¥ featã€fix æˆ– perfå¼€å¤´çš„æ¶ˆæ¯)ã€‚ å¦ä¸€ä¸ªä¾‹å­: 1git log --oneline --grep &quot;^feat&quot; | wc -l æˆ‘ä»¬åªæ‰“å° feat æ›´æ”¹çš„æ€»æ•°ã€‚ ä¸Šè¿°çš„å…³é”®æ˜¯æäº¤æ¶ˆæ¯æ ¼å¼éå¸¸ç»“æ„åŒ–ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬åœ¨æ‰«ææˆ–è¿‡æ»¤æäº¤å†å²è®°å½•æ—¶èƒ½å¤Ÿæœ‰æ•ˆåœ°ä¾èµ–äºæ­¤æ ¼å¼ã€‚ å³ï¼Œæ›´åŠ è¿…é€Ÿ!ğŸ’ªğŸ» è‡ªåŠ¨å‘å¸ƒæäº¤æ¶ˆæ¯æ ¼å¼å¯¹äºè‡ªåŠ¨åŒ–å‘å¸ƒè¿‡ç¨‹çš„æ­¥éª¤ä¹Ÿå¾ˆæœ‰ç”¨ã€‚ äº‹å®ä¸Šï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºåƒStandard Versionå’ŒSemantic Versioningè¿™æ ·çš„å·¥å…·ä¸¥æ ¼éµå¾ªè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬è§„èŒƒå’Œç‰¹å®šçš„ä¿¡æ¯æäº¤çº¦å®š(åˆ†åˆ«æ˜¯ä¼ ç»Ÿçš„æäº¤çº¦å®šå’Œ Angular çº¦å®š)ã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äº approachï¼Œä½†æ˜¯è®©æˆ‘ä»¬å…³æ³¨è¯­ä¹‰åŒ–å‘å¸ƒ(Semantic Release)ã€‚ å› æ­¤ï¼ŒåŸºäºæäº¤ä¿¡æ¯(ç‰¹åˆ«æ˜¯ç±»å‹)â€”â€”è¯­ä¹‰åŒ–å‘å¸ƒ(Semantic Release)èƒ½å¤Ÿç»™æˆ‘ä»¬æä¾›ä»¥ä¸‹èƒ½åŠ›: è½¬åˆ°ä¸‹ä¸€ä¸ªè¯­ä¹‰åŒ–åŒ…ç‰ˆæœ¬(å‘ç”Ÿé‡å¤§å˜æ›´æ—¶-è¡¥ä¸å‘å¸ƒã€ç›‘æ§åˆ°æ–°ç‰¹æ€§å’Œæ€§èƒ½çš„ä¼˜åŒ–) åˆ›å»ºä¸€ä¸ªåŒ…å«ç”Ÿäº§ç¯å¢ƒç›¸å…³å‘å¸ƒä¿¡æ¯çš„ CHANGELOG æ–‡ä»¶ ä¸ºæ–°çš„å‘å¸ƒç‰ˆæœ¬åˆ›å»ºä¸€ä¸ª Git tag å°†release artifactå‘å¸ƒ(Publish)åˆ° npm æ³¨å†Œä¸­å¿ƒ é…·å§? ä¾‹å¦‚ï¼ŒIonic çš„angular-toolkité¡¹ç›®ï¼Œé›†æˆäº†è¯­ä¹‰åŒ–å‘å¸ƒæ¥è‡ªåŠ¨åŒ–å‘å¸ƒè¿‡ç¨‹(åœ¨æ­¤éµå¾ª Angular çš„æäº¤çº¦å®š): æ­£å¦‚æˆ‘ä»¬æ‰€æ³¨æ„åˆ°çš„ï¼Œå‘å¸ƒçš„ç‰ˆæœ¬æ˜¯åŸºäº tag å’Œæ³¨é‡Šç”Ÿæˆçš„â€”â€”ä½†é‡ç‚¹æ˜¯ï¼Œè¿™æ˜¯è‡ªåŠ¨å®Œæˆçš„ã€‚ğŸ¤– å…¶å®ƒä¸ºäº†å……åˆ†åˆ©ç”¨è¯­ä¹‰åŒ–æäº¤(semantic commit)ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›ä¸œè¥¿ã€‚ ä½¿ç”¨Emojiså°†è¡¨æƒ…ç¬¦å·é™„åŠ åˆ°æäº¤æ¶ˆæ¯å¯èƒ½ä¼šè¿›ä¸€æ­¥æé«˜å¯è¯»æ€§ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æµè§ˆæäº¤å†å²æ—¶éå¸¸å¿«é€Ÿå’Œå®¹æ˜“åœ°è¯†åˆ«å®ƒä»¬ã€‚ğŸ’¯ è¯·å‚é˜…ä»¥ä¸‹é“¾æ¥: gitmoji Commit Message Emoji ğŸ‘‹ CLIå·¥å…·Commitizen æ˜¯ä¸€ä¸ªé€šè¿‡å‘½ä»¤è¡Œå¼ºåˆ¶æ ¼å¼åŒ–æäº¤ä¿¡æ¯çš„å·¥å…·: æ£€æŸ¥å™¨(Linter)commitlint æ˜¯ä¸€ä¸ªä¿è¯æäº¤æ¶ˆæ¯æ ¼å¼ç¬¦åˆçº¦å®šçš„å·¥å…·: VSCodeæ‰©å±•å¦‚æœä½ æƒ³ä½¿ç”¨ä¸€ä¸ªå¯å®šåˆ¶çš„VScodeæ‰©å±•ï¼Œé‚£ä¹ˆä¸‹é¢çš„å†…å®¹å¯èƒ½ä¼šè®©ä½ æ„Ÿå…´è¶£: æ€»ç»“æˆ‘ä»¬ä»Šå¤©ä»‹ç»äº†â€œè¯­ä¹‰åŒ–æäº¤â€è¿™ä¸ªæœ¯è¯­ï¼Œå¹¶é€šè¿‡éµå¾ª Angular æäº¤æ¶ˆæ¯çº¦å®šçš„å…·ä½“ä¾‹å­ï¼Œè§£é‡Šäº†è¿™ç§æ¶ˆæ¯çš„ç»“æ„ã€‚ æ¦‚æ‹¬è¦ç‚¹: è¯­ä¹‰åŒ–æäº¤æ˜¯å¯¹å¼€å‘äººå‘˜å’Œå·¥å…·éƒ½æœ‰é‡è¦æ„ä¹‰çš„æäº¤ä¿¡æ¯æ–¹å¼ï¼Œå®ƒä»¬éµå¾ªç‰¹å®šçš„çº¦å®š è¯­ä¹‰åŒ–æäº¤(ä»¥åŠåŸºäºå®ƒçš„å·¥å…·)æœ‰åŠ©äºæé«˜å¯è¯»æ€§ã€é€Ÿåº¦å’Œè‡ªåŠ¨åŒ– Conventional Commits æ˜¯ä¸€ä¸ªè¯¦ç»†æè¿°è¯­ä¹‰æäº¤çš„è§„èŒƒï¼Œéµå¾ªè½»é‡çº§çº¦å®š Angular çš„æŒ‡å¯¼åŸåˆ™è¯¦ç»†æè¿°äº†éµå¾ªé¡¹ç›®çº¦å®šçš„è¯­ä¹‰åŒ–æäº¤ï¼ŒåŒ…æ‹¬: åŒ…å« headerã€body å’Œ footer çš„ä¿¡æ¯æ ¼å¼ ä¸å¼€å‘å’Œç”Ÿäº§ç›¸å…³çš„æäº¤æ›´æ”¹çš„ç±»å‹ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¿¡æ¯çº¦å®šè½»æ¾æµè§ˆæäº¤å†å² æˆ‘ä»¬å¯ä»¥ä»è¿™äº›è§„èŒƒæ”¶è·è‡ªåŠ¨åŒ–å‘å¸ƒæµç¨‹(release process)çš„å¥½å¤„ æœ€åï¼Œä¸ç®¡æ‚¨æ˜¯å¦å†³å®šé‡‡ç”¨è¿™äº›çº¦å®š,æ‚¨å¯èƒ½ä¼šå¶å°”é‡åˆ°å®ƒä»¬ï¼Œæ‰€ä»¥è¯·è®°ä½ä¸Šé¢çš„å‡ ç‚¹ã€‚ğŸ˜‰ åŸæ–‡åœ°å€ï¼šUnderstanding Semantic Commit Messages Using Git and Angular åŸæ–‡ä½œè€…ï¼šNitay Neeman è¯‘æ–‡é¦–å‘äºï¼šSeven innovation base&#x2F;Git-IN-ACTION-docs è¯‘è€…ï¼šMrGo123 æ ¡å¯¹è€…ï¼šyeshan333","categories":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/tags/Git/"},{"name":"å·¥ç¨‹åŒ–","slug":"å·¥ç¨‹åŒ–","permalink":"https://yeshan333.github.io/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/"},{"name":"è¯‘æ–‡","slug":"è¯‘æ–‡","permalink":"https://yeshan333.github.io/tags/%E8%AF%91%E6%96%87/"}]},{"title":"äº†è§£ä¸€æ³¢ç»å…¸çš„ I/O æ¨¡å‹","slug":"äº†è§£ä¸€æ³¢ç»å…¸çš„-IO-æ¨¡å‹","date":"2020-05-19T15:19:14.000Z","updated":"2020-05-19T15:19:14.000Z","comments":true,"path":"2020/05/19/äº†è§£ä¸€æ³¢ç»å…¸çš„-IO-æ¨¡å‹/","permalink":"https://yeshan333.github.io/2020/05/19/%E4%BA%86%E8%A7%A3%E4%B8%80%E6%B3%A2%E7%BB%8F%E5%85%B8%E7%9A%84-IO-%E6%A8%A1%E5%9E%8B/","excerpt":"æœ€è¿‘è¯»äº†æ³¢ç½‘ç»œ I&#x2F;O ç›¸å…³çš„æ–‡ç« ï¼Œåšä¸‹æ€»ç»“ã€æ‘˜å½•ã€‚ï¼ˆæœªå®Œï¼‰ ç»å…¸ I&#x2F;O æ¨¡å‹ é˜»å¡å¼ I&#x2F;Oï¼ˆblocking I&#x2F;Oï¼‰ éé˜»å¡å¼ I&#x2F;Oï¼ˆnon-blocking I&#x2F;Oï¼‰ I&#x2F;O å¤šè·¯å¤ç”¨ï¼ˆI&#x2F;O multiplexingï¼‰ ä¿¡å·é©±åŠ¨å¼ I&#x2F;Oï¼ˆsignal driven I&#x2F;Oï¼‰ å¼‚æ­¥ I&#x2F;Oï¼ˆasynchronous I&#x2F;Oï¼‰ é˜»å¡å¼ I&#x2F;O æ¨¡å‹å¯¹äºé˜»å¡å¼ I&#x2F;Oï¼Œä»¥å¥—æ¥å­—ï¼ˆSocketï¼‰çš„è¾“å…¥æ“ä½œä¸ºä¾‹ã€‚ 1ã€é¦–å…ˆåº”ç”¨è¿›ç¨‹å‘èµ· I&#x2F;O ç³»ç»Ÿè°ƒç”¨åï¼Œåº”ç”¨è¿›ç¨‹é˜»å¡ï¼Œè½¬åˆ°å†…æ ¸ç©ºé—´å¤„ç†ã€‚ 2ã€ä¹‹åï¼Œå†…æ ¸å¼€å§‹ç­‰å¾…æ•°æ®ï¼Œç­‰å¾…æ•°æ®åˆ°è¾¾ä¹‹åï¼Œå°†å†…æ ¸ä¸­çš„æ•°æ®æ‹·è´åˆ°ç”¨æˆ·çš„ç¼“å†²åŒºä¸­ï¼Œæ•´ä¸ª I&#x2F;O å¤„ç†å®Œæ¯•åè¿”å›è¿›ç¨‹ã€‚æœ€ååº”ç”¨è¿›ç¨‹è§£é™¤é˜»å¡çŠ¶æ€ï¼Œå¤„ç†æ•°æ®ã€‚","text":"æœ€è¿‘è¯»äº†æ³¢ç½‘ç»œ I&#x2F;O ç›¸å…³çš„æ–‡ç« ï¼Œåšä¸‹æ€»ç»“ã€æ‘˜å½•ã€‚ï¼ˆæœªå®Œï¼‰ ç»å…¸ I&#x2F;O æ¨¡å‹ é˜»å¡å¼ I&#x2F;Oï¼ˆblocking I&#x2F;Oï¼‰ éé˜»å¡å¼ I&#x2F;Oï¼ˆnon-blocking I&#x2F;Oï¼‰ I&#x2F;O å¤šè·¯å¤ç”¨ï¼ˆI&#x2F;O multiplexingï¼‰ ä¿¡å·é©±åŠ¨å¼ I&#x2F;Oï¼ˆsignal driven I&#x2F;Oï¼‰ å¼‚æ­¥ I&#x2F;Oï¼ˆasynchronous I&#x2F;Oï¼‰ é˜»å¡å¼ I&#x2F;O æ¨¡å‹å¯¹äºé˜»å¡å¼ I&#x2F;Oï¼Œä»¥å¥—æ¥å­—ï¼ˆSocketï¼‰çš„è¾“å…¥æ“ä½œä¸ºä¾‹ã€‚ 1ã€é¦–å…ˆåº”ç”¨è¿›ç¨‹å‘èµ· I&#x2F;O ç³»ç»Ÿè°ƒç”¨åï¼Œåº”ç”¨è¿›ç¨‹é˜»å¡ï¼Œè½¬åˆ°å†…æ ¸ç©ºé—´å¤„ç†ã€‚ 2ã€ä¹‹åï¼Œå†…æ ¸å¼€å§‹ç­‰å¾…æ•°æ®ï¼Œç­‰å¾…æ•°æ®åˆ°è¾¾ä¹‹åï¼Œå°†å†…æ ¸ä¸­çš„æ•°æ®æ‹·è´åˆ°ç”¨æˆ·çš„ç¼“å†²åŒºä¸­ï¼Œæ•´ä¸ª I&#x2F;O å¤„ç†å®Œæ¯•åè¿”å›è¿›ç¨‹ã€‚æœ€ååº”ç”¨è¿›ç¨‹è§£é™¤é˜»å¡çŠ¶æ€ï¼Œå¤„ç†æ•°æ®ã€‚ ä¸Šå›¾ä»¥ UDP çš„ Socket è°ƒç”¨ä¸ºä¾‹ï¼Œè¿›ç¨‹è°ƒç”¨ recvfrom åï¼Œç³»ç»Ÿè°ƒç”¨ç›´åˆ°æ•°æ®æŠ¥åˆ°è¾¾ä¸”è¢«å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´ä¸­æˆ–å‘ç”Ÿé”™è¯¯æ‰è¿”å›ã€‚è¿›ç¨‹ä»è°ƒç”¨å¼€å§‹åˆ°å®ƒè¿”å›çš„æ•´æ®µæ—¶é—´å†…æ˜¯è¢«é˜»å¡çš„ã€‚recvfrom æˆåŠŸè¿”å›åï¼Œåº”ç”¨è¿›ç¨‹å¼€å§‹å¤„ç†æ•°æ®æŠ¥ã€‚ é»˜è®¤æƒ…å½¢ï¼ŒLinux&#x2F;Unix çš„æ‰€æœ‰ Socket æ˜¯é˜»å¡çš„ã€‚ é™„ï¼šåŸºäº UDP åè®®çš„ Socket ç¨‹åºå‡½æ•°è°ƒç”¨è¿‡ç¨‹å›¾ ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯éœ€è¦ç®¡ç†å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼ˆå¤„ç†å¹¶å‘è¿æ¥ï¼‰ï¼Œè€Œ recvfrom åªèƒ½ç›‘è§†å•ä¸ª Socketã€‚ä¸Šå›¾çš„é˜»å¡å¼ I&#x2F;O æ¨¡å‹è¡¨ç¤ºçš„æ˜¯ä¸€å¯¹ä¸€æ²Ÿé€šçš„æƒ…å½¢ï¼Œä½¿ç”¨å¤šçº¿ç¨‹&#x2F;è¿›ç¨‹ + é˜»å¡å¼ I&#x2F;O æˆ‘ä»¬å¯ä»¥ç®¡ç†å¤šä¸ª Socket ï¼Œå®ç°ä¸€å¯¹å¤šæœåŠ¡ã€‚ éé˜»å¡å¼ I&#x2F;O æ¨¡å‹åœ¨ç±» Unix ç³»ç»Ÿä¸‹ï¼Œå¯ä»¥æŠŠä¸€ä¸ª Socket è®¾ç½®æˆéé˜»å¡çš„ã€‚è¿™æ„å‘³ç€å†…æ ¸åœ¨æ•°æ®æŠ¥æ²¡æœ‰å‡†å¤‡å¥½æ—¶ä¸ä¼šé˜»å¡åº”ç”¨è¿›ç¨‹ï¼ˆç¡çœ æ€ï¼‰ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ ä¸Šå›¾ä»¥ UDP çš„ Socket è°ƒç”¨ä¸ºä¾‹ï¼Œè¿›ç¨‹åå¤è°ƒç”¨ recvfromï¼ˆpollingï¼Œè½®è¯¢ï¼‰ï¼Œæ— æ•°æ®è¿”å› EWOULDBLOCK é”™è¯¯ï¼Œç›´è‡³æ•°æ®æŠ¥å‡†å¤‡å¥½ã€‚ é—®é¢˜ï¼šå•è¿›ç¨‹å¤„ç†æ•°æ®æŠ¥ï¼Œä¸åŒäºé˜»å¡I&#x2F;Oï¼Œç”±äºéœ€è¦åå¤ pollingï¼Œéé˜»å¡ I&#x2F;O ä¼šè€—è´¹å¤§é‡çš„ CPU èµ„æºï¼Œè¿›ç¨‹é˜»å¡ä¸è€—è´¹ CPU èµ„æºã€‚å¦‚æœè€ä¸Šäº†å¤šè¿›ç¨‹ï¼Œé‚£è€—è´¹ï¼Œæ˜¯ä¸å¯æ‰¿å—çš„ã€‚ å…³äºé˜»å¡çš„åŸç†ï¼Œè¿™ç¯‡æ–‡ç« æœ‰ç®€å•ä»‹ç»âœ”ğŸ”—ã€‚ I&#x2F;O å¤šè·¯å¤ç”¨æ¨¡å‹ä»€ä¹ˆæ˜¯å¤šè·¯å¤ç”¨ï¼Ÿå¤šè·¯æŒ‡çš„æ˜¯å¤šä¸ªé€šé“ï¼Œä¸€èˆ¬å°±æ˜¯å¤šä¸ªç½‘ç»œè¿æ¥çš„ I&#x2F;Oï¼›å¤ç”¨æŒ‡çš„æ˜¯å¤šä¸ªé€šé“å¤ç”¨åœ¨ä¸€ä¸ªå¤ç”¨å™¨ä¸Šã€‚ å¼•å…¥å¤šè·¯å¤ç”¨æœºåˆ¶çš„ä¸€ä¸ªç›®çš„æ˜¯ä¸ºäº†å¤„ç†å¤šä¸ªç½‘ç»œè¿æ¥ I&#x2F;Oã€‚ I&#x2F;Oå¤šè·¯å¤ç”¨æ–¹æ³•çš„æ¼”è¿›å†ç¨‹ï¼šselect æ¨¡å‹-&gt; poll æ¨¡å‹-&gt; epoll æ¨¡å‹ select æ¨¡å‹ ä¸Šå›¾æ‰€ç¤ºçš„æ•´ä¸ªç”¨æˆ·è¿›ç¨‹ä¸€èˆ¬ä¸€ç›´æ˜¯è¢«é˜»å¡çš„ï¼ˆblockingï¼‰ï¼Œå³è¢« selectï¼ˆå¤ç”¨å™¨ï¼‰ æ‰€é˜»å¡ï¼Œå¤šä¸ª Socket è¢«æ³¨å†Œåœ¨ select ä¸­ã€‚è¿›ç¨‹é˜»å¡äº select è°ƒç”¨ï¼Œç­‰å¾…æ•°æ®æŠ¥å¥—æ¥å­—å˜ä¸ºå¯è¯»ï¼Œä¸€ä½† select è¿”å›å¥—æ¥å­—å¯è¯»ï¼Œç³»ç»Ÿè°ƒç”¨ recvfrom æŠŠæ‰€è¯»æ•°æ®æŠ¥å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹ç¼“å†²åŒºã€‚ é—®é¢˜æ¥äº†ï¼Ÿä¸ºäº†å¤„ç†å¤šä¸ªç½‘ç»œè¿æ¥ I&#x2F;Oï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å¤šçº¿ç¨‹&#x2F;è¿›ç¨‹çš„æ–¹å¼å®ç°ï¼Œå¤šè·¯å¤ç”¨çš„ä¼˜åŠ¿ä½•åœ¨ï¼Ÿè¿™é‡Œçš„å¤šè·¯å¤ç”¨æ¨¡å‹ä¼¼ä¹æ¯”é˜»å¡å¼ I&#x2F;O æ¨¡å‹æ›´ä¸ºå¤æ‚ï¼Œä½†å®ƒæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹&#x2F;çº¿ç¨‹å†…åŒæ—¶å¤„ç†å¤šä¸ª socket çš„ IO è¯·æ±‚ã€‚ç”¨æˆ·å¯ä»¥æ³¨å†Œå¤šä¸ª socketï¼Œç„¶åä¸æ–­åœ°è°ƒç”¨ select è¯»å–è¢«æ¿€æ´»çš„ socketï¼Œå³å¯è¾¾åˆ°åœ¨åŒä¸€ä¸ªçº¿ç¨‹å†…åŒæ—¶å¤„ç†å¤šä¸ª IO è¯·æ±‚çš„ç›®çš„ã€‚ï¼ˆselect å¯æ¥å—çš„ socket æè¿°ç¬¦æ•°ä¼šæœ‰ä¸€å®šé™åˆ¶ï¼‰ æˆ‘ä»¬çŸ¥é“ï¼Œæ“ä½œç³»ç»Ÿå¤šä¸ªè¿›ç¨‹&#x2F;çº¿ç¨‹çš„å¼€é”€ç»´æŠ¤è¿˜æ˜¯è›®å¤§çš„ã€‚å¯¹äºé«˜å¹¶å‘åœºæ™¯ï¼Œå¦‚æœä¸€å°æœºå™¨è¦ç»´æŠ¤ 1 ä¸‡ä¸ªè¿æ¥ï¼ˆC10Ké—®é¢˜ï¼‰ï¼Œä½¿ç”¨å¤šçº¿ç¨‹&#x2F;è¿›ç¨‹çš„æ–¹å¼å¤„ç†ï¼Œæ“ä½œç³»ç»Ÿæ˜¯æ— æ³•æ‰¿å—çš„ã€‚å¦‚æœç»´æŒ 1 äº¿ç”¨æˆ·åœ¨çº¿éœ€è¦ 10 ä¸‡å°æœåŠ¡å™¨ï¼Œæˆæœ¬é‚£æ˜¯ç›¸å½“çš„é«˜ã€‚ $ æœåŠ¡ç«¯å•æœºæœ€å¤§ TCP è¿æ¥æ•°&#x3D;å®¢æˆ·ç«¯ IP æ•°Ã—å®¢æˆ·ç«¯ç«¯å£æ•° $ï¼Œå¯¹äº IPv4ï¼Œå®¢æˆ·ç«¯çš„ IP æ•°æœ€å¤šä¸º 2 çš„ 32 æ¬¡æ–¹ï¼Œå®¢æˆ·ç«¯çš„ç«¯å£æ•°æœ€å¤šä¸º 2 çš„ 16 æ¬¡æ–¹ã€‚è¿™åªæ˜¯ç†è®ºä¸Šé™ï¼Œæ¯ä¸ª TCP è¿æ¥çš„å»ºç«‹ä¼šå—åˆ¶äºæ“ä½œç³»ç»Ÿå†…å­˜ç­‰å› ç´ çš„å½±å“ã€‚ epoll æ¨¡å‹æ–°æ¨¡å‹çš„å‡ºç°è‚¯å®šæ˜¯ä¸ºäº†è§£å†³æ—§æ¨¡å‹çš„é—®é¢˜ï¼Œé‚£ä¹ˆ select æ¨¡å‹æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿæ¯æ¬¡ Socket æ‰€åœ¨çš„æ–‡ä»¶æè¿°ç¬¦é›†åˆä¸­æœ‰ Socket å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œselect éƒ½éœ€è¦é€šè¿‡è½®è¯¢çš„æ–¹å¼å»æ£€æŸ¥ï¼Œè€Œ epoll å¼•å…¥äº† CallBackï¼ˆå›è°ƒï¼‰æœºåˆ¶ï¼Œå½“æŸä¸ªæ–‡ä»¶æè¿°ç¬¦å‘é€å˜åŒ–çš„æ—¶å€™ï¼Œä¸»åŠ¨é€šçŸ¥ã€‚éšç€ç›‘å¬çš„ Socket æ•°æ®å¢åŠ çš„æ—¶å€™ï¼Œæ•ˆç‡ç›¸æ¯”äº select çš„è½®è¯¢å¿«å¤šäº†ã€‚ äº†è§£ epoll çš„æœ¬è´¨ -&gt; å¦‚æœè¿™ç¯‡æ–‡ç« è¯´ä¸æ¸…epollçš„æœ¬è´¨ï¼Œé‚£å°±è¿‡æ¥ææ­»æˆ‘å§ï¼ ï¼ˆ2ï¼‰ å‚è€ƒ ã€ŠUNIXç½‘ç»œç¼–ç¨‹ å·1ï¼šå¥—æ¥å­—è”ç½‘APIã€‹ è¶£è°ˆç½‘ç»œåè®® RPCå®æˆ˜ä¸æ ¸å¿ƒåŸç† å¦‚æœè¿™ç¯‡æ–‡ç« è¯´ä¸æ¸…epollçš„æœ¬è´¨ï¼Œé‚£å°±è¿‡æ¥ææ­»æˆ‘å§ï¼ 5ç§ç½‘ç»œIOæ¨¡å‹ï¼ˆæœ‰å›¾ï¼Œå¾ˆæ¸…æ¥šï¼‰ ã€ŠNginxé«˜æ€§èƒ½WebæœåŠ¡å™¨è¯¦è§£ã€‹","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"https://yeshan333.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://yeshan333.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"I/Oæ¨¡å‹","slug":"I-Oæ¨¡å‹","permalink":"https://yeshan333.github.io/tags/I-O%E6%A8%A1%E5%9E%8B/"}]},{"title":"ã€ç¬”è®°ã€å¯æ‰©å±•æ¶æ„è®¾è®¡ä¹‹æ¶ˆæ¯é˜Ÿåˆ—","slug":"å¯æ‰©å±•æ¶æ„è®¾è®¡ä¹‹æ¶ˆæ¯é˜Ÿåˆ—","date":"2020-04-06T19:44:09.000Z","updated":"2020-04-06T19:44:09.000Z","comments":true,"path":"2020/04/06/å¯æ‰©å±•æ¶æ„è®¾è®¡ä¹‹æ¶ˆæ¯é˜Ÿåˆ—/","permalink":"https://yeshan333.github.io/2020/04/06/%E5%8F%AF%E6%89%A9%E5%B1%95%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B9%8B%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/","excerpt":"å‰è¨€ä¼—æ‰€å‘¨çŸ¥ï¼Œå¼€å‘ä½è€¦åˆç³»ç»Ÿæ˜¯è½¯ä»¶å¼€å‘çš„ç»ˆæç›®æ ‡ä¹‹ä¸€ã€‚ä½è€¦åˆçš„ç³»ç»Ÿæ›´åŠ å®¹æ˜“æ‰©å±•ï¼Œä½è€¦åˆçš„æ¨¡å—æ›´åŠ å®¹æ˜“å¤ç”¨ï¼Œæ›´æ˜“äºç»´æŠ¤å’Œç®¡ç†ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯æ”¶å‘æ¶ˆæ¯ï¼Œä½†æ˜¯å®ƒçš„ä½œç”¨ä¸ä»…ä»…åªæ˜¯è§£å†³åº”ç”¨ä¹‹é—´çš„é€šä¿¡é—®é¢˜è¿™ä¹ˆç®€å•ã€‚æ¶ˆæ¯é˜Ÿåˆ—ä½œä¸ºå¸¸ç”¨çš„ä¸­é—´ä»¶ï¼Œç»å¸¸è¢«ç”¨æ¥å¯¹ç³»ç»Ÿè§£è€¦ï¼Œå¯¹æ¨¡å—è§£è€¦ã€‚å¢å¼ºç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œæ¨¡å—çš„å¯å¤ç”¨æ€§ã€‚ é™¤äº†å¯¹ç”¨äºå¯¹ç³»ç»Ÿã€æ¨¡å—è§£è€¦ï¼Œæ¶ˆæ¯é˜Ÿåˆ—è¿˜æœ‰ä»¥ä¸‹å‡ ç§é€šé€”ï¼š æœåŠ¡å¼‚æ­¥å¤„ç† æµé‡æ§åˆ¶ ä½œä¸ºå‘å¸ƒ &#x2F; è®¢é˜…ç³»ç»Ÿå®ç°ä¸€ä¸ªå¾®æœåŠ¡çº§ç³»ç»Ÿé—´çš„è§‚å¯Ÿè€…æ¨¡å¼ è¿æ¥æµè®¡ç®—ä»»åŠ¡å’Œæ•°æ® ç”¨äºå°†æ¶ˆæ¯å¹¿æ’­ç»™å¤§é‡æ¥æ”¶è€… äº‹ç‰©çš„å­˜åœ¨æ€»ä¼šæœ‰å¯¹ç«‹çš„ä¸€é¢ï¼Œå¼•å…¥æ¶ˆæ¯é˜Ÿåˆ—å¯èƒ½ä¼šå¸¦æ¥å»¶è¿Ÿé—®é¢˜ã€äº§ç”Ÿæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€å¢åŠ ç³»ç»Ÿå¤æ‚åº¦çš„é—®é¢˜ç­‰ç­‰ã€‚","text":"å‰è¨€ä¼—æ‰€å‘¨çŸ¥ï¼Œå¼€å‘ä½è€¦åˆç³»ç»Ÿæ˜¯è½¯ä»¶å¼€å‘çš„ç»ˆæç›®æ ‡ä¹‹ä¸€ã€‚ä½è€¦åˆçš„ç³»ç»Ÿæ›´åŠ å®¹æ˜“æ‰©å±•ï¼Œä½è€¦åˆçš„æ¨¡å—æ›´åŠ å®¹æ˜“å¤ç”¨ï¼Œæ›´æ˜“äºç»´æŠ¤å’Œç®¡ç†ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯æ”¶å‘æ¶ˆæ¯ï¼Œä½†æ˜¯å®ƒçš„ä½œç”¨ä¸ä»…ä»…åªæ˜¯è§£å†³åº”ç”¨ä¹‹é—´çš„é€šä¿¡é—®é¢˜è¿™ä¹ˆç®€å•ã€‚æ¶ˆæ¯é˜Ÿåˆ—ä½œä¸ºå¸¸ç”¨çš„ä¸­é—´ä»¶ï¼Œç»å¸¸è¢«ç”¨æ¥å¯¹ç³»ç»Ÿè§£è€¦ï¼Œå¯¹æ¨¡å—è§£è€¦ã€‚å¢å¼ºç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œæ¨¡å—çš„å¯å¤ç”¨æ€§ã€‚ é™¤äº†å¯¹ç”¨äºå¯¹ç³»ç»Ÿã€æ¨¡å—è§£è€¦ï¼Œæ¶ˆæ¯é˜Ÿåˆ—è¿˜æœ‰ä»¥ä¸‹å‡ ç§é€šé€”ï¼š æœåŠ¡å¼‚æ­¥å¤„ç† æµé‡æ§åˆ¶ ä½œä¸ºå‘å¸ƒ &#x2F; è®¢é˜…ç³»ç»Ÿå®ç°ä¸€ä¸ªå¾®æœåŠ¡çº§ç³»ç»Ÿé—´çš„è§‚å¯Ÿè€…æ¨¡å¼ è¿æ¥æµè®¡ç®—ä»»åŠ¡å’Œæ•°æ® ç”¨äºå°†æ¶ˆæ¯å¹¿æ’­ç»™å¤§é‡æ¥æ”¶è€… äº‹ç‰©çš„å­˜åœ¨æ€»ä¼šæœ‰å¯¹ç«‹çš„ä¸€é¢ï¼Œå¼•å…¥æ¶ˆæ¯é˜Ÿåˆ—å¯èƒ½ä¼šå¸¦æ¥å»¶è¿Ÿé—®é¢˜ã€äº§ç”Ÿæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€å¢åŠ ç³»ç»Ÿå¤æ‚åº¦çš„é—®é¢˜ç­‰ç­‰ã€‚ EDA æ¶æ„ä¹‹ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼ äº‹ä»¶é©±åŠ¨æ¶æ„(Event Driven Architecture, EDA) EDA æ¶æ„åŸç†äº‹ä»¶é©±åŠ¨æ¶æ„ç”±äº‹ä»¶å‘èµ·è€…å’Œäº‹ä»¶ä½¿ç”¨è€…ç»„æˆã€‚äº‹ä»¶çš„å‘èµ·è€…æ£€æµ‹æˆ–æ„ŸçŸ¥äº‹ä»¶ï¼Œå¹¶ä»¥æ¶ˆæ¯çš„å½¢å¼æ¥è¡¨ç¤ºäº‹ä»¶ã€‚å®ƒå¹¶ä¸çŸ¥é“äº‹ä»¶çš„ä½¿ç”¨è€…æˆ–äº‹ä»¶å¼•èµ·çš„ç»“æœã€‚ æ£€æµ‹åˆ°äº‹ä»¶åï¼Œç³»ç»Ÿä¼šé€šè¿‡äº‹ä»¶é€šé“ä»äº‹ä»¶å‘èµ·è€…ä¼ è¾“ç»™äº‹ä»¶ä½¿ç”¨è€…ï¼Œè€Œäº‹ä»¶å¤„ç†å¹³å°åˆ™ä¼šåœ¨è¯¥é€šé“ä¸­ä»¥å¼‚æ­¥æ–¹å¼å¤„ç†äº‹ä»¶ã€‚äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œéœ€è¦é€šçŸ¥äº‹ä»¶ä½¿ç”¨è€…ã€‚ä»–ä»¬å¯èƒ½ä¼šå¤„ç†äº‹ä»¶ï¼Œä¹Ÿå¯èƒ½åªæ˜¯å—äº‹ä»¶çš„å½±å“ã€‚ äº‹ä»¶å¤„ç†å¹³å°å°†å¯¹äº‹ä»¶åšå‡ºæ­£ç¡®å“åº”ï¼Œå¹¶å°†æ´»åŠ¨ä¸‹å‘ç»™ç›¸åº”çš„äº‹ä»¶ä½¿ç”¨è€…ã€‚é€šè¿‡è¿™ç§ä¸‹å‘æ´»åŠ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°äº‹ä»¶çš„ç»“æœã€‚ æ£€æµ‹åˆ°äº‹ä»¶åï¼Œç³»ç»Ÿä¼šé€šè¿‡äº‹ä»¶é€šé“ä»äº‹ä»¶å‘èµ·è€…ä¼ è¾“ç»™äº‹ä»¶ä½¿ç”¨è€…ï¼Œè€Œäº‹ä»¶å¤„ç†å¹³å°åˆ™ä¼šåœ¨è¯¥é€šé“ä¸­ä»¥å¼‚æ­¥æ–¹å¼å¤„ç†äº‹ä»¶ã€‚äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œéœ€è¦é€šçŸ¥äº‹ä»¶ä½¿ç”¨è€…ã€‚ä»–ä»¬å¯èƒ½ä¼šå¤„ç†äº‹ä»¶ï¼Œä¹Ÿå¯èƒ½åªæ˜¯å—äº‹ä»¶çš„å½±å“ã€‚ äº‹ä»¶å¤„ç†å¹³å°å°†å¯¹äº‹ä»¶åšå‡ºæ­£ç¡®å“åº”ï¼Œå¹¶å°†æ´»åŠ¨ä¸‹å‘ç»™ç›¸åº”çš„äº‹ä»¶ä½¿ç”¨è€…ã€‚é€šè¿‡è¿™ç§ä¸‹å‘æ´»åŠ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°äº‹ä»¶çš„ç»“æœã€‚ ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹æ“ä½œç³»ç»Ÿä¸­å¸¸è§çš„ EDA æ¶æ„å°±æ˜¯ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ã€‚æ¶ˆæ¯é˜Ÿåˆ—å¸¸ç”¨æ¥ä½œä¸ºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´çš„ç¼“å†²å¸¦ï¼Œå¹³è¡¡ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å¤„ç†èƒ½åŒæ—¶å¯¹æœåŠ¡è¿›è¡Œè§£è€¦ã€‚æœ‰äº†è¿™å±‚ç¼“å†²å¸¦ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å¯èƒ½éƒ½ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚ ä»¥ä¸‹ä¸ºç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹çš„ç®€å•å®ç°ï¼Œ(å†…å­˜æ¶ˆæ¯é˜Ÿåˆ—) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import timefrom queue import Queuefrom random import randintfrom threading import Threadclass Producer(Thread): def __init__(self, queue): super().__init__() self.queue = queue def run(self): while True: productA = randint(0, 10) productB = randint(90, 100) print(&#x27;Produce Aã€Œnumberã€: &#123;&#125;, Produce Bã€Œnumberã€: &#123;&#125;&#x27;.format(productA, productB)) self.queue.put((productA, productB)) time.sleep(2)class Consumer(Thread): def __init__(self, queue): super().__init__() self.queue = queue def run(self): while True: # block=True, if queue is empty, block(é˜»å¡) products_tuple = self.queue.get(block=True) print(f&#x27;Consume products: &#123;products_tuple[0]&#125; &amp; &#123;products_tuple[1]&#125;&#x27;) time.sleep(randint(0, 10))def main(): queue = Queue() producer = Producer(queue) consumer = Consumer(queue) producer.start() consumer.start()main()&quot;&quot;&quot;Produce Aã€Œnumberã€: 8, Produce Bã€Œnumberã€: 95Consume products: 8 &amp; 95Produce Aã€Œnumberã€: 4, Produce Bã€Œnumberã€: 92Consume products: 4 &amp; 92Produce Aã€Œnumberã€: 9, Produce Bã€Œnumberã€: 90... &quot;&quot;&quot; åŸºäºZeroMQ PubSubæ¨¡å¼çš„è§‚å¯Ÿè€…æ¨¡å¼å®ä¾‹ 1234567891011121314151617181920# publisher1.pyimport timeimport zmqdef publisher1(): context = zmq.Context() socket = context.socket(zmq.PUB) socket.bind(&quot;tcp://*:5555&quot;) while True: count = 99 while True: time.sleep(1) socket.send_string(&#x27;publisher1 pushes event %d&#x27; % count) print(&#x27;push event %d&#x27; % count) count += 1if __name__ == &quot;__main__&quot;: publisher1() 123456789101112131415161718192021# publisher2.pyimport timeimport zmqdef publisher2(): context = zmq.Context() socket = context.socket(zmq.PUB) socket.bind(&quot;tcp://*:5556&quot;) while True: count = 1 while True: time.sleep(1) socket.send_string(&#x27;publisher2 pushes event %d&#x27; % count) print(&#x27;push event %d&#x27; % count) count += 1if __name__ == &quot;__main__&quot;: publisher2() 1234567891011121314151617# subscriber1.pyimport zmqdef subscriber1(): context = zmq.Context() socket = context.socket(zmq.SUB) socket.connect(&#x27;tcp://127.0.0.1:5555&#x27;) socket.connect(&#x27;tcp://127.0.0.1:5556&#x27;) socket.setsockopt_string(zmq.SUBSCRIBE, &#x27;&#x27;) while True: message = socket.recv() print(&#x27;message: %s&#x27; % message)if __name__ == &quot;__main__&quot;: subscriber1() 1234567891011121314151617# subscriber2.pyimport zmqdef subscriber2(): context = zmq.Context() socket = context.socket(zmq.SUB) socket.connect(&#x27;tcp://127.0.0.1:5555&#x27;) socket.connect(&#x27;tcp://127.0.0.1:5556&#x27;) socket.setsockopt_string(zmq.SUBSCRIBE, &#x27;&#x27;) while True: message = socket.recv() print(&#x27;message: %s&#x27; % message)if __name__ == &quot;__main__&quot;: subscriber2() ç§’æ€ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ä¸æ¶ˆæ¯é˜Ÿåˆ—æŸç§’æ€ç³»ç»Ÿçš„ä¸»è¦å¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼š é£é™©æ§åˆ¶ åº“å­˜é”å®š ç”Ÿæˆè®¢å• çŸ­ä¿¡é€šçŸ¥ æ›´æ–°ç»Ÿè®¡æ•°æ® ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥å¤„ç†ç”±äºç§’æ€æˆåŠŸçš„å…³é”®å–å†³äºé£é™©æ§åˆ¶ã€åº“å­˜é”å®šè¿™ä¸¤æ­¥éª¤ï¼Œæ‰€ä»¥ server ç«¯å¤„ç†äº†è¿™ä¸¤æ­¥ä¹‹åå¯ä»¥ç»™ client ç«¯è¿”å›ç»“æœäº†ï¼Œåç»­çš„æ­¥éª¤å¯æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­å¼‚æ­¥æ‰§è¡Œã€‚ä¸ä¸€å®šè¦åœ¨ç§’æ€è¯·æ±‚ä¸­å®Œæˆã€‚é›†ä¸­èµ„æºå¤„ç†å…³é”®æ­¥éª¤ï¼ˆåŒæ­¥ï¼‰ï¼Œç¢ç‰‡æ—¶é—´ï¼ˆå…¨éƒ¨ç§’æ€è¯·æ±‚å¤„ç†ç»“æŸï¼‰å¤„ç†æ¬¡è¦æ­¥éª¤ï¼ˆå¼‚æ­¥ï¼‰ã€‚ ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œæµé‡æ§åˆ¶(å‰Šå³°)ç§’æ€å¼€å§‹åï¼Œå°†è¶…è¿‡ server ç«¯å¤„ç†ä¸Šé™ï¼ˆçŸ­æ—¶é—´å†…ï¼‰çš„ç§’æ€è¯·æ±‚æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œåç»­æœ‰èƒ½åŠ›å¤„ç†æ—¶å†å¯¹æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¶ˆè´¹è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚å¯¹äºè¶…æ—¶çš„è¯·æ±‚å¯ä»¥ç›´æ¥ä¸¢å¼ƒï¼ˆç§’æ€å¤±è´¥ï¼‰ã€‚ å‚è€ƒ å¤§å‹ç½‘ç«™æŠ€æœ¯æ¶æ„ ä»€ä¹ˆæ˜¯äº‹ä»¶é©±åŠ¨æ¶æ„ ä¸ºä»€ä¹ˆéœ€è¦æ¶ˆæ¯é˜Ÿåˆ—-æå®¢æ—¶é—´ ZeroMQ pyzmq","categories":[{"name":"Architecture","slug":"Architecture","permalink":"https://yeshan333.github.io/categories/Architecture/"}],"tags":[{"name":"æ¶æ„è®¾è®¡","slug":"æ¶æ„è®¾è®¡","permalink":"https://yeshan333.github.io/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"},{"name":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","permalink":"https://yeshan333.github.io/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"}]},{"title":"å•ä¾‹æ¨¡å¼å¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§","slug":"å•ä¾‹æ¨¡å¼å¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§","date":"2020-04-04T19:59:09.000Z","updated":"2020-04-04T19:59:09.000Z","comments":true,"path":"2020/04/04/å•ä¾‹æ¨¡å¼å¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§/","permalink":"https://yeshan333.github.io/2020/04/04/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%94%AF%E4%B8%80%E6%80%A7/","excerpt":"å‰è¨€ æœ€è¿‘é¢è¯•å‘ç°è‡ªå·±ä¸æ‡‚çš„ä¸œè¥¿è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œå†™ä¸€æ³¢æ–‡ç« æ¥å·©å›ºå’ŒæŒ–æ˜æ¬ ç¼ºçš„çŸ¥è¯†ç‚¹ä»¥åŠåŠ æ·±å¯¹å·²æœ‰çŸ¥è¯†ç‚¹åŸç†çš„ç†è§£ã€‚","text":"å‰è¨€ æœ€è¿‘é¢è¯•å‘ç°è‡ªå·±ä¸æ‡‚çš„ä¸œè¥¿è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œå†™ä¸€æ³¢æ–‡ç« æ¥å·©å›ºå’ŒæŒ–æ˜æ¬ ç¼ºçš„çŸ¥è¯†ç‚¹ä»¥åŠåŠ æ·±å¯¹å·²æœ‰çŸ¥è¯†ç‚¹åŸç†çš„ç†è§£ã€‚ ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ æŒ‡ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¸”è¯¥ç±»èƒ½è‡ªè¡Œåˆ›å»ºè¿™ä¸ªå®ä¾‹çš„ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ã€‚ ä½¿ç”¨ç›®çš„ï¼šç¡®ä¿åœ¨æ•´ä¸ªç³»ç»Ÿä¸­åªèƒ½å‡ºç°ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œå³ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå¯¹è±¡ã€‚å¯¹äºé¢‘ç¹ä½¿ç”¨çš„å¯¹è±¡ï¼Œâ€œå¿½ç•¥â€åˆ›å»ºæ—¶çš„å¼€é”€ã€‚ ç‰¹ç‚¹ï¼š å•ä¾‹ç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼› è¯¥å•ä¾‹å¯¹è±¡å¿…é¡»ç”±å•ä¾‹ç±»è‡ªè¡Œåˆ›å»ºï¼› å•ä¾‹ç±»å¯¹å¤–æä¾›ä¸€ä¸ªè®¿é—®è¯¥å•ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ï¼› å¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§é‚£ä¹ˆï¼Œå¦‚ä½•ä¿è¯å®ä¾‹çš„å”¯ä¸€æ€§ï¼Ÿ Java çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€å¯¹äº Java æ¥è¯´ï¼Œè¦ç¡®ä¿ç±»çš„æ„é€ æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä½¿ç”¨ static final çš„ç§æœ‰æˆå‘˜å˜é‡å­˜æ”¾è¿™ä¸ªå”¯ä¸€å®ä¾‹ã€‚æˆ‘ä»¬è¿˜è¦æä¾›ä¸€ä¸ªè·å–å®ä¾‹çš„æ¥å£ï¼ˆç”±äºæˆ‘ä»¬è¦é€šè¿‡ç±»åè·å–å®ä¾‹ï¼Œæ‰€ä»¥æ¥å£æ–¹æ³•æ˜¯ static çš„ï¼‰ã€‚å®ç°å¦‚ä¸‹ï¼š 1234567public class Singleton &#123; private static final Singleton instance=new Singleton(); private Singleton() &#123;&#125; public static Singleton getInstance() &#123; return instance; &#125;&#125; æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äº static çš„å˜é‡ï¼Œç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å¯ä»¥å…±äº«è¿™ä¸ªå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ç±»åæ¥è®¿é—®å®ƒã€‚å†ä½¿ç”¨ final ä¿®é¥°è¿™ä¸ªå˜é‡ï¼Œä½¿å¾—å®ƒä¸èƒ½å†è¢«æ”¹å˜ã€‚ æˆ³æ­¤å¤„æ·±å…¥äº†è§£ â†’ Python çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ä»¥ä¸‹ä¸º Python ä½¿ç”¨è£…é¥°å™¨å®ç°çš„å•ä¾‹æ¨¡å¼ã€‚è¿™é‡Œå°†ä¸å¯å˜çš„ç±»åœ°å€å­˜æ”¾åœ¨äº† dict ä¸­ï¼Œå€¼ä¸ºé‚£ä¸ªå”¯ä¸€çš„å®ä¾‹ã€‚ 123456789101112131415161718192021222324def Singleton(cls): _instance = &#123;&#125; def getInstance(*args, **kwargs): if cls not in _instance: _instance[cls] = cls() return _instance[cls] return getInstance@Singletonclass test_singleton: def __init__(self): passdef main(): class1 = test_singleton() class2 = test_singleton() print(&#x27;class1 id: &#123;&#125;, class2 id: &#123;&#125;&#x27;.format( id(class1), id(class2))) print(class1 == class2)main()# class1 id: 1814844368152, class2 id: 1814844368152# True å‚è€ƒ Creating a singleton in Python å•ä¾‹æ¨¡å¼ï¼ˆå•ä¾‹è®¾è®¡æ¨¡å¼ï¼‰è¯¦è§£","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://yeshan333.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://yeshan333.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"ä½¿ç”¨ mypy åš type check","slug":"ä½¿ç”¨-mypy-åštype-check","date":"2020-03-06T11:29:17.000Z","updated":"2020-03-06T11:29:17.000Z","comments":true,"path":"2020/03/06/ä½¿ç”¨-mypy-åštype-check/","permalink":"https://yeshan333.github.io/2020/03/06/%E4%BD%BF%E7%94%A8-mypy-%E5%81%9Atype-check/","excerpt":"å‰è¨€å®Œæ®‹ï¼ğŸ˜‚ï¼Œæœ€è¿‘çœ‹ä¹‹å‰å†™çš„ Python ä»£ç è€å¾—ç¢ç£¨è¿™æ¯”å˜é‡çš„ç±»å‹æ˜¯å•¥ï¼ˆPython æ— ç±»å‹ç³»ç»Ÿxxxï¼‰ï¼Œä¸æ„§æ˜¯æˆ‘å†™çš„ï¼ çœ‹æ®µä¹‹å‰å†™çš„å®ç°è¿­ä»£å™¨æ¨¡å¼çš„ä»£ç ï¼š","text":"å‰è¨€å®Œæ®‹ï¼ğŸ˜‚ï¼Œæœ€è¿‘çœ‹ä¹‹å‰å†™çš„ Python ä»£ç è€å¾—ç¢ç£¨è¿™æ¯”å˜é‡çš„ç±»å‹æ˜¯å•¥ï¼ˆPython æ— ç±»å‹ç³»ç»Ÿxxxï¼‰ï¼Œä¸æ„§æ˜¯æˆ‘å†™çš„ï¼ çœ‹æ®µä¹‹å‰å†™çš„å®ç°è¿­ä»£å™¨æ¨¡å¼çš„ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465# æŠ½è±¡è¿­ä»£å™¨ç±»class Iterator(object): def hasNext(): pass def next(): pass# æŠ½è±¡èšé›†ç±»class Aggregate(object): def iterator(): passclass BookShelf(Aggregate): def __init__(self): self._books = [] self._last = 0 def getBookAt(self, index): return self._books[index] def appendBook(self, book): self._books.append(book) self._last = self._last + 1 def getLength(self): return self._last def iterator(self): return BookShelfIterator(self)class BookShelfIterator(Iterator): def __init__(self, bookShelf): self._bookShelf = bookShelf self._index = 0 def hasNext(self): if self._index &lt; self._bookShelf.getLength(): return True else: return False def next(self): book = self._bookShelf.getBookAt(self._index) self._index = self._index + 1 return bookclass Book(): def __init__(self, name): self._name = name def getName(self): return self._nameif __name__ == &quot;__main__&quot;: bookShelf = BookShelf() bookShelf.appendBook(Book(&quot;A&quot;)) bookShelf.appendBook(Book(&quot;B&quot;)) bookShelf.appendBook(Book(&quot;C&quot;)) bookShelf.appendBook(Book(&quot;D&quot;)) it = bookShelf.iterator() while it.hasNext(): book = it.next() print(book.getName()) æœ‰ä¸€ä¸¢ä¸¢éš¾è¯»ï¼ˆä¸é€šè¯»çš„è¯ï¼Œä¼šä¹±çŒœæŸå˜é‡ç±»å‹ï¼‰ï¼Œå›æƒ³ä¹‹å‰åœ¨ PyCon China 2019 çš„å¤§ä¼šèµ„èŠæ›¾çœ‹åˆ°è¿‡ç±»å‹æ£€æŸ¥ç›¸å…³çš„æ¼”è®²ä¸»é¢˜ï¼Œå›é¡¾ä¸‹æ¼”è®²è§†é¢‘ã€‚æ°´ä¸€æ³¢ï¼Œå†™ç¯‡æ–‡ç« äº†è§£ä¸‹ Python æ ‡å‡†(PEP 3107 &amp; PEP 484 )æ”¯æŒçš„ mypyã€‚ ç±»å‹ç³»ç»Ÿï¼šç¼–è¯‘æœŸçš„ç±»å‹æ¨å¯¼æ£€æŸ¥è§„åˆ™ï¼Œç±»å‹ç³»ç»Ÿå±äºä¸€ç§è½»é‡çº§çš„å½¢å¼åŒ–æ–¹æ³•ï¼ˆä¸€ç§æ•°å­¦æ–¹æ³•ï¼‰ ä½¿ç”¨-mypy1234# å®‰è£… mypypip install mypy# ä½¿ç”¨ mypy åšç±»å‹æ£€æŸ¥mypy module_name.py ä»¥ä¸‹ä½¿ç”¨æ–¹å¼é€‚ç”¨äº Python 3.6 åŠä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚å€¼å¾—æ³¨æ„ï¼šmypy é»˜è®¤çš„æ¨å¯¼ç±»å‹ä¸å¯ä¸º None å˜é‡çš„ç±»å‹æ³¨é‡Š12345678integer: int = 1string: str = &quot;ShanSan&quot;err_str: str = 1 # error: Incompatible types in assignmentchild: bool = True# mypy é»˜è®¤çš„æ¨å¯¼ç±»å‹ä¸å¯ä¸º Nonenone: int - None # error: Invalid type comment or annotationprint(integer, string) å†…å»ºç±»å‹å…³äºæ›´å¤š mypy çš„ç±»å‹ç³»ç»Ÿå†…å»ºçš„ç±»å‹å¯å‚è€ƒï¼šhttps://mypy.readthedocs.io/en/stable/builtin_types.html 123456789101112131415161718192021from typing import Dict, Tuple, Optional, Iterable, Union# å¯¹äºæ˜ å°„(Map)æ•°æ®ç»“æ„ï¼Œéœ€è¦æŒ‡å®š key å’Œ value çš„ç±»å‹x: Dict[str, float] = &#123;&#x27;field&#x27;: 2.0&#125;# Tuple éœ€è¦æŒ‡å®šæ‰€æœ‰å…ƒç´ çš„ç±»å‹x: Tuple[int, str, float] = (3, &quot;yes&quot;, 7.5)# error: Incompatible types in assignment (expression has type &quot;Tuple[int, str, float, int]&quot;, variable has type &quot;Tuple[int, str, float]&quot;)y: Tuple[int, str, float] = (3, &quot;yes&quot;, 7.5, 11)op: Optional[str] = None # å¯ä¸º str æˆ– None# æ³›ç”¨å¯è¿­ä»£å¯¹è±¡l: Iterable = [1]t: Iterable = (1, 2)d: Iterable = &#123;1: 1&#125;# å¯ä¸º str æˆ– intstr_int1: Union[str, int] = 1str_int2: Union[str, int] = &quot;ss&quot;str_int3: Union[str, int] = None # error å‡½æ•°æ³¨è§£12345678910111213141516171819from typing import NoReturndef f1() -&gt; None: passdef f2() -&gt; NoReturn: # æ— è¿”å›å€¼ passdef plus(num1: int, num2: int) -&gt; int: return num1 + num2# å¸¦é»˜è®¤å€¼def plus_default(num1: int, num2: int = 3) -&gt; int: return num1 + num2# å®¹å™¨çš„å‚æ•°ç±»å‹def container_param(names: List[str]) -&gt; None: for name in names: print(name) ç±»æˆå‘˜æ³¨è§£123456789101112131415class MyClass: attr: int # å¸¦é»˜è®¤å€¼çš„å®ä¾‹å˜é‡ charge_percent: int = 100 # æ²¡æœ‰ä»»ä½•è¿”å›å€¼åº”è¯¥æ³¨è§£ä¸º None def __init__(self) -&gt; None: pass # å¿½ç•¥å¯¹ self ç±»å‹çš„æ³¨è§£ def my_method(self, num: int, str1: str) -&gt; str: return num * str1# æ”¯æŒè‡ªå®šä¹‰ç±»å‹çš„æ³¨è§£x: MyClass = MyClass() ç»“å°¾OKï¼Œ å·®ä¸å¤šäº†ï¼Œå¯¹ä¹‹å‰çš„è¿­ä»£å™¨æ¨¡å¼çš„ä»£ç æ”¹é€ ä¸€æ³¢ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667from typing import List, Iterable# æŠ½è±¡è¿­ä»£å™¨ç±»class Iterator(object): def hasNext(self): pass def next(self): pass# æŠ½è±¡èšé›†ç±»class Aggregate(object): def iterator(self): passclass BookShelf(Aggregate): def __init__(self) -&gt; None: self._books: List[Book] = [] self._last: int = 0 def getBookAt(self, index: int) -&gt; Book: return self._books[index] def appendBook(self, book: Book) -&gt; None: self._books.append(book) self._last = self._last + 1 def getLength(self) -&gt; int: return self._last def iterator(self) -&gt; BookShelfIterator: return BookShelfIterator(self)class BookShelfIterator(Iterator): def __init__(self, bookShelf) -&gt; None: self._bookShelf: BookShelf = bookShelf self._index: int = 0 def hasNext(self) -&gt; bool: if self._index &lt; self._bookShelf.getLength(): return True else: return False def next(self) -&gt; Book: book: Book = self._bookShelf.getBookAt(self._index) self._index = self._index + 1 return bookclass Book(): def __init__(self, name) -&gt; None: self._name: str = name def getName(self) -&gt; str: return self._nameif __name__ == &quot;__main__&quot;: bookShelf: BookShelf = BookShelf() bookShelf.appendBook(Book(&quot;A&quot;)) bookShelf.appendBook(Book(&quot;B&quot;)) bookShelf.appendBook(Book(&quot;C&quot;)) bookShelf.appendBook(Book(&quot;D&quot;)) it: Iterator = bookShelf.iterator() while it.hasNext(): book: Book = it.next() print(book.getName()) emmm, èˆ’æœäº†ä¸€ä¸¢ä¸¢&#x2F;(ã„’oã„’)&#x2F;~~ å‚è€ƒ https://github.com/python/mypy PyCon China 2019 æˆéƒ½åˆ†ä¼šåœº-åˆ˜çŸ¥æ­-é™æ€ç±»å‹çš„ Python, videoğŸ”— PyCon China 2019 åŒ—äº¬åˆ†ä¼šåœº-ä¾äº‘-ç±»å‹æ£€æŸ¥æ‹¯æ•‘ç²—å¿ƒå¼€å‘è€…, videoğŸ”— Type hints cheat sheet (Python 3)","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"é™æ€ç±»å‹æ£€æŸ¥","slug":"é™æ€ç±»å‹æ£€æŸ¥","permalink":"https://yeshan333.github.io/tags/%E9%9D%99%E6%80%81%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5/"}]},{"title":"æ´æ‚‰æŠ€æœ¯çš„æœ¬è´¨-Gitå†…éƒ¨åŸç†æ¢ç´¢","slug":"Gitå†…éƒ¨åŸç†æ¢ç´¢","date":"2020-02-03T00:49:18.000Z","updated":"2020-02-03T00:49:18.000Z","comments":true,"path":"2020/02/03/Gitå†…éƒ¨åŸç†æ¢ç´¢/","permalink":"https://yeshan333.github.io/2020/02/03/Git%E5%86%85%E9%83%A8%E5%8E%9F%E7%90%86%E6%8E%A2%E7%B4%A2/","excerpt":"å‰è¨€æ´æ‚‰æŠ€æœ¯çš„æœ¬è´¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨å±‚å‡ºä¸ç©·çš„æ¡†æ¶é¢å‰ä»èƒ½æ³°ç„¶å¤„ä¹‹ã€‚ç”¨äº†é‚£ä¹ˆä¹…çš„ Gitï¼Œä¸æ‡‚ç‚¹å†…éƒ¨åŸç†ï¼Œé‚£å¯ä¸è¡Œï¼æ‡‚ç‚¹åŸç†å¯ä»¥è®©æˆ‘ä»¬é‡åˆ°é—®é¢˜çš„æ—¶å€™èƒ½å¤Ÿæ›´å¥½æ›´å¿«çš„ç†æ¸…è§£å†³é—®é¢˜çš„æ€è·¯ã€‚ è¦çœŸæ­£è¯»æ‡‚æœ¬æ–‡å¯èƒ½éœ€è¦ä»¥ä¸‹åŸºç¡€ï¼š æœ‰ Git ä½¿ç”¨ç»éªŒ å¯¹ Git çš„ä¸‰ä¸ªåˆ†åŒºæœ‰æ‰€äº†è§£ ç†Ÿæ‚‰å¸¸ç”¨çš„ Linux å‘½ä»¤ å¯¹ç»å…¸å“ˆå¸Œç®—æ³•æœ‰ä¸€å®šçš„äº†è§£ï¼Œæ¯”å¦‚SHA-1ã€SHA-256ã€MD5ç­‰ åœ¨å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæŠ›å‡ºå‡ ä¸ªé—®é¢˜ï¼Œç„¶åä¸€ä¸€è§£å†³ã€å›ç­”å®ƒä»¬ .gitç‰ˆæœ¬åº“é‡Œçš„æ–‡ä»¶&#x2F;ç›®å½•æ˜¯å¹²ä»€ä¹ˆçš„? Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„ï¼Ÿ å½“æˆ‘ä»¬æ‰§è¡Œgit addã€git commitæ—¶ï¼ŒGitèƒŒååšäº†ä»€ä¹ˆï¼Ÿ Gitåˆ†æ”¯çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ?","text":"å‰è¨€æ´æ‚‰æŠ€æœ¯çš„æœ¬è´¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨å±‚å‡ºä¸ç©·çš„æ¡†æ¶é¢å‰ä»èƒ½æ³°ç„¶å¤„ä¹‹ã€‚ç”¨äº†é‚£ä¹ˆä¹…çš„ Gitï¼Œä¸æ‡‚ç‚¹å†…éƒ¨åŸç†ï¼Œé‚£å¯ä¸è¡Œï¼æ‡‚ç‚¹åŸç†å¯ä»¥è®©æˆ‘ä»¬é‡åˆ°é—®é¢˜çš„æ—¶å€™èƒ½å¤Ÿæ›´å¥½æ›´å¿«çš„ç†æ¸…è§£å†³é—®é¢˜çš„æ€è·¯ã€‚ è¦çœŸæ­£è¯»æ‡‚æœ¬æ–‡å¯èƒ½éœ€è¦ä»¥ä¸‹åŸºç¡€ï¼š æœ‰ Git ä½¿ç”¨ç»éªŒ å¯¹ Git çš„ä¸‰ä¸ªåˆ†åŒºæœ‰æ‰€äº†è§£ ç†Ÿæ‚‰å¸¸ç”¨çš„ Linux å‘½ä»¤ å¯¹ç»å…¸å“ˆå¸Œç®—æ³•æœ‰ä¸€å®šçš„äº†è§£ï¼Œæ¯”å¦‚SHA-1ã€SHA-256ã€MD5ç­‰ åœ¨å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæŠ›å‡ºå‡ ä¸ªé—®é¢˜ï¼Œç„¶åä¸€ä¸€è§£å†³ã€å›ç­”å®ƒä»¬ .gitç‰ˆæœ¬åº“é‡Œçš„æ–‡ä»¶&#x2F;ç›®å½•æ˜¯å¹²ä»€ä¹ˆçš„? Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„ï¼Ÿ å½“æˆ‘ä»¬æ‰§è¡Œgit addã€git commitæ—¶ï¼ŒGitèƒŒååšäº†ä»€ä¹ˆï¼Ÿ Gitåˆ†æ”¯çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ? Gitåˆ†åŒºåœ¨çœŸæ­£å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå›é¡¾ä¸‹Gitçš„ä¸‰ä¸ªåˆ†åŒºï¼ˆWorkspaceã€Index &#x2F; Stageã€git repositoryï¼‰ å·¥ä½œåŒºï¼ˆWorkspaceï¼‰ï¼šæ­¤å¤„è¿›è¡Œä»£ç æ–‡ä»¶çš„ç¼–è¾‘ ç´¢å¼•æˆ–ç§°æš‚å­˜åŒºï¼ˆIndex &#x2F; Stageï¼‰ï¼šå­˜å‚¨æ–‡ä»¶çŠ¶æ€ä¿¡æ¯ï¼Œè¿›è¡Œcommitå‰ä¼šå¯¹æ­¤æ—¶çš„æ–‡ä»¶çŠ¶æ€ä½œå¿«ç…§ï¼ˆSnapshotï¼‰ Gitç‰ˆæœ¬åº“ï¼ˆgit repositoryï¼‰ï¼šç”±Git ObjectæŒä¹…è®°å½•æ¯ä¸€æ¬¡commitçš„å¿«ç…§å’Œé“¾å¼ç»“æ„çš„commitå˜æ›´å†å² å…ˆçœ‹ä¸‹ä»ã€ŠGot Gitã€‹å’Œç½‘ç»œä¸Šæ¬æ¥çš„Gitåˆ†åŒºå·¥ä½œåŸç†å›¾å’Œå¾…remoteçš„å·¥ä½œæµå†æ¬¡æ„Ÿæ€§å›é¡¾ä¸‹ä¹‹å‰ä½¿ç”¨Gitè‡ªå·±æ—¶æ€ä¹ˆæ“ä½œçš„ ç›¸ä¿¡çœ‹äº†è¿™äº›ï¼Œä¼šå¯¹Gitæœ‰æ–°çš„è®¤çŸ¥ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ğŸ‰ï¼ .gitç‰ˆæœ¬åº“é‡Œçš„æ–‡ä»¶&#x2F;ç›®å½•æ˜¯å¹²ä»€ä¹ˆçš„è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä»GitHub cloneä¸‹æ¥çš„ä¸€ä¸ªå®é™…é¡¹ç›®çš„ç‰ˆæœ¬åº“æ¥çœ‹ä¸‹è¿™äº›æ–‡ä»¶&#x2F;ç›®å½•ï¼Œcloneä¸‹æ¥çš„repository 12345678910111213$ git clone https://github.com/yeshan333/Explore-Git$ ls -F1configdescriptionHEADhooks/indexinfo/logs/objects/packed-refsrefs/ æŒ‘å‡ ä¸ªé‡è¦æ–‡ä»¶&#x2F;ç›®å½•çš„åšä¸‹è§£é‡Š HEADæ–‡ä»¶ï¼šç”¨äºå­˜æ”¾å½“å‰æ‰€åœ¨åˆ†æ”¯çš„å¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨æ˜¯ä¸ªç¬¦å·å¼•ç”¨ï¼ˆsymbolic referenceï¼‰ indexæ–‡ä»¶ï¼šäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®ƒå°±æ˜¯æš‚å­˜åŒºï¼ˆStage Areaï¼‰ã€‚å®ƒæ˜¯ä¸€ä¸ªç›®å½•æ ‘ï¼Œè®°å½•äº†æ–‡ä»¶çš„æ—¶é—´æˆ³ã€æ–‡ä»¶é•¿åº¦ã€SHA-1ç­‰ refsç›®å½•ï¼šåŸºæœ¬æ‰€æœ‰çš„å¼•ç”¨ï¼ˆreferencesï¼‰æ–‡ä»¶éƒ½å­˜æ”¾åœ¨è¿™é‡Œï¼Œå¼•ç”¨æ–‡ä»¶ä¸­çš„å†…å®¹ä¸ºSHA-1å€¼ï¼Œä¸€èˆ¬æ˜¯commit objectçš„SHA-1å€¼ objectsç›®å½•ï¼šç”¨äºå­˜æ”¾æ•°æ®çš„æ‰€æœ‰ Git Objectå‡å­˜æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œæ¯ä¸ª Git Object å¯¹åº”ä¸€ä¸ªç›®å½•ï¼Œobjectå¯¹åº”çš„SHA-1å€¼çš„å‰ 2 ä½ä¸ºç›®å½•åï¼Œå 38 ä½ä¸ºæ–‡ä»¶å æŠ±ç€ä¸€äº›åˆæ­¥çš„è®¤çŸ¥ï¼Œæˆ‘ä»¬ç»§ç»­è§£å†³åé¢å‡ ä¸ªé—®é¢˜ï¼ŒåŠ æ·±å¯¹.gitç‰ˆæœ¬åº“å†…æ–‡ä»¶çš„ç†è§£ Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„è¦çŸ¥é“Gitå¦‚ä½•å­˜å‚¨ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹å¸¸è§çš„Gitå¯¹è±¡ï¼ŒGitå°±æ˜¯é€šè¿‡è¿™äº›å¯¹è±¡å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„ã€‚Git Objectæ˜¯Gitå­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„æœ€å°å•å…ƒï¼Œå¦‚ä¸‹ä¸ºå‡ ç§å¸¸è§çš„Git Objectä»¥åŠå®ƒä»¬çš„ä½œç”¨ï¼Œå®ƒä»¬ä¸€èˆ¬æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œè¿™äº›å¯¹è±¡ä½¿ç”¨40ä½çš„SHA-1å€¼è¿›è¡Œæ ‡è¯†ã€‚ blobï¼šç”¨äºå­˜å‚¨æ–‡ä»¶å†…å®¹ï¼ŒGitä¿å­˜æ–‡ä»¶çš„æ—¶å€™ä¸ä¼šä¿å­˜æ–‡ä»¶å tree objectï¼šå½“å‰ç›®å½•ç»“æ„çš„ä¸€ä¸ªå¿«ç…§ï¼ˆSnapshotï¼‰ï¼Œå®ƒå­˜å‚¨äº†ä¸€æ¡æˆ–å¤šæ¡æ ‘è®°å½•ï¼ˆtree entriesï¼‰ï¼Œæ¯æ¡è®°å½•å«æœ‰ä¸€ä¸ªæŒ‡å‘æ•°æ®å¯¹è±¡ï¼ˆblobï¼‰æˆ–å­æ ‘å¯¹è±¡ï¼ˆå­æ ‘æœ¨å¯¹è±¡å¯ç†è§£ä¸ºå­ç›®å½•ï¼‰çš„SHA-1æŒ‡é’ˆä»¥åŠç›¸åº”çš„æ–‡ä»¶æ¨¡å¼ã€ç±»å‹ã€æ–‡ä»¶åï¼Œç”¨äºè¡¨ç¤ºå†…å®¹ä¹‹é—´çš„ç›®å½•å±‚æ¬¡å…³ç³» commit objectï¼šå­˜å‚¨é¡¶å±‚tree objectçš„SHA-1å€¼ã€ä½œè€…&#x2F;æäº¤è€…ä¿¡æ¯+æ—¶é—´æˆ³ä»¥åŠæäº¤æ³¨é‡Šï¼Œå¦‚æœæœ‰çˆ¶commit objectï¼Œè¿˜ä¼šä¿å­˜æœ‰è¿™ä¸ªcommit objectå¯¹åº”çš„SHA-1å€¼ã€‚å¯¹äºmerge commitå¯èƒ½ä¼šæœ‰å¤šä¸ªçˆ¶commit object tag objectï¼šç”¨äºæ ‡è®°commit objectã€‚å…³äºtag object è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…çš„ç‰ˆæœ¬åº“äº†è§£ä¸‹è¿™äº›å¯¹è±¡ï¼Œä½¿ç”¨git logæŸ¥çœ‹è¿™ä¸ªç‰ˆæœ¬åº“è¯¦å°½çš„å†å²æäº¤è®°å½• 12345678910111213141516$ git log --pretty=rawcommit ee8a0dbc0c6fe89e6ff39b16c77543e8e2c6475btree fb12b3e52ce18ce281bfc2b11a5e4350c2d10358parent 7b94dcbe89c9534913854284b4af727a9a5dfc84author yeshan333 &lt;1329441308@qq.com&gt; 1580629391 +0800committer yeshan333 &lt;1329441308@qq.com&gt; 1580629391 +0800 final commitcommit 7b94dcbe89c9534913854284b4af727a9a5dfc84tree 8feb4afbab18e8d386413224a9e74f871c15a5caauthor yeshan333 &lt;1329441308@qq.com&gt; 1580629170 +0800committer GitHub &lt;noreply@github.com&gt; 1580629170 +0800 Initial commit Gitæä¾›äº†ä¸€æŠŠéå¸¸å¥½ç”¨çš„ç‘å£«å†›åˆ€ğŸ”ªç»™æˆ‘ä»¬å‰–æè¿™äº›å¯¹è±¡ï¼Œå®ƒæ˜¯å°±æ˜¯cat-fileï¼Œé€šè¿‡-tå‚æ•°å¯ä»¥æŸ¥çœ‹objectçš„ç±»å‹ï¼Œé€šè¿‡-på‚æ•°æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹objectå­˜å‚¨çš„å…·ä½“å†…å®¹ã€‚æŸ¥çœ‹ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°objectå¯¹åº”çš„SHA-1å€¼ï¼Œå¯ä¸å¿…å†™å®Œï¼Œä»å¤´å¼€å§‹çš„å‰å‡ ä½ä¸å†²çªå³å¯ã€‚git cat-file è®©æˆ‘ä»¬é€šè¿‡å®ƒæŸ¥çœ‹ä¸‹SHA-1å€¼ee8a0dbc0c6fe89e6ff39b16c77543e8e2c6475bå¯¹åº”çš„commit objectçš„ç±»å‹ä»¥åŠå­˜æ”¾çš„å†…å®¹ã€‚ 1234567891011$ git cat-file -t ee8acommit$ git cat-file -p ee8atree fb12b3e52ce18ce281bfc2b11a5e4350c2d10358parent 7b94dcbe89c9534913854284b4af727a9a5dfc84author yeshan333 &lt;1329441308@qq.com&gt; 1580629391 +0800committer yeshan333 &lt;1329441308@qq.com&gt; 1580629391 +0800final commit è®©æˆ‘ä»¬å†æŸ¥çœ‹ä¸‹è¿™ä¸ªcommit objectï¼ˆee8aï¼‰å­˜å‚¨çš„tree objectï¼ˆfb12ï¼‰çš„ä¿¡æ¯ 1234567$ git cat-file -p fb12100644 blob 6116a7dd8f752dabff8730a46b46846b2d0a696b README.md040000 tree 41ed97c2adb97658107069582b6a27e474b4cc64 test$ git cat-file -t fb12tree æˆ‘ä»¬çŸ¥é“tree objectå­˜å‚¨äº†ä¸€æ¡æˆ–å¤šæ¡æ ‘è®°å½•ï¼ˆtree entriesï¼‰ï¼Œæ¯æ¡è®°å½•å«æœ‰ä¸€ä¸ªæŒ‡å‘æ•°æ®å¯¹è±¡ï¼ˆblobï¼‰æˆ–å­æ ‘å¯¹è±¡ï¼ˆå­æ ‘æœ¨å¯¹è±¡å¯ç†è§£ä¸ºå­ç›®å½•ï¼‰çš„SHA-1æŒ‡é’ˆä»¥åŠç›¸åº”çš„æ–‡ä»¶æ¨¡å¼ã€ç±»å‹ã€æ–‡ä»¶åã€‚100644å³ä¸ºå¯¹åº”çš„æ–‡ä»¶æ¨¡å¼ï¼Œ100644è¡¨ç¤ºæ™®é€šæ–‡æœ¬æ–‡ä»¶ï¼Œ040000è¡¨ç¤ºç›®å½•æ–‡ä»¶ã€‚å…³äºæ–‡ä»¶æ¨¡å¼çš„ä¸€ç‚¹ç–‘é—® è®©æˆ‘ä»¬å†çœ‹ä¸‹tree objectï¼ˆfb12ï¼‰å­˜å‚¨çš„SHA-1æŒ‡é’ˆï¼ˆ6116ï¼‰å¯¹åº”çš„blobï¼ˆ6116ï¼‰å­˜æ”¾çš„å†…å®¹ 12345$ git cat-file -p 6116# Explore-Git$ git cat-file -t 6116blob Niceï¼Œå¾ˆå¥½çš„å¯¹åº”äº†ä¹‹å‰å¯¹blobã€tree objectã€commit objectçš„æè¿°ã€‚å…³äºæ–‡ä»¶çš„å¤§éƒ¨åˆ†ä¿¡æ¯éƒ½å­˜æ”¾åœ¨è¿™äº›objectä¸­ã€‚ å½“æˆ‘ä»¬æ‰§è¡Œgit addã€git commitæ—¶ï¼ŒGitèƒŒååšäº†ä»€ä¹ˆè§£ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å®è·µå»ä¸€æ­¥æ­¥æ„Ÿå—GitèƒŒåçš„æ“ä½œã€‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„ä¾‹å­æ„Ÿå—ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ—¶åˆ»å…³æ³¨.git&#x2F;objectsè¿™ä¸ªç›®å½• 1234567891011$ mkdir demo$ cd demo$ git init # åˆå§‹åŒ–Gitä»“åº“$ find .git/objects -type f # æ²¡æœ‰æ–‡ä»¶$ echo &quot;test&quot; &gt; test.txt$ mkdir hi$ cd hi$ echo &quot;Hello&quot; &gt; hello.txt$ cd ..$ find .git/objects -type f$ # ä»€ä¹ˆéƒ½æ²¡æœ‰ è¿™é‡Œæˆ‘ä»¬åˆ›å»ºå…ˆäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œtest.txtã€hello.txtï¼Œå…¶ä¸­hello.txtæ–‡ä»¶æ”¾åˆ°äº†hiç›®å½•ä¸­ï¼Œç„¶åæˆ‘ä»¬æŸ¥çœ‹äº†.git&#x2F;objectsç›®å½•ï¼Œæ²¡æœ‰æ–‡ä»¶ã€‚æ¥ä¸‹æ¥å°±æ˜¯é‡å¤´æˆäº†ï¼Œæˆ‘ä»¬è¦å°†å½“å‰ç›®å½•çš„æ–‡ä»¶&#x2F;ç›®å½•ï¼ˆLinuxä¸€åˆ‡çš†æ–‡ä»¶ï¼‰æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆstage&#x2F;indexï¼‰ã€‚ 1234$ git add .$ find .git/objects -type f.git/objects/9d/aeafb9864cf43055ae93beb0afd6c7d144bfa4.git/objects/e9/65047ad7c57865823c7d992b1d046ea66edf78 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ‰§è¡Œäº†git addä¹‹åç”Ÿæˆäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œè®©æˆ‘ä»¬é€šè¿‡git cat-fileçœ‹çœ‹è¿™ä¸¤ä¸ªæ–‡ä»¶ 12345678$ git cat-file -t 9daeblob$ git cat-file -p 9daetest # test.txtæ–‡ä»¶ä¸­çš„å†…å®¹$ git cat-file -t e965blob$ git cat-file -p e965Hello # hi/hello.txtæ–‡ä»¶ä¸­çš„å†…å®¹ å“¦ï¼ŒGitä¸ºæˆ‘ä»¬ç”Ÿæˆäº†ä¸¤ä¸ªobjectï¼Œä¸¤ä¸ªblobï¼Œå­˜æ”¾çš„æ˜¯test.txtã€hello.txtçš„å†…å®¹ï¼Œè®©æˆ‘ä»¬commitä¸€ä¸‹çœ‹çœ‹Gitåˆåšäº†ä»€ä¹ˆ 123456789101112131415161718192021222324$ find .git/objects -type f.git/objects/27/1c49aa4a2c8eb1b2ef503c19378aa6810fca1e.git/objects/2e/8ebea76975c98806e73c0b7aea6c40c58d427c.git/objects/8c/3c7fbcd903744b20fd7567a1fcefa99133b5bc.git/objects/9d/aeafb9864cf43055ae93beb0afd6c7d144bfa4.git/objects/e9/65047ad7c57865823c7d992b1d046ea66edf78$ git cat-file -t 271ccommit$ git cat-file -t 2e8etree$ git cat-file -t 8c3ctree$$ git cat-file -p 271ctree 2e8ebea76975c98806e73c0b7aea6c40c58d427cauthor root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580651827 +0800committer root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580651827 +0800Hello Git$ git cat-file -p 8c3c100644 blob e965047ad7c57865823c7d992b1d046ea66edf78 hello.txt$ git cat-file -p 2e8e040000 tree 8c3c7fbcd903744b20fd7567a1fcefa99133b5bc hi100644 blob 9daeafb9864cf43055ae93beb0afd6c7d144bfa4 test.txt å“¦ï¼ŒcommitåGitä¸ºæˆ‘ä»¬æ–°åˆ›å»ºäº†3ä¸ªobjectï¼Œåˆ†åˆ«æ˜¯æ ¹æ ‘å¯¹è±¡tree objectï¼ˆ2e8eï¼‰ã€å­æ ‘å¯¹è±¡tree objectï¼ˆ8c3cï¼‰ã€commit objectï¼ˆ271cï¼‰ã€‚ç°åœ¨ä¸€å…±æœ‰5ä¸ªGit Objectã€‚è¿™äº›objectå­˜æ”¾çš„å†…å®¹ç¬¦åˆæˆ‘ä»¬åœ¨è§£ç­”Gitæ˜¯å¦‚ä½•å­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„æ—¶å¯¹å®ƒä»¬çš„è¡¨è¿°ã€‚Gitåœ¨addã€commitåæœ‰æ¡ä¸ç´Šçš„æŠŠå®ƒä»¬ç»„ç»‡äº†èµ·æ¥ã€‚tqlğŸ‘ è®©æˆ‘ä»¬çœ‹ä¸‹æ­¤æ¬¡æäº¤çš„æ—¥å¿— 1234567$ git log --pretty=rawcommit 271c49aa4a2c8eb1b2ef503c19378aa6810fca1etree 2e8ebea76975c98806e73c0b7aea6c40c58d427cauthor root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580651827 +0800committer root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580651827 +0800 Hello Git é—®é¢˜æ¥äº†ï¼ŒGitæ˜¯å¦‚ä½•ç»„ç»‡è¿™äº›objectçš„â“ä»¤äººå…´å¥‹çš„æ˜¯Gitåœ¨æä¾›ç»™æˆ‘ä»¬è¿™äº›é¡¶å±‚APIå»æ„‰å¿«ä½¿ç”¨çš„åŒæ—¶è¿˜æä¾›äº†ä¸€äº›è¾ƒä¸ºåº•å±‚çš„APIè®©æˆ‘ä»¬èƒ½å¤Ÿæ›´æ·±å…¥çš„äº†è§£å®ƒã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†é€šè¿‡éƒ¨åˆ†åº•å±‚çš„APIæ¥é‡ç°æœ¬æ¬¡commit logçš„åˆ›å»ºè¿‡ç¨‹ã€‚ä¸»è¦ç”¨åˆ°çš„åº•å±‚APIå¦‚ä¸‹ï¼š git hash-objectï¼šç”Ÿæˆblob git update-indexï¼šå¯¹æš‚å­˜åŒºè¿›è¡Œæ“ä½œ git write-treeï¼šæ ¹æ®å½“å‰æš‚å­˜åŒºï¼ˆindexï¼‰çŠ¶æ€åˆ›å»ºä¸€ä¸ªtree object git read-treeï¼šå°†tree objectè¯»å…¥æš‚å­˜åŒº git commit-treeï¼šåˆ›å»ºcommit object é‡ç°æ­¥éª¤å¦‚ä¸‹ï¼š 1ã€å…ˆåˆå§‹åŒ–ç‰ˆæœ¬åº“ï¼Œå†ä¸ºå†…å®¹åˆ†åˆ«ä¸ºtestçš„test.txtã€Helloçš„hello.txtåˆ›å»ºä¸¤ä¸ªblobï¼Œblobä¸å­˜å‚¨æ–‡ä»¶å 1234567$ mkdir test$ cd testgit init$ echo &#x27;test&#x27; | git hash-object -w --stdin9daeafb9864cf43055ae93beb0afd6c7d144bfa4$ echo &#x27;Hello&#x27; | git hash-object -w --stdine965047ad7c57865823c7d992b1d046ea66edf78 2ã€ä½¿ç”¨git update-index -addå°†blobï¼ˆe965ï¼‰åŠ å…¥æš‚å­˜åŒºï¼Œä½¿ç”¨--cacheinfoå‚æ•°æŒ‡å®šæ–‡ä»¶æ¨¡å¼ã€SHA-1å€¼ã€æ–‡ä»¶åï¼ˆhello.txtï¼‰ 1$ git update-index --add --cacheinfo 100644 e965047ad7c57865823c7d992b1d046ea66edf78 hello.txt 3ã€ä½¿ç”¨git write-treeå°†å½“å‰æš‚å­˜åŒºçŠ¶æ€å†™å…¥ä¸€ä¸ªtree objectï¼ˆ8c3cï¼‰ 12$ git write-tree8c3c7fbcd903744b20fd7567a1fcefa99133b5bc 4ã€å°†hello.txtç§»å‡ºæš‚å­˜åŒºï¼Œå°†blobï¼ˆ9daeï¼‰åŠ å…¥æš‚å­˜åŒºï¼ˆå³å°†test.txtåŠ å…¥æš‚å­˜åŒºï¼‰ 12$ git update-index --remove hello.txt$ git update-index --add --cacheinfo 100644 9daeafb9864cf43055ae93beb0afd6c7d144bfa4 test.txt 5ã€ä½¿ç”¨git read-treeå°†å·²æœ‰tree objectä½œä¸ºå­æ ‘å¯¹è±¡åŠ å…¥æš‚å­˜åŒºï¼Œé€šè¿‡--prefixè®¾ç½®åç§°ä¸ºhi 1$ git read-tree --prefix=hi 8c3c7fbcd903744b20fd7567a1fcefa99133b5bc 6ã€è®°å½•ä¸‹å½“å‰æš‚å­˜åŒºçŠ¶æ€åˆ°tree object 12$ git write-tree2e8ebea76975c98806e73c0b7aea6c40c58d427c 7ã€ä½¿ç”¨git commit-treeæ ¹æ®tree objectçš„SHA-1å€¼åˆ›å»ºcommit object 12$ echo &#x27;Hello Git&#x27; | git commit-tree 2e8e2616a5b40ead79df23736f61b346080423f438fe 8ã€æŸ¥çœ‹commit logï¼Œæ²¡å¤šå¤§æ¯›ç—…ï¼Œæ”¶å·¥ğŸ‰ 123456789101112131415$ git log --pretty=raw 2616commit 2616a5b40ead79df23736f61b346080423f438fetree 2e8ebea76975c98806e73c0b7aea6c40c58d427cauthor root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580660050 +0800committer root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580660050 +0800 Hello Git$ git cat-file -p 2616tree 2e8ebea76975c98806e73c0b7aea6c40c58d427cauthor root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580660050 +0800committer root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt; 1580660050 +0800Hello Git ç›¸ä¿¡åˆ°äº†è¿™é‡Œï¼Œå·²ç»å¯¹Gitåœ¨æˆ‘ä»¬git addã€git commitæ—¶åšäº†ä»€ä¹ˆæœ‰äº†ä¸€å®šçš„äº†è§£ã€‚å¦‚æœæƒ³äº†è§£Git Objectå¯¹åº”çš„SHA-1å€¼å¦‚ä½•ç”Ÿæˆå’Œå¦‚ä½•å¤ç°å¹¶ä¸²è”å¤šä¸ªcommit objectå½¢æˆä¸€ä¸ªæäº¤å†å²é“¾ï¼Œå¯æŸ¥çœ‹ã€ŠPro Gitã€‹çš„ç¬¬åç« ç¬¬äºŒå°èŠ‚æˆ–å‚çœ‹åé¢çš„å‚è€ƒèµ„æ–™ã€‚ Gitåˆ†æ”¯çš„æœ¬è´¨æ˜¯ä»€ä¹ˆGitåˆ†æ”¯çš„æœ¬è´¨æ˜¯æŒ‡å‘æŸä¸€ç³»åˆ—æäº¤ä¹‹é¦–çš„æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚Gitä½¿ç”¨å¼•ç”¨çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯æˆ‘ä»¬ä¸éœ€è¦èŠ±å¿ƒæ€å»è®°é‚£äº›Git Objecté•¿é•¿çš„SHA-1å€¼ã€‚å¼•ç”¨æ˜¯å­˜æ”¾SHA-1å€¼çš„æ–‡ä»¶ï¼Œå®ƒä»¬ä½äº.git/refsç›®å½•ä¸­ã€‚Gitæä¾›äº†ä¸€ä¸ªAPIè®©æˆ‘ä»¬æ›´æ–°å¼•ç”¨-update-refï¼Œç¤ºä¾‹å¦‚ä¸‹ 123456789101112131415$ git update-ref refs/heads/master 2616 # 2616ä¸ºä¹‹å‰æµ®ç°commit logåˆ›å»ºçš„commit objectçš„SHA-1å€¼$ git logcommit 2616a5b40ead79df23736f61b346080423f438fe (HEAD -&gt; master)Author: root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt;Date: Mon Feb 3 00:14:10 2020 +0800 Hello Git$ git log mastercommit 2616a5b40ead79df23736f61b346080423f438fe (HEAD -&gt; master)Author: root &lt;root@DESKTOP-CQ9JEC7.localdomain&gt;Date: Mon Feb 3 00:14:10 2020 +0800 Hello Git$ cat .git/refs/heads/master2616a5b40ead79df23736f61b346080423f438fe HEADå¼•ç”¨åœ¨ä»‹ç»HEADæ–‡ä»¶çš„æ—¶å€™æˆ‘ä»¬è¯´è¿‡å®ƒå­˜æ”¾çš„æ˜¯å½“å‰æ‰€åœ¨åˆ†æ”¯çš„å¼•ç”¨ï¼Œè€Œä¸”è¿™ä¸ªå¼•ç”¨æ˜¯ä¸ªç¬¦å·å¼•ç”¨ï¼ˆsymbolic referenceï¼‰ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯ç¬¦å·å¼•ç”¨ï¼Ÿå®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘å…¶å®ƒå¼•ç”¨çš„æŒ‡é’ˆã€‚æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¹‹å‰cloneä¸‹æ¥çš„Explore-Gitçš„HEADæ–‡ä»¶ 12$ cat .git/HEADref: refs/heads/master å½“æˆ‘ä»¬checkoutåˆ°æŸä¸ªåˆ†æ”¯æ—¶ï¼ŒHEADæ–‡ä»¶å†…å®¹å¦‚ä¸‹ 123456$ git branch yeshan$ git checkout yeshanSwitched to branch &#x27;yeshan&#x27;$ cat .git/HEADref: refs/heads/yeshan è‡³æ­¤ï¼ŒæŠ›å‡ºçš„é—®é¢˜å·²è§£ç­”å®Œæ¯•ã€‚ å‚è€ƒ Go Gitï¼šé¢å‘æœªæ¥çš„ä»£ç å¹³å°ï¼Œäº†è§£ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å‘å±•å’ŒGitç°å­˜çš„é—®é¢˜ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæœªæ¥çš„èµ°å‘ ã€ŠGitæƒå¨æŒ‡å—ã€‹ - Gitå¯¹è±¡æ¢ç§˜ è¿™æ‰æ˜¯çœŸæ­£çš„Gitâ€”â€”Gitå†…éƒ¨åŸç†æ­ç§˜ï¼ ã€ŠPro Gitã€‹- Basic Snapshotting Gitå¯¹è±¡æ¨¡å‹ ä½ çŸ¥é“ Git æ˜¯å¦‚ä½•åšç‰ˆæœ¬æ§åˆ¶çš„å— å›¾è§£Git GitHub Developer REST API Git Blobs å¦‚ä½•è¯»å–git-ls-treeè¾“å‡ºçš„æ¨¡å¼å­—æ®µ å¸¸ç”¨Gitå‘½ä»¤æ¸…å•","categories":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/tags/Git/"}]},{"title":"React+Flaskæ‰“é€ å‰åç«¯åˆ†ç¦»é¡¹ç›®å¼€å‘ç¯å¢ƒ","slug":"React-Flaskæ‰“é€ å‰åç«¯åˆ†ç¦»é¡¹ç›®å¼€å‘ç¯å¢ƒ","date":"2020-01-13T12:56:16.000Z","updated":"2020-01-13T12:56:16.000Z","comments":true,"path":"2020/01/13/React-Flaskæ‰“é€ å‰åç«¯åˆ†ç¦»é¡¹ç›®å¼€å‘ç¯å¢ƒ/","permalink":"https://yeshan333.github.io/2020/01/13/React-Flask%E6%89%93%E9%80%A0%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/","excerpt":"å‰è¨€ æ–°çš„ä¸€å¹´ï¼Œå¼€å§‹æ°´ç¬¬ä¸€ç¯‡æŠ€æœ¯æ–‡ã€‚ç¢°å·§æœ€è¿‘Reactç©å¾—å¤šï¼Œæ’¸ä¸€ç¯‡æ–‡ç« çºªå¿µä¸€ä¸‹å¼€å‘ç¯å¢ƒçš„æ­å»ºã€‚ğŸ¤” å¼€ç¯‡ä¸¤é—®ï¼š ä»€ä¹ˆæ˜¯Reactï¼Ÿï¼šReactï¼Œç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼ˆå®˜ç½‘å¤åˆ¶ç²˜è´´ï¼ŒçœŸé¦™ï¼Œä¸ç”¨æ€ä¹ˆå†™templateäº†ï¼Œèˆ’æœ ä»€ä¹ˆæ˜¯Flaskï¼Ÿï¼šä¸€ä¸ªä½¿ç”¨Pythonç¼–å†™çš„è½»é‡çº§Webåº”ç”¨æ¡†æ¶ã€‚ç”¨æ¥å†™äº‘åŸç”Ÿåº”ç”¨å¾ˆé¦™ï¼ å…ˆçœ‹ä¸‹æœ€ç»ˆçš„é¡¹ç›®ç»“æ„ï¼Œå¦‚ä¸‹ï¼šã€Šé¡¹ç›®æºç ã€‹ 12345678910111213141516171819â”œâ”€â”€ app.pyâ”œâ”€â”€ env| â”œâ”€â”€ Include| â”œâ”€â”€ Lib| â”œâ”€â”€ LICENSE.txt| â”œâ”€â”€ Scripts| â””â”€â”€ tclâ”œâ”€â”€ frontend| â”œâ”€â”€ build| â”œâ”€â”€ node_modules| â”œâ”€â”€ package-lock.json| â”œâ”€â”€ package.json| â”œâ”€â”€ public| â”œâ”€â”€ README.md| â””â”€â”€ srcâ”œâ”€â”€ static| â””â”€â”€ jsâ””â”€â”€ templates â””â”€â”€ index.html","text":"å‰è¨€ æ–°çš„ä¸€å¹´ï¼Œå¼€å§‹æ°´ç¬¬ä¸€ç¯‡æŠ€æœ¯æ–‡ã€‚ç¢°å·§æœ€è¿‘Reactç©å¾—å¤šï¼Œæ’¸ä¸€ç¯‡æ–‡ç« çºªå¿µä¸€ä¸‹å¼€å‘ç¯å¢ƒçš„æ­å»ºã€‚ğŸ¤” å¼€ç¯‡ä¸¤é—®ï¼š ä»€ä¹ˆæ˜¯Reactï¼Ÿï¼šReactï¼Œç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼ˆå®˜ç½‘å¤åˆ¶ç²˜è´´ï¼ŒçœŸé¦™ï¼Œä¸ç”¨æ€ä¹ˆå†™templateäº†ï¼Œèˆ’æœ ä»€ä¹ˆæ˜¯Flaskï¼Ÿï¼šä¸€ä¸ªä½¿ç”¨Pythonç¼–å†™çš„è½»é‡çº§Webåº”ç”¨æ¡†æ¶ã€‚ç”¨æ¥å†™äº‘åŸç”Ÿåº”ç”¨å¾ˆé¦™ï¼ å…ˆçœ‹ä¸‹æœ€ç»ˆçš„é¡¹ç›®ç»“æ„ï¼Œå¦‚ä¸‹ï¼šã€Šé¡¹ç›®æºç ã€‹ 12345678910111213141516171819â”œâ”€â”€ app.pyâ”œâ”€â”€ env| â”œâ”€â”€ Include| â”œâ”€â”€ Lib| â”œâ”€â”€ LICENSE.txt| â”œâ”€â”€ Scripts| â””â”€â”€ tclâ”œâ”€â”€ frontend| â”œâ”€â”€ build| â”œâ”€â”€ node_modules| â”œâ”€â”€ package-lock.json| â”œâ”€â”€ package.json| â”œâ”€â”€ public| â”œâ”€â”€ README.md| â””â”€â”€ srcâ”œâ”€â”€ static| â””â”€â”€ jsâ””â”€â”€ templates â””â”€â”€ index.html å¼€å‘ç¯å¢ƒï¼šWindows+Flask+React+Git Bash+vscode Backend-Flask ä¸ªäººæ¯”è¾ƒå–œæ¬¢ç”¨CLIï¼ŒSoï¼Œé¡¹ç›®å¼€å‘ä¾èµ–ä½¿ç”¨virtualenv+pipç®¡ç†ï¼Œpipenvä¹Ÿè¿˜è¡Œï¼Œè™½ç„¶lock packageæœ‰ç‚¹ä¹…ã€‚å¬è¯´æ¯”è¾ƒæ–°çš„poetryå¾ˆé¦™ï¼Ÿ 1234567891011# 1ã€å®‰è£…virtualenvpip install virtualenv# 2ã€ä¸ºé¡¹ç›®ï¼ˆFlask_Reactï¼‰åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ-&gt;envvirtualenv env# 3ã€æ¿€æ´»è™šæ‹Ÿç¯å¢ƒenvsource env/Scripts/activate# 4ã€å®‰è£…é¡¹ç›®ä¾èµ–pip install -r requirments.txt# 5ã€åˆ›å»ºå¥½templateså’Œstaticç›®å½•ï¼Œç”¨äºå­˜æ”¾Reactæ‰“åŒ…å¥½çš„æ¸²æŸ“æ¨¡æ¿å’Œé™æ€æ–‡ä»¶mkdir templatesmkdir static åç«¯æœåŠ¡çš„åŸºç¡€ç¯å¢ƒæ­å»ºå¥½äº†ï¼Œéšæ‰‹å†™ä¸ªè·¯ç”±ï¼Œçœ‹ä¸‹èƒ½ä¸èƒ½ç”¨å…ˆ 1234567891011# app.pyfrom flask import Flaskapp = Flask(__name__)@app.route(&#x27;/&#x27;)def index(): return &quot;&lt;h1&gt;Hello React+Flask!&lt;/h1&gt;&quot;if __name__ == &#x27;__main__&#x27;: app.run(&#x27;127.0.0.1&#x27;, port=5000, debug=True) Frontend-React å‰ç«¯Reactåº”ç”¨çš„å¼€å‘ç¯å¢ƒä½¿ç”¨å®˜æ–¹æä¾›çš„è„šæ‰‹æ¶create-react-appæ­å»ºã€‚ 1234# 1ã€å®‰è£…è„šæ‰‹æ¶npm install -g create-react-app# 2ã€ä¸ºFlask_Reacté¡¹ç›®åˆ›å»ºReact App-&gt;frontendcreate-react-app frontend # è¿™é‡Œæœ‰ç‚¹å°ä¹…ï¼Œå–æ¯å’–å•¡â˜•æ‘¸ä¸‹é±¼ OKï¼Œå‰ç«¯å¼€å‘ç¯å¢ƒæ­å»ºå¥½äº†ï¼Œæ¸…ç†æ‰srcç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œè‡ªå·±å†™ä¸ªç»„ä»¶ï¼Œå¦‚ä¸‹ï¼š 123cd frontend/srcrm -rf *touch index.js 1234567891011121314151617181920//index.jsimport React from &#x27;react&#x27;import ReactDOM from &#x27;react-dom&#x27;class App extends React.Component &#123; render() &#123; return ( &lt;div className=&quot;container&quot;&gt; &lt;h1 className=&quot;center-align&quot;&gt; ç›’è£…ä¸€æµå¼Š&lt;br/&gt; &lt;span className=&quot;waves-effect waves-light btn&quot;&gt; &lt;i className=&quot;material-icons right&quot;&gt;cloud&lt;/i&gt;æ‚¨è¯´çš„éƒ½å¯¹ &lt;/span&gt; &lt;/h1&gt; &lt;/div&gt; ); &#125;&#125;ReactDOM.render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;)) OKï¼Œé¢„è§ˆä¸‹æ•ˆæœï¼Œé¡ºä¾¿è°ƒè¯•ï¼ˆæ²¡å•¥å¯è°ƒè¯•çš„&#x2F;(ã„’oã„’)&#x2F;~~ï¼‰ã€‚npm startã€‚æ•ˆæœå¦‚ä¸‹ï¼š æ²¡å¤šå¤§é—®é¢˜çš„è¯ï¼Œæ˜¯æ—¶å€™æ‰“åŒ…å†™å¥½çš„React Appç»™åç«¯æœåŠ¡äº†ã€‚ Doneå¾ˆèˆ’æœçš„æ˜¯create-react-appå°è£…å¥½äº† Babel å’Œ webpackï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨npm run buildæ‰“åŒ…å†™å¥½çš„Appåˆ°frontend&#x2F;buildç›®å½•ä¸­ã€‚ç„¶åæ‰‹åŠ¨å°†ç”Ÿæˆçš„æ–‡ä»¶åˆ†åˆ«æŒªåˆ°Flaskçš„templateså’Œstaticç›®å½•ä¸­å³å¯ã€‚ç­‰ç­‰ï¼Ÿæ‰‹åŠ¨ï¼Œèƒ½ä¸èƒ½ä½¿ç”¨CLIï¼Œdangç„¶é˜”ä»¥ã€‚ npm å…è®¸æˆ‘ä»¬åœ¨package.jsonæ–‡ä»¶é‡Œé¢ï¼Œä½¿ç”¨scriptså­—æ®µè‡ªå®šä¹‰è„šæœ¬å‘½ä»¤ã€‚æ›´èˆ’æœçš„æ˜¯npm scriptæä¾›äº†preå’Œposté’©å­ã€‚æˆ‘ä»¬å¯ä»¥ç»™buildè„šæœ¬å‘½ä»¤æä¾›ä¸¤ä¸ªé’©å­prebuildå’Œpostbuildã€‚ç¼–è¾‘åçš„package.jsonæ–‡ä»¶çš„Scriptå‘½ä»¤å¦‚ä¸‹å¦‚ä¸‹ï¼š 12345678&quot;scripts&quot;: &#123; &quot;start&quot;: &quot;react-scripts start&quot;, &quot;prebuild&quot;: &quot;rm -rf ..\\\\templates\\\\index.html &amp;&amp; rm -rf ..\\\\static&quot;, &quot;build&quot;: &quot;react-scripts build&quot;, &quot;postbuild&quot;: &quot;mv build\\\\index.html ..\\\\templates\\\\ &amp;&amp; mv build\\\\static ..\\\\static&quot;, &quot;test&quot;: &quot;react-scripts test&quot;, &quot;eject&quot;: &quot;react-scripts eject&quot;&#125;, è¿™æ—¶å€™ï¼Œæˆ‘ä»¬æ‰§è¡Œnpm run buildå‘½ä»¤æ—¶ï¼Œä¼šè‡ªåŠ¨æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ‰§è¡Œ 123rm -rf ..\\\\templates\\\\index.html &amp;&amp; rm -rf ..\\\\staticreact-scripts buildmv build\\\\index.html ..\\\\templates\\\\ &amp;&amp; mv build\\\\static ..\\\\static OKï¼Œæˆ‘ä»¬è¯•è¯•ã€‚å¦‚ä¸‹ï¼š Niceï¼Œæ²¡æ¯›ç—…ã€‚ğŸ‰ğŸ‰ğŸ‰ã€‚æ”¹ä¸‹app.py: 12345678910from flask import Flask, render_templateapp = Flask(__name__)@app.route(&#x27;/&#x27;)def index(): return render_template(&#x27;index.html&#x27;) # æ¸²æŸ“æ‰“åŒ…å¥½çš„React Appçš„é¡µé¢if __name__ == &#x27;__main__&#x27;: app.run(&#x27;127.0.0.1&#x27;, port=5000, debug=True) å†‡é—®é¢˜å•Šï¼æ”¶å·¥ï¼ï¼ï¼ References React Docs Create React App npm-scripts npm scripts ä½¿ç”¨æŒ‡å—","categories":[{"name":"React","slug":"React","permalink":"https://yeshan333.github.io/categories/React/"}],"tags":[{"name":"Flask","slug":"Flask","permalink":"https://yeshan333.github.io/tags/Flask/"},{"name":"React","slug":"React","permalink":"https://yeshan333.github.io/tags/React/"}]},{"title":"2019 å¹´æ€»ç»“","slug":"2019å¹´æ€»ç»“","date":"2019-12-31T11:15:07.000Z","updated":"2019-12-31T11:15:07.000Z","comments":true,"path":"2019/12/31/2019å¹´æ€»ç»“/","permalink":"https://yeshan333.github.io/2019/12/31/2019%E5%B9%B4%E6%80%BB%E7%BB%93/","excerpt":"","text":"å‰è¨€æ‰¯ğŸ¥šç»ˆäºè€ƒå®Œè¯•äº†ï¼ˆæ˜¨å¤©ä¸‹åˆç»ˆç»“äº†æœ€åä¸€ç§‘-â€œä¸‡æ¶â€çš„å¤å˜å‡½æ•°ğŸˆğŸ‰ï¼‰ï¼Œå¯ä»¥æ‘©æ“¦ä¸‹å¹´ç»ˆæ€»ç»“äº†ï¼ŒèŠ±ç‚¹æ—¶é—´æƒ³ä¸‹2019å¹´æˆ‘å¹²äº†ä»€ä¹ˆğŸã€‚å®Œäº†å†™ä¸ä¸‹å»äº†ï¼ˆæ­¤æ—¶ä¸­åˆ12ç‚¹59åˆ†30ç§’ã€‚ å¿†å¾€æ˜”-xxx~2019è¿™ä¸€å¹´è¿‡å¾—æ— æ¯”çš„å……å®ï¼Œä¸ªäººæ„Ÿè§‰é«˜ä¸­çš„æ—¶å€™éƒ½æ²¡å¯¹è‡ªå·±è¿™ä¹ˆç‹ è¿‡ï¼Œæˆ‘æ€•æ˜¯ä¸Šäº†ä¸ªå‡çš„å¤§å­¦ï¼ˆå¿½ç„¶æƒ³èµ·é«˜ä¸‰ä¸´è¿‘é«˜è€ƒé‚£æ®µæ—¶é—´ï¼Œåˆ«äººåœ¨å¤ä¹ ï¼Œè€Œæˆ‘å´è¶´åœ¨æ¡Œé¢ä¸Šåœ¨ç¡è§‰&lt;è¢«â€œå†œè¯â€æ¯’å®³ï¼Œè¶´äº†æ•´ä¸ªé«˜ä¸‰ï¼ŒæŒºå¯¹ä¸èµ·è€å¸ˆçš„ï¼Œæƒ­æ„§ğŸ˜¥ï¼‰ã€‚ ä»¥ä¸‹å¼€å§‹ç•¥å¾®æ€»ç»“ä¸‹ä»Šå¹´çš„æ“ä½œã€æ”¶è·ä¸é—æ†¾ã€‚ é˜…è¯»æ–¹é¢è¿™ä¸€å¹´çœ‹äº†å¾ˆå¤šçš„ä¹¦ï¼Œæœ‰æŠ€æœ¯æ–¹é¢çš„ä¹Ÿæœ‰éæŠ€æœ¯æ–¹é¢çš„éƒ½æœ‰ï¼Œæˆ‘ä½›äº†ï¼Œå¤§ä¸‰ä¸Šä¸€æ•´ä¸ªå­¦æœŸå°±æ²¡æ‰“è¿‡æ¸¸æˆï¼Œæˆ‘éƒ½ä½©æœæˆ‘è‡ªå·±ï¼ŒÎµ&#x3D;Îµ&#x3D;Îµ&#x3D;â”(ã‚œãƒ­ã‚œ;)â”›ï¼Œç•¥å¾®ç½—åˆ—ä¸‹ï¼š æ²¡çœ‹å®Œçš„ï¼Œçœ‹äº†å¤§éƒ¨åˆ†ï¼Œä½†æ˜¯æ²¡å†ç»§ç»­çœ‹ ã€ŠPythonå¯†ç å­¦ç¼–ç¨‹ã€‹ ã€ŠPythonä»å…¥é—¨åˆ°å®è·µã€‹ ã€ŠC++ Primer Plusã€‹ ã€ŠPythonåŸºç¡€æ•™ç¨‹ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹ ã€Šç®—æ³•å›¾è§£ã€‹ ã€Šå•Šå“ˆï¼ç®—æ³•ã€‹ ã€ŠHTTPæƒå¨æŒ‡å—ã€‹ ã€ŠFlask Webå¼€å‘ï¼šåŸºäºPythonçš„Webåº”ç”¨å¼€å‘å®æˆ˜ã€‹ ã€ŠFlask å…¥é—¨æ•™ç¨‹ã€‹ ã€ŠDocker Deep Diveã€‹ ã€ŠLinux å°±è¯¥è¿™ä¹ˆå­¦ã€‹ ã€ŠHow To Think Like A Computer Scientistã€‹ å¯ä»¥è¯´æ˜¯çœ‹å®Œäº†çš„ ã€ŠWebå…¨æ ˆå·¥ç¨‹å¸ˆçš„è‡ªæˆ‘ä¿®å…»ã€‹ ã€ŠDonâ€™t Make Me Thinkã€‹ ã€ŠGrowth: å…¨æ ˆå¢é•¿å·¥ç¨‹å¸ˆæŒ‡å—ã€‹ ã€Šæˆ‘çš„èŒä¸šæ˜¯å‰ç«¯å·¥ç¨‹å¸ˆã€‹ ã€ŠRePractiseã€‹ â€¦â€¦ ä¸Šå›¾ï¼Œemmmâ€¦æˆ‘æ­£åœ¨çœ‹çš„ï¼Œå¸Œæœ›å¼€å­¦å‰èƒ½çœ‹å®Œå¤§éƒ¨åˆ†ï¼Œåˆèƒ½â€œå¹æ°´â€äº†ï¼Œéƒ½æ˜¯ğŸ’ªåŠ›é‡å•Šï¼ å°å£°bbï¼Œæˆ‘å…¥æ‰‹äº†å¥—ã€Šå‘¨æ˜“ã€‹ï¼Œçœ‹äº†é‚£ä¹ˆå¤šè¿˜æ˜¯èœï¼ˆå¤ªå‘å¾®äº†ï¼Œæ€»æœ‰é‚£ä¹ˆç§å¥½é«˜éª›è¿œçš„æ„Ÿè§‰ï¼ï¼ï¼æ–‘é©³ æŠ€æœ¯å®è·µä¸äº¤æµè¿™ä¸€å¹´ï¼Œæˆ‘å–œæ¬¢ä¸Šäº†å¼€æºç¤¾åŒºï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªissueã€‚å¾ˆå¹¸è¿èƒ½å¤Ÿå·å·çš„åœ¨å›¾çµè¯»è€…ç¾¤QQå½“ä¸ªæ··å­ï¼ŒçŸ¥é“äº†Manjusakaï¼ˆç’ˆå”ï¼Œä¸€ç›´åœ¨å¬å¤§ä½¬å‡ºã€Šæ•è›‡è€…è¯´ã€‹æ’­å®¢ï¼Œæ”¶è·æ»¡æ»¡ï¼‰ï¼Œé€šè¿‡å¤§ä½¬åˆçŸ¥é“äº†PyCon Chinaã€‚ä»Šå¹´Python30å‘¨å¹´ï¼ŒPyCon China 2019å¤§ä½¬äº‘é›†ï¼Œå¤ªé¦™äº†ï¼Œè·¯è´¹å¤ªè´µæ²¡èƒ½å»æˆï¼Œæ²¡èƒ½çº¿ä¸‹è§è¯¸ä½å¤§ä½¬ï¼ˆå¤ªè‹¦biäº†&#x2F;(ã„’oã„’)&#x2F;~~ï¼Œè¿˜å¥½æœ‰PPTå’Œè§†é¢‘æ”¾å‡ºæ¥ï¼Œç°åœ¨ä»åœ¨åå¤çš„çœ‹ä¸€äº›æ„Ÿå…´è¶£çš„Topicçš„Slideå’Œè§†é¢‘ï¼Œåˆgetâœ…åˆ°äº†å­¦ä¹ çš„æ–°å§¿åŠ¿ã€‚ è¿™ä¸€å¹´æˆ‘åšçš„éƒ½æ˜¯ä¸€äº›å°ç©æ„ï¼Œå¤ªå‘å¾®äº†ï¼Œä¸æ•¢åˆ—å‡ºæ¥ã€‚ä¸å¾—ä¸è¯´GitHubçœŸé¦™ï¼Œä¸€äº›å¼€æºé¡¹ç›®æ‹¿æ¥å³å¯ç”¨ï¼Œå¯ä»¥å¿«é€Ÿé›†æˆåˆ°è‡ªå·±å¼„å¾—ä¸œè¥¿ä¸Šï¼ˆæ­¤å¤„åæ§½ğŸ˜’æ–‡æ¡£å†™çš„ä¸å¥½æˆ–è€…è¿æ–‡æ¡£éƒ½æ²¡æœ‰çš„ï¼Œçœ‹çš„å¤ªéš¾å—äº†ï¼‰ã€‚è™½ç„¶æ•´çš„éƒ½æ˜¯ä¸€äº›èŠ±é‡Œèƒ¡å“¨çš„å°ä¸œè¥¿ï¼Œè‡³å°‘æˆ‘çœ‹åˆ°äº†è‡ªå·±åœ¨æˆé•¿ï¼Œä¸äºï¼Œæ­¤å¤„ä¸Šæˆ‘çš„GitHubå°ç»¿ç‚¹ï¼š å†çœ‹ä¸‹å¤§ä½¬çš„ï¼Œæˆ‘é€ï¼Œæˆ‘å°±æ˜¯didiï¼Œæˆ‘æ•´çš„è¿˜è´¼æ°´ã€‚ GitHubè¿˜æœ‰ä¸€ç‚¹ç‰¹åˆ«é¦™ï¼Œé€šè¿‡followå„é¢†åŸŸçš„å¤§ä½¬ï¼Œæˆ‘èƒ½äº†è§£åˆ°ä¸€äº›â€œéªšâ€æŠ€æœ¯ï¼ˆemmmã€‚ã€‚ã€‚ï¼Œæœ‰äº›ä¸œè¥¿æˆ‘è¿˜ç”¨ä¸Šäº†ï¼Œä¸æ„§æ˜¯ç»ˆæç¨‹åºå‘˜ç¤¾äº¤ç½‘ç«™ã€‚æ­¤å¤„è‰¾ç‰¹ä¸€ä½å‹é“¾å°ä¼™ä¼´TRHXğŸ”—ï¼Œå˜¿å˜¿å˜¿ï¼Œä½ starçš„å¤§éƒ¨åˆ†é¡¹ç›®æˆ‘éƒ½æ‹¿æ¥è€è¿‡å‡ ä¸‹ã€‚ emmmï¼Œå¾ˆå¹¸è¿çš„è®¤è¯†äº†å‹é“¾é‡Œè¯¸ä½å¤§ä½¬ï¼Œæ— èŠçš„æ—¶å€™ç»å¸¸å»luä½ ä»¬çš„æ–‡ç« ï¼Œæ”¶è·è¿˜æ˜¯è›®å¤šçš„ã€‚ ç¼ºæ†¾ä¸æœŸå¾…è¿™ä¸€å¹´æœ‰ç‚¹éš¾ è‡ªå­¦å¤ªç—›è‹¦äº†ï¼ˆçº¿ä¸‹æ‰¾ä¸åˆ°å€¾è¯‰çš„ä¼™ä¼´ï¼Œé™¢é‡Œæ‰¾ä¸åˆ°â€œçœŸæ­£â€æœ‰å…±åŒå…´è¶£ã€çˆ±å¥½ã€çƒ­æƒ…çš„ä¼™ä¼´ï¼Œå¤§éƒ¨åˆ†äººåªæ˜¯è¯´è¯´è€Œå·²ï¼Œè¡ŒåŠ¨ä¸Šçš„å¼±è€…ï¼‰ï¼ŒçœŸå¸Œæœ›æœ‰ä¸ªdalaoå¸¦å¸¦æˆ‘ï¼ˆæ¯äº† æˆ‘åï¼Œä¸€å¹´å¤šæ²¡è·³èˆäº†ï¼Œæˆ‘å±…ç„¶æŠ›å¼ƒäº†æˆ‘æ›¾ç»çƒ­çˆ±çš„Breakingï¼Œè™½ç„¶ä»åœ¨çœ‹ä¸€äº›è¡—èˆæ–‡åŒ–ç›¸å…³çš„èŠ‚ç›®å’Œæ¯”èµ›-&gt;ã€Šè¿™ï¼å°±æ˜¯è¡—èˆã€‹ã€ã€ŠRed Bull BC Oneã€‹ï¼Œä½†æˆ‘å·²ç»ä¸å†æ˜¯ä¸ªçº¯ç²¹çš„B-Boyäº† æ„Ÿè§‰è‡ªå·±æ²¡èƒ½çœŸæ­£çš„èå…¥å¼€æºç¤¾åŒºï¼Œå¹¶æœªå‚ä¸å¤šäººä¼˜è´¨å¼€æºé¡¹ç›®çš„å¼€å‘ æ’¸äº†ä¸€ä¸‹è‘£è€å¸ˆçš„ã€Šçˆ±æ¾æ¹ƒ2019å¹´åº¦Pythonæ¦œå•ã€‹ï¼Œå‘ç°æˆ‘çŸ¥é“çš„ä¸œè¥¿è¿˜æ˜¯å¤ªå°‘ï¼Œçœ‹æ¥æˆ‘å¯¹Pythonçš„çƒ­çˆ±æ²¡æœ‰é‚£ä¹ˆçº¯ç²¹ï¼Œä¿¡æ¯çš„æ¥æºä¸å¤ªè¡Œ çœ‹äº†ä¸‹æˆ‘çš„GitHubå¹´åº¦æŠ¥å‘Šï¼Œçœ‹æ¥å¾—å¥½å¥½å…»ç”Ÿäº† æœŸå¾… æ–°çš„ä¸€å¹´ï¼Œæˆ‘åˆç«‹ä¸‹äº†ä¸€ä¸¢ä¸¢flagğŸš©ï¼Œä¸çŸ¥é“ä¸‹å­¦æœŸç»“æŸå‰èƒ½ä¸èƒ½æ“ä½œå®Œ(â˜†â–½â˜†) ç¨³ä½ï¼Œåˆ«æµªï¼ŒHello World -&gt; Cloud Native, Meta Year æœŸå¾…ä¸‹ä¸€å¹´èƒ½æ’¸ä¸€ä¸ªä¼˜ç§€çš„æŠ€æœ¯å¼€æºé¡¹ç›®æˆ–è€…å»ä¸ºä¼˜ç§€çš„å¼€æºé¡¹ç›®è´¡çŒ®ä»£ç  æœŸå¾…è‡ªå·±æ‰€å¾…çš„ç§‘ååœ¨æœªæ¥æœ‰çœŸæ­£å¼ºæœ‰åŠ›çš„ç§¯ç´¯ï¼Œèƒ½å‘æŒ¥å‡ºâ€œé©¬å¤ªæ•ˆåº”â€ æˆ‘ä¼¼ä¹è¿˜æ²¡çœŸæ­£æƒ³æ˜ç™½æˆ‘æƒ³è¦ä»€ä¹ˆï¼Œä¸ç»™åŠ›å•Šï¼ æ–°ä¸€å¹´å¯¹è‡ªå·±çš„è¦æ±‚ï¼šä¸åªæ˜¯è¦åšæ€æƒ³ä¸Šçš„å¼ºè€…ï¼Œæ›´è¦åšè¡ŒåŠ¨ä¸Šçš„å¼ºè€…ï¼›å¤šæ€è€ƒã€å¤šæŠ˜è…¾ã€å¤šæ›´æ–°ã€‚å¾ˆå–œæ¬¢çš„ä¸€å¥è¯ï¼šI hear and I forget. I see and I remember. I do and I understand.","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"æ„¿å’Œå¹³æ°¸é©»äººé—´","slug":"æ„¿å’Œå¹³æ°¸é©»äººé—´","date":"2019-12-13T12:25:33.000Z","updated":"2019-12-13T12:25:33.000Z","comments":true,"path":"2019/12/13/æ„¿å’Œå¹³æ°¸é©»äººé—´/","permalink":"https://yeshan333.github.io/2019/12/13/%E6%84%BF%E5%92%8C%E5%B9%B3%E6%B0%B8%E9%A9%BB%E4%BA%BA%E9%97%B4/","excerpt":"","text":"","categories":[{"name":"memory","slug":"memory","permalink":"https://yeshan333.github.io/categories/memory/"}],"tags":[{"name":"memory","slug":"memory","permalink":"https://yeshan333.github.io/tags/memory/"}]},{"title":"â¤Thanksgivingâ¤","slug":"heart","date":"2019-11-28T23:50:56.000Z","updated":"2019-11-28T23:50:56.000Z","comments":true,"path":"2019/11/28/heart/","permalink":"https://yeshan333.github.io/2019/11/28/heart/","excerpt":"","text":"","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"Serialization and Deserialization","slug":"Serialization-and-Deserialization","date":"2019-11-25T16:25:23.000Z","updated":"2019-11-25T16:25:23.000Z","comments":true,"path":"2019/11/25/Serialization-and-Deserialization/","permalink":"https://yeshan333.github.io/2019/11/25/Serialization-and-Deserialization/","excerpt":"åºåˆ—åŒ–ä¸ååºåˆ—åŒ– Serializationï¼šData Structure&#x2F;Object â€“&gt; Binary StringDeserializationï¼šBinary String â€“&gt; Data Structure&#x2F;ObjectGoalsï¼šCross-platform Communicationã€Persistent Storage and More Pythonä¸­å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–pickle module pickle ä»…å¯ç”¨äº Pythonï¼Œpickleæ‰€ä½¿ç”¨çš„æ•°æ®æµæ ¼å¼ä»…å¯ç”¨äº Pythonpickle æ¨¡å—å¯ä»¥å°†å¤æ‚å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµï¼Œä¹Ÿå¯ä»¥å°†å­—èŠ‚æµè½¬æ¢ä¸ºå…·æœ‰ç›¸åŒå†…éƒ¨ç»“æ„çš„å¯¹è±¡ã€‚å¯è¢«picklingå’Œunpicklingçš„å¯¹è±¡ï¼šhttps://docs.python.org/zh-cn/3/library/pickle.html#what-can-be-pickled-and-unpickled pickleæä¾›äº†ä¼˜ç§€çš„æ–¹æ³•æ–¹ä¾¿æˆ‘ä»¬å¯¹å¯¹è±¡è¿›è¡Œpicklingï¼ˆå°å­˜ï¼‰å’Œunpicklingï¼ˆè§£å°ï¼‰","text":"åºåˆ—åŒ–ä¸ååºåˆ—åŒ– Serializationï¼šData Structure&#x2F;Object â€“&gt; Binary StringDeserializationï¼šBinary String â€“&gt; Data Structure&#x2F;ObjectGoalsï¼šCross-platform Communicationã€Persistent Storage and More Pythonä¸­å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–pickle module pickle ä»…å¯ç”¨äº Pythonï¼Œpickleæ‰€ä½¿ç”¨çš„æ•°æ®æµæ ¼å¼ä»…å¯ç”¨äº Pythonpickle æ¨¡å—å¯ä»¥å°†å¤æ‚å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµï¼Œä¹Ÿå¯ä»¥å°†å­—èŠ‚æµè½¬æ¢ä¸ºå…·æœ‰ç›¸åŒå†…éƒ¨ç»“æ„çš„å¯¹è±¡ã€‚å¯è¢«picklingå’Œunpicklingçš„å¯¹è±¡ï¼šhttps://docs.python.org/zh-cn/3/library/pickle.html#what-can-be-pickled-and-unpickled pickleæä¾›äº†ä¼˜ç§€çš„æ–¹æ³•æ–¹ä¾¿æˆ‘ä»¬å¯¹å¯¹è±¡è¿›è¡Œpicklingï¼ˆå°å­˜ï¼‰å’Œunpicklingï¼ˆè§£å°ï¼‰ ä½¿ç”¨dumpså’Œloadsæ–¹æ³•è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–123456789101112131415&gt;&gt;&gt; import pickle&gt;&gt;&gt; person = dict(name=&#x27;shan&#x27;, age=20, sex=&quot;man&quot;)&gt;&gt;&gt; pickle.dumps(person) # dumpsæ–¹æ³•ä¼šå°†objåºåˆ—åŒ–ä¸ºbytesè¿”å›b&#x27;\\x80\\x03&#125;q\\x00(X\\x04\\x00\\x00\\x00nameq\\x01X\\x04\\x00\\x00\\x00shanq\\x02X\\x03\\x00\\x00\\x00ageq\\x03K\\x14X\\x03\\x00\\x00\\x00sexq\\x04X\\x03\\x00\\x00\\x00manq\\x05u.&gt;&gt;&gt;&gt;&gt;&gt; with open(&quot;dump.txt&quot;,&quot;wb&quot;) as f:... pickle.dump(person, f)...&gt;&gt;&gt; f = open(&quot;dump.txt&quot;,&quot;rb&quot;)&gt;&gt;&gt; d = pickle.load(f)&gt;&gt;&gt; f.close()&gt;&gt;&gt; d&#123;&#x27;name&#x27;: &#x27;shan&#x27;, &#x27;age&#x27;: 20, &#x27;sex&#x27;: &#x27;man&#x27;&#125;&gt;&gt;&gt; pickle.loads(pickle.dumps(d))&#123;&#x27;name&#x27;: &#x27;shan&#x27;, &#x27;age&#x27;: 20, &#x27;sex&#x27;: &#x27;man&#x27;&#125; https://docs.python.org/zh-cn/3/library/pickle.html#pickle.dump byteså¯¹è±¡æ˜¯ç”±å•ä¸ªå­—èŠ‚ç»„æˆçš„ä¸å¯å˜åºåˆ— ä½¿ç”¨dumpæ–¹æ³•å¯å°†åºåˆ—åŒ–çš„å¯¹è±¡å†™å…¥file obj loadç”¨äºè¿˜åŸå°å­˜ç”Ÿæˆçš„bytes_objectï¼Œloadsæ–¹æ³•ç”¨äºè¿˜åŸä»æ–‡ä»¶ä¸­è¯»å–çš„å°å­˜å¯¹è±¡ json module ç›¸æ¯”äºpickleï¼Œjsonåªèƒ½è¡¨ç¤ºå†…ç½®ç±»å‹çš„å­é›†ï¼Œä¸èƒ½è¡¨ç¤ºè‡ªå®šä¹‰çš„ç±»jsonæ ¼å¼çš„æ–‡ä»¶çš„æ˜“è¯»æ€§æ›´å¥½Python jsonæ¨¡å—æä¾›çš„APIä¸pickleæ¨¡å—å¾ˆç›¸ä¼¼ ä½¿ç”¨dumpså’Œloadsè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–12345678&gt;&gt;&gt; import json&gt;&gt;&gt; person = dict(name=&#x27;shan&#x27;, age=20, sex=&quot;man&quot;)&gt;&gt;&gt; json.dumps(person)&#x27;&#123;&quot;name&quot;: &quot;shan&quot;, &quot;age&quot;: 20, &quot;sex&quot;: &quot;man&quot;&#125;&#x27;&gt;&gt;&gt;&gt;&gt;&gt; json_str = json.dumps(person)&gt;&gt;&gt; json.loads(json_str)&#123;&#x27;name&#x27;: &#x27;shan&#x27;, &#x27;age&#x27;: 20, &#x27;sex&#x27;: &#x27;man&#x27;&#125; dumpsæ–¹æ³•ä¼šå°†objè½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼çš„JSON strå¹¶è¿”å› loadsæ–¹æ³•å¯å°†åŒ…å«JSONæ–‡æ¡£çš„strã€bytesæˆ–è€…bytearrayååºåˆ—åŒ–ä¸ºPythonå¯¹è±¡ è‡ªå®šä¹‰å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ– å¯¹äºè‡ªå®šä¹‰å¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œéœ€è¦æˆ‘ä»¬å®ç°ä¸“é—¨çš„encoderå’Œdecoderéœ€è¦ç”¨åˆ°dumpsæ–¹æ³•çš„defaultå‚æ•°å’Œloadsæ–¹æ³•çš„object_hookå‚æ•°https://docs.python.org/3/library/json.html#json.loadshttps://docs.python.org/3/library/json.html#json.loads 1234567891011121314151617181920212223242526272829&gt;&gt;&gt; import json&gt;&gt;&gt;&gt;&gt;&gt; class Student(object):... def __init__(self, name, age, score):... self.name = name... self.age = age... self.score = score...&gt;&gt;&gt; def student2dict(std):... return &#123;... &#x27;name&#x27;: std.name,... &#x27;age&#x27;: std.age,... &#x27;score&#x27;: std.score... &#125;...&gt;&gt;&gt; def dict2student(d):... return Student(d[&#x27;name&#x27;], d[&#x27;age&#x27;], d[&#x27;score&#x27;])...&gt;&gt;&gt; s = Student(&#x27;Bob&#x27;, 20, 88)&gt;&gt;&gt; print(json.dumps(s, default=student2dict))&#123;&quot;name&quot;: &quot;Bob&quot;, &quot;age&quot;: 20, &quot;score&quot;: 88&#125;&gt;&gt;&gt; json_str = json.dumps(s, default=student2dict)&gt;&gt;&gt; print(json.loads(json_str, object_hook=dict2student))&lt;__main__.Student object at 0x000001B101675198&gt;&gt;&gt;&gt; json.loads(json_str, object_hook=dict2student)&lt;__main__.Student object at 0x000001B101675128&gt;&gt;&gt;&gt; old = json.loads(json_str, object_hook=dict2student)&gt;&gt;&gt; old.name&#x27;Bob&#x27; third-party moduleï¼šmarshmallow marshmallow is an ORM&#x2F;ODM&#x2F;framework-agnostic library for converting complex datatypes, such as objects, to and from native Python datatypes. 1234567891011121314151617181920212223&gt;&gt;&gt; import datetime as dt&gt;&gt;&gt; import marshmallow&gt;&gt;&gt; from dataclasses import dataclass&gt;&gt;&gt;&gt;&gt;&gt; from marshmallow import Schema, fields&gt;&gt;&gt;&gt;&gt;&gt; @dataclass... class Album:... title: str... release_date: dt.date...&gt;&gt;&gt; class AlbumSchema(Schema):... title = fields.Str()... release_date = fields.Date()...&gt;&gt;&gt; album = Album(&quot;Seven Innovation Base&quot;, dt.date(2019, 11, 23))&gt;&gt;&gt; schema = AlbumSchema()&gt;&gt;&gt; data = schema.dump(album) # obj -&gt; dict&gt;&gt;&gt; data&#123;&#x27;title&#x27;: &#x27;Seven Innovation Base&#x27;, &#x27;release_date&#x27;: &#x27;2019-11-23&#x27;&#125;&gt;&gt;&gt; data_str = schema.dumps(album) # obj -&gt; str&gt;&gt;&gt; data_str&#x27;&#123;&quot;title&quot;: &quot;Seven Innovation Base&quot;, &quot;release_date&quot;: &quot;2019-11-23&quot;&#125;&#x27; ä½¿ç”¨ marshmallow å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹è‡ªå®šä¹‰å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ– å¯¹objectè¿›è¡Œåœ¨åºåˆ—åŒ–ä¹‹å‰ï¼Œéœ€è¦ä¸ºobjectåˆ›å»ºä¸€ä¸ªschema,schemaä¸­çš„å­—æ®µåå¿…é¡»ä¸è‡ªå®šä¹‰çš„objectä¸­çš„æˆå‘˜ä¸€è‡´ dumps methodï¼šobj -&gt; str, dump methodï¼šobj -&gt; dict ååºåˆ—åŒ–çš„ dict -&gt; obj éœ€è¦ä½¿ç”¨decoratorï¼špost_loadè‡ªå·±å®ç° 12345678910111213141516171819202122232425from marshmallow import Schema, fields, post_loadclass User: def __init__(self, name, email): self.name = name self.email = email def __repr__(self): return &quot;&lt;User(name=&#123;self.name!r&#125;)&gt;&quot;.format(self=self)class UserSchema(Schema): name = fields.Str() email = fields.Email() @post_load def make_user(self, data, **kwargs): return User(**data)user_data = &#123; &quot;email&quot;: &quot;ken@yahoo.com&quot;, &quot;name&quot;: &quot;Ken&quot;,&#125;schema = UserSchema()result = schema.load(user_data)print(result) # è¾“å‡ºç»“æœï¼š&lt;User(name=&#x27;Ken&#x27;)&gt; References åºåˆ—åŒ–ä¸ååºåˆ—åŒ– pickle module json module bytes RESTful APIç¼–å†™æŒ‡å— Flask RESTful APIå¼€å‘ä¹‹åºåˆ—åŒ–ä¸ååºåˆ—åŒ– marshmallow","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"Json","slug":"Json","permalink":"https://yeshan333.github.io/tags/Json/"}]},{"title":"map-filter-reduce","slug":"map-filter-reduce","date":"2019-11-14T21:49:41.000Z","updated":"2019-11-14T21:49:41.000Z","comments":true,"path":"2019/11/14/map-filter-reduce/","permalink":"https://yeshan333.github.io/2019/11/14/map-filter-reduce/","excerpt":"å¬è¯´å‡½æ•°å¼ç¼–ç¨‹å¾ˆâ‘¥ï¼Œå’±ä¹Ÿä¸çŸ¥é“ï¼Œå’±ä¹Ÿä¸æ™“å¾—ï¼Œè¿˜æ²¡å®é™…ç”¨è¿‡ã€‚emmmã€‚ã€‚ã€‚ã€‚ï¼Œå…ˆmarkä¸‹Pythonä¸­å’Œå‡½æ•°å¼ç¼–ç¨‹æœ‰å…³çš„éƒ¨åˆ†åŠŸèƒ½å…ˆï¼Œåˆå¼€å§‹æ°´äº†ï¼Œç«‹ä¸ªflagğŸš©ï¼šæ…¢æ…¢å®Œå–„ mapå…ˆçœ‹ä¸‹Pythonå®˜æ–¹æ–‡æ¡£çš„è¯´æ³• map(function, iterable, â€¦)ï¼Œè¿”å›ä¸€ä¸ªå°† function åº”ç”¨äº iterable ä¸­æ¯ä¸€é¡¹å¹¶è¾“å‡ºå…¶ç»“æœçš„è¿­ä»£å™¨ã€‚ å¦‚æœä¼ å…¥äº†é¢å¤–çš„ iterable å‚æ•°ï¼Œfunction å¿…é¡»æ¥å—ç›¸åŒä¸ªæ•°çš„å®å‚å¹¶è¢«åº”ç”¨äºä»æ‰€æœ‰å¯è¿­ä»£å¯¹è±¡ä¸­å¹¶è¡Œè·å–çš„é¡¹ã€‚ è§è¯†ä¸€ä¸‹ 123456789101112&gt;&gt;&gt; def cook(something):... if something == &quot;cow&quot;:... return &quot;hamburger&quot;... elif something == &quot;tomato&quot;:... return &quot;chips&quot;... elif something == &quot;chicken&quot;:... return &quot;ddrumstick&quot;... elif something == &quot;corn&quot;:... return &quot;popcorn&quot;...&gt;&gt;&gt; list(map(cook, [&quot;cow&quot;, &quot;tomato&quot;, &quot;chicken&quot;, &quot;corn&quot;]))[&#x27;hamburger&#x27;, &#x27;chips&#x27;, &#x27;ddrumstick&#x27;, &#x27;popcorn&#x27;]","text":"å¬è¯´å‡½æ•°å¼ç¼–ç¨‹å¾ˆâ‘¥ï¼Œå’±ä¹Ÿä¸çŸ¥é“ï¼Œå’±ä¹Ÿä¸æ™“å¾—ï¼Œè¿˜æ²¡å®é™…ç”¨è¿‡ã€‚emmmã€‚ã€‚ã€‚ã€‚ï¼Œå…ˆmarkä¸‹Pythonä¸­å’Œå‡½æ•°å¼ç¼–ç¨‹æœ‰å…³çš„éƒ¨åˆ†åŠŸèƒ½å…ˆï¼Œåˆå¼€å§‹æ°´äº†ï¼Œç«‹ä¸ªflagğŸš©ï¼šæ…¢æ…¢å®Œå–„ mapå…ˆçœ‹ä¸‹Pythonå®˜æ–¹æ–‡æ¡£çš„è¯´æ³• map(function, iterable, â€¦)ï¼Œè¿”å›ä¸€ä¸ªå°† function åº”ç”¨äº iterable ä¸­æ¯ä¸€é¡¹å¹¶è¾“å‡ºå…¶ç»“æœçš„è¿­ä»£å™¨ã€‚ å¦‚æœä¼ å…¥äº†é¢å¤–çš„ iterable å‚æ•°ï¼Œfunction å¿…é¡»æ¥å—ç›¸åŒä¸ªæ•°çš„å®å‚å¹¶è¢«åº”ç”¨äºä»æ‰€æœ‰å¯è¿­ä»£å¯¹è±¡ä¸­å¹¶è¡Œè·å–çš„é¡¹ã€‚ è§è¯†ä¸€ä¸‹ 123456789101112&gt;&gt;&gt; def cook(something):... if something == &quot;cow&quot;:... return &quot;hamburger&quot;... elif something == &quot;tomato&quot;:... return &quot;chips&quot;... elif something == &quot;chicken&quot;:... return &quot;ddrumstick&quot;... elif something == &quot;corn&quot;:... return &quot;popcorn&quot;...&gt;&gt;&gt; list(map(cook, [&quot;cow&quot;, &quot;tomato&quot;, &quot;chicken&quot;, &quot;corn&quot;]))[&#x27;hamburger&#x27;, &#x27;chips&#x27;, &#x27;ddrumstick&#x27;, &#x27;popcorn&#x27;] filterä¹Ÿçœ‹ä¸‹å®˜æ–¹æ–‡æ¡£çš„è¯´æ³• filter(function, iterable),ç”¨ iterable ä¸­å‡½æ•° function è¿”å›çœŸçš„é‚£äº›å…ƒç´ ï¼Œæ„å»ºä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ã€‚iterable å¯ä»¥æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œä¸€ä¸ªæ”¯æŒè¿­ä»£çš„å®¹å™¨ï¼Œæˆ–ä¸€ä¸ªè¿­ä»£å™¨ã€‚å¦‚æœ function æ˜¯ None ï¼Œåˆ™ä¼šå‡è®¾å®ƒæ˜¯ä¸€ä¸ªèº«ä»½å‡½æ•°ï¼Œå³ iterable ä¸­æ‰€æœ‰è¿”å›å‡çš„å…ƒç´ ä¼šè¢«ç§»é™¤ã€‚ ä¹Ÿè§è¯†ä¸‹ 123456789&gt;&gt;&gt; def isVegetarian(food):... check = [&#x27;chips&#x27;, &#x27;popcorn&#x27;]... if food in check:... return True... else:... return False...&gt;&gt;&gt; list(filter(isVegetarian, [&#x27;hamburger&#x27;, &#x27;chips&#x27;, &#x27;ddrumstick&#x27;, &#x27;popcorn&#x27;]))[&#x27;chips&#x27;, &#x27;popcorn&#x27;] reduceå†çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£ Apply function of two arguments cumulatively to the items of iterable, from left to right, so as to &gt;reduce the iterable to a single value. è§è¯†ä¸‹ 123&gt;&gt;&gt; from functools import reduce&gt;&gt;&gt; reduce(lambda x, y: x+y, [1, 2, 3, 4, 5])15 ä¸€å›¾èƒœåƒè¨€ æ›¾çœ‹åˆ°è¿‡ä¸€å¼ æŠŠfilterã€mapã€reduceæè¿°å¾—å¾ˆé€å½»å¾—å›¾ï¼ŒçœŸæ»´å…­ğŸ‚ references Demonstrating map, filter, and reduce in Swift using food emoji å‡½æ•°å¼ç¼–ç¨‹æŒ‡å¼• functools.reduce map","categories":[{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://yeshan333.github.io/categories/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://yeshan333.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"}]},{"title":"git cloneåå¦‚ä½•checkoutåˆ°remote branch","slug":"cloneåå¦‚ä½•checkoutåˆ°remote-branch","date":"2019-10-27T00:36:10.000Z","updated":"2019-10-27T00:36:10.000Z","comments":true,"path":"2019/10/27/cloneåå¦‚ä½•checkoutåˆ°remote-branch/","permalink":"https://yeshan333.github.io/2019/10/27/clone%E5%90%8E%E5%A6%82%E4%BD%95checkout%E5%88%B0remote-branch/","excerpt":"","text":"what&#x2F;whyé€šå¸¸æƒ…å†µä½¿ç”¨git clone github_repository_addressä¸‹è½½ä¸‹æ¥çš„ä»“åº“ä½¿ç”¨git branchæŸ¥çœ‹å½“å‰æ‰€æœ‰åˆ†æ”¯æ—¶åªèƒ½çœ‹åˆ°masteråˆ†æ”¯ï¼Œä½†æ˜¯æƒ³è¦åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯è¿›è¡Œå·¥ä½œæ€ä¹ˆåŠâ“ å…¶å®ä½¿ç”¨git cloneä¸‹è½½çš„repositoryæ²¡é‚£ä¹ˆç®€å•ğŸ˜¥ï¼Œcloneå¾—åˆ°çš„æ˜¯ä»“åº“æ‰€æœ‰çš„æ•°æ®ï¼Œä¸ä»…ä»…æ˜¯å¤åˆ¶åœ¨Github repositoryæ‰€èƒ½çœ‹åˆ°çš„masteråˆ†æ”¯ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œcloneä¸‹æ¥çš„æ˜¯ä»“åº“ä¸‹çš„æ¯ä¸€ä¸ªæ–‡ä»¶å’Œæ¯ä¸€ä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬ï¼ˆä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„åˆ†æ”¯éƒ½è¢«æä¸‹æ¥äº†å’¯ï¼‰ï¼Œé‚£ä¸ºå•¥çœ‹ä¸åˆ°ï¼Œå…¶å®remote branchè¢«éšè—äº†ï¼Œéœ€è¦ä½¿ç”¨git branch -aæ‰èƒ½çœ‹åˆ°ã€‚ howemmmâ€¦ï¼Œç°åœ¨çœ‹åˆ°äº†ï¼Œé‚£ä¹ˆæ€ä¹ˆåˆ‡æ¢åˆ°remote branchå‘¢ï¼Ÿï¼ˆæˆ‘å¤ªéš¾äº†ğŸ™ƒï¼‰ï¼Œåˆåˆ°äº†æŸ¥æ–‡æ¡£çš„æ—¶å€™äº†ï¼Œä¸€æ³¢æ“ä½œè¿‡åäº†è§£åˆ°git checkoutæ˜¯æœ‰restore working tree filesçš„åŠŸèƒ½çš„ï¼Œå¯ä»¥ç”¨æ¥restore remote branchï¼Œæ¯”å¦‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨æœ¬åœ°åˆ›å»ºä¸ªæ–°åˆ†æ”¯trackè¿œç¨‹åˆ†æ”¯ï¼š 1$ git checkout -b &lt;branch&gt; --track &lt;remote&gt;/&lt;branch&gt; 12# ä¾‹å­ï¼Œæœ¬åœ°ä¸ºè¿œç¨‹åˆ†æ”¯CkaiGrac-PYMOåˆ›å»ºçš„æ–°åˆ†æ”¯åä¸ºyeshanï¼Œpushæ—¶éœ€è¦æ³¨æ„git checkout -b yeshan --track origin/CkaiGrac-PYMO tipsï¼šä½¿ç”¨git checkout -t &lt;remote/branch&gt;é»˜è®¤ä¼šåœ¨æœ¬åœ°å»ºç«‹ä¸€ä¸ªå’Œè¿œç¨‹åˆ†æ”¯åå­—ä¸€æ ·çš„åˆ†æ”¯ reference git-branch: https://git-scm.com/docs/git-branch git-checkout: https://git-scm.com/docs/git-checkout","categories":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/tags/Git/"}]},{"title":"ä½¿ç”¨Microsoft Edge Betaå°†ç½‘é¡µå˜æˆåº”ç”¨","slug":"ä½¿ç”¨Microsoft-Edge-Betaå°†ç½‘é¡µå˜æˆåº”ç”¨","date":"2019-10-11T23:50:56.000Z","updated":"2019-10-11T23:50:56.000Z","comments":true,"path":"2019/10/11/ä½¿ç”¨Microsoft-Edge-Betaå°†ç½‘é¡µå˜æˆåº”ç”¨/","permalink":"https://yeshan333.github.io/2019/10/11/%E4%BD%BF%E7%94%A8Microsoft-Edge-Beta%E5%B0%86%E7%BD%91%E9%A1%B5%E5%8F%98%E6%88%90%E5%BA%94%E7%94%A8/","excerpt":"","text":"ä»Šå¤©æ— èŠçš„æˆ‘æ‰“å¼€äº†è£…äº†å¾ˆä¹…éƒ½æ²¡ç”¨çš„Microsoft Edge Betaï¼Œä¸€æ³¢ä¹±æˆ³ï¼ŒæƒŠè®¶çš„å‘ç°Microsoft Edge Betaå±…ç„¶æœ‰å°†ç½‘é¡µæ‰“åŒ…ä¸ºåº”ç”¨çš„åŠŸèƒ½ğŸ˜‚ Bç«™ä¹Ÿæœ‰PCâ€å®¢æˆ·ç«¯â€äº†ï¼ŒçœŸé¦™ğŸ˜‚","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"ç®€å•æ„Ÿå—ä¸‹Pythonå†…ç½®æ•°æ®ç±»å‹å¸¸ç”¨æ“ä½œçš„æ€§èƒ½","slug":"ç®€å•äº†è§£ä¸‹Pythonå†…ç½®æ•°æ®ç±»å‹å¸¸ç”¨æ“ä½œçš„æ€§èƒ½","date":"2019-10-02T19:01:46.000Z","updated":"2019-10-02T19:01:46.000Z","comments":true,"path":"2019/10/02/ç®€å•äº†è§£ä¸‹Pythonå†…ç½®æ•°æ®ç±»å‹å¸¸ç”¨æ“ä½œçš„æ€§èƒ½/","permalink":"https://yeshan333.github.io/2019/10/02/%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3%E4%B8%8BPython%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E7%9A%84%E6%80%A7%E8%83%BD/","excerpt":"ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨çš„å‡ ç§æ–¹å¼çš„æ€§èƒ½å¯¹æ¯”12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152# -*- coding: utf-8 -*-from timeit import Timerimport matplotlib.pyplot as plt# åˆ—è¡¨å¸¸ç”¨æ“ä½œæ€§èƒ½æµ‹è¯•# è¿­ä»£ + &#x27;+&#x27;def test1(): l = [] for i in range(1000): l = l + [i]# è¿­ä»£ + appenddef test2(): l = [] for i in range(1000): l.append(i)# åˆ—è¡¨ç”Ÿæˆå¼def test3(): l = [i for i in range(1000)]# listæ„é€ å‡½æ•° + rangedef test4(): l = list(range(1000))t1 = Timer(&quot;test1()&quot;, &quot;from __main__ import test1&quot;)# print(&quot;concat %f seconds&quot; % t1.timeit(number=1000))t2 = Timer(&quot;test2()&quot;, &quot;from __main__ import test2&quot;)# print(&quot;concat %f seconds&quot; % t2.timeit(number=1000))t3 = Timer(&quot;test3()&quot;, &quot;from __main__ import test3&quot;)# print(&quot;concat %f seconds&quot; % t3.timeit(number=1000))t4 = Timer(&quot;test4()&quot;, &quot;from __main__ import test4&quot;)# print(&quot;concat %f seconds&quot; % t4.timeit(number=1000))result = [t1.timeit(1000), t2.timeit(1000), t3.timeit(1000), t4.timeit(1000)]method = [&quot;for+ &#x27;+&#x27;&quot;, &quot;for + append&quot;, &quot;list comprehension&quot;, &quot;list + range&quot;]plt.bar(method, result, color=&#x27;rgby&#x27;)# plt.legend(&#x27;concat time&#x27;)# print(zip(method, result))for x,y in zip(method, result): plt.text(x, y, &quot;%fs&quot; % y)plt.show()","text":"ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨çš„å‡ ç§æ–¹å¼çš„æ€§èƒ½å¯¹æ¯”12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152# -*- coding: utf-8 -*-from timeit import Timerimport matplotlib.pyplot as plt# åˆ—è¡¨å¸¸ç”¨æ“ä½œæ€§èƒ½æµ‹è¯•# è¿­ä»£ + &#x27;+&#x27;def test1(): l = [] for i in range(1000): l = l + [i]# è¿­ä»£ + appenddef test2(): l = [] for i in range(1000): l.append(i)# åˆ—è¡¨ç”Ÿæˆå¼def test3(): l = [i for i in range(1000)]# listæ„é€ å‡½æ•° + rangedef test4(): l = list(range(1000))t1 = Timer(&quot;test1()&quot;, &quot;from __main__ import test1&quot;)# print(&quot;concat %f seconds&quot; % t1.timeit(number=1000))t2 = Timer(&quot;test2()&quot;, &quot;from __main__ import test2&quot;)# print(&quot;concat %f seconds&quot; % t2.timeit(number=1000))t3 = Timer(&quot;test3()&quot;, &quot;from __main__ import test3&quot;)# print(&quot;concat %f seconds&quot; % t3.timeit(number=1000))t4 = Timer(&quot;test4()&quot;, &quot;from __main__ import test4&quot;)# print(&quot;concat %f seconds&quot; % t4.timeit(number=1000))result = [t1.timeit(1000), t2.timeit(1000), t3.timeit(1000), t4.timeit(1000)]method = [&quot;for+ &#x27;+&#x27;&quot;, &quot;for + append&quot;, &quot;list comprehension&quot;, &quot;list + range&quot;]plt.bar(method, result, color=&#x27;rgby&#x27;)# plt.legend(&#x27;concat time&#x27;)# print(zip(method, result))for x,y in zip(method, result): plt.text(x, y, &quot;%fs&quot; % y)plt.show() listå’Œdictçš„æ£€ç´¢æ•ˆç‡å¯¹æ¯”123456789101112131415161718192021222324252627282930# -*- coding: utf-8 -*-import randomfrom timeit import Timerimport matplotlib.pyplot as pltlst_result = []d_result = []for i in range(10000,1000001,20000): t = Timer(&quot;random.randrange(%d) in x&quot; % i, &quot;from __main__ import random,x&quot;) x = list(range(i)) lst_time = t.timeit(number=1000) x = &#123;j:None for j in range(i)&#125; d_time = t.timeit(number=1000) lst_result.append(lst_time) d_result.append(d_time) print(&quot;%d,%10.3f,%10.3f&quot; % (i, lst_time, d_time))test = [i for i in range(10000,1000001,20000)]plt.plot(test, lst_result, &#x27;ro&#x27;)plt.plot(test, d_result, &#x27;bo&#x27;)plt.legend([&#x27;List&#x27;,&#x27;Dictionary&#x27;])plt.show() del list[index]ä¸del dict[key] æ€§èƒ½å¯¹æ¯” average time complexityï¼š$ O(n)\\ \\ vs\\ \\ O(1) $ 1234567891011121314151617181920212223242526272829303132# -*- coding: utf-8 -*-import randomfrom timeit import Timerimport matplotlib.pyplot as pltsize = 20000l_result = []d_result = []for i in range(size): test_list = [i for i in range(size)] list_t = Timer(&quot;del test_list[%d]&quot; % i,&quot;from __main__ import test_list&quot;) list_result = list_t.timeit(number=1) l_result.append(list_result) test_dict = &#123;j:None for j in range(size)&#125; dict_t = Timer(&quot;del test_dict[%d]&quot; % i,&quot;from __main__ import test_dict&quot;) dict_result = dict_t.timeit(number=1) d_result.append(dict_result) # print(&quot;%d,%f,%f&quot; % (i, list_result, dict_result))plt.plot(range(size), l_result)plt.plot(range(size), d_result)plt.legend([&#x27;del list[index]&#x27;, &#x27;del dict[key]&#x27;])plt.show() å‚è€ƒ matplotlibä¸­æ–‡æ–‡æ¡£ TimeComplexity åŒ—å¤§æ•°æ®ç»“æ„ä¸ç®—æ³•å…¬å¼€è¯¾ Python timeit","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"}]},{"title":"Python ç¯å¢ƒç®¡ç†ä¸é¡¹ç›®ä¾èµ–ç®¡ç†","slug":"Pythonç¯å¢ƒç®¡ç†","date":"2019-09-02T13:07:13.000Z","updated":"2019-09-02T13:07:13.000Z","comments":true,"path":"2019/09/02/Pythonç¯å¢ƒç®¡ç†/","permalink":"https://yeshan333.github.io/2019/09/02/Python%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/","excerpt":"ä¸ªäººç®€å•è®°å½•ä¸‹ virtualenv + pip virtualenvæ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºâ€éš”ç¦»çš„ythonè¿è¡Œç¯å¢ƒâ€çš„å·¥å…·ï¼ŒDocspipæ˜¯Pythonçš„åŒ…ç®¡ç†å·¥å…·ï¼ŒDocs 1234567891011121314# å®‰è£…virtualenvpip install virtualenv# -------------------------------- ## è™šæ‹Ÿç¯å¢ƒçš„åˆ›å»ºä¸ä½¿ç”¨# 1ã€åœ¨å½“å‰å·¥ç¨‹ç›®å½•ä¸‹ä½¿ç”¨virtualenvåˆ›å»ºä¸€å¥—ç‹¬ç«‹çš„Pythonè¿è¡Œç¯å¢ƒvirtualenv venv # ç¯å¢ƒåä¸ºvenvï¼ˆè‡ªç”±å®šä¹‰ï¼‰# 2ã€cd åˆ°åˆ›å»ºå¥½çš„è™šæ‹Ÿç¯å¢ƒçš„Scriptsç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯æ¿€æ´»æˆ–è€…é€€å‡ºè™šæ‹Ÿç¯å¢ƒactivate # æ¿€æ´»ï¼Œæ¿€æ´»åå‘½ä»¤æç¤ºç¬¦ä¼šå˜æˆå½“å‰å·¥ç¨‹ç›®å½•Pythonç¯å¢ƒådeactivate # é€€å‡º# 3ã€æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåå¯ä½¿ç”¨pipä¸ºå½“å‰é¡¹ç›®å®‰è£…ä¾èµ–ï¼Œexampleï¼špip install numpy# 4ã€ä½¿ç”¨pip freeze &gt; requirements.txt å¯å¯¼å‡ºé¡¹ç›®ä¾èµ–åˆ°requirements.txtä¸­# ä¸ºé¡¹ç›®åˆ›å»ºä¸€ä¸ªæ–°çš„ã€å¹²å‡€çš„ç¯å¢ƒæ—¶ï¼Œå¯ä½¿ç”¨ pip install -r requiremen.txt ä¸ºé¡¹ç›®å®‰è£…ä¾èµ–","text":"ä¸ªäººç®€å•è®°å½•ä¸‹ virtualenv + pip virtualenvæ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºâ€éš”ç¦»çš„ythonè¿è¡Œç¯å¢ƒâ€çš„å·¥å…·ï¼ŒDocspipæ˜¯Pythonçš„åŒ…ç®¡ç†å·¥å…·ï¼ŒDocs 1234567891011121314# å®‰è£…virtualenvpip install virtualenv# -------------------------------- ## è™šæ‹Ÿç¯å¢ƒçš„åˆ›å»ºä¸ä½¿ç”¨# 1ã€åœ¨å½“å‰å·¥ç¨‹ç›®å½•ä¸‹ä½¿ç”¨virtualenvåˆ›å»ºä¸€å¥—ç‹¬ç«‹çš„Pythonè¿è¡Œç¯å¢ƒvirtualenv venv # ç¯å¢ƒåä¸ºvenvï¼ˆè‡ªç”±å®šä¹‰ï¼‰# 2ã€cd åˆ°åˆ›å»ºå¥½çš„è™šæ‹Ÿç¯å¢ƒçš„Scriptsç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯æ¿€æ´»æˆ–è€…é€€å‡ºè™šæ‹Ÿç¯å¢ƒactivate # æ¿€æ´»ï¼Œæ¿€æ´»åå‘½ä»¤æç¤ºç¬¦ä¼šå˜æˆå½“å‰å·¥ç¨‹ç›®å½•Pythonç¯å¢ƒådeactivate # é€€å‡º# 3ã€æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåå¯ä½¿ç”¨pipä¸ºå½“å‰é¡¹ç›®å®‰è£…ä¾èµ–ï¼Œexampleï¼špip install numpy# 4ã€ä½¿ç”¨pip freeze &gt; requirements.txt å¯å¯¼å‡ºé¡¹ç›®ä¾èµ–åˆ°requirements.txtä¸­# ä¸ºé¡¹ç›®åˆ›å»ºä¸€ä¸ªæ–°çš„ã€å¹²å‡€çš„ç¯å¢ƒæ—¶ï¼Œå¯ä½¿ç”¨ pip install -r requiremen.txt ä¸ºé¡¹ç›®å®‰è£…ä¾èµ– Pipenv Pipenvé›†åŒ…ç®¡ç†å’Œè™šæ‹Ÿç¯å¢ƒç®¡ç†äºä¸€èº«ï¼Œä½¿ç”¨Pipfileå’ŒPipfile.lockç®¡ç†é¡¹ç›®ä¾èµ–ï¼ˆPipfileä¸­ä¿å­˜ç€å„ä¸ªä¾èµ–åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ï¼ŒPipfile.lockä¿å­˜ç€ä¾èµ–åŒ…çš„é”ä¿¡æ¯ï¼‰ã€‚Docs Pipenv playground Pipfile and Pipfile.lock 123456789101112# å®‰è£…pip install pipenv# ------------------ ## Pipenvçš„ä½¿ç”¨# 1ã€ä¸ºå½“å‰å·¥ç¨‹åˆ›å»ºè™šæ‹Ÿç¯å¢ƒpipenv install # è¿™é‡Œä¼šç”ŸæˆPipfileå’ŒPipfile.lockæ–‡ä»¶# 2ã€è™šæ‹Ÿç¯å¢ƒçš„æ¿€æ´»pipenv shell # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ# 3ã€å®‰è£…ä¾èµ–pipenv install [package_name]# 4ã€åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡ŒPythonè„šæœ¬pipenv run xxx.py Poetry Poetryæ˜¯æ–°ä¸€ä»£çš„ç”¨æ¥å¤„ç†ä¾èµ–é¡¹çš„å®‰è£…ã€æ„å»ºå’Œæ‰“åŒ…æˆPythonåŒ…çš„å·¥å…·ï¼ˆ2018å¹´2æœˆ28æ—¥å‘å¸ƒ0.1.0ç‰ˆæœ¬ï¼‰ï¼ŒPoetryä½¿ç”¨pyproject.tomlç®¡ç†é¡¹ç›®ä¾èµ–ã€‚Docs 12345678910111213# Poetryçš„å®‰è£…pip install poetry# ---------------------- ## poetryçš„ä½¿ç”¨# 1ã€å¿«é€Ÿåˆ›å»ºä¸€ä¸ªPythoné¡¹ç›®poetry new [project_name]# 2ã€ä»¥äº¤äº’å¼çš„æ–¹å¼ä¸ºå½“å‰é¡¹ç›®åˆ›å»ºpyproject.tomlæ–‡ä»¶poetry init# 3ã€ä¸ºå½“å‰é¡¹ç›®æ·»åŠ ä¾èµ–poetry add [package_name]# 4ã€æ„å»ºæºç å¹¶å¯¹å½“å‰é¡¹ç›®è¿›è¡Œwheels archiveï¼ˆæ‰“åŒ…æˆPythonåŒ…ï¼‰poetry build æ‹“å±•å…³äºWheelæ‰“åŒ…æ ¼å¼ã€ŠPEP427ã€‹","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"ç¯å¢ƒç®¡ç†","slug":"ç¯å¢ƒç®¡ç†","permalink":"https://yeshan333.github.io/tags/%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/"}]},{"title":"dockerå­¦ä¹ ç¬”è®°","slug":"dockerå­¦ä¹ ç¬”è®°","date":"2019-08-08T17:29:19.000Z","updated":"2019-08-08T17:29:19.000Z","comments":true,"path":"2019/08/08/dockerå­¦ä¹ ç¬”è®°/","permalink":"https://yeshan333.github.io/2019/08/08/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"Play With Dockerä¸€ä¸ªå…è´¹ä½¿ç”¨çš„åŸºäºwebç•Œé¢çš„Dockerç¯å¢ƒ å¸¸ç”¨dockerå‘½ä»¤å¯ä½¿ç”¨docker COMMAND --helpæŸ¥çœ‹å‘½ä»¤çš„ç”¨æ³• Dockeré•œåƒç›¸å…³ 1ã€docker image pullï¼šç”¨äºä¸‹è½½é•œåƒï¼Œé•œåƒä»è¿œç¨‹é•œåƒä»“åº“æœåŠ¡çš„ä»“åº“ä¸­ä¸‹è½½ï¼Œé»˜è®¤ä»Docker Hubçš„ä»“åº“ä¸­æ‹‰å– 1234# æ ¼å¼ï¼šdocker pull [OPTIONS] NAME[:TAG|@DIGEST]# è¯´æ˜ï¼šå¦‚æœç»™å‡ºtagï¼Œä¸€èˆ¬æ‹‰å–latestï¼Œnameä¸€èˆ¬ä¸ºusername/repository,digestä¸ºé•œåƒæ‘˜è¦å¯ä¸ç»™å‡ºdocker image pull ubuntu:latest# è¿™ä¸ªæ‹‰å–æ ‡ç­¾ä¸ºlatestçš„ubuntuå®˜æ–¹é•œåƒï¼Œlatest: Pulling from library/ubuntuï¼Œlatestä¸ä¸€å®šæ˜¯æœ€æ–°é•œåƒ","text":"Play With Dockerä¸€ä¸ªå…è´¹ä½¿ç”¨çš„åŸºäºwebç•Œé¢çš„Dockerç¯å¢ƒ å¸¸ç”¨dockerå‘½ä»¤å¯ä½¿ç”¨docker COMMAND --helpæŸ¥çœ‹å‘½ä»¤çš„ç”¨æ³• Dockeré•œåƒç›¸å…³ 1ã€docker image pullï¼šç”¨äºä¸‹è½½é•œåƒï¼Œé•œåƒä»è¿œç¨‹é•œåƒä»“åº“æœåŠ¡çš„ä»“åº“ä¸­ä¸‹è½½ï¼Œé»˜è®¤ä»Docker Hubçš„ä»“åº“ä¸­æ‹‰å– 1234# æ ¼å¼ï¼šdocker pull [OPTIONS] NAME[:TAG|@DIGEST]# è¯´æ˜ï¼šå¦‚æœç»™å‡ºtagï¼Œä¸€èˆ¬æ‹‰å–latestï¼Œnameä¸€èˆ¬ä¸ºusername/repository,digestä¸ºé•œåƒæ‘˜è¦å¯ä¸ç»™å‡ºdocker image pull ubuntu:latest# è¿™ä¸ªæ‹‰å–æ ‡ç­¾ä¸ºlatestçš„ubuntuå®˜æ–¹é•œåƒï¼Œlatest: Pulling from library/ubuntuï¼Œlatestä¸ä¸€å®šæ˜¯æœ€æ–°é•œåƒ 2ã€docker image lsï¼šåˆ—å‡ºæœ¬åœ°Dockerä¸»æœºä¸Šå­˜å‚¨çš„é•œåƒ 3ã€docker image inspectï¼šæŸ¥çœ‹é•œåƒçš„ç»†èŠ‚ï¼ŒåŒ…æ‹¬é•œåƒå±‚æ•°æ®å’Œå…ƒæ•°æ® 12# docker image inspect [OPTIONS] IMAGE [IMAGE...]# inspectåä¸€èˆ¬è·Ÿrepository nameæˆ–image id 4ã€docker image rmï¼šç”¨äºåˆ é™¤é•œåƒã€‚å¦‚æœé•œåƒå­˜åœ¨å…³è”çš„å®¹å™¨ï¼Œå¹¶ä¸”å®¹å™¨å¤„äºè¿è¡Œ(Up)æˆ–åœæ­¢(Exit)çŠ¶æ€æ—¶ï¼Œä¸å…è®¸åˆ é™¤è¯¥é•œåƒã€‚rmåå¯è·Ÿrepositoryæˆ–image id 5ã€dicker image searchï¼šä»Docker HubæŸ¥æ‰¾é•œåƒ 6ã€docker image buildï¼šæ ¹æ®Dockerfileæ„å»ºé•œåƒ 12# ä¾‹å¦‚ï¼šä½¿ç”¨å½“å‰ç›®å½•çš„ Dockerfile åˆ›å»ºé•œåƒï¼Œæ ‡ç­¾ä¸º runoob/ubuntu:v1ã€‚docker build -t yeshan333/ubuntu:latest . 7ã€docker image historyï¼šç”¨äºæŸ¥çœ‹é•œåƒæ„å»ºçš„ç›¸å…³ä¿¡æ¯ Dockerå®¹å™¨ç›¸å…³ 1ã€docker container runï¼šç”¨äºå¯åŠ¨æ–°å®¹å™¨ 123456789101112# æ ¼å¼ï¼šdocker run [OPTIONS] IMAGE [COMMAND] [ARG...]# å¸¸ç”¨optionsï¼š# -d: åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼›# -i: ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼›# -t: ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼›# -P: éšæœºç«¯å£æ˜ å°„ï¼Œå®¹å™¨å†…éƒ¨ç«¯å£éšæœºæ˜ å°„åˆ°ä¸»æœºçš„é«˜ç«¯å£# -p: æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£# --name=&quot;container-name&quot;: ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼›# ç¤ºä¾‹docker container run -it ubuntu:latest /bin/bash# è¯´æ˜ï¼š-itä½¿å®¹å™¨å…·å¤‡äº¤äº’æ€§å¹¶ä¸ç»ˆç«¯è¿æ¥ï¼Œå‘½ä»¤æœ€åè¡¨æ˜è¿è¡Œå®¹å™¨ä¸­çš„Bash Shellç¨‹åº 2ã€docker container lsï¼šåˆ—å‡ºæ‰€æœ‰è¿è¡ŒçŠ¶æ€çš„å®¹å™¨å¯ç”¨docker psä»£æ›¿ï¼Œå¦‚æœåŠ ä¸ª**-a*é™„åŠ å‚æ•°ï¼Œä¼šåˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å¤„äºåœæ­¢çŠ¶æ€çš„å®¹å™¨ï¼‰ 3ã€docker container stopï¼šåœæ­¢è¿è¡Œä¸­çš„å®¹å™¨ï¼Œå¹¶å°†å…¶çŠ¶æ€è®¾ç½®ä¸ºExited(0)ï¼Œstopåè·Ÿcontainer nameæˆ–container id 4ã€docker container rmï¼šç”¨äºåˆ é™¤åœæ­¢è¿è¡Œçš„å®¹å™¨ï¼Œrmåè·Ÿcontainer nameæˆ–container idï¼Œä½¿ç”¨-få‚æ•°å¯å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨ 5ã€docker container execï¼šç”¨äºè¿æ¥ä¸€ä¸ªå¤„äºè¿è¡ŒçŠ¶æ€çš„å®¹å™¨ 123# ä¾‹å¦‚ï¼šdocker container exec -t &lt;container-name or container-id&gt; bash# è¯¥å‘½ä»¤ä¼šå°†dockerä¸»æœºä¸­çš„shellè¿æ¥åˆ°ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼Œåœ¨å®¹å™¨å†…éƒ¨å¯åŠ¨ä¸€ä¸ªæ–°çš„bash shellè¿›ç¨‹ 6ã€docker container startï¼šç”¨äºé‡å¯å¤„äºåœæ­¢(Exited)çŠ¶æ€çš„å®¹å™¨ï¼Œstartåè·Ÿcontainer nameæˆ–container id 7ã€docker container inspectï¼šæŸ¥çœ‹å®¹å™¨çš„é…ç½®ä¿¡æ¯å’Œè¿è¡Œæ—¶ä¿¡æ¯ï¼Œinspectåè·Ÿcontainer nameæˆ–container id 8ã€å¿«æ·é”®Ctrl+PQç”¨äºæ–­å¼€dockerä¸»æœºçš„shellç»ˆç«¯ä¸å®¹å™¨ç»ˆç«¯çš„è¿æ¥ï¼Œå¹¶åœ¨é€€å‡ºåä¿è¯å®¹å™¨åœ¨åå°è¿è¡Œ åº”ç”¨å®¹å™¨åŒ– (Containerizing|Dockerizing)å³å°†åº”ç”¨æ•´åˆåˆ°å®¹å™¨ä¸­å¹¶ä¸”è¿è¡Œçš„è¿‡ç¨‹ åº”ç”¨å®¹å™¨åŒ–çš„ä¸€èˆ¬æ­¥éª¤ 1ã€ç¼–å†™åº”ç”¨ä»£ç  2ã€åˆ›å»ºDockerfileï¼Œå…¶ä¸­åŒ…æ‹¬å½“å‰åº”ç”¨çš„æè¿°ã€ä¾èµ–ä»¥åŠå¦‚ä½•è¿è¡Œè¿™ä¸ªåº”ç”¨ 3ã€å¯¹Dockerfileæ‰§è¡Œdocker image buildå‘½ä»¤ 4ã€ç­‰å¾…Dockerå°†åº”ç”¨ç¨‹åºæ„å»ºåˆ°Dockeré•œåƒä¸­ Once your app is containerized (made into a Docker image), youâ€™re ready to ship it and run it as a container.ã€ŠDocker Deep Diveã€‹ ä½¿ç”¨Dockerfileå®šåˆ¶é•œåƒ Dockerfileæœ€ä½³å®è·µ ä½¿ç”¨Dockerfileå®šåˆ¶é•œåƒ Dockerfileä¸­ä»¥#å¼€å¤´çš„éƒ½æ˜¯æ³¨é‡Šè¡Œï¼Œé™¤æ³¨é‡Šä¹‹å¤–ï¼Œæ¯ä¸€è¡Œéƒ½æ˜¯ä¸€æ¡æŒ‡ä»¤æŒ‡ä»¤çš„çš„ä¸€èˆ¬æ ¼å¼ï¼šINSTRUCTION argumentï¼ŒINSTRUCTIONä¸€èˆ¬éƒ½ä¸ºå¤§å†™ ç¤ºä¾‹Dockerfileï¼šhttps://github.com/yeshan333/psweb 123456789101112131415161718FROM alpineLABEL maintainer=&quot;nigelpoulton@hotmail.com&quot;# Install Node and NPMRUN apk add --update nodejs nodejs-npm# Copy app to /srcCOPY . /srcWORKDIR /src# Install dependenciesRUN npm installEXPOSE 8080ENTRYPOINT [&quot;node&quot;, &quot;./app.js&quot;] è¯´æ˜ï¼š æ¯ä¸ªDockerfileæ–‡ä»¶æ–‡ä»¶çš„ç¬¬ä¸€è¡Œä¸€èˆ¬éƒ½æ˜¯FROMæŒ‡ä»¤ã€‚FROMæŒ‡å®šçš„é•œåƒä¼šä½œä¸ºå½“å‰é•œåƒçš„ä¸€ä¸ªåŸºç¡€é•œåƒå±‚ï¼Œå½“å‰åº”ç”¨çš„å‰©ä½™å†…å®¹ä¼šä½œä¸ºæ–°çš„é•œåƒå±‚æ·»åŠ åˆ°åŸºç¡€é•œåƒå±‚ä¹‹ä¸Šã€‚ï¼ŒFROMå»ºè®®å¼•ç”¨å®˜æ–¹é•œåƒ LABELæŒ‡å®šå½“å‰é•œåƒç»´æŠ¤è€…ï¼Œç»™é•œåƒä½¿ç”¨è€…ä¸€ä¸ªæ²Ÿé€šæ¸ é“ RUN apk add --update nodejs nodejs-npmå°†å½“å‰åº”ç”¨çš„ä¾èµ–å®‰è£…åˆ°é•œåƒä¸­ï¼ŒRUNæŒ‡ä»¤ä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚å­˜å‚¨è¿™äº›å†…å®¹ COPY . /srcä¼šå°†åº”ç”¨ç›¸å…³æ–‡ä»¶ä»æ„å»ºä¸Šä¸‹æ–‡å¤åˆ¶åˆ°å½“å‰é•œåƒä¸­ï¼Œè¿™ä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚ WORKDIR /srcä¼šä¸ºDockerfileä¸­æœªæ‰§è¡Œçš„æŒ‡ä»¤è®¾ç½®å·¥ä½œç›®å½• RUN npm installåœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ä¸ºåº”ç”¨å®‰è£…ä¾èµ–ï¼Œè¿™ä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚ EXPOSE 8080å¯¹å¤–æä¾›ä¸€ä¸ªwebæœåŠ¡ç«¯å£ ENTRYPOINT [&quot;node&quot;, &quot;./app.js&quot;]æŒ‡å®šäº†å½“å‰é•œåƒçš„å…¥å£ç¨‹åºï¼Œcontainerè¿è¡Œæ—¶å°±ä¼šè¿è¡Œ æ„å»ºé•œåƒä½¿ç”¨docker image buildæ ¹æ®Dockerfileåˆ¶ä½œé•œåƒï¼Œç¤ºä¾‹ï¼š 123# -tç”¨äºæŒ‡å®šåˆ¶ä½œå¥½çš„é•œåƒçš„åå­—åŠæ ‡ç­¾ï¼Œé€šå¸¸ name:tag æˆ–è€… name# æœ€åçš„ . è¡¨ç¤ºä½¿ç”¨å½“å‰ç›®å½•ä½œä¸ºæ„å»ºä¸Šä¸‹æ–‡docker image build -t web:latest . ä½¿ç”¨docker image history web:latestå¯ä»¥æŸ¥çœ‹æ„å»ºé•œåƒè¿‡ç¨‹ä¸­æ‰§è¡Œäº†å“ªäº›æŒ‡ä»¤ æ¨é€é•œåƒåˆ°Docker Hub æ¨é€é•œåƒå‰å»ºè®®ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç»™é•œåƒæ‰“æ–°æ ‡ç­¾12# new-tagå»ºè®®ä»¥è‡ªå·±çš„ DockerHub ID/new-tag çš„æ ¼å¼å‘½åï¼Œæ–¹ä¾¿æ¨é€åˆ°è‡ªå·±çš„repodocker image tag &lt;current-tag&gt; &lt;new-tag&gt; ä½¿ç”¨docker image push &lt;tag-name&gt;æ¨é€é•œåƒï¼Œæ¨é€å‰éœ€è¦docker login,è®°å¾—æµ‹è¯•æ‰“åŒ…å¥½çš„åº”ç”¨å†æ¨é€ï¼ï¼ï¼ Dockerfileå¸¸ç”¨æŒ‡ä»¤ æŒ‡ä»¤ è¯´æ˜ FROM æŒ‡å®šè¦æ„å»ºçš„é•œåƒçš„åŸºç¡€é•œåƒï¼Œä¸€èˆ¬ä¸ºDockerfileæ–‡ä»¶ç¬¬ä¸€è¡Œ RUN ç”¨äºåœ¨é•œåƒä¸­æ‰§è¡Œå‘½ä»¤ï¼Œä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚ COPY ä¸€èˆ¬ç”¨äºå°†åº”ç”¨ä»£ç copyåˆ°é•œåƒä¸­ï¼Œè¿™ä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚ WORKDIR ç”¨äºè®¾ç½®Dockerfileä¸­æœªæ‰§è¡Œçš„æŒ‡ä»¤çš„å·¥ä½œç›®å½• ENTRYPOINT æŒ‡å®šé•œåƒä»¥å®¹å™¨æ–¹å¼å¯åŠ¨åé»˜è®¤è¿è¡Œçš„ç¨‹åºï¼Œ ENTRYPOINT çš„å‘½ä»¤ä¸ä¼šè¢«docker runæŒ‡å®šè¦æ‰§è¡Œçš„å‘½ä»¤è¦†ç›– CMD æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œä¸€ä¸ª Dockerfile ä¸­åªèƒ½æœ‰ä¸€ä¸ª CMD æŒ‡ä»¤ï¼Œå¦‚æœå†™äº†å¤šä¸ªï¼Œé‚£ä¹ˆåªæœ‰æœ€åä¸€ä¸ªä¼šæ‰§è¡Œã€‚CMD å’Œ ENTRYPOINT åŒæ—¶å­˜åœ¨æ—¶ï¼ŒCMD ä¸­çš„å†…å®¹ä¼šå˜æˆ ENTRYPOINT ä¸­æŒ‡ä»¤å‘½ä»¤çš„é»˜è®¤å‚æ•°ï¼Œè¯¥å‚æ•°å¯ä»¥è¢« docker run æ—¶è®¾ç½®çš„å‘½ä»¤è¦†ç›– ENV è®¾ç½®é•œåƒä¸­çš„ç¯å¢ƒå˜é‡ EXPOSE è®°å½•åº”ç”¨æ‰€ä½¿ç”¨çš„ç½‘ç»œç«¯å£ æ›´å¤šï¼š DockerfileæŒ‡ä»¤è¯¦è§£ Dockerfile reference","categories":[{"name":"docker","slug":"docker","permalink":"https://yeshan333.github.io/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://yeshan333.github.io/tags/docker/"}]},{"title":"å‡ ä¸ªä¸é”™çš„Jupyter Notebookäº‘ç«¯å±•ç¤ºå¹³å°","slug":"å‡ ä¸ªä¸é”™çš„Jupyter Notebookäº‘ç«¯å±•ç¤ºå¹³å°","date":"2019-08-07T09:27:50.000Z","updated":"2019-08-07T09:27:50.000Z","comments":true,"path":"2019/08/07/å‡ ä¸ªä¸é”™çš„Jupyter Notebookäº‘ç«¯å±•ç¤ºå¹³å°/","permalink":"https://yeshan333.github.io/2019/08/07/%E5%87%A0%E4%B8%AA%E4%B8%8D%E9%94%99%E7%9A%84Jupyter%20Notebook%E4%BA%91%E7%AB%AF%E5%B1%95%E7%A4%BA%E5%B9%B3%E5%8F%B0/","excerpt":"jupyter nbviewerURL:https://nbviewer.jupyter.org/ ç»“åˆGithubçš„ç¤ºä¾‹ç”¨æ³•ï¼šhttps://nbviewer.jupyter.org/github/ + &lt;ç”¨æˆ·åæˆ–è€…ç”¨æˆ·å/å­˜æ”¾ipynbæ–‡ä»¶çš„ä»“åº“æˆ–è€…Gist ID&gt; ä¾‹å¦‚ï¼šhttps://nbviewer.jupyter.org/github/yeshan333/JupyterNotebook-Show-sample","text":"jupyter nbviewerURL:https://nbviewer.jupyter.org/ ç»“åˆGithubçš„ç¤ºä¾‹ç”¨æ³•ï¼šhttps://nbviewer.jupyter.org/github/ + &lt;ç”¨æˆ·åæˆ–è€…ç”¨æˆ·å/å­˜æ”¾ipynbæ–‡ä»¶çš„ä»“åº“æˆ–è€…Gist ID&gt; ä¾‹å¦‚ï¼šhttps://nbviewer.jupyter.org/github/yeshan333/JupyterNotebook-Show-sample è¿˜è¡Œ~~~ binderURL:https://mybinder.org ä½¿ç”¨æ–‡æ¡£ï¼šhttps://mybinder.readthedocs.io/en/latest/index.html# ç»“åˆGithubçš„ç¤ºä¾‹ç”¨æ³•ï¼šhttps://mybinder.org/v2/gh/ + &lt;ç”¨æˆ·å&#x2F;ä»“åº“å&gt; + &#x2F;åˆ†æ”¯å + ?filepath&#x3D; + ipynbæ–‡ä»¶å ä¾‹å¦‚ï¼šhttps://mybinder.org/v2/gh/yeshan333/JupyterNotebook-Show-sample/master?filepath=demo.ipynb å¾ˆniceå•Šï¼Œåœ¨çº¿äº¤äº’å¼ç¯å¢ƒï¼Œåœ¨çº¿è·‘ä»£ç ï¼Œå°±æ˜¯æ¸²æŸ“æœ‰ç‚¹å°æ…¢ google colabå®˜æ–¹ä»‹ç»:https://colab.research.google.com/notebooks/welcome.ipynbï¼Œéœ€è¦ç§‘å­¦ä¸Šç½‘ ç»“åˆGithubçš„ç¤ºä¾‹ç”¨æ³•ï¼šhttps://colab.research.google.com/github/ + ç”¨æˆ·å&#x2F; + å­˜æ”¾ipynbæ–‡ä»¶çš„ä»“åº“å&#x2F; + blob&#x2F; + åˆ†æ”¯å + è¦å±•ç¤ºçš„ipynbæ–‡ä»¶è·¯å¾„ ç¤ºä¾‹ï¼šhttps://colab.research.google.com/github/yeshan333/JupyterNotebook-Show-sample/blob/master/demo.ipynb ä¹Ÿæ˜¯ä¸ªåœ¨çº¿çš„äº¤äº’å¼ç¯å¢ƒï¼Œå¾ˆniceäº†","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"Jupyter","slug":"Jupyter","permalink":"https://yeshan333.github.io/tags/Jupyter/"}]},{"title":"pdb && cProfile","slug":"pdb-profile","date":"2019-07-28T15:55:48.000Z","updated":"2019-07-28T15:55:48.000Z","comments":true,"path":"2019/07/28/pdb-profile/","permalink":"https://yeshan333.github.io/2019/07/28/pdb-profile/","excerpt":"pdb https://docs.python.org/zh-cn/3.7/library/pdb.html#module-pdb ä½¿ç”¨æ–¹å¼ 1ã€åœ¨å‘½ä»¤è¡Œä¸‹ç›´æ¥è¿è¡Œè°ƒè¯• 1python -m pdb test.py 2ã€åœ¨éœ€è¦è¢«è°ƒè¯•çš„ä»£ç ä¸­æ·»åŠ import pdbã€pdb.set_trace()å†è¿è¡Œä»£ç è¿›è¡Œè°ƒè¯•","text":"pdb https://docs.python.org/zh-cn/3.7/library/pdb.html#module-pdb ä½¿ç”¨æ–¹å¼ 1ã€åœ¨å‘½ä»¤è¡Œä¸‹ç›´æ¥è¿è¡Œè°ƒè¯• 1python -m pdb test.py 2ã€åœ¨éœ€è¦è¢«è°ƒè¯•çš„ä»£ç ä¸­æ·»åŠ import pdbã€pdb.set_trace()å†è¿è¡Œä»£ç è¿›è¡Œè°ƒè¯• 1234567891011# test.pydef func(): print(&#x27;enter func()&#x27;)a = 1b = 2import pdbpdb.set_trace() # è¿è¡Œåˆ°æ­¤å¤„å¯åŠ¨pdbfunc()c = 3print(a + b + c) å¸¸ç”¨å‘½ä»¤ ç®€å†™ è¯´æ˜ p &lt;å˜é‡å&gt; è¾“å‡ºå˜é‡çš„å€¼ l åˆ—å‡ºæºç ï¼Œå½“å‰ä½ç½®å‰å11è¡Œ n æ‰§è¡Œå“ä¸€æ¡è¯­å¥ s æ‰§è¡Œä¸‹ä¸€æ¡è¯­å¥ï¼Œå¦‚æœæ˜¯å‡½æ•°ï¼Œåˆ™ä¼šè¿›å…¥å‡½æ•°å†…ï¼Œæ˜¾ç¤ºâ€“callâ€“ï¼Œæ‰§è¡Œå‡½æ•°å†…ç¬¬ä¸€æ¡è¯­å¥ï¼Œæ‰§è¡Œå®Œå‡½æ•°å†…è¯­å¥åè·³å‡ºæ˜¾ç¤ºâ€“returnâ€“ b åˆ—å‡ºå½“å‰æ‰€æœ‰æ–­ç‚¹ b lineno åœ¨æŸè¡Œæ·»åŠ æ–­ç‚¹ cl æ¸…é™¤æ–­ç‚¹ q é€€å‡ºè°ƒè¯•pdb help å¸®åŠ© cProfile-æ€§èƒ½åˆ†æ https://docs.python.org/zh-cn/3.7/library/profile.html 123456789101112131415161718192021222324252627# test.pydef memoize(f): memo = &#123;&#125; def helper(x): if x not in memo: memo[x] = f(x) return memo[x] return helper@memoizedef fib(n): if n == 0: return 0 elif n == 1: return 1 else: return fib(n-1) + fib(n-2)def fib_seq(n): res = [] if n &gt; 0: res.extend(fib_seq(n-1)) res.append(fib(n)) return resfib_seq(30) 1python -m cProfile test.py ncallsï¼šç›¸åº”ä»£ç &#x2F;å‡½æ•°è¢«è°ƒç”¨çš„æ¬¡æ•° tottimeï¼šç›¸åº”ä»£ç &#x2F;å‡½æ•°æ‰§è¡Œæ‰€éœ€æ—¶é—´ï¼ˆä¸åŒ…æ‹¬å®ƒè°ƒç”¨çš„å…¶ä»–ä»£ç &#x2F;å‡½æ•°çš„æ—¶é—´ï¼‰ tottime percallï¼štottime&#x2F;ncallsçš„ç»“æœ cumtimeï¼šå¯¹åº”ä»£ç &#x2F;å‡½æ•°æ‰§è¡Œæ‰€éœ€æ—¶é—´ï¼ŒåŒ…å«å®ƒè°ƒç”¨çš„å…¶ä»–ä»£ç &#x2F;å‡½æ•°çš„æ—¶é—´ cumtime percallï¼šcumtimeå’Œncallç›¸é™¤çš„å¹³å‡ç»“æœ","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"debug","slug":"debug","permalink":"https://yeshan333.github.io/tags/debug/"}]},{"title":"Python-è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨","slug":"Python-è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨","date":"2019-07-26T16:30:46.000Z","updated":"2019-07-26T16:30:46.000Z","comments":true,"path":"2019/07/26/Python-è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨/","permalink":"https://yeshan333.github.io/2019/07/26/Python-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8/","excerpt":"ä¸Šä¸‹æ–‡ç®¡ç†å™¨ ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åˆ†é…å’Œé‡Šæ”¾èµ„æº ä¸Šä¸‹æ–‡ç®¡ç†å™¨éœ€è¦é…åˆwithè¯­å¥ä½¿ç”¨ æ¯”å¦‚è¿›è¡Œæ–‡ä»¶æ“ä½œçš„æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šå¿˜è®°æ“ä½œåå…³é—­æ–‡ä»¶ï¼ˆfile closeï¼‰ï¼Œä½¿ç”¨with open(filename, mode) as fä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å…³é—­æ–‡ä»¶ï¼Œä¸ç®¡å¤„ç†æ–‡ä»¶ä¸­æ˜¯å¦æœ‰å¼‚å¸¸å‡ºç°ï¼Œéƒ½èƒ½ä¿è¯withè¯­å¥æ‰§è¡Œå®Œæ¯•åå…³é—­æ–‡ä»¶ï¼Œæœ‰æ•ˆé˜²æ­¢èµ„æºæ³„éœ²ï¼Œå®‰å…¨å¤šäº†ã€‚ 123# with è¯­å¥çš„ä¸€èˆ¬æ ¼å¼with context_expression [as target(s)]: with-body åœ¨æ‰§è¡Œwith-bodyä¼šè°ƒç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„__enter__æ–¹æ³•ï¼Œæ‰§è¡Œå®Œwith-bodyä¹‹åå†è°ƒç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„__exit__æ–¹æ³•","text":"ä¸Šä¸‹æ–‡ç®¡ç†å™¨ ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åˆ†é…å’Œé‡Šæ”¾èµ„æº ä¸Šä¸‹æ–‡ç®¡ç†å™¨éœ€è¦é…åˆwithè¯­å¥ä½¿ç”¨ æ¯”å¦‚è¿›è¡Œæ–‡ä»¶æ“ä½œçš„æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šå¿˜è®°æ“ä½œåå…³é—­æ–‡ä»¶ï¼ˆfile closeï¼‰ï¼Œä½¿ç”¨with open(filename, mode) as fä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å…³é—­æ–‡ä»¶ï¼Œä¸ç®¡å¤„ç†æ–‡ä»¶ä¸­æ˜¯å¦æœ‰å¼‚å¸¸å‡ºç°ï¼Œéƒ½èƒ½ä¿è¯withè¯­å¥æ‰§è¡Œå®Œæ¯•åå…³é—­æ–‡ä»¶ï¼Œæœ‰æ•ˆé˜²æ­¢èµ„æºæ³„éœ²ï¼Œå®‰å…¨å¤šäº†ã€‚ 123# with è¯­å¥çš„ä¸€èˆ¬æ ¼å¼with context_expression [as target(s)]: with-body åœ¨æ‰§è¡Œwith-bodyä¼šè°ƒç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„__enter__æ–¹æ³•ï¼Œæ‰§è¡Œå®Œwith-bodyä¹‹åå†è°ƒç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„__exit__æ–¹æ³• åŸºä¸ç±»çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ åŸºä¸ç±»çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨éœ€è¦æˆ‘ä»¬å®ç°å¯¹è±¡çš„__enter()__å’Œ__exit()__æ–¹æ³• æˆ‘ä»¬éœ€è¦åœ¨__enter()__ä¸­ç®¡ç†èµ„æºå¯¹è±¡ï¼Œåœ¨__exit__()ä¸­é‡Šæ”¾èµ„æº enter æ–¹æ³•åœ¨ with è¯­å¥ä½“æ‰§è¡Œå‰è°ƒç”¨ï¼Œwith è¯­å¥å°†è¯¥æ–¹æ³•çš„è¿”å›å€¼èµ‹ç»™ as å­—å¥ä¸­çš„å˜é‡ï¼Œå¦‚æœæœ‰ as å­—å¥çš„è¯ 123456789101112131415161718192021222324# æ¨¡æ‹Ÿ Python çš„æ‰“å¼€æ–‡ä»¶ã€å…³é—­æ–‡ä»¶æ“ä½œclass Filemanager: def __init__(self, name, mode): print(&#x27;calling __init__ method&#x27;) self.name = name self.mode = mode self.file = None def __enter__(self): print(&#x27;caling __enter__ method&#x27;) self.file = open(self.name, self.mode) return self.file def __exit__(self, exc_type, exc_val, exc_tb): print(&#x27;caling __exit__ method&#x27;) if self.file: self.file.close# Filemanagerä¸ºä¸Šä¸‹æ–‡ç®¡ç†å™¨# with Filemanager(&#x27;test.txt&#x27;, &#x27;w&#x27;) as f æ˜¯ä¸Šä¸‹æ–‡è¡¨è¾¾å¼ï¼Œfä¸ºèµ„æºå¯¹è±¡with Filemanager(&#x27;test.txt&#x27;, &#x27;w&#x27;) as f: print(&#x27;ready to write to file&#x27;) f.write(&#x27;Hello World&#x27;) è¿è¡Œç»“æœè§£æï¼š 1ã€with è¯­å¥è°ƒç”¨__init__æ–¹æ³•ï¼Œåˆå§‹åŒ–å¯¹è±¡ 2ã€with è¯­å¥å…ˆæš‚å­˜äº†Filemanagerçš„__exit__æ–¹æ³• 3ã€ç„¶åè°ƒç”¨__enter__æ–¹æ³•ï¼Œè¾“å‡ºcaling enter methodï¼Œè¿”å›èµ„æºå¯¹è±¡ï¼ˆè¿™é‡Œæ˜¯æ–‡ä»¶å¥æŸ„ï¼‰ç»™f 4ã€è¾“å‡ºready to write to fileï¼Œå°†Hello Worldå†™å…¥æ–‡ä»¶ 5ã€æœ€åè°ƒç”¨__exit__æ–¹æ³•ï¼Œè¾“å‡ºcaling exit methodï¼Œå…³é—­ä¹‹å‰æ‰“å¼€çš„æ–‡ä»¶æµ æ³¨æ„ï¼š__exit__æ–¹æ³•ä¸­çš„å‚æ•°exc_typeã€exc_valã€exc_tbåˆ†åˆ«è¡¨ç¤ºexception typeã€exception valueã€tracebackã€‚è¿›è¡Œèµ„æºå›æ”¶æ—¶å¦‚æœæœ‰å¼‚å¸¸æŠ›å‡ºï¼Œé‚£ä¹ˆå¼‚å¸¸çš„ä¿¡æ¯å°±ä¼šåŒ…å«å†è¿™ä¸‰ä¸ªå˜é‡ä¸­ï¼Œè®©æˆ‘ä»¬å¯ä»¥å†__exit__ä¸­å¤„ç†è¿™äº›å¼‚å¸¸ã€‚ä¾‹å¦‚ï¼š 12345678910111213141516171819class Foo: def __init__(self): print(&#x27;__init__ called&#x27;) def __enter__(self): print(&#x27;__enter__ called&#x27;) return self def __exit__(self, exc_type, exc_value, exc_tb): print(&#x27;__exit__ called&#x27;) if exc_type: print(f&#x27;exc_type: &#123;exc_type&#125;&#x27;) print(f&#x27;exc_value: &#123;exc_value&#125;&#x27;) print(f&#x27;exc_traceback: &#123;exc_tb&#125;&#x27;) print(&#x27;exception handled&#x27;) return Truewith Foo() as obj: raise Exception(&#x27;exception raised&#x27;).with_traceback(None) 123456789101112131415161718192021222324è¾“å‡ºç»“æœï¼š---------------------------------------1ã€__exit__è¿”å› True__init__ called__enter__ called__exit__ calledexc_type: &lt;class &#x27;Exception&#x27;&gt;exc_value: exception raisedexc_traceback: &lt;traceback object at 0x00000234AA532F08&gt;exception handled---------------------------------------2ã€__exit__è¿”å› False__init__ called__enter__ called__exit__ calledexc_type: &lt;class &#x27;Exception&#x27;&gt;exc_value: exception raisedexc_traceback: &lt;traceback object at 0x00000120D0324F88&gt;exception handledTraceback (most recent call last): File &quot;e:\\Blog\\shansan\\source\\_posts\\context.py&quot;, line 19, in &lt;module&gt; raise Exception(&#x27;exception raised&#x27;).with_traceback(None)Exception: exception raised--------------------------------------- å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œ__exit__æ–¹æ³•è¿”å› True è¡¨ç¤ºä¸å¤„ç†å¼‚å¸¸ï¼Œå¦åˆ™ä¼šåœ¨é€€å‡ºè¯¥æ–¹æ³•åé‡æ–°æŠ›å‡ºå¼‚å¸¸ä»¥ç”± with è¯­å¥ä¹‹å¤–çš„ä»£ç é€»è¾‘è¿›è¡Œå¤„ç†ã€‚ åŸºä¸ç”Ÿæˆå™¨çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ åŸºäºç”Ÿæˆå™¨çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„å®ç°éœ€è¦ä½¿ç”¨@contextmanageè£…é¥°å™¨ æˆ‘ä»¬éœ€è¦åœ¨finally block ä¸­é‡Šæ”¾èµ„æº 12345678910111213from contextlib import contextmanager@contextmanagerdef file_manager(name, mode): try: f = open(name, mode) yield f finally: f.close()with file_manager(&#x27;test.txt&#x27;, &#x27;w&#x27;) as f: f.write(&#x27;hello world&#x27;) å‚è€ƒ æµ…è°ˆPythonçš„withè¯­å¥ ä¸Šä¸‹æ–‡ç®¡ç†å™¨-æå®¢å­¦é™¢ http://wiki.jikexueyuan.com/project/interpy-zh/context_managers&#x2F;README.html æ·±å…¥ç†è§£ Python ä¸­çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ Pythonæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜-æå®¢æ—¶é—´","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"ä¸Šä¸‹æ–‡","slug":"ä¸Šä¸‹æ–‡","permalink":"https://yeshan333.github.io/tags/%E4%B8%8A%E4%B8%8B%E6%96%87/"}]},{"title":"Pythonåç¨‹-asyncioã€async/await","slug":"Pythonåç¨‹ï¼ˆCoroutineï¼‰","date":"2019-07-19T14:58:48.000Z","updated":"2019-07-19T14:58:48.000Z","comments":true,"path":"2019/07/19/Pythonåç¨‹ï¼ˆCoroutineï¼‰/","permalink":"https://yeshan333.github.io/2019/07/19/Python%E5%8D%8F%E7%A8%8B%EF%BC%88Coroutine%EF%BC%89/","excerpt":"çœ‹åˆ°åè¡€ (Â´à½€&#96;ã€ âˆ ) åç¨‹(Coroutine)æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç‰¹ç‚¹æ˜¯åœ¨ä»£ç å—ä¸­å¯ä»¥å°†æ‰§è¡Œæƒäº¤ç»™å…¶ä»–åç¨‹ ä¼—æ‰€å‘¨çŸ¥ï¼Œå­ç¨‹åºï¼ˆå‡½æ•°ï¼‰éƒ½æ˜¯å±‚çº§è°ƒç”¨çš„ï¼Œå¦‚æœåœ¨Aä¸­è°ƒç”¨äº†Bï¼Œé‚£ä¹ˆBæ‰§è¡Œå®Œæ¯•è¿”å›åAæ‰èƒ½æ‰§è¡Œå®Œæ¯•ã€‚åç¨‹ä¸å­ç¨‹åºæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥ä¸­æ–­ï¼Œè½¬è€Œæ‰§è¡Œå…¶ä»–çš„åç¨‹ï¼Œåœ¨é€‚å½“çš„æ—¶å€™å†å›æ¥ç»§ç»­æ‰§è¡Œã€‚ åç¨‹ä¸å¤šçº¿ç¨‹ç›¸æ¯”çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºï¼šåç¨‹æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œæ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼›åç¨‹ç”±ç”¨æˆ·å†³å®šåœ¨å“ªé‡Œäº¤å‡ºæ§åˆ¶æƒ è¿™é‡Œç”¨åˆ°çš„æ˜¯asyncioåº“(Python 3.7)ï¼Œè¿™ä¸ªåº“åŒ…å«äº†å¤§éƒ¨åˆ†å®ç°åç¨‹çš„é­”æ³•å·¥å…· ä½¿ç”¨ async ä¿®é¥°è¯å£°æ˜å¼‚æ­¥å‡½æ•° ä½¿ç”¨ await è¯­å¥æ‰§è¡Œå¯ç­‰å¾…å¯¹è±¡ï¼ˆCoroutineã€Taskã€Futureï¼‰ ä½¿ç”¨ asyncio.create_task åˆ›å»ºä»»åŠ¡ï¼Œå°†å¼‚æ­¥å‡½æ•°ï¼ˆåç¨‹ï¼‰ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œç­‰å¾…event loopæ‰§è¡Œ ä½¿ç”¨ asyncio.run å‡½æ•°è¿è¡Œåç¨‹ç¨‹åºï¼Œåç¨‹å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥","text":"çœ‹åˆ°åè¡€ (Â´à½€&#96;ã€ âˆ ) åç¨‹(Coroutine)æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç‰¹ç‚¹æ˜¯åœ¨ä»£ç å—ä¸­å¯ä»¥å°†æ‰§è¡Œæƒäº¤ç»™å…¶ä»–åç¨‹ ä¼—æ‰€å‘¨çŸ¥ï¼Œå­ç¨‹åºï¼ˆå‡½æ•°ï¼‰éƒ½æ˜¯å±‚çº§è°ƒç”¨çš„ï¼Œå¦‚æœåœ¨Aä¸­è°ƒç”¨äº†Bï¼Œé‚£ä¹ˆBæ‰§è¡Œå®Œæ¯•è¿”å›åAæ‰èƒ½æ‰§è¡Œå®Œæ¯•ã€‚åç¨‹ä¸å­ç¨‹åºæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥ä¸­æ–­ï¼Œè½¬è€Œæ‰§è¡Œå…¶ä»–çš„åç¨‹ï¼Œåœ¨é€‚å½“çš„æ—¶å€™å†å›æ¥ç»§ç»­æ‰§è¡Œã€‚ åç¨‹ä¸å¤šçº¿ç¨‹ç›¸æ¯”çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºï¼šåç¨‹æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œæ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼›åç¨‹ç”±ç”¨æˆ·å†³å®šåœ¨å“ªé‡Œäº¤å‡ºæ§åˆ¶æƒ è¿™é‡Œç”¨åˆ°çš„æ˜¯asyncioåº“(Python 3.7)ï¼Œè¿™ä¸ªåº“åŒ…å«äº†å¤§éƒ¨åˆ†å®ç°åç¨‹çš„é­”æ³•å·¥å…· ä½¿ç”¨ async ä¿®é¥°è¯å£°æ˜å¼‚æ­¥å‡½æ•° ä½¿ç”¨ await è¯­å¥æ‰§è¡Œå¯ç­‰å¾…å¯¹è±¡ï¼ˆCoroutineã€Taskã€Futureï¼‰ ä½¿ç”¨ asyncio.create_task åˆ›å»ºä»»åŠ¡ï¼Œå°†å¼‚æ­¥å‡½æ•°ï¼ˆåç¨‹ï¼‰ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œç­‰å¾…event loopæ‰§è¡Œ ä½¿ç”¨ asyncio.run å‡½æ•°è¿è¡Œåç¨‹ç¨‹åºï¼Œåç¨‹å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ è§£æåç¨‹è¿è¡Œæ—¶12345678910111213141516171819202122232425262728import asyncioimport timeasync def a(): print(&quot;æ¬¢è¿ä½¿ç”¨ a ï¼&quot;) await asyncio.sleep(1) print(&quot;æ¬¢è¿å›åˆ° a ï¼&quot;)async def b(): print(&quot;æ¬¢è¿æ¥åˆ° b ï¼&quot;) await asyncio.sleep(2) print(&quot;æ¬¢è¿å›åˆ° b ï¼&quot;)async def main(): task1 = asyncio.create_task(a()) task2 = asyncio.create_task(b()) print(&quot;å‡†å¤‡å¼€å§‹&quot;) await task1 print(&quot;task1 ç»“æŸ&quot;) await task2 print(&quot;task2 ç»“æŸ&quot;)if __name__ == &quot;__main__&quot;: start = time.perf_counter() asyncio.run(main()) print(&#x27;èŠ±è´¹ &#123;&#125; s&#x27;.format(time.perf_counter() - start)) è§£é‡Šï¼š 1ã€asyncio.run(main())ï¼Œç¨‹åºè¿›å…¥main()å‡½æ•°ï¼Œå¼€å¯äº‹ä»¶å¾ªç¯ 2ã€åˆ›å»ºä»»åŠ¡task1ã€task2å¹¶è¿›å…¥äº‹ä»¶å¾ªç¯ç­‰å¾…è¿è¡Œ 3ã€è¾“å‡ºå‡†å¤‡å¼€å§‹ 4ã€æ‰§è¡Œawait task1ï¼Œç”¨æˆ·é€‰æ‹©ä»å½“å‰ä¸»ä»»åŠ¡ä¸­åˆ‡å‡ºï¼Œäº‹ä»¶è°ƒåº¦å™¨å¼€å§‹è°ƒåº¦ a 5ã€a å¼€å§‹è¿è¡Œï¼Œè¾“å‡ºæ¬¢è¿ä½¿ç”¨aï¼ï¼Œè¿è¡Œåˆ°await asyncio.sleep(1)ï¼Œä»å½“å‰ä»»åŠ¡åˆ‡å‡ºï¼Œäº‹ä»¶è°ƒåº¦å™¨å¼€å§‹è°ƒåº¦ b 6ã€b å¼€å§‹è¿è¡Œï¼Œè¾“å‡ºæ¬¢è¿æ¥åˆ°bï¼ï¼Œè¿è¡Œåˆ°await asyncio.sleep(2)ï¼Œä»å½“å‰ä»»åŠ¡åˆ‡å‡º 7ã€ä»¥ä¸Šäº‹ä»¶è¿è¡Œæ—¶é—´éå¸¸çŸ­ï¼ˆæ¯«ç§’ï¼‰ï¼Œäº‹ä»¶è°ƒåº¦å™¨å¼€å§‹æš‚åœè°ƒåº¦ 8ã€ä¸€ç§’é’Ÿåï¼Œaçš„sleepå®Œæˆï¼Œäº‹ä»¶è°ƒåº¦å™¨å°†æ§åˆ¶æƒé‡æ–°äº¤ç»™aï¼Œè¾“å‡ºæ¬¢è¿å›åˆ°aï¼ï¼Œtask1å®Œæˆä»»åŠ¡ï¼Œé€€å‡ºäº‹ä»¶å¾ªç¯ 9ã€await task1å®Œæˆï¼Œäº‹ä»¶è°ƒåº¦å™¨å°†æ§åˆ¶æƒè¿˜ç»™ä¸»ä»»åŠ¡ï¼Œè¾“å‡ºtask1ç»“æŸï¼Œç„¶ååœ¨await task2å¤„ç»§ç»­ç­‰å¾… 10ã€ä¸¤ç§’é’Ÿåï¼Œbçš„sleepå®Œæˆï¼Œäº‹ä»¶è°ƒåº¦å™¨å°†æ§åˆ¶æƒé‡æ–°ä¼ ç»™ bï¼Œè¾“å‡ºæ¬¢è¿å›åˆ° bï¼ï¼Œtask2å®Œæˆä»»åŠ¡ï¼Œä»äº‹ä»¶å¾ªç¯ä¸­é€€å‡º 11ã€äº‹ä»¶è°ƒåº¦å™¨å°†æ§åˆ¶æƒäº¤è¿˜ç»™ä¸»ä»»åŠ¡ï¼Œä¸»ä»»åŠ¡è¾“å‡ºtask2ç»“æŸï¼Œè‡³æ­¤åç¨‹ä»»åŠ¡å…¨éƒ¨ç»“æŸï¼Œäº‹ä»¶å¾ªç¯ç»“æŸã€‚ ä¸Šé¢çš„ä»£ç ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼Œå°†15åˆ°21è¡Œæ¢æˆä¸€è¡Œawait asyncio.gather(a(), b())ä¹Ÿèƒ½å®ç°ç±»ä¼¼çš„æ•ˆæœï¼Œawait asyncio.gather ä¼šå¹¶å‘è¿è¡Œä¼ å…¥çš„å¯ç­‰å¾…å¯¹è±¡ï¼ˆCoroutineã€Taskã€Futureï¼‰ã€‚ 12345678910111213141516171819202122import asyncioimport timeasync def a(): print(&quot;æ¬¢è¿ä½¿ç”¨ a ï¼&quot;) await asyncio.sleep(1) print(&quot;æ¬¢è¿å›åˆ° a ï¼&quot;)async def b(): print(&quot;æ¬¢è¿æ¥åˆ° b ï¼&quot;) await asyncio.sleep(2) print(&quot;æ¬¢è¿å›åˆ° b ï¼&quot;)async def main(): await asyncio.gather(a(), b())if __name__ == &quot;__main__&quot;: start = time.perf_counter() asyncio.run(main()) print(&#x27;èŠ±è´¹ &#123;&#125; s&#x27;.format(time.perf_counter() - start)) å¼‚æ­¥æ¥å£åŒæ­¥å®ç°12345678910111213141516171819202122232425&quot;&quot;&quot;- ç®€å•çˆ¬è™«æ¨¡æ‹Ÿ- è¿™é‡Œç”¨å¼‚æ­¥æ¥å£å†™äº†ä¸ªåŒæ­¥ä»£ç &quot;&quot;&quot;import asyncioimport timeasync def crawl_page(url): print(&#x27;crawling &#123;&#125;&#x27;.format(url)) sleep_time = int(url.split(&#x27;_&#x27;)[-1]) await asyncio.sleep(sleep_time) # ä¼‘çœ  print(&#x27;OK &#123;&#125;&#x27;.format(url))async def main(urls): for url in urls: await crawl_page(url) # awaitä¼šå°†ç¨‹åºé˜»å¡åœ¨è¿™é‡Œï¼Œè¿›å…¥è¢«è°ƒç”¨çš„åç¨‹å‡½æ•°ï¼Œæ‰§è¡Œå®Œæ¯•åå†ç»§ç»­start = time.perf_counter()# pip install nest-asyncioasyncio.run(main([&#x27;url_1&#x27;, &#x27;url_2&#x27;])) # åç¨‹æ¥å£print(&quot;Cost &#123;&#125; s&quot;.format(time.perf_counter() - start)) ä½¿ç”¨ Task å®ç°å¼‚æ­¥1234567891011121314151617181920212223# å¼‚æ­¥å®ç°import asyncioimport timeasync def crawl_page(url): print(&#x27;crawling &#123;&#125;&#x27;.format(url)) sleep_time = int(url.split(&#x27;_&#x27;)[-1]) await asyncio.sleep(sleep_time) print(&#x27;OK &#123;&#125;&#x27;.format(url))async def main(urls): tasks = [asyncio.create_task(crawl_page(url)) for url in urls] for task in tasks: await task # 14ã€15è¡Œä¹Ÿå¯ä»¥æ¢æˆè¿™ä¸€è¡Œawait asyncio.gather(*tasks) # *tasks è§£åŒ…åˆ—è¡¨ï¼Œå°†åˆ—è¡¨å˜æˆäº†å‡½æ•°çš„å‚æ•°ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯ï¼Œ** dict å°†å­—å…¸å˜æˆäº†å‡½æ•°çš„å‚æ•°start = time.perf_counter()asyncio.run(main([&#x27;url_1&#x27;, &#x27;url_2&#x27;]))print(&quot;Cost &#123;&#125; s&quot;.format(time.perf_counter() - start)) ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹çš„åç¨‹ç‰ˆæœ¬ 123456789101112131415161718192021222324252627282930313233343536373839404142434445# æå®¢æ—¶é—´ï¼šPythonæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜import asyncioimport randomimport timeasync def consumer(queue, id): &quot;&quot;&quot;æ¶ˆè´¹è€…&quot;&quot;&quot; while True: val = await queue.get() print(&#x27;&#123;&#125; get a val : &#123;&#125;&#x27;.format(id, val)) await asyncio.sleep(1)async def producer(queue, id): &quot;&quot;&quot;ç”Ÿäº§è€…&quot;&quot;&quot; for _ in range(5): val = random.randint(1, 10) await queue.put(val) print(&#x27;&#123;&#125; put a val: &#123;&#125;&#x27;.format(id, val)) await asyncio.sleep(1)async def main(): queue = asyncio.Queue() consumer_1 = asyncio.create_task(consumer(queue, &#x27;consumer_1&#x27;)) consumer_2 = asyncio.create_task(consumer(queue, &#x27;consumer_2&#x27;)) producer_1 = asyncio.create_task(producer(queue, &#x27;producer_1&#x27;)) producer_2 = asyncio.create_task(producer(queue, &#x27;producer_2&#x27;)) await asyncio.sleep(10) # cancelæ‰æ‰§è¡Œä¹‹é—´è¿‡é•¿çš„consumer_1ã€consumer_2,while True consumer_1.cancel() consumer_2.cancel() # return_exceptions è®¾ä¸ºTrueï¼Œä¸è®©å¼‚å¸¸throwåˆ°æ‰§è¡Œå±‚ï¼Œå½±å“åç»­ä»»åŠ¡çš„æ‰§è¡Œ await asyncio.gather(consumer_1, consumer_2, producer_1, producer_2, return_exceptions=True)if __name__ == &quot;__main__&quot;: start = time.perf_counter() asyncio.run(main()) print(&quot;Cost &#123;&#125; s&quot;.format(time.perf_counter() - start)) 12345678910111213141516171819202122# è¾“å‡ºç»“æœproducer_1 put a val: 7producer_2 put a val: 4consumer_1 get a val : 7consumer_2 get a val : 4producer_1 put a val: 6producer_2 put a val: 1consumer_2 get a val : 6consumer_1 get a val : 1producer_1 put a val: 8producer_2 put a val: 1consumer_1 get a val : 8consumer_2 get a val : 1producer_1 put a val: 6producer_2 put a val: 4consumer_2 get a val : 6consumer_1 get a val : 4producer_1 put a val: 7producer_2 put a val: 8consumer_1 get a val : 7consumer_2 get a val : 8Cost 10.0093015 s æ‹“å±•é˜…è¯»ï¼šPythonçš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº† å‚è€ƒ https://docs.python.org/3/library/asyncio.html#module-asyncio æ·±å…¥ç†è§£asyncioï¼ˆä¸€ï¼‰ æ­å¯†Pythonåç¨‹","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"åç¨‹","slug":"åç¨‹","permalink":"https://yeshan333.github.io/tags/%E5%8D%8F%E7%A8%8B/"}]},{"title":"breakingä¸€å¦‚æ—¢å¾€çš„å¸…","slug":"breakingä¸€å¦‚æ—¢å¾€çš„å¸…","date":"2019-07-12T21:29:25.000Z","updated":"2019-07-12T21:29:25.000Z","comments":true,"path":"2019/07/12/breakingä¸€å¦‚æ—¢å¾€çš„å¸…/","permalink":"https://yeshan333.github.io/2019/07/12/breaking%E4%B8%80%E5%A6%82%E6%97%A2%E5%BE%80%E7%9A%84%E5%B8%85/","excerpt":"","text":"** çœ‹åˆ°äº†å°±çˆ±ä¸Šäº†ï¼Œ(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§Cloudçš„style moveçœŸçš„å¸…~~~ï¼ˆè™½ç„¶å¾ˆä¹…æ²¡ç©breakingäº†ã€‚ã€‚ã€‚ã€‚ã€‚(ãƒã¸ï¿£ã€)ï¼‰**","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"LatexåŸºæœ¬è¯­æ³•ç®€è®°","slug":"latexåŸºæœ¬è¯­æ³•ç®€è®°","date":"2019-06-18T15:05:57.000Z","updated":"2019-06-18T15:05:57.000Z","comments":true,"path":"2019/06/18/latexåŸºæœ¬è¯­æ³•ç®€è®°/","permalink":"https://yeshan333.github.io/2019/06/18/latex%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%E7%AE%80%E8%AE%B0/","excerpt":"å¤‡æ³¨ï¼šå½“å‰åšå®¢ä½¿ç”¨çš„ latex æ¸²æŸ“å¼•æ“æœ‰ç‚¹é—®é¢˜ï¼Œæœ¬ç¯‡æ–‡ç« æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼šhttps://blog.csdn.net/qq_41022329/article/details/92798759 å…¬å¼æ’å…¥æ–¹å¼ è¡Œå†…å…¬å¼å¯ç”¨\\(...\\)æˆ–$...$ ä¾‹å¦‚$ f(x)=x^2 $,æ˜¾ç¤ºä¸º$ f(x)&#x3D;x^2 $ ç‹¬ç«‹å…¬å¼ï¼ˆå•ç‹¬å¦èµ·ä¸€è¡Œ,å…¬å¼ä¼šå±…ä¸­ï¼‰ï¼Œä½¿ç”¨$$...$$æˆ–\\[...\\] ä¾‹å¦‚ï¼š$$ \\int&#123;f(x)dx&#125; $$æˆ– $$ \\int_a^b&#123;f(x)dx&#125; $$ï¼Œæ˜¾ç¤ºä¸º: $$ \\int{f(x)dx} $$ $$ \\int_a^b{f(x)dx} $$","text":"å¤‡æ³¨ï¼šå½“å‰åšå®¢ä½¿ç”¨çš„ latex æ¸²æŸ“å¼•æ“æœ‰ç‚¹é—®é¢˜ï¼Œæœ¬ç¯‡æ–‡ç« æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼šhttps://blog.csdn.net/qq_41022329/article/details/92798759 å…¬å¼æ’å…¥æ–¹å¼ è¡Œå†…å…¬å¼å¯ç”¨\\(...\\)æˆ–$...$ ä¾‹å¦‚$ f(x)=x^2 $,æ˜¾ç¤ºä¸º$ f(x)&#x3D;x^2 $ ç‹¬ç«‹å…¬å¼ï¼ˆå•ç‹¬å¦èµ·ä¸€è¡Œ,å…¬å¼ä¼šå±…ä¸­ï¼‰ï¼Œä½¿ç”¨$$...$$æˆ–\\[...\\] ä¾‹å¦‚ï¼š$$ \\int&#123;f(x)dx&#125; $$æˆ– $$ \\int_a^b&#123;f(x)dx&#125; $$ï¼Œæ˜¾ç¤ºä¸º: $$ \\int{f(x)dx} $$ $$ \\int_a^b{f(x)dx} $$ å¤§æ‹¬å·çš„ä½¿ç”¨1234567891011121314151617181920212223æ–¹æ³•ä¸€ï¼š$$ f(x)=\\left\\&#123;\\begin&#123;aligned&#125;x &amp; = &amp; \\cos(t) \\\\y &amp; = &amp; \\sin(t) \\\\z &amp; = &amp; \\frac xy\\end&#123;aligned&#125;\\right.$$æ–¹æ³•äºŒï¼š$$ F^&#123;HLLC&#125;=\\left\\&#123;\\begin&#123;array&#125;&#123;rcl&#125;F_L &amp; &amp; &#123;0 &lt; S_L&#125;\\\\F^*_L &amp; &amp; &#123;S_L \\leq 0 &lt; S_M&#125;\\\\F^*_R &amp; &amp; &#123;S_M \\leq 0 &lt; S_R&#125;\\\\F_R &amp; &amp; &#123;S_R \\leq 0&#125;\\end&#123;array&#125; \\right. $$æ–¹æ³•ä¸‰:$$f(x)=\\begin&#123;cases&#125;0&amp; \\text&#123;x=0&#125;\\\\1&amp; \\text&#123;x!=0&#125;\\end&#123;cases&#125;$$ æ–¹æ³•ä¸€ï¼š $$ f(x)&#x3D;\\left{\\begin{aligned}x &amp; &#x3D; &amp; \\cos(t) \\y &amp; &#x3D; &amp; \\sin(t) \\z &amp; &#x3D; &amp; \\frac xy\\end{aligned}\\right.$$ æ–¹æ³•äºŒï¼š $$ F^{HLLC}&#x3D;\\left{\\begin{array}{rcl}F_L &amp; &amp; {0 &lt; S_L}\\F^*_L &amp; &amp; {S_L \\leq 0 &lt; S_M}\\F^*_R &amp; &amp; {S_M \\leq 0 &lt; S_R}\\F_R &amp; &amp; {S_R \\leq 0}\\end{array} \\right. $$ æ–¹æ³•ä¸‰: $$f(x)&#x3D;\\begin{cases}0&amp; \\text{x&#x3D;0}\\1&amp; \\text{x!&#x3D;0}\\end{cases}$$ ç¬¦å·è¡¨è¦è¾“å‡ºå­—ç¬¦ ç©ºæ ¼ # $ % &amp; _ { } ï¼Œç”¨å‘½ä»¤ï¼š\\ç©ºæ ¼ # \\$ \\% \\&amp; _ &#123; &#125; è¿ç®—ç¬¦è¡¨å…³ç³»è¿ç®—ç¬¦ å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º \\pm $\\pm$ \\times $\\times$ \\div $\\div$ \\mid $\\mid$ \\nmid $\\nmid$ \\cdot $\\cdot$ \\circ $\\circ$ \\ast $\\ast$ \\bigodot $\\bigodot$ \\bigotimes $\\bigotimes$ \\bigoplus $\\bigoplus$ \\leq $\\leq$ \\geq $\\geq$ \\neq $\\neq$ \\approx $\\approx$ \\equiv $\\equiv$ \\sum $\\sum$ \\prod $\\prod$ é›†åˆè¿ç®—ç¬¦ å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º \\emptyset $\\emptyset$ \\in $\\in$ \\notin $\\notin$ \\subset $\\subset$ \\supset $\\supset$ \\subseteq $\\subseteq$ \\supseteq $\\supseteq$ \\bigcap $\\bigcap$ \\bigcup $\\bigcup$ \\bigvee $\\bigvee$ \\bigwedge $\\bigwedge$ \\biguplus $\\biguplus$ \\bigsqcup $\\bigsqcup$ &ensp; &ensp; å¯¹æ•°è¿ç®—ç¬¦ å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º \\log $\\log$ \\lg $\\lg$ \\ln $\\ln$ ä¸‰è§’è¿ç®—ç¬¦ å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º \\bot $\\bot$ \\angle $\\angle$ 30^\\circ $30^\\circ$ \\sin $\\sin$ \\cos $\\cos$ \\tan $\\tan$ \\cot $\\cot$ \\sec $\\sec$ \\csc $\\csc$ å¾®ç§¯åˆ†è¿ç®—ç¬¦ å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º \\prime $\\prime$ \\int $\\int$ \\iint $\\iint$ \\iiint $\\iiint$ \\oint $\\oint$ \\lim $\\lim$ \\infty $\\infty$ \\nabla $\\nabla$ &ensp; &ensp; é€»è¾‘è¿ç®—ç¬¦ å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º \\because $\\because$ \\therefore $\\therefore$ \\forall $\\forall$ \\exists $\\exists$ \\not&#x3D; $\\not&#x3D;$ \\not&gt; $\\not&gt;$ \\not&lt; $\\not&lt;$ \\not\\subset $\\not\\subset$ &ensp; &ensp; å…¶å®ƒç¬¦å·æˆ´å¸½å’Œè¿çº¿ç¬¦å· å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º \\hat{y} $\\hat{y}$ \\check{y} $\\check{y}$ \\breve $\\breve{y}$ \\overline{a+b+c+d} $\\overline{a+b+c+d}$ \\underline{a+b+c+d} $\\underline{a+b+c+d}$ \\overbrace{a+\\underbrace{b+c}_{1.0}+d}^{2.0} $\\overbrace{a+\\underbrace{b+c}_{1.0}+d}^{2.0}$ ç®­å¤´ç¬¦å· å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º \\uparrow $\\uparrow$ \\downarrow $\\downarrow$ \\Uparrow $\\Uparrow$ \\Downarrow $\\Downarrow$ \\rightarrow $\\rightarrow$ \\leftarrow $\\leftarrow$ \\Rightarrow $\\Rightarrow$ \\Leftarrow $\\Leftarrow$ \\longrightarrow $\\longrightarrow$ \\Longrightarrow $\\Longrightarrow$ \\longleftarrow $\\longleftarrow$ \\Longleftarrow $\\Longleftarrow$ çŸ©é˜µåŸºæœ¬è¯­æ³• èµ·å§‹æ ‡è®°\\begin&#123;matrix&#125;,ç»“æŸæ ‡è®°\\end&#123;matrix&#125; æ¯ä¸€è¡Œæœ«æ ‡è®°\\\\è¿›è¡Œæ¢è¡Œï¼Œè¡Œé—´å…ƒç´ ä»¥&amp;åˆ†éš”ç”¨äºå¯¹é½ã€‚ 12345$$\\begin&#123;matrix&#125;1&amp;0&amp;0\\\\0&amp;1&amp;0\\\\0&amp;0&amp;1\\\\\\end&#123;matrix&#125;$$ $$\\begin{matrix}1&amp;0&amp;0\\0&amp;1&amp;0\\0&amp;0&amp;1\\\\end{matrix}$$ è¿›é˜¶ å¯ç”¨ä¸‹åˆ—è¯æ›¿æ¢matrixè®¾ç½®çŸ©é˜µè¾¹æ¡† pmatrixã€bmatrixã€Bmatrixï¼šå°æ‹¬å·ã€ä¸­æ‹¬å·ã€å¤§æ‹¬å·è¾¹æ¡† vmatrixã€Vmatrixï¼šå•ç«–çº¿ã€åŒç«–çº¿è¾¹æ¡† çœç•¥å…ƒç´  æ¨ªçœç•¥å·ï¼š\\cdots ç«–çœç•¥å·ï¼š\\vdots æ–œçœç•¥å·ï¼š\\ddots 123456$$\\begin&#123;Bmatrix&#125;&#123;a_&#123;11&#125;&#125;&amp;&#123;a_&#123;12&#125;&#125;&amp;&#123;\\cdots&#125;&amp;&#123;a_&#123;1n&#125;&#125;\\\\&#123;a_&#123;21&#125;&#125;&amp;&#123;a_&#123;22&#125;&#125;&amp;&#123;\\cdots&#125;&amp;&#123;a_&#123;2n&#125;&#125;\\\\&#123;\\vdots&#125;&amp;&#123;\\vdots&#125;&amp;&#123;\\ddots&#125;&amp;&#123;\\vdots&#125;\\\\&#123;a_&#123;m1&#125;&#125;&amp;&#123;a_&#123;m2&#125;&#125;&amp;&#123;\\cdots&#125;&amp;&#123;a_&#123;mn&#125;&#125;\\\\\\end&#123;Bmatrix&#125;$$ $$\\begin{Bmatrix}{a_{11}}&amp;{a_{12}}&amp;{\\cdots}&amp;{a_{1n}}\\{a_{21}}&amp;{a_{22}}&amp;{\\cdots}&amp;{a_{2n}}\\{\\vdots}&amp;{\\vdots}&amp;{\\ddots}&amp;{\\vdots}\\{a_{m1}}&amp;{a_{m2}}&amp;{\\cdots}&amp;{a_{mn}}\\\\end{Bmatrix}$$ å¸Œè…Šå­—æ¯è¡¨ å‘½ä»¤ æ˜¾ç¤º å‘½ä»¤ æ˜¾ç¤º \\alpha $\\alpha$ \\beta $\\beta$ \\gamma $\\gamma$ \\delta $\\delta$ \\epsilon $\\epsilon$ \\zeta $\\zeta$ \\eta $\\eta$ \\theta $\\theta$ \\iota $\\iota$ \\kappa $\\kappa$ \\lambda $\\lambda$ \\mu $\\mu$ \\nu $\\nu$ \\xi $\\xi$ \\pi $\\pi$ \\rho $\\rho$ \\sigma $\\sigma$ \\tau $\\tau$ \\upsilon $\\upsilon$ \\phi $\\phi$ \\chi $\\chi$ \\psi $\\psi$ \\omega $\\omega$ &ensp; &ensp; å¦‚æœéœ€è¦å¤§å†™çš„å¸Œè…Šå­—æ¯ï¼Œå°†å‘½ä»¤é¦–å­—æ¯å¤§å†™å³å¯ ä¾‹å¦‚ï¼š\\Gamma,æ˜¾ç¤º$ \\Gamma $ å¦‚æœè¦å°†å­—æ¯æ–œä½“æ˜¾ç¤ºï¼Œä½¿ç”¨\\varå‰ç¼€å³å¯ ä¾‹å¦‚ï¼š\\varGammaï¼Œæ˜¾ç¤º$ \\varGamma $ æ‚é¡¹ åˆ†ç»„ï¼š ä½¿ç”¨&#123;&#125;å°†å…·æœ‰ç›¸åŒç­‰çº§çš„å†…å®¹æ‰©å…¥å…¶ä¸­ï¼Œæˆç»„å¤„ç†ã€‚ æ¯”å¦‚ï¼š\\10^10å‘ˆç°ä¸º$10^10$ï¼Œ10^&#123;10&#125;å‘ˆç°ä¸º$10^{10}$ã€‚ ç©ºæ ¼ï¼š å•ä¸ªç©ºæ ¼ï¼ša\\ bï¼Œ$a\\ b$ å››ä¸ªç©ºæ ¼ï¼ša\\quad b,$a\\quad b$ ä¸Šæ ‡^ï¼Œä¸‹æ ‡_ å°–æ‹¬å·\\langle\\rangleï¼š$\\langle\\rangle$ ä½¿ç”¨\\leftæˆ–\\rightä½¿ç¬¦å·å¤§å°ä¸ä¸´è¿‘çš„å…¬å¼ç¬¦å·ç›¸é€‚åº”ï¼Œå¯¹æ¯”å¦‚ä¸‹ï¼š (\\frac&#123;x&#125;&#123;y&#125;)ï¼š$(\\frac{x}{y})$ \\left(\\frac&#123;x&#125;&#123;y&#125;\\right)ï¼š$\\left(\\frac{x}{y}\\right)$ åˆ†å¼ï¼š \\frac&#123;1&#125;&#123;3&#125;ï¼š$\\frac{1}{3}$ 1 \\over 3ï¼š$1 \\over 3$ å¼€æ ¹\\sqrt[n]&#123;3&#125;ï¼š$\\sqrt[n]{3}$ çœç•¥å·ï¼š \\ldotsï¼šä¸æ–‡æœ¬åº•çº¿å¯¹é½çš„çœç•¥å· \\cdotsï¼šä¸æ–‡æœ¬ä¸­çº¿å¯¹é½çš„çœç•¥å· $f(x_1,x_2,\\ldots,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2$ï¼š$f(x_1,x_2,\\ldots,x_n) &#x3D; x_1^2 + x_2^2 + \\cdots + x_n^2$ ç»¼åˆè¿ç”¨ç¤ºèŒƒ123% æé™è¿ç®—$$\\lim\\limits_&#123;n \\rightarrow +\\infty&#125; \\frac&#123;1&#125;&#123;n(n+1)&#125;$$$$\\lim_&#123;n \\rightarrow +\\infty&#125; \\frac&#123;1&#125;&#123;n(n+1)&#125;$$ $$\\lim\\limits_{n \\rightarrow +\\infty} \\frac{1}{n(n+1)}$$ $$\\lim_{n \\rightarrow +\\infty} \\frac{1}{n(n+1)}$$ 1$$ \\left[J_\\alpha(x) = \\sum_&#123;m=0&#125;^\\infty \\frac&#123;(-1)^m&#125;&#123;m! \\Gamma (m + \\alpha + 1)&#125; &#123;\\left(&#123; \\frac&#123;x&#125;&#123;2&#125; &#125;\\right)&#125;^&#123;2m + \\alpha&#125;\\right] $$ $$ \\left[J_\\alpha(x) &#x3D; \\sum_{m&#x3D;0}^\\infty \\frac{(-1)^m}{m! \\Gamma (m + \\alpha + 1)} {\\left({ \\frac{x}{2} }\\right)}^{2m + \\alpha}\\right] $$ å‚è€ƒ MathJaxä½¿ç”¨LaTeXè¯­æ³•ç¼–å†™æ•°å­¦å…¬å¼æ•™ç¨‹ MathJax è¯­æ³•å‚è€ƒ åŸºæœ¬æ•°å­¦å…¬å¼è¯­æ³•(of MathJax) MathJax basic tutorial and quick reference","categories":[{"name":"math","slug":"math","permalink":"https://yeshan333.github.io/categories/math/"}],"tags":[{"name":"Latex","slug":"Latex","permalink":"https://yeshan333.github.io/tags/Latex/"}]},{"title":"MATLABåŸºæ“å¤ä¹ ","slug":"MATLABåŸºæ“å¤ä¹ ","date":"2019-06-17T19:51:57.000Z","updated":"2019-06-17T19:51:57.000Z","comments":true,"path":"2019/06/17/MATLABåŸºæ“å¤ä¹ /","permalink":"https://yeshan333.github.io/2019/06/17/MATLAB%E5%9F%BA%E6%93%8D%E5%A4%8D%E4%B9%A0/","excerpt":"MATLABåŸºæœ¬æ“ä½œ1. å¯¹è±¡å®šä¹‰ä½¿ç”¨symå®šä¹‰å•ä¸ªå¯¹è±¡ã€ä½¿ç”¨symså®šä¹‰å¤šä¸ªå¯¹è±¡ 2. ä½¿ç”¨limitæ±‚æé™ $$ \\lim_{v \\rightarrow a} f(x) $$ 1limit(f,v,a) % ä½¿ç”¨limit(f,v,a,&#x27;left&#x27;)å¯æ±‚å·¦æé™ 3. å¯¼æ•°ä½¿ç”¨diff(f,v,n)å¯¹$ f(v)&#x3D;v^{t-1} $æ±‚ $ n $ é˜¶å¯¼ $ \\frac{d^nf}{d^nv} $ï¼Œnç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º1ï¼Œdiff(f)é»˜è®¤æ±‚ä¸€é˜¶å¯¼æ•°ã€‚ 4. å®šç§¯åˆ†å’Œä¸å®šç§¯åˆ†ä½¿ç”¨int(f,v)æ±‚få¯¹å˜é‡vçš„ä¸å®šç§¯åˆ†ï¼Œä½¿ç”¨int(f,v,a,b)æ±‚få¯¹å˜é‡vçš„å®šç§¯åˆ†,aã€bä¸ºç§¯åˆ†ä¸Šä¸‹æ ‡ã€‚$ \\int{f(v)dv} $ã€$ \\int^{a}_{b}{f(v)dv} $ã€‚","text":"MATLABåŸºæœ¬æ“ä½œ1. å¯¹è±¡å®šä¹‰ä½¿ç”¨symå®šä¹‰å•ä¸ªå¯¹è±¡ã€ä½¿ç”¨symså®šä¹‰å¤šä¸ªå¯¹è±¡ 2. ä½¿ç”¨limitæ±‚æé™ $$ \\lim_{v \\rightarrow a} f(x) $$ 1limit(f,v,a) % ä½¿ç”¨limit(f,v,a,&#x27;left&#x27;)å¯æ±‚å·¦æé™ 3. å¯¼æ•°ä½¿ç”¨diff(f,v,n)å¯¹$ f(v)&#x3D;v^{t-1} $æ±‚ $ n $ é˜¶å¯¼ $ \\frac{d^nf}{d^nv} $ï¼Œnç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º1ï¼Œdiff(f)é»˜è®¤æ±‚ä¸€é˜¶å¯¼æ•°ã€‚ 4. å®šç§¯åˆ†å’Œä¸å®šç§¯åˆ†ä½¿ç”¨int(f,v)æ±‚få¯¹å˜é‡vçš„ä¸å®šç§¯åˆ†ï¼Œä½¿ç”¨int(f,v,a,b)æ±‚få¯¹å˜é‡vçš„å®šç§¯åˆ†,aã€bä¸ºç§¯åˆ†ä¸Šä¸‹æ ‡ã€‚$ \\int{f(v)dv} $ã€$ \\int^{a}_{b}{f(v)dv} $ã€‚ 5. matlabå‡½æ•°æ–‡ä»¶å®šä¹‰å½¢å¼ 12function [è¾“å‡ºå½¢å‚åˆ—è¡¨] = å‡½æ•°åï¼ˆè¾“å…¥å½¢å‚åˆ—è¡¨ï¼‰ å‡½æ•°ä½“ 12345678910111213141516171819202122232425262728293031323334353637function spir_len = spirallength(d, n, lcolor)% SPIRALLENGTH plot a circle of radius as r in the provided color and calculate its area% è¾“å…¥å‚æ•°ï¼š% d: èºæ—‹çš„æ—‹è·% n: èºæ—‹çš„åœˆæ•°% lcolorï¼šç”»å›¾çº¿çš„é¢œè‰²% è¾“å‡ºå‚æ•°ï¼š% spir_lenï¼šèºæ—‹çš„å‘¨é•¿% è°ƒç”¨è¯´æ˜ï¼š% spirallength(d,n):ä»¥å‚æ•°d,nç”»èºæ—‹çº¿ï¼Œèºæ—‹çº¿é»˜è®¤ä¸ºè“è‰²% spirallength(d,n,lcolor):ä»¥å‚æ•°d,n,lcolorç”»èºæ—‹çº¿% spir_len = spirallength(d,n):è®¡ç®—èºæ—‹çº¿çš„å‘¨é•¿ï¼Œå¹¶ä»¥è“è‰²å¡«å……èºæ—‹çº¿% spir_len = spirallength(d,n,lcolor):è®¡ç®—èºæ—‹çº¿çš„å‘¨é•¿ï¼Œå¹¶ä»¥lcoloré¢œè‰²å¡«å……èºæ—‹çº¿% ç‰ˆæœ¬å·V1.0ï¼Œç¼–å†™äº1999å¹´9æœˆ9å·ï¼Œä¿®æ”¹äº1999å¹´9æœˆ10å·ï¼Œä½œè€…ï¼šäºšç´¢if nargin &gt; 3 error(&#x27;è¾“å…¥å˜é‡è¿‡å¤šï¼&#x27;);elseif nargin == 2 lcolor = &#x27;b&#x27;; % é»˜è®¤æƒ…å†µä¸‹ä¸ºè“è‰²endj = sqrt(-1);phi = 0 : pi/1000 : n*2*pi;amp = 0 : d/2000 : n*d;spir = amp .* exp(j*phi);if nargout == 1 spir_len = sum(abs(diff(spir))); fill(real(spir), imag(spir), lcolor);elseif nargout == 0 plot(spir, lcolor);else error(&#x27;è¾“å‡ºå˜é‡è¿‡å¤šï¼&#x27;);endaxis(&#x27;square&#x27;); 6. matlabç¨‹åºè®¾è®¡è¯­å¥ 1234567891011121314151617181920212223242526272829303132333435363738% forå¾ªç¯for å¾ªç¯å˜é‡=åˆå€¼:æ­¥é•¿:ç»ˆå€¼ å¾ªç¯ä½“end% whileå¾ªç¯while æ¡ä»¶ å¾ªç¯ä½“end% ifè¯­å¥if æ¡ä»¶ è¯­å¥ç»„1elseif è¯­å¥ç»„2else è¯­å¥ç»„3end% switchè¯­å¥switch è¡¨è¾¾å¼ case è¡¨è¾¾å¼1 è¯­å¥ç»„1 case è¡¨è¾¾å¼2 è¯­å¥ç»„2 ... ... case è¡¨è¾¾å¼m è¯­å¥ç»„m otherwise è¯­å¥ç»„end% tryè¯­å¥try è¯­å¥ç»„1 %è¯­å¥ç»„1è‹¥æ­£ç¡®åˆ™è·³å‡ºè¯¥ç»“æ„catch è¯­å¥ç»„2end 7. çŸ©é˜µæ“ä½œ æ“ä½œ ä½œç”¨ size(A) æ±‚çŸ©é˜µAçš„è¡Œæ•°å’Œåˆ—æ•° length(x) è¿”å›å‘é‡xçš„é•¿åº¦ Aâ€™ Açš„è½¬ç½® A(:,n) å–çŸ©é˜µAç¬¬nåˆ—æ•°ï¼ŒA(n,:)å–ç¬¬nè¡Œ det(A) æ±‚çŸ©é˜µAçš„è¡Œåˆ—å¼ inv(A) æ±‚Açš„é€† rank(A) æ±‚Açš„ç§© trace(A) æ±‚Açš„è¿¹ max(A)ã€min(A) æ±‚Açš„å„åˆ—æœ€å¤§ã€æœ€å°å…ƒç´  mean(A) æ±‚Aå„åˆ—çš„å¹³å‡å€¼ sum(A) æ±‚Aå„åˆ—å…ƒç´ ä¹‹å’Œ 8. matlabç®€å•ç»˜å›¾ &ensp;plotå‡½æ•°æ˜¯MATLABä¸­æœ€æ ¸å¿ƒçš„äºŒç»´ç»˜å›¾å‡½æ•°ï¼Œæœ‰è¯¸å¤šè¯­æ³•æ ¼å¼ï¼Œå¯å®ç°å¤šç§åŠŸèƒ½ã€‚å¸¸ç”¨æ ¼å¼æœ‰ï¼š plot(x)ï¼šç¼ºçœè‡ªå˜é‡çš„ç»˜å›¾æ ¼å¼ï¼Œxå¯ä¸ºå‘é‡æˆ–çŸ©é˜µã€‚ plot(x, y)ï¼šåŸºæœ¬æ ¼å¼ï¼Œxå’Œyå¯ä¸ºå‘é‡æˆ–çŸ©é˜µã€‚ plot(x1, y1, x2, y2,â€¦)ï¼šå¤šæ¡æ›²çº¿ç»˜å›¾æ ¼å¼ï¼Œåœ¨åŒä¸€åæ ‡ç³»ä¸­ç»˜åˆ¶å¤šä¸ªå›¾å½¢ã€‚ plot(x, y,â€˜sâ€™)ï¼šå¼€å…³æ ¼å¼ï¼Œå¼€å…³é‡å­—ç¬¦ä¸²sè®¾å®šäº†å›¾å½¢æ›²çº¿çš„é¢œè‰²ã€çº¿å‹åŠæ ‡ç¤ºç¬¦å·ï¼ˆè§ä¸‹è¡¨ï¼‰ã€‚ æ— çº¦æŸä¼˜åŒ–é—®é¢˜æ±‚è§£fminbndã€fminuncå‡½æ•°è¾“å‡ºå˜é‡è§£é‡Š å˜é‡ æè¿° x ç”±ä¼˜åŒ–å‡½æ•°æ±‚å¾—çš„å€¼. è‹¥exitflag&gt;0,åˆ™xä¸ºè§£; å¦åˆ™,xä¸æ˜¯æœ€ç»ˆè§£, å®ƒåªæ˜¯è¿­ä»£åˆ¶æ­¢æ—¶ä¼˜åŒ–è¿‡ç¨‹çš„å€¼ fval è§£ x å¤„çš„ç›®æ ‡å‡½æ•°å€¼ exitflag æè¿°é€€å‡ºæ¡ä»¶:exitflag&gt;0,è¡¨ç›®æ ‡å‡½æ•°æ”¶æ•›äºè§£xå¤„ï¼›exitflag&#x3D;0,è¡¨å·²è¾¾åˆ°å‡½æ•°è¯„ä»·æˆ–è¿­ä»£çš„æœ€å¤§æ¬¡æ•°ï¼›exitflag&lt;0,è¡¨ç›®æ ‡å‡½æ•°ä¸æ”¶æ•› output åŒ…å«ä¼˜åŒ–ç»“æœä¿¡æ¯çš„è¾“å‡ºç»“æ„ã€‚Iterations:è¿­ä»£æ¬¡æ•°ï¼›Algorithm:æ‰€é‡‡ç”¨çš„ç®—æ³•ï¼›FuncCount:å‡½æ•°è¯„ä»·æ¬¡æ•° ä¸€å…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminbndå¸¸ç”¨æ ¼å¼$$ min f(x)ï¼Œ x_1&lt;x&lt;x_2 $$ ï¼ˆ1ï¼‰x&#x3D; fminbnd (fun, x1, x2)ï¼ˆ2ï¼‰x&#x3D; fminbnd (fun, x1, x2 , options)ï¼ˆ3ï¼‰[x , fval]&#x3D; fminbndï¼ˆâ€¦ï¼‰ï¼ˆ4ï¼‰[x , fval , exitflag]&#x3D; fminbndï¼ˆâ€¦ï¼‰ï¼ˆ5ï¼‰[x , fval , exitflag , output]&#x3D; fminbndï¼ˆâ€¦ï¼‰å‡½æ•°fminbndçš„ç®—æ³•åŸºäºé»„é‡‘åˆ†å‰²æ³•å’ŒäºŒæ¬¡æ’å€¼æ³•ï¼Œå®ƒè¦æ±‚ç›®æ ‡å‡½æ•°å¿…é¡»æ˜¯è¿ç»­å‡½æ•°ï¼Œå¹¶å¯èƒ½åªç»™å‡ºå±€éƒ¨æœ€ä¼˜è§£ ä¾‹å­æ±‚å‡½æ•° $ f(x)&#x3D;2e^{-x}sin(x) $ åœ¨ $ 0&lt;x&lt;8 $ æ—¶çš„æœ€å°å€¼ 12345% å¦‚æœæ±‚æœ€å¤§éœ€è¦å¯¹få–åf = @(x) (2*exp(-x)*sin(x));[x,fval] = fminbnd(f,0,8);xfval å¤šå…ƒå‡½æ•°æ— çº¦æŸä¼˜åŒ–é—®é¢˜-fminuncå¸¸ç”¨æ ¼å¼$$ min f(X)ï¼Œè¿™é‡ŒXä¸ºnç»´å˜é‡ $$fminuncå¸¸ç”¨æ ¼å¼ä¸º: ï¼ˆ1ï¼‰x&#x3D; fminuncï¼ˆfun, X0ï¼‰ï¼› ï¼ˆ2ï¼‰x&#x3D; fminuncï¼ˆfun, X0ï¼Œoptionsï¼‰ï¼› ï¼ˆ3ï¼‰[xï¼Œfval]&#x3D; fminuncï¼ˆâ€¦ï¼‰ï¼› ï¼ˆ4ï¼‰[xï¼Œfvalï¼Œexitflag]&#x3D; fminuncï¼ˆâ€¦ï¼‰ï¼› ï¼ˆ5ï¼‰[xï¼Œfvalï¼Œexitflagï¼Œoutput]&#x3D; fminuncï¼ˆâ€¦ï¼‰å…¶ä¸­ X0ä¸ºåˆå§‹å€¼ ä¾‹å­æ±‚å‡½æ•°$ f(x_1,x_2)&#x3D;(4x_1^2+2x_2^2+4x_1x_2+2x_2^2+1)e^x $çš„æœ€å°å€¼,$ X_0&#x3D;[-1,1] $ 12345f = @(x) (4*x(1)^2+2*x(2)^2+4*x(1)*x(2)+2*x(2)+1)*exp(x(1));x0 = [-1,1];[x,fval] = fminunc(f, x0);xfval çº¿æ€§è§„åˆ’é—®é¢˜æ±‚è§£ä½¿ç”¨linprogæ±‚è§£ä¸€èˆ¬çº¿æ€§è§„åˆ’é—®é¢˜å¸¸è§é—®é¢˜ï¼ˆlinprogé»˜è®¤æ±‚æœ€å°å€¼ï¼‰$$ minz&#x3D;cX $$ $$ s.t. \\begin{cases}AX\\leq{b}\\Aeq\\cdot{X}&#x3D;beq\\VLB\\leq{X}\\leq{VUB}\\end{cases}$$ æ±‚è§£å‘½ä»¤ 1[x,fval] = linprog(c,A,b,Aeq,beq,VLB,VUB) ä¾‹å­$$ min z&#x3D;13x_1+9x_2+10x_3+11x_4+12x_5+8x_6 $$ $$ s.t.\\left{\\begin{aligned}&amp; x_1+x_2&#x3D;400\\&amp; x_2+x_5&#x3D;600\\&amp; x_3+x_6&#x3D;500\\&amp; 0.4x_1+1.1x_2+x_3\\leq{800}\\&amp; 0.5x_4+1.2x_5+1.3x_6\\leq{900}\\&amp; x_i\\geq0,i&#x3D;1,2,â€¦,6\\end{aligned}\\right.$$ 1234567891011f = [13 9 10 11 12 8];A = [0.4 1.1 1 0 0 0 0 0 0 0.5 1.2 1.3];b = [800; 900];Aeq=[1 0 0 1 0 0 0 1 0 0 1 0 0 0 1 0 0 1];beq=[400 600 500];vlb = zeros(6,1);vub=[];[x,fval] = linprog(f,A,b,Aeq,beq,vlb,vub) ä½¿ç”¨bintprogæ±‚è§£0-1è§„åˆ’é—®é¢˜matlab2014ä»¥ä¸Šç‰ˆæœ¬ä½¿ç”¨intlinprogæ±‚è§£0-1è§„åˆ’é—®é¢˜ $$ minz&#x3D;cX $$ $$ s.t. \\begin{cases}AX\\leq{b}\\Aeq\\cdot{X}&#x3D;beq\\Xä¸º0-1å˜é‡\\end{cases}$$ 12% å‘½ä»¤[x,fval] = bintprog(c,A,b,Aeq,beq) ä¾‹å­$$ min z&#x3D;3x_1+7x_2-x_3+x_4 $$$$ s.t.\\begin{cases}2x_1-x_2+x_3-x_4\\geq{1}\\x_1-x_2+6x_3+4x_4\\geq{8}\\5x_1+3x_2+x_4\\geq{5}\\x_i&#x3D;0æˆ–1ï¼ˆi&#x3D;1,2,3,4ï¼‰\\end{cases}$$ 123456789z = [3;7;-1;1];A = [-2 1 -1 1; -1 1 -6 -4; -5 -3 0 -1];b = [-1;-8;-5];Aeq = [];beq = [];[x,fval] = bintprog(z,A,b,Aeq,beq) æ•°æ®æ’å€¼ä¸æ‹Ÿåˆæ•°æ®æ’å€¼ï¼Œä½¿ç”¨interplè¿›è¡Œä¸€ç»´æ’å€¼matlabå‘½ä»¤ 1yi = interpl(X,Y,xi,method) è¯¥å‘½ä»¤ç”¨æŒ‡å®šçš„ç®—æ³•æ‰¾å‡ºä¸€ä¸ªä¸€å…ƒå‡½æ•°ï¼Œç„¶åä»¥è¯¥å‡½æ•°ç»™å‡ºxiå¤„çš„å€¼ã€‚å…¶ä¸­x&#x3D;[x1,x2,â€¦,xn]â€™å’Œ y&#x3D;[y1,y2,â€¦,yn]â€™ä¸¤ä¸ªå‘é‡åˆ†åˆ«ä¸ºç»™å®šçš„ä¸€ç»„è‡ªå˜é‡å’Œå‡½æ•°å€¼ï¼Œç”¨æ¥è¡¨ç¤ºå·²çŸ¥æ ·æœ¬ç‚¹æ•°æ®ï¼›xiä¸ºå¾…æ±‚æ’å€¼ç‚¹å¤„æ¨ªåæ ‡ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ ‡é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‘é‡ï¼Œæ˜¯å‘é‡æ—¶ï¼Œå¿…é¡»å•è°ƒï¼›yiå¾—åˆ°è¿”å›çš„å¯¹åº”çºµåæ ‡ã€‚ methodå¯ä»¥é€‰å–ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼š â€˜nearestâ€™ï¼šæœ€è¿‘é‚»ç‚¹æ’å€¼ï¼Œç›´æ¥å®Œæˆè®¡ç®—ï¼› â€˜splineâ€™ï¼šä¸‰æ¬¡æ ·æ¡å‡½æ•°æ’å€¼ï¼› â€˜linearâ€™ï¼šçº¿æ€§æ’å€¼ï¼ˆç¼ºçœæ–¹å¼ï¼‰ï¼Œç›´æ¥å®Œæˆè®¡ç®—ï¼› â€˜cubicâ€™ï¼šä¸‰æ¬¡å‡½æ•°æ’å€¼ï¼› ä¾‹å­ä½œå‡½æ•°$ y&#x3D;(x^2-3x+7)e^{-4x}sin(2x) $åœ¨[0,1]å–é—´éš”ä¸º0.1çš„ç‚¹å›¾ï¼Œç”¨æ’å€¼è¿›è¡Œå®éªŒ 12345678910x=0:0.1:1;y=(x.^2-3*x+7).*exp(-4*x).*sin(2*x); %äº§ç”ŸåŸå§‹æ•°æ®subplot(1,2,1);plot(x,y,x,y,&#x27;ro&#x27;) %ä½œå›¾xx=0:0.02:1; %å¾…æ±‚æ’å€¼ç‚¹yy=interp1(x,y,xx,&#x27;spline&#x27;); %æ­¤å¤„å¯ç”¨nearest,cubic,splineåˆ†åˆ«è¯•éªŒsubplot(1,2,2)plot(x,y,&#x27;ro&#x27;,xx,yy,&#x27;b&#x27;) %ä½œå›¾ æ›²çº¿æ‹Ÿåˆæ‹Ÿåˆå‡½æ•°polyfit12p=polyfit(x,y,n)[p,s]= polyfit(x,y,n) è¯´æ˜ï¼šx,yä¸ºæ•°æ®ç‚¹ï¼Œnä¸ºå¤šé¡¹å¼é˜¶æ•°ï¼Œè¿”å›pä¸ºå¹‚æ¬¡ä»é«˜åˆ°ä½çš„å¤šé¡¹å¼ç³»æ•°å‘é‡pã€‚pæ˜¯n+1ç»´å‚æ•°å‘é‡p(1)ï¼Œp(2)â€¦.é‚£ä¹ˆæ‹Ÿåˆåå¯¹åº”çš„å¤šé¡¹å¼å³ä¸ºï¼š$$ p(1)x^n+p(2)x^{n-1}+\\cdot\\cdot\\cdot+p(n)x+p(n+1) $$ xå¿…é¡»æ˜¯å•è°ƒçš„ã€‚çŸ©é˜µsç”¨äºç”Ÿæˆé¢„æµ‹å€¼çš„è¯¯å·®ä¼°è®¡ å¤šé¡¹å¼æ±‚å€¼å‡½æ•°polyval12y=polyval(p,x)[y,DELTA]=polyval(p,x,s) è¯´æ˜ï¼šy&#x3D;polyval(p,x)ä¸ºè¿”å›å¯¹åº”è‡ªå˜é‡xåœ¨ç»™å®šç³»æ•°pçš„å¤šé¡¹å¼çš„å€¼ï¼›[y,DELTA]&#x3D;polyval(p,x,s) ä½¿ç”¨polyfitå‡½æ•°çš„é€‰é¡¹è¾“å‡ºså¾—å‡ºè¯¯å·®ä¼°è®¡DELTAã€‚å®ƒå‡è®¾polyfitå‡½æ•°æ•°æ®è¾“å…¥çš„è¯¯å·®æ˜¯ç‹¬ç«‹æ­£æ€çš„ï¼Œå¹¶ä¸”æ–¹å·®ä¸ºå¸¸æ•°ã€‚åˆ™DELTAå°†è‡³å°‘åŒ…å«50%çš„é¢„æµ‹å€¼ã€‚ ä¾‹å­æ±‚å¦‚ä¸‹ç»™å®šæ•°æ®çš„æ‹Ÿåˆæ›²çº¿x&#x3D;[0.5,1.0,1.5,2.0,2.5,3.0]ï¼Œy&#x3D;[1.75,2.45,3.81,4.80,7.00,8.60] 1234567x=[0.5,1.0,1.5,2.0,2.5,3.0];y=[1.75,2.45,3.81,4.80,7.00,8.60];plot(x,y,â€˜*râ€™) %å…ˆè§‚å¯Ÿæ•°æ®ç‚¹çš„å¤§è‡´å½¢æ€p=polyfit(x,y,2) %ç”¨äºŒæ¬¡å¤šé¡¹å¼æ‹Ÿåˆx1=0.5:0.05:3.0; % æ­¥é•¿0.05y1=polyval(p,x1);plot(x,y,&#x27;*r&#x27;,x1,y1,&#x27;-b&#x27;)","categories":[{"name":"math","slug":"math","permalink":"https://yeshan333.github.io/categories/math/"}],"tags":[{"name":"MATLAB","slug":"MATLAB","permalink":"https://yeshan333.github.io/tags/MATLAB/"}]},{"title":"æœç´¢æŠ€å·§","slug":"æœç´¢æŠ€å·§","date":"2019-06-08T20:22:17.000Z","updated":"2019-06-08T20:22:17.000Z","comments":true,"path":"2019/06/08/æœç´¢æŠ€å·§/","permalink":"https://yeshan333.github.io/2019/06/08/%E6%90%9C%E7%B4%A2%E6%8A%80%E5%B7%A7/","excerpt":"æœç´¢ä¹Ÿæ˜¯é—¨å­¦é—®å•Šï¼ŒGFWä¹‹ä¸‹ï¼Œä¸–é“è‰°éš¾ã€‚ (ãƒ~ã€)","text":"æœç´¢ä¹Ÿæ˜¯é—¨å­¦é—®å•Šï¼ŒGFWä¹‹ä¸‹ï¼Œä¸–é“è‰°éš¾ã€‚ (ãƒ~ã€) ç™¾åº¦é«˜çº§æœç´¢æŠ€å·§åŒå¼•å·ç²¾ç¡®åŒ¹é… æ ¼å¼ï¼šâ€æœç´¢è¯â€ åœ¨æŸ¥è¯¢è¯ä¸¤è¾¹åŠ ä¸ŠåŒå¼•å·è¡¨ç¤ºæŸ¥è¯¢è¯ä¸èƒ½è¢«æ‹†åˆ†ã€‚ å‡å·ï¼ˆ-ï¼‰ä¸å«ç‰¹å®šæŸ¥è¯¢ æ ¼å¼ï¼šæœç´¢è¯ -æ’é™¤è¯ ** å‡å·åé¢ç´§è·Ÿçš„æ˜¯éœ€è¦æ’é™¤çš„è¯ï¼Œå‰é¢ä¸ºè¦æœç´¢çš„è¯ï¼ˆæœ‰ä¸ªç©ºæ ¼éš”å¼€ï¼‰ ** siteï¼Œé™åˆ¶æœç´¢èŒƒå›´åœ¨ç‰¹å®šç«™ç‚¹ æ ¼å¼ï¼šæœç´¢è¯ site:ç«™ç‚¹åŸŸå site:åé¢ç´§è·Ÿç«™ç‚¹åŸŸåï¼Œ ä¸è¦å¸¦åè®®å¤´ã€‚site:å’ŒåŸŸåä¹‹å‰æ²¡æœ‰ç©ºæ ¼ã€‚ inurlï¼Œæœç´¢èŒƒå›´é™å®šåœ¨urlé“¾æ¥ä¸­ æ ¼å¼ï¼šæœç´¢è¯ inurl:urlä¸­å¿…é¡»å­˜åœ¨çš„è¯ intitleï¼Œæœç´¢èŒƒå›´é™å®šåœ¨ç½‘é¡µæ ‡é¢˜ æ ¼å¼ï¼šæœç´¢è¯ intitle:æ ‡é¢˜å¿…é¡»å«æœ‰çš„è¯ filetypeï¼Œæœç´¢èŒƒå›´é™å®šåœ¨æŒ‡å®šæ–‡ä»¶æ ¼å¼ä¸­ æ ¼å¼ï¼šæœç´¢è¯ filetype:æ–‡ä»¶æ ¼å¼å æºäºç™¾åº¦:https://jingyan.baidu.com/article/d621e8dae7593c2864913f7b.html","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"Pythoné¢å‘å¯¹è±¡","slug":"Pythoné¢å‘å¯¹è±¡","date":"2019-05-24T12:54:40.000Z","updated":"2019-05-31T12:54:40.000Z","comments":true,"path":"2019/05/24/Pythoné¢å‘å¯¹è±¡/","permalink":"https://yeshan333.github.io/2019/05/24/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/","excerpt":"å¯¹è±¡ï¼šä¸€ä¸ªè‡ªåŒ…å«çš„å®ä½“ï¼Œç”¨ä¸€ç»„å¯è¯†åˆ«çš„ç‰¹æ€§å’Œè¡Œä¸ºæ¥æ ‡è¯† ç±»ï¼šå…·æœ‰ç›¸åŒçš„å±æ€§å’ŒåŠŸèƒ½çš„å¯¹è±¡çš„æŠ½è±¡çš„é›†åˆ å®ä¾‹ï¼šä¸€ä¸ªçœŸå®çš„å¯¹è±¡ï¼Œå®ä¾‹åŒ–å°±æ˜¯åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ å¤šæ€ï¼šå¯å¯¹ä¸åŒç±»å‹çš„å¯¹è±¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œè€Œè¿™äº›æ“ä½œå°±åƒâ€œè¢«æ–½äº†é­”æ³•â€ä¸€æ ·èƒ½å¤Ÿæ­£å¸¸è¿è¡Œ å°è£…ï¼šå¯¹å¤–éƒ¨éšè—æœ‰å…³å¯¹è±¡å·¥ä½œåŸç†çš„ç»†èŠ‚ ç»§æ‰¿ï¼šå¯åŸºäºé€šç”¨ç±»åˆ›å»ºä¸“ç”¨ç±» å¤šæ€ å¤šæ€å¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸çŸ¥é“å˜é‡æŒ‡å‘å“ªç§å¯¹è±¡æ—¶ï¼Œä¹Ÿèƒ½å¤Ÿå¯¹å…¶æ‰§è¡Œæ“ä½œï¼Œä¸”æ“ä½œçš„è¡Œä¸ºå°†éšå¯¹è±¡æ‰€å±çš„ç±»å‹ï¼ˆç±»ï¼‰è€Œå¼‚ã€‚æ¯å½“ä¸çŸ¥é“å¯¹è±¡æ˜¯ä»€ä¹ˆæ ·å°±èƒ½å¯¹å…¶æ‰§è¡Œæ“ä½œï¼Œéƒ½æ˜¯å¤šæ€åœ¨èµ·ä½œç”¨ å¤šæ€ä»¥ ç»§æ‰¿ å’Œ é‡å†™ çˆ¶ç±»æ–¹æ³• ä¸ºå‰æ å¤šæ€æ˜¯è°ƒç”¨æ–¹æ³•çš„æŠ€å·§ï¼Œä¸ä¼šå½±å“åˆ°ç±»çš„å†…éƒ¨è®¾è®¡ å¤šæ€æ€§å³å‘ä¸åŒçš„å¯¹è±¡å‘é€åŒä¸€ä¸ªæ¶ˆæ¯ï¼Œä¸åŒçš„å¯¹è±¡åœ¨æ¥æ”¶æ—¶ä¼šäº§ç”Ÿä¸åŒçš„è¡Œä¸ºï¼ˆå³æ–¹æ³•ï¼‰ å¬è¯´Pythonå¤©ç„¶å°±å¤šæ€ 12345678910111213141516171819202122232425class Person(object): def __init__(self,name,sex): self.name = name self.sex = sex def print_title(self): if self.sex == &quot;male&quot;: print(&quot;man&quot;) elif self.sex == &quot;female&quot;: print(&quot;woman&quot;)class Child(Person): # Child ç»§æ‰¿ Person def print_title(self): if self.sex == &quot;male&quot;: print(&quot;boy&quot;) elif self.sex == &quot;female&quot;: print(&quot;girl&quot;)May = Child(&quot;May&quot;,&quot;female&quot;)Peter = Person(&quot;Peter&quot;,&quot;male&quot;)print(May.name,May.sex,Peter.name,Peter.sex)# åŒä¸€æ¶ˆæ¯May.print_title()Peter.print_title()","text":"å¯¹è±¡ï¼šä¸€ä¸ªè‡ªåŒ…å«çš„å®ä½“ï¼Œç”¨ä¸€ç»„å¯è¯†åˆ«çš„ç‰¹æ€§å’Œè¡Œä¸ºæ¥æ ‡è¯† ç±»ï¼šå…·æœ‰ç›¸åŒçš„å±æ€§å’ŒåŠŸèƒ½çš„å¯¹è±¡çš„æŠ½è±¡çš„é›†åˆ å®ä¾‹ï¼šä¸€ä¸ªçœŸå®çš„å¯¹è±¡ï¼Œå®ä¾‹åŒ–å°±æ˜¯åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ å¤šæ€ï¼šå¯å¯¹ä¸åŒç±»å‹çš„å¯¹è±¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œè€Œè¿™äº›æ“ä½œå°±åƒâ€œè¢«æ–½äº†é­”æ³•â€ä¸€æ ·èƒ½å¤Ÿæ­£å¸¸è¿è¡Œ å°è£…ï¼šå¯¹å¤–éƒ¨éšè—æœ‰å…³å¯¹è±¡å·¥ä½œåŸç†çš„ç»†èŠ‚ ç»§æ‰¿ï¼šå¯åŸºäºé€šç”¨ç±»åˆ›å»ºä¸“ç”¨ç±» å¤šæ€ å¤šæ€å¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸çŸ¥é“å˜é‡æŒ‡å‘å“ªç§å¯¹è±¡æ—¶ï¼Œä¹Ÿèƒ½å¤Ÿå¯¹å…¶æ‰§è¡Œæ“ä½œï¼Œä¸”æ“ä½œçš„è¡Œä¸ºå°†éšå¯¹è±¡æ‰€å±çš„ç±»å‹ï¼ˆç±»ï¼‰è€Œå¼‚ã€‚æ¯å½“ä¸çŸ¥é“å¯¹è±¡æ˜¯ä»€ä¹ˆæ ·å°±èƒ½å¯¹å…¶æ‰§è¡Œæ“ä½œï¼Œéƒ½æ˜¯å¤šæ€åœ¨èµ·ä½œç”¨ å¤šæ€ä»¥ ç»§æ‰¿ å’Œ é‡å†™ çˆ¶ç±»æ–¹æ³• ä¸ºå‰æ å¤šæ€æ˜¯è°ƒç”¨æ–¹æ³•çš„æŠ€å·§ï¼Œä¸ä¼šå½±å“åˆ°ç±»çš„å†…éƒ¨è®¾è®¡ å¤šæ€æ€§å³å‘ä¸åŒçš„å¯¹è±¡å‘é€åŒä¸€ä¸ªæ¶ˆæ¯ï¼Œä¸åŒçš„å¯¹è±¡åœ¨æ¥æ”¶æ—¶ä¼šäº§ç”Ÿä¸åŒçš„è¡Œä¸ºï¼ˆå³æ–¹æ³•ï¼‰ å¬è¯´Pythonå¤©ç„¶å°±å¤šæ€ 12345678910111213141516171819202122232425class Person(object): def __init__(self,name,sex): self.name = name self.sex = sex def print_title(self): if self.sex == &quot;male&quot;: print(&quot;man&quot;) elif self.sex == &quot;female&quot;: print(&quot;woman&quot;)class Child(Person): # Child ç»§æ‰¿ Person def print_title(self): if self.sex == &quot;male&quot;: print(&quot;boy&quot;) elif self.sex == &quot;female&quot;: print(&quot;girl&quot;)May = Child(&quot;May&quot;,&quot;female&quot;)Peter = Person(&quot;Peter&quot;,&quot;male&quot;)print(May.name,May.sex,Peter.name,Peter.sex)# åŒä¸€æ¶ˆæ¯May.print_title()Peter.print_title() å°è£… å°è£…æŒ‡çš„æ˜¯å‘å¤–éƒ¨éšè—ä¸å¿…è¦çš„ç»†èŠ‚ã€‚ä¸å¤šæ€æœ‰ç‚¹åƒï¼Œä»–ä»¬éƒ½æ˜¯æŠ½è±¡çš„åŸåˆ™ã€‚å¤šæ€è®©ä½ æ— éœ€çŸ¥é“å¯¹è±¡æ‰€å±çš„ç±»ï¼ˆå¯¹è±¡çš„ç±»å‹ï¼‰å°±èƒ½è°ƒç”¨å…¶æ–¹æ³•ã€‚å°è£…è®©ä½ æ— éœ€çŸ¥é“å¯¹è±¡çš„æ„é€ å°±èƒ½å¤Ÿä½¿ç”¨å®ƒã€‚ å®ç°å°è£…å¯ä»¥å¯¹ç±»å†…çš„å±æ€§å’Œæ–¹æ³•çš„è®¿é—®åŠ ä»¥é™åˆ¶ã€‚å°±åƒC++ç±»ä½¿ç”¨privateã€protectedä¸€æ ·å¯¹ç±»çš„æˆå‘˜è®¿é—®è¿›è¡Œé™åˆ¶ä¸€æ · é»˜è®¤æƒ…å†µä¸‹ï¼ŒPythonä¸­çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯å…¬å¼€çš„ï¼Œå¯ä»¥åœ¨å¯¹è±¡å¤–éƒ¨è®¿é—® ç§æœ‰å˜é‡ Pythonå¹¶æ²¡æœ‰çœŸæ­£çš„ç§æœ‰åŒ–æ”¯æŒï¼Œä½†å¯ç”¨ä¸‹åˆ’çº¿å¾—åˆ°ä¼ªç§æœ‰ã€‚ åœ¨Pythonå®šä¹‰ç§æœ‰å˜é‡åªéœ€åœ¨å˜é‡åæˆ–å‡½æ•°åå‰åŠ ä¸Šä¸¤ä¸ªä¸‹åˆ’çº¿__,ä¾‹å¦‚__nameã€‚é‚£ç§ä»…é™åœ¨ä¸€ä¸ªå¯¹è±¡å†…éƒ¨è®¿é—®çš„â€œç§æœ‰â€å˜é‡åœ¨Pythonä¸­å¹¶ä¸å­˜åœ¨ ä½¿ç”¨åŒä¸‹åˆ’çº¿å°†æ–¹æ³•æˆ–å±æ€§å˜ä¸ºç§æœ‰æ—¶ï¼Œåœ¨å†…éƒ¨ï¼ŒPythonå°†ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´çš„åå­—éƒ½è¿›è¡Œè½¬æ¢ï¼Œå³åœ¨å¼€å¤´åŠ ä¸Šä¸€ä¸ªä¸‹åˆ’çº¿å’Œç±»åã€‚ä½†è¿™æ ·çš„ç§æœ‰å˜é‡æˆ–æ–¹æ³•è¿˜æ˜¯å¯ä»¥è®¿é—®çš„ï¼Œè®¿é—®å½¢å¼å¦‚ï¼šå®ä¾‹å._ç±»å__å˜é‡åã€å®ä¾‹å._ç±»å__æ–¹æ³•å() ä»¥å•ä¸‹åˆ’çº¿å¼€å¤´çš„æ—¶ä¿æŠ¤æˆå‘˜å˜é‡ï¼Œåªæœ‰æœ¬ç±»å’Œå­ç±»æˆå‘˜å®ä¾‹èƒ½è®¿é—®è¿™äº›å˜é‡ propertyè£…é¥°å™¨ã€__slots__é­”æ³• æˆ‘ä»¬å¯ä»¥ä½¿ç”¨propertyè£…é¥°å™¨å¯¹å±æ€§è¿›è¡Œå°è£…ã€é€šè¿‡getterå’Œsetteræ–¹æ³•è¿›è¡Œå±æ€§çš„è®¿é—®å’Œä¿®æ”¹ Pythonæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Œå¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶ç»™å¯¹è±¡ç»‘å®šå±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å¯¹å·²ç»ç»‘å®šçš„å±æ€§å’Œæ–¹æ³•è¿›è¡Œè§£ç»‘å®šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨__slots__é­”æ³•é™å®šå¯¹è±¡å¯ä»¥ç»‘å®šçš„å±æ€§ ç»§æ‰¿&amp;&amp;æ´¾ç”Ÿ ä¸€ä¸ªæ–°ç±»ä»å·²æœ‰ç±»é‚£é‡Œè·å¾—å…¶å·²æœ‰ç‰¹æ€§ï¼Œè¿™ç§ç°è±¡ç§°ä¸ºç»§æ‰¿ã€‚ä»ä¸€ä¸ªå·²æœ‰ç±»ï¼ˆçˆ¶ç±»ï¼ŒPythonå«è¶…ç±»ï¼‰äº§ç”Ÿä¸€ä¸ªæ–°çš„å­ç±»ï¼Œç§°ä¸ºç±»çš„æ´¾ç”Ÿã€‚è¦æŒ‡é¡¶å®šè¶…ç±»ï¼Œå¯åœ¨classè¯­å¥ä¸­çš„ç±»åååŠ ä¸Šè¶…ç±»åï¼Œå¹¶å°†å…¶ç”¨åŸæ‹¬æ‹¬èµ·æ¥ ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªç±»ï¼ˆå¤šé‡ç»§æ‰¿ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœå¤šä¸ªè¶…ç±»ä»¥ä¸åŒçš„æ–¹å¼å®ç°äº†åŒä¸€ä¸ªæ–¹æ³•ï¼ˆå³æœ‰å¤šä¸ªåŒåçš„æ–¹æ³•ï¼‰ï¼Œå¿…é¡»åœ¨classè¯­å¥ä¸­å°å¿ƒæ’åˆ—è¿™äº›ç±»ï¼Œå› ä¸ºä½äºå‰é¢çš„ç±»çš„æ–¹æ³•å°†è¦†ç›–ä½äºåé¢çš„ç±»çš„æ–¹æ³• å¯¹å­ç±»çš„å®ä¾‹è°ƒç”¨æ–¹æ³•ï¼ˆæˆ–è®¿é—®å…¶å±æ€§ï¼‰æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¯¥æ–¹æ³•æˆ–è€…å±æ€§ï¼Œå°†åœ¨çˆ¶ç±»ä¸­æŸ¥æ‰¾ åœ¨å­ç±»ä¸­å¯ä»¥é‡å†™è¶…ç±»çš„æ–¹æ³•ï¼ˆåŒ…æ‹¬æ„é€ å‡½æ•°ï¼‰ï¼Œé‡å†™æ„é€ å‡½æ•°æ—¶ï¼Œè¦ç¡®ä¿åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨è¶…ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™å¯èƒ½æ— æ³•æ­£ç¡®çš„åˆå§‹åŒ–å¯¹è±¡ Pythonä¸­æ‰€æœ‰çš„æ–¹æ³•å®é™…ä¸Šæ˜¯virtualçš„ 123456789class Person: def __init__(self,name): print(&quot;æˆ‘å«&#123;&#125;&quot;.format(name))class Student(Person): def __init__(self,name): # ä½¿ç”¨superå‡½æ•°è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•° super().__init__(name) # ä¹Ÿå¯ä»¥å†™æˆè¿™æ ·ï¼šPerson.__init__(self,name) print(&quot;æˆ‘æ˜¯ä¸€ä¸ªå­¦ç”Ÿï¼&quot;) æŠ½è±¡åŸºç±» æŠ½è±¡åŸºç±»æ˜¯ä¸èƒ½ï¼ˆè‡³å°‘æ˜¯ä¸åº”è¯¥ï¼‰å®ä¾‹åŒ–çš„ç±»ï¼Œå…¶èŒè´£æ˜¯å®šä¹‰å­ç±»åº”è¯¥å®ç°çš„ä¸€ç»„æŠ½è±¡æ–¹æ³•ã€‚Pythonå¯é€šè¿‡å¼•å…¥ABCæ¨¡å—å®ç°æŠ½è±¡åŸºç±»ï¼Œä½¿ç”¨@abstractmethodè£…é¥°å™¨å°†æ–¹æ³•æ ‡è®°ä¸ºæŠ½è±¡çš„ã€‚ä¾‹å¦‚ï¼š 1234class Basic&#123; public: virtual void talk() const = 0;//çº¯è™šå‡½æ•°&#125;; 123456from abc import ABC, abstractmethodclass Basic(ABC): @abstractmethod def talk(self): pass æŠ½è±¡ç±»ï¼ˆå³åŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»ï¼‰æœ€é‡è¦çš„ç‰¹å¾æ˜¯ä¸èƒ½å®ä¾‹åŒ–ã€‚å¦‚æœæ´¾ç”Ÿå‡ºçš„ç±»æ²¡æœ‰é‡å†™talkæ–¹æ³•ï¼Œé‚£ä¹ˆæ´¾ç”Ÿå‡ºçš„ç±»ä¹Ÿæ˜¯æŠ½è±¡çš„ï¼Œä¸èƒ½å®ä¾‹åŒ–ã€‚ é¸­å­ç±»å‹ â€œé¸­å­ç±»å‹â€çš„è¯­è¨€æ˜¯è¿™ä¹ˆæ¨æ–­çš„ï¼šä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸èµ·æ³³æ¥åƒé¸­å­ã€å«èµ·æ¥ä¹Ÿåƒé¸­å­ï¼Œé‚£å®ƒå°±å¯ä»¥è¢«å½“åšé¸­å­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸å…³æ³¨å¯¹è±¡çš„ç±»å‹ï¼Œè€Œæ˜¯å…³æ³¨å¯¹è±¡å…·æœ‰çš„è¡Œä¸º(æ–¹æ³•)ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸ä½¿ç”¨é¸­å­ç±»å‹çš„è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªç±»å‹ä¸ºé¸­çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„èµ°å’Œå«æ–¹æ³•ã€‚åœ¨ä½¿ç”¨é¸­å­ç±»å‹çš„è¯­è¨€ä¸­ï¼Œè¿™æ ·çš„ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„èµ°å’Œå«æ–¹æ³•ã€‚å¦‚æœè¿™äº›éœ€è¦è¢«è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°†å¼•å‘ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚ä»»ä½•æ‹¥æœ‰è¿™æ ·çš„æ­£ç¡®çš„èµ°å’Œå«æ–¹æ³•çš„å¯¹è±¡éƒ½å¯è¢«å‡½æ•°æ¥å—çš„è¿™ç§è¡Œä¸ºå¼•å‡ºäº†ä»¥ä¸Šè¡¨è¿°ï¼Œè¿™ç§å†³å®šç±»å‹çš„æ–¹å¼å› æ­¤å¾—å é¸­å­ç±»å‹çš„å…³æ³¨ç‚¹åœ¨å¯¹è±¡çš„è¡Œä¸ºï¼Œè€Œä¸åœ¨å¯¹è±¡çš„ç±»å‹ å‚è€ƒï¼šhttps://zhuanlan.zhihu.com/p/59299729 ç±»æ–¹æ³•ã€é™æ€æ–¹æ³• ç±»æ–¹æ³•ï¼šä½¿ç”¨@classmethodè£…é¥°å™¨å®šä¹‰ã€‚ç±»æ–¹æ³•å°†ç±»æœ¬èº«ä½œä¸ºå¯¹è±¡è¿›è¡Œæ“ä½œ,ç±»æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯å½“å‰ç±»å¯¹è±¡ï¼ˆä¸€èˆ¬å‘½åä¸ºcls,ç”¨äºä¼ é€’ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼‰ï¼Œå®ä¾‹å¯¹è±¡å’Œç±»å¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨ç±»æ–¹æ³•ã€‚ é™æ€æ–¹æ³•ï¼šä½¿ç”¨@staticmethodè£…é¥°å™¨å®šä¹‰ã€‚æ²¡æœ‰selfå’Œclså‚æ•°ã€‚åœ¨æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨ç±»æˆ–å®ä¾‹ä»»ä½•å±æ€§å’Œæ–¹æ³•ã€‚å®ä¾‹å’Œå¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³•ã€‚ å‚è€ƒï¼š https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/Day09/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6.md","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"}]},{"title":"Jupyter Notebooksçš„ç®€å•äº†è§£","slug":"Jupyter-Notebooksçš„ç®€å•äº†è§£","date":"2019-05-22T22:00:25.000Z","updated":"2019-05-22T22:00:25.000Z","comments":true,"path":"2019/05/22/Jupyter-Notebooksçš„ç®€å•äº†è§£/","permalink":"https://yeshan333.github.io/2019/05/22/Jupyter-Notebooks%E7%9A%84%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3/","excerpt":"æ’¸ä¸€æ‰‹Jupyter","text":"ç©Pythonè¿™ä¹ˆä¹…äº†ï¼Œè¿Jupyteréƒ½ä¸ä¼šï¼Œæœ‰ç‚¹æï¼Œä»Šå¤©è¡¥ä¸€è¡¥è¿™æ–¹é¢çš„æ“ä½œã€‚ã€‚ã€‚ã€‚ Jupyter Notebooks&ensp;&ensp;Jupyter Notebooks æ˜¯ä¸€æ¬¾å¼€æºçš„ç½‘ç»œåº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç”¨äºåˆ›å»ºå’Œå…±äº«ä»£ç ä¸æ–‡æ¡£ã€‚å…¶æä¾›äº†ä¸€ä¸ªç¯å¢ƒï¼Œä½ æ— éœ€ç¦»å¼€è¿™ä¸ªç¯å¢ƒï¼Œå°±å¯ä»¥åœ¨å…¶ä¸­ç¼–å†™ä½ çš„ä»£ç ã€è¿è¡Œä»£ç ã€æŸ¥çœ‹è¾“å‡ºã€å¯è§†åŒ–æ•°æ®å¹¶æŸ¥çœ‹ç»“æœã€‚å› æ­¤ï¼Œè¿™æ˜¯ä¸€æ¬¾å¯æ‰§è¡Œç«¯åˆ°ç«¯çš„æ•°æ®ç§‘å­¦å·¥ä½œæµç¨‹çš„ä¾¿æ·å·¥å…·ï¼Œå…¶ä¸­åŒ…æ‹¬æ•°æ®æ¸…ç†ã€ç»Ÿè®¡å»ºæ¨¡ã€æ„å»ºå’Œè®­ç»ƒæœºå™¨å­¦ä¹ æ¨¡å‹ã€å¯è§†åŒ–æ•°æ®ç­‰ç­‰ã€‚ å®‰è£…pip install ipython jupyter ä¸Šæ‰‹ä¸Šæ‰‹åœ¨ç»ˆç«¯è¾“å…¥jupyter notebookå¯åŠ¨Jupyter notebooks,å®ƒä¼šåœ¨é»˜è®¤æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œåœ°å€æ˜¯http://localhost:8888/treeã€‚ æ–°å»ºä¸ªPythonæ–‡ä»¶è¯•è¯• Jupyterå¸¸ç”¨é”®ç›˜å¿«æ·é”®escå’Œenterç”¨äºåˆ‡æ¢Jupyterçš„é”®ç›˜è¾“å…¥æ¨¡å¼ï¼Œescåˆ‡æ¢ä¸ºå‘½ä»¤æ¨¡å¼ï¼ˆblueï¼‰ï¼Œenteråˆ‡æ¢ä¸ºç¼–è¾‘æ¨¡å¼ï¼ˆgreenï¼‰ å‘½ä»¤æ¨¡å¼(å¸¸ç”¨) è¿ç»­æŒ‰ä¸¤ä¸‹Dï¼Œåˆ é™¤å½“å‰æ´»è·ƒå•å…ƒ æŒ‰Aåœ¨æ´»è·ƒå•å…ƒä¸Šæ’å…¥ä¸€ä¸ªå•å…ƒï¼ŒæŒ‰Båœ¨æ´»è·ƒå•å…ƒä¸‹æ’å…¥ä¸€ä¸ªå•å…ƒ æŒ‰Zæ’¤é”€è¢«åˆ é™¤çš„å•å…ƒ æŒ‰Yå°†å½“å‰å•å…ƒå˜ä¸ºä»£ç å•å…ƒ æŒ‰Shift+æ–¹å‘ä¸Šä¸‹é”®é€‰æ‹©å¤šä¸ªå•å…ƒï¼ŒæŒ‰Shift+Må¯ä»¥åˆå¹¶é€‰æ‹©çš„å•å…ƒ Ctrl+Shift+Fç”¨äºæ‰“å¼€å‘½ä»¤é¢æ¿ æŒ‰HæŸ¥çœ‹å¿«æ·é”®å®Œæ•´åˆ—è¡¨ ç¼–è¾‘æ¨¡å¼ï¼ˆå¸¸ç”¨ï¼‰ Ctrl+Sä¿å­˜ï¼ˆé˜²æ­»æœº(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§ï¼‰ Ctrl+Homeå›åˆ°å•å…ƒèµ·å§‹ä½ç½® Ctrl+Enterè¿è¡Œæ•´ä¸ªå•å…ƒå— Alt+Enterè¿è¡Œå½“å‰æ´»è·ƒå•å…ƒå—ï¼Œå¹¶åœ¨å½“å‰æ´»è·ƒå•å…ƒå—ä¸‹æ–¹åˆ›å»ºæ–°çš„å•å…ƒå— emmmå¯ä»¥åˆ’æ°´äº†ã€‚ã€‚ã€‚ã€‚ äº†è§£æ›´å¤šï¼š å§‹äºJupyter Notebooksï¼šä¸€ä»½å…¨é¢çš„åˆå­¦è€…å®ç”¨æŒ‡å— jupyter notebookä½¿ç”¨æŠ€å·§ Jupyterä»‹ç»å’Œä½¿ç”¨ ä¸­æ–‡ç‰ˆ","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"}]},{"title":"Pythonå¤šè¿›ç¨‹&&å¤šçº¿ç¨‹ï¼ˆåˆæ­¥ï¼‰","slug":"Pythonå¤šè¿›ç¨‹-å¤šçº¿ç¨‹","date":"2019-05-11T21:40:32.000Z","updated":"2019-05-11T21:40:32.000Z","comments":true,"path":"2019/05/11/Pythonå¤šè¿›ç¨‹-å¤šçº¿ç¨‹/","permalink":"https://yeshan333.github.io/2019/05/11/Python%E5%A4%9A%E8%BF%9B%E7%A8%8B-%E5%A4%9A%E7%BA%BF%E7%A8%8B/","excerpt":"è¿›ç¨‹ &amp;&amp; çº¿ç¨‹ è¿›ç¨‹ï¼šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿä¸­æ‰§è¡Œçš„ä¸€ä¸ªç¨‹åºï¼Œæ“ä½œç³»ç»Ÿä»¥è¿›ç¨‹ä¸ºå•ä½åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ã€æ•°æ®æ ˆä»¥åŠå…¶ä»–ç”¨äºè·Ÿè¸ªè¿›ç¨‹æ‰§è¡Œçš„è¾…åŠ©æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿç®¡ç†æ‰€æœ‰è¿›ç¨‹çš„æ‰§è¡Œï¼Œä¸ºå®ƒä»¬åˆç†çš„åˆ†é…èµ„æºã€‚è¿›ç¨‹å¯ä»¥é€šè¿‡forkæˆ–è€…wpawnçš„æ–¹å¼æ¥åˆ›å»ºæ–°çš„è¿›ç¨‹æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œä¸è¿‡æ–°çš„è¿›ç¨‹æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´å’Œæ•°æ®æ ˆï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡è¿›ç¨‹é—´çš„é€šä¿¡æœºåˆ¶ï¼ˆIPCï¼ŒInter Process Communicationï¼‰æ¥å®ç°æ•°æ®å…±äº«ï¼Œå…·ä½“çš„æ–¹å¼åŒ…æ‹¬ç®¡é“ã€ä¿¡å·ã€å¥—æ¥å­—ã€å…±äº«å†…å­˜ç­‰ã€‚ çº¿ç¨‹ï¼šè¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒã€‚çº¿ç¨‹åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­æ‰§è¡Œï¼Œå…±äº«ç¨‹åºçš„ä¸Šä¸‹æ–‡ã€‚ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å„ä¸ªçº¿ç¨‹ä¸ä¸»çº¿ç¨‹å…±äº«åŒä¸€ç‰‡æ•°æ®ç©ºé—´ï¼Œå› è€Œç›¸æ¯”ä¸ç‹¬ç«‹çš„è¿›ç¨‹ï¼Œçº¿ç¨‹é—´çš„ä¿¡æ¯å…±äº«å’Œé€šä¿¡æ›´ä¸ºå®¹æ˜“ã€‚çº¿ç¨‹ä¸€èˆ¬æ˜¯ä»¥å¹¶å‘çš„æ–¹å¼æ‰§è¡Œçš„ã€‚æ³¨æ„åœ¨å•æ ¸CPUç³»ç»Ÿä¸­ï¼ŒçœŸæ­£çš„å¹¶å‘æ˜¯ä¸å¯èƒ½çš„ï¼Œæ‰€ä»¥æ–°åŸçš„æ‰§è¡Œå®é™…ä¸Šæ˜¯è¿™æ ·è§„åˆ’çš„ï¼šæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€å°ä¼šï¼Œç„¶åè®©æ­¥ç»™å…¶ä»–çº¿ç¨‹çš„ä»»åŠ¡ï¼ˆå†æ¬¡æ’é˜Ÿç­‰å€™æ›´å¤šçš„CPUæ‰§è¡Œæ—¶é—´ï¼‰ã€‚åœ¨æ•´ä¸ªçº¿ç¨‹çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œå®ƒè‡ªå·±çš„ç‰¹å®šçš„ä»»åŠ¡ï¼Œåœ¨å¿…è¦æ—¶å’Œå…¶ä»–è¿›ç¨‹è¿›è¡Œç»“æœé€šä¿¡ã€‚ Pythonå¤šè¿›ç¨‹ï¼ˆä½¿ç”¨multiprocessingï¼‰1234567891011121314151617181920212223242526from time import time, sleepfrom random import randintfrom multiprocessing import Processdef my_task(name): sleep_time = randint(1,10) sleep(sleep_time) print(&quot;ä½ å«äº†ä¸€å£°%sï¼Œå®ƒé¸Ÿä½ ç”¨äº†%dç§’&quot; % (name, sleep_time))def main(): start = time() process_1 = Process(target=my_task, args=[&quot;yeshan&quot;, ]) process_2 = Process(target=my_task, args=[&quot;foel&quot;, ]) # å¯åŠ¨è¿›ç¨‹ process_1.start() process_2.start() # ç­‰å¾…è¿›ç¨‹æ‰§è¡Œç»“æŸ process_1.join() process_2.join() end = time() print(&quot;ä¸€å…±èŠ±è´¹äº†%fç§’&quot; % (end-start))if __name__ == &#x27;__main__&#x27;: main()","text":"è¿›ç¨‹ &amp;&amp; çº¿ç¨‹ è¿›ç¨‹ï¼šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿä¸­æ‰§è¡Œçš„ä¸€ä¸ªç¨‹åºï¼Œæ“ä½œç³»ç»Ÿä»¥è¿›ç¨‹ä¸ºå•ä½åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ã€æ•°æ®æ ˆä»¥åŠå…¶ä»–ç”¨äºè·Ÿè¸ªè¿›ç¨‹æ‰§è¡Œçš„è¾…åŠ©æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿç®¡ç†æ‰€æœ‰è¿›ç¨‹çš„æ‰§è¡Œï¼Œä¸ºå®ƒä»¬åˆç†çš„åˆ†é…èµ„æºã€‚è¿›ç¨‹å¯ä»¥é€šè¿‡forkæˆ–è€…wpawnçš„æ–¹å¼æ¥åˆ›å»ºæ–°çš„è¿›ç¨‹æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œä¸è¿‡æ–°çš„è¿›ç¨‹æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´å’Œæ•°æ®æ ˆï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡è¿›ç¨‹é—´çš„é€šä¿¡æœºåˆ¶ï¼ˆIPCï¼ŒInter Process Communicationï¼‰æ¥å®ç°æ•°æ®å…±äº«ï¼Œå…·ä½“çš„æ–¹å¼åŒ…æ‹¬ç®¡é“ã€ä¿¡å·ã€å¥—æ¥å­—ã€å…±äº«å†…å­˜ç­‰ã€‚ çº¿ç¨‹ï¼šè¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒã€‚çº¿ç¨‹åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­æ‰§è¡Œï¼Œå…±äº«ç¨‹åºçš„ä¸Šä¸‹æ–‡ã€‚ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å„ä¸ªçº¿ç¨‹ä¸ä¸»çº¿ç¨‹å…±äº«åŒä¸€ç‰‡æ•°æ®ç©ºé—´ï¼Œå› è€Œç›¸æ¯”ä¸ç‹¬ç«‹çš„è¿›ç¨‹ï¼Œçº¿ç¨‹é—´çš„ä¿¡æ¯å…±äº«å’Œé€šä¿¡æ›´ä¸ºå®¹æ˜“ã€‚çº¿ç¨‹ä¸€èˆ¬æ˜¯ä»¥å¹¶å‘çš„æ–¹å¼æ‰§è¡Œçš„ã€‚æ³¨æ„åœ¨å•æ ¸CPUç³»ç»Ÿä¸­ï¼ŒçœŸæ­£çš„å¹¶å‘æ˜¯ä¸å¯èƒ½çš„ï¼Œæ‰€ä»¥æ–°åŸçš„æ‰§è¡Œå®é™…ä¸Šæ˜¯è¿™æ ·è§„åˆ’çš„ï¼šæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€å°ä¼šï¼Œç„¶åè®©æ­¥ç»™å…¶ä»–çº¿ç¨‹çš„ä»»åŠ¡ï¼ˆå†æ¬¡æ’é˜Ÿç­‰å€™æ›´å¤šçš„CPUæ‰§è¡Œæ—¶é—´ï¼‰ã€‚åœ¨æ•´ä¸ªçº¿ç¨‹çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œå®ƒè‡ªå·±çš„ç‰¹å®šçš„ä»»åŠ¡ï¼Œåœ¨å¿…è¦æ—¶å’Œå…¶ä»–è¿›ç¨‹è¿›è¡Œç»“æœé€šä¿¡ã€‚ Pythonå¤šè¿›ç¨‹ï¼ˆä½¿ç”¨multiprocessingï¼‰1234567891011121314151617181920212223242526from time import time, sleepfrom random import randintfrom multiprocessing import Processdef my_task(name): sleep_time = randint(1,10) sleep(sleep_time) print(&quot;ä½ å«äº†ä¸€å£°%sï¼Œå®ƒé¸Ÿä½ ç”¨äº†%dç§’&quot; % (name, sleep_time))def main(): start = time() process_1 = Process(target=my_task, args=[&quot;yeshan&quot;, ]) process_2 = Process(target=my_task, args=[&quot;foel&quot;, ]) # å¯åŠ¨è¿›ç¨‹ process_1.start() process_2.start() # ç­‰å¾…è¿›ç¨‹æ‰§è¡Œç»“æŸ process_1.join() process_2.join() end = time() print(&quot;ä¸€å…±èŠ±è´¹äº†%fç§’&quot; % (end-start))if __name__ == &#x27;__main__&#x27;: main() æˆ‘ä»¬é€šè¿‡Processç±»åˆ›å»ºäº†è¿›ç¨‹å¯¹è±¡ï¼Œé€šè¿‡targetå‚æ•°æˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªå‡½æ•°æ¥è¡¨ç¤ºè¿›ç¨‹å¯åŠ¨åè¦æ‰§è¡Œçš„ä»£ç ï¼Œåé¢çš„argsæ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œå®ƒä»£è¡¨äº†ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€‚Processå¯¹è±¡çš„startæ–¹æ³•ç”¨æ¥å¯åŠ¨è¿›ç¨‹ï¼Œjoinæ–¹æ³•è¡¨ç¤ºç­‰å¾…è¿›ç¨‹æ‰§è¡Œç»“æŸã€‚ Pythonå¤šçº¿ç¨‹ï¼ˆä½¿ç”¨threadingï¼‰123456789101112131415161718192021222324252627282930313233#!/usr/bin/env python#-*- coding:utf-8 -*-from time import time, sleepfrom random import randintfrom threading import Threaddef download(filename): print(&quot;å¼€å§‹ä¸‹è½½ %s ...&quot; % filename) download_time = randint(1,10) sleep(download_time) print(&quot;ä¸‹è½½å®Œæˆï¼è€—æ—¶ %d ç§’&quot; % download_time)def main(): start = time() t1 = Thread(target=download, args=(&#x27;é»‘æš—åœ°å®«&#x27;,)) t1.start() t2 = Thread(target=download, args=(&#x27;é€šå¤©&#x27;,)) t2.start() t1.join() t2.join() end = time() print(&quot;ä¸‹è½½æ€»å…±è€—æ—¶ %.3f ç§’&quot; % (end-start))if __name__ == &#x27;__main__&#x27;: main() ** ç»§æ‰¿Threadç±»ï¼Œå®ç°è‡ªå®šä¹‰çº¿ç¨‹ç±» ** 123456789101112131415161718192021222324252627282930313233343536373839#-*- coding:utf-8 -*-from time import time, sleepfrom random import randintfrom threading import Threadclass DownLoadTask(Thread): def __init__(self, filename): super().__init__() #åˆå§‹åŒ–çˆ¶ç±»çš„æ„é€ å‡½æ•° self._filename = filename # ç§æœ‰çš„ def run(self): print(&quot;å¼€å§‹ä¸‹è½½ %s ...&quot; % self._filename) download_time = randint(1,10) sleep(download_time) print(&quot;%sä¸‹è½½å®Œæˆï¼è€—æ—¶ %d ç§’&quot; % (self._filename, download_time))def main(): strat = time() t1 = DownLoadTask(&quot;ä»èœé¸Ÿåˆ°èœé¸¡&quot;) t1.start() t2 = DownLoadTask(&quot;å»å“ªé‡Œå•Šå¼Ÿå¼Ÿ&quot;) t2.start() t1.join() t2.join() end = time() print(&quot;ä¸‹è½½å®Œæˆï¼Œæ€»å…±è€—è´¹ %.3f ç§’&quot; % (end-strat))if __name__ == &#x27;__main__&#x27;: main() çº¿ç¨‹é—´çš„é€šä¿¡ å› ä¸ºå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤è¦å®ç°å¤šä¸ªçº¿ç¨‹é—´çš„é€šä¿¡ç›¸å¯¹ç®€å•ï¼Œå¤§å®¶èƒ½æƒ³åˆ°çš„æœ€ç›´æ¥çš„åŠæ³•å°±æ˜¯è®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«è¿™ä¸ªå…¨å±€å˜é‡å³å¯ã€‚ä½†æ˜¯å½“å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€ä¸ªå˜é‡ï¼ˆæˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºâ€œèµ„æºâ€ï¼‰çš„æ—¶å€™ï¼Œå¾ˆæœ‰å¯èƒ½äº§ç”Ÿä¸å¯æ§çš„ç»“æœä»è€Œå¯¼è‡´ç¨‹åºå¤±æ•ˆç”šè‡³å´©æºƒã€‚å¦‚æœä¸€ä¸ªèµ„æºè¢«å¤šä¸ªçº¿ç¨‹ç«äº‰ä½¿ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºâ€œä¸´ç•Œèµ„æºâ€ï¼Œå¯¹â€œä¸´ç•Œèµ„æºâ€çš„è®¿é—®éœ€è¦åŠ ä¸Šä¿æŠ¤ï¼Œå¦åˆ™èµ„æºä¼šå¤„äºâ€œæ··ä¹±â€çš„çŠ¶æ€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâ€œé”â€å°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡â€œé”â€æ¥ä¿æŠ¤â€œä¸´ç•Œèµ„æºâ€ï¼Œåªæœ‰è·å¾—â€œé”â€çš„çº¿ç¨‹æ‰èƒ½è®¿é—®â€œä¸´ç•Œèµ„æºâ€ï¼Œè€Œå…¶ä»–æ²¡æœ‰å¾—åˆ°â€œé”â€çš„çº¿ç¨‹åªèƒ½è¢«é˜»å¡èµ·æ¥ï¼Œç›´åˆ°è·å¾—â€œé”â€çš„çº¿ç¨‹é‡Šæ”¾äº†â€œé”â€ï¼Œå…¶ä»–çº¿ç¨‹æ‰æœ‰æœºä¼šè·å¾—â€œé”â€ï¼Œè¿›è€Œè®¿é—®è¢«ä¿æŠ¤çš„â€œä¸´ç•Œèµ„æºâ€ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455from time import sleepfrom threading import Thread, Lockclass Account(object): def __init__(self): self._balance = 0 self._lock = Lock() def deposit(self, money): # å…ˆè·å–é”æ‰èƒ½è·å–åé¢çš„ä»£ç  self._lock.acquire() try: # è®¡ç®—å­˜æ¬¾åçš„ä½™é¢ new_balance = self._balance + money # æ¨¡æ‹Ÿå—ç†å­˜æ¬¾ä¸šåŠ¡éœ€è¦0.01ç§’çš„æ—¶é—´ sleep(0.01) # ä¿®æ”¹è´¦æˆ·ä½™é¢ self._balance = new_balance finally: self._lock.release() @property def balance(self): return self._balanceclass AddMoneyThread(Thread): def __init__(self, account, money): super().__init__() self._account = account self._money = money def run(self): self._account.deposit(self._money)def main(): account = Account() threads = [] # åˆ›å»º100ä¸ªå­˜æ¬¾çš„çº¿ç¨‹å‘åŒä¸€ä¸ªè´¦æˆ·ä¸­å­˜é’± for _ in range(100): t = AddMoneyThread(account, 1) threads.append(t) t.start() # ç­‰æ‰€æœ‰å­˜æ¬¾çš„çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯• for t in threads: t.join() print(&#x27;è´¦æˆ·ä½™é¢ä¸º: ï¿¥%då…ƒ&#x27; % account.balance)if __name__ == &#x27;__main__&#x27;: main() è¾“å‡ºç»“æœä¸º100å—ï¼Œä¸ç”¨é”ä¸º2å— ** Pythonå†…ç½®è£…é¥°å™¨ property ** *** propertyè£…é¥°å™¨ä¸€èˆ¬å­˜åœ¨äºç±»ä¸­ï¼Œå¯ä»¥å°†ä¸€ä¸ªå‡½æ•°å®šä¹‰æˆä¸€ä¸ªå±æ€§ï¼Œå±æ€§çš„å€¼å°±æ˜¯è¯¥å‡½æ•°returnçš„å†…å®¹ *** 1234567891011121314class Student(object): # æŠŠä¸€ä¸ªæ–¹æ³•å˜æˆå±æ€§ @property def score(self): return self._score # setteræŠŠä¸€ä¸ªæ–¹æ³•å˜æˆä¸€ä¸ªå¯æ§å±æ€§ç”¨äºèµ‹å€¼ @score.setter def score(self, value): if not isinstance(value, int): raise ValueError(&#x27;score must be an integer!&#x27;) if value &lt; 0 or value &gt; 100: raise ValueError(&#x27;score must between 0 ~ 100!&#x27;) self._score = value å‚è€ƒï¼š ä¸€ç¯‡æ–‡ç« ææ‡‚è£…é¥°å™¨çš„ç”¨æ³• https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/Day13/%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B.md","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"}]},{"title":"HTTPieçš„ä½¿ç”¨","slug":"HTTPieçš„ä½¿ç”¨","date":"2019-04-23T23:47:48.000Z","updated":"2019-04-23T23:47:48.000Z","comments":true,"path":"2019/04/23/HTTPieçš„ä½¿ç”¨/","permalink":"https://yeshan333.github.io/2019/04/23/HTTPie%E7%9A%84%E4%BD%BF%E7%94%A8/","excerpt":"HTTPie","text":"HTTPieï¼ˆå‘éŸ³ä¸ºaitch-tee-tee-pieï¼‰æ˜¯ä¸€ä¸ªå‘½ä»¤è¡ŒHTTPå®¢æˆ·ç«¯ã€‚å…¶ç›®æ ‡æ˜¯ä½¿ä¸WebæœåŠ¡çš„CLIäº¤äº’å°½å¯èƒ½äººæ€§åŒ–ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€å•çš„httpå‘½ä»¤ï¼Œå…è®¸ä½¿ç”¨ç®€å•è‡ªç„¶çš„è¯­æ³•å‘é€ä»»æ„HTTPè¯·æ±‚ï¼Œå¹¶æ˜¾ç¤ºå½©è‰²è¾“å‡ºã€‚HTTPieå¯ç”¨äºæµ‹è¯•ï¼Œè°ƒè¯•ä»¥åŠé€šå¸¸ä¸HTTPæœåŠ¡å™¨äº¤äº’ã€‚ HTTPieå®˜æ–¹æ–‡æ¡£ https://httpie.org/doc windowsä¸‹å®‰è£… pip install --upgrade httpie HTTPieçš„ç®€å•ä½¿ç”¨ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è¯­å¥çš„å¤§æ¦‚æ ·å­http [é€‰é¡¹(flags)] [æ–¹æ³•] URL [æŸ¥è¯¢å­—ç¬¦ä¸²/æ•°æ®å­—æ®µ/é¦–éƒ¨å­—æ®µ] HTTPieæ•°æ®è¯­æ³• ç±»å‹ ç¬¦å· ç¤ºä¾‹ URLå‚æ•° &#x3D;&#x3D; param&#x3D;&#x3D;value é¦–éƒ¨å­—æ®µ : Name:value æ•°æ®å­—æ®µ &#x3D; field&#x3D;value åŸç”ŸJSONå­—æ®µ :&#x3D; field:&#x3D;json è¡¨å•ä¸Šä¼ å­—æ®µ @ field@dir&#x2F;file ç¤ºä¾‹1234567891011121314# ä¸‹è½½æ–‡ä»¶$ http --download www.jb51.net/my_file.zip# æäº¤è¡¨å•$ http -f POST www.jb51.net name=&#x27;Dan Nanni&#x27; comment=&#x27;Hi there&#x27;# HTTPieçš„é»˜è®¤æ•°æ®ç±»å‹ä¸ºJSONæ ¼å¼çš„$ http PUT example.org name=John email=john@example.org# ä½¿ç”¨ä»£ç†$ http --proxy=http:http://10.10.1.10:3128 --proxy=https:https://10.10.1.10:1080 example.org# å®šåˆ¶è¯·æ±‚å¤´$ http www.test.com User-Agent:Xmodulo/1.0 Referer:http://www.imike.me MyParam:Foo æ”¾ç€å…ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å ä¸ªä½","categories":[],"tags":[]},{"title":"Git Branch Practice","slug":"Git-Branch-Practice","date":"2019-04-08T12:52:55.000Z","updated":"2019-04-08T12:52:55.000Z","comments":true,"path":"2019/04/08/Git-Branch-Practice/","permalink":"https://yeshan333.github.io/2019/04/08/Git-Branch-Practice/","excerpt":"Git Branch Practice","text":"æœ€è¿‘åœ¨å¼„ä¸€ä¸ªä¸œè¥¿ï¼ŒåŸºæœ¬çš„åŠŸèƒ½å·²ç»å¼„å¥½äº†ï¼Œç°åœ¨æƒ³å†æ‰©å±•ä¸€èµ·å…¶ä»–åŠŸèƒ½ï¼Œä½†è¿™æ ·åŠ¿å¿…ä¼šæ”¹åŠ¨åŸæœ‰ä»£ç ï¼Œæˆ‘åˆä¸æƒ³ç ´ååŸæœ‰çš„ä»£ç é€»è¾‘ï¼Œæ–¹ä¾¿ä»¥åæŸ¥çœ‹ã€‚è®°å¾—Gitæœ‰ä¸ªåˆ†æ”¯å·¥ä½œæµå¯ä»¥å¾ˆå¥½çš„æ»¡è¶³æˆ‘çš„éœ€æ±‚(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§ã€‚emmmï¼Œå¾ˆä¹…æ²¡å‘æ–‡äº†ï¼Œrecordä¸€ä¸‹å§ã€‚(ãƒã¸ï¿£ã€) ä½¿ç”¨åˆ°çš„å‘½ä»¤12345678910111213$ git branch # æ˜¾ç¤ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯$ git branch &lt;new branch&gt; # åˆ›å»ºæ–°åˆ†æ”¯$ git checkout &lt;branch&gt; # åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯$ git branch -d &lt;branch&gt; # åˆ é™¤æœ¬åœ°åˆ†æ”¯$ git push --set-upstream origin &lt;branch&gt; # å°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å…³è”$ git push origin --delete &lt;branch&gt; # åˆ é™¤è¿œç¨‹åˆ†æ”¯$ git tag -n # åˆ—å‡ºæ‰€æœ‰æœ¬åœ°æ ‡ç­¾ä»¥åŠç›¸å…³ä¿¡æ¯$ git tag &lt;tagname&gt; # åŸºäºæœ€æ–°æäº¤åˆ›å»ºæ ‡ç­¾&amp; git tag &lt;tagname&gt; -m &quot;å¤‡æ³¨ä¿¡æ¯&quot; # åŸºäºæœ€æ–°æäº¤åˆ›å»ºå«å¤‡æ³¨ä¿¡æ¯çš„æ ‡ç­¾$ git tag -d &lt;tagname&gt; # åˆ é™¤æ ‡ç­¾$ git push orign &lt;tagname&gt; # å°†æŒ‡å®šä¿¡æ¯æ¨é€åˆ°è¿œç¨‹ä»“åº“$ git push --tags # æ¨é€æ‰€æœ‰æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ æ“ä½œ~æ“ä½œ emmmï¼Œé¡ºä¾¿è¯•è¯•tag","categories":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/tags/Git/"}]},{"title":"åæ§½","slug":"åæ§½","date":"2019-03-22T00:51:31.000Z","updated":"2019-03-22T00:51:31.000Z","comments":true,"path":"2019/03/22/åæ§½/","permalink":"https://yeshan333.github.io/2019/03/22/%E5%90%90%E6%A7%BD/","excerpt":"","text":"better and better","categories":[],"tags":[]},{"title":"æˆ‘ä¸vimçš„äº²å¯†æ¥è§¦(Ë‰â–½ï¿£ï½)","slug":"æˆ‘ä¸vimçš„äº²å¯†æ¥è§¦","date":"2019-03-20T23:51:17.000Z","updated":"2019-03-20T23:51:17.000Z","comments":true,"path":"2019/03/20/æˆ‘ä¸vimçš„äº²å¯†æ¥è§¦/","permalink":"https://yeshan333.github.io/2019/03/20/%E6%88%91%E4%B8%8Evim%E7%9A%84%E4%BA%B2%E5%AF%86%E6%8E%A5%E8%A7%A6/","excerpt":"emmmï¼Œé—²æ¥æ— äº‹ï¼Œæ‰“ç®—äº†è§£ä¸‹ç¥å¥‡vimï¼ˆç”¨æ¥zhuangbiï¼‰ã€‚åœ¨ç»ˆç«¯æ“ä½œå¾ˆå¸…(Ë‰â–½ï¿£ï½)~~ï¼ä»€ä¹ˆæ˜¯vimï¼Ÿï¼ŸVimæ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚ vi&#x2F;vimçš„ä½¿ç”¨vi&#x2F;vimæœ‰ä¸‰ç§æ¨¡å¼ï¼š å‘½ä»¤æ¨¡å¼ï¼šæ§åˆ¶å…‰æ ‡ç§»åŠ¨ï¼Œå¯å¯¹æ–‡æœ¬è¿›è¡Œå¤åˆ¶ã€ç²˜è´´ã€åˆ é™¤å’ŒæŸ¥æ‰¾ç­‰å·¥ä½œã€‚åˆšå¯åŠ¨æ—¶å°±æ˜¯è¿™ä¸ªæ¨¡å¼ã€‚ è¾“å…¥æ¨¡å¼ï¼šæ­£å¸¸çš„æ–‡æœ¬å½•å…¥ã€‚ æœ«è¡Œæ¨¡å¼ï¼šä¿å­˜æˆ–é€€å‡ºæ–‡æ¡£ï¼Œä»¥åŠè®¾ç½®ç¼–è¾‘ç¯å¢ƒã€‚åˆå¯æˆä¸ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚","text":"emmmï¼Œé—²æ¥æ— äº‹ï¼Œæ‰“ç®—äº†è§£ä¸‹ç¥å¥‡vimï¼ˆç”¨æ¥zhuangbiï¼‰ã€‚åœ¨ç»ˆç«¯æ“ä½œå¾ˆå¸…(Ë‰â–½ï¿£ï½)~~ï¼ä»€ä¹ˆæ˜¯vimï¼Ÿï¼ŸVimæ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚ vi&#x2F;vimçš„ä½¿ç”¨vi&#x2F;vimæœ‰ä¸‰ç§æ¨¡å¼ï¼š å‘½ä»¤æ¨¡å¼ï¼šæ§åˆ¶å…‰æ ‡ç§»åŠ¨ï¼Œå¯å¯¹æ–‡æœ¬è¿›è¡Œå¤åˆ¶ã€ç²˜è´´ã€åˆ é™¤å’ŒæŸ¥æ‰¾ç­‰å·¥ä½œã€‚åˆšå¯åŠ¨æ—¶å°±æ˜¯è¿™ä¸ªæ¨¡å¼ã€‚ è¾“å…¥æ¨¡å¼ï¼šæ­£å¸¸çš„æ–‡æœ¬å½•å…¥ã€‚ æœ«è¡Œæ¨¡å¼ï¼šä¿å­˜æˆ–é€€å‡ºæ–‡æ¡£ï¼Œä»¥åŠè®¾ç½®ç¼–è¾‘ç¯å¢ƒã€‚åˆå¯æˆä¸ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚ å¸¸ç”¨å‘½ä»¤å‘½ä»¤æ¨¡å¼å¸¸ç”¨å‘½ä»¤ï¼š å‘½ä»¤ ä½œç”¨ dd åˆ é™¤ï¼ˆå‰ªåˆ‡ï¼‰å…‰æ ‡æ‰€åœ¨æ•´è¡Œ 5dd åˆ é™¤ï¼ˆå‰ªåˆ‡ï¼‰ä»å…‰æ ‡å¤„å¼€å§‹çš„5è¡Œ yy å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„æ•´è¡Œ 5yy å¤åˆ¶ä»å…‰æ ‡å¤„å¼€å§‹çš„5è¡Œ n æ˜¾ç¤ºæœç´¢å‘½ä»¤å®šä½åˆ°çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸² N æ˜¾ç¤ºæœç´¢å‘½ä»¤å®šä½åˆ°çš„ä¸Šä¸€ä¸ªå­—ç¬¦ä¸² u æ’¤é”€ä¸Šä¸€æ­¥çš„æ“ä½œ p å°†ä¹‹å‰åˆ é™¤ï¼ˆddï¼‰æˆ–å¤åˆ¶ï¼ˆyyï¼‰è¿‡çš„æ•°æ®ç²˜è´´åˆ°å…‰æ ‡åé¢ æœ«è¡Œæ¨¡å¼å¯ç”¨å‘½ä»¤ï¼š å‘½ä»¤ ä½œç”¨ :w ä¿å­˜ :q é€€å‡º :q! å¼ºåˆ¶é€€å‡ºï¼ˆæ”¾å¼ƒå¯¹æ–‡æ¡£å†…å®¹çš„ä¿®æ”¹ï¼‰ :wq! å¼ºåˆ¶ä¿å­˜é€€å‡º :set nu æ˜¾ç¤ºè¡Œå· :set nonu ä¸æ˜¾ç¤ºè¡Œå· :å‘½ä»¤ æ‰§è¡Œè¯¥å‘½ä»¤ :æ•´æ•° è·³è½¬åˆ°è¯¥è¡Œ :s&#x2F;one&#x2F;two å°†å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªoneæ›¿æ¢æˆtwo :s&#x2F;one&#x2F;two&#x2F;p å°†å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„æ‰€æœ‰oneæ›¿æ¢æˆtwo :%s&#x2F;one&#x2F;two&#x2F;g å°†å…¨æ–‡ä¸­çš„æ‰€æœ‰oneæ›¿æ¢æˆtwo ?å­—ç¬¦ä¸² åœ¨æ–‡æœ¬ä¸­ä»ä¸‹åˆ°ä¸Šæœç´¢è¯¥å­—ç¬¦ä¸² &#x2F;å­—ç¬¦ä¸² åœ¨æ–‡æœ¬ä¸­ä»ä¸Šåˆ°ä¸‹æœç´¢è¯¥å­—ç¬¦ä¸² æˆ‘ä¸å®ƒçš„äº²å¯†æ¥è§¦ã€‚ã€‚ã€‚ã€‚ã€‚ ç›¸å…³ vimå®˜ç½‘ï¼šhttps://www.vim.org/ vimå¿«æ·é”®é”®ä½å›¾ï¼šhttps://www.jianshu.com/p/8b986f572a61","categories":[{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/tags/Linux/"}]},{"title":"SQLAlchemyå»ºç«‹æ•°æ®åº“æ¨¡å‹ä¹‹é—´çš„å…³ç³»","slug":"SQLAlchemyå»ºç«‹æ•°æ®åº“æ¨¡å‹ä¹‹é—´çš„å…³ç³»","date":"2019-03-20T17:45:17.000Z","updated":"2019-03-20T17:45:17.000Z","comments":true,"path":"2019/03/20/SQLAlchemyå»ºç«‹æ•°æ®åº“æ¨¡å‹ä¹‹é—´çš„å…³ç³»/","permalink":"https://yeshan333.github.io/2019/03/20/SQLAlchemy%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9E%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/","excerpt":"å¸¸è§å…³ç³»ï¼š ä¸€å¯¹å¤šå…³ç³» å¤šå¯¹ä¸€å…³ç³» å¤šå¯¹å¤šå…³ç³» ä¸€å¯¹ä¸€å…³ç³» ä¸€å¯¹å¤šå…³ç³»ï¼ˆä¸€ä¸ªä½œè€…ï¼Œå¤šç¯‡æ–‡ç« ï¼‰123456789101112131415161718192021222324252627282930## ä¸€å¯¹å¤šå…³ç³»ï¼Œå•ä½œè€…-å¤šæ–‡ç« ï¼Œå¤–é”®ä¸å¯å°‘## å¤–é”®(ForeignKey)æ€»åœ¨å¤šçš„é‚£è¾¹å®šä¹‰,å…³ç³»(relationship)æ€»åœ¨å•çš„é‚£è¾¹å®šä¹‰class Author(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(70), unique=True) phone = db.Column(db.String(20)) # articlesä¸ºå…³ç³»å±æ€§(ä¸€ä¸ªé›†åˆï¼Œå¯ä»¥åƒåˆ—è¡¨ä¸€æ ·æ“ä½œï¼Œåœ¨å…³ç³»çš„å‡ºå‘ä¾§å®šä¹‰ ## relationship()å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå…³ç³»å¦ä¸€ä¾§çš„æ¨¡å‹åç§°(Article) articles = db.relationship(&#x27;Article&#x27;)class Article(db.Model): id = db.Column(db.Integer, primary_key=True) title = db.Column(db.String(15), index=True) body = db.Column(db.Text) # ä¼ å…¥ForeignKeyçš„å‚æ•°å½¢å¼ä¸ºï¼š&quot;è¡¨å.å­—æ®µå&quot; ## æ¨¡å‹ç±»å¯¹åº”çš„è¡¨åç”±Flask-SQLAlchemyç”Ÿæˆï¼Œé»˜è®¤ä¸ºç±»åç§°çš„å°å†™å½¢å¼ï¼Œå¤šä¸ªå•è¯é€šè¿‡ä¸‹åˆ’çº¿åˆ†éš” author_id = db.Column(db.Integer, db.ForeignKey(&#x27;author.id&#x27;)) ## å¤–é”®å­—æ®µ(author_id)å’Œå…³ç³»å±æ€§(articles)çš„å‘½åæ²¡æœ‰é™åˆ¶## å»ºç«‹å…³ç³»å¯é€šè¿‡æ“ä½œå…³ç³»å±æ€§è¿›è¡Œ&gt;&gt;&gt;shansan = Author(name=&quot;shansan&quot;)&gt;&gt;&gt;hello = Article(title=&quot;Hello world !&quot;)&gt;&gt;&gt;boy = Article(title=&quot;Hello Boy !&quot;)&gt;&gt;&gt;db.session.add(shansan) # å°†åˆ›å»ºçš„æ•°æ®åº“è®°å½•æ·»åŠ åˆ°ä¼šè¯ä¸­&gt;&gt;&gt;db.session.add(hello)&gt;&gt;&gt;db.session.add(boy)&gt;&gt;&gt;shansan.articles.append(hello) # æ“ä½œå…³ç³»å±æ€§&gt;&gt;&gt;shansan.articles.append(boy)&gt;&gt;&gt;db.session.commit()","text":"å¸¸è§å…³ç³»ï¼š ä¸€å¯¹å¤šå…³ç³» å¤šå¯¹ä¸€å…³ç³» å¤šå¯¹å¤šå…³ç³» ä¸€å¯¹ä¸€å…³ç³» ä¸€å¯¹å¤šå…³ç³»ï¼ˆä¸€ä¸ªä½œè€…ï¼Œå¤šç¯‡æ–‡ç« ï¼‰123456789101112131415161718192021222324252627282930## ä¸€å¯¹å¤šå…³ç³»ï¼Œå•ä½œè€…-å¤šæ–‡ç« ï¼Œå¤–é”®ä¸å¯å°‘## å¤–é”®(ForeignKey)æ€»åœ¨å¤šçš„é‚£è¾¹å®šä¹‰,å…³ç³»(relationship)æ€»åœ¨å•çš„é‚£è¾¹å®šä¹‰class Author(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(70), unique=True) phone = db.Column(db.String(20)) # articlesä¸ºå…³ç³»å±æ€§(ä¸€ä¸ªé›†åˆï¼Œå¯ä»¥åƒåˆ—è¡¨ä¸€æ ·æ“ä½œï¼Œåœ¨å…³ç³»çš„å‡ºå‘ä¾§å®šä¹‰ ## relationship()å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå…³ç³»å¦ä¸€ä¾§çš„æ¨¡å‹åç§°(Article) articles = db.relationship(&#x27;Article&#x27;)class Article(db.Model): id = db.Column(db.Integer, primary_key=True) title = db.Column(db.String(15), index=True) body = db.Column(db.Text) # ä¼ å…¥ForeignKeyçš„å‚æ•°å½¢å¼ä¸ºï¼š&quot;è¡¨å.å­—æ®µå&quot; ## æ¨¡å‹ç±»å¯¹åº”çš„è¡¨åç”±Flask-SQLAlchemyç”Ÿæˆï¼Œé»˜è®¤ä¸ºç±»åç§°çš„å°å†™å½¢å¼ï¼Œå¤šä¸ªå•è¯é€šè¿‡ä¸‹åˆ’çº¿åˆ†éš” author_id = db.Column(db.Integer, db.ForeignKey(&#x27;author.id&#x27;)) ## å¤–é”®å­—æ®µ(author_id)å’Œå…³ç³»å±æ€§(articles)çš„å‘½åæ²¡æœ‰é™åˆ¶## å»ºç«‹å…³ç³»å¯é€šè¿‡æ“ä½œå…³ç³»å±æ€§è¿›è¡Œ&gt;&gt;&gt;shansan = Author(name=&quot;shansan&quot;)&gt;&gt;&gt;hello = Article(title=&quot;Hello world !&quot;)&gt;&gt;&gt;boy = Article(title=&quot;Hello Boy !&quot;)&gt;&gt;&gt;db.session.add(shansan) # å°†åˆ›å»ºçš„æ•°æ®åº“è®°å½•æ·»åŠ åˆ°ä¼šè¯ä¸­&gt;&gt;&gt;db.session.add(hello)&gt;&gt;&gt;db.session.add(boy)&gt;&gt;&gt;shansan.articles.append(hello) # æ“ä½œå…³ç³»å±æ€§&gt;&gt;&gt;shansan.articles.append(boy)&gt;&gt;&gt;db.session.commit() åŸºäºä¸€å¯¹å¤šçš„åŒå‘å…³ç³»ï¼ˆbidirectional relationshipï¼‰åœ¨è¿™é‡Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥åœ¨Bookç±»ä¸­å­˜åœ¨è¿™æ ·ä¸€ä¸ªå±æ€§ï¼šé€šè¿‡è°ƒç”¨å®ƒå¯ä»¥è·å–å¯¹åº”çš„ä½œè€…çš„è®°å½•ï¼Œè¿™ç±»è¿”å›å•ä¸ªå€¼çš„å…³ç³»å±æ€§ç§°ä¸ºæ ‡é‡å…³ç³»å±æ€§ 1234567891011121314151617181920212223# å»ºç«‹åŒå‘å…³ç³»æ—¶ï¼Œå…³ç³»ä¸¤è¾¹éƒ½æœ‰å…³ç³»å‡½æ•°# åœ¨å…³ç³»å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨back_populateså‚æ•°è¿æ¥å¯¹æ–¹ï¼Œå‚æ•°çš„å€¼è®¾ç½®ä¸ºå…³ç³»å¦ä¸€ä¾§çš„å…³ç³»å±æ€§åclass Writer(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(64), unique=True) # back_populatesçš„å‚æ•°å€¼ä¸ºå…³ç³»å¦ä¸€ä¾§çš„å…³ç³»å±æ€§å books = db.relationship(&#x27;Book&#x27;, back_populates=&#x27;writer&#x27;) def __repr__(self): return &#x27;&lt;Writer %r&gt;&#x27; % self.nameclass Book(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(50), index=True) writer_id = db.Column(db.Integer, db.ForeignKey(&#x27;writer.id&#x27;)) writer = db.relationship(&#x27;Writer&#x27;, back_populates=&#x27;books&#x27;) def __repr__(self): return &#x27;&lt;Book %r&gt;&#x27; % self.name# è®¾ç½®åŒå‘å±æ€§åï¼Œæˆ‘ä»¬æ—¢å¯ä»¥é€šè¿‡é›†åˆå±æ€§æ“ä½œå…³ç³»ï¼Œä¹Ÿå¯é€šè¿‡æ ‡é‡å…³ç³»å±æ€§æ“ä½œå…³ç³» å¤šå¯¹ä¸€å…³ç³»ï¼ˆå¤šä¸ªå¸‚æ°‘éƒ½åœ¨åŒä¸€ä¸ªåŸå¸‚ï¼‰123456789101112# å¤–é”®æ€»åœ¨å¤šçš„ä¸€ä¾§å®šä¹‰## å¤šå¯¹ä¸€å…³ç³»ä¸­ï¼Œå¤–é”®å’Œå…³ç³»å±æ€§éƒ½åœ¨å¤šçš„ä¸€ä¾§å®šä¹‰## è¿™é‡Œçš„å…³ç³»å±æ€§æ˜¯æ ‡é‡å…³ç³»å±æ€§ï¼ˆè¿”å›å•ä¸€æ•°æ®ï¼‰class Citizen(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(20), unique=True) city_id = db.Column(db.Integer, db.ForeignKey(&#x27;city.id&#x27;)) city = db.relationship(&#x27;City&#x27;)class City(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(20), unique=True) ä¸€å¯¹ä¸€å…³ç³»ï¼ˆå›½å®¶å’Œé¦–éƒ½ï¼‰12345678910111213## ä¸€å¯¹ä¸€å…³ç³»ï¼Œå°†å…³ç³»å‡½æ•°çš„uselistå‚æ•°è®¾ä¸ºFalseï¼Œä½¿å¾—é›†åˆå…³ç³»å±æ€§æ— æ³•ä½¿ç”¨åˆ—è¡¨è¯­ä¹‰æ“ä½œ## è¿™é‡Œä½¿ç”¨çš„æ˜¯ä¸€å¯¹ä¸€åŒå‘å…³ç³»class Country(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(20), unique=True) capital = db.relationship(&#x27;Capital&#x27;, uselist=False)class Capital(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(20), unique=True) country_id= db.Column(db.Integer, db.ForeignKey(&#x27;country.id&#x27;)) country = db.relationship(&#x27;Country&#x27;) å¤šå¯¹å¤šåŒå‘å…³ç³»ï¼ˆè€å¸ˆå’Œå­¦ç”Ÿï¼‰ å¤šå¯¹å¤šå…³ç³»çš„å»ºç«‹éœ€è¦ä½¿ç”¨å…³è”è¡¨ï¼ˆassociation tableï¼‰ã€‚å…³è”è¡¨ä¸å­˜å‚¨æ•°æ®ï¼Œåªç”¨æ¥å­˜å‚¨å…³ç³»ä¸¤ä¾§æ¨¡å‹çš„å¤–é”®å¯¹åº”å…³ç³» å®šä¹‰å…³ç³»ä¸¤ä¾§çš„å…³ç³»å‡½æ•°æ—¶ï¼Œéœ€è¦æ·»åŠ ä¸€ä¸ªsecondaryå‚æ•°ï¼Œå€¼è®¾ä¸ºå…³è”è¡¨çš„åç§° å…³è”è¡¨ç”±ä½¿ç”¨db.Tableç±»å®šä¹‰ï¼Œä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå…³è”è¡¨çš„åç§° æˆ‘ä»¬åœ¨å…³è”è¡¨ä¸­å°†å¤šå¯¹å¤šçš„å…³ç³»åˆ†åŒ–æˆäº†ä¸¤ä¸ªä¸€å¯¹å¤šçš„å…³ç³» 123456789101112131415161718192021## å¤šå¯¹å¤šå…³ç³»ï¼Œä½¿ç”¨å…³è”è¡¨ï¼ˆassociation tableï¼‰ï¼Œå…³è”è¡¨ç”±db.Tableå®šä¹‰## å…³ç³»å‡½æ•°éœ€è¦è®¾ç½®secondaryå‚æ•°ï¼Œå€¼ä¸ºå…³ç³»è¡¨åassociation_table = db.Table(&#x27;association_table&#x27;, db.Column(&#x27;student_id&#x27;, db.Integer, db.ForeignKey(&#x27;teacher.id&#x27;)), db.Column(&#x27;teacher_id&#x27;, db.Integer, db.ForeignKey(&#x27;student.id&#x27;)) )class Student(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(70), unique=True) grade = db.Column(db.String(20)) teachers = db.relationship(&#x27;Teacher&#x27;, secondary=association_table,back_populates=&#x27;students&#x27;)class Teacher(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(70), unique=True) office = db.Column(db.String(20)) students = db.relationship(&#x27;Student&#x27;, secondary=association_table, back_populates=&#x27;teachers&#x27;) å¸¸ç”¨çš„SQLAlchemyå…³ç³»å‡½æ•°å‚æ•°å’Œå¸¸ç”¨çš„SQLAlchemyå…³ç³»è®°å½•åŠ è½½æ–¹å¼ï¼ˆlazyå‚æ•°å¯é€‰å€¼ï¼‰ ä½¿ç”¨å…³ç³»å‡½æ•°å®šä¹‰çš„å±æ€§ä¸æ˜¯æ•°æ®åº“å­—æ®µï¼Œè€Œæ˜¯ç±»ä¼¼äºç‰¹å®šçš„æŸ¥è¯¢å‡½æ•° å½“å…³ç³»å±æ€§è¢«è°ƒç”¨æ—¶ï¼Œå…³ç³»å‡½æ•°ä¼šåŠ è½½ç›¸åº”çš„è®°å½• ç›¸å…³http://www.sqlalchemy.org/ https://github.com/sqlalchemy/sqlalchemy https://github.com/mitsuhiko/flask-sqlalchemy","categories":[{"name":"Flask","slug":"Flask","permalink":"https://yeshan333.github.io/categories/Flask/"}],"tags":[{"name":"Flask","slug":"Flask","permalink":"https://yeshan333.github.io/tags/Flask/"}]},{"title":"Flaskçš„è¯·æ±‚é’©å­ä¸ä¸Šä¸‹æ–‡ç®€è®°","slug":"Flaskçš„è¯·æ±‚é’©å­ä¸ä¸Šä¸‹æ–‡ç®€è®°","date":"2019-03-16T22:32:05.000Z","updated":"2019-03-16T22:32:05.000Z","comments":true,"path":"2019/03/16/Flaskçš„è¯·æ±‚é’©å­ä¸ä¸Šä¸‹æ–‡ç®€è®°/","permalink":"https://yeshan333.github.io/2019/03/16/Flask%E7%9A%84%E8%AF%B7%E6%B1%82%E9%92%A9%E5%AD%90%E4%B8%8E%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%80%E8%AE%B0/","excerpt":"è¯·æ±‚é’©å­(Hook) åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤äº’çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›å‡†å¤‡å·¥ä½œæˆ–æ‰«å°¾å·¥ä½œéœ€è¦å¤„ç†ï¼Œæ¯”å¦‚ï¼šåœ¨è¯·æ±‚å¼€å§‹æ—¶ï¼Œå»ºç«‹æ•°æ®åº“è¿æ¥ï¼›åœ¨è¯·æ±‚ç»“æŸæ—¶ï¼ŒæŒ‡å®šæ•°æ®çš„äº¤äº’æ ¼å¼ã€‚ä¸ºäº†è®©&gt;æ¯ä¸ªè§†å›¾å‡½æ•°é¿å…ç¼–å†™é‡å¤åŠŸèƒ½çš„ä»£ç ï¼ŒFlaskæä¾›äº†é€šç”¨è®¾æ–½çš„åŠŸèƒ½ï¼Œå³è¯·æ±‚é’©å­ã€‚é€šè¿‡è¯·æ±‚é’©å­ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¯·æ±‚è¿›è¡Œé¢„å¤„ç†(preprocessing)å’Œåå¤„ç†&gt;(postprocessing)ã€‚ Flaskçš„è¯·æ±‚é’©å­é€šè¿‡è£…é¥°å™¨å®ç°ï¼Œæ¯ä¸ªé’©å­å¯ä»¥æ³¨å†Œä»»æ„å¤šä¸ªå¤„ç†å‡½æ•°ï¼Œé»˜è®¤çš„äº”ç§è¯·æ±‚é’©å­å¦‚ä¸‹: é’©å­ è¯´æ˜ before_first_request æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å¤„ç†è¯·æ±‚å‰è¿è¡Œ before_request æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å¤„ç†æ¯ä¸ªè¯·æ±‚å‰è¿è¡Œ after_request æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœæœ‰æœªå¤„ç†çš„ä¸€åœºæŠ›å‡ºã€‚ä¼šåœ¨æ¯ä¸ªè¯·æ±‚ç»“æŸåè¿è¡Œ teardown_request æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œå³ä½¿æœ‰æœªå¤„ç†çš„å¼‚å¸¸æŠ›å‡ºï¼Œä¼šåœ¨æ¯ä¸ªè¯·æ±‚ä»‹ç»åæ‰§è¡Œã€‚å¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œä¼šä¼ å…¥å¼‚å¸¸å¯¹è±¡ä½œä¸ºå‚æ•°æ³¨å†Œåˆ°å‡½æ•°ä¸­ after_this_request åœ¨è§†å›¾å‡½æ•°å†…æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™ä¸ªè¯·æ±‚ç»“æŸåè¿è¡Œ","text":"è¯·æ±‚é’©å­(Hook) åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤äº’çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›å‡†å¤‡å·¥ä½œæˆ–æ‰«å°¾å·¥ä½œéœ€è¦å¤„ç†ï¼Œæ¯”å¦‚ï¼šåœ¨è¯·æ±‚å¼€å§‹æ—¶ï¼Œå»ºç«‹æ•°æ®åº“è¿æ¥ï¼›åœ¨è¯·æ±‚ç»“æŸæ—¶ï¼ŒæŒ‡å®šæ•°æ®çš„äº¤äº’æ ¼å¼ã€‚ä¸ºäº†è®©&gt;æ¯ä¸ªè§†å›¾å‡½æ•°é¿å…ç¼–å†™é‡å¤åŠŸèƒ½çš„ä»£ç ï¼ŒFlaskæä¾›äº†é€šç”¨è®¾æ–½çš„åŠŸèƒ½ï¼Œå³è¯·æ±‚é’©å­ã€‚é€šè¿‡è¯·æ±‚é’©å­ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¯·æ±‚è¿›è¡Œé¢„å¤„ç†(preprocessing)å’Œåå¤„ç†&gt;(postprocessing)ã€‚ Flaskçš„è¯·æ±‚é’©å­é€šè¿‡è£…é¥°å™¨å®ç°ï¼Œæ¯ä¸ªé’©å­å¯ä»¥æ³¨å†Œä»»æ„å¤šä¸ªå¤„ç†å‡½æ•°ï¼Œé»˜è®¤çš„äº”ç§è¯·æ±‚é’©å­å¦‚ä¸‹: é’©å­ è¯´æ˜ before_first_request æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å¤„ç†è¯·æ±‚å‰è¿è¡Œ before_request æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å¤„ç†æ¯ä¸ªè¯·æ±‚å‰è¿è¡Œ after_request æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœæœ‰æœªå¤„ç†çš„ä¸€åœºæŠ›å‡ºã€‚ä¼šåœ¨æ¯ä¸ªè¯·æ±‚ç»“æŸåè¿è¡Œ teardown_request æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œå³ä½¿æœ‰æœªå¤„ç†çš„å¼‚å¸¸æŠ›å‡ºï¼Œä¼šåœ¨æ¯ä¸ªè¯·æ±‚ä»‹ç»åæ‰§è¡Œã€‚å¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œä¼šä¼ å…¥å¼‚å¸¸å¯¹è±¡ä½œä¸ºå‚æ•°æ³¨å†Œåˆ°å‡½æ•°ä¸­ after_this_request åœ¨è§†å›¾å‡½æ•°å†…æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™ä¸ªè¯·æ±‚ç»“æŸåè¿è¡Œ å‡å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸‰ä¸ªè§†å›¾å‡½æ•°Aã€Bã€Cï¼Œå…¶ä¸­è§†å›¾Cä½¿ç”¨äº†after_this_requesté’©å­ï¼Œé‚£ä¹ˆå½“è¯·æ±‚Aè¿›å…¥åï¼Œæ•´ä¸ªè¯·æ±‚å¤„ç†å‘¨æœŸçš„è¯·æ±‚å¤„ç†å‡½æ•°è°ƒç”¨æµç¨‹å¦‚å›¾: ä¸Šä¸‹æ–‡ ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡ï¼Ÿä¸Šä¸‹æ–‡ç›¸å½“äºä¸€ä¸ªå®¹å™¨ï¼Œå®ƒä¿å­˜äº†ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­çš„ä¸€äº›ä¿¡æ¯ï¼Œå®ƒæ˜¯å½“å‰ç¯å¢ƒçš„ä¸€ä¸ªå¿«ç…§(snapshot)ã€‚Flaskä¸­æœ‰ä¸¤ç§ä¸Šä¸‹æ–‡ï¼Œç¨‹åºä¸Šä¸‹æ–‡(application context)å’Œè¯·æ±‚ä¸Šä¸‹æ–‡(request context)ã€‚ç¨‹åºä¸Šä¸‹æ–‡ä¸­åŒ…å«äº†ç¨‹åºè¿è¡Œæ‰€å¿…é¡»çš„ä¿¡æ¯ï¼›è¯·æ±‚ä¸Šä¸‹æ–‡é‡ŒåŒ…å«äº†è¯·æ±‚çš„å„ç§ä¿¡æ¯ï¼Œæ¯”å¦‚è¯·æ±‚çš„URLã€HTTPæ–¹æ³•ç­‰ ä¸Šä¸‹æ–‡å…¨å±€å˜é‡æˆ‘ä»¬çŸ¥é“ï¼ŒFlaskå°†è¯·æ±‚æŠ¥æ–‡å°è£…åœ¨requestå¯¹è±¡ä¸­ã€‚æŒ‰ç…§ä¸€èˆ¬çš„æ€è·¯ï¼Œå¦‚æœæˆ‘ä»¬è¦åœ¨è§†å›¾å‡½æ•°ä¸­ä½¿ç”¨å®ƒï¼Œå°±å¾—æŠŠå®ƒä½œä¸ºå‚æ•°ä¼ å…¥è§†å›¾å‡½æ•°ï¼Œå°±åƒæˆ‘ä»¬æ¥æ”¶URLå˜é‡ä¸€æ ·ã€‚ä½†è¿™æ ·å°±ä¼šå¯¼è‡´å¤§é‡çš„é‡å¤ï¼Œè€Œä¸”å¢åŠ äº†çš„ç¨‹åºçš„è´Ÿæ‹…ã€‚ä¸ä¸€èˆ¬çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»Flaskå¯¼å…¥ä¸€ä¸ªå…¨å±€çš„requestå˜é‡ï¼Œåœ¨è§†å›¾å‡½æ•°ä¸­ç›´æ¥è°ƒç”¨requestçš„å±æ€§è·å–æ•°æ®ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºFlaskä¼šåœ¨æ¯ä¸ªè¯·æ±‚äº§ç”Ÿååè‡ªåŠ¨æ¿€æ´»å½“å‰è¯·æ±‚çš„ä¸Šä¸‹æ–‡ï¼Œæ¿€æ´»è¯·æ±‚ä¸Šä¸‹æ–‡åï¼Œrequestè¢«ä¸´æ—¶è®¾ç½®ä¸ºå…¨å±€å¯è®¿é—®ã€‚åœ¨æ¯ä¸ªè¯·æ±‚ç»“æŸåï¼ŒFlaskå°±ä¼šé”€æ¯å¯¹åº”çš„è¯·æ±‚ä¸Šä¸‹æ–‡ã€‚ Flaskæä¾›çš„å››ä¸ªä¸Šä¸‹æ–‡å…¨å±€å˜é‡å¦‚ä¸‹ï¼š å˜é‡å ä¸Šä¸‹æ–‡ç±»åˆ« è¯´æ˜ current_app ç¨‹åºä¸Šä¸‹æ–‡ æŒ‡å‘å¤„ç†è¯·æ±‚çš„å½“å‰ç¨‹åºå®ä¾‹ g ç¨‹åºä¸Šä¸‹æ–‡ æ›¿ä»£Pythonçš„å…¨å±€å˜é‡ç”¨æ³•ï¼Œç¡®ä¿ä»…åœ¨å½“å‰è¯·æ±‚å¯ç”¨ï¼Œç”¨äºå­˜å‚¨å…¨å±€æ•°æ®ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šé‡è®¾ request è¯·æ±‚ä¸Šä¸‹æ–‡ å°è£…å®¢æˆ·ç«¯å‘å‡ºçš„è¯·æ±‚æŠ¥æ–‡æ•°æ® session è¯·æ±‚ä¸Šä¸‹æ–‡ ç”¨äºè®°ä½è¯·æ±‚ä¹‹é—´çš„æ•°æ®ï¼Œé€šè¿‡ç­¾åçš„Cookieå®ç° ä¸åŒçš„è§†å›¾å‡½æ•°ä¸­ï¼Œrequestå¯¹è±¡éƒ½è¡¨ç¤ºå’Œè§†å›¾å‡½æ•°å¯¹åº”çš„è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å½“å‰è¯·æ±‚ ç¨‹åºå­˜åœ¨å¤šä¸ªç¨‹åºå®ä¾‹çš„æƒ…å†µï¼Œä½¿ç”¨current_appå¯è·å–å¯¹åº”çš„å®ä¾‹ ä¸Šä¸‹æ–‡çš„æ¿€æ´»è¯·æ±‚è¿›å…¥æ—¶ï¼ŒFlaskä¼šè‡ªåŠ¨æ¿€æ´»è¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œæ­¤æ—¶ç¨‹åºä¸Šä¸‹æ–‡ä¹Ÿè¢«è‡ªåŠ¨æ¿€æ´»ã€‚è¯·æ±‚å¤„ç†å®Œæ¯•åï¼Œè¯·æ±‚ä¸Šä¸‹æ–‡å’Œç¨‹åºä¸Šä¸‹æ–‡ä¹Ÿä¼šè‡ªåŠ¨é”€æ¯ã€‚ä¸¤è€…å…·æœ‰ç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸã€‚ Flaskè‡ªåŠ¨æ¿€æ´»ä¸Šä¸‹æ–‡çš„æƒ…å†µï¼š ä½¿ç”¨flask runå‘½ä»¤å¯åŠ¨ç¨‹åºæ—¶ ä½¿ç”¨æ—§çš„app.run()æ–¹æ³•å¯åŠ¨ç¨‹åºæ—¶ æ‰§è¡Œä½¿ç”¨@app.cli.command()è£…é¥°å™¨æ³¨å†Œçš„flaskå‘½ä»¤æ—¶ ä½¿ç”¨flask shellå‘½ä»¤å¯åŠ¨Python Shellæ—¶ æ‰‹åŠ¨æ¿€æ´»çš„æ–¹æ³•: ä½¿ç”¨withè¯­å¥ï¼Œç¨‹åºä¸Šä¸‹æ–‡å¯¹è±¡å¯é€šè¿‡app.app_context()è·å– ä½¿ç”¨pushï¼ˆï¼‰æ–¹æ³•æ¿€æ´»ç¨‹åºä¸Šä¸‹æ–‡ è¯·æ±‚ä¸Šä¸‹æ–‡å¯ä»¥é€šè¿‡test_request_context()æ–¹æ³•ä¸´æ—¶åˆ›å»º 12345&gt;&gt;&gt; from app import app&gt;&gt;&gt; from flask import current_app&gt;&gt;&gt; with app.app_context(): ... current_app.name&#x27;app&#x27; 1234567&gt;&gt;&gt; from app import app&gt;&gt;&gt; from flask import current_app&gt;&gt;&gt; app_ctx = app.app_context()&gt;&gt;&gt; app_ctx.push()&gt;&gt;&gt; current_app.name&#x27;app&#x27;&gt;&gt;&gt; app_ctx.pop() 12345&gt;&gt;&gt; from app import app&gt;&gt;&gt; from flask import request&gt;&gt;&gt; with app.test_request_context(&#x27;/hello&#x27;):... request.method&#x27;GET&#x27; å‚è€ƒï¼šhttps://book.douban.com/subject/30310340/","categories":[{"name":"Flask","slug":"Flask","permalink":"https://yeshan333.github.io/categories/Flask/"}],"tags":[{"name":"Flask","slug":"Flask","permalink":"https://yeshan333.github.io/tags/Flask/"}]},{"title":"å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°GitHubè¿œç¨‹ä»“åº“","slug":"å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°GitHubè¿œç¨‹ä»“åº“","date":"2019-03-08T23:59:28.000Z","updated":"2019-03-08T23:59:28.000Z","comments":true,"path":"2019/03/08/å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°GitHubè¿œç¨‹ä»“åº“/","permalink":"https://yeshan333.github.io/2019/03/08/%E5%B0%86%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E6%8E%A8%E9%80%81%E5%88%B0GitHub%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/","excerpt":"å¦‚ä½•å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°Github Tipï¼šåœ¨æœ¬åœ°è¦å®‰è£…å¥½Gitï¼Œå®˜ç½‘ï¼šhttps://git-scm.com/ ä¸€ä¸ªå­¦ä¹ Gitçš„å¥½åœ°æ–¹ï¼šhttps://try.github.io/ åœ¨çº¿é—¯å…³å®æˆ˜ï¼Œè¾¹ç»ƒè¾¹å­¦çš„å¥½åœ°æ–¹ï¼šhttps://learngitbranching.js.org/ æ–¹æ³•ä¸€ï¼šä½¿ç”¨httpsæ¨é€12345678910111213# æ­¥éª¤# 1.åˆ›å»ºä¸€ä¸ªç›®å½•mkdir Test# 2.å°†å½“å‰ç›®å½•å˜ä¸ºgitç®¡ç†ä»“åº“git init# 3.å°†æ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“ï¼Œè¿™é‡Œå°†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ·»åŠ è¿›å»äº†git add .# 4.å‘Šè¯‰gitå°†æ–‡ä»¶æäº¤åˆ°ä»“åº“git commit -m &quot;first-commit&quot;# 5.å°†å½“å‰ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”git remote add origin è¿œç¨‹ä»“åº“çš„httpsåœ°å€ # eg: git remote add https://github.com/ssmath/Test.git# 6.å°†ä»“åº“å†…masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“,è¿™é‡Œä¼šä½¿ç”¨åˆ°Githubçš„è´¦å·å¯†ç git push -u origin master","text":"å¦‚ä½•å°†æœ¬åœ°é¡¹ç›®æ¨é€åˆ°Github Tipï¼šåœ¨æœ¬åœ°è¦å®‰è£…å¥½Gitï¼Œå®˜ç½‘ï¼šhttps://git-scm.com/ ä¸€ä¸ªå­¦ä¹ Gitçš„å¥½åœ°æ–¹ï¼šhttps://try.github.io/ åœ¨çº¿é—¯å…³å®æˆ˜ï¼Œè¾¹ç»ƒè¾¹å­¦çš„å¥½åœ°æ–¹ï¼šhttps://learngitbranching.js.org/ æ–¹æ³•ä¸€ï¼šä½¿ç”¨httpsæ¨é€12345678910111213# æ­¥éª¤# 1.åˆ›å»ºä¸€ä¸ªç›®å½•mkdir Test# 2.å°†å½“å‰ç›®å½•å˜ä¸ºgitç®¡ç†ä»“åº“git init# 3.å°†æ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“ï¼Œè¿™é‡Œå°†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ·»åŠ è¿›å»äº†git add .# 4.å‘Šè¯‰gitå°†æ–‡ä»¶æäº¤åˆ°ä»“åº“git commit -m &quot;first-commit&quot;# 5.å°†å½“å‰ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”git remote add origin è¿œç¨‹ä»“åº“çš„httpsåœ°å€ # eg: git remote add https://github.com/ssmath/Test.git# 6.å°†ä»“åº“å†…masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“,è¿™é‡Œä¼šä½¿ç”¨åˆ°Githubçš„è´¦å·å¯†ç git push -u origin master æ–¹æ³•äºŒï¼šä½¿ç”¨sshæ¨é€ ç”Ÿæˆsshå¯†é’¥ 12ssh-keygen -t rsa -C &quot;your email address&quot;# eg: ssh-keygen -t rsa -C &quot;1329441308@qq.com&quot; æ‰¾åˆ°ç”Ÿæˆçš„æ–‡ä»¶ï¼Œå¤åˆ¶id_rsa.pubæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ–‡ä»¶ä¸€èˆ¬åœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„.sshç›®å½•ä¸­ ä½¿ç”¨å¯†é’¥ä¸è¿œç¨‹ä»“åº“é…å¯¹ï¼Œæ£€éªŒèƒ½å¦æˆåŠŸé€šè®¯ ssh -T git@github.com # æ£€éªŒèƒ½å¦æˆåŠŸé€šè®¯ æ¨é€æœ¬åœ°æ–‡ä»¶åˆ°github","categories":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/tags/Git/"}]},{"title":"vscodeé…ç½®Pipenvå·¥ä½œç¯å¢ƒ","slug":"vscodeé…ç½®Pipenvå·¥ä½œç¯å¢ƒ","date":"2019-03-03T23:25:30.000Z","updated":"2019-03-03T23:25:30.000Z","comments":true,"path":"2019/03/03/vscodeé…ç½®Pipenvå·¥ä½œç¯å¢ƒ/","permalink":"https://yeshan333.github.io/2019/03/03/vscode%E9%85%8D%E7%BD%AEPipenv%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83/","excerpt":"è®©vscodeä½¿ç”¨Pipenvå·¥ä½œç¯å¢ƒ1ã€æŸ¥çœ‹Pipenvçš„ä½ç½®1234# å…ˆæ¿€æ´»Pipenvç¯å¢ƒpipenv shell# è·å–å½“å‰è™šæ‹Ÿç¯å¢ƒçš„ä½ç½®pipenv --venv 2ã€æ‰“å¼€setting.jsoné…ç½®æ–‡ä»¶ Ctrl+Shift+Pï¼Œè¾“å…¥settingsï¼Œé€‰æ‹©Open Settings(JSon) å°†ä¹‹å‰å¾—åˆ°çš„Pipenvç¯å¢ƒè·¯å¾„æ·»åŠ è¿›å» â€œpython.venvPathâ€: â€œC:\\Users\\Algorithm\\.virtualenvsâ€","text":"è®©vscodeä½¿ç”¨Pipenvå·¥ä½œç¯å¢ƒ1ã€æŸ¥çœ‹Pipenvçš„ä½ç½®1234# å…ˆæ¿€æ´»Pipenvç¯å¢ƒpipenv shell# è·å–å½“å‰è™šæ‹Ÿç¯å¢ƒçš„ä½ç½®pipenv --venv 2ã€æ‰“å¼€setting.jsoné…ç½®æ–‡ä»¶ Ctrl+Shift+Pï¼Œè¾“å…¥settingsï¼Œé€‰æ‹©Open Settings(JSon) å°†ä¹‹å‰å¾—åˆ°çš„Pipenvç¯å¢ƒè·¯å¾„æ·»åŠ è¿›å» â€œpython.venvPathâ€: â€œC:\\Users\\Algorithm\\.virtualenvsâ€ 3ã€é‡å¯vscode å‚è€ƒhttps://segmentfault.com/a/1190000017558652 https://blog.csdn.net/weixin_34294649&#x2F;article&#x2F;details&#x2F;87518937","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"}]},{"title":"Happy New Year !","slug":"Happy-New-Year","date":"2019-02-05T00:00:00.000Z","updated":"2019-02-05T00:00:00.000Z","comments":true,"path":"2019/02/05/Happy-New-Year/","permalink":"https://yeshan333.github.io/2019/02/05/Happy-New-Year/","excerpt":"","text":"12345678910111213141516171819202122232425262728Cï¼šprintf(&quot;Happy New Year&quot;);C++ : cout&lt;&lt;&quot;Happy New Year&quot;;Objectivec: NSLog(@&quot;Happy New Year!&quot;);QBasic : Print &quot;Happy New Year&quot;Asp : Response.Write &quot;Happy New Year&quot;PHP : echo &quot;Happy New Year&quot;;Ruby: puts &quot;Happy New Year!&quot;JavaScript: alert(&quot;Happy New Year&quot;)VBScript:MsgBox &quot;Happy New Year&quot;JavaScript: document.write(&quot;Happy New Year&quot;)JavaScript: console.log(&#x27; Happy New Year&#x27;);xml &lt;TextView android:text=&quot;Happy New Year! &quot; /&gt;Delphi: ShowMessage(&#x27;Happy New Yearï¼&#x27;);VB: Msg(&quot;Happy New Yearï¼&quot;)VC: MessageBox(&quot;Happy New Yearï¼&quot;);shell: echo Happy New Yearperl: print &#x27;Happy New Year&#x27;java: System.out.println(&quot;Happy New Year&quot;);LISP:(format t &quot;Happy New Year!~%&quot;)powerBuilder:messageboxï¼ˆ&quot;Happy New Year&quot;)C#ï¼šSystem.Console.WriteLine(&quot;Happy New Year!&quot;)COBOL:DISPLAY &#x27;Happy New Year!&#x27;Python:print(&quot;Happy New Yearï¼&quot;)aswing:JOptionPane.showMessageDialog(&quot;happy&quot;,&quot;Happy New Yearï¼&quot;)flex:Alert.show(&quot;Happy New Yearï¼&quot;);Clojure: (println &quot;Happy New Year&quot;)verilog/systemverilog/e $display(&quot;Happy New Year&quot;)as:trace(&quot;Happy New Yearï¼&quot;);","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"HTML&&CSS(åˆ’æ°´~~~)","slug":"HTML-CSS-åˆ’æ°´","date":"2019-01-22T17:09:40.000Z","updated":"2019-01-22T17:09:40.000Z","comments":true,"path":"2019/01/22/HTML-CSS-åˆ’æ°´/","permalink":"https://yeshan333.github.io/2019/01/22/HTML-CSS-%E5%88%92%E6%B0%B4/","excerpt":"HTML(è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)HTMLæ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ã€‚ HTMLå±æ€§ IDå±æ€§æŒ‡å®šä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†é¡µé¢å…ƒç´ ï¼Œè¿™äº›æ ‡è¯†ç¬¦ä¸»è¦ä¾›Javascriptå’ŒCSSä½¿ç”¨ classå±æ€§æ˜¯ä¸€ä¸ªå…¨å±€å±æ€§ï¼Œå¯ç”¨äºå»ºç«‹å…ƒç´ ç¼–ç»„ã€‚å¯ä»¥ç»™å¤šä¸ªå…ƒç´ æŒ‡å®šç›¸åŒçš„classå±æ€§ï¼Œä»¥ä¾¿åœ¨CSSæˆ–Javascriptä¸­å°†è¿™äº›å…ƒç´ ä½œä¸ºä¸€ä¸ªç¼–ç»„æ¥å¼•ç”¨å®ƒä»¬ styleå±æ€§ç”¨äºå®šä¹‰æ ‡ç­¾çš„æ ·å¼ã€‚ä»»ä½•æ ‡ç­¾ä¸­éƒ½å¯ä»¥æŒ‡å®šå±æ€§styleã€‚ä½¿ç”¨styleå±æ€§å¯ä»¥ä¸ºæ ‡ç­¾æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªæ ·å¼è§„åˆ™ï¼Œ** åœ¨styleå®šä¹‰å¤šæ¡è§„åˆ™çš„æ–¹æ³•æ˜¯ç”¨åˆ†å·å°†ä»–ä»¬åˆ†å¼€ **","text":"HTML(è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)HTMLæ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ã€‚ HTMLå±æ€§ IDå±æ€§æŒ‡å®šä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†é¡µé¢å…ƒç´ ï¼Œè¿™äº›æ ‡è¯†ç¬¦ä¸»è¦ä¾›Javascriptå’ŒCSSä½¿ç”¨ classå±æ€§æ˜¯ä¸€ä¸ªå…¨å±€å±æ€§ï¼Œå¯ç”¨äºå»ºç«‹å…ƒç´ ç¼–ç»„ã€‚å¯ä»¥ç»™å¤šä¸ªå…ƒç´ æŒ‡å®šç›¸åŒçš„classå±æ€§ï¼Œä»¥ä¾¿åœ¨CSSæˆ–Javascriptä¸­å°†è¿™äº›å…ƒç´ ä½œä¸ºä¸€ä¸ªç¼–ç»„æ¥å¼•ç”¨å®ƒä»¬ styleå±æ€§ç”¨äºå®šä¹‰æ ‡ç­¾çš„æ ·å¼ã€‚ä»»ä½•æ ‡ç­¾ä¸­éƒ½å¯ä»¥æŒ‡å®šå±æ€§styleã€‚ä½¿ç”¨styleå±æ€§å¯ä»¥ä¸ºæ ‡ç­¾æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªæ ·å¼è§„åˆ™ï¼Œ** åœ¨styleå®šä¹‰å¤šæ¡è§„åˆ™çš„æ–¹æ³•æ˜¯ç”¨åˆ†å·å°†ä»–ä»¬åˆ†å¼€ ** HTMLçš„åˆ—è¡¨åˆ—è¡¨æ ‡ç­¾çš„ç‰¹å¾ï¼š æ¯ä¸ªåˆ—è¡¨éƒ½æœ‰ä¸€ä¸ªæŒ‡å®šåˆ—è¡¨ç±»å‹çš„å¤–éƒ¨å…ƒç´ ã€‚ æ¯ä¸ªåˆ—è¡¨é¡¹éƒ½æœ‰è‡ªå·±çš„æ ‡ç­¾ã€‚ 12345æ— åºåˆ—è¡¨ï¼š&lt;ul&gt;&lt;/ul&gt;æœ‰åºåˆ—è¡¨ï¼š&lt;ol&gt;&lt;/ol&gt;å®šä¹‰åˆ—è¡¨ï¼š&lt;dl&gt;&lt;/dl&gt;è¯æ±‡åˆ—è¡¨çš„åˆ—è¡¨é¡¹ä¸º&lt;dt&gt;&lt;dd&gt;å…¶ä»–åˆ—è¡¨çš„åˆ—è¡¨é¡¹ä¸º&lt;li&gt; æœ‰åºåˆ—è¡¨ï¼ˆolï¼‰æœ‰åºåˆ—è¡¨é»˜è®¤çš„ç¼–å·ä¸ºç½—é©¬æ•°å­—ï¼Œå¯ä»¥ä½¿ç”¨å±æ€§styleæŒ‡å®šåˆ—è¡¨çš„ç¼–å·æ ·å¼ï¼Œä½¿ç”¨CSSå±æ€§list-style-typeè¿›è¡Œä¿®æ”¹ 1234567egï¼š&lt;ol style=&quot;list-style-type: upper-roman&quot;&gt; &lt;li&gt;ç½—é©¬å‡æ—¥&lt;/li&gt; &lt;li&gt;å¹³å‡¡çš„ä¸–ç•Œ&lt;/li&gt; &lt;li&gt;å°ç¥æ¦œ&lt;/li&gt; &lt;li&gt;æ— é—´é“&lt;/li&gt;&lt;/ol&gt; ç½—é©¬å‡æ—¥ å¹³å‡¡çš„ä¸–ç•Œ å°ç¥æ¦œ æ— é—´é“ æœ‰åºåˆ—è¡¨çš„ç¼–å·æ ·å¼ CSSå±æ€§list-style-type æè¿° decimal(é»˜è®¤) æ ‡å‡†é˜¿æ‹‰ä¼¯æ•°å­— lower-alpha å°å†™å­—æ¯ upper-alpha å¤§å†™å­—æ¯ lower-roman å°å†™ç½—é©¬æ•°å­— upper-roman å¤§å†™ç½—é©¬æ•°å­— æ— åºåˆ—è¡¨ï¼ˆulï¼‰æ— åºåˆ—è¡¨ç¼–å·æ ·å¼ CSSå±æ€§list-style-type æè¿° disc åœ†ç›˜ï¼Œé»˜è®¤æ ·å¼ square å®å¿ƒæ­£æ–¹å½¢ circle ç©ºå¿ƒåœ† 123456egï¼š&lt;ul style=&quot;list-style-type: square&quot;&gt; &lt;li&gt;æ­£æ–¹ä½“&lt;/li&gt; &lt;li&gt;é•¿æ–¹ä½“&lt;/li&gt; &lt;li&gt;åœ†æŸ±ä½“&lt;/li&gt;&lt;/ul&gt; æ­£æ–¹ä½“ é•¿æ–¹ä½“ åœ†æŸ±ä½“ å®šä¹‰åˆ—è¡¨ï¼ˆdlï¼‰å®šä¹‰åˆ—è¡¨çš„æ¯ä¸ªåˆ—è¡¨é¡¹éƒ½åŒ…å«ä¸¤éƒ¨åˆ† æœ¯è¯­ï¼Œæ ‡ç­¾ä¸º&lt;dt&gt; æœ¯è¯­çš„å®šä¹‰ï¼Œæ ‡ç­¾ä¸º&lt;dt&gt; 1234567eg:&lt;dl&gt; &lt;dt&gt;HTML&lt;/dt&gt; &lt;dd&gt;è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ä¸‹çš„ä¸€ä¸ªåº”ç”¨ã€‚æ˜¯ ç½‘é¡µåˆ¶ä½œå¿…å¤‡çš„ç¼–ç¨‹è¯­è¨€ã€‚&lt;/dd&gt; &lt;dt&gt;CSS&lt;/dt&gt; &lt;dd&gt;å±‚å æ ·å¼è¡¨(è‹±æ–‡å…¨ç§°ï¼šCascading Style Sheets)æ˜¯ä¸€ç§ç”¨æ¥è¡¨ç°HTMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªåº”ç”¨ï¼‰æˆ–XMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªå­é›†ï¼‰ç­‰æ–‡ä»¶æ ·å¼çš„è®¡ç®—æœºè¯­è¨€ã€‚&lt;/dd&gt;&lt;/dl&gt; HTML è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ä¸‹çš„ä¸€ä¸ªåº”ç”¨ã€‚æ˜¯ ç½‘é¡µåˆ¶ä½œå¿…å¤‡çš„ç¼–ç¨‹è¯­è¨€ã€‚ CSS å±‚å æ ·å¼è¡¨(è‹±æ–‡å…¨ç§°ï¼šCascading Style Sheets)æ˜¯ä¸€ç§ç”¨æ¥è¡¨ç°HTMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªåº”ç”¨ï¼‰æˆ–XMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªå­é›†ï¼‰ç­‰æ–‡ä»¶æ ·å¼çš„è®¡ç®—æœºè¯­è¨€ã€‚ é“¾æ¥å’Œé”šé“¾æ¥åˆ°å¦ä¸€ä¸ªé¡µé¢çš„ç‰¹å®šä½ç½®** æ–¹æ³•ï¼š ä½¿ç”¨é”šï¼Œå³åœ¨é“¾æ¥çš„URLä¸­æŒ‡å®šè¦é“¾æ¥åˆ°çš„å…ƒç´ çš„ID ** 12345678910eg:å¦ä¸€ä¸ªé¡µé¢2.htmlï¼š&lt;h2 id=&quot;part4&quot;&gt;Part four&lt;/h2&gt;å½“å‰é¡µé¢1.htmlï¼š&lt;a href=&quot;2.html#part4&quot;&gt;go to part four&lt;/a&gt; é“¾æ¥åˆ°å½“å‰é¡µé¢çš„å…¶ä»–å…ƒç´ ** æ–¹æ³•: çœç•¥é¡µé¢åå°±è¡Œï¼Œä½¿ç”¨#å·å’ŒID ** 12eg:go to&lt;a href=&quot;#section5&quot;&gt;the fifth setion&lt;/a&gt; spanæ ‡ç­¾spanæ ‡ç­¾å’Œstyleå±æ€§ç»“åˆä½¿ç”¨æ—¶ï¼Œå¯å–ä»£å¾ˆå¤šæ ‡ç­¾ï¼Œæ•ˆæœå¾ˆnice 1234&lt;p&gt;Here is some&lt;span style=&quot;text-decoration: underline&quot;&gt; underline text&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Here is some&lt;span style=&quot;font-style:oblique&quot;&gt; oblique text&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Here is some&lt;span style=&quot;text-decoration:line-through&quot;&gt;line-through text&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Here is some&lt;span style=&quot;font-weight:120&quot;&gt; bolder text&lt;/span&gt;&lt;/p&gt; Here is some underline text Here is some oblique text Here is someline-through text Here is some bolder text HTMLè¡¨æ ¼ æ ‡ç­¾ ç”¨é€” &lt;table&gt;&lt;&#x2F;table&gt; å®šä¹‰è¡¨æ ¼ &#60;caption&#62;&#60;&#x2F;caption&#62; åˆ›å»ºè¡¨é¢˜(å¯é€‰) &#60;tr&#62;&#60;&#x2F;tr&#62; å®šä¹‰ä¸€ä¸ªè¡¨æ ¼è¡Œï¼Œå…¶ä¸­å¯åŒ…å«è¡¨å¤´å•å…ƒæ ¼æˆ–æ•°æ®å•å…ƒæ ¼ &#60;th&#62;&#60;&#x2F;th&#62; å®šä¹‰ä¸€ä¸ªè¡¨å¤´å•å…ƒæ ¼ã€‚è¡¨å¤´å•å…ƒæ ¼å¾—å†…å®¹é€šå¸¸æ˜¾ç¤ºä¸ºç²—ä½“ï¼Œä¸”åœ¨æ°´å¹³å’Œç«–ç›´æ–¹å‘ä¸Šéƒ½å±…ä¸­ &#60;td&#62;&#60;&#x2F;td&#62; å®šä¹‰ä¸€ä¸ªæ•°æ®å•å…ƒæ ¼ã€‚æ•°æ®å•å…ƒæ ¼å¾—å†…å®¹é€šå¸¸æ˜¾ç¤ºä¸ºå¸¸è§„å­—ä½“ï¼Œåœ¨æ°´å¹³æ–¹å‘ä¸Šå·¦å¯¹é½ï¼Œè€Œä¸”åœ¨å‚ç›´æ–¹å‘ä¸Šå±…ä¸­ &#60;colgroup&#62;&#60;&#x2F;colgroup&#62; å°†ä¸€åˆ—æˆ–å¤šåˆ—ç¼–ç»„ &#60;col&#62;&#60;&#x2F;col&#62; ç”¨äºå®šä¹‰è¡¨æ ¼åˆ—å±æ€§ &#60;thead&#62;&#60;&#x2F;thead&#62; åˆ›å»ºè¡¨ç¤ºè¡¨å¤´çš„è¡Œç¼–ç»„ã€‚ä¸€ä¸ªè¡¨æ ¼åªèƒ½æœ‰ä¸€ä¸ªè¡¨å¤´ &#60;tfoot&#62;&#60;&#x2F;tfoot&#62; åˆ›å»ºè¡¨ç¤ºè¡¨å°¾çš„è¡Œç¼–ç»„ã€‚ä¸€ä¸ªè¡¨æ ¼åªèƒ½æœ‰ä¸€ä¸ªè¡¨å°¾ï¼Œå®ƒå¿…é¡»åœ¨è¡¨ä½“å‰å®šä¹‰ &#60;tbody&#62;&#60;&#x2F;tbody&#62; å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ç¤ºè¡¨ä½“çš„è¡Œç¼–ç»„ã€‚ä¸€ä¸ªè¡¨æ ¼å¯åŒ…å«å¤šä¸ªè¡¨å¤´éƒ¨åˆ† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Table&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;table border=&quot;1&quot; style=&quot;width: 100%;&quot;&gt; &lt;caption&gt;&lt;b&gt;Science and Mathematic Class Schedules&lt;/b&gt;&lt;/caption&gt; &lt;colgroup style=&quot;width: 20%; text-align: center; vertical-align: top; background-color: #fcf;&quot;&gt; &lt;colgroup span=&quot;2&quot; style=&quot;width: 40%; vertical-align: top; background-color: #ccf;&quot;&gt; &lt;!-- spanå±æ€§æŒ‡å®šäº†åˆ—ç¼–ç»„åŒ…å«çš„åˆ—æ•°ï¼Œé»˜è®¤ä¸º1 --&gt; &lt;thead style=&quot;background-color: red;&quot;&gt; &lt;tr&gt; &lt;th&gt;Class&lt;/th&gt; &lt;th&gt;Room&lt;/th&gt; &lt;th&gt;Time&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody style=&quot;background-color: yellow;&quot;&gt; &lt;tr&gt; &lt;td&gt;Biology&lt;/td&gt; &lt;td&gt;Science Wing, Room 102&lt;/td&gt; &lt;td&gt;8:00 AM to 9:45 AM&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Science&lt;/td&gt; &lt;td&gt;Science Wing, Room 110&lt;/td&gt; &lt;td&gt;9:50 AM to 11:30 AM&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Physics&lt;/td&gt; &lt;td&gt;Science Wing, Room 107&lt;/td&gt; &lt;td&gt;1:00 PM to 2:45 PM&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;tbody style=&quot;background-color: gray;&quot;&gt; &lt;tr&gt; &lt;td&gt;Geometry&lt;/td&gt; &lt;td&gt;Mathematics Wing, Room 236&lt;/td&gt; &lt;td&gt;8:00 AM to 9:45 Am&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Algebra&lt;/td&gt; &lt;td&gt;Mathematics Wing, Room 239&lt;/td&gt; &lt;td&gt;9:50 AM to 11:30 AM&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Trigonometry&lt;/td&gt; &lt;td&gt;Mathematics Wing, Room 245&lt;/td&gt; &lt;td&gt;1:00 PM to 2:45 PM&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;!-- tfootä¸€èˆ¬æ”¾åœ¨tbodyä¹‹å‰ --&gt; &lt;tfoot style=&quot;background-color: blue;&quot;&gt; &lt;tr&gt; &lt;th&gt;Class&lt;/th&gt; &lt;th&gt;Room&lt;/th&gt; &lt;th&gt;Time&lt;/th&gt; &lt;/tr&gt; &lt;/tfoot&gt; &lt;/table&gt;&lt;/body&gt;&lt;/html&gt; text-alignï¼šæŒ‡å®šæ°´å¹³å¯¹é½æ–¹å¼ï¼Œå¯èƒ½å–å€¼ï¼šleftã€centerã€right vertical-alignï¼šæŒ‡å®šå‚ç›´å¯¹é½æ–¹å¼ï¼Œå¯èƒ½å–å€¼ï¼štopã€middleã€bottom è¡¨æ ¼å±æ€§ å±æ€§ é€‚ç”¨å…ƒç´  ç”¨é€” border table æŒ‡å®šè¡¨æ ¼æ˜¯å¦å¸¦è¾¹æ¡†ï¼Œé»˜è®¤ä¸å¸¦ã€‚è¿™ä¸ªå±æ€§æŒ‡å®šäº†è¡¨æ ¼è¾¹æ¡†çš„å®½åº¦ span colå’Œcolgroup æŒ‡å®šåˆ—ç¼–ç»„åŒ…å«å¤šå°‘åˆ—ï¼Œå¿…é¡»æ˜¯å¤§äº0çš„æ•´æ•° colspan thæˆ–td æŒ‡å®šå•å…ƒæ ¼å°†å‘å³å»¶ä¼¸æ¨ªè·¨å¤šå°‘åˆ— rowspan thæˆ–td æŒ‡å®šå•å…ƒæ ¼å°†å‘ä¸‹å»¶ä¼¸æ¨ªè·¨å¤šå°‘è¡Œ 123456789101112131415161718192021222324252627&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;colspan and rowspan&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;table border=&quot;10&quot; style=&quot;width: 100%&quot;&gt; &lt;caption&gt;&lt;b&gt;è·¨è¡Œè·¨åˆ—è¡¨æ ¼&lt;/b&gt;&lt;/caption&gt; &lt;!-- è·¨åˆ— --&gt; &lt;tr&gt; &lt;th colspan=&quot;2&quot;&gt;æ€§åˆ«&lt;/th&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ç”·&lt;/td&gt; &lt;td&gt;å¥³&lt;/td&gt; &lt;/tr&gt; &lt;!-- è·¨è¡Œ --&gt; &lt;tr&gt; &lt;th rowspan=&quot;2&quot;&gt;è¾£æ¤’&lt;/th&gt; &lt;td&gt;ç‰›è§’æ¤’&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ç¯ç¬¼æ¤’&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt;&lt;/body&gt;&lt;/html&gt; HTMLè¡¨å• æ ‡ç­¾&#x2F;å±æ€§ ç”¨é€” &#60;form&#62; åˆ›å»ºHTMLè¡¨å•ã€‚ä¸€ä¸ªæ–‡æ¡£å¯åŒ…å«å¤šä¸ªè¡¨å•ï¼Œä½†æ˜¯ä¸å¯åµŒå¥— action æ ‡ç­¾&#60;form&#62;çš„ä¸€ä¸ªå±æ€§ï¼Œä½¿ç”¨URLè·¯å¾„æŒ‡å®šè´Ÿè´£å¤„ç†è¡¨å•æ•°æ®çš„æœåŠ¡å™¨è„šæœ¬ enctype &#60;form&#62;çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å®šå°†è¡¨å•æ•°æ®å‘é€ç»™æœåŠ¡å™¨å‰å¦‚ä½•å¯¹å…¶è¿›è¡Œç¼–ç  method &#60;form&#62;çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å®šå¦‚ä½•å°†è¡¨å•æ•°æ®å‘é€ç»™æœåŠ¡å™¨ &#60;input&#62; ä¸€ä¸ªç”¨äºåˆ›å»ºè¡¨å•æ§ä»¶ä»¥æ”¶é›†ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ &#60;button&#62; åˆ›å»ºä¸€ä¸ªå¯åŒ…å«HTMLå†…å®¹çš„æŒ‰é’® &#60;textarea&#62; åˆ›å»ºå¤šè¡Œçš„æ–‡æœ¬è¾“å…¥å­—æ®µ &#60;select&#62; åˆ›å»ºä¸€ä¸ªèœå•æˆ–å¯æ»šåŠ¨åˆ—è¡¨ï¼Œåˆ—è¡¨é¡¹ç”±&#60;option&#62;åˆ›å»º &#60;progress&#62; æ˜¾ç¤ºä»»åŠ¡å®Œæˆè¿›åº¦çš„è¿›åº¦æ¡ &#60;label&#62; åˆ›å»ºä¸è¡¨å•æ§ä»¶é…å¥—çš„æ ‡ç­¾ &#60;fieldset&#62; å°†è¡¨å•æ§ä»¶ç¼–ç»„ type æ ‡ç­¾&#60;inputçš„ä¸€ä¸ªå±æ€§&#62;ï¼ŒæŒ‡å®šäº†è¡¨å•æ§ä»¶çš„ç±»å‹ï¼Œå¯èƒ½å–å€¼ï¼štextï¼šåˆ›å»ºä¸€ä¸ªå•è¡Œæ–‡æœ¬è¾“å…¥å­—æ®µpasswordï¼š&ensp;åˆ›å»ºä¸€ä¸ªå¯é®æŒ¡ç”¨æˆ·è¾“å…¥çš„å•è¡Œæ–‡æœ¬è¾“å…¥å­—æ®µhiddenï¼š&ensp;åˆ›å»ºä¸€ä¸ªéšè—çš„è¡¨å•æ§ä»¶checkboxï¼š&ensp;åˆ›å»ºä¸€ä¸ªå¤é€‰æ¡†searchï¼š&ensp;åˆ›å»ºä¸€ä¸ªæœç´¢å…³é”®å­—è¾“å…¥å­—æ®µfileï¼š&ensp;åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ æ§ä»¶è®©ç”¨æˆ·èƒ½å¤Ÿé€‰æ‹©è¦éšè¡¨å•æ•°æ®ä¸€èµ·ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æ–‡ä»¶colorã€dateã€datetimeã€emailã€urlã€resetç­‰ç­‰ å…¶å®ƒ items è¯´æ˜ HTMLè¯­ä¹‰æ ‡ç­¾ http://www.w3school.com.cn/html/html5_semantic_elements.asp preæ ‡ç­¾ http://www.w3school.com.cn/tags/tag_pre.asp HTMLå­—ç¬¦å®ä½“ http://www.w3school.com.cn/html/html_entities.asp CSS(å±‚å æ ·å¼è¡¨)æ ·å¼è¡¨ç”±ä¸€ç³»åˆ—è§„åˆ™ç»„æˆï¼Œå¤§è‡´ç»“æ„å¦‚ä¸‹ selector &#123; property1: value1; property &#125; æ¯æ¡è§„åˆ™éƒ½ä»¥é€‰æ‹©å™¨(selector)æ‰“å¤´,åé¢æ˜¯ä¸€ç³»åˆ—æœ‰èŠ±æ‹¬å·æ‹¬èµ·æ¥çš„å±æ€§(property)å’Œå€¼(value)ã€‚ æ¯ä¸ªé€‰æ‹©å™¨å¯ä»¥æŒ‡å®šä»»æ„æ•°é‡çš„å±æ€§,ä½†å±æ€§ä¹‹é—´å¿…é¡»ç”¨åˆ†å·åˆ†éš”ã€‚ åœ¨æœ€åä¸€ä¸ªå±æ€§&#x2F;å€¼å¯¹åé¢,å¯ä»¥æœ‰åˆ†å·,ä¹Ÿå¯ä»¥æ²¡æœ‰ã€‚ é€‰æ‹©å™¨(selector) ä»»ä½•æ ‡ç­¾éƒ½å¯ä»¥ç”¨ä½œCSSé€‰æ‹©å™¨ï¼Œä¸è¿™ç§é€‰æ‹©å™¨ç›¸å…³è”çš„è§„åˆ™å°†åº”ç”¨äºé¡µé¢ä¸­æ‰€æœ‰æŒ‡å®šçš„å…ƒç´  å¯ä½¿ç”¨å•ä¸ªé€‰æ‹©å™¨å°†æ ·å¼åº”ç”¨äºå¤šç§å…ƒç´ ï¼Œå…ƒç´ é—´ç”¨é€—å·é—´éš”ï¼Œæ¯”å¦‚ï¼š 123p, ul &#123; color: blue&#125; ä¸‹é¢è¿™ä¸ªè§„åˆ™ä¸ä¸Šé¢é‚£ä¸ªç­‰ä»· 1234567p &#123; color: blue;&#125;ul &#123; color: blue;&#125; ä¸Šä¸‹æ–‡é€‰æ‹©å™¨&ensp;&ensp;ä½¿ç”¨ä¸Šä¸‹æ–‡é€‰æ‹©å™¨å¯ä»¥å°†æ ·å¼åº”ç”¨äºåµŒå¥—åœ¨æŒ‡å®šå…ƒç´ å†…çš„å…ƒç´  123ol em &#123; color: red;&#125; ä¸Šé¢é‚£æ¡è§„åˆ™åº”ç”¨äºåµŒå¥—åœ¨æœ‰åºåˆ—è¡¨ä¸­çš„emå…ƒç´  123cite &#123; font-style: inherit; font-weight: 200;&#125;p cite &#123; font-style: italic; font-weight: 500;&#125;li cite&#123; font-style: normal; font-weight: bolder;&#125; ç¬¬ä¸€æ¡ä¸ºåº”ç”¨äºæ‰€æœ‰citeæ ‡ç­¾çš„è§„åˆ™å¯¹äºåµŒå¥—çš„citeæ ‡ç­¾ï¼Œåä¸¤æ¡è§„åˆ™è¯´æ˜äº†ä»–ä»¬åº”è¯¥åº”ç”¨çš„æ ·å¼ ç±» &amp;&amp; ID é€‰æ‹©å™¨ å°†é€‰æ‹©å™¨åº”ç”¨äºç±»ï¼Œä½¿ç”¨.+ç±»å å°†é€‰æ‹©å™¨åº”ç”¨äºIDï¼Œä½¿ç”¨#+IDï¼ŒIDæ˜¯ç‹¬ä¸€æ— äºŒçš„ ç»™å¤šä¸ªå…ƒç´ æŒ‡å®šç›¸åŒçš„æ ·å¼å¯ä»¥ä½¿ç”¨ç±»åï¼Œç»™å•ä¸ªå…ƒç´ æŒ‡å®šæ ·å¼å¯ä»¥ä½¿ç”¨ID 12345678910111213141516171819&lt;!-- ä½¿ç”¨ç±»å‹å --&gt;&lt;div class=&quot;shan&quot;&gt;test&lt;/div&gt;&lt;!-- CSS --&gt;.shan &#123; color: red;&#125;&lt;!-- ------------------------------------ --&gt;&lt;!-- ä½¿ç”¨ID --&gt;&lt;div id=&quot;footer&quot;&gt;Copyright 2019&lt;/div&gt;&lt;!-- CSS --&gt;#footer &#123; font-size: small;&#125; å­é€‰æ‹©å™¨1p &gt; span.important &#123; fot-weight: bold; &#125; è¿™ä¸ªé€‰æ‹©å™¨åªä¸pæ ‡ç­¾ï¼Œå±äºimportantç±»çš„spanæ ‡ç­¾åŒ¹é…,ä¸ä¸‹é¢çš„spanæ ‡ç­¾ä¸åŒ¹é… 1&lt;p&gt;This is a paragraph. &lt;em&gt;This is an &lt;span class=&quot;important&quot;&gt;important&lt;/span&gt; sentence.&lt;/em&gt;&lt;/p&gt; è¿™é‡Œçš„spanä¸ºpçš„å­™å­ ä¼ªç±»http://www.w3school.com.cn/css/css_pseudo_classes.asp é”šä¼ªç±» 1234a:link &#123;color: #FF0000&#125; /* æœªè®¿é—®çš„é“¾æ¥ */a:visited &#123;color: #00FF00&#125; /* å·²è®¿é—®çš„é“¾æ¥ */a:hover &#123;color: #FF00FF&#125; /* é¼ æ ‡ç§»åŠ¨åˆ°é“¾æ¥ä¸Š */a:active &#123;color: #0000FF&#125; /* é€‰å®šçš„é“¾æ¥ */ æ›´å¤š http://www.w3school.com.cn/css/css_selector_descendant.asp CSSåº¦é‡å•ä½ http://www.w3school.com.cn/cssref/css_units.asp CSSé¢œè‰² http://www.w3school.com.cn/cssref/css_colors.asp ç›’å­æ¨¡å‹ element: å…ƒç´ &#x2F;å†…å®¹ padding: å†…è¾¹è· border: è¾¹æ¡† margin: å¤–è¾¹è· è¾¹æ¡†çš„å±æ€§ å±æ€§ è¯´æ˜ border-style æŒ‡å®šæ˜¾ç¤ºçš„è¾¹æ¡†ç±»å‹ã€‚å¯èƒ½å–å€¼åŒ…æ‹¬ï¼šnoneã€dottedã€dashedã€solidã€doubleã€grooveã€ridgeã€insetã€outsetã€inheritã€‚ border-width æŒ‡å®šè¾¹æ¡†çš„å®½åº¦ï¼Œå•ä½é€šå¸¸ä¸ºåƒç´ (px)ã€‚ border-color æŒ‡å®šè¾¹æ¡†é¢œè‰²ã€‚ åŒæ—¶è®¾ç½®å¤šä¸ªè¾¹æ¡†å±æ€§æ—¶ï¼Œå½¢å¼å¦‚ä¸‹ 1selector &#123; border: style width color; &#125; eg: 1a &#123; border: dashed 3px red; &#125; å†…è¾¹è·å’Œå¤–è¾¹è· å†…è¾¹è·(padding)æ˜¯è¾¹æ¡†é‡Œé¢çš„ç©ºç™½åŒºåŸŸ å¤–è¾¹è·(margin)æ˜¯è¾¹æ¡†å¤–é¢çš„ç©ºç™½åŒºåŸŸ 123456789101112131415161718192021222324&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;test&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; .outer &#123; border: 2px solid black; &#125; .inner &#123; border: 2px dotted black; padding: 15px; margin: 15px; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; å·¥ç¨‹ç‹® &lt;div class=&quot;outer&quot;&gt; &lt;div class=&quot;inner&quot;&gt; æ”»åŸç‹®ï¼ˆè°éŸ³ï¼‰å·¥ç¨‹å¸ˆï¼Œæ¥æºäºè…¾è®¯QQæ‰‹æœºç®¡å®¶äº2012å¹´3æœˆ1æ—¥16:53åœ¨å‘å¸ƒäº†ä¸€æ¡å¾®åšï¼š&lt;br/&gt; å£°ç§°è…¾è®¯å…¬å¸ä¸€åä¿å®‰ç»è¿‡ä¸€å±‚å±‚æŠ€æœ¯é¢è¯•è¿›å…¥äº†è…¾è®¯ç ”ç©¶é™¢ï¼Œæˆä¸ºä¸€åæ”»åŸç‹®ï¼ˆå·¥ç¨‹å¸ˆï¼‰ã€‚&lt;br/&gt; è¿™ç§äº‹å„¿çœ‹èµ·æ¥ç›¸ä¿¡å¾ˆå¤šäººçš„ç¬¬ä¸€ååº”éƒ½æ˜¯æ¶æï¼Œä¸è¿‡ä¸ä¹…ï¼Œè…¾è®¯è€å¤§é©¬åŒ–è…¾äº²è‡ªå‡ºé¢ï¼Œæ ¸å®äº†è¿™ä¸€äº‹ä»¶çš„çœŸå®æ€§ï¼Œå¹¶ä¸”ç§°è¿™æ˜¯ä¸ªâ€œå¾ˆåŠ±å¿—çš„æ•…äº‹â€ã€‚&lt;br/&gt; &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; å†…å®¹(element)ç›’å­ å—å¼ç›’å­ å†…åµŒç›’å­ å—çº§å…ƒç´ å‰åéƒ½æ¢è¡Œï¼Œè€Œå†…åµŒå…ƒç´ çš„å°ºå¯¸å–å†³äºå…¶åŒ…å«çš„å†…å®¹ä»¥åŠå¤–è¾¹è·ã€å†…è¾¹è·å’Œè¾¹æ¡†çš„è®¾ç½®ã€‚CSSæä¾›äº†å±æ€§displayæ¥ä¿®æ”¹å…ƒç´ çš„é»˜è®¤è¡Œä¸ºï¼Œå±æ€§displayçš„å¯èƒ½å–å€¼æœ‰ä¸‰ä¸ª:blockã€inlineå’Œnoneã€‚ è¾¹æ¡†æ˜¾ç¤ºäº†åœ¨æ ·å¼è¡¨ä¸­æŒ‡å®šçš„ç›’å­çš„å°ºå¯¸ã€‚ä½†æ–‡æœ¬å¤ªå¤šçš„æ—¶å€™ï¼Œç›’å­å¯èƒ½æ— æ³•å®¹çº³ï¼Œå¤šå‡ºæ¥çš„æ–‡æœ¬å¯èƒ½ä¼šè·‘åˆ°è¾¹æ¡†çš„ä¸‹æ–¹ã€‚è¿™æ—¶ï¼Œå¯ä»¥é€šè¿‡CSSå±æ€§overflowå‘Šè¯‰æµè§ˆå™¨è¦å¦‚ä½•åšã€‚overflowçš„å¯èƒ½å–å€¼åŒ…æ‹¬:visible(é»˜è®¤)ã€hiddenã€scrollã€autoå’Œinheritã€‚ æµ®åŠ¨ï¼ˆä¿®æ”¹å—çº§å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼‰ å±æ€§floatï¼ŒæŒ‡å‡ºæµ®åŠ¨ä½ç½®ï¼Œå–å€¼ï¼šrightã€leftã€none å±æ€§clearï¼Œæ¶ˆé™¤æµ®åŠ¨çš„å½±å“ï¼Œå–å€¼ï¼šnoneã€leftã€rightã€both See the Pen 1 by Mr.Ye (@yeshan333) on CodePen. &ensp;&ensp;æµ®åŠ¨çš„på…ƒç´ ç§»åˆ°äº†é¡µé¢å³è¾¹ï¼Œè€Œç¬¬äºŒä¸ªæ®µè½å‡ºç°åœ¨å®ƒçš„å·¦è¾¹ã€‚é€šè¿‡å°†å±äºrightç±»çš„å…ƒç´ pçš„æ ·å¼å±æ€§floatè®¾ç½®ä¸ºrightï¼ŒæŒ‡å‡ºäº†é¡µé¢å…¶ä»–å…ƒç´ åº”æ²¿å…ƒç´ ç»•æ’ã€‚æˆ‘ä»¬å°†ç¬¬ä¸‰ä¸ªæ®µè½çš„clearå±æ€§è®¾ç½®ä¸ºbothï¼Œæ¶ˆé™¤äº†å‰é¢æµ®åŠ¨çš„å½±å“ã€‚ å¦‚æœæƒ³è¦å°†ç¬¬äºŒæ®µæµ®åŠ¨åˆ°ç¬¬ä¸€æ®µçš„ä¸‹æ–¹ï¼Œå¯è®¾ç½®ç¬¬äºŒæ®µçš„å±æ€§floatä¸ºrightï¼Œå±æ€§clearè®¾ç½®ä¸ºrightã€‚ä»…ä»…è®¾ç½®floatå±æ€§æ—¶ï¼Œä¸¤ä¸ªæ®µè½ä¼šå¹¶æ’ã€‚ 12345678.main &#123; border: 3px solid black; padding: 10px; margin: 10px; float: right; clear: right; width: 33%;&#125;","categories":[{"name":"HTML","slug":"HTML","permalink":"https://yeshan333.github.io/categories/HTML/"},{"name":"CSS","slug":"CSS","permalink":"https://yeshan333.github.io/categories/CSS/"}],"tags":[{"name":"HTML","slug":"HTML","permalink":"https://yeshan333.github.io/tags/HTML/"},{"name":"CSS","slug":"CSS","permalink":"https://yeshan333.github.io/tags/CSS/"}]},{"title":"ä½ æ‰€æ‹¥æœ‰çš„çŸ¥è¯†å¹¶ä¸å–å†³äºä½ è®°å¾—å¤šå°‘ï¼Œè€Œåœ¨äºå®ƒä»¬èƒ½å¦åœ¨æ°å½“çš„æ—¶å€™è¢«å›å¿†èµ·æ¥ã€‚","slug":"ä½ æ‰€æ‹¥æœ‰çš„çŸ¥è¯†å¹¶ä¸å–å†³äºä½ è®°å¾—å¤šå°‘ï¼Œè€Œåœ¨äºå®ƒä»¬èƒ½å¦åœ¨æ°å½“çš„æ—¶å€™è¢«å›å¿†èµ·æ¥ã€‚","date":"2019-01-16T23:08:36.000Z","updated":"2019-01-16T23:08:36.000Z","comments":true,"path":"2019/01/16/ä½ æ‰€æ‹¥æœ‰çš„çŸ¥è¯†å¹¶ä¸å–å†³äºä½ è®°å¾—å¤šå°‘ï¼Œè€Œåœ¨äºå®ƒä»¬èƒ½å¦åœ¨æ°å½“çš„æ—¶å€™è¢«å›å¿†èµ·æ¥ã€‚/","permalink":"https://yeshan333.github.io/2019/01/16/%E4%BD%A0%E6%89%80%E6%8B%A5%E6%9C%89%E7%9A%84%E7%9F%A5%E8%AF%86%E5%B9%B6%E4%B8%8D%E5%8F%96%E5%86%B3%E4%BA%8E%E4%BD%A0%E8%AE%B0%E5%BE%97%E5%A4%9A%E5%B0%91%EF%BC%8C%E8%80%8C%E5%9C%A8%E4%BA%8E%E5%AE%83%E4%BB%AC%E8%83%BD%E5%90%A6%E5%9C%A8%E6%81%B0%E5%BD%93%E7%9A%84%E6%97%B6%E5%80%99%E8%A2%AB%E5%9B%9E%E5%BF%86%E8%B5%B7%E6%9D%A5%E3%80%82/","excerpt":"","text":"","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"Jinja2è¯­æ³•å°è®°","slug":"Jinja2è¯­æ³•å°è®°","date":"2019-01-09T23:26:59.000Z","updated":"2019-01-09T23:26:59.000Z","comments":true,"path":"2019/01/09/Jinja2è¯­æ³•å°è®°/","permalink":"https://yeshan333.github.io/2019/01/09/Jinja2%E8%AF%AD%E6%B3%95%E5%B0%8F%E8%AE%B0/","excerpt":"jinja2æ¨¡æ¿è¯­æ³•å°è®° Jinja2æ¨¡æ¿ä¸­æ–‡æ–‡æ¡£ ä¸‰ç§å¸¸è§ç•Œå®šç¬¦ è¡¨è¾¾å¼{{ ... }} ç”¨äºè£…è½½å­—ç¬¦ä¸²ã€å˜é‡ã€å‡½æ•°è°ƒç”¨ç­‰ è¯­å¥{% ... %} ç”¨äºè£…è½½æ§åˆ¶è¯­å¥ï¼Œæ¯”å¦‚ifåˆ¤æ–­ã€forå¾ªç¯ç­‰ æ³¨é‡Š{# ... #} ç”¨äºè£…è½½ä¸€ä¸ªæ³¨é‡Šï¼Œæ¨¡æ¿æ¸²æŸ“çš„æ—¶å€™ä¼šè¢«å¿½ç•¥æ‰","text":"jinja2æ¨¡æ¿è¯­æ³•å°è®° Jinja2æ¨¡æ¿ä¸­æ–‡æ–‡æ¡£ ä¸‰ç§å¸¸è§ç•Œå®šç¬¦ è¡¨è¾¾å¼{{ ... }} ç”¨äºè£…è½½å­—ç¬¦ä¸²ã€å˜é‡ã€å‡½æ•°è°ƒç”¨ç­‰ è¯­å¥{% ... %} ç”¨äºè£…è½½æ§åˆ¶è¯­å¥ï¼Œæ¯”å¦‚ifåˆ¤æ–­ã€forå¾ªç¯ç­‰ æ³¨é‡Š{# ... #} ç”¨äºè£…è½½ä¸€ä¸ªæ³¨é‡Šï¼Œæ¨¡æ¿æ¸²æŸ“çš„æ—¶å€™ä¼šè¢«å¿½ç•¥æ‰ å˜é‡ åœ¨æ¨¡æ¿ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€œ**.**â€è·å–å˜é‡çš„å±æ€§ 1234user = &#123; &#x27;username&#x27; : &#x27;shansan&#x27;, &#x27;bio&#x27;: &#x27;æˆ‘ä½›äº†&#x27;,&#125; å¦‚æœuserä¸ºä¼ å…¥æ¨¡æ¿ä¸­çš„å­—å…¸å˜é‡ï¼Œåˆ™æˆ‘ä»¬å¯é€šè¿‡â€.â€œè·å–å®ƒçš„é”®å€¼ã€‚egï¼šuser.usernameuser.usernameç­‰ä»·äºuser[â€˜usernameâ€™] æˆ‘ä»¬å¯ä»¥ç”¨setæ ‡ç­¾åœ¨æ¨¡æ¿ä¸­å®šä¹‰å˜é‡ 1&#123;% set navigation = [(&#x27;/&#x27;,&#x27;Home&#x27;),(&#x27;/about&#x27;,&#x27;å…³äºæˆ‘&#x27;)] %&#125; ä½¿ç”¨endsetå£°æ˜ç»“æŸ è¿‡æ»¤å™¨(filter) è¿‡æ»¤å™¨(filter)æ˜¯ä¸€äº›å¯ä»¥ç”¨æ¥ä¿®æ”¹å’Œè¿‡æ»¤ç‰¹æ®Šå˜é‡å€¼çš„å‡½æ•°ã€‚è¿‡æ»¤å™¨å’Œå˜é‡ç”¨ä¸€ä¸ªç«–çº¿â€œ**|**â€ï¼ˆç®¡é“ç¬¦å·ï¼‰éš”å¼€ï¼Œéœ€è¦å‚æ•°çš„è¿‡æ»¤å™¨å¯ä»¥åƒå‡½æ•°ä¸€æ ·ä½¿ç”¨æ‹¬å·ä¼ é€’ eg: å¯¹ä¸€ä¸ªmoviesåˆ—è¡¨ä½¿ç”¨lengthè¿‡æ»¤å™¨è·å–å…¶é•¿åº¦ 1movies|length ä¸‹é¢æ˜¯Jinja2å¸¸ç”¨çš„å†…ç½®è¿‡æ»¤å™¨ è¿‡æ»¤å™¨ è¯´æ˜ default(value,default_value,boolean&#x3D;False) è®¾ç½®é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œåˆ«åä¸ºd escap(s) è½¬ä¹‰HTMLæ–‡æœ¬ï¼Œåˆ«åä¸ºe first(seq) è¿”å›åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´  last(seq) è¿”å›åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´  length(object) è¿”å›å˜é‡çš„é•¿åº¦ safe(value) å°†å˜é‡æ ‡è®°ä¸ºå®‰å…¨ï¼Œé¿å…è½¬ä¹‰ wordcount(s) è®¡ç®—å•è¯æ•°é‡ è¿‡æ»¤å™¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¢«è¿‡æ»¤çš„å˜é‡å€¼(value)æˆ–å­—ç¬¦ä¸²(s)ï¼Œå³ç«–çº¿ç¬¦å·å·¦ä¾§çš„å€¼å…¶ä»–å‚æ•°å¯ä»¥ä½¿ç”¨æ‹¬å·ä¼ å…¥ æµ‹è¯•å™¨(Test) æµ‹è¯•å™¨ä¸»è¦ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ»¡è¶³æŸç§å˜é‡ç±»å‹,è¿”å›å¸ƒå°”å€¼ï¼ˆTrue or Falseï¼‰çš„ç‰¹æ®Šå‡½æ•°è¯­æ³•ä¸ºï¼šifâ€¦isâ€¦ isçš„å·¦ä¾§æ˜¯æµ‹è¯•å™¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°(value) å…¶ä»–å‚æ•°å¯ä»¥é€šè¿‡æ·»åŠ æ‹¬å·ä¼ å…¥ï¼Œä¹Ÿå¯ä»¥åœ¨å³ä¾§ä½¿ç”¨ç©ºæ ¼è¿æ¥ Jinja2å¸¸ç”¨å†…ç½®æµ‹è¯•å™¨ æµ‹è¯•å™¨ è¯´æ˜ callable(object) åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯è°ƒç”¨ defined(value) åˆ¤æ–­å˜é‡æ˜¯å¦å·²å®šä¹‰ none(value) åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºNone number(value) åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºæ•°å­— string(value) åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºå­—ç¬¦ä¸² sequence(value) åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºåºåˆ—ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ iterable(value) åˆ¤æ–­å˜é‡æ˜¯å¦å¯è¿­ä»£ mapping(value) åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯åŒ¹é…å¯¹è±¡ï¼Œæ¯”å¦‚å­—å…¸ smeas(value,other) åˆ¤æ–­å˜é‡ä¸otheræ˜¯å¦æŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€ 123&#123;% if foo is smeas(bar) %&#125;&#123;# ç­‰ä»·äº #&#125;&#123;% if foo is smeas bar %&#125; åˆ¤æ–­fooå’Œbaræ‰€ä»¥æŒ‡å‘çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸åŒ è¯­å¥ åœ¨Jinja2ä¸­ï¼Œè¯­å¥ä½¿ç”¨**{% ... %}**æ ‡è¯†åœ¨è¯­å¥ç»“æŸçš„åœ°æ–¹ï¼Œå¿…é¡»æ·»åŠ ç»“æŸæ ‡ç­¾ ifè¯­å¥ä½¿ç”¨endif forè¯­å¥ä½¿ç”¨endfor 12345&#123;% if user.name == &#x27;shansan&#x27; %&#125; &lt;h1&gt;you are right!&lt;/h1&gt;&#123;% else %&#125; &lt;h1&gt;you are wrong!&lt;/h1&gt;&#123;% endif %&#125; 123&#123;% for g in ga %&#125; &lt;li&gt;&#123;&#123; g.name &#125;&#125; - &#123;&#123; g.year &#125;&#125;&lt;/li&gt;&#123;% endfor %&#125; ä¸å¯ä½¿ç”¨breakå’Œcontinueæ§åˆ¶å¾ªç¯çš„æ‰§è¡Œ æ¨¡æ¿å±€éƒ¨æ¨¡æ¿ å½“å¤šä¸ªç‹¬ç«‹æ¨¡æ¿ä¸­ä½¿ç”¨åˆ°åŒä¸€å—HTMLä»£ç æ—¶ï¼Œå¯ä»¥æŠŠè¿™éƒ¨åˆ†ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œæ”¾åˆ°å±€éƒ¨æ¨¡æ¿ä¸­ å±€éƒ¨æ¨¡æ¿çš„å‘½åä¸€èˆ¬ä»¥ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å§‹ ä½¿ç”¨includeæ ‡ç­¾æ’å…¥ä¸€ä¸ªå±€éƒ¨æ¨¡æ¿ 1&#123;% include &#x27;_banner.html&#x27; %&#125; å® å®ï¼Œç±»ä¼¼äºPythonä¸­çš„å‡½æ•°ã€‚ä½¿ç”¨å®å¯ä»¥å°è£…ä¸€éƒ¨åˆ†æ¨¡æ¿ä»£ç  ä¸€èˆ¬æŠŠå®å¯„å­˜åœ¨å³å­˜åœ¨åä¸ºmacros.htmlæˆ–_macros.htmlæ–‡ä»¶ä¸­ ä½¿ç”¨macroå’Œendmacroæ ‡ç­¾å£°æ˜å®çš„å¼€å§‹å’Œç»“æŸ åœ¨å¼€å§‹æ ‡ç­¾ä¸­å®šä¹‰å®çš„åç§°å’Œæ¥æ”¶çš„å‚æ•° 1234567&#123;% macro qux(amount=1) %&#125; &#123;% if amount==1 %&#125; I am qux. &#123;% elif amount&gt;1 %&#125; We are qux. &#123;% endif %&#125;&#123;% endmacro %&#125; å°±åƒä»Pythonæ¨¡å—ä¸­å¯¼å…¥å‡½æ•°ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨importå¯¼å…¥å® 1&#123;% from &#x27;macros.html&#x27; import qux %&#125; PS:é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨includeå¯¼å…¥ä¸€ä¸ªå±€éƒ¨æ¨¡æ¿ä¼šä¼ é€’ä¸Šä¸‹æ–‡åˆ°å±€éƒ¨æ¨¡æ¿ä¸­ï¼Œä½†ä½¿ç”¨importå´ä¸ä¼š æ¨¡æ¿ç»§æ‰¿ æ¨¡æ¿ç»§æ‰¿å…è®¸æˆ‘ä»¬æ„å»ºä¸€ä¸ªåŒ…å«ç«™ç‚¹å…±åŒå…ƒç´ çš„åŸºæœ¬æ¨¡æ¿â€éª¨æ¶â€ï¼Œå¹¶å®šä¹‰å­æ¨¡ç‰ˆå¯ä»¥è¦†ç›–çš„å— åŸºæ¨¡æ¿ base.html ** åœ¨åŸºæ¨¡æ¿ä¸­å®šä¹‰çš„å—ï¼ˆblockï¼‰ï¼Œå¯ä»¥è®©å­æ¨¡ç‰ˆé€šè¿‡å®šä¹‰åŒåçš„å—æ¥æ‰§è¡Œç»§æ‰¿æ“ä½œ ** å—çš„å¼€å§‹å’Œç»“æŸåˆ†åˆ«ä½¿ç”¨blockå’Œendblockæ ‡ç­¾,ä¸åŒçš„å—å…è®¸åµŒå¥—ä»¥ä¸‹ç¤ºä¾‹ä»£ç ä¸­ä½¿ç”¨headã€titleã€stylesã€contentã€footerå’Œscriptsåˆ’åˆ†äº†ä¸åŒçš„æ ‡ç­¾å— 123456789101112131415161718192021&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &#123;% block head %&#125; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;&#123;% block title %&#125;Template - HelloFlask&#123;% endblock %&#125;&lt;/title&gt; &#123;% block styles %&#125;&#123;% endblock styles %&#125; &#123;% endblock head %&#125;&lt;/head&gt;&lt;body&gt; &lt;ul&gt;&lt;li&gt;&lt;a href=&quot;&#123;&#123; url_for(&#x27;index&#x27;) &#125;&#125;&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt; &lt;main&gt; &#123;% block content %&#125;&#123;% endblock content %&#125; &lt;/main&gt; &lt;footer&gt; &#123;% block footer %&#125; &#123;% endblock footer %&#125; &lt;/footer&gt; &#123;% block scripts %&#125;&#123;% endblock scripts %&#125;&lt;/body&gt;&lt;/html&gt; å­æ¨¡ç‰ˆ index.html å½“åœ¨å­æ¨¡ç‰ˆåˆ›å»ºåŒåçš„å—æ—¶ï¼Œä¼šä½¿ç”¨å­—å—çš„å†…å®¹è¦†ç›–çˆ¶å—çš„å†…å®¹ è¿™é‡Œå­æ¨¡ç‰ˆçš„contentå—çš„å†…å®¹è¦†ç›–äº†åŸºæ¨¡æ¿contentå—çš„å†…å®¹ extends æ ‡ç­¾å¿…é¡»æ˜¯æ¨¡æ¿ä¸­çš„ç¬¬ä¸€ä¸ª æ ‡ç­¾ 1234567891011121314&#123;% extends &#x27;base.html&#x27; %&#125;&#123;% from &#x27;macros.html&#x27; import qux %&#125;&#123;% block content %&#125;&#123;% set name=&#x27;baz&#x27; %&#125;&lt;h1&gt;Template&lt;/h1&gt;&lt;ul&gt; &lt;li&gt;&lt;a href=&quot;&#123;&#123; url_for(&#x27;watchlist&#x27;) &#125;&#125;&quot;&gt;Watchlist&lt;/a&gt;&lt;/li&gt; &lt;li&gt;Filter: &#123;&#123; foo|musical &#125;&#125;&lt;/li&gt; &lt;li&gt;Global: &#123;&#123; bar() &#125;&#125;&lt;/li&gt; &lt;li&gt;Test: &#123;% if name == &#x27;baz&#x27; %&#125;I am baz.&#123;% endif %&#125;&lt;/li&gt; &lt;li&gt;Macro: &#123;&#123; qux(amount=5) &#125;&#125;&lt;/li&gt;&lt;/ul&gt;&#123;% endblock content %&#125; *** å¦‚éœ€è¦å‘åŸºæ¨¡æ¿ä¸­è¿½åŠ å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨Jinja2çš„super()å‡½æ•° *** å¦‚å‘åŸºæ¨¡æ¿çš„styleså—è¿½åŠ ä¸€è¡Œæ ·å¼ 12345678&#123;% block styles %&#125;&#123;&#123; super() &#125;&#125;&lt;style&gt; html&#123; color: red; &#125;&lt;/style&gt;&#123;% endblock %&#125; å‚è€ƒï¼š https://book.douban.com/subject/30310340/ https://www.cnblogs.com/yanzi-meng/p/8342798.html http://docs.jinkan.org/docs/jinja2/templates.html#id21","categories":[{"name":"Flask","slug":"Flask","permalink":"https://yeshan333.github.io/categories/Flask/"}],"tags":[{"name":"Flask","slug":"Flask","permalink":"https://yeshan333.github.io/tags/Flask/"}]},{"title":"æ³›å‹ç®—æ³•-1","slug":"æ³›å‹ç®—æ³•-1","date":"2019-01-03T18:41:00.000Z","updated":"2019-01-03T18:41:00.000Z","comments":true,"path":"2019/01/03/æ³›å‹ç®—æ³•-1/","permalink":"https://yeshan333.github.io/2019/01/03/%E6%B3%9B%E5%9E%8B%E7%AE%97%E6%B3%95-1/","excerpt":"æ³›å‹ç®—æ³•-1 æ³›å‹ç®—æ³•å®ç°äº†ä¸€äº›ç»å…¸ç®—æ³•çš„å…¬å…±æ¥å£ï¼Œå¦‚æ’åºå’Œæœç´¢ï¼›ç§°å®ƒä»¬æ˜¯â€œæ³›å‹çš„â€ï¼Œæ˜¯å› ä¸ºå®ƒä»¬å¯ä»¥ç”¨äºä¸åŒç±»å‹çš„å…ƒç´ çš„å’Œå¤šç§å®¹å™¨ç±»å‹ï¼ˆä¸ä»…åŒ…æ‹¬æ ‡å‡†åº“ç±»å‹ï¼Œè¿˜åŒ…æ‹¬å†…ç½®çš„æ•°ç»„ç±»å‹ï¼‰ï¼Œä»¥åŠå…¶å®ƒç±»å‹çš„åºåˆ—ã€‚ ** å¤§å¤šæ•°ç®—æ³•éƒ½å®šä¹‰åœ¨å¤´æ–‡ä»¶algorithmä¸­ ** ç®—æ³•æ°¸è¿œä¸ä¼šæ‰§è¡Œå®¹å™¨çš„æ“ä½œ","text":"æ³›å‹ç®—æ³•-1 æ³›å‹ç®—æ³•å®ç°äº†ä¸€äº›ç»å…¸ç®—æ³•çš„å…¬å…±æ¥å£ï¼Œå¦‚æ’åºå’Œæœç´¢ï¼›ç§°å®ƒä»¬æ˜¯â€œæ³›å‹çš„â€ï¼Œæ˜¯å› ä¸ºå®ƒä»¬å¯ä»¥ç”¨äºä¸åŒç±»å‹çš„å…ƒç´ çš„å’Œå¤šç§å®¹å™¨ç±»å‹ï¼ˆä¸ä»…åŒ…æ‹¬æ ‡å‡†åº“ç±»å‹ï¼Œè¿˜åŒ…æ‹¬å†…ç½®çš„æ•°ç»„ç±»å‹ï¼‰ï¼Œä»¥åŠå…¶å®ƒç±»å‹çš„åºåˆ—ã€‚ ** å¤§å¤šæ•°ç®—æ³•éƒ½å®šä¹‰åœ¨å¤´æ–‡ä»¶algorithmä¸­ ** ç®—æ³•æ°¸è¿œä¸ä¼šæ‰§è¡Œå®¹å™¨çš„æ“ä½œ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105/*ç®—æ³•find*//*- findå°†èŒƒå›´å†…ä¸­çš„æ‰€æœ‰å…ƒç´ ä¸ç»™å®šå€¼è¿›è¡Œæ¯”è¾ƒï¼Œè¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªç­‰äºç»™å®šå€¼çš„è¿­ä»£å™¨- å¦‚æœèŒƒå›´å†…æ— åŒ¹é…å…ƒç´ ï¼Œåˆ™findè¿”å›ç¬¬äºŒä¸ªå‚æ•°æ¥è¡¨ç¤ºæœç´¢å¤±è´¥*/void find_value()&#123; //findå‡½æ•°çš„è¿”å›å€¼ç±»å‹æ˜¯è¿­ä»£å™¨ç±»å‹ //åœ¨vectorä¸­æŸ¥æ‰¾å€¼ int val = 7; vector&lt;int&gt; v&#123;1,2,3,4,5,6,7,8&#125;; auto result = find(v.begin(),v.end(),val); cout&lt;&lt;*result&lt;&lt;endl; //åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾å€¼ int nums[10] = &#123;1,2,3,4,5,6,7,8,9,10&#125;; auto search = find(begin(nums),end(nums),11);//å€¼ä¸å­˜åœ¨ï¼Œè¿”å›å°¾åè¿­ä»£å™¨ cout&lt;&lt;*search&lt;&lt;endl;&#125;/*ç®—æ³•count*//*- è¿”å›ç»™å®šå€¼åœ¨åºåˆ—ä¸­å‡ºç°çš„æ¬¡æ•°*/void value_count()&#123; //countå‡½æ•°è¿”å›ç»™å®šå€¼åœ¨åºåˆ—ä¸­å‡ºç°çš„æ¬¡æ•° int a[]=&#123;1,1,1,1,1,2,3,4,5,6&#125;; auto c = count(a,a+10,1); cout&lt;&lt;&quot;1å‡ºç°çš„æ¬¡æ•°:&quot;&lt;&lt;c&lt;&lt;endl;&#125;/*ç®—æ³•accumulate*//*- accumulateå°†ç¬¬ä¸‰ä¸ªå‚æ•°ä½œä¸ºæ±‚å’Œèµ·ç‚¹- æ³¨æ„åºåˆ—ä¸­çš„å…ƒç´ çš„ç±»å‹å¿…é¡»ä¸ç¬¬ä¸‰ä¸ªå‚æ•°åŒ¹é…*/void sum_num()&#123; //accumulateå‡½æ•°ç”¨å»æ±‚ç»™å®šå…ƒç´ èŒƒå›´å†…å…ƒç´ çš„å’Œ vector&lt;int&gt; v=&#123;1,2,3,4,5,6,7,8,9,10&#125;; auto sum = accumulate(v.begin(),v.end(),0); vector&lt;int&gt; v_compare&#123;1,2,3,4,5,6,7,8,9,10,11&#125;; if( equal(v.begin(),v.end(),v_compare.begin()) ) cout&lt;&lt;&quot;yeah&quot;&lt;&lt;endl; cout&lt;&lt;sum&lt;&lt;endl;&#125;/*ç®—æ³•fill*//*- ç”¨äºç¡®å®šä¸¤ä¸ªåºåˆ—ä¸­æ˜¯å¦ä¿å­˜ç›¸åŒçš„å€¼- ç¬¬äºŒä¸ªåºåˆ—è‡³å°‘ä¸ç¬¬ä¸€ä¸ªåºåˆ—ä¸€æ ·é•¿*/void init_fill()&#123; vector&lt;int&gt; v&#123;1,2,3,4,5,6,7,8&#125;; fill(v.begin(),v.end(),1);//ä¸è¦å¯¹ç©ºå®¹å™¨ä½¿ç”¨æ­¤æ“ä½œ for(auto a:v) cout&lt;&lt;a&lt;&lt;&quot; &quot;;&#125;void elimDups(vector&lt;string&gt; &amp;words)&#123; void print(vector&lt;string&gt; v); sort(words.begin(),words.end()); //ä½¿ç”¨sortç®—æ³•æŒ‰å­—å…¸åºé‡æ’åºåˆ— //uniqueé‡æ’äº†è¾“å…¥èŒƒå›´ï¼Œä½¿å¾—æ¯ä¸ªå•è¯åªå‡ºç°ä¸€æ¬¡ï¼Œ //uniqueè¿”å›æŒ‡å‘ä¸é‡å¤åŒºåŸŸä¹‹åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨ auto end_unique = unique(words.begin(),words.end()); //åˆ é™¤é‡å¤å…ƒç´  words.erase(end_unique,words.end()); print(words);&#125;void print(vector&lt;string&gt; v)&#123; for(auto a:v) cout&lt;&lt;a&lt;&lt;&quot; &quot;; cout&lt;&lt;endl;&#125;//å®šåˆ¶æ“ä½œï¼ŒæŒ‰ç…§é•¿åº¦é‡æ–°æ’vectorbool isShorter(const string &amp;s1,const string &amp;s2)&#123; return s1.size() &gt; s2.size();&#125;//æŒ‰é•¿åº¦è¿›è¡Œæ’åºvoid length_sort(vector&lt;string&gt; &amp;words)&#123; sort(words.begin(),words.end(),isShorter); print(words); //ä½¿ç”¨ç®—æ³•stable_sortæ¥ä¿æŒç­‰é•¿å…ƒç´ é—´çš„å­—å…¸åº stable_sort(v.begin(),v.end(),isShorter); print(v);&#125; å‘ç®—æ³•ä¼ é€’å‡½æ•°ç®—æ³•è°“è¯ ç®—æ³•è°“è¯å³æ ‡å‡†åº“ç®—æ³•ä¼ é€’çš„å‚æ•°, å¯ä»¥æŒ‡å®šç®—æ³•çš„æ“ä½œï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯ä»¥è°ƒç”¨çš„è¡¨è¾¾å¼ï¼Œå…¶è¿”å›ç»“æœæ˜¯ä¸€ä¸ªèƒ½ç”¨ä½œæ¡ä»¶çš„å€¼ æ¥å—è°“è¯å‚æ•°çš„ç®—æ³•å¯¹è¾“å…¥åºåˆ—ä¸­çš„å…ƒç´ è°ƒç”¨è°“è¯ã€‚å› æ­¤å…ƒç´ ç±»å‹å¿…é¡»èƒ½è½¬æ¢æˆè°“è¯çš„å‚æ•°ç±»å‹ æ ‡å‡†åº“ç®—æ³•æ‰€ä½¿ç”¨çš„è°“è¯åˆ†ä¸ºä¸¤ç±»ï¼š1.ä¸€å…ƒè°“è¯ï¼šå®ƒä»¬åªæ¥å—ä¸€ä¸ªå‚æ•°2.äºŒå…ƒè°“è¯ï¼šå®ƒä»¬æ¥å—ä¸¤ä¸ªå‚æ•° 12345678910111213141516//å®šåˆ¶æ“ä½œï¼ŒæŒ‰ç…§é•¿åº¦é‡æ–°æ’vectorbool isShorter(const string &amp;s1,const string &amp;s2)&#123; return s1.size() &gt; s2.size();&#125;//æŒ‰é•¿åº¦è¿›è¡Œæ’åºvoid length_sort(vector&lt;string&gt; &amp;words)&#123; sort(words.begin(),words.end(),isShorter); print(words); //ä½¿ç”¨ç®—æ³•stable_sortæ¥ä¿æŒç­‰é•¿å…ƒç´ é—´çš„å­—å…¸åº stable_sort(v.begin(),v.end(),isShorter); print(v);&#125; è¿™é‡Œå‘ç®—æ³•stable_sortä¼ é€’çš„ç¬¬ä¸‰ä¸ªå‚æ•°å°±æ˜¯ä¸€ä¸ªè°“è¯ lambdaè¡¨è¾¾å¼ï¼ˆåŒ¿åå‡½æ•°ï¼‰ lambdaè¡¨è¾¾å¼ä¸å…¶å®ƒå‡½æ•°çš„åŒºåˆ«æ˜¯ï¼šlambdaè¡¨è¾¾å¼å¯å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨ åŸºæœ¬å½¢å¼ï¼š 1[capture lsit](parameter list) -&gt; return type &#123;function body&#125; capture list(æ•è·åˆ—è¡¨): ä¸€ä¸ªlambdaæ‰€åœ¨å‡½æ•°ä¸­çš„å®šä¹‰çš„å±€éƒ¨å˜é‡çš„åˆ—è¡¨ï¼ˆé€šå¸¸ä¸ºç©ºï¼‰ parameter list(å‚æ•°åˆ—è¡¨) return type(è¿”å›ç±»å‹) function body(å‡½æ•°ä½“) ** æˆ‘ä»¬å¯ä»¥å¿½ç•¥å½¢å‚åˆ—è¡¨å’Œè¿”å›ç±»å‹ï¼Œä½†æ˜¯å¿…é¡»æ°¸è¿œåŒ…å«æ•è·åˆ—è¡¨å’Œå‡½æ•°ä½“ ** 12 auto f = []&#123;return 44;&#125; ;cout&lt;&lt;f()&lt;&lt;endl;//æ‰“å°44 ä¸Šé¢çš„å‘ç®—æ³•stable_sortä¼ é€’çš„å®å‚å¯ä»¥æ”¹å†™ä¸º,æ•ˆæœè¿˜æ˜¯ä¸€æ ·çš„ 1stable_sort(v.begin(), v.end(), [](const string &amp;a,const string s&amp;b)&#123;return a.size()&lt;b.size()&#125;); æ•è·åˆ—è¡¨çš„ä½¿ç”¨ä¸€ä¸ªlambdaå¯ä»¥å‡ºç°åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨ï¼Œä½¿ç”¨å…¶å±€éƒ¨å˜é‡ï¼Œä½†å®ƒåªèƒ½ä½¿ç”¨é‚£äº›æŒ‡æ˜çš„å˜é‡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include&lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;using namespace std;void biggies(vector&lt;string&gt; &amp;words,vector&lt;string&gt;::size_type sz)&#123; //ä½¿ç”¨sortç®—æ³•æŒ‰å­—å…¸åºé‡æ’åºåˆ— s sort(words.begin(),words.end()); //uniqueé‡æ’äº†è¾“å…¥èŒƒå›´ï¼Œä½¿å¾—æ¯ä¸ªå•è¯åªå‡ºç°ä¸€æ¬¡ï¼Œ //uniqueè¿”å›æŒ‡å‘ä¸é‡å¤åŒºåŸŸä¹‹åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨ auto end_unique = unique(words.begin(),words.end()); //åˆ é™¤é‡å¤å…ƒç´  words.erase(end_unique,words.end()); //æŒ‰é•¿åº¦æ’åº,é•¿åº¦ç›¸åŒçš„æŒ‰å­—å…¸åºæ’ stable_sort(words.begin(),words.end(), [](const string &amp;a,const string &amp;b)&#123;return a.size() &lt; b.size();&#125;); //ç®—æ³•find_ifè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿™ä¸ªè¿­ä»£å™¨æŒ‡å‘ç¬¬ä¸€ä¸ªæ»¡è¶³size()&gt;=szçš„å…ƒç´  //è¿™é‡Œç”¨åˆ°äº†æ•è·åˆ—è¡¨ï¼Œä½¿ç”¨å±€éƒ¨å˜é‡sz auto wc = find_if(words.begin(),words.end(), [sz](const string &amp;a)&#123;return a.size()&gt;sz; &#125;); //è®¡ç®—æ»¡è¶³size &gt;= sz çš„å…ƒç´ çš„ä¸ªæ•° auto count = words.end() - wc; cout&lt;&lt;&quot;the numbers of word longer than &quot;&lt;&lt;sz&lt;&lt;&quot;: &quot;&lt;&lt;count&lt;&lt;endl; //æ‰“å°é•¿åº¦å¤§äºç­‰äºç»™å®šå€¼szçš„å•è¯ //ç®—æ³•for_earchæ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œå¹¶å¯¹è¾“å…¥åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨æ­¤å¯¹è±¡ for_each(wc,words.end(),[](const string &amp;s)&#123; cout&lt;&lt;s&lt;&lt;&quot; &quot;; &#125;);&#125;int main()&#123; vector&lt;string&gt; words; string str; while(cin&gt;&gt;str) words.push_back(str); for(auto a:words) cout&lt;&lt;a&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; biggies(words,6);//æ‰“å°é•¿åº¦å¤§äºæˆ–ç­‰äºç»™å®šå€¼çš„å•è¯ return 0;&#125; ** æ•è·åˆ—è¡¨åªç”¨äºå±€éƒ¨éé™æ€ï¼ˆstaticï¼‰å˜é‡ï¼Œlambdaå¯ä»¥ç›´æ¥ä½¿ç”¨å±€éƒ¨staticå˜é‡å’Œåœ¨å®ƒæ‰€åœ¨å‡½æ•°ä¹‹å¤–å£°æ˜çš„åå­— ** lambadaæ•è·å’Œè¿”å› å˜é‡çš„æ•è·æ–¹å¼æœ‰ä¸¤ç§:å€¼æ•è·ã€å¼•ç”¨æ•è· ä½¿ç”¨å¼•ç”¨æ•è·å˜é‡æ—¶ï¼Œå¿…é¡»ç¡®ä¿è¢«å¼•ç”¨çš„å¯¹è±¡åœ¨lambdaæ‰§è¡Œçš„æ—¶å€™æ˜¯å­˜åœ¨çš„ lambdaæ•è·çš„æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡åœ¨å‡½æ•°ç»“æŸåå°±ä¸å¤å­˜åœ¨äº† æˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªå‡½æ•°è¿”å›lambdaï¼Œå‡½æ•°å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œæˆ–è€…è¿”å›ä¸€ä¸ªç±»å¯¹è±¡ï¼Œè¯¥ç±»å«æœ‰å¯è°ƒç”¨å¯¹è±¡çš„æ•°æ®æˆå‘˜ã€‚å¦‚æœå‡½æ•°è¿”å›ä¸€ä¸ªlambdaï¼Œåˆ™ä¸å‡½æ•°ä¸èƒ½è¿”å›ä¸€ä¸ªå±€éƒ¨å˜é‡ç±»ä¼¼ï¼Œæ­¤lambdaä¹Ÿä¸èƒ½åŒ…å«å¼•ç”¨æ•è· ä½¿ç”¨***&amp;ã€&#x3D;***è¿›è¡Œéšå¼æ•è·æˆ‘ä»¬å¯ä»¥è®©ç¼–è¯‘å™¨æ ¹æ®lambdaä½“ä¸­çš„ä»£ç æ¥æ¨æ–­æˆ‘ä»¬è¦ä½¿ç”¨å“ªäº›å˜é‡ **&amp;**å‘Šè¯‰ç¼–è¯‘å™¨é‡‡ç”¨å¼•ç”¨æ•è·æ–¹å¼ **&#x3D;**å‘Šè¯‰ç¼–è¯‘å™¨é‡‡ç”¨å€¼æ•è·æ–¹å¼ æ··åˆä½¿ç”¨æ˜¾å¼æ•è·å’Œéšå¼æ•è·æ—¶,æ˜¾ç¤ºæ•è·å¿…é¡»ä½¿ç”¨ä¸éšå¼æ•è·ä¸åŒçš„æ–¹å¼ 1234567891011121314151617181920212223242526272829#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;algorithm&gt;using namespace std;void biggies(vector&lt;string&gt; &amp;words, ostream &amp;os=cout, char c=&#x27; &#x27;)&#123; //oséšå¼æ•è·ï¼Œcæ˜¾å¼æ•è· for_each(words.begin(), words.end(), [&amp;, c](const string &amp;s)&#123; os&lt;&lt;s&lt;&lt;c;&#125; ); printf(&quot;\\n&quot;); //céšå¼æ•è·ï¼Œosæ˜¾ç¤ºæ•è· for_each(words.begin(), words.end(), [=, &amp;os](const string &amp;s)&#123; os&lt;&lt;s&lt;&lt;c;&#125; );&#125;int main()&#123; vector&lt;string&gt; str; string temp; while(cin&gt;&gt;temp) str.push_back(temp); biggies(str); return 0;&#125; æŒ‡å®šlambdaçš„è¿”å›ç±»å‹ è¦ä¸ºä¸€ä¸ªlambdaå®šä¹‰è¿”å›ç±»å‹æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å°¾ç½®è¿”å›ç±»å‹ å°¾ç½®è¿”å›ç±»å‹è·Ÿåœ¨å½¢å‚åˆ—è¡¨åé¢ï¼Œå¹¶ä»¥ä¸€ä¸ª-&gt;ç¬¦å·å¼€å¤´ 12auto f = [](int i)-&gt;int&#123; return i+1;&#125;;cout&lt;&lt;f(3)&lt;&lt;endl;//è¾“å‡ºç»“æœä¸ºï¼š4 å¯å˜lambadaä½¿ç”¨å…³é”®å­—mutableæ”¹å˜ä¸€ä¸ªè¢«æ•è·å˜é‡çš„å€¼ 1234int i=1;auto f = [i]()mutable&#123; return ++i;&#125;;i=0;cout&lt;&lt;f();//è¾“å‡ºç»“æœä¸º2 lambdaæ•è·åˆ—è¡¨ &ensp; è¯´æ˜ [] ç©ºæ•è·åˆ—è¡¨ã€‚lambdaä¸èƒ½ä½¿ç”¨æ‰€åœ¨å‡½æ•°ä¸­çš„å˜é‡ã€‚ä¸€ä¸ªlambdaåªæœ‰æ•è·å˜é‡åæ‰èƒ½ä½¿ç”¨å®ƒä»¬ [names] namesæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„åå­—åˆ—è¡¨ï¼Œè¿™äº›åå­—éƒ½æ˜¯lambdaæ‰€åœ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•è·åˆ—è¡¨ä¸­çš„å˜é‡éƒ½è¢«æ‹·è´ [&amp;] éšå¼æ•è·åˆ—è¡¨ï¼Œé‡‡ç”¨éšå¼æ•è·æ–¹å¼ [&#x3D;] éšå¼æ•è·åˆ—è¡¨ï¼Œé‡‡ç”¨å€¼æ•è·æ–¹å¼ [&amp;, identifier_list] identifier_listæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„åˆ—è¡¨ï¼ŒåŒ…å«0ä¸ªæˆ–å¤šä¸ªæ¥è‡ªæ‰€åœ¨å‡½æ•°çš„å˜é‡ï¼Œè¿™äº›å˜é‡é‡‡ç”¨å€¼æ•è·æ–¹å¼ã€‚ä»»ä½•éšå¼æ•è·çš„å˜é‡éƒ½é‡‡ç”¨å¼•ç”¨æ–¹å¼æ•è· [&#x3D;, identifier_list] identifier_listæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„åˆ—è¡¨ï¼ŒåŒ…å«0ä¸ªæˆ–å¤šä¸ªæ¥è‡ªæ‰€åœ¨å‡½æ•°çš„å˜é‡ï¼Œè¿™äº›å˜é‡é‡‡ç”¨å¼•ç”¨æ•è·æ–¹å¼ï¼Œä¸”å˜é‡åå­—å‰å¿…é¡»ä½¿ç”¨&amp;ã€‚ä»»ä½•éšå¼æ•è·çš„å˜é‡éƒ½é‡‡ç”¨å€¼æ–¹å¼æ•è·","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"è£…é¥°å™¨--python","slug":"è£…é¥°å™¨-python","date":"2019-01-03T18:39:32.000Z","updated":"2019-01-03T18:39:32.000Z","comments":true,"path":"2019/01/03/è£…é¥°å™¨-python/","permalink":"https://yeshan333.github.io/2019/01/03/%E8%A3%85%E9%A5%B0%E5%99%A8-python/","excerpt":"pythonè£…é¥°å™¨å›é¡¾è¿”å›å‡½æ•°","text":"pythonè£…é¥°å™¨å›é¡¾è¿”å›å‡½æ•° ä»€ä¹ˆæ˜¯è£…é¥°å™¨ pythonè£…é¥°å™¨å°±æ˜¯ç”¨äºæ‹“å±•åŸæ¥å‡½æ•°åŠŸèƒ½çš„ä¸€ç§å‡½æ•°ï¼Œç›®çš„æ˜¯åœ¨ä¸æ”¹å˜åŸå‡½æ•°å®šä¹‰çš„æƒ…å†µä¸‹ï¼Œç»™å‡½æ•°å¢åŠ æ–°çš„åŠŸèƒ½ã€‚è¿™ä¸ªå‡½æ•°çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒçš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯å†…åµŒâ€œåŸâ€å‡½æ•°çš„å‡½æ•° åœ¨ä»£ç è¿è¡ŒæœŸé—´åŠ¨æ€çš„å¢åŠ åŠŸèƒ½è£…é¥°å™¨(decorator)æ˜¯ä¿®æ”¹å…¶å®ƒå‡½æ•°åŠŸèƒ½çš„å‡½æ•°,æ˜¯è¿”å›å‡½æ•°çš„é«˜é˜¶å‡½æ•° demo12345678910111213141516171819202122232425# -*- coding: utf-8 -*-&#x27;&#x27;&#x27;- è¿™æ˜¯ä¸€ä¸ªdecorator- ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°- å®ƒè¿”å›ä¸€ä¸ªå‡½æ•°&#x27;&#x27;&#x27;def a_new_decorator(a_func): def wrapTheFunction(): print(&quot;I am doing some boring work before executing a_func()&quot;) a_func() print(&quot;I am doing some boring work after executing a_func()&quot;) return wrapTheFunction&#x27;&#x27;&#x27;&#x27;&#x27;&#x27;- ä½¿ç”¨a_new_decoratorè£…é¥°a_function_requiring_decoration- @a_new_decorator ç­‰ä»·äº a_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)&#x27;&#x27;&#x27;&#x27;&#x27;&#x27;@a_new_decoratordef a_function_requiring_decoration(): print(&quot;I am the function which needs some decoration remove my foul smell&quot;)a_function_requiring_decoration() è¿è¡Œç»“æœ @a_new_decorator ç­‰ä»·äº a_function_requiring_decoration &#x3D; a_new_decorator(a_function_requiring_decoration) ä¸‹é¢è¿™æ®µç¨‹åºå’Œä¸Šé¢é‚£æ®µç­‰ä»· 1234567891011121314151617181920212223242526# -*- coding: utf-8 -*-def a_new_decorator(a_func): def wrapTheFunction(): print(&quot;I am doing some boring work before executing a_func()&quot;) a_func() print(&quot;I am doing some boring work after executing a_func()&quot;) return wrapTheFunctiondef a_function_requiring_decoration(): print(&quot;I am the function which needs some decoration to remove my foul smell&quot;)#a_function_requiring_decoration()#outputs: &quot;I am the function which needs some decoration to remove my foul smell&quot;a_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)#now a_function_requiring_decoration is wrapped by wrapTheFunction()a_function_requiring_decoration()#outputs:I am doing some boring work before executing a_func()# I am the function which needs some decoration to remove my foul smell# I am doing some boring work after executing a_func() åº”ç”¨ï¼šæ—¥å¿—æ‰“å° åœ¨wrapå‡½æ•°å†…ï¼Œé¦–å…ˆæ‰“å°æ—¥å¿—ï¼Œå†è°ƒç”¨åŸå§‹å‡½æ•°*argsè¡¨ç¤ºä»»ä½•å¤šä¸ªæ— åå‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªtupleï¼›**kwargsè¡¨ç¤ºå…³é”®å­—å‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªdict PSå¯¹äºä¸Šé¢çš„demo &gt;&gt;&gt;print(a_function_requiring_decoration.__name__) #è¾“å‡ºç»“æœä¸º wrapTheFunction æ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬å‡½æ•°çš„åå­—å’Œæ³¨é‡Šæ–‡æ¡£è¢«é‡å†™äº†é¢„æœŸåº”è¯¥ä¸º a_function_requiring_decoration ä½¿ç”¨functools.warpså¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ ä¸Šé¢çš„demoåº”è¯¥è¿™æ ·å†™ å‚è€ƒ http://www.runoob.com/w3cnote/python-func-decorators.html https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014318435599930270c0381a3b44db991cd6d858064ac0000 https://eastlakeside.gitbooks.io/interpy-zh/content/decorators/ https://www.cnblogs.com/yuzhanhong/p/9180212.html","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"}]},{"title":"åšå®¢æ­å»ºå‚è€ƒæ±‡æ€»","slug":"åšå®¢æ­å»ºå‚è€ƒæ±‡æ€»","date":"2019-01-01T21:20:28.000Z","updated":"2019-01-01T21:20:28.000Z","comments":true,"path":"2019/01/01/åšå®¢æ­å»ºå‚è€ƒæ±‡æ€»/","permalink":"https://yeshan333.github.io/2019/01/01/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%82%E8%80%83%E6%B1%87%E6%80%BB/","excerpt":"","text":"ä»¥ä¸‹æ˜¯æˆ‘æ­å»ºåšå®¢å‚è€ƒçš„ä¸€äº›æ•™ç¨‹ hexoåšå®¢æ­å»ºæ•™ç¨‹https://blog.csdn.net/gdutxiaoxu/article/details/53576018 https://m.w3cschool.cn/hexo_blog&#x2F;hexo_blog-tvpu244e.html https://www.cnblogs.com/jackyroc/p/7681938.html https://blog.csdn.net/u010820857/article/details/82027535 Yiliaä¸»é¢˜é…ç½®https://github.com/litten/hexo-theme-yilia https://www.jianshu.com/p/517263426abd 404å…¬ç›Šé¡µé¢http://www.qq.com/404/ https://blog.csdn.net/liu1340308350/article/details/81744824 ä½¿ç”¨valineè¯„è®ºhttps://panjunwen.com/diy-a-comment-system/ https://www.xxwhite.com/2017/Valine.html valineå¤´åƒhttps://en.gravatar.com/emails?auto-applied=1 ç‰ˆæƒè®¾ç½®https://blog.zscself.com/2017/01/25/ee4d9ecb/ http://tc9011.com/2017/02/02/hexo%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%E5%8F%8A%E4%B8%80%E4%BA%9B%E7%89%B9%E6%95%88/ è®¿é—®é‡ç»Ÿè®¡https://blog.csdn.net/qq_40910541&#x2F;article&#x2F;details&#x2F;80659193 https://blog.csdn.net/zxlvxj/article/details/77720934 https://ruider.github.io/2018/06/11/%E6%B7%BB%E5%8A%A0hexo-yilia%E4%B8%BB%E9%A2%98%E7%9A%84%E8%AE%BF%E9%97%AE%E6%95%B0%E9%87%8F/ http://easydo.work/2017/10/26/hexo-yilia-page-view.html åŸŸåç»‘å®šhttps://blog.csdn.net/yucicheung/article/details/79560027 https://www.jianshu.com/p/d92ea8542673?utm_campaign&#x3D;haruki&amp;utm_content&#x3D;note&amp;utm_medium&#x3D;reader_share&amp;utm_source&#x3D;qq æ·»åŠ ç›®å½•https://blog.csdn.net/u013082989/article/details/70212008 http://lawlite.me/2017/04/17/Hexo-yilia%E4%B8%BB%E9%A2%98%E5%AE%9E%E7%8E%B0%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95%E5%92%8C%E6%B7%BB%E5%8A%A0%E8%A7%86%E9%A2%91/","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"2019ä½ å¥½","slug":"2019ä½ å¥½","date":"2019-01-01T00:00:00.000Z","updated":"2019-01-01T00:00:00.000Z","comments":true,"path":"2019/01/01/2019ä½ å¥½/","permalink":"https://yeshan333.github.io/2019/01/01/2019%E4%BD%A0%E5%A5%BD/","excerpt":"","text":"","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"è‡´æ•¬2018","slug":"è‡´æ•¬2018","date":"2018-12-31T16:20:16.000Z","updated":"2018-12-31T16:20:16.000Z","comments":true,"path":"2018/12/31/è‡´æ•¬2018/","permalink":"https://yeshan333.github.io/2018/12/31/%E8%87%B4%E6%95%AC2018/","excerpt":"","text":"åšå®¢ 2018 ä½¿ç”¨çš„å›¾åºŠ(imgur)å·²æŒ‚æ‰ï¼Œå¤§éƒ¨åˆ† 2018 å¹´çš„æ–‡ç« é…çš„å›¾éœ€è¦ä½¿ç”¨ proxy æ‰èƒ½çœ‹åˆ°","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"åŸºäºTypechoæ­å»ºä¸ªäººåšå®¢","slug":"memory","date":"2018-12-31T12:40:34.000Z","updated":"2018-12-31T12:40:34.000Z","comments":true,"path":"2018/12/31/memory/","permalink":"https://yeshan333.github.io/2018/12/31/memory/","excerpt":"","text":"**æœ¬é¡µå›¾ç‰‡å·²æŒ‚ï¼Œéœ€è·¨è¶Š G-F?W ** æ­å»ºä¾æ‰˜äºæˆ‘çš„ä¸ªäººæœåŠ¡å™¨çš„åšå®¢emmmã€‚ã€‚ã€‚ 2018å¹´12æœˆ24æ—¥0ç‚¹10åˆ†ï¼Œå¿½ç„¶è§‰å¾—æ— èŠï¼Œæ‰“å¼€æŸäº‘ï¼Œæ‰‹ä¸€è´±ç§Ÿäº†å°äº‘æœåŠ¡å™¨ï¼ˆ233~~~~ï¼‰ã€‚å—¯ï¼Œæ—¢ç„¶éƒ½ç§Ÿäº†ï¼Œé‚£å°±å†æ¥ä¸ªåšå®¢å§ã€‚ åŸºäºtypechoæ­å»ºçš„ä¸ªäººåšå®¢å®å¡”é¢æ¿å®‰è£…1yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install.sh &amp;&amp; sh install.sh ç½‘ç«™æ­å»ºç‚¹å‡»æ·»åŠ ï¼Œåˆ›å»ºç½‘ç«™ å—¯ï¼Œæ¥ä¸‹æ¥è®¿é—®è‡ªå·±åŸŸåï¼ˆå…¬ç½‘ipåœ°å€ï¼‰ï¼Œçœ‹çœ‹æ˜¯å¦åˆ›å»ºæˆåŠŸ æ¥ä¸‹æ¥é…ç½®ä¼ªé™æ€è§„åˆ™ å—¯ï¼Œæ¥ä¸‹æ¥æ­å»ºåšå®¢ï¼Œè¿™é‡Œä½¿ç”¨å®å¡”åå°æ— è„‘å®‰è£…(ä¸å¥½æ„æ€ï¼Œæˆ‘å¤ªèœ),è¿˜æ˜¯ç”¨å‘½ä»¤è¡Œæ“ä½œå§ è®°å¾—å¡«å†™å¸¸ç”¨é‚®ç®±ã€ç®¡ç†å‘˜åå’Œå¯†ç  http://typecho.org/download å—¯ï¼Œæ¥ä¸‹æ¥è®¿é—®è‡ªå·±çš„åŸŸåå°±okäº† emmï¼Œæ˜¯ä¸æ˜¯å°‘äº†ä»€ä¹ˆï¼ŒSSLè¯ä¹¦æ²¡æœ‰ï¼Œå°‘äº†å°ç»¿é” é‚£å°±å»ç”³è¯·å§ ç«™ç‚¹ç®¡ç†ï¼Œè®¾ç½® å› ä¸ºæˆ‘çš„webæœåŠ¡å™¨æ˜¯nigix","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"çº¿æ€§è¡¨çš„é“¾å¼å­˜å‚¨-å•é“¾è¡¨","slug":"çº¿æ€§è¡¨çš„é“¾å¼å­˜å‚¨-å•é“¾è¡¨","date":"2018-12-15T00:28:59.000Z","updated":"2018-12-15T00:28:59.000Z","comments":true,"path":"2018/12/15/çº¿æ€§è¡¨çš„é“¾å¼å­˜å‚¨-å•é“¾è¡¨/","permalink":"https://yeshan333.github.io/2018/12/15/%E7%BA%BF%E6%80%A7%E8%A1%A8%E7%9A%84%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8-%E5%8D%95%E9%93%BE%E8%A1%A8/","excerpt":"å•é“¾è¡¨æ“ä½œ å•é“¾è¡¨çš„åˆ›å»ºï¼ˆå°¾æ’æ³•ã€å¤´æ’æ³•ï¼‰ å•é“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œ å•é“¾è¡¨çš„åˆ é™¤æ“ä½œ å•é“¾è¡¨çš„é€†ç½®æ“ä½œ(ä½¿ç”¨å¤´æ’æ³•) å•é“¾è¡¨è¡¨é•¿çš„è®¡ç®— æ‰“å°å•é“¾è¡¨","text":"å•é“¾è¡¨æ“ä½œ å•é“¾è¡¨çš„åˆ›å»ºï¼ˆå°¾æ’æ³•ã€å¤´æ’æ³•ï¼‰ å•é“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œ å•é“¾è¡¨çš„åˆ é™¤æ“ä½œ å•é“¾è¡¨çš„é€†ç½®æ“ä½œ(ä½¿ç”¨å¤´æ’æ³•) å•é“¾è¡¨è¡¨é•¿çš„è®¡ç®— æ‰“å°å•é“¾è¡¨ å•é“¾è¡¨çš„åˆ›å»ºå¤´æ’æ³•12345678910111213141516forward_list* creat_3() //å¤´æ’æ³•&#123; forward_list *head,*s; int num; head = NULL;//é“¾è¡¨åˆå§‹çŠ¶æ€ä¸ºç©º while(scanf(&quot;%d&quot;,&amp;num) &amp;&amp; num) &#123; s = (forward_list*)malloc(sizeof(forward_list)); s-&gt;data = num; s-&gt;next = head; head = s;//å°†æ–°ç»“ç‚¹æ’å…¥åˆ°è¡¨å¤´ &#125; return head;&#125; å°¾æ’æ³•ï¼ˆä¸å«å¤´ç»“ç‚¹ï¼‰1234567891011121314151617181920212223//å°¾æ’æ³•å»ºè¡¨forward_list* creat_1()&#123; forward_list *head=NULL;//å¤´æŒ‡é’ˆï¼Œåˆå§‹çŠ¶æ€ä¸ºç©º forward_list *rear=NULL;//å°¾æŒ‡é’ˆï¼Œåˆå§‹çŠ¶æ€ä¸ºç©º int num; forward_list *s; while(scanf(&quot;%d&quot;,&amp;num) == 1 &amp;&amp; num)//è¾“å…¥0ç»“æŸ &#123; s = (forward_list*)malloc(sizeof(forward_list)); s-&gt;data = num; if(head == NULL)//å°†æ–°èŠ‚ç‚¹åŠ å…¥ç©ºè¡¨ head = s; else //åŸè¡¨éç©ºï¼Œå°†æ–°èŠ‚ç‚¹é“¾æ¥åˆ°è¡¨å°¾ä¹‹å rear-&gt;next = s; rear = s;//å°¾æŒ‡é’ˆæŒ‡å‘æ–°çš„è¡¨å°¾ &#125; if(rear!= NULL)//å¯¹äºéç©ºè¡¨ï¼Œå°†å°¾ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ç½®ç©º rear-&gt;next = NULL; return head;&#125; å°¾æ’æ³•ï¼ˆå«å¤´ç»“ç‚¹ï¼‰12345678910111213141516171819202122//å°¾æ’æ³•å»ºè¡¨,åŒ…å«å¤´ç»“ç‚¹forward_list* creat_2()&#123; forward_list *s; forward_list *head, *rear; int num; head = (forward_list*)malloc(sizeof(forward_list)); rear = head; while(scanf(&quot;%d&quot;,&amp;num)==1 &amp;&amp; num) &#123; s = (forward_list*)malloc(sizeof(forward_list)); s-&gt;data = num; rear-&gt;next = s; rear = s;//è¡¨æŒ‡é’ˆæŒ‡å‘æ–°çš„è¡¨å°¾ &#125; rear-&gt;next = NULL; return head;&#125; å•é“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œæŒ‰å€¼æŸ¥æ‰¾123456789101112131415void search_1(forward_list *s, int x)&#123; forward_list *p; p = s; while(p != NULL) &#123; if(p-&gt;data == x) &#123; printf(&quot;\\nthe value : %d is exist !\\n&quot;,x); return ; &#125; p = p-&gt;next; &#125; printf(&quot;\\nthe value : %d is not fonud !\\n&quot;,x);&#125; æŒ‰å€¼æŸ¥æ‰¾ï¼ˆåŒ…å«å¤´ç»“ç‚¹ï¼‰123456789101112131415void search_2(forward_list *s, int x)//å¸¦å¤´èŠ‚ç‚¹&#123; forward_list *p; p = s-&gt;next;//emmmm while(p != NULL) &#123; if(p-&gt;data == x) &#123; printf(&quot;\\nthe value : %d is exist !\\n&quot;,x); return ; &#125; p = p-&gt;next; &#125; printf(&quot;\\nthe value : %d is not fonud !\\n&quot;,x);&#125; å•é“¾è¡¨çš„åˆ é™¤æ“ä½œæŒ‰ç»™å®šç»“ç‚¹çš„ä½ç½®åˆ é™¤ï¼ˆå¸¦å¤´ç»“ç‚¹ï¼‰1234567891011121314151617181920void delete_1(forward_list *head,int i) //åˆ é™¤ç¬¬iä¸ªèŠ‚ç‚¹(å•é“¾è¡¨åŒ…å«å¤´èŠ‚ç‚¹)&#123; int j=0; forward_list *p,*q; p=head; j=0; while((p-&gt;next!=NULL)&amp;&amp;(j&lt;i-1)) &#123; p=p-&gt;next; j++; &#125; if(p-&gt;next!=NULL) &#123; q=p-&gt;next; p-&gt;next=p-&gt;next-&gt;next; free(q); &#125; else printf(&quot;illegal delete position,delete failed!&quot;);&#125; æŒ‰ç…§æŒ‡å®šå€¼åˆ é™¤ç»“ç‚¹(ä¸å¸¦å¤´ç»“ç‚¹)123456789101112131415161718192021222324void forward_list_delete_1(forward_list *s,int x)//åˆ é™¤é“¾è¡¨ï¼ˆä¸å¸¦å¤´èŠ‚ç‚¹ï¼‰ä¸­æŒ‡å®šå€¼çš„å…ƒç´ &#123; forward_list *p; forward_list *temp;//ç”¨æ¥å­˜æ”¾è¢«åˆ é™¤å…ƒç´ çš„å‰ä¸€ä¸ªç»“ç‚¹ p = s; if(x == p-&gt;data) free(p); temp = p; p = p-&gt;next; while(p != NULL) &#123; if(p-&gt;data == x) &#123; temp-&gt;next = p-&gt;next; free(p); return ; &#125; temp = p; p = p-&gt;next; &#125; printf(&quot;\\nä½ è¦åˆ é™¤çš„å…ƒç´  %d ä¸åœ¨è¡¨ä¸­\\n&quot;,x); return ;&#125; å•é“¾è¡¨çš„é€†ç½®å¤´æ’æ³•é€†ç½®(å¸¦å¤´ç»“ç‚¹)12345678910111213void reverse_2(forward_list *head)//å¤´æ’æ³•é€†ç½®,å¸¦å¤´èŠ‚ç‚¹&#123; forward_list *p,*q; p=head-&gt;next; head-&gt;next=NULL; while(p) &#123; q=p; p=p-&gt;next; q-&gt;next=head-&gt;next; head-&gt;next=q; &#125;&#125; è®¡ç®—å•é“¾è¡¨çš„è¡¨é•¿*** å¸¦å¤´ç»“ç‚¹ *** 1234567891011void list_length_2(forward_list *s)&#123; int count; forward_list *p=s-&gt;next; while(p) &#123; count++; p = p-&gt;next; &#125; printf(&quot;\\nlist length: %d\\n&quot;,count);&#125; *** ä¸å¸¦å¤´ç»“ç‚¹ *** 1234567891011void list_length_1(forward_list *s)&#123; int count; forward_list *p=s; while(p) &#123; count++; p = p-&gt;next; &#125; printf(&quot;\\nlist length: %d\\n&quot;,count);&#125; æ‰“å°å•é“¾è¡¨*** å¸¦å¤´ç»“ç‚¹ *** 1234567891011void print_forward_list_2(forward_list *s)//æ‰“å°å«å¤´èŠ‚ç‚¹çš„å•é“¾è¡¨&#123; forward_list *p; p = s-&gt;next;//å› ä¸ºå«æœ‰å¤´èŠ‚ç‚¹ï¼Œhead-&gt;dataçš„æ•°æ®åŸŸçš„æ•°æ®æœªçŸ¥ while(p != NULL) &#123; printf(&quot;%-3d&quot;,p-&gt;data); p = p-&gt;next; &#125; return ;&#125; *** ä¸å¸¦å¤´ç»“ç‚¹ *** 1234567891011void print_forward_list_1(forward_list *s)//æ‰“å°å•é“¾è¡¨&#123; forward_list *p; p = s; while(p != NULL) &#123; printf(&quot;%4d&quot;,p-&gt;data); p = p-&gt;next; &#125; return ;&#125; è¯•è¯•æºç¨‹åº123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311#include&lt;stdio.h&gt;#include&lt;malloc.h&gt;#include&lt;stdlib.h&gt;//å®šä¹‰å•é“¾è¡¨ç»“ç‚¹ç±»å‹typedef struct node&#123; int data; //ç»“ç‚¹æ•°æ®åŸŸ struct node *next; //ç»“ç‚¹æŒ‡é’ˆåŸŸ&#125;forward_list;//å°¾æ’æ³•å»ºè¡¨forward_list* creat_1()&#123; forward_list *head=NULL;//å¤´æŒ‡é’ˆï¼Œåˆå§‹çŠ¶æ€ä¸ºç©º forward_list *rear=NULL;//å°¾æŒ‡é’ˆï¼Œåˆå§‹çŠ¶æ€ä¸ºç©º int num; forward_list *s; while(scanf(&quot;%d&quot;,&amp;num) == 1 &amp;&amp; num)//è¾“å…¥0ç»“æŸ &#123; s = (forward_list*)malloc(sizeof(forward_list)); s-&gt;data = num; if(head == NULL)//å°†æ–°èŠ‚ç‚¹åŠ å…¥ç©ºè¡¨ head = s; else //åŸè¡¨éç©ºï¼Œå°†æ–°èŠ‚ç‚¹é“¾æ¥åˆ°è¡¨å°¾ä¹‹å rear-&gt;next = s; rear = s;//å°¾æŒ‡é’ˆæŒ‡å‘æ–°çš„è¡¨å°¾ &#125; if(rear!= NULL)//å¯¹äºéç©ºè¡¨ï¼Œå°†å°¾ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ç½®ç©º rear-&gt;next = NULL; return head;&#125;//å°¾æ’æ³•å»ºè¡¨,åŒ…å«å¤´ç»“ç‚¹forward_list* creat_2()&#123; forward_list *s; forward_list *head, *rear; int num; head = (forward_list*)malloc(sizeof(forward_list)); rear = head; while(scanf(&quot;%d&quot;,&amp;num)==1 &amp;&amp; num) &#123; s = (forward_list*)malloc(sizeof(forward_list)); s-&gt;data = num; rear-&gt;next = s; rear = s;//è¡¨æŒ‡é’ˆæŒ‡å‘æ–°çš„è¡¨å°¾ &#125; rear-&gt;next = NULL; return head;&#125;forward_list* creat_3() //å¤´æ’æ³•&#123; forward_list *head,*s; int num; head = NULL;//é“¾è¡¨åˆå§‹çŠ¶æ€ä¸ºç©º while(scanf(&quot;%d&quot;,&amp;num) &amp;&amp; num) &#123; s = (forward_list*)malloc(sizeof(forward_list)); s-&gt;data = num; s-&gt;next = head; head = s;//å°†æ–°ç»“ç‚¹æ’å…¥åˆ°è¡¨å¤´ &#125; return head;&#125;void search_1(forward_list *s, int x)&#123; forward_list *p; p = s; while(p != NULL) &#123; if(p-&gt;data == x) &#123; printf(&quot;\\nthe value : %d is exist !\\n&quot;,x); return ; &#125; p = p-&gt;next; &#125; printf(&quot;\\nthe value : %d is not fonud !\\n&quot;,x);&#125;void search_2(forward_list *s, int x)//å¸¦å¤´èŠ‚ç‚¹&#123; forward_list *p; p = s-&gt;next;//emmmm while(p != NULL) &#123; if(p-&gt;data == x) &#123; printf(&quot;\\nthe value : %d is exist !\\n&quot;,x); return ; &#125; p = p-&gt;next; &#125; printf(&quot;\\nthe value : %d is not fonud !\\n&quot;,x);&#125;void reverse_1(forward_list *head)//å¤´æ’æ³•é€†ç½®å•é“¾è¡¨&#123; forward_list *p; forward_list *temp; p = head;//å­˜å¥½ä¹‹å‰çš„å•é“¾è¡¨ //printf(&quot;\\n%d\\n&quot;,p-&gt;data); head-&gt;next = NULL; while(p) &#123; temp = p; //printf(&quot;1&quot;); p = p-&gt;next; temp-&gt;next = head-&gt;next; head = temp; printf(&quot;\\n%d\\n&quot;,head-&gt;data); &#125;&#125;void reverse_2(forward_list *head)//å¤´æ’æ³•é€†ç½®,å¸¦å¤´èŠ‚ç‚¹&#123; forward_list *p,*q; p=head-&gt;next; head-&gt;next=NULL; while(p) &#123; q=p; p=p-&gt;next; q-&gt;next=head-&gt;next; head-&gt;next=q; &#125;&#125;void forward_list_delete_1(forward_list *s,int x)//åˆ é™¤é“¾è¡¨ï¼ˆä¸å¸¦å¤´èŠ‚ç‚¹ï¼‰ä¸­æŒ‡å®šå€¼çš„å…ƒç´ &#123; forward_list *p; forward_list *temp;//ç”¨æ¥å­˜æ”¾è¢«åˆ é™¤å…ƒç´ çš„å‰ä¸€ä¸ªç»“ç‚¹ p = s; if(x == p-&gt;data) free(p); temp = p; p = p-&gt;next; while(p != NULL) &#123; if(p-&gt;data == x) &#123; temp-&gt;next = p-&gt;next; free(p); return ; &#125; temp = p; p = p-&gt;next; &#125; printf(&quot;\\nä½ è¦åˆ é™¤çš„å…ƒç´  %d ä¸åœ¨è¡¨ä¸­\\n&quot;,x); return ;&#125;void delete_1(forward_list *head,int i) //åˆ é™¤ç¬¬iä¸ªèŠ‚ç‚¹(å•é“¾è¡¨åŒ…å«å¤´èŠ‚ç‚¹)&#123; int j=0; forward_list *p,*q; p=head; j=0; while((p-&gt;next!=NULL)&amp;&amp;(j&lt;i-1)) &#123; p=p-&gt;next; j++; &#125; if(p-&gt;next!=NULL) &#123; q=p-&gt;next; p-&gt;next=p-&gt;next-&gt;next; free(q); &#125; else printf(&quot;illegal delete position,delete failed!&quot;);&#125;/*//ä¸å¯¹void list_delete(forward_list *s, int i)//åˆ é™¤å•é“¾è¡¨(ä¸å¸¦å¤´èŠ‚ç‚¹)çš„ç¬¬iä¸ªç»“ç‚¹&#123; int count=1; forward_list *p,*q; p=s; //å°†pç§»åŠ¨åˆ°è¢«åˆ é™¤ç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹ while((p!=NULL)&amp;&amp;(count&lt;i-1)) &#123; p=p-&gt;next; count++; &#125; if(i == count) &#123; q = p; p = p-&gt;next; free(q); return ; &#125; if(p-&gt;next!=NULL) &#123; q=p-&gt;next; p-&gt;next=p-&gt;next-&gt;next; free(q); &#125; else printf(&quot;illegal delete position,delete failed!&quot;);&#125;*/void list_length_1(forward_list *s)&#123; int count; forward_list *p=s; while(p) &#123; count++; p = p-&gt;next; &#125; printf(&quot;\\nlist length: %d\\n&quot;,count);&#125;void list_length_2(forward_list *s)&#123; int count; forward_list *p=s-&gt;next; while(p) &#123; count++; p = p-&gt;next; &#125; printf(&quot;\\nlist length: %d\\n&quot;,count);&#125;void print_forward_list_1(forward_list *s)//æ‰“å°å•é“¾è¡¨&#123; forward_list *p; p = s; while(p != NULL) &#123; printf(&quot;%4d&quot;,p-&gt;data); p = p-&gt;next; &#125; return ;&#125;void print_forward_list_2(forward_list *s)//æ‰“å°å«å¤´èŠ‚ç‚¹çš„å•é“¾è¡¨&#123; forward_list *p; p = s-&gt;next;//å› ä¸ºå«æœ‰å¤´èŠ‚ç‚¹ï¼Œhead-&gt;dataçš„æ•°æ®åŸŸçš„æ•°æ®æœªçŸ¥ while(p != NULL) &#123; printf(&quot;%-3d&quot;,p-&gt;data); p = p-&gt;next; &#125; return ;&#125;int main()&#123; /*ä¸å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨*/ printf(&quot;ä½¿ç”¨ä¸å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨:\\n&quot;); forward_list *p; printf(&quot;å°¾æ’æ³•å»ºè¡¨:\\n&quot;); p = creat_1();//å°¾æ’æ³•å»ºè¡¨ print_forward_list_1(p); list_length_1(p); //æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å€¼ä¸º6çš„ç»“ç‚¹ search_1(p,6); printf(&quot;\\nåˆ äº†ä¸ª5åï¼Œè¡¨å˜ä¸º\\n&quot;); forward_list_delete_1(p,5); print_forward_list_1(p); //å¤´æ’æ³•å»ºè¡¨ forward_list *s; printf(&quot;\\nå¤´æ’æ³•å»ºè¡¨:\\n&quot;); s = creat_3(); print_forward_list_1(s); list_length_1(s); /*å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨*/ printf(&quot;\\n\\nä½¿ç”¨å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨:\\n&quot;); forward_list *t; t = creat_2(); print_forward_list_2(t); search_2(t,6); list_length_2(t); printf(&quot;\\né€†ç½®:\\n&quot;); reverse_2(t); print_forward_list_2(t); list_length_2(t); return 0;&#125; è¿è¡Œç»“æœ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://yeshan333.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[{"name":"C","slug":"C","permalink":"https://yeshan333.github.io/tags/C/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://yeshan333.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"çº¿æ€§è¡¨ä¹‹é¡ºåºå­˜å‚¨-é¡ºåºè¡¨","slug":"çº¿æ€§è¡¨ä¹‹é¡ºåºå­˜å‚¨-é¡ºåºè¡¨","date":"2018-12-14T12:14:59.000Z","updated":"2018-12-14T12:14:59.000Z","comments":true,"path":"2018/12/14/çº¿æ€§è¡¨ä¹‹é¡ºåºå­˜å‚¨-é¡ºåºè¡¨/","permalink":"https://yeshan333.github.io/2018/12/14/%E7%BA%BF%E6%80%A7%E8%A1%A8%E4%B9%8B%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8-%E9%A1%BA%E5%BA%8F%E8%A1%A8/","excerpt":"é¡ºåºè¡¨çš„æ“ä½œ å‘æœ‰åºé¡ºåºè¡¨æ’å…¥ä¸€ä¸ªå…ƒç´  é¡ºåºè¡¨çš„å†’æ³¡æ’åº é¡ºåºè¡¨çš„åˆ é™¤æ“ä½œ é¡ºåºè¡¨ä¸­å…ƒç´ çš„æŸ¥æ‰¾ é¡ºåºè¡¨çš„é€†ç½® åˆ é™¤é¡ºåºè¡¨ä¸­çš„ç›¸åŒå…ƒç´  å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´  æ‰“å°é¡ºåºè¡¨","text":"é¡ºåºè¡¨çš„æ“ä½œ å‘æœ‰åºé¡ºåºè¡¨æ’å…¥ä¸€ä¸ªå…ƒç´  é¡ºåºè¡¨çš„å†’æ³¡æ’åº é¡ºåºè¡¨çš„åˆ é™¤æ“ä½œ é¡ºåºè¡¨ä¸­å…ƒç´ çš„æŸ¥æ‰¾ é¡ºåºè¡¨çš„é€†ç½® åˆ é™¤é¡ºåºè¡¨ä¸­çš„ç›¸åŒå…ƒç´  å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´  æ‰“å°é¡ºåºè¡¨ é¡ºåºè¡¨çš„å­˜å‚¨ç»“æ„1234567#define maxsize 100 //å­˜å‚¨ç©ºé—´çš„åˆ†é…é‡//å®šä¹‰é¡ºåºè¡¨æ•°æ®ç±»å‹typedef struct&#123; int data[maxsize]; int last; //å­˜æ”¾è¡¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡&#125;sequenlist; é¡ºåºè¡¨çš„å†’æ³¡æ’åº1234567891011121314151617void list_bubble_sort(sequenlist *p)//max to min&#123; int i,j; int temp; for(i=0; i&lt; p-&gt;last; i++)//attention &#123; for(j=0; j&lt; p-&gt;last-i; j++) &#123; if(p-&gt;data[j] &lt; p-&gt;data[j+1]) &#123; temp = p-&gt;data[j]; p-&gt;data[j] = p-&gt;data[j+1]; p-&gt;data[j+1] = temp; &#125; &#125; &#125;&#125; é¡ºåºè¡¨çš„åˆ é™¤æ“ä½œ12345678910111213141516171819nt delete_1(sequenlist *s,int del) //åˆ é™¤å‡½æ•°&#123; int temp; for(int i=0; i &lt;= s-&gt;last; i++) &#123; if(del == s-&gt;data[i]) &#123; temp = i; for(int j=i; j&lt;s-&gt;last; j++) &#123; s-&gt;data[j] = s-&gt;data[j+1]; &#125; s-&gt;last = s-&gt;last - 1; return 0;//åˆ é™¤ç¬¬ä¸€ä¸ªä¸delç›¸åŒçš„å…ƒç´ ï¼Œå‡½æ•°ç»“æŸ &#125; &#125; //è¦åˆ çš„é‚£ä¸ªå…ƒç´ ä¸åœ¨è¡¨ä¸­ printf(&quot;the element you want to delete is not in the sequenlist!\\n&quot;);&#125; é¡ºåºè¡¨ä¸­å…ƒç´ çš„æŸ¥æ‰¾12345678910111213int search(sequenlist *s,int key) //æŸ¥æ‰¾å‡½æ•°&#123; for(int i=0; i&lt;= s-&gt;last; i++) &#123; if(key == s-&gt;data[i]) &#123; printf(&quot;exist !\\n&quot;); return 0; &#125; &#125; printf(&quot;not found !\\n&quot;); return 0;&#125; é¡ºåºè¡¨çš„é€†ç½®12345678910111213void reverse(sequenlist *s)//é€†ç½®å‡½æ•°&#123; int i,j; int temp; int last_temp = s-&gt;last; for(i=0; i&lt;= s-&gt;last/2; i++) &#123; temp = s-&gt;data[i]; s-&gt;data[i] = s-&gt;data[last_temp]; s-&gt;data[last_temp] = temp; last_temp--; &#125;&#125; åˆ é™¤é¡ºåºè¡¨ä¸­çš„ç›¸åŒå…ƒç´ 12345678910111213141516171819void delete_same(sequenlist *s)//åˆ é™¤è¡¨ä¸­ç›¸åŒçš„å…ƒç´ &#123; int i,j; int temp; for(i=0; i&lt;=s-&gt;last; i++) &#123; for(j=1; j&lt;=s-&gt;last; j++) &#123; if(s-&gt;data[j] == s-&gt;data[i])//å…ƒç´ ç›¸åŒ &#123; for(int k=j; k&lt;s-&gt;last; k++) &#123; s-&gt;data[k] = s-&gt;data[k+1]; &#125; s-&gt;last = s-&gt;last - 1; &#125; &#125; &#125;&#125; å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ 123456789101112131415161718192021222324252627int insert(sequenlist *L,int i,int x) //æŒ‡å®šä½ç½®,æ’å…¥&#123; int j; if(((*L).last) &gt;= maxsize-1) &#123; printf(&quot;the list is overflow!\\n&quot;); return (0); &#125; else &#123; if((i&lt;1)||(i&gt;(*L).last+2)) &#123; printf(&quot;position is not correct!\\n&quot;); return (0); &#125; else &#123; for(j=(*L).last;j&gt;=i-1;j--) &#123; (*L).data[j+1]=(*L).data[j]; &#125; (*L).last=(*L).last+1; (*L).data[i-1]=x; return (0); &#125; &#125;&#125; å‘é¡ºåºè¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ 123456789101112131415161718192021222324252627int insert(sequenlist *L,int i,int x) //æŒ‡å®šä½ç½®,æ’å…¥&#123; int j; if(((*L).last) &gt;= maxsize-1) &#123; printf(&quot;the list is overflow!\\n&quot;); return (0); &#125; else &#123; if((i&lt;1)||(i&gt;(*L).last+2)) &#123; printf(&quot;position is not correct!\\n&quot;); return (0); &#125; else &#123; for(j=(*L).last;j&gt;=i-1;j--) &#123; (*L).data[j+1]=(*L).data[j]; &#125; (*L).last=(*L).last+1; (*L).data[i-1]=x; return (0); &#125; &#125;&#125; æ‰“å°é¡ºåºè¡¨12345678void print_list(sequenlist *s) //æ‰“å°é¡ºåºè¡¨&#123; int i; for(i=0; i&lt;=s-&gt;last; i++) &#123; printf(&quot;%3d&quot;,s-&gt;data[i]); &#125;&#125; è¯•ç€ç…²ä¸‹æ±¤123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247/** author: shansan.top* date: 2018/12/12* version: 1.0*/#include&lt;stdio.h&gt;#define maxsize 100//å®šä¹‰é¡ºåºè¡¨æ•°æ®ç±»å‹typedef struct&#123; int data[maxsize]; int last;&#125;sequenlist;int search(sequenlist *s,int key) //æŸ¥æ‰¾å‡½æ•°&#123; for(int i=0; i&lt;= s-&gt;last; i++) &#123; if(key == s-&gt;data[i]) &#123; printf(&quot;exist !\\n&quot;); return 0; &#125; &#125; printf(&quot;not found !\\n&quot;); return 0;&#125;int delete_1(sequenlist *s,int del) //åˆ é™¤å‡½æ•°&#123; int temp; for(int i=0; i &lt;= s-&gt;last; i++) &#123; if(del == s-&gt;data[i]) &#123; temp = i; for(int j=i; j&lt;s-&gt;last; j++) &#123; s-&gt;data[j] = s-&gt;data[j+1]; &#125; s-&gt;last = s-&gt;last - 1; return 0;//åˆ é™¤ç¬¬ä¸€ä¸ªä¸delç›¸åŒçš„å…ƒç´ ï¼Œå‡½æ•°ç»“æŸ &#125; &#125; //è¦åˆ çš„é‚£ä¸ªå…ƒç´ ä¸åœ¨è¡¨ä¸­ printf(&quot;the element you want to delete is not in the sequenlist!\\n&quot;);&#125;void print_list(sequenlist *s) //æ‰“å°é¡ºåºè¡¨&#123; int i; for(i=0; i&lt;=s-&gt;last; i++) &#123; printf(&quot;%3d&quot;,s-&gt;data[i]); &#125;&#125;void reverse(sequenlist *s)//é€†ç½®å‡½æ•°&#123; int i,j; int temp; int last_temp = s-&gt;last; for(i=0; i&lt;= s-&gt;last/2; i++) &#123; temp = s-&gt;data[i]; s-&gt;data[i] = s-&gt;data[last_temp]; s-&gt;data[last_temp] = temp; last_temp--; &#125;&#125;void list_bubble_sort(sequenlist *p)//max to min&#123; int i,j; int temp; for(i=0; i&lt; p-&gt;last; i++)//attention &#123; for(j=0; j&lt; p-&gt;last-i; j++) &#123; if(p-&gt;data[j] &lt; p-&gt;data[j+1]) &#123; temp = p-&gt;data[j]; p-&gt;data[j] = p-&gt;data[j+1]; p-&gt;data[j+1] = temp; &#125; &#125; &#125;&#125;void insert_in_order_list(sequenlist *s,int value)//æœ‰åºè¡¨ä¸­æ’å…¥å…ƒç´ &#123; int i,j; int count=0; //int temp = s-&gt;last+1; for(i=0; i&lt;=s-&gt;last; i++) &#123; count++; if( value &lt;= s-&gt;data[i]) &#123; s-&gt;last = s-&gt;last + 1; for(j=s-&gt;last; j&gt;i; j--) &#123; s-&gt;data[j] = s-&gt;data[j-1]; &#125; s-&gt;data[i] = value; return ;//ç»“æŸå‡½æ•° &#125; &#125; //printf(&quot;i=%d&quot;,i); //printf(&quot;s-&gt;last=%d\\n&quot;,s-&gt;last); if(i &gt; s-&gt;last-1) &#123; s-&gt;last = s-&gt;last + 1; s-&gt;data[s-&gt;last] = value; &#125;&#125;int insert(sequenlist *L,int i,int x) //æŒ‡å®šä½ç½®,æ’å…¥&#123; int j; if(((*L).last) &gt;= maxsize-1) &#123; printf(&quot;the list is overflow!\\n&quot;); return (0); &#125; else &#123; if((i&lt;1)||(i&gt;(*L).last+2)) &#123; printf(&quot;position is not correct!\\n&quot;); return (0); &#125; else &#123; for(j=(*L).last;j&gt;=i-1;j--) &#123; (*L).data[j+1]=(*L).data[j]; &#125; (*L).last=(*L).last+1; (*L).data[i-1]=x; return (0); &#125; &#125;&#125;void delete_same(sequenlist *s)//åˆ é™¤è¡¨ä¸­ç›¸åŒçš„å…ƒç´ &#123; int i,j; int temp; for(i=0; i&lt;=s-&gt;last; i++) &#123; for(j=1; j&lt;=s-&gt;last; j++) &#123; if(s-&gt;data[j] == s-&gt;data[i])//å…ƒç´ ç›¸åŒ &#123; for(int k=j; k&lt;s-&gt;last; k++) &#123; s-&gt;data[k] = s-&gt;data[k+1]; &#125; s-&gt;last = s-&gt;last - 1; &#125; &#125; &#125;&#125;int main()&#123; sequenlist p=&#123;&#123;1,3,2,6,5,4,9,7,8&#125;,8&#125;; //è¿™é‡Œæœ‰9ä¸ªæ•°ï¼Œä½†æ•°ç»„ä¸‹è¡¨æ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥ p.last = 8 print_list(&amp;p); printf(&quot;\\n&quot;); //æŸ¥æ‰¾ printf(&quot;please input a value which you want: &quot;); int value;//C++è¯­æ³•å¯ä»¥ä¸´æ—¶å®šä¹‰ä¸€ä¸ªå˜é‡,Cè¯­è¨€ä¸å¯ä»¥ï¼ˆéœ€æ”¾åœ¨å¼€å¤´ï¼‰ã€‚ scanf(&quot;%d&quot;,&amp;value); //search(&amp;p,10); search(&amp;p,value); print_list(&amp;p); printf(&quot;\\n\\n&quot;); //åˆ é™¤è¡¨ä¸­çš„æŒ‡å®šå…ƒç´  delete_1(&amp;p,8); printf(&quot;after delete:\\n&quot;); print_list(&amp;p); //é€†ç½®é¡ºåºè¡¨ printf(&quot;\\n\\nafter reverse:\\n&quot;); reverse(&amp;p); print_list(&amp;p); //å†’æ³¡æ’åº printf(&quot;\\nafter sort:\\n&quot;); printf(&quot;\\n&quot;); //list_bubble_sort(&amp;try_1); list_bubble_sort(&amp;p); print_list(&amp;p); //å¾€æœ‰åºé¡ºåºè¡¨ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´  printf(&quot;\\n\\n&quot;); sequenlist try_1 = &#123;&#123;1,2,3,5,6,7&#125;,5&#125;; print_list(&amp;try_1); printf(&quot;\\n&quot;); printf(&quot;please input the value that you wan to insert into the sequenlist: &quot;); int data; scanf(&quot;%d&quot;,&amp;data); insert_in_order_list(&amp;try_1,data); //insert_in_order_list(&amp;try_1,9); print_list(&amp;try_1); //åˆ é™¤è¡¨ä¸­ç›¸åŒçš„å…ƒç´  printf(&quot;\\n\\n&quot;); sequenlist try_2= &#123;&#123;1,1,2,2,3,3,4,4&#125;,7&#125;; print_list(&amp;try_2); printf(&quot;\\ndelete the same element:\\n&quot;); delete_same(&amp;try_2); print_list(&amp;try_2); printf(&quot;\\n&quot;); //å¦ä¸€ç§ç©æ³• int n; int i; printf(&quot;\\nplease input the number of elements: &quot;); scanf(&quot;%d&quot;,&amp;n); printf(&quot;please input %d values:\\n&quot;,n); sequenlist try_3; try_3.last = n-1;//æ³¨æ„ï¼Œæ•°ç»„çš„å°æ ‡ä»0å¼€å§‹ for(i=0; i&lt;=try_3.last; i++) &#123; scanf(&quot;%d&quot;,&amp;try_3.data[i]); &#125; print_list(&amp;try_3); printf(&quot;\\n\\n&quot;); //åœ¨æŒ‡å®šä½ç½®æ’å…¥ insert(&amp;try_3,1,22); print_list(&amp;try_3); return 0;&#125; ç¨‹åºè¿è¡Œç»“æœ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://yeshan333.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[{"name":"C","slug":"C","permalink":"https://yeshan333.github.io/tags/C/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://yeshan333.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"å‹¿å¿˜å›½è€»ï¼Œå¾è¾ˆè‡ªå¼ºï¼","slug":"å‹¿å¿˜å›½è€»ï¼Œå¾è¾ˆè‡ªå¼ºï¼","date":"2018-12-13T00:17:58.000Z","updated":"2018-12-13T00:17:58.000Z","comments":true,"path":"2018/12/13/å‹¿å¿˜å›½è€»ï¼Œå¾è¾ˆè‡ªå¼ºï¼/","permalink":"https://yeshan333.github.io/2018/12/13/%E5%8B%BF%E5%BF%98%E5%9B%BD%E8%80%BB%EF%BC%8C%E5%90%BE%E8%BE%88%E8%87%AA%E5%BC%BA%EF%BC%81/","excerpt":"","text":"","categories":[{"name":"Memory","slug":"Memory","permalink":"https://yeshan333.github.io/categories/Memory/"}],"tags":[{"name":"Memory","slug":"Memory","permalink":"https://yeshan333.github.io/tags/Memory/"}]},{"title":"Biuä¸€ä¸‹GDB","slug":"biuä¸€ä¸‹GDB","date":"2018-12-03T23:51:52.000Z","updated":"2018-12-03T23:51:52.000Z","comments":true,"path":"2018/12/03/biuä¸€ä¸‹GDB/","permalink":"https://yeshan333.github.io/2018/12/03/biu%E4%B8%80%E4%B8%8BGDB/","excerpt":"gccå¸¸è§ç¼–è¯‘é€‰é¡¹ ** -c **:åªæ¿€æ´»é¢„å¤„ç†ã€ç¼–è¯‘å’Œæ±‡ç¼–ï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆobjæ–‡ä»¶ ** -S **:åªæ¿€æ´»å¤„ç†å’Œç¼–è¯‘ï¼ŒæŠŠæ–‡ä»¶ç¼–è¯‘æˆæ±‡ç¼–ä»£ç  ** -o **:å®šåˆ¶ç›®æ ‡åç§°ï¼Œç¼ºçœçš„æ—¶å€™ç¼–è¯‘å‡ºæ¥çš„å¯æ‰§è¡Œç¨‹åºåä¸ºa.exe(windows)æˆ–a.out(linux) ** -Wall **:æ‰“å¼€ä¸€äº›å¾ˆæœ‰ç”¨çš„ç¼–è¯‘è­¦å‘Š ** -std **:æŒ‡å®šCæ ‡å‡†ï¼Œå¦‚-std&#x3D;99ï¼Œä½¿ç”¨C99æ ‡å‡† ** -g **:æŒ‡ç¤ºç¼–è¯‘å™¨ï¼Œç¼–è¯‘çš„æ—¶å€™æ·»åŠ è°ƒè¯•ä¿¡æ¯ ** -O0 -O1 -O2 -O3 **ï¼šç¼–è¯‘å™¨çš„ä¼˜åŒ–é€‰é¡¹çš„4ä¸ªçº§åˆ«ï¼Œ-O0è¡¨ç¤ºæ²¡æœ‰ä¼˜åŒ–,-O1ä¸ºç¼ºçœå€¼ï¼Œ-O3ä¼˜åŒ–çº§åˆ«æœ€é«˜","text":"gccå¸¸è§ç¼–è¯‘é€‰é¡¹ ** -c **:åªæ¿€æ´»é¢„å¤„ç†ã€ç¼–è¯‘å’Œæ±‡ç¼–ï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆobjæ–‡ä»¶ ** -S **:åªæ¿€æ´»å¤„ç†å’Œç¼–è¯‘ï¼ŒæŠŠæ–‡ä»¶ç¼–è¯‘æˆæ±‡ç¼–ä»£ç  ** -o **:å®šåˆ¶ç›®æ ‡åç§°ï¼Œç¼ºçœçš„æ—¶å€™ç¼–è¯‘å‡ºæ¥çš„å¯æ‰§è¡Œç¨‹åºåä¸ºa.exe(windows)æˆ–a.out(linux) ** -Wall **:æ‰“å¼€ä¸€äº›å¾ˆæœ‰ç”¨çš„ç¼–è¯‘è­¦å‘Š ** -std **:æŒ‡å®šCæ ‡å‡†ï¼Œå¦‚-std&#x3D;99ï¼Œä½¿ç”¨C99æ ‡å‡† ** -g **:æŒ‡ç¤ºç¼–è¯‘å™¨ï¼Œç¼–è¯‘çš„æ—¶å€™æ·»åŠ è°ƒè¯•ä¿¡æ¯ ** -O0 -O1 -O2 -O3 **ï¼šç¼–è¯‘å™¨çš„ä¼˜åŒ–é€‰é¡¹çš„4ä¸ªçº§åˆ«ï¼Œ-O0è¡¨ç¤ºæ²¡æœ‰ä¼˜åŒ–,-O1ä¸ºç¼ºçœå€¼ï¼Œ-O3ä¼˜åŒ–çº§åˆ«æœ€é«˜ 1234567891011121314151617181920/*file_name: swap.c*/#include&lt;stdio.h&gt;void swap(int a, int b)&#123; int t; t = a; a = b; b = t;&#125;int main()&#123; int a=3, b=4; swap(a,b); printf(&quot;%d %d&quot;,a,b); return 0;&#125; GDBçš„ä½¿ç”¨ ä»€ä¹ˆæ˜¯GDBhttps://www.bing.com/knows/search?q=gdb&mkt=zh-cn&FORM=BKACAIhttp://www.gnu.org/software/gdb/ ä¸€èˆ¬æ¥è¯´ï¼ŒGDBä¸»è¦å¸®åŠ©ä½ å®Œæˆä»¥ä¸‹å››ä¸ªæ–¹é¢çš„å†…å®¹1ã€å¯åŠ¨ä½ çš„ç¨‹åºï¼Œå¯ä»¥æŒ‰ç…§ä½ çš„è‡ªå®šä¹‰çš„è¦æ±‚éšå¿ƒæ‰€æ¬²çš„è¿è¡Œç¨‹åº2ã€å¯ä»¥è®©è¢«è°ƒè¯•çš„ç¨‹åºåœ¨ä½ æ‰€æŒ‡å®šçš„è°ƒç½®çš„æ–­ç‚¹å¤„åœä½ã€‚(æ–­ç‚¹å¯ä»¥æ˜¯æ¡ä»¶è¡¨è¾¾å¼)3ã€å½“ç¨‹åºè¢«åœä½æ—¶ï¼Œå¯ä»¥æ£€æŸ¥æ­¤æ—¶ä½ çš„ç¨‹åºä¸­æ‰€å‘ç”Ÿçš„äº‹4ã€ä½ å¯ä»¥æ”¹å˜ä½ çš„ç¨‹åºï¼Œå°†ä¸€ä¸ªBUGäº§ç”Ÿçš„å½±å“ä¿®æ­£ï¼Œä»è€Œæµ‹è¯•å…¶ä»–BUG GDBå¸¸è§å‘½ä»¤ ç®€ç§° å…¨ç§° å¤‡æ³¨ l list æ˜¾ç¤ºæŒ‡å®šè¡Œå·æˆ–è€…æŒ‡å®šå‡½æ•°é™„è¿‘çš„æºä»£ç  b break åœ¨æŒ‡å®šè¡Œå·æˆ–æŒ‡å®šå‡½æ•°å¼€å¤´è®¾ç½®æ–­ç‚¹ r run è¿è¡Œç¨‹åºï¼Œç›´åˆ°ç¨‹åºç»“æŸæˆ–é‡åˆ°æ–­ç‚¹ c continue åœ¨ç¨‹åºä¸­æ–­åç»§ç»­æ‰§è¡Œç¨‹åºï¼Œç›´åˆ°ç¨‹åºç»“æŸæˆ–é‡åˆ°æ–­ç‚¹åœä¸‹ã€‚æ³¨æ„åœ¨ç¨‹åºå¼€å§‹æ‰§è¡Œå‰åªèƒ½ç”¨rï¼Œè€Œä¸èƒ½ç”¨c n next æ‰§è¡Œä¸€æ¡è¯­å¥ã€‚å¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™æŠŠå®ƒå½“åšä¸€ä¸ªæ•´ä½“ s step æ‰§è¡Œä¸€æ¡è¯­å¥ã€‚å¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥å‡½æ•°å†…éƒ¨ u until æ‰§è¡Œåˆ°æŒ‡å®šè¡Œå·æˆ–æŒ‡å®šå‡½æ•°çš„å¼€å¤´ p print æ˜¾ç¤ºå˜é‡æˆ–è¡¨è¾¾å¼çš„å€¼ disp display æŠŠä¸€ä¸ªè¡¨è¾¾å¼è®¾ç½®ä¸ºdisplayï¼Œå½“ç¨‹åºæ¯æ¬¡åœä¸‹æ¥æ—¶éƒ½ä¼šæ˜¾ç¤ºå…¶å€¼ cl clear å–æ¶ˆæ–­ç‚¹ï¼Œå’Œbæ ¼å¼ç›¸åŒï¼Œå¦‚æœè¯¥ä½ç½®æœ‰å¤šä¸ªæ–­ç‚¹ï¼Œå°†åŒæ—¶å–æ¶ˆ i info æ˜¾ç¤ºå„ç§ä¿¡æ¯ï¼Œå¦‚i bæ˜¾ç¤ºæ‰€æœ‰æ–­ç‚¹ï¼Œi dispæ˜¾ç¤ºdisplayï¼Œè€Œi loæ˜¾ç¤ºæ‰€æœ‰å±€éƒ¨å˜é‡ bt backtrace æ‰“å°æ‰€æœ‰æ ˆå¸§ä¿¡æ¯ è°ƒç”¨æ ˆï¼ˆCall Stackï¼‰è°ƒç”¨æ ˆæè¿°çš„æ˜¯å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å…³ç³»ã€‚è°ƒç”¨æ ˆç”±æ ˆå¸§ï¼ˆStack Frameï¼‰ç»„æˆï¼Œæ¯ä¸ªæ ˆå¸§å¯¹åº”ç€ä¸€ä¸ªæœªè¿è¡Œå®Œçš„å‡½æ•°ã€‚åœ¨GDBä¸­å¯ä»¥ç”¨backtraceï¼ˆç®€ç§°btï¼‰å‘½ä»¤æ‰“å°æ‰€æœ‰æ ˆå¸§ä¿¡æ¯ã€‚è‹¥è¦ç”¨på‘½ä»¤æ‰“å°ä¸€ä¸ªéå½“å‰æ ˆå¸§çš„å±€éƒ¨å˜é‡ï¼Œå¯ä»¥ç”¨frameå‘½ä»¤é€‰æ‹©å¦ä¸€ä¸ªæ ˆå¸§ æ‹¿ä¸ªç¨‹åºæ¥ç©ç©,swap.cæ–‡ä»¶1234567891011#include&lt;stdio.h&gt;void swap(int a, int b)&#123; int t;t = a;a = b;b = t;&#125;int main()&#123; int a=3, b=4; swap(a,b); printf(&quot;%d %d&quot;,a,b); return 0;&#125; *** ç¨‹åºçš„ç›®çš„æ˜¯äº¤æ¢aå’Œbçš„å€¼ï¼Œç„¶è€Œå¹¶æ²¡æœ‰äº¤æ¢äº¤æ¢æˆåŠŸ *** åŸå› ï¼š å‡½æ•°çš„å½¢å‚å’Œåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡éƒ½æ˜¯è¯¥å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚æ— æ³•è®¿é—®å…¶ä»–å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚ å±€éƒ¨å˜é‡çš„å­˜å‚¨ç©ºé—´æ˜¯ä¸´æ—¶åˆ†é…çš„ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œå±€éƒ¨å˜é‡çš„ç©ºé—´å°†è¢«é‡Šæ”¾ï¼Œå…¶ä¸­çš„å€¼æ— æ³•ä¿ç•™åˆ°ä¸‹æ¬¡ä½¿ç”¨ã€‚ å¦‚æœè¦å®ç°çœŸæ­£çš„äº¤æ¢ï¼Œæˆ‘ä»¬åº”è¯¥ä¼ å…¥çš„æ˜¯å­˜å‚¨å˜é‡çš„åœ°å€ï¼Œæ­¤æ—¶å‡½æ•°swapçš„å½¢å‚ç±»å‹åº”è¯¥ä¸ºæŒ‡é’ˆç±»å‹ PS:Cè¯­è¨€çš„å˜é‡éƒ½æ˜¯æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œè€Œå†…å­˜ä¸­é—´çš„æ¯ä¸€ä¸ªå­—èŠ‚éƒ½æœ‰ä¸€ä¸ªç§°ä¸ºåœ°å€(address)çš„ç¼–å·ã€‚æ¯ä¸€ä¸ªå˜é‡éƒ½å æœ‰ä¸€å®šæ•°ç›®çš„å­—èŠ‚ï¼ˆå¯ä»¥ç”¨sizeofè¿ç®—ç¬¦è·å¾—ï¼‰ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åœ°å€ç§°ä¸ºå˜é‡çš„åœ°å€ã€‚ o(*â‰§â–½â‰¦)ãƒ„â”â”â”“æ‹¿ä¸ªé€’å½’ç¨‹åºæ¥ç©ç©1234567891011#include&lt;stdio.h&gt;int f(int n)&#123; return n == 0 ? 1 : f(n-1)*n;&#125;int main()&#123; printf(&quot;%d\\n&quot;,f(3)); return 0;&#125; åœ¨Cè¯­è¨€çš„å‡½æ•°ä¸­ï¼Œè°ƒç”¨è‡ªå·±å’Œè°ƒç”¨å…¶ä»–å‡½æ•°æ²¡æœ‰ä»»ä½•æœ¬è´¨åŒºåˆ«ï¼Œéƒ½æ˜¯å»ºç«‹æ–°æ ˆå¸§ï¼Œä¼ é€’å‚æ•°å¹¶ä¿®æ”¹å½“å‰ä»£ç è¡Œã€‚åœ¨å‡½æ•°æ‰§è¡Œä½“å®Œæ¯•ååˆ é™¤æ ˆå¸§ï¼Œå¤„ç†è¿”å›å€¼ï¼Œå¹¶ä¿®æ”¹å½“å‰ä»£ç è¡Œæ•°ã€‚ ä»¥ä¸Šè°ƒç”¨æ ˆçš„ä¸€ä¸ªæ¯”å–» çš‡å¸ï¼ˆæ‹¥æœ‰mainå‡½æ•°çš„æ ˆå¸§ï¼‰ï¼šå¤§è‡£ï¼Œä½ ç»™æˆ‘ç®—ä¸‹f(3)å¤§è‡£ï¼ˆæ‹¥æœ‰f(3)çš„æ ˆå¸§ï¼‰ï¼šçŸ¥åºœï¼Œä½ ç»™æˆ‘ç®—ä¸‹f(2)çŸ¥åºœï¼ˆæ‹¥æœ‰f(2)çš„æ ˆå¸§ï¼‰ï¼šå¿ä»¤ï¼Œä½ ç»™æˆ‘ç®—ä¸‹f(1)å¿ä»¤ï¼ˆæ‹¥æœ‰f(1)çš„æ ˆå¸§ï¼‰ï¼šå¸ˆçˆ·ï¼Œä½ ç»™æˆ‘ç®—ä¸‹f(0)å¸ˆçˆ·ï¼ˆæ‹¥æœ‰f(0)çš„æ ˆå¸§ï¼‰ï¼šå›è€çˆ·ï¼Œf(0)&#x3D;1å¿ä»¤ï¼ˆå¿ƒç®—f(1)&#x3D;f(0)*1&#x3D;1ï¼‰ï¼šå›çŸ¥åºœå¤§äººï¼Œf(1)&#x3D;1çŸ¥åºœï¼ˆå¿ƒç®—f(2)&#x3D;f(1)*2&#x3D;2ï¼‰ï¼šå›å¤§äººï¼Œf(2)&#x3D;2å¤§è‡£ï¼ˆå¿ƒç®—f(3)&#x3D;f(2)*3&#x3D;6ï¼‰ï¼šå›çš‡ä¸Šï¼Œf(3)&#x3D;6çš‡ä¸Šæ»¡æ„äº† emmmmmmã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"GDB","slug":"GDB","permalink":"https://yeshan333.github.io/tags/GDB/"}]},{"title":"æ ‡å‡†åº“å®¹å™¨","slug":"æ ‡å‡†åº“å®¹å™¨","date":"2018-12-01T17:45:46.000Z","updated":"2018-12-01T17:45:46.000Z","comments":true,"path":"2018/12/01/æ ‡å‡†åº“å®¹å™¨/","permalink":"https://yeshan333.github.io/2018/12/01/%E6%A0%87%E5%87%86%E5%BA%93%E5%AE%B9%E5%99%A8/","excerpt":"","text":"æ ‡å‡†åº“å®¹å™¨æ˜¯æ¨¡æ¿ç±»å‹ï¼Œç”¨æ¥ä¿å­˜ç»™å®šç±»å‹çš„å¯¹è±¡ã€‚ä¸€ä¸ªå®¹å™¨å°±æ˜¯ä¸€äº›ç‰¹å®šç±»å‹å¯¹è±¡çš„é›†åˆã€‚ é¡ºåºå®¹å™¨ é¡ºåºå®¹å™¨æˆ‘ä»¬æä¾›äº†æ§åˆ¶å…ƒç´ å­˜å‚¨å’Œè®¿é—®é¡ºåºçš„èƒ½åŠ›ã€‚è¿™ç§é¡ºåºä¸ä¾èµ–äºå…ƒç´ çš„å€¼ï¼Œè€Œæ˜¯ä¸å…ƒç´ åŠ å…¥å®¹å™¨æ—¶çš„ä½ç½®å¯¹åº”ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæ¯ä¸ªå®¹å™¨éƒ½å®šä¹‰åœ¨ä¸€ä¸ªéƒ½æ–‡ä»¶ä¸­ é¡ºåºå…ƒç´ å‡ ä¹å¯ä»¥ä¿å­˜ä»»æ„ç±»å‹çš„å…ƒç´  é¡ºåºå®¹å™¨ç±»å‹ è¯´æ˜ vector å¯å˜å¤§å°æ•°ç»„ã€‚æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ã€‚åœ¨å°¾éƒ¨ä¹‹å¤–çš„ä½ç½®æ’å…¥æˆ–åˆ é™¤å…ƒç´ å¯èƒ½å¾ˆæ…¢ array å›ºå®šå¤§å°æ•°ç»„ï¼Œæ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼Œä¸èƒ½æ·»åŠ æˆ–åˆ é™¤å…ƒç´  string ä¸vectorç›¸ä¼¼çš„å®¹å™¨ï¼Œä½†ä¸“é—¨ç”¨äºä¿å­˜å­—ç¬¦ã€‚éšæœºè®¿é—®å—ã€‚åœ¨å°¾éƒ¨æ’å…¥æˆ–åˆ é™¤å¿« deque åŒç«¯é˜Ÿåˆ—ã€‚æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ã€‚åœ¨å¤´å°¾ä½ç½®æ’å…¥æˆ–åˆ é™¤é€Ÿåº¦å¾ˆå¿« list åŒå‘é“¾è¡¨ã€‚åªæ”¯æŒåŒå‘é¡ºåºè®¿é—®ï¼Œåœ¨listä¸­ä»»ä½•ä½ç½®è¿›è¡Œæ’å…¥æˆ–åˆ é™¤æ“ä½œçš„é€Ÿåº¦éƒ½å¾ˆå¿« forward_list å•å‘é“¾è¡¨ã€‚åªæ”¯æŒå•å‘é¡ºåºè®¿é—®ï¼Œåœ¨é“¾è¡¨çš„ä»»ä½•ä½ç½®è¿›è¡Œæ’å…¥æˆ–åˆ é™¤æ“ä½œçš„é€Ÿåº¦éƒ½å¾ˆå¿« forward_listã€arrayæ˜¯æ–°C++æ ‡å‡†å¢åŠ çš„ç±»å‹ä¸å†…ç½®æ•°ç»„ç›¸æ¯”ï¼Œarrayæ˜¯ä¸€ç§æ›´å®‰å…¨ã€æ›´å®¹æ˜“ä½¿ç”¨çš„æ•°ç»„ç±»å‹ã€‚arrayå¯¹è±¡çš„å¤§å°ä¸æ˜¯å›ºå®šçš„ï¼Œå› æ­¤ï¼Œä»–æ”¯æŒæ’å…¥å’Œåˆ é™¤å…ƒç´ ä»¥åŠæ”¹å˜å®¹å™¨å¤§å°çš„æ“ä½œ å®¹å™¨ç±»å‹æˆå‘˜æ¯ä¸ªå®¹å™¨éƒ½å®šä¹‰äº†å¤šä¸ªç±»å‹ ç±»å‹åˆ«å è¯´æ˜ iterator å®¹å™¨çš„è¿­ä»£å™¨ç±»å‹æˆå‘˜ const_iterator å¯ä»¥è¯»å–å…ƒç´ ï¼Œä½†ä¸èƒ½ä¿®æ”¹å…ƒç´ çš„è¿­ä»£å™¨ç±»å‹ size_type æ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œè¶³å¤Ÿä¿å­˜æ­¤ç§å®¹å™¨ç±»å‹æœ€å¤§å¯èƒ½å®¹å™¨çš„å¤§å° differrnce_type å¸¦ç¬¦å·æ•´æ•°ç±»å‹ï¼Œè¶³å¤Ÿä¿å­˜ä¸¤ä¸ªè¿­ä»£å™¨ä¹‹é—´çš„è·ç¦» value_type å…ƒç´ ç±»å‹ reference_type å…ƒç´ å·¦å€¼ç±»å‹ï¼Œä¸value_type&amp;å«ä¹‰ç›¸åŒ const_reference å…ƒç´ çš„constå·¦å€¼ç±»å‹ï¼Œ(å³const value_type&amp;) ** é€šè¿‡ç±»å‹åˆ«åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸äº†è§£å®¹å™¨ä¸­å…ƒç´ ç±»å‹çš„æƒ…å†µä¸‹ä½¿ç”¨å®ƒ ** ä¸ºäº†ä½¿ç”¨è¿™äº›ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»æ˜¾ç¤ºçš„ä½¿ç”¨å…¶ç±»å‹å vector::iterator iter;&#x2F;&#x2F;iteræ˜¯é€šè¿‡vectorå®šä¹‰çš„è¿­ä»£å™¨ç±»å‹ å®¹å™¨çš„beginæˆå‘˜å’Œendæˆå‘˜beginæˆå‘˜ç”Ÿæˆä¸€ä¸ªæŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®çš„è¿­ä»£å™¨endæˆå‘˜ç”ŸæˆæŒ‡å‘å°¾å…ƒç´ ä¹‹åçš„ä½ç½®çš„è¿­ä»£å™¨ å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ– æ¯ä¸ªå®¹å™¨éƒ½å®šä¹‰äº†ä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°ã€‚å®¹å™¨çš„é»˜è®¤çš„æ„é€ å‡½æ•°éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæŒ‡å®šç±»å‹çš„ç©ºå®¹å™¨ï¼Œä»–ä»¬éƒ½å¯ä»¥æ¥å—æŒ‡å®šå®¹å™¨å¤§å°å’Œå…ƒç´ åˆå§‹å€¼çš„å‚æ•° ç”±äºarrayæ˜¯å›ºå®šå¤§å°çš„æ•°ç»„ã€‚å®šä¹‰ä¸€ä¸ªarrayæ—¶ï¼Œé™¤äº†åˆ¶å®šå…ƒç´ ç±»å‹å¤–ï¼Œè¿˜è¦æŒ‡å®šå®¹å™¨çš„å¤§å° åˆ›å»ºä¸€ä¸ªå®¹å™¨ä¸ºå¦ä¸€ä¸ªå®¹å™¨çš„æ‹·è´æ—¶ï¼Œä¸¤ä¸ªå®¹å™¨çš„ç±»å‹ä»¥åŠå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒ å½“ä¼ é€’è¿­ä»£å™¨å‚æ•°æ¥æ‹·è´ä¸€ä¸ªèŒƒå›´æ—¶ï¼Œä¸è¦æ±‚å®¹å™¨çš„ç±»å‹å¿…é¡»ç›¸åŒï¼Œä¸”æ–°å®¹å™¨å’ŒåŸå®¹å™¨çš„å…ƒç´ ç±»å‹ä¹Ÿå¯ä»¥ä¸åŒï¼Œåªè¦èƒ½å°†è¦æ‹·è´çš„å…ƒç´ çš„ç±»å‹è½¬æ¢ä¸ºè¦åˆå§‹åŒ–çš„å®¹å™¨çš„å…ƒç´ ç±»å‹å³å¯ å®šä¹‰&amp;åˆå§‹åŒ–æ–¹å¼ è¯´æ˜ C a é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœCæ˜¯ä¸€ä¸ªarrayï¼Œåˆ™aä¸­å…ƒç´ æŒ‰é»˜è®¤æ–¹å¼åˆå§‹åŒ–ï¼Œå¦åˆ™aä¸ºç©º C a(b)C a&#x3D;b aåˆå§‹åŒ–ä¸ºbçš„æ‹·è´ã€‚**aå’Œbå¿…é¡»æ˜¯ç›¸åŒçš„ç±»å‹(å®ƒä»¬å¿…é¡»æ˜¯ç›¸åŒçš„å®¹å™¨ç±»å‹ï¼Œä¸”ä¿å­˜çš„æ˜¯ç›¸åŒçš„å…ƒç´ ç±»å‹)**ï¼Œå¯¹äºarrayæˆ‘ä»¬è¿˜è¦å®šä¹‰å®ƒçš„å¤§å° C a{b,c,d,e,f,â€¦}C a&#x3D;{b,c,d,e,f,â€¦} aåˆå§‹åŒ–ä¸ºåˆå§‹åŒ–åˆ—è¡¨ä¸­å…ƒç´ çš„æ‹·è´ã€‚åˆ—è¡¨ä¸­çš„å…ƒç´ ç±»å‹å¿…é¡»ä¸açš„å…ƒç´ ç±»å‹ç›¸å®¹ã€‚å¯¹äºarrayæ¥è¯´ï¼Œåˆ—è¡¨å…ƒç´ çš„æ•°ç›®å¿…é¡»å°äºæˆ–ç­‰äºarrayçš„å¤§å°ï¼Œä»»ä½•é—æ¼çš„å…ƒç´ ç›´æ¥è¿›è¡Œå€¼åˆå§‹åŒ– C a(b_iterator,c_iterator) aåˆå§‹åŒ–ä¸ºè¿­ä»£å™¨b_iteratorå’Œc_iteratoræŒ‡å®šèŒƒå›´ä¸­å…ƒç´ çš„æ‹·è´ï¼ŒèŒƒå›´ä¸­å…ƒç´ çš„ç±»å‹å¿…é¡»ä¸açš„å…ƒç´ ç±»å‹ç›¸å®¹ C a(n) aåŒ…å«nä¸ªå…ƒç´ ï¼Œè¿™äº›å…ƒç´ è¿›è¡Œäº†å€¼åˆå§‹åŒ–ï¼Œæ­¤æ„é€ å‡½æ•°explicitçš„ï¼Œstringå’Œarrayä¸é€‚ç”¨ C a(n,value) aåŒ…å«nä¸ªåˆå§‹åŒ–ä¸ºå€¼valueçš„å…ƒç´  123456789101112131415161718192021222324252627#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;list&gt;#include&lt;forward_list&gt;using namespace std;int main()&#123; list&lt;string&gt; svec(10,&quot;shan&quot;); for(auto i:svec) &#123; cout&lt;&lt;i&lt;&lt;endl; &#125; //vector&lt;string&gt; vec = svec;//#é”™è¯¯ï¼Œå®¹å™¨ç±»å‹ä¸åŒ¹é… forward_list&lt;string&gt; fvec(svec.begin(),svec.end());//ä½¿ç”¨è¿­ä»£å™¨èŒƒå›´è¿›è¡Œæ‹·è´åˆå§‹åŒ– for(auto temp:fvec) &#123; cout&lt;&lt;temp&lt;&lt;endl; &#125; return 0;&#125; æ ‡å‡†åº“arrayçš„ä½¿ç”¨ å®šä¹‰ä¸€ä¸ªarrayæ—¶ï¼Œæˆ‘ä»¬è¦æŒ‡å®šå…ƒç´ çš„ç±»å‹ï¼Œè¿˜è¦æŒ‡å®šå®¹å™¨çš„å¤§å° ç”±äºå¤§å°æ˜¯arrayç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œarrayä¸æ”¯æŒä¸åŒå®¹å™¨ç±»å‹çš„æ„é€ å‡½æ•° å¯¹arrayè¿›è¡Œåˆ—è¡¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œåˆå§‹å€¼çš„æ•°ç›®å¿…é¡»ç­‰äºæˆ–å°äºarrayçš„å¤§å° arrayè¦æ±‚åˆå§‹å€¼çš„ç±»å‹å¿…é¡»è¦ä¸åˆ›å»ºçš„å®¹å™¨ç±»å‹ç›¸ä¸€è‡´ è™½ç„¶æˆ‘ä»¬ä¸èƒ½å¯¹å†…ç½®çš„æ•°ç»„è¿›è¡Œæ‹·è´æˆ–å¯¹è±¡èµ‹å€¼æ“ä½œï¼Œä½†æ˜¯arrayå¹¶æ— æ­¤é™åˆ¶ 123456789101112131415161718192021222324252627#include&lt;iostream&gt;#include&lt;array&gt;using namespace std;int main()&#123; array&lt;int ,10&gt; num_1;//å®šä¹‰äº†ä¸€ä¸ªä¿å­˜10ä¸ªintçš„æ•°ç»„ for(auto i:num_1) cout&lt;&lt;i&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; array&lt;int ,10&gt; num_2=&#123;1,2,3,4,5,6,7,8,9,10&#125;; for(auto i:num_2) cout&lt;&lt;i&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; int d[5]=&#123;3,6,9,12,15&#125;; //int b[5]=d; è¿™æ˜¯é”™è¯¯çš„ï¼Œå†…ç½®æ•°ç»„ä¸æ”¯æŒæ‹·è´å’Œèµ‹å€¼ array&lt;int ,6&gt; try_1=&#123;4,5,6,7,8,9&#125;; array&lt;int ,6&gt; try_2=try_1; for(auto temp:try_2) cout&lt;&lt;temp&lt;&lt;&quot; &quot;; return 0;&#125; å®¹å™¨æ“ä½œswapå’Œassign a.swap(b):ç”¨äºäº¤æ¢ä¸¤ä¸ªå®¹å™¨ä¸­çš„å…ƒç´ ï¼Œä¸¤ä¸ªå®¹å™¨å¿…é¡»å…·æœ‰ç›¸åŒçš„ç±»å‹ swap(a,b):ç”¨äºäº¤æ¢ä¸¤ä¸ªç›¸åŒç±»å‹çš„å®¹å™¨ä¸­çš„å…ƒç´  a.assign(1_iterator,2_iterator):å°†aä¸­çš„å…ƒç´ æ›¿æ¢ä¸ºè¿­ä»£å™¨1_iteratorå’Œ2_iteratorèŒƒå›´ä¸­çš„å…ƒç´ ï¼Œè¿­ä»£å™¨ä¸èƒ½æŒ‡å‘aä¸­çš„å…ƒç´  a.assign(value_list): å°†aä¸­çš„å…ƒç´ åˆå§‹åŒ–ä¸ºåˆå§‹åŒ–åˆ—è¡¨value_listä¸­çš„å…ƒç´  a.assign(n,value):å°†aä¸­çš„å…ƒç´ æ›¿æ¢ä¸ºnä¸ªå€¼ä¸ºvalueçš„å…ƒç´  123456789101112131415161718192021222324252627282930313233343536373839404142#include&lt;iostream&gt;#include&lt;vector&gt;using namespace std;int main()&#123; vector&lt;int&gt; a=&#123;1,2,3,4,5,6&#125;; vector&lt;int&gt; b; b.assign(&#123;6,7,8,9,10,11&#125;); cout&lt;&lt;endl; for(auto temp:b) cout&lt;&lt;temp&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; b.assign(a.begin(),a.end()); for(auto temp:b) cout&lt;&lt;temp&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; /* * swapæ“ä½œäº¤æ¢ä¸¤ä¸ªç›¸åŒç±»å‹å®¹å™¨çš„å†…å®¹ * assingæ“ä½œç”¨å‚æ•°æ‰€æŒ‡å®šçš„å…ƒç´ (å³æ‹·è´)æ›¿æ¢å·¦è¾¹å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ * assignå…è®¸æˆ‘ä»¬ä»ä¸åŒä½†ç›¸å®¹çš„ç±»å‹èµ‹å€¼ï¼Œæˆ–è€…ä»ä¸€ä¸ªå®¹å™¨çš„å­åºåˆ—èµ‹å€¼ * é™¤äº†stringå¤–ï¼ŒæŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€å¼•ç”¨å’ŒæŒ‡é’ˆåœ¨swapæ“ä½œåéƒ½ä¸ä¼šå¤±æ•ˆ */ vector&lt;int&gt; temp=&#123;11,22,33,44,55,66,77,88&#125;; b.swap(temp); cout&lt;&lt;&quot;temp: &quot;; cout&lt;&lt;&quot;size-&quot;&lt;&lt;temp.size()&lt;&lt;&quot; &quot;; for(auto i=temp.begin();i != temp.end();i++) cout&lt;&lt;*i&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; cout&lt;&lt;endl; cout&lt;&lt;&quot;b: &quot;; cout&lt;&lt;&quot;size-&quot;&lt;&lt;b.size()&lt;&lt;&quot; &quot;; for(auto j=b.begin();j != b.end();j++) cout&lt;&lt;*j&lt;&lt;&quot; &quot;; return 0;&#125; å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ ï¼ˆarrayä¸æ”¯æŒè¿™äº›æ“ä½œï¼‰ &ensp; è¯´æ˜ C.push_back(t)C.emplace_back(args) åœ¨Cçš„å°¾éƒ¨åˆ›å»ºä¸€ä¸ªå€¼ä¸ºtæˆ–ç”±argsåˆ›å»ºçš„å…ƒç´ ã€‚è¿”å›voidç±»å‹ C.push_front(t)C.emplace_front(args) åœ¨Cçš„å¤´éƒ¨åˆ›å»ºä¸€ä¸ªå€¼ä¸ºtæˆ–ç”±argsåˆ›å»ºçš„å…ƒç´ ï¼Œè¿”å›æŒ‡å‘æ–°æ·»åŠ çš„å…ƒç´ çš„è¿­ä»£å™¨ C.insert(p_iterator,t)C.emplace(p_iterator,args) åœ¨è¿­ä»£å™¨p_iteratorä¹‹å‰æ’å…¥ä¸€ä¸ªå€¼ä¸ºtæˆ–ç”±argsåˆ›å»ºçš„å…ƒç´ ï¼Œè¿”å›æŒ‡å‘æ–°æ·»åŠ çš„å…ƒç´ çš„è¿­ä»£å™¨ C.insert(p_iterator,n,t) åœ¨è¿­ä»£å™¨p_iteratoræŒ‡å‘çš„å…ƒç´ ä¹‹å‰æ’å…¥nä¸ªå€¼ä¸ºtçš„å…ƒç´ ï¼Œè¿”å›æŒ‡å‘æ–°æ’å…¥çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥nä¸º0ï¼Œåˆ™è¿”å›p_iterator C.insert(p_iterator,a_iterator,b_iterator) å°†è¿­ä»£å™¨a_iteratorå’Œb_iteratoræŒ‡å®šçš„èŒƒå›´å†…çš„å…ƒç´ æ’å…¥åˆ°è¿­ä»£å™¨p_iteratoræŒ‡å‘çš„å…ƒç´ ä¹‹å‰ï¼Œè¿­ä»£å™¨èŒƒå›´ä¸èƒ½æŒ‡å‘Cä¸­çš„å…ƒç´ ã€‚è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªæ–°æ·»åŠ çš„å…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥èŒƒå›´ä¸ºç©ºï¼Œåˆ™è¿”å›p_iterator C.insert(p_iterator,li) å°†ç”±èŠ±æ‹¬å·æ‹¬èµ·æ¥çš„å…ƒç´ å€¼åˆ—è¡¨liæ’å…¥å¾…è¿­ä»£å™¨p_iteratoræ‰€æŒ‡çš„å…ƒç´ ä¹‹å‰ã€‚è¿”å›æ–°æ·»åŠ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å›p_iterator å‘ä¸€ä¸ªvectorã€stringæˆ–dequeä¸­æ’å…¥å…ƒç´ ä¼šä½¿æ‰€æœ‰æŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€å¼•ç”¨å’ŒæŒ‡é’ˆå¤±æ•ˆ è®°ä½ï¼Œinsertå‡½æ•°å°†å…ƒç´ æ’å…¥åˆ°è¿­ä»£å™¨æ‰€æŒ‡å®šçš„ä½ç½®ä¹‹å‰ å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªå¯¹è±¡æ¥åˆå§‹åŒ–å®¹å™¨æ—¶ï¼Œæˆ–å°†ä¸€ä¸ªå¯¹è±¡æ’å…¥åˆ°å®¹å™¨ä¸­çš„æ—¶ï¼Œå®é™…ä¸Šæ”¾å…¥åˆ°å®¹å™¨ä¸­çš„æ˜¯å¯¹è±¡çš„å€¼çš„æ‹·è´ï¼Œè€Œä¸æ˜¯å¯¹è±¡æœ¬èº« vectorã€listã€dequeã€stringéƒ½æ”¯æŒinsertæˆå‘˜ï¼Œforward_listæä¾›äº†ç‰¹æ®Šç‰ˆæœ¬çš„insertæˆå‘˜ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;list&gt;using namespace std;void operated_1()&#123; vector&lt;string&gt; ss&#123;&quot;shansan&quot;,&quot;wocao&quot;,&quot;yeshan&quot;&#125;; vector&lt;string&gt; v; for(auto i:ss) v.push_back(i); for(auto temp:v) cout&lt;&lt;temp&lt;&lt;&quot; &quot;;&#125;void operated_2()&#123; list&lt;int&gt; ls; for(int num=3;num&gt;=0;num--) ls.push_front(num); for(int i=5;i&lt;8;i++) ls.push_back(i); for(auto i=ls.begin();i != ls.end(); i++) cout&lt;&lt;*i&lt;&lt;&quot; &quot;;&#125;void operated_3()&#123; vector&lt;int&gt; v_1&#123;1,2,3,4,5&#125;; vector&lt;int&gt; v_2&#123;6,7,8,9,10&#125;; v_1.insert(v_1.begin(),66);//åœ¨è¿­ä»£å™¨v_1.begin()æ‰€æŒ‡çš„å…ƒç´ ä¹‹å‰æ’å…¥ä¸€ä¸ªå…ƒç´ 66 for(auto temp: v_1) cout&lt;&lt;temp&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; v_1.insert(v_1.begin(),v_2.begin(),v_2.end()); //åœ¨è¿­ä»£å™¨v_1.begin()æ‰€æŒ‡çš„å…ƒç´ ä¹‹å‰ï¼Œæ’å…¥è¿­ä»£å™¨v_2.begin()åˆ°v_2.end()æŒ‡é¡¶èŒƒå›´å†…çš„å…ƒç´  for(auto temp:v_1) cout&lt;&lt;temp&lt;&lt;&quot; &quot;;&#125;int main()&#123; operated_1(); cout&lt;&lt;endl; operated_2(); cout&lt;&lt;endl; operated_3(); return 0;&#125; emplaceæ“ä½œ å½“è°ƒç”¨ä¸€ä¸ªinsertæˆ–pushæˆå‘˜å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å°†å…ƒç´ ç±»å‹çš„å¯¹è±¡ä¼ é€’ç»™å®ƒä»¬ï¼Œè¿™äº›å¯¹è±¡è¢«æ‹·è´åˆ°å®¹å™¨ä¸­å½“è°ƒç”¨ä¸€ä¸ªemplaceå‡½æ•°æ—¶ï¼Œåˆ™æ˜¯å°†å‚æ•°ä¼ é€’ç»™å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ã€‚emplaceæˆå‘˜ç›´æ¥ä½¿ç”¨è¿™äº›å‚æ•°åœ¨å®¹å™¨ç®¡ç†çš„å†…å­˜ç©ºé—´ä¸­ç›´æ¥æ„é€ å‡½æ•° emplaceå‡½æ•°åœ¨å®¹å™¨ä¸­ç›´æ¥æ„é€ å‡½æ•°ã€‚ä¼ é€’ç»™emplaceå‡½æ•°çš„å‚æ•°å¿…é¡»ä¸å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ç›¸åŒ¹é… 12345678910111213141516171819202122232425262728293031323334#include&lt;iostream&gt;#include&lt;vector&gt;using namespace std;class student&#123; public: student(string str,int a):name(str),age(a)&#123;&#125; void print_1() &#123; cout&lt;&lt;&quot;name: &quot;&lt;&lt;this-&gt;name&lt;&lt;&quot;,&quot;&lt;&lt;&quot;Age: &quot;&lt;&lt;this-&gt;age&lt;&lt;endl; &#125; private: int age; string name;&#125;;int main()&#123; vector&lt;student&gt; s;//æˆ‘ä»¬å°†studentå­˜åˆ°äº†vectorä¸­ s.emplace_back(&quot;shansan&quot;,18);//ä½¿ç”¨studentå¯¹è±¡çš„æ„é€ å‡½æ•° auto temp=s.begin(); (*temp).print_1(); cout&lt;&lt;endl; //s.push_back(&quot;try&quot;,66);//errorï¼šæ²¡æœ‰æ¥å—ä¸¤ä¸ªå‚æ•°çš„push_backç‰ˆæœ¬ s.push_back(student(&quot;try&quot;,66));//åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„studentå¯¹è±¡ä¼ é€’ç»™push_back for(auto i:s) i.print_1(); return 0;&#125; è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´  è®¿é—®æ“ä½œ è¯´æ˜ c.back() è¿”å›cä¸­å°¾å…ƒç´ çš„å¼•ç”¨ã€‚è‹¥cä¸ºç©ºï¼Œå‡½æ•°è¡Œä¸ºæœªå®šä¹‰ c.front() è¿”å›cä¸­é¦–å…ƒç´ çš„å¼•ç”¨ã€‚è‹¥cä¸ºç©ºï¼Œå‡½æ•°è¡Œä¸ºæœªå®šä¹‰ c[n] è¿”å›cä¸­ä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å¼•ç”¨ï¼Œnæ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ã€‚è‹¥n&gt;&#x3D;c.size()ï¼Œåˆ™å‡½æ•°è¡Œä¸ºæœªå®šä¹‰ c.at(n) è¿”å›ä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å¼•ç”¨ã€‚å¦‚æœä¸‹æ ‡è¶Šç•Œï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªout_of_rangeå¼‚å¸¸ 123456789101112131415161718192021#include&lt;iostream&gt;#include&lt;vector&gt;using namespace std;int main()&#123; /* * ä¸è¦å¯¹ä¸€ä¸ªç©ºçš„å®¹å™¨ä½¿ç”¨frontå’Œbackæ“ä½œ * atå’Œä¸‹æ ‡æ“ä½œåªé€‚ç”¨äºstringã€vectorã€dequeå’Œarray * backä¸é€‚ç”¨äºforward_list */ vector&lt;int&gt; v&#123;1,6&#125;; int a = v.front(); a=33; cout&lt;&lt;&quot;v[0]=&quot;&lt;&lt;v[0]&lt;&lt;endl; int &amp;refer = v.front(); refer =33;//æ”¹å˜äº†v[0]çš„å€¼ cout&lt;&lt;&quot;v[0]=&quot;&lt;&lt;v[0]; return 0;&#125; ç”±äºè®¿é—®æˆå‘˜å‡½æ•°çš„è¿”å›å€¼æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¦‚æœæ˜¯éconstçš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥æ”¹å˜å…ƒç´ çš„å€¼ åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´  åˆ é™¤æ“çºµ è¯´æ˜ c.pop_back() åˆ é™¤cçš„å°¾å…ƒç´ ï¼Œå¦‚æœcæ˜¯ç©ºçš„ï¼Œåˆ™å‡½æ•°è¡Œä¸ºæœªå®šä¹‰ã€‚å‡½æ•°è¿”å›void c.pop_front() åˆ é™¤cçš„é¦–å…ƒç´ ï¼Œå¦‚æœcæ˜¯ç©ºçš„ï¼Œåˆ™å‡½æ•°è¡Œä¸ºæœªå®šä¹‰ã€‚å‡½æ•°è¿”å›void c.erase(p_iterator) åˆ é™¤è¿­ä»£å™¨p_iteratoræ‰€æŒ‡å®šçš„å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘è¢«åˆ é™¤çš„å…ƒç´ ä¹‹åå…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥p_iteratoræŒ‡å‘å°¾å…ƒç´ ï¼Œåˆ™è¿”å›å°¾åè¿­ä»£å™¨ï¼Œè‹¥p_iteratoræ˜¯å°¾åè¿­ä»£å™¨ï¼Œåˆ™å‡½æ•°è¡Œä¸ºæœªå®šä¹‰ c.erase(a_iterator,b_iterator) åˆ é™¤è¿­ä»£å™¨a_iteratorå’Œb_iteratoræ‰€æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘æœ€åä¸€ä¸ªè¢«åˆ å…ƒç´ ä¹‹åå…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥b_iteratoræœ¬èº«å°±æ˜¯å°¾åè¿­ä»£å™¨ï¼Œåˆ™è¿”å›å°¾åè¿­ä»£å™¨ c.clear() åˆ é™¤cä¸­æ‰€æœ‰çš„å…ƒç´  åˆ é™¤dequeä¸­é™¤é¦–å°¾ä½ç½®ä¹‹å¤–çš„ä»»ä½•å…ƒç´ éƒ½ä¼šä½¿è¿­ä»£å™¨ã€å¼•ç”¨å’ŒæŒ‡é’ˆå¤±æ•ˆã€‚æŒ‡å‘vectoræˆ–stringä¸­åˆ é™¤ç‚¹ä½ç½®ä¹‹åçš„è¿­ä»£å™¨ã€å¼•ç”¨å’ŒæŒ‡é’ˆéƒ½ä¼šå¤±æ•ˆ 1234567891011121314151617181920212223242526272829303132#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;list&gt;using namespace std;int main()&#123; vector&lt;string&gt; str&#123;&quot;shansan&quot;,&quot;wocao&quot;,&quot;555&quot;&#125;; for(auto temp:str) cout&lt;&lt;temp&lt;&lt;&quot; &quot;; str.pop_back(); cout&lt;&lt;endl; for(auto temp:str) cout&lt;&lt;temp&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; str.erase(str.begin(),str.end()); for(auto temp:str) cout&lt;&lt;temp&lt;&lt;&quot; &quot;; list&lt;int&gt; lst=&#123;0,1,2,3,4,5,6,7,8,9,10&#125;; auto it = lst.begin(); while(it != lst.end()) &#123; if(*it%2) it = lst.erase(it);//åˆ é™¤å¥‡æ•°å…ƒç´ ,è¿”å›æŒ‡å‘è¢«åˆ é™¤å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ else it++; &#125; for(auto temp:lst) cout&lt;&lt;temp&lt;&lt;&quot; &quot;; return 0;&#125; æ”¹å˜å®¹å™¨å¤§å° c.resize(n):è°ƒæ•´cçš„å¤§å°ä¸ºnä¸ªå…ƒç´ ã€‚è‹¥n&lt;c.size()ï¼Œåˆ™å¤šå‡ºçš„å…ƒç´ è¢«ä¸¢å¼ƒï¼›è‹¥å¿…é¡»æ·»åŠ æ–°å…ƒç´ ï¼Œå¯¹æ–°å…ƒç´ è¿›è¡Œå€¼åˆå§‹åŒ– c.resize(n,t):è°ƒæ•´cçš„å¤§å°ä¸ºnä¸ªå…ƒç´ ï¼Œä»»ä½•æ–°æ·»åŠ çš„å…ƒç´ éƒ½åˆå§‹åŒ–ä¸ºå€¼t 1234567891011121314151617181920212223242526#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;deque&gt;using namespace std;int main()&#123; vector&lt;int&gt; v&#123;22,33,3&#125;; cout&lt;&lt;&quot;v capacity:&quot;&lt;&lt;v.capacity()&lt;&lt;endl; v.resize(6,1); cout&lt;&lt;&quot;v size:&quot;&lt;&lt;v.size()&lt;&lt;endl; cout&lt;&lt;&quot;v capacity:&quot;&lt;&lt;v.capacity()&lt;&lt;endl; for(auto i:v) cout&lt;&lt;i&lt;&lt;&quot; &quot;; /* - ä½¿ç”¨reserveæ“ä½œé€šçŸ¥å®¹å™¨åº”è¯¥ä¸ºæˆ‘ä»¬é¢„ç•™å¤šå°‘ç©ºé—´ - resizeæˆå‘˜å‡½æ•°åªæ”¹å˜å®¹å™¨ä¸­æˆå‘˜å‡½æ•°çš„æ•°ç›®ï¼Œä¸æ”¹å˜å®¹å™¨çš„å®¹é‡ - å®¹å™¨çš„sizeæ“ä½œæŒ‡çš„æ˜¯å®ƒå·²ç»ä¿å­˜çš„å…ƒç´ çš„æ•°ç›® - capacityåˆ™æ˜¯åœ¨ä¸ä¸åˆ†é…æ–°çš„å†…å­˜ç©ºé—´çš„å‰æä¸‹çŸ¥é“å®ƒæœ€å¤šå¯ä»¥ä¿å­˜å¤šå°‘ä¸ªå…ƒç´  */ v.reserve(100); cout&lt;&lt;endl&lt;&lt;&quot;v capacity:&quot;&lt;&lt;v.capacity()&lt;&lt;endl; cout&lt;&lt;&quot;v size:&quot;&lt;&lt;v.size()&lt;&lt;endl; return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"Keep on moving ï¼","slug":"Keep-on-moving-ï¼","date":"2018-11-27T00:35:22.000Z","updated":"2018-11-27T00:35:22.000Z","comments":true,"path":"2018/11/27/Keep-on-moving-ï¼/","permalink":"https://yeshan333.github.io/2018/11/27/Keep-on-moving-%EF%BC%81/","excerpt":"","text":"æ¯”èµ›ç»ˆäºå®Œäº†ï¼åˆå¯ä»¥å®‰å¿ƒæ‰“ä»£ç çœ‹ä¹¦äº†emmmmmmm","categories":[],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"å†æ¢å‡½æ•°","slug":"å†æ¢å‡½æ•°","date":"2018-11-22T00:16:21.000Z","updated":"2018-11-22T00:16:21.000Z","comments":true,"path":"2018/11/22/å†æ¢å‡½æ•°/","permalink":"https://yeshan333.github.io/2018/11/22/%E5%86%8D%E6%8E%A2%E5%87%BD%E6%95%B0/","excerpt":"main:å¤„ç†å‘½ä»¤è¡Œ//mainå‡½æ•°çš„ä¸¤ç§å®šä¹‰å½¢å¼ int main(int argc,char **argv[]) int main(int argc,char *argv[]) argc:æŒ‡çš„æ˜¯å‘½ä»¤è¡Œä¸­è¾“å…¥å‚æ•°çš„ä¸ªæ•° argv:ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒå­˜å‚¨äº†æ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•°","text":"main:å¤„ç†å‘½ä»¤è¡Œ//mainå‡½æ•°çš„ä¸¤ç§å®šä¹‰å½¢å¼ int main(int argc,char **argv[]) int main(int argc,char *argv[]) argc:æŒ‡çš„æ˜¯å‘½ä»¤è¡Œä¸­è¾“å…¥å‚æ•°çš„ä¸ªæ•° argv:ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒå­˜å‚¨äº†æ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•° å‚æ•°ä½¿ç”¨ç¤ºä¾‹å­: 1234567891011121314//file_name:test.cpp//author:shansan#include&lt;iostream&gt;#include&lt;stdio.h&gt;using namespace std;int main(int argc,char **argv)&#123; int i; for(i=0;i&lt;argc;i++) &#123; printf(&quot;argv[%d]=%s\\n&quot;,i,argv[i]); &#125; return 0;&#125; å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°initializer_listå½¢å‚ initializer_listæ˜¯ä¸€ç§æ ‡å‡†åº“ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸç§ç‰¹å®šç±»å‹çš„å€¼çš„æ•°ç»„ initializer_listä¹Ÿæ˜¯ä¸€ç§æ¨¡æ¿ç±»å‹ æ”¯æŒsize(),begin(),end()ç­‰æ“ä½œ å‘initializer_listå½¢å‚ä¸­ä¼ é€’ä¸€ä¸ªå€¼çš„åºåˆ—ï¼Œåˆ™å¿…é¡»æŠŠåºåˆ—æ”¾åœ¨èŠ±æ‹¬å·ä¸­ 123456789101112131415161718192021222324252627282930313233#include&lt;iostream&gt;using namespace std;void print_1(initializer_list&lt;string&gt; str)&#123; //éå†å®å‚è¡¨åˆ—,ä½¿ç”¨initializer_listå¯¹è±¡çš„æˆå‘˜beginå’Œendè¿›è¡Œéå† cout&lt;&lt;&quot;parameter nums: &quot;&lt;&lt;str.size()&lt;&lt;endl; for(auto temp = str.begin();temp != str.end(); ++temp) &#123; cout&lt;&lt;*temp&lt;&lt;endl; &#125; cout&lt;&lt;endl; //ç”¨èŒƒå›´forè¯­å¥éå†è¡¨åˆ— for(auto beg : str) &#123; cout&lt;&lt;beg&lt;&lt;endl; &#125;&#125;int main()&#123; const string a = &quot;shansan&quot;; string b = &quot;yeshan333&quot;; string c = &quot;wocao&quot;; //å‘initializer_listå½¢å‚ä¸­ä¼ é€’ä¸€ä¸ªå€¼çš„åºåˆ—éœ€æ”¾åœ¨èŠ±æ‹¬å·å†…éƒ¨ print_1(&#123;a,b,c&#125;); return 0;&#125; å‡½æ•°è¿”å›å€¼â€”â€“åˆ—è¡¨åˆå§‹åŒ–è¿”å›å€¼ å‡½æ•°å¯ä»¥è¿”å›èŠ±æ‹¬å·åŒ…å›´çš„å€¼çš„åˆ—è¡¨ å¦‚æœå‡½æ•°è¿”å›çš„æ˜¯å†…ç½®ç±»å‹ï¼Œåˆ™èŠ±æ‹¬å·åŒ…å›´çš„åˆ—è¡¨æœ€å¤šåŒ…å«ä¸€ä¸ªå€¼ï¼Œè€Œä¸”è¯¥å€¼æ‰€å ç©ºé—´ä¸åº”è¯¥å¤§äºç›®æ ‡ç±»å‹çš„ç©ºé—´ å¦‚æœå‡½æ•°è¿”å›çš„æ˜¯ç±»ç±»å‹ï¼Œç”±ç±»æœ¬èº«å®šä¹‰åˆå§‹å€¼å¦‚ä½•ä½¿ç”¨ 1234567891011121314151617181920#include&lt;iostream&gt;#include&lt;vector&gt;using namespace std;vector&lt;string&gt; process()&#123; return &#123;&quot;shansan&quot;,&quot;yeshan333&quot;&#125;;&#125;int main()&#123; vector&lt;string&gt; v; v = process(); //éå†vectorå¯¹è±¡ for(auto temp : v) &#123; cout&lt;&lt;temp&lt;&lt;endl; &#125; return 0;&#125; è°ƒè¯•å¸®åŠ©ï¼Œé¢„å®šä¹‰è·Ÿè¸ªè°ƒè¯•ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬å®šä¹‰çš„ func:å­˜æ”¾å½“å‰è°ƒè¯•å‡½æ•°çš„åå­— FILE:å­˜æ”¾æ–‡ä»¶åçš„å­—ç¬¦ä¸²å­—é¢å€¼å¸¸é‡ LINE:å­˜æ”¾æ–‡ä»¶å½“å‰è¡Œå·çš„æ•´å‹å­—é¢å€¼ TIME:å­˜æ”¾æ–‡ä»¶ç¼–è¯‘æ—¶é—´çš„å­—ç¬¦ä¸²å­—é¢å€¼å¸¸é‡ DATE:å­˜æ”¾æ–‡ä»¶ç¼–è¯‘æ—¥æœŸçš„å­—ç¬¦ä¸²å­—é¢å€¼å¸¸é‡","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"IOç±»å‹","slug":"IOç±»å‹","date":"2018-11-22T00:13:54.000Z","updated":"2018-11-22T00:13:54.000Z","comments":true,"path":"2018/11/22/IOç±»å‹/","permalink":"https://yeshan333.github.io/2018/11/22/IO%E7%B1%BB%E5%9E%8B/","excerpt":"IOåº“** IOåº“è®¾æ–½: ** istreamç±»å‹:æä¾›è¾“å…¥æ“ä½œ ostreamç±»å‹:æä¾›è¾“å‡ºæ“ä½œ cin:ä¸€ä¸ªistreamå¯¹è±¡ï¼Œä»æ ‡å‡†è¾“å…¥è¯»å–æ•°æ® cout:ä¸€ä¸ªostreamå¯¹è±¡ï¼Œä»æ ‡å‡†è¾“å‡ºå†™å…¥æ•°æ® cerr:ä¸€ä¸ªostreamå¯¹è±¡ï¼Œé€šå¸¸ç”¨äºè¾“å‡ºç¨‹åºé”™è¯¯ä¿¡æ¯ï¼Œå†™å…¥åˆ°æ ‡å‡†é”™è¯¯ &gt;&gt;è¿ç®—ç¬¦:ç”¨æ¥ä»ä¸€ä¸ªistreamå¯¹è±¡è¯»å–è¾“å…¥æ•°æ® &lt;&lt;è¿ç®—ç¬¦:ç”¨æ¥å‘ä¸€ä¸ªostreamå¯¹è±¡å†™å…¥æ•°æ® getlineå‡½æ•°:ä»ä¸€ä¸ªç»™å®šçš„istreamè¯»å–ä¸€è¡Œæ•°æ®ï¼Œå­˜å…¥ä¸€ä¸ªç»™å®šçš„stringå¯¹è±¡ä¸­","text":"IOåº“** IOåº“è®¾æ–½: ** istreamç±»å‹:æä¾›è¾“å…¥æ“ä½œ ostreamç±»å‹:æä¾›è¾“å‡ºæ“ä½œ cin:ä¸€ä¸ªistreamå¯¹è±¡ï¼Œä»æ ‡å‡†è¾“å…¥è¯»å–æ•°æ® cout:ä¸€ä¸ªostreamå¯¹è±¡ï¼Œä»æ ‡å‡†è¾“å‡ºå†™å…¥æ•°æ® cerr:ä¸€ä¸ªostreamå¯¹è±¡ï¼Œé€šå¸¸ç”¨äºè¾“å‡ºç¨‹åºé”™è¯¯ä¿¡æ¯ï¼Œå†™å…¥åˆ°æ ‡å‡†é”™è¯¯ &gt;&gt;è¿ç®—ç¬¦:ç”¨æ¥ä»ä¸€ä¸ªistreamå¯¹è±¡è¯»å–è¾“å…¥æ•°æ® &lt;&lt;è¿ç®—ç¬¦:ç”¨æ¥å‘ä¸€ä¸ªostreamå¯¹è±¡å†™å…¥æ•°æ® getlineå‡½æ•°:ä»ä¸€ä¸ªç»™å®šçš„istreamè¯»å–ä¸€è¡Œæ•°æ®ï¼Œå­˜å…¥ä¸€ä¸ªç»™å®šçš„stringå¯¹è±¡ä¸­ IOç±» å¤´æ–‡ä»¶ IOåº“ç±»å‹ iostream istream,wistreamä»æµè¯»å–æ•°æ®ostream,wostreamå‘æµå†™å…¥æ•°æ®iostream,wiostreamè¯»å†™æµ fstream ifstream,wistreamä»æ–‡ä»¶è¯»å–æ•°æ®ofstream,wofstreamå‘æ–‡ä»¶å†™å…¥æ•°æ®fstream,wfstreamè¯»å†™æ–‡ä»¶ sstream istringstream,wistringstreamä»stringè¯»å–æ•°æ®ostringstream,wostringstreamå‘stringå†™å…¥æ•°æ®stringstream,wstringstreamè¯»å†™string IOå¯¹è±¡æ²¡æœ‰æ‹·è´æˆ–èµ‹å€¼ å®šä¹‰å‡½æ•°æ—¶ä¸èƒ½å°†å½¢å‚è®¾ç½®ä¸ºæµç±»å‹ è¿›è¡ŒIOæ“ä½œçš„å‡½æ•°é€šå¸¸ä½¿ç”¨å¼•ç”¨æ–¹å¼ä¼ é€’å’Œè¿”å›æµ å› ä¸ºè¯»å†™ä¸€ä¸ªIOå¯¹è±¡ä¼šæ”¹å˜å…¶çŠ¶æ€ï¼Œå› æ­¤ä¼ é€’å’Œè¿”å›çš„å¼•ç”¨ä¸èƒ½æ˜¯constç±»å‹çš„ ä¸€ä¸ªæµä¸€æ—¦å‘ç”Ÿé”™è¯¯ï¼Œå…¶åç»­çš„IOæ“ä½œéƒ½ä¼šå¤±è´¥ 1234567891011121314151617181920#include&lt;iostream&gt;using namespace std;istream&amp; read_print(istream &amp;s)&#123; int score; while(s&gt;&gt;score) &#123; cout&lt;&lt;score&lt;&lt;endl; &#125; s.clear();//æµå¤ä½ï¼Œæ¸…æ¥šæ‰€æœ‰é”™è¯¯æ ‡å¿—ä½ return s;&#125;int main()&#123; read_print(cin); cout&lt;&lt;&quot;shansan&quot;; return 0;&#125; è¾“å‡ºç¼“å†²ç®¡ç†cout&lt;&lt;&quot;shansan&quot; æ–‡æœ¬ä¸²å¯èƒ½ç«‹å³æ‰“å°å‡ºæ¥ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½è¢«æ“ä½œç³»ç»Ÿä¿å­˜åœ¨æ“ä½œç³»ç»Ÿçš„ç¼“å†²åŒºä¸­ï¼Œéšåå†æ‰“å°ã€‚ç¼“å†²æœºåˆ¶çš„å­˜åœ¨å¯ä»¥è®©æ“ä½œç³»ç»Ÿå°†ç¨‹åºçš„å¤šä¸ªè¾“å‡ºæ“ä½œç»„åˆæˆå•ä¸€çš„ç³»ç»Ÿçº§å†™æ“ä½œç”±äºè®¾å¤‡å†™æ“ä½œå¯èƒ½å¾ˆè€—æ—¶é—´ï¼Œå…è®¸æ“ä½œç³»ç»Ÿå°†å¤šä¸ªè¾“å‡ºæ“ä½œç»„åˆä¸ºå•ä¸€çš„è®¾å¤‡å†™æ“ä½œå¯ä»¥å¸¦æ¥å¾ˆå¤§çš„ä¾¿åˆ© ** ä½¿ç”¨æ“çºµç¬¦åˆ·æ–°ç¼“å†²åŒº ** endl:å®Œæˆæ¢è¡Œæœºåˆ¶å¹¶ä¸”åˆ·æ–°ç¼“å†²åŒº ends:ä»…åˆ·æ–°ç¼“å†²åŒº flush:ä»…åˆ·æ–°ç¼“å†²åŒº ç¨‹åºå´©æºƒï¼Œè¾“å‡ºç¼“å†²åŒºä¸ä¼šåˆ·æ–° æ–‡ä»¶IOhttps://shansan.top/2018/10/22/%E5%9D%91%E4%BA%BA%E7%9A%84C++-2/#%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6-amp-amp-%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6å¤´æ–‡ä»¶å®šä¹‰äº†ä¸‰ä¸ªæ–‡ä»¶ç±»å‹æ¥æ”¯æŒæ–‡ä»¶IO ifstream:ä»æ–‡ä»¶è¯»å–æ•°æ® ofstream:å‘æ–‡ä»¶å†™å…¥æ•°æ® fstream:è¯»å’Œå†™æ“ä½œéƒ½èƒ½è¿›è¡Œ æ¯ä¸€ä¸ªæ–‡ä»¶æµå¯¹è±¡éƒ½å®šä¹‰äº†ä¸€ä¸ªåä¸ºopençš„æˆå‘˜å‡½æ•°ï¼Œå®ƒå®Œæˆäº†ä¸€äº›ç³»ç»Ÿç›¸å…³çš„æ“ä½œï¼Œæ¥å®šä½ç»™å®šçš„æ–‡ä»¶ï¼Œå¹¶è§†æƒ…å†µæ‰“å¼€ä¸ºè¯»æˆ–å†™æ¨¡å¼ä¸€æ—¦ä¸€ä¸ªæ–‡ä»¶æµå·²ç»æ‰“å¼€ï¼Œå®ƒå°±ä¿æŒä¸å¯¹åº”æ–‡ä»¶çš„å…³è”ã€‚å¯¹ä¸€ä¸ªå·²ç»æ‰“å¼€çš„æ–‡ä»¶æµè°ƒç”¨openä¼šå¤±è´¥ï¼Œå¹¶ä¼šå¯¼è‡´failbitè¢«ç½®ä½ï¼Œéšåè¯•å›¾ä½¿ç”¨æ–‡ä»¶æµçš„æ“ä½œéƒ½ä¼šå¤±è´¥ ** ifstreamã€ofstreamã€fstreamå¯¹è±¡ä¸Šçš„æ“ä½œï¼Œä»¥ä¸‹æ“ä½œéƒ½é€‚ç”¨ æ“ä½œ è¯´æ˜ fstream file åˆ›å»ºä¸€ä¸ªæœªç»‘å®šçš„æ–‡ä»¶æµ fstream file(file_name) åˆ›å»ºä¸€ä¸ªfstreamå¯¹è±¡ï¼Œå¹¶æ‰“å¼€åå­—ä¸ºfile_nameçš„æ–‡ä»¶ã€‚file_nameå¯ä»¥æ˜¯ä¸€ä¸ªæŒ‡å‘Cé£æ ¼çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªstringç±»å‹ fstream file(file_name,mode) modeä¸ºæŒ‡å®šçš„æ‰“å¼€æ¨¡å¼ fstream.close() å…³é—­ä¸fstreamç»‘å®šçš„æ–‡ä»¶ fstream.is_open() è¿”å›ä¸€ä¸ªboolå€¼ï¼ŒæŒ‡å‡ºä¸fstreamå…³è”çš„æ–‡ä»¶æ˜¯å¦æˆåŠŸè¢«æ‰“å¼€ä¸”å°šæœªè¢«å…³é—­ 123456789101112131415161718192021222324252627282930313233343536#include&lt;iostream&gt;#include&lt;fstream&gt;#include&lt;vector&gt;using namespace std;void write()&#123; ofstream file; file.open(&quot;shansan.txt&quot;); //ç­‰ä»·äºfstream file(&quot;shanshan.txt&quot;); //åƒæ–‡ä»¶å†™å…¥æ•°æ® file&lt;&lt;&quot;shansan&quot;&lt;&lt;endl; file&lt;&lt;&quot;shansan.top&quot;&lt;&lt;endl; file&lt;&lt;&quot;yeshan333.github.io&quot;&lt;&lt;endl; file.close();&#125;void read_print()&#123; string buffer; ifstream read_file(&quot;shansan.txt&quot;); vector&lt;string&gt; v; while(getline(read_file,buffer))//æ¯æ¬¡ä»read_fileè¯»å–ä¸€è¡Œç»™buffer v.push_back(buffer);//å°†bufferå­˜åˆ°vectorå¯¹è±¡vä¸­ for(auto temp:v) cout&lt;&lt;temp&lt;&lt;endl;&#125;int main()&#123; write(); read_print(); return 0;&#125; æ–‡ä»¶æ¨¡å¼æ¯ä¸€ä¸ªæµéƒ½æœ‰ä¸€ä¸ªå…³è”çš„æ–‡ä»¶æ¨¡å¼ï¼Œç”¨æ¥æŒ‡å‡ºå¦‚ä½•ä½¿ç”¨æ–‡ä»¶ã€‚æ¯ä¸€ä¸ªæ–‡ä»¶æµéƒ½å®šä¹‰äº†ä¸€ä¸ªé»˜è®¤çš„æ–‡ä»¶æ¨¡å¼ ä¸ifstreamå…³è”çš„æ–‡ä»¶é»˜è®¤ä»¥inæ¨¡å¼æ‰“å¼€ ä¸ofstreamå…³è”çš„æ–‡ä»¶é»˜è®¤ä»¥outæ¨¡å¼æ‰“å¼€ ä¸fstreamå…³è”çš„æ–‡ä»¶é»˜è®¤ä»¥inå’Œoutæ¨¡å¼æ‰“å¼€ æ–‡ä»¶æ¨¡å¼ è¯´æ˜ in ä»¥è¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ out ä»¥å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ app æ¯æ¬¡å†™æ“ä½œå‰å‡å®šä½åˆ°æ–‡ä»¶æœ«å°¾ ate æ‰“å¼€æ–‡ä»¶åç«‹å³å®šä½åˆ°æ–‡ä»¶æœ«å°¾ trunc æˆªæ–­æ–‡ä»¶ binary ä»¥äºŒè¿›åˆ¶æ–¹å¼è¿›è¡ŒIO","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"æ’åºç®—æ³•","slug":"æ’åºç®—æ³•","date":"2018-11-20T00:35:20.000Z","updated":"2018-11-20T00:35:20.000Z","comments":true,"path":"2018/11/20/æ’åºç®—æ³•/","permalink":"https://yeshan333.github.io/2018/11/20/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/","excerpt":"ç¨³å®šçš„ç›´æ¥æ’å…¥æ’åºåŸºæœ¬æ€æƒ³:æˆ‘ä»¬å°†ä¸€ä¸ªå¾…æ’åºåºåˆ—åˆ†ä¸ºæœ‰åºåŒºå’Œæ— åºåŒºï¼ˆä¸€èˆ¬å¼€å§‹çš„æ—¶å€™å°†ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºæœ‰åºåŒºï¼Œå‰©ä¸‹çš„å…ƒç´ ä½œä¸ºæ— åºåŒºï¼‰ï¼Œæ¯æ¬¡å°†æ— åºåŒºçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºå¾…æ’å…¥è®°å½•ï¼ŒæŒ‰å¤§å°æ’å…¥åˆ°å‰é¢å·²ç»æ’å¥½çš„æœ‰åºåŒºä¸­çš„é€‚å½“ä½ç½®ï¼Œç›´åˆ°è®°å½•å…¨éƒ¨æ’å…¥å®Œæˆä¸ºæ­¢ã€‚(å¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢)","text":"ç¨³å®šçš„ç›´æ¥æ’å…¥æ’åºåŸºæœ¬æ€æƒ³:æˆ‘ä»¬å°†ä¸€ä¸ªå¾…æ’åºåºåˆ—åˆ†ä¸ºæœ‰åºåŒºå’Œæ— åºåŒºï¼ˆä¸€èˆ¬å¼€å§‹çš„æ—¶å€™å°†ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºæœ‰åºåŒºï¼Œå‰©ä¸‹çš„å…ƒç´ ä½œä¸ºæ— åºåŒºï¼‰ï¼Œæ¯æ¬¡å°†æ— åºåŒºçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºå¾…æ’å…¥è®°å½•ï¼ŒæŒ‰å¤§å°æ’å…¥åˆ°å‰é¢å·²ç»æ’å¥½çš„æœ‰åºåŒºä¸­çš„é€‚å½“ä½ç½®ï¼Œç›´åˆ°è®°å½•å…¨éƒ¨æ’å…¥å®Œæˆä¸ºæ­¢ã€‚(å¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢) C++ å®ç° 1234567891011121314151617void insert_sort_1(int a[],int n)//å¯¹nä¸ªå…ƒç´ ä»å°åˆ°å¤§æ’åº&#123; int i,j; int temp; for(i=1;i&lt;n;i++) &#123; temp = a[i];//å¾…æ’å…¥å…ƒç´  j = i-1; while(temp&lt;a[j] &amp;&amp; j) &#123; a[j+1] = a[j];//å°†å¤§çš„å¾€åæŒª j--;//é¡ºåˆ©çš„è¯å¯ä»¥å‡åˆ°-1ï¼Œè¦ä¹ˆå°±æ˜¯å‡åˆ°å¯ä»¥æ’å…¥çš„ä½ç½®çš„å‰ä¸€ä¸ªä½ç½® //æ‰€ä»¥åé¢çš„jéœ€è¦åŠ 1 &#125; a[j+1]=temp; &#125;&#125; Python å®ç° 1234567891011def insert_sort(arr: List[int], n: int) -&gt; None: for i in range(1, n): j: int = i - 1 wait_insert_ele: int = arr[i] while j &gt;= 0: if arr[j] &gt; wait_insert_ele: arr[j+1] = arr[j] # å°†å¤§äºå¾…æ’å…¥å…ƒç´ çš„å¾€åç§» else: break j -= 1 arr[j + 1] = wait_insert_ele # æ’å…¥æ•°æ® ç¨³å®šçš„å†’æ³¡æ’åºåŸºæœ¬æ€æƒ³:æˆ‘ä»¬æŠŠå¾…æ’åºå…ƒç´ åºåˆ—ç«–ç›´æ”¾ç½®ï¼Œæ¯è¶Ÿå¯¹ç›¸é‚»çš„å…ƒç´ è¿›è¡Œä¸¤ä¸¤æ¯”è¾ƒï¼Œé¡ºåºç›¸ååˆ™è¿›è¡Œäº¤æ¢ï¼Œæ¯è¶Ÿä¼šå°†æœ€å°æˆ–æœ€å¤§çš„å…ƒç´ â€œæµ®â€åˆ°å…ƒç´ åºåˆ—çš„é¡¶ç«¯ï¼Œæœ€ç»ˆå…ƒç´ åºåˆ—è¾¾åˆ°æœ‰åº å®ç°ç¤ºä¾‹ 1234567891011121314151617void bubble_sort(int array[],int n)// å¯¹ n ä¸ªæ•°ä»å°åˆ°å¤§æ’åºï¼Œæ³¨æ„æ•°ç»„ä¸‹æ ‡ä» 0 å¼€å§‹&#123; int i,j; int temp; for(i=0;i&lt;n-1;i++)// è¿›è¡Œ n-1 è¶Ÿæ¯”è¾ƒ &#123; for(j=0;j&lt;n-1-i;j++)// æ¯è¶Ÿè¿›è¡Œ n-1-i æ¬¡æ¯”è¾ƒ &#123; if(array[j+1]&lt;array[j]) &#123; temp = array[j+1]; array[j+1] = array[j]; array[j] = temp; &#125; &#125; &#125;&#125; ä¼˜åŒ–ï¼ˆä¸€ä½†æœ‰ä¸€è¶Ÿä¸éœ€è¦æ¯”è¾ƒï¼Œå°±è¡¨æ˜å¯ä»¥ç»“æŸäº†ï¼‰ 123456789def bubble_sort(arr: List[int], n: int) -&gt; None: for i in range(n): flag: bool = False # æ ‡è®°æŸè¶Ÿæ˜¯å¦è¿˜éœ€è¦æ¯”è¾ƒ for j in range(0, n-i-1): if arr[j] &gt; arr[j+1]: arr[j+1], arr[j] = arr[j], arr[j+1] flag = True if not flag: # ä¸€ä½†æœ‰ä¸€è¶Ÿä¸éœ€è¦æ¯”è¾ƒï¼Œå°±è¡¨æ˜å¯ä»¥ç»“æŸäº† break ä¸ç¨³å®šçš„å¿«é€Ÿæ’åºå¿«é€Ÿæ’åºæ˜¯åˆ†æ²»æ€æƒ³åœ¨æ’åºç®—æ³•ä¸Šçš„åº”ç”¨ï¼Œä»æœ¬è´¨ä¸Šæ¥è®²å¿«é€Ÿæ’åºåº”è¯¥æ˜¯åœ¨å†’æ³¡æ’åºåŸºç¡€ä¸Šçš„é€’å½’åˆ†æ²»æ³•ã€‚ ç®—æ³•æ­¥éª¤: ä»å¾…æ’æ•°åˆ—ä¸­é€‰å‡ºä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ï¼Œä¸€èˆ¬é€‰ç¬¬ä¸€ä¸ªå…ƒç´  é‡æ–°æ’åºå¾…æ’æ•°åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å¤§çš„æ‘†æ”¾åœ¨åŸºå‡†åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥æ”¾åœ¨ä»»æ„ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºåï¼Œè¯¥åŸºå‡†å°±å¤„äºä¸­é—´ä½ç½®ã€‚ï¼ˆè¿™ä¸ªå³ä¸ºåˆ†åŒºæ“ä½œ(partion)ï¼‰ã€‚ é€’å½’åœ°æŠŠå°äºåŸºå‡†å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å…ƒç´ çš„å­æ•°åˆ—è¿›è¡Œæ’åºã€‚ å®ç° 123456789101112131415161718def quick_sort(arr: List[int], left: int, right: int) -&gt; None: if left &gt;= right: return index = partition(arr, left, right) quick_sort(arr, left, index - 1) quick_sort(arr, index + 1, right)def partition(arr: List[int], left: int, right: int) -&gt; None: pivot = arr[right] index = left for j in range(left, right): if arr[j] &lt; pivot: arr[j], arr[index] = arr[index], arr[j] index += 1 arr[index], arr[right] = arr[right], arr[index] return index å¦ç±» C å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include&lt;stdio.h&gt;int a[101],n;void quick_sort(int left, int right)&#123; int i,j,temp; int t; if(left &gt; right) &#123; return ; &#125; temp = a[left];//åŸºå‡†æ•° i = left; j = right; while(i != j) &#123; //é¡ºåºå¾ˆé‡è¦ï¼Œå…ˆä»å³å¾€å·¦æ‰¾ while( a[j] &gt;= temp &amp;&amp; i&lt;j) &#123; j--; &#125; //å†ä»å·¦è¾¹å¾€å³æ‰¾ while( a[j] &lt;= temp &amp;&amp; i&lt;j) &#123; i++; &#125; //äº¤æ¢ä¸¤ä¸ªæ•°åœ¨æ•°ç»„ä¸­çš„ä½ç½® if(i&lt;j)//ä¸¤ä¸ªå“¨å…µæ²¡æœ‰ç›¸é‡ &#123; t = a[i]; a[i] = a[j]; a[j] = t; &#125; &#125; //æœ€ç»ˆå°†åŸºå‡†æ•°å½’ä½, a[left] = a[i]; a[i] = temp;//å½’ä½ quick_sort(left,i-1);//ç»§ç»­å¤„ç†å·¦è¾¹çš„æ•° quick_sort(i+1,right);//ç»§ç»­å¤„ç†å³è¾¹çš„æ•° return ;&#125;int main()&#123; int i,j; scanf(&quot;%d&quot;,&amp;n); for(i=1; i&lt;=n; i++)//ä¸‹è¡¨ä»1å¼€å§‹ scanf(&quot;%d&quot;,&amp;a[i]); quick_sort(1,n);//sort for(j=1; j&lt;=n; j++) printf(&quot;%d &quot;,a[j]); return 0;&#125; å‚è€ƒ https://blog.csdn.net/adusts/article/details/80882649 https://github.com/hustcc/JS-Sorting-Algorithm æå®¢æ—¶é—´-æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://yeshan333.github.io/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://yeshan333.github.io/tags/Algorithm/"}]},{"title":"äºŒåˆ†æŸ¥æ‰¾","slug":"äºŒåˆ†æŸ¥æ‰¾","date":"2018-11-19T00:30:43.000Z","updated":"2018-11-19T00:30:43.000Z","comments":true,"path":"2018/11/19/äºŒåˆ†æŸ¥æ‰¾/","permalink":"https://yeshan333.github.io/2018/11/19/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/","excerpt":"","text":"äºŒåˆ†æŸ¥æ‰¾ç®—æ³• äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬æ€æƒ³: å°† n ä¸ªå…ƒç´ åˆ†æˆå¤§è‡´ç›¸ç­‰çš„ä¸¤éƒ¨åˆ†ï¼Œå– a[n&#x2F;2] ä¸ x(æŸ¥æ‰¾ç›®æ ‡å€¼) åšæ¯”è¾ƒï¼Œå¦‚æœx == a[n/2] ,åˆ™æ‰¾åˆ° x,ç®—æ³•ä¸­æ­¢ï¼›å¦åˆ™ï¼Œå¦‚æœx &lt; a[n/2],åˆ™åªè¦åœ¨æ•°ç»„ a çš„å·¦åŠéƒ¨åˆ†ç»§ç»­æœç´¢ x,å¦‚æœx &gt; a[n/2], åˆ™åªè¦åœ¨æ•°ç»„ a çš„å³åŠéƒ¨æœç´¢ xã€‚ ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„å‰æï¼šå¾…æŸ¥æ‰¾åºåˆ—æ˜¯æœ‰åºçš„ æ—¶é—´å¤æ‚åº¦åˆ†æç”±ç®—æ³•æ ¸å¿ƒæ€æƒ³å¯çŸ¥ï¼šæ¯æ¬¡å¯¹æ¯”éƒ½å°†ä¸‹ä¸€æ­¥çš„æ¯”å¯¹èŒƒå›´ç¼©å°ä¸€åŠã€‚æ¯æ¬¡æ¯”å¯¹åå‰©ä½™æ•°æ®é¡¹å¦‚ä¸‹è¡¨: æœ€å¥½æƒ…å†µå³è¦æ‰¾çš„å…ƒç´ æ­£å¥½åœ¨åˆå§‹æŸ¥æ‰¾åºåˆ—çš„ä¸­é—´ä¸€æ¬¡æ¯”è¾ƒå‡ºç»“æœï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $ O(1) $ã€‚ æœ€åæƒ…å†µå³æ¯”å¯¹èŒƒå›´åªå‰©ä¸‹ 1 ä¸ªæ•°æ®é¡¹çš„æƒ…å†µè¿™ä¸ªæ•°æ®é¡¹å³ä¸ºæ­£è¦æ‰¾çš„å…ƒç´ ã€‚è¿™æ—¶ï¼Œå¯æ±‚è§£å¦‚ä¸‹æ–¹ç¨‹ç»„($ i $ ä¸ºæ¯”è¾ƒæ¬¡æ•°)ï¼š $$ \\frac{n}{2^i}&#x3D;1 $$ æ—¶é—´å¤æ‚åº¦ä¸º $ O(log(n)) $ å¹³å‡æ—¶é—´å¤æ‚åº¦è¿›è¡Œå¹³å‡æ—¶é—´å¤æ‚åº¦åˆ†ææ—¶éœ€è¦è®¨è®ºï¼šéšç€å…ƒç´ ä¸ªæ•°nçš„å¢å¤šï¼Œéœ€è¦å‡ æ­¥ç®—æ³•æ‰èƒ½ç»ˆæ­¢ï¼ŸæŸ¥æ‰¾æˆåŠŸæœ‰å¤šå°‘ç§æƒ…å†µï¼ŸæŸ¥æ‰¾å¤±è´¥æœ‰å¤šå°‘ç§æƒ…å†µï¼Ÿ è®¾ $ n&#x3D;2^k-1 $, $ k $ ä¸ºæ¯”è¾ƒæ¬¡æ•°ã€‚æ˜“çŸ¥ï¼Œå¯¹äº $$ t&#x3D;1,2,â€¦, \\lfloor log(n) \\rfloor + 1 $$, ä¼šæœ‰ $ 2^{t-1} $ ä¸ªå…ƒç´ åœ¨ $ t $ æ­¥ä¹‹åä½¿ç®—æ³•æˆåŠŸç»ˆæ­¢ã€‚æ€»å…±æœ‰ $ (2n+1) $ ç§æƒ…å†µï¼Œ$ n $ ç§æƒ…å†µä¸ºæˆåŠŸç»“æŸï¼Œ$ (n+1) $ ç§æƒ…å†µä¸ºå¤±è´¥ç»ˆæ­¢ã€‚ ç”±æ­¤å¯å¾—äºŒåˆ†æœç´¢çš„å¹³å‡æ¯”è¾ƒæ¬¡æ•°ä¸º $ (k &#x3D; \\lfloor log(n) \\rfloor + 1) $ï¼š$$ A(n)&#x3D; \\frac{1}{2n+1}(\\sum_{i&#x3D;1}^{k}i2^{i-1} + k(n+1)) $$æ ¹æ®åˆç­‰æ•°å­¦ç­‰å·®ä¹˜ç­‰æ¯”æ•°åˆ—æ±‚å’Œçš„é”™ä½ç›¸å‡æ³•&#x2F;è£‚é¡¹ç›¸æ¶ˆæ³•ã€‚æ˜“çŸ¥,$$ \\sum_{i&#x3D;1}^{k}i2^{i-1} &#x3D; 2^k(k-1)+1 $$ ä½¿ç”¨è£‚é¡¹ç›¸æ¶ˆæ³•ç”± $ \\sum_{i&#x3D;1}^{k}i2^{i-1} $ï¼Œè®¾ $ a_i&#x3D;i2^{i-1},(i&#x3D;1,â€¦,k) $ã€‚æ³¨æ„åˆ°ï¼Œ$ a_i&#x3D;(k-1)2^k-(k-2)2^{k-1} $ã€‚$$ \\sum_{i&#x3D;1}^{k}i2^{i-1}&#x3D;0\\times2^1+1+1\\times2^2-0\\times2^1+2\\times2^3-1\\times2^2+â€¦+(k-1)2^k-(k-2)2^{k-1}&#x3D;2^k(k-1)+1 $$ $$ A(n)&#x3D; \\frac{1}{2n+1}(\\sum_{i&#x3D;1}^{k}i2^{i-1} + k(n+1)) $$$$ \\sum_{i&#x3D;1}^{k}i2^{i-1} &#x3D; 2^k(k-1)+1 $$ç»¼ä¸Šå¯å¾—ï¼Œ$$ A(n) &#x3D; \\frac{1}{2n+1}((k-1)2^{k}+1+k2^k) $$ å½“ $ n $ éå¸¸å¤§æ—¶ï¼Œå¯å¾—$$ A(n) \\approx \\frac{1}{2^{k+1}}((k-1)2^{k}+k2^k)&#x3D;\\frac{(k-1)}{2}+\\frac{k}{2}&#x3D;k-\\frac{1}{2} $$æ‰€ä»¥ $ A(n)&lt;k&#x3D;O(log(n)) $ ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$ O(log(n)) $ã€‚ ä»£ç å®ç°123456789101112131415161718192021222324252627282930# -*- coding: utf-8 -*-# binary_searchdef binary_search(list_1, item): low = 0 high = len(list_1)-1 while low &lt;= high: &#x27;&#x27;&#x27;ä½¿ç”¨ // æ•´é™¤è¿ç®—ç¬¦å¯ä»¥ä¸ç”¨intè¿›è¡Œç±»å‹è½¬æ¢&#x27;&#x27;&#x27; #æ¯æ¬¡éƒ½æ£€æŸ¥ä¸­é—´çš„å…ƒç´  mid = (low + high)/2 guess = list_1[int(mid)] if guess == item: return int(mid)#è¿”å›æ‰€åœ¨ä½ç½®çš„ç´¢å¼• if guess &lt; item: #çŒœçš„æ•°å­—å°äº†ï¼Œä¿®æ”¹low low = mid+1 if guess &gt; item: #çŒœçš„æ•°å­—å¤§äº†ï¼Œä¿®æ”¹high high = mid-1 return Nonedef main(): list_2 = [1,2,3,4,5,6,7,8,9] print(binary_search(list_2, 8)) print(binary_search(list_2, 10))main() 1234567891011121314151617181920212223242526272829303132333435363738#include&lt;iostream&gt;#include&lt;typeinfo&gt;using namespace std;int binary_search(int a[9],int n,int x)//nä¸ºå…ƒç´ ä¸ªæ•°&#123; int mid; int high,low=0; int guess; high = n-1;//æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ while(low &lt;= high) &#123; mid = (high+low)/2; guess = a[mid]; if(guess == x) return mid; if(guess &gt; x) high = mid-1; if(guess &lt; x) low = mid+1; &#125; return -1;&#125;int main()&#123; int temp; int a[9] = &#123;1,2,3,4,5,6,7,8,9&#125;; cout&lt;&lt;sizeof(a)/sizeof(int)&lt;&lt;endl; cout&lt;&lt;typeid(sizeof(a)/sizeof(int)).name()&lt;&lt;endl; temp = binary_search(a,sizeof(a)/sizeof(int),5); cout&lt;&lt;temp&lt;&lt;endl; return 0;&#125; é™„ï¼šC++ ä½¿ç”¨å¤´æ–‡ä»¶typeinfoä¸‹çš„typeid(parameter).name()å¯è·å–å‚æ•°è·å–ç±»å‹å","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://yeshan333.github.io/categories/Algorithm/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://yeshan333.github.io/tags/Algorithm/"},{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"}]},{"title":"C++é¢å‘å¯¹è±¡-8","slug":"C++-é¢å‘å¯¹è±¡-8","date":"2018-11-15T23:40:22.000Z","updated":"2018-11-15T23:40:22.000Z","comments":true,"path":"2018/11/15/C++-é¢å‘å¯¹è±¡-8/","permalink":"https://yeshan333.github.io/2018/11/15/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-8/","excerpt":"","text":"ä½¿ç”¨structå…³é”®å­—å®šä¹‰ç±»*** ä½¿ç”¨classå’Œstructå®šä¹‰ç±»çš„å”¯ä¸€åŒºåˆ«å°±æ˜¯é»˜è®¤çš„è®¿é—®æƒé™ ***] ä½¿ç”¨structå…³é”®å­—ï¼Œå®šä¹‰åœ¨ç¬¬ä¸€ä¸ªè®¿é—®è¯´æ˜ç¬¦ä¹‹å‰çš„æˆå‘˜æ˜¯public ä½¿ç”¨classå…³é”®å­—ï¼Œå®šä¹‰åœ¨ç¬¬ä¸€ä¸ªè®¿é—®è¯´æ˜ç¬¦ä¹‹å‰çš„æˆå‘˜æ˜¯private å®šä¹‰åœ¨ç±»å†…çš„æˆå‘˜å‡½æ•°æ˜¯è‡ªåŠ¨inlineçš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include&lt;cstring&gt;#include&lt;iostream&gt;using namespace std;struct Sales_data&#123; /* - isbnæˆå‘˜å‡½æ•°ç”¨äºè¿”å›å¯¹è±¡çš„ISBNç¼–å· - combineæˆå‘˜å‡½æ•°ï¼Œç”¨äºå°†ä¸€ä¸ªSales_dataå¯¹è±¡åŠ åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸Š - avg_priceæˆå‘˜å‡½æ•°ï¼Œç”¨äºè¿”å›å”®å‡ºä¹¦ç±çš„å¹³å‡ä»·æ ¼ */ string isbn() const&#123;return bookNo;&#125;//è¿™æ˜¯ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œä¸èƒ½æ”¹å˜è°ƒç”¨å®ƒçš„å¯¹è±¡çš„å†…å®¹ Sales_data&amp; combine(const Sales_data&amp;); double avg_price() const; string bookNo; //ISBN unsigned units_sold = 0; //é”€å”®æ€»æ•° double revenue = 0.0; //æ”¶ç›Š&#125;;double Sales_data::avg_price() const&#123; if(units_sold) return revenue/units_sold; else return 0;&#125;Sales_data&amp; Sales_data::combine(const Sales_data &amp;rhs)&#123; units_sold += rhs.units_sold; revenue += rhs.revenue; return *this;//è¿”å›è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡&#125;/** Salse_dataçš„éæˆå‘˜æ¥å£å‡½æ•°ï¼š- addå‡½æ•°ï¼Œæ‰§è¡Œä¸¤ä¸ªSales_dataå¯¹è±¡çš„åŠ æ³•- readå‡½æ•°ï¼Œå°†æ•°æ®ä»istreamè¯»å…¥åˆ°Sales_dataå¯¹è±¡ä¸­- printå‡½æ•°ï¼Œå°†Sales_dataå¯¹è±¡çš„å€¼è¾“å‡ºåˆ°ostream*/Sales_data add(const Sales_data&amp; ,const Sales_data&amp;);ostream &amp;print(ostream&amp; , const Sales_data&amp;);istream &amp;read(istream&amp; , const Sales_data&amp;);//è¾“å…¥çš„äº¤æ˜“ä¿¡æ¯åŒ…æ‹¬ISBNã€å”®å‡ºæ€»æ•°ã€å”®å‡ºä»·æ ¼istream &amp;read(istream &amp;is, Sales_data &amp;item)&#123; double price = 0.0; is&gt;&gt;item.bookNo&gt;&gt;item.units_sold&gt;&gt;price;&#125;ostream &amp;print(ostream &amp;os, const Sales_data &amp;item)&#123; os&lt;&lt;item.isbn()&lt;&lt;&quot; &quot;&lt;&lt;item.units_sold&lt;&lt;&quot; &quot; &lt;&lt;item.revenue&lt;&lt;&quot; &quot;&lt;&lt;item.avg_price(); return os;&#125;Sales_data add(const Sales_data &amp;lhs, const Sales_data &amp;rhs)&#123; Sales_data sum = lhs;//æŠŠlhsçš„æ•°æ®æˆå‘˜æ‹·è´ç»™sum sum.combine(rhs); return sum;&#125;int main()&#123; Sales_data total; string temp; temp = &quot;shansan&quot;; total.bookNo = temp; //total.bookNo = &quot;shansan&quot;; cout&lt;&lt;total.bookNo&lt;&lt;endl; cout&lt;&lt;total.isbn()&lt;&lt;endl; return 0;&#125; ä½¿ç”¨=defaultä¿ç•™é»˜è®¤çš„æ„é€ å‡½æ•° &amp; æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨ å½“æˆ‘ä»¬éœ€è¦å…¶ä»–æ„é€ å‡½æ•°çš„æ—¶ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›ä¿ç•™é»˜è®¤çš„æ„é€ å‡½æ•°æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨= default æ„é€ å‡½æ•°åˆå§‹å€¼æ˜¯æˆå‘˜å‡½æ•°çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸ªåå­—åé¢ç´§è·Ÿæ‹¬å·æ‹¬èµ·æ¥çš„ï¼ˆæˆ–åˆ™åœ¨èŠ±æ‹¬å·å†…çš„ï¼‰æˆå‘˜åˆå§‹å€¼ã€‚ä¸åŒæˆå‘˜çš„åˆå§‹å€¼é€šè¿‡é€—å·åˆ†éš” æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨åªè¯´æ˜ç”¨äºåˆå§‹åŒ–æˆå‘˜çš„å€¼,è€Œä¸é™å®šåˆå§‹åŒ–çš„å…·ä½“æ‰§è¡Œé¡ºåº ä½†æ˜¯å¦‚æœä¸€ä¸ªæˆå‘˜æ˜¯ç”¨å¦ä¸€ä¸ªæˆå‘˜æ¥åˆå§‹åŒ–çš„ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæˆå‘˜çš„åˆå§‹åŒ–é¡ºåºå°±å¾ˆé‡è¦ consturctor(parameter):initializer_list,æ³¨æ„é‚£ä¸ªå†’å·ï¼Œæ„é€ å‡½æ•°ä¸èƒ½è¢«å£°æ˜æˆconstçš„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798#include&lt;cstring&gt;#include&lt;iostream&gt;using namespace std;struct Sales_data&#123; //æ–°å¢æ„é€ å‡½æ•° //ä½¿ç”¨æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨ï¼Œæ³¨æ„é‚£ä¸ªå†’å· //è¿™ä¸¤ä¸ªæ„é€ å‡½æ•°çš„å‡½æ•°ä½“éƒ½æ˜¯ç©ºçš„ï¼Œæ„é€ å‡½æ•°æ²¡æœ‰è¿”å›ç±»å‹ Sales_data() = default;//ä¿ç•™é»˜è®¤æ„é€ å‡½æ•° Sales_data(const string &amp;s) :bookNo(s) &#123;&#125; Sales_data(const string &amp;s, unsigned n, double p):bookNo(s),units_sold(n),revenue(p*n) &#123;&#125; //å£°æ˜ä¸€ä¸ªconstructorï¼Œå®šä¹‰æ”¾åœ¨ç±»å¤–äº† Sales_data(istream&amp;); string isbn() const&#123;return bookNo;&#125;//è¿™æ˜¯ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œä¸èƒ½æ”¹å˜è°ƒç”¨å®ƒçš„å¯¹è±¡çš„å†…å®¹ Sales_data&amp; combine(const Sales_data&amp;); double avg_price() const; string bookNo; unsigned units_sold = 0; double revenue = 0.0;&#125;;double Sales_data::avg_price() const&#123; if(units_sold) return revenue/units_sold; else return 0;&#125;Sales_data&amp; Sales_data::combine(const Sales_data &amp;rhs)&#123; units_sold += rhs.units_sold; revenue += rhs.revenue; return *this;//è¿”å›è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡&#125;/** Salse_dataçš„éæˆå‘˜æ¥å£å‡½æ•°ï¼š- addå‡½æ•°ï¼Œæ‰§è¡Œä¸¤ä¸ªSales_dataå¯¹è±¡çš„åŠ æ³•- readå‡½æ•°ï¼Œå°†æ•°æ®ä»istreamè¯»å…¥åˆ°Sales_dataå¯¹è±¡ä¸­- printå‡½æ•°ï¼Œå°†Sales_dataå¯¹è±¡çš„å€¼è¾“å‡ºåˆ°ostream*/Sales_data add(const Sales_data&amp; ,const Sales_data&amp;);ostream &amp;print(ostream&amp; , const Sales_data&amp;);istream &amp;read(istream&amp; , const Sales_data&amp;);//è¾“å…¥çš„äº¤æ˜“ä¿¡æ¯åŒ…æ‹¬ISBNã€å”®å‡ºæ€»æ•°ã€å”®å‡ºä»·æ ¼istream &amp;read(istream &amp;is, Sales_data &amp;item)&#123; double price = 0.0; is&gt;&gt;item.bookNo&gt;&gt;item.units_sold&gt;&gt;price;&#125;ostream &amp;print(ostream &amp;os, const Sales_data &amp;item)&#123; os&lt;&lt;item.isbn()&lt;&lt;&quot; &quot;&lt;&lt;item.units_sold&lt;&lt;&quot; &quot; &lt;&lt;item.revenue&lt;&lt;&quot; &quot;&lt;&lt;item.avg_price()&lt;&lt;endl; return os;&#125;Sales_data add(const Sales_data &amp;lhs, const Sales_data &amp;rhs)&#123; Sales_data sum = lhs;//æŠŠlhsçš„æ•°æ®æˆå‘˜æ‹·è´ç»™sum sum.combine(rhs); return sum;&#125;//ç±»å¤–å®šä¹‰æ–°çš„æ„é€ å‡½æ•°Sales_data::Sales_data(istream &amp;is)&#123; read(is,*this);//ä»isä¸­è¯»å…¥ä¸€æ¡ä¿¡æ¯å­˜åˆ°thiså¯¹è±¡ä¸­&#125;int main()&#123; Sales_data total;//è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•° string temp; temp = &quot;shansan&quot;; total.bookNo = temp; //total.bookNo = &quot;shansan&quot;; cout&lt;&lt;total.bookNo&lt;&lt;endl; cout&lt;&lt;total.isbn()&lt;&lt;endl; Sales_data let(&quot;shansan.top&quot;,33,33);//è°ƒç”¨æ„é€ å‡½æ•°Sales_data(const string &amp;s, unsigned n, double p) cout&lt;&lt;let.bookNo&lt;&lt;&quot; &quot;&lt;&lt;let.units_sold&lt;&lt;&quot; &quot;&lt;&lt;let.revenue&lt;&lt;endl; Sales_data read_print;//è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•° read(cin,read_print); print(cout,read_print); Sales_data dada(cin);//è°ƒç”¨æ„é€ å‡½æ•°Sales_data(istream &amp;is) print(cout,dada); return 0;&#125; å§”æ‰˜æ„é€ å‡½æ•° ä¸€ä¸ªå§”æ‰˜æ„é€ å‡½æ•°ä½¿ç”¨å®ƒæ‰€å±ç±»çš„å…¶ä»–æ„é€ å‡½æ•°æ‰§è¡Œå®ƒè‡ªå·±çš„åˆå§‹åŒ–è¿‡ç¨‹ å®ƒæŠŠè‡ªå·±çš„ä¸€äº›æˆ–å…¨éƒ¨èŒè´£å§”æ‰˜ç»™äº†å…¶ä»–æ„é€ å‡½æ•° ä¸€ä¸ªå§”æ‰˜æ„é€ å‡½æ•°å’Œå…¶ä»–æ„é€ å‡½æ•°ä¸€æ ·ä¹Ÿæœ‰ä¸€ä¸ªæˆå‘˜åˆå§‹å€¼åˆ—è¡¨å’Œä¸€ä¸ªå‡½æ•°ä½“ å§”æ‰˜æ„é€ å‡½æ•°çš„æˆå‘˜åˆå§‹å€¼åˆ—è¡¨åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œå°±æ˜¯ç±»åæœ¬èº«ã€‚ç±»ååé¢ç´§è·Ÿåœ†æ‹¬å·æ‹¬èµ·æ¥çš„åˆå§‹å€¼åˆ—è¡¨ï¼Œå‚æ•°åˆ—è¡¨å¿…é¡»ä¸å¦ä¸€ä¸ªæ„é€ å‡½æ•°åŒ¹é… å½“ä¸€ä¸ªæ„é€ å‡½æ•°å§”æ‰˜ç»™å¦ä¸€ä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œå—å§”æ‰˜çš„æ„é€ å‡½æ•°çš„åˆå§‹å€¼åˆ—è¡¨å’Œå‡½æ•°ä½“è¢«ä¾æ¬¡æ‰§è¡Œ 12345678910111213141516171819202122232425262728293031323334353637383940#include&lt;iostream&gt;using namespace std;class People&#123; public: //éå§”æ‰˜æ„é€ å‡½æ•°ä½¿ç”¨å¯¹åº”çš„å®å‚åˆå§‹åŒ–æˆå‘˜ People(string m,string x,int n):first_name(m),last_name(x),age(n) &#123;&#125; //å…¶ä½™æ„é€ å‡½æ•°å…¨éƒ¨å§”æ‰˜ç»™å¦ä¸€ä¸ªæ„é€ å‡½æ•° //æ³¨æ„ä½¿ç”¨å†’å· People(): People(&quot;li&quot;,&quot;lei&quot;,18)&#123;&#125; People(string insert): People(insert,&quot;wan&quot;,33)&#123;&#125; People(int a): People(&quot;wu&quot;,&quot;ge&quot;,a)&#123;&#125; int print_info(People temp) &#123; cout&lt;&lt;temp.first_name&lt;&lt;&quot; &quot;&lt;&lt;temp.last_name&lt;&lt;&quot; &quot;&lt;&lt;temp.age&lt;&lt;endl; return 0; &#125; private: string first_name; string last_name; int age;&#125;;int main()&#123; People num_1(&quot;shan&quot;,&quot;san&quot;,18);//è°ƒç”¨æ„é€ å‡½æ•° People(string m,string x,int n) num_1.print_info(num_1); People num_2;//è°ƒç”¨å§”æ‰˜æ„é€ å‡½æ•° People(&quot;li&quot;,&quot;lei&quot;,18) num_2.print_info(num_2); People num_3(&quot;six&quot;);//è°ƒç”¨å§”æ‰˜æ„é€ å‡½æ•° People(string insert) num_3.print_info(num_3); People num_4(100);//è°ƒç”¨å§”æ‰˜æ„é€ å‡½æ•° People(int a) num_4.print_info(num_4); return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"ç²¾åº¦(precision)æ§åˆ¶","slug":"ç²¾åº¦-precision-æ§åˆ¶","date":"2018-11-06T23:50:56.000Z","updated":"2018-11-06T23:50:56.000Z","comments":true,"path":"2018/11/06/ç²¾åº¦-precision-æ§åˆ¶/","permalink":"https://yeshan333.github.io/2018/11/06/%E7%B2%BE%E5%BA%A6-precision-%E6%8E%A7%E5%88%B6/","excerpt":"C++è¾“å‡ºç²¾åº¦ï¼ˆprecisionï¼‰æ§åˆ¶,æ ¼å¼åŒ–è¾“å‡ºä½¿ç”¨coutå¯¹è±¡çš„æˆå‘˜ setprecision() setf() width() fill() flags(ios::fixed)","text":"C++è¾“å‡ºç²¾åº¦ï¼ˆprecisionï¼‰æ§åˆ¶,æ ¼å¼åŒ–è¾“å‡ºä½¿ç”¨coutå¯¹è±¡çš„æˆå‘˜ setprecision() setf() width() fill() flags(ios::fixed) 123456789101112131415161718192021222324252627282930313233#include&lt;iostream&gt;using namespace std;int main()&#123; double a=3.1415926; double c=66.666666; cout.precision(3); //æ§åˆ¶è¾“å‡ºæµæ˜¾ç¤ºçš„æœ‰æ•ˆæ•°å­—ä¸ªæ•° cout&lt;&lt;a&lt;&lt;endl; cout&lt;&lt;c&lt;&lt;endl; cout&lt;&lt;endl; cout.width(8); //æ§åˆ¶è¾“å‡ºå®½åº¦ cout.setf(ios::right); //è®¾ç½®å¯¹é½æ–¹å¼ cout&lt;&lt;a&lt;&lt;endl; cout&lt;&lt;endl; cout.setf(ios::right); cout.fill(&#x27;#&#x27;); //è®¾ç½®å¡«å……å­—ç¬¦ cout.width(8); cout&lt;&lt;a&lt;&lt;endl; cout&lt;&lt;endl; cout.flags(ios::fixed); //flags(ios::fixed)å’Œprecision()é…åˆä½¿ç”¨æ§åˆ¶ç²¾åº¦ cout.precision(4); cout&lt;&lt;a&lt;&lt;endl; return 0;&#125; ä½¿ç”¨å¤´æ–‡ä»¶iomanipä¸­çš„setprecision()å’Œsetiosflags(ios::fixed)è¿›è¡Œç²¾åº¦æ§åˆ¶1234567891011121314#include&lt;iostream&gt;#include&lt;iomanip&gt;using namespace std;int main()&#123; double e = 2.7182818; cout&lt;&lt;setprecision(3)&lt;&lt;e&lt;&lt;endl; cout&lt;&lt;setiosflags(ios::fixed)&lt;&lt;endl; cout&lt;&lt;setprecision(3)&lt;&lt;e&lt;&lt;endl; return 0;&#125; å‚è€ƒè‡ªï¼šhttps://blog.csdn.net/yanglingwell/article/details/49507463","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"C++æ ‡å‡†åº“ç±»å‹","slug":"C++-æ ‡å‡†åº“ç±»å‹","date":"2018-11-05T23:24:19.000Z","updated":"2018-11-05T23:24:19.000Z","comments":true,"path":"2018/11/05/C++-æ ‡å‡†åº“ç±»å‹/","permalink":"https://yeshan333.github.io/2018/11/05/C++-%E6%A0%87%E5%87%86%E5%BA%93%E7%B1%BB%E5%9E%8B/","excerpt":"æ ‡å‡†åº“ç±»å‹string æ ‡å‡†åº“ç±»å‹stringè¡¨ç¤ºå¯å˜é•¿çš„å­—ç¬¦åºåˆ— ä½¿ç”¨stringç±»å‹å¿…é¡»åŒ…å«stringå¤´æ–‡ä»¶ï¼Œstringå®šä¹‰åœ¨å‘½åç©ºé—´stdä¸­ å®šä¹‰å’Œåˆå§‹åŒ–stringå¯¹è±¡åˆå§‹åŒ–stringå¯¹è±¡çš„æ–¹å¼ åˆå§‹åŒ–æ–¹å¼ è¯´æ˜ string s1 é»˜è®¤åˆå§‹åŒ–ï¼Œs1æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸² string s2(s1) s2æ˜¯s1çš„å‰¯æœ¬ string s2&#x3D;s1 ç­‰ä»·äºs2(s1)ï¼Œs2æ˜¯s1çš„å‰¯æœ¬ string s3(â€œshansanâ€) s3æ˜¯å­—é¢å€¼â€shansanâ€çš„å‰¯æœ¬ï¼Œé™¤äº†å­—é¢å€¼æœ€åçš„é‚£ä¸ªç©ºå­—ç¬¦ä¸²å¤– string s3&#x3D;â€shansanâ€ ç­‰ä»·äºs3(â€œshansanâ€) string s4(n,â€™câ€™) æŠŠs4åˆå§‹åŒ–ä¸ºç”±è¿ç»­nä¸ªå­—ç¬¦cç»„æˆçš„ä¸²","text":"æ ‡å‡†åº“ç±»å‹string æ ‡å‡†åº“ç±»å‹stringè¡¨ç¤ºå¯å˜é•¿çš„å­—ç¬¦åºåˆ— ä½¿ç”¨stringç±»å‹å¿…é¡»åŒ…å«stringå¤´æ–‡ä»¶ï¼Œstringå®šä¹‰åœ¨å‘½åç©ºé—´stdä¸­ å®šä¹‰å’Œåˆå§‹åŒ–stringå¯¹è±¡åˆå§‹åŒ–stringå¯¹è±¡çš„æ–¹å¼ åˆå§‹åŒ–æ–¹å¼ è¯´æ˜ string s1 é»˜è®¤åˆå§‹åŒ–ï¼Œs1æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸² string s2(s1) s2æ˜¯s1çš„å‰¯æœ¬ string s2&#x3D;s1 ç­‰ä»·äºs2(s1)ï¼Œs2æ˜¯s1çš„å‰¯æœ¬ string s3(â€œshansanâ€) s3æ˜¯å­—é¢å€¼â€shansanâ€çš„å‰¯æœ¬ï¼Œé™¤äº†å­—é¢å€¼æœ€åçš„é‚£ä¸ªç©ºå­—ç¬¦ä¸²å¤– string s3&#x3D;â€shansanâ€ ç­‰ä»·äºs3(â€œshansanâ€) string s4(n,â€™câ€™) æŠŠs4åˆå§‹åŒ–ä¸ºç”±è¿ç»­nä¸ªå­—ç¬¦cç»„æˆçš„ä¸² 1234567891011121314151617181920#include&lt;iostream&gt;using namespace std;int main()&#123; string s1; cout&lt;&lt;s1&lt;&lt;endl; cout&lt;&lt;&quot;1&quot;&lt;&lt;endl; string s2 = &quot;shansan&quot;; cout&lt;&lt;s2&lt;&lt;endl; string s3(s2); cout&lt;&lt;s3&lt;&lt;endl; string s4(6,&#x27;s&#x27;); cout&lt;&lt;s4&lt;&lt;endl; return 0;&#125; stringå¯¹è±¡ä¸Šçš„æ“ä½œ getline(is,s):ä»isä¸­è¯»å–ä¸€è¡Œèµ‹ç»™sï¼Œè¿”å›is s.empty():sä¸ºç©ºè¿”å›true s.size():è¿”å›sä¸­å­—ç¬¦çš„ä¸ªæ•° 12345678910111213141516171819202122232425#include&lt;iostream&gt;using namespace std;//empty(),getline(),size()int main()&#123; string s; cin&gt;&gt;s; //* è¯»å–æ—¶stringå¯¹è±¡ä¼šé»˜è®¤å¿½ç•¥æ‰å¼€å¤´çš„ç©ºç™½ï¼ˆå³ç©ºæ ¼ç¬¦ã€æ¢è¡Œç¬¦ã€åˆ¶è¡¨ç¬¦ç­‰ï¼‰ //* ä»ç¬¬ä¸€ä¸ªçœŸæ­£çš„å­—ç¬¦å¼€å§‹è¯»èµ·ï¼Œç›´åˆ°é‡è§ä¸‹ä¸€å¤„ç©ºç™½ä¸ºæ­¢ cout&lt;&lt;s&lt;&lt;endl; cout&lt;&lt;s.size()&lt;&lt;endl; if(!s.empty())//å¦‚æœstringå¯¹è±¡éç©º &#123; cout&lt;&lt;&quot;the string is not empty !&quot;&lt;&lt;endl; &#125; string line; //æ¯æ¬¡è¯»å–ä¸€æ•´è¡Œï¼Œé‡åˆ°æ¢è¡Œç¬¦ç»“æŸ while(getline(cin,line)) cout&lt;&lt;line&lt;&lt;endl; return 0;&#125; æ ‡å‡†åº“ç±»å‹vector** #include ** æ ‡å‡†åº“ç±»å‹è¡¨ç¤ºå¯¹è±¡çš„é›†åˆï¼Œå…¶ä¸­æ‰€æœ‰çš„å¯¹è±¡ç±»å‹éƒ½ç›¸åŒ é›†åˆä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„ç´¢å¼•ï¼Œç´¢å¼•ç”¨äºè®¿é—®å¯¹è±¡ å®šä¹‰å’Œåˆå§‹åŒ–vectorå¯¹è±¡ å®šä¹‰å’Œåˆå§‹åŒ–vectorå¯¹è±¡çš„æ–¹æ³• è¯´æ˜ vector v1 v1æ˜¯ä¸€ä¸ªç©ºvectorï¼Œå®ƒæ½œåœ¨çš„å…ƒç´ æ˜¯Tç±»å‹çš„ï¼Œæ‰§è¡Œé»˜è®¤åˆå§‹åŒ– vector v2(v1) v2ä¸­åŒ…å«æœ‰v1æ‰€æœ‰å…ƒç´ çš„å‰¯æœ¬ vector v2&#x3D;v1 ç­‰ä»·äºv2(v1) vector v3(n,value) v3åŒ…å«äº†nä¸ªé‡å¤çš„å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ çš„å€¼éƒ½æ˜¯value vector v4(n) v4åŒ…å«äº†nä¸ªé‡å¤åœ°æ‰§è¡Œäº†å€¼åˆå§‹åŒ–çš„å¯¹è±¡ vector v5{a,b,c,â€¦} v5åŒ…å«äº†åˆå§‹å€¼çš„ä¸ªæ•°çš„å…ƒç´ ï¼Œæ¯å…ƒç´ è¢«èµ‹äºˆç›¸åº”çš„åˆå§‹å€¼ vector v5&#x3D;{a,b,c,â€¦} ç­‰ä»·äºv5 vectorå¯¹è±¡ä¸Šçš„æ“ä½œ v.empty():å¦‚æœvä¸å«æœ‰ä»»ä½•å…ƒç´ ï¼Œè¿”å›çœŸï¼Œå¦è€…è¿”å›å‡ v.size():è¿”å›vä¸­å…ƒç´ çš„ä¸ªæ•° v.push_back(t):å‘vçš„å°¾ç«¯æ·»åŠ ä¸€ä¸ªå€¼ä¸ºtçš„å…ƒç´  1234567891011121314151617181920212223242526272829#include&lt;iostream&gt;#include&lt;vector&gt;using namespace std;int main()&#123; vector&lt;int&gt; s=&#123;1,2,3,4,5&#125;;;//åˆ—è¡¨åˆå§‹åŒ–vectorå¯¹è±¡s //- å¯ä½¿ç”¨ä¸‹æ ‡è®¿é—®vectorå¯¹è±¡ cout&lt;&lt;s[0]&lt;&lt;endl; vector&lt;int&gt; a(8,1); for(auto i:a) &#123; cout&lt;&lt;i&lt;&lt;&quot; &quot;; &#125; cout&lt;&lt;endl; string word; vector&lt;string&gt; text; while(cin&gt;&gt;word) &#123; text.push_back(word);//push_back() &#125; for(auto str:text) &#123; cout&lt;&lt;str&lt;&lt;&quot; &quot;; &#125; return 0;&#125; ä½¿ç”¨èŒƒå›´forè¯­å¥å¤„ç†vectorå¯¹è±¡12345678910111213141516171819202122232425#include&lt;iostream&gt;#include&lt;vector&gt;using namespace std;int main()&#123; int num; vector&lt;int&gt; v; while(cin&gt;&gt;num)//è·å–å…ƒç´ å€¼ &#123; v.push_back(num); &#125; for(auto &amp;i:v)//æ±‚å…ƒç´ å€¼çš„å¹³æ–¹ &#123; i = i*i; &#125; for(auto temp:v)//è¾“å‡ºvä¸­æ¯ä¸€ä¸ªå…ƒç´  &#123; cout&lt;&lt;temp&lt;&lt;&quot; &quot;; &#125; return 0;&#125; ä¸å¯ç”¨ä¸‹æ ‡å½¢å¼ä¸ºvectorå¯¹è±¡æ·»åŠ å…ƒç´ 12345678910111213141516#include&lt;iostream&gt;#include&lt;vector&gt;using namespace std;int main()&#123; vector&lt;int&gt; v;//ç©ºçš„vectorå¯¹è±¡ for(decltype(v.size()) i =0;i!=6;i++) &#123; v[i] = i; &#125; // -væ˜¯ä¸€ä¸ªç©ºçš„vectorï¼Œä¸å­˜åœ¨ä»»ä½•å…ƒç´ ï¼Œä¸èƒ½é€šè¿‡ä¸‹æ ‡å»è®¿é—® // -åº”è¯¥ä½¿ç”¨vectorå¯¹è±¡çš„æˆå‘˜å‡½æ•°push_back()ä¸ºvectorå¯¹è±¡æ·»åŠ å…ƒç´ è¾ƒä¸ºå®‰å…¨ cout&lt;&lt;v[0]&lt;&lt;endl; return 0;&#125; vectorå¯¹è±¡(ä»¥åŠstringå¯¹è±¡)çš„ä¸‹æ ‡è¿ç®—ç¬¦å¯ç”¨äºè®¿é—®å·²å­˜åœ¨çš„å…ƒç´ ï¼Œè€Œä¸èƒ½ç”¨äºæ·»åŠ å…ƒç´  ä½¿ç”¨æ ‡å‡†åº“å‡½æ•°begin()å’Œend()éå†æ•°ç»„123456789101112131415#include&lt;iostream&gt;using namespace std;//åº“å‡½æ•°beginå’Œendï¼Œä»¥æ•°ç»„åä½œä¸ºå‚æ•°int main()&#123; int sums[]=&#123;1,2,3,4,5,6,7,8,9,10&#125;; int *beg = begin(sums); //æŒ‡å‘sumsé¦–å…ƒç´ çš„æŒ‡é’ˆ int *last = end(sums); //æŒ‡å‘sumså°¾å…ƒç´ çš„ä¸‹ä¸€ä½ç½®çš„æŒ‡é’ˆ int *temp; for(temp = beg;temp != last;temp++) &#123; cout&lt;&lt;*temp&lt;&lt;&quot; &quot;; &#125; return 0;&#125; begin()å‡½æ•°è¿”å›æŒ‡å‘æ•°ç»„sumsé¦–å…ƒç´ çš„æŒ‡é’ˆ end()å‡½æ•°è¿”å›æŒ‡å‘æ•°ç»„sumså°¾å…ƒç´ ä¸‹ä¸€ä½ç½®çš„æŒ‡é’ˆ ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡ï¼ˆå®¹å™¨||stringå¯¹è±¡ï¼‰çš„æˆå‘˜begin()å’Œend()è¿›è¡Œéå† endæˆå‘˜è¿”å›æŒ‡å‘å®¹å™¨(stringå¯¹è±¡)â€œå°¾å…ƒç´ ä¸‹ä¸€ä½ç½®ï¼ˆone past the endï¼‰â€çš„è¿­ä»£å™¨ï¼ˆå°¾åè¿­ä»£å™¨ï¼‰ beginæˆå‘˜è´Ÿè´£è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆæˆ–è€…ç¬¬ä¸€ä¸ªå­—ç¬¦çš„è¿­ä»£å™¨ï¼‰ 123456789101112131415161718192021222324252627282930313233343536#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;string.h&gt;using namespace std;int main()&#123; string s=&quot;shan san&quot;;//s(&quot;shan san&quot;); cout&lt;&lt;s&lt;&lt;endl; //é¦–å­—æ¯æ”¹æˆå¤§å†™å½¢å¼ if(s.begin() != s.end()) &#123; auto it = s.begin();//ä»¤itæŒ‡å‘sçš„ç¬¬ä¸€ä¸ªå…ƒç´  *it = toupper(*it); &#125; cout&lt;&lt;s&lt;&lt;endl; //å…¨éƒ¨å­—æ¯æ”¹æˆå¤§å†™å½¢å¼,&amp;&amp; !isspace(*temp) //tempæ˜¯ä¸ªè¿­ä»£å™¨ï¼Œé€šè¿‡ * è¿ç®—ç¬¦è§£å¼•ç”¨è¿­ä»£å™¨è·å¾—è¿­ä»£å™¨æ‰€æŒ‡çš„å¯¹è±¡ for(auto temp=s.begin();temp != s.end() ; temp++) &#123; *temp = toupper(*temp); &#125; cout&lt;&lt;s&lt;&lt;endl; const int a=8; //a=0; cout&lt;&lt;a&lt;&lt;endl; char c[10]=&quot;123456789&quot;; char b[10]; strcpy(b,c); cout&lt;&lt;b[1]&lt;&lt;endl; return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"C++11ç‰¹æ€§-1","slug":"C++-11ç‰¹æ€§-1","date":"2018-11-05T23:19:57.000Z","updated":"2018-11-05T23:19:57.000Z","comments":true,"path":"2018/11/05/C++-11ç‰¹æ€§-1/","permalink":"https://yeshan333.github.io/2018/11/05/C++-11%E7%89%B9%E6%80%A7-1/","excerpt":"c++11ç‰¹æ€§åˆ—è¡¨åˆå§‹åŒ– ä½¿ç”¨èŠ±æ‹¬å·æ¥åˆå§‹åŒ–å¯¹è±¡ ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–å†…ç½®ç±»å‹çš„å˜é‡ï¼Œå¯èƒ½ä¼šå­˜åœ¨ä¸¢å¤±ä¿¡æ¯çš„é£é™©","text":"c++11ç‰¹æ€§åˆ—è¡¨åˆå§‹åŒ– ä½¿ç”¨èŠ±æ‹¬å·æ¥åˆå§‹åŒ–å¯¹è±¡ ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–å†…ç½®ç±»å‹çš„å˜é‡ï¼Œå¯èƒ½ä¼šå­˜åœ¨ä¸¢å¤±ä¿¡æ¯çš„é£é™© autoç±»å‹è¯´æ˜ç¬¦å·decltypeç±»å‹è¯´æ˜ç¬¦auto autoè®©ç¼–è¯‘å™¨é€šè¿‡åˆå§‹å€¼æ¥æ¨ç®—å˜é‡çš„ç±»å‹ ä½¿ç”¨autoä¹Ÿèƒ½åœ¨ä¸€æ¡è¯­å¥ä¸­å£°æ˜å¤šä¸ªå˜é‡ã€‚å› ä¸ºä¸€æ¡å£°æ˜è¯­å¥åªèƒ½æœ‰ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥è¯¥è¯­å¥ä¸­çš„æ‰€æœ‰å˜é‡çš„åˆå§‹åŸºæœ¬æ•°æ®ç±»å‹éƒ½å¿…é¡»ä¸€æ · ç¼–è¯‘å™¨æ¨æ–­å‡ºæ¥çš„autoç±»å‹æœ‰æ—¶å€™å’Œåˆå§‹å€¼çš„ç±»å‹å¹¶ä¸å®Œå…¨ä¸€æ ·ï¼Œç¼–è¯‘å™¨ä¼šé€‚å½“åœ°æ”¹å˜ç»“æœç±»å‹ä½¿å…¶æ›´ç¬¦åˆåˆå§‹åŒ–è§„åˆ™ 123456789101112131415161718#include&lt;iostream&gt;#include&lt;typeinfo&gt;using namespace std;int main()&#123; int a = 33; double pi = 3.1415926; auto b=a; //auto c=1.414,d=1;//[Error] inconsistent deduction for &#x27;auto&#x27;: &#x27;double&#x27; and then &#x27;int&#x27; cout&lt;&lt;typeid(pi).name()&lt;&lt;endl; cout&lt;&lt;typeid(a).name()&lt;&lt;endl; //cout&lt;&lt;typeid(c).name()&lt;&lt;endl; return 0;&#125; delctype ä»è¡¨è¾¾å¼çš„ç±»å‹æ¨æ–­å‡ºè¦å®šä¹‰çš„å˜é‡çš„ç±»å‹ï¼Œä¸ä½¿ç”¨è¯¥è¡¨è¾¾å¼çš„å€¼åˆå§‹åŒ–å˜é‡ ç¼–è¯‘å™¨åˆ†æè¡¨è¾¾å¼å¹¶å¾—åˆ°å®ƒçš„ç±»å‹ï¼Œå´ä¸å®é™…è®¡ç®—è¡¨è¾¾å¼çš„å€¼ å¦‚æœdecltypeä½¿ç”¨çš„è¡¨è¾¾å¼ä¸æ˜¯ä¸€ä¸ªå˜é‡ï¼Œåˆ™è¿”å›è¡¨è¾¾å¼ç»“æœå¯¹ç”¨çš„ç±»å‹ 1234567891011121314151617181920#include&lt;iostream&gt;#include&lt;typeinfo&gt;using namespace std;int main()&#123; int a=1,b=3; int &amp;refer_a=a; decltype(a+b) temp=33; decltype(refer_a) en=b;//å¼•ç”¨ç±»å‹å®šä¹‰æ—¶å°±å¿…é¡»åˆå§‹åŒ– decltype((a)) refer=b;//decltype((variable))çš„ç»“æœæ°¸è¿œæ˜¯å¼•ç”¨ï¼Œä½¿ç”¨äº†åŒå±‚æ‹¬å· cout&lt;&lt;temp&lt;&lt;&quot; &quot;&lt;&lt;&quot;it&#x27;s type:&#x27;&quot;&lt;&lt;typeid(temp).name()&lt;&lt;endl; cout&lt;&lt;refer_a; cout&lt;&lt;en&lt;&lt;endl; cout&lt;&lt;refer&lt;&lt;endl; return 0;&#125; èŒƒå›´forè¯­å¥åŸºæœ¬å½¢å¼ï¼š for(declaration : expression) statement expressionéƒ¨åˆ†æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªåºåˆ— declarationéƒ¨åˆ†è´Ÿè´£å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œè¯¥å˜é‡å°†è¢«ç”¨äºè®¿é—®åºåˆ—ä¸­çš„åŸºç¡€å…ƒç´ ã€‚æ¯æ¬¡è¿­ä»£ï¼Œdeclarationéƒ¨åˆ†çš„å˜é‡éƒ½ä¼šè¢«åˆå§‹åŒ–ä¸ºexpressionéƒ¨åˆ†çš„ä¸‹ä¸€ä¸ªå…ƒç´ å€¼ ä½¿ç”¨èŒƒå›´forè¯­å¥éå†stringå¯¹è±¡1234567891011121314151617181920212223242526272829303132333435#include&lt;iostream&gt;using namespace std;int main()&#123; string str(&quot;shan san&quot;); //é€šè¿‡ç¼–è¯‘å™¨æ¥å†³å®šå˜é‡çš„ç±»å‹ for(auto s : str) &#123; cout&lt;&lt;s&lt;&lt;&quot; &quot;; &#125; cout&lt;&lt;endl; for(auto temp : str) &#123; cout&lt;&lt;temp; &#125; cout&lt;&lt;endl; //ä½¿ç”¨å¼•ç”¨,ä½¿å­—ç¬¦ä¸²å¯¹è±¡strå˜ä¸ºå¤§å†™ for(auto &amp;a : str) &#123; a = toupper(a); &#125; cout&lt;&lt;str&lt;&lt;endl; //ä½¿ç”¨ä¸‹æ ‡è¿›è¡Œè¿­ä»£,æ”¹å˜å­—ç¬¦ä¸²å¯¹è±¡strçš„å¤§å°å†™çŠ¶æ€ for(decltype(str.size()) index = 0; index != str.size(); ++index) &#123; str[index] = toupper(str[index]); &#125; cout&lt;&lt;str; return 0;&#125; ä½¿ç”¨èŒƒå›´forè¯­å¥éå†äºŒç»´æ•°ç»„*** ä½¿ç”¨èŒƒå›´forè¯­å¥å¤„ç†å¤šç»´æ•°ç»„ï¼Œé™¤äº†æœ€å†…å±‚çš„å¾ªç¯å¤–ï¼Œå…¶ä»–æ‰€æœ‰å¾ªç¯çš„æ§åˆ¶å˜é‡éƒ½åº”è¯¥æ˜¯å¼•ç”¨ç±»å‹ *** 1234567891011121314151617181920212223242526272829#include&lt;iostream&gt;#include&lt;cstddef&gt;using namespace std;int main()&#123; constexpr size_t rowCnt = 3,colCnt = 4; int a[rowCnt][colCnt]; //äºŒä½æ•°ç»„åˆå§‹åŒ– for(size_t i = 0; i != rowCnt; i++) &#123; for(size_t j=0; j != colCnt;j++) &#123; //å°†å…ƒç´ çš„ä½ç½®ç´¢å¼•ä½œä¸ºå®ƒçš„å€¼ a[i][j] = i*colCnt + j; &#125; &#125; for(auto &amp;temp : a) //å¯¹äºå¤–å±‚æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´  &#123; for(auto lim :temp) //å¯¹äºå†…å±‚æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´  &#123; cout&lt;&lt;lim&lt;&lt;endl; &#125; &#125; return 0;&#125; ä½¿ç”¨èŒƒå›´forè¯­å¥éå†vectorå¯¹è±¡1234567891011121314151617181920#include&lt;iostream&gt;#include&lt;vector&gt;using namespace std;int main()&#123; int scores; vector&lt;int&gt; v; while(cin&gt;&gt;scores) &#123; v.push_back(scores); &#125; for(auto temp : v) &#123; cout&lt;&lt;temp&lt;&lt;&quot; &quot;; &#125; return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"pythonç”Ÿæˆå™¨å›é¡¾","slug":"pythonç”Ÿæˆå™¨å›é¡¾","date":"2018-11-02T23:25:44.000Z","updated":"2018-11-02T23:25:44.000Z","comments":true,"path":"2018/11/02/pythonç”Ÿæˆå™¨å›é¡¾/","permalink":"https://yeshan333.github.io/2018/11/02/python%E7%94%9F%E6%88%90%E5%99%A8%E5%9B%9E%E9%A1%BE/","excerpt":"pythonç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰ ç”Ÿæˆå™¨æ˜¯ä¸€ç§ä½¿ç”¨æ™®é€šå‡½æ•°è¯­æ³•å®šä¹‰çš„è¿­ä»£å™¨ åŒ…å«yieldè¯­å¥çš„å‡½æ•°éƒ½æ˜¯ç”Ÿæˆå™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸æ–­äº§ç”Ÿå€¼çš„å‡½æ•° ç”Ÿæˆå™¨æ¯æ¬¡ä½¿ç”¨yieldäº§ç”Ÿä¸€ä¸ªå€¼åï¼Œå‡½æ•°éƒ½å°†å†»ç»“ï¼Œå³åœ¨æ­¤å¤„åœæ­¢æ‰§è¡Œï¼Œç­‰å¾…é‡æ–°è¢«å”¤é†’ã€‚è¢«å”¤é†’åä»åœæ­¢çš„åœ°æ–¹å¼€å§‹ç»§ç»­æ‰§è¡Œ ç”Ÿæˆå™¨æ¨å¯¼ï¼ˆç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼‰*** ä½¿ç”¨åœ†æ‹¬å·()åˆ›å»ºä¸€ä¸ªç”Ÿæˆå™¨æ¨å¯¼ ***,å®ƒåˆ›å»ºäº†ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ä½¿ç”¨next()å‡½æ•°å¯ä»¥è·å¾—ç”Ÿæˆå™¨æ¨å¯¼çš„ä¸‹ä¸€ä¸ªè¿”å›å€¼ g = (i**2 for i in range(10))","text":"pythonç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰ ç”Ÿæˆå™¨æ˜¯ä¸€ç§ä½¿ç”¨æ™®é€šå‡½æ•°è¯­æ³•å®šä¹‰çš„è¿­ä»£å™¨ åŒ…å«yieldè¯­å¥çš„å‡½æ•°éƒ½æ˜¯ç”Ÿæˆå™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸æ–­äº§ç”Ÿå€¼çš„å‡½æ•° ç”Ÿæˆå™¨æ¯æ¬¡ä½¿ç”¨yieldäº§ç”Ÿä¸€ä¸ªå€¼åï¼Œå‡½æ•°éƒ½å°†å†»ç»“ï¼Œå³åœ¨æ­¤å¤„åœæ­¢æ‰§è¡Œï¼Œç­‰å¾…é‡æ–°è¢«å”¤é†’ã€‚è¢«å”¤é†’åä»åœæ­¢çš„åœ°æ–¹å¼€å§‹ç»§ç»­æ‰§è¡Œ ç”Ÿæˆå™¨æ¨å¯¼ï¼ˆç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼‰*** ä½¿ç”¨åœ†æ‹¬å·()åˆ›å»ºä¸€ä¸ªç”Ÿæˆå™¨æ¨å¯¼ ***,å®ƒåˆ›å»ºäº†ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ä½¿ç”¨next()å‡½æ•°å¯ä»¥è·å¾—ç”Ÿæˆå™¨æ¨å¯¼çš„ä¸‹ä¸€ä¸ªè¿”å›å€¼ g = (i**2 for i in range(10)) simple generator** demo_1 ** æ–æ³¢æ‹‰å¥‘æ•°åˆ—ï¼ˆFibonacciï¼‰ï¼Œé™¤ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ•°å¤–ï¼Œä»»æ„ä¸€ä¸ªæ•°éƒ½å¯ç”±å‰ä¸¤ä¸ªæ•°ç›¸åŠ å¾—åˆ° ** demo_2_generator ** recursive generatorå¤„ç†å¤šå±‚åµŒå¥—åˆ—è¡¨ 123456789101112131415def flagtten(nested): try: for sublist in nested: for element in flagtten(sublist): yield element except TypeError:#å¤„ç†è¿­ä»£å•ä¸ªå¯¹è±¡å¼•èµ·çš„typeerrorå¼‚å¸¸ yield nesteddef main(): s = list(flagtten([1,[2,3]])) print(s)main() 12345678910111213141516171819202122def flagtten(nested): try: #ä¸è¿­ä»£ç±»ä¼¼äºå­—ç¬¦ä¸²çš„å¯¹è±¡ try: nested + &#x27;&#x27; except TypeError: pass else: raise TypeError for sublist in nested: for temp in flagtten(sublist): yield temp except TypeError: yield nesteddef main(): s = list(flagtten([&quot;haha&quot;,[&quot;shan&quot;,&quot;san&quot;]])) print(s)main()","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"}]},{"title":"Scrapyçˆ¬è™«æ¡†æ¶","slug":"Scrapyçˆ¬è™«æ¡†æ¶","date":"2018-10-31T23:13:19.000Z","updated":"2018-10-31T23:13:19.000Z","comments":true,"path":"2018/10/31/Scrapyçˆ¬è™«æ¡†æ¶/","permalink":"https://yeshan333.github.io/2018/10/31/Scrapy%E7%88%AC%E8%99%AB%E6%A1%86%E6%9E%B6/","excerpt":"","text":"ç½‘ç»œçˆ¬è™«æ¡†æ¶scrapyï¼ˆé…ç½®å‹çˆ¬è™«ï¼‰ ä»€ä¹ˆæ˜¯çˆ¬è™«æ¡†æ¶ï¼Ÿ çˆ¬è™«æ¡†æ¶æ˜¯å®ç°çˆ¬è™«åŠŸèƒ½çš„ä¸€ä¸ªè½¯ä»¶ç»“æ„å’ŒåŠŸèƒ½ç»„ä»¶é›†åˆ çˆ¬è™«æ¡†æ¶æ˜¯ä¸ªåŠæˆå“ï¼Œå¸®åŠ©ç”¨æˆ·å®ç°ä¸“ä¸šç½‘ç»œçˆ¬è™« scrapyæ¡†æ¶ç»“æ„(â€œ5+2â€ç»“æ„) spider: è§£ædownloaderè¿”å›çš„å“åº”ï¼ˆResponseï¼‰ äº§ç”Ÿçˆ¬å–é¡¹ï¼ˆscraped itemï¼‰ äº§ç”Ÿé¢å¤–çš„çˆ¬å»è¯·æ±‚ï¼ˆRequestï¼‰éœ€è¦ç”¨æˆ·ç¼–å†™é…ç½®ä»£ç  engine(å¼•æ“): æ§åˆ¶æ‰€æœ‰æ¨¡å—ä¹‹é—´çš„æ•°æ®æµ æ ¹æ®æ¡ä»¶è§¦å‘äº‹ä»¶ä¸éœ€è¦ç”¨æˆ·ä¿®æ”¹ scheduler(è°ƒåº¦å™¨): å¯¹æ‰€æœ‰çˆ¬å–è¯·æ±‚è¿›è¡Œè°ƒåº¦å¤„ç†ä¸éœ€è¦ç”¨æˆ·ä¿®æ”¹ downloader(ä¸‹è½½å™¨): æ ¹æ®è¯·æ±‚ä¸‹è½½ç½‘é¡µä¸éœ€è¦ç”¨æˆ·ä¿®æ”¹ item pipelines(): ä»¥æµæ°´çº¿å¤„ç†spideräº§ç”Ÿçš„çˆ¬å–é¡¹ ç”±ä¸€ç»„æ“ä½œé¡ºåºç»„æˆï¼Œç±»ä¼¼æµæ°´çº¿ï¼Œæ¯ä¸ªæ“ä½œæ˜¯ä¸€ä¸ªItem Pipelineç±»å‹ å¯èƒ½æ“ä½œåŒ…æ‹¬ï¼šæ¸…ç†ã€æ£€éªŒå’ŒæŸ¥é‡çˆ¬å–é¡¹ä¸­çš„HTMLæ•°æ®ï¼Œå°†æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ä¸­éœ€è¦ç”¨æˆ·ç¼–å†™é…ç½®ä»£ç  downloader middleware(ä¸­é—´ä»¶): ç›®çš„ï¼šå®æ–½engineã€schedulerå’Œdownloaderä¹‹é—´è¿›è¡Œç”¨æˆ·å¯é…ç½®çš„æ§åˆ¶ åŠŸèƒ½ï¼šä¿®æ”¹ã€ä¸¢å¼ƒã€æ–°å¢è¯·æ±‚æˆ–å“åº”ç”¨æˆ·å¯ä»¥ç¼–å†™é…ç½®ä»£ç  spider middleware(ä¸­é—´ä»¶): ç›®çš„ï¼šå¯¹è¯·æ±‚å’Œçˆ¬å»é¡¹çš„å†å¤„ç† åŠŸèƒ½ï¼šä¿®æ”¹ã€ä¸¢å¼ƒã€æ–°å¢è¯·æ±‚æˆ–çˆ¬å–é¡¹ç”¨æˆ·å¯ä»¥ç¼–å†™é…ç½®ä»£ç  æ•°æ®æµ 1.Engineä»Spiderå¤„è·å¾—çˆ¬å–è¯·æ±‚(Request) 2.Engineå°†çˆ¬å–è¯·æ±‚è½¬å‘ç»™Scheduler,ç”¨äºè°ƒåº¦ 3.Engineä»Schedulerå¤„è·å¾—ä¸‹ä¸€ä¸ªçˆ¬å–çš„è¯·æ±‚ 4.Engineå°†çˆ¬å–è¯·æ±‚é€šè¿‡ä¸­é—´ä»¶å‘é€ç»™Downloader 5.çˆ¬å–ç½‘é¡µåï¼ŒDownloaderå½¢æˆå“åº”(Response)ï¼Œé€šè¿‡ä¸­é—´ä»¶(Middleware)å‘ç»™Engine 6.Engineå°†æ”¶åˆ°çš„å“åº”é€šè¿‡ä¸­é—´ä»¶å‘é€ç»™Spiderå¤„ç† 7.Spiderå¤„ç†å“åº”åäº§ç”Ÿçˆ¬å–é¡¹ï¼ˆscraped itemï¼‰å’Œæ–°çš„çˆ¬å–è¯·æ±‚(Requests)ç»™Engine 8.Engineå°†çˆ¬å–é¡¹å‘é€ç»™Item Pipeline(æ¡†æ¶å‡ºå£) 9.Engineå°†çˆ¬å–è¯·æ±‚å‘é€ç»™Scheduler Engineæ§åˆ¶å„æ¨¡å—æ•°æ®æµï¼Œä¸é—´æ–­ä»Schedulerå¤„è·å¾—çˆ¬å–è¯·æ±‚ï¼Œç›´åˆ°è¯·æ±‚ä¸ºç©º æ¡†æ¶å…¥å£ï¼šSpiderçš„åˆå§‹çˆ¬å–è¯·æ±‚ æ¡†æ¶å‡ºå£ï¼šItem Pipeline scrapyå‘½ä»¤è¡Œæ ¼å¼ scrapy &lt;command&gt; [options] [args] ** å¸¸ç”¨å‘½ä»¤ ** å‘½ä»¤ è¯´æ˜ æ ¼å¼ startproject åˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹ scrapy startproject [dir] genspider åˆ›å»ºä¸€ä¸ªçˆ¬è™« scrapy genspider [options] [domain] settings è·å¾—çˆ¬è™«é…ç½®ä¿¡æ¯ scrapy settings [options] crawl è¿è¡Œä¸€ä¸ªçˆ¬è™« scrapy crawl list åˆ—å‡ºå·¥ç¨‹ä¸­æ‰€æœ‰çš„çˆ¬è™« scrapy list shell å¯åŠ¨URLè°ƒè¯•å‘½ä»¤è¡Œ scrapy shell [url] demohttps://python123.io/ws/demo.htmlåˆ›å»ºå·¥ç¨‹scrapy startproject python123demo åˆ›å»ºçˆ¬è™«scrapy genspider demo python123.io //ç”Ÿæˆäº†ä¸€ä¸ªåä¸ºdemoçš„spider //åœ¨spiderç›®å½•ä¸‹å¢åŠ ä»£ç æ–‡ä»¶demo.pyï¼ˆè¯¥æ–‡ä»¶ä¹Ÿå¯ä»¥æ‰‹å·¥ç”Ÿæˆï¼‰ ** demo.pyæ–‡ä»¶ ** 1234567891011# -*- coding: utf-8 -*-import scrapyclass DemoSpider(scrapy.Spider): name = &#x27;demo&#x27; allowed_domains = [&#x27;python123.io&#x27;] start_urls = [&#x27;http://python123.io/&#x27;] def parse(self, response): pass é…ç½®äº§ç”Ÿçš„spiderçˆ¬è™«12345678910111213141516# -*- coding: utf-8 -*-import scrapyclass DemoSpider(scrapy.Spider): name = &#x27;demo&#x27; #allowed_domains = [&#x27;python123.io&#x27;] start_urls = [&#x27;http://python123.io/ws/demo.html&#x27;] def parse(self, response): #å­˜å‚¨æ–‡ä»¶ådemo.html file_name = response.url.split(&#x27;/&#x27;)[-1] with open(file_name,&quot;wb&quot;) as f: f.write(response.body) self.log(&#x27;Saved file %s&#x27; % file_name)#æ—¥å¿— *** å¦ä¸€ä¸ªç‰ˆæœ¬ ** 12345678910111213141516171819202122# -*- coding: utf-8 -*-import scrapyclass DemoSpider(scrapy.Spider): name = &#x27;demo&#x27; #allowed_domains = [&#x27;python123.io&#x27;] #start_urls = [&#x27;http://python123.io/ws/demo.html&#x27;] def start_requests(self): urls = [ &#x27;http://python123.io/ws/demo.html&#x27; ] for url in urls: yield scrapy.Request(url=url, callback=self.parse) def parse(self, response): #å­˜å‚¨æ–‡ä»¶ådemo.html file_name = response.url.split(&#x27;/&#x27;)[-1] with open(file_name,&quot;wb&quot;) as f: f.write(response.body) self.log(&#x27;Saved file %s&#x27; % file_name)#æ—¥å¿— è¿è¡Œçˆ¬è™«scrapy crawl demo Scrapyçˆ¬è™«æ•°æ®ç±»å‹ Requestç±» Responseç±» Itemç±» Requestç±»class scrapy.http.Request() Requestå¯¹è±¡è¡¨ç¤ºä¸€ä¸ªHTTPè¯·æ±‚ ç”±Spiderç”Ÿæˆï¼Œç”±Downloaderæ‰§è¡Œ å±æ€§ æ–¹æ³• .url Requestså¯¹åº”çš„è¯·æ±‚URLåœ°å€ .method å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œâ€™GEtâ€™ã€â€™POSTâ€™ç­‰ .headers å­—å…¸ç±»å‹é£æ ¼çš„è¯·æ±‚å¤´ .body è¯·æ±‚å†…å®¹ä¸»ä½“ï¼Œå­—ç¬¦ä¸²ç±»å‹ .meta ç”¨æˆ·æ·»åŠ çš„æ‰©å±•ä¿¡æ¯ï¼Œåœ¨Scrapyå†…éƒ¨æ¨¡å—é—´ä¼ é€’ä¿¡æ¯ä½¿ç”¨ .copy å¤åˆ¶è¯¥è¯·æ±‚ Responseç±»class scrapy.http.Response() Responseå¯¹è±¡è¡¨ç¤ºä¸€ä¸ªHTTpå“åº” ç”±Downloaderç”Ÿæˆï¼Œç”±Spiderå¤„ç† å±æ€§æˆ–æ–¹æ³• è¯´æ˜ .url Responseå¯¹åº”çš„URLåœ°å€ .status HTTPçŠ¶æ€ç ï¼Œé»˜è®¤æ˜¯200 .headers Responseå¯¹åº”çš„å¤´éƒ¨ä¿¡æ¯ .body Responseå¯¹åº”çš„å†…å®¹ä¿¡æ¯ï¼Œå­—ç¬¦ä¸²ç±»å‹ .flags ä¸€ç»„æ ‡è®° .request äº§ç”ŸResponseç±»å‹å¯¹åº”çš„Requestå¯¹è±¡ .copy() å¤åˆ¶è¯¥å“åº” Itemç±»class scrapy.item.Item() Itemå¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä»HTMLé¡µé¢ä¸­æå–çš„ä¿¡æ¯å†…å®¹ ç”±Spiderç”Ÿæˆï¼Œç”±Item Pipelineå¤„ç† Itemç±»ä¼¼å­—å…¸ç±»å‹ï¼Œå¯ä»¥æŒ‰ç…§å­—å…¸ç±»å‹æ“ä½œ Scrapyçˆ¬è™«çš„ä½¿ç”¨æ­¥éª¤ åˆ›å»ºä¸€ä¸ªå·¥ç¨‹å’ŒSpideræ¨¡æ¿ ç¼–å†™Spider ç¼–å†™Item Pipeline ä¼˜åŒ–é…ç½®ç­–ç•¥ scrapyçˆ¬è™«ä¿¡æ¯æå–æ–¹æ³• Beautifui Soup lxml re XPath Selector CSS Selector","categories":[{"name":"Scrapy","slug":"Scrapy","permalink":"https://yeshan333.github.io/categories/Scrapy/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://yeshan333.github.io/tags/Scrapy/"}]},{"title":"HTMLè¯•æ°´","slug":"HTMLè¯•æ°´","date":"2018-10-30T23:39:10.000Z","updated":"2018-10-30T23:39:10.000Z","comments":true,"path":"2018/10/30/HTMLè¯•æ°´/","permalink":"https://yeshan333.github.io/2018/10/30/HTML%E8%AF%95%E6%B0%B4/","excerpt":"ä¸€çº§æ ‡é¢˜ äºŒçº§æ ‡é¢˜","text":"ä¸€çº§æ ‡é¢˜ äºŒçº§æ ‡é¢˜ å€šå¤©å± é¾™è®°å¼ æ— å¿Œè¿™æ˜¯å¦ä¸€æ®µ é”šç‚¹è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼Œæ–°æ ‡ç­¾é¡µæ‰“å¼€ é‚®ç®±è”ç³»æˆ‘ å›¾åƒ** imgæ˜¯è‡ªå…³æ ‡è®°ï¼Œä¸éœ€è¦ç»“æŸæ ‡è®° ** æ–‡æœ¬è¿™é‡Œæ˜¯ç²—ä½“ è¿™é‡Œæ˜¯æ–œä½“ what è¿™é‡Œè¿˜æ˜¯æ–œä½“ æ’å…¥å­—ä½“ï¼Œä¸‹åˆ’çº¿ åˆ é™¤çº¿ ä¸‹æ ‡&amp;&amp;ä¸Šæ ‡ H&lt;sub&gt;2&lt;/sub&gt;O&lt;sub&gt;2&lt;/sub&gt; å—¯&lt;sup&gt;æˆ‘é£˜äº†&lt;/sup&gt; &lt;code&gt;#include&lt;stdio.h&gt; int main() &#123; printf(&quot;wocao!&quot;); &#125;&lt;/code&gt; æ­£å¸¸å­— &lt;small&gt;å°å·å­—&lt;/small&gt; &lt;q&gt;çŸ­å¼•ç”¨ï¼ŒåŒå¼•å·åŒ…å›´&lt;/q&gt; &lt;blockquote&gt;é•¿å¼•ç”¨ åœŸåœ°æ˜¯ä»¥å®ƒçš„è‚¥æ²ƒå’Œæ”¶è·è€Œè¢«ä¼°ä»·çš„ï¼›æ‰èƒ½ä¹Ÿæ˜¯åœŸåœ°ï¼Œä¸è¿‡å®ƒç”Ÿäº§çš„ä¸æ˜¯ç²®é£Ÿï¼Œè€Œæ˜¯çœŸç†ã€‚ å¦‚æœåªèƒ½æ»‹ç”Ÿç‘æƒ³å’Œå¹»æƒ³çš„è¯ï¼Œå³ä½¿å†å¤§çš„æ‰èƒ½ä¹Ÿåªæ˜¯ç ‚åœ°æˆ–ç›æ± ï¼Œé‚£ä¸Šé¢è¿å°è‰ä¹Ÿé•¿ä¸å‡ºæ¥çš„ã€‚ â€”â€” åˆ«æ—æ–¯åŸº &lt;/blockquote&gt; 22222222222 22222222222222 2222 ## è¡¨æ ¼ &lt;table&gt;...&lt;/table&gt;:å®šä¹‰è¡¨æ ¼ &lt;th&gt;...&lt;/th&gt;:å®šä¹‰è¡¨æ ¼çš„æ ‡é¢˜æ ï¼ˆæ–‡å­—åŠ ç²—ä½“ï¼‰ &lt;tr&gt;...&lt;/tr&gt;:å®šä¹‰è¡¨æ ¼çš„è¡Œ &lt;td&gt;...&lt;/td&gt;:å®šä¹‰è¡¨æ ¼çš„åˆ— &lt;table border=&quot;1&quot;&gt; &lt;tr&gt; &lt;td&gt;row 1, cell 1&lt;/td&gt; &lt;td&gt;row 1, cell 2&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;row 2, cell 1&lt;/td&gt; &lt;td&gt;row 2, cell 2&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; ### è·¨åˆ—è¡¨æ ¼ &lt;table border=&quot;1&quot;&gt; &lt;tr&gt; &lt;th&gt;å§“å&lt;/th&gt; &lt;th colspan=&quot;2&quot;&gt;ç”µè¯&lt;/th&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;shansan&lt;/td&gt; &lt;td&gt;1329441308&lt;/td&gt; &lt;td&gt;164354491&lt;/td&gt; &lt;/tr&gt; &lt;table&gt; &lt;h3&gt;è·¨è¡Œè¡¨æ ¼&lt;/h3&gt; &lt;table border=&quot;1&quot;&gt; &lt;tr&gt; &lt;th&gt;å§“å&lt;/th&gt; &lt;td&gt;shansan&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th rowspan=&quot;2&quot;&gt;ç”µè¯&lt;/th&gt; &lt;td&gt;1329441308&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;164354491&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; ## syntax 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104# HTMLè¯•æ°´&lt;h1&gt; ä¸€çº§æ ‡é¢˜ &lt;/h1&gt;&lt;h2&gt; äºŒçº§æ ‡é¢˜ &lt;/h2&gt;&lt;!-- more --&gt;&lt;p&gt;å€šå¤©å± é¾™è®°&lt;/p&gt;&lt;p&gt;å¼ æ— å¿Œ&lt;/p&gt;&lt;p&gt;è¿™æ˜¯å¦ä¸€æ®µ&lt;/p&gt;## é”šç‚¹&lt;a href = &quot;https://shansan.top&quot;&gt;è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢&lt;/a&gt;&lt;a href = &quot;https://shansan.top&quot; target=&quot;_blank&quot;&gt;è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼Œæ–°æ ‡ç­¾é¡µæ‰“å¼€&lt;/a&gt;&lt;a href=&quot;mailto:1329441308@qq.com&quot; target=&quot;_top&quot;&gt;é‚®ç®±è”ç³»æˆ‘&lt;/a&gt;# å›¾åƒ** imgæ˜¯è‡ªå…³æ ‡è®°ï¼Œä¸éœ€è¦ç»“æŸæ ‡è®° **&lt;img src=&quot;https://www.baidu.com/img/bd_logo1.png&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;## æ–‡æœ¬&lt;b&gt;è¿™é‡Œæ˜¯ç²—ä½“&lt;/b&gt;&lt;i&gt;è¿™é‡Œæ˜¯æ–œä½“&lt;/i&gt;&lt;strong&gt;what&lt;/strong&gt;&lt;em&gt;è¿™é‡Œè¿˜æ˜¯æ–œä½“&lt;/em&gt;&lt;ins&gt;æ’å…¥å­—ä½“ï¼Œä¸‹åˆ’çº¿&lt;/ins&gt;&lt;del&gt;åˆ é™¤çº¿&lt;/del&gt;~~~ è¿˜æ˜¯åˆ é™¤çº¿ ~~~ä¸‹æ ‡&amp;&amp;ä¸Šæ ‡H&lt;sub&gt;2&lt;/sub&gt;O&lt;sub&gt;2&lt;/sub&gt;å—¯&lt;sup&gt;æˆ‘é£˜äº†&lt;/sup&gt;&lt;code&gt;#include&lt;stdio.h&gt;int main()&#123; printf(&quot;wocao!&quot;);&#125;&lt;/code&gt;æ­£å¸¸å­—&lt;small&gt;å°å·å­—&lt;/small&gt;&lt;q&gt;çŸ­å¼•ç”¨ï¼ŒåŒå¼•å·åŒ…å›´&lt;/q&gt;&lt;blockquote&gt;é•¿å¼•ç”¨åœŸåœ°æ˜¯ä»¥å®ƒçš„è‚¥æ²ƒå’Œæ”¶è·è€Œè¢«ä¼°ä»·çš„ï¼›æ‰èƒ½ä¹Ÿæ˜¯åœŸåœ°ï¼Œä¸è¿‡å®ƒç”Ÿäº§çš„ä¸æ˜¯ç²®é£Ÿï¼Œè€Œæ˜¯çœŸç†ã€‚å¦‚æœåªèƒ½æ»‹ç”Ÿç‘æƒ³å’Œå¹»æƒ³çš„è¯ï¼Œå³ä½¿å†å¤§çš„æ‰èƒ½ä¹Ÿåªæ˜¯ç ‚åœ°æˆ–ç›æ± ï¼Œé‚£ä¸Šé¢è¿å°è‰ä¹Ÿé•¿ä¸å‡ºæ¥çš„ã€‚ â€”â€” åˆ«æ—æ–¯åŸº&lt;/blockquote&gt;22222222222222222222222222222## è¡¨æ ¼&lt;table border=&quot;1&quot;&gt;&lt;tr&gt;&lt;td&gt;row 1, cell 1&lt;/td&gt;&lt;td&gt;row 1, cell 2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;row 2, cell 1&lt;/td&gt;&lt;td&gt;row 2, cell 2&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;### è·¨åˆ—è¡¨æ ¼&lt;table border=&quot;1&quot;&gt;&lt;tr&gt; &lt;th&gt;å§“å&lt;/th&gt; &lt;th colspan=&quot;2&quot;&gt;ç”µè¯&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt; &lt;td&gt;shansan&lt;/td&gt; &lt;td&gt;1329441308&lt;/td&gt; &lt;td&gt;164354491&lt;/td&gt;&lt;/tr&gt;&lt;table&gt;&lt;h3&gt;è·¨è¡Œè¡¨æ ¼&lt;/h3&gt;&lt;table border=&quot;1&quot;&gt;&lt;tr&gt; &lt;th&gt;å§“å&lt;/th&gt; &lt;td&gt;shansan&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt; &lt;th rowspan=&quot;2&quot;&gt;ç”µè¯&lt;/th&gt; &lt;td&gt;1329441308&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt; &lt;td&gt;164354491&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; ---","categories":[{"name":"HTML","slug":"HTML","permalink":"https://yeshan333.github.io/categories/HTML/"}],"tags":[{"name":"HTML","slug":"HTML","permalink":"https://yeshan333.github.io/tags/HTML/"}]},{"title":"ç«–å¼é—®é¢˜","slug":"ç«–å¼é—®é¢˜","date":"2018-10-24T23:59:00.000Z","updated":"2018-10-24T23:59:00.000Z","comments":true,"path":"2018/10/24/ç«–å¼é—®é¢˜/","permalink":"https://yeshan333.github.io/2018/10/24/%E7%AB%96%E5%BC%8F%E9%97%AE%E9%A2%98/","excerpt":"å­—ç¬¦ä¸²å¤„ç†å‡½æ•°strchr() &amp;&amp; ç«–å¼é—®é¢˜ ç«–å¼é—®é¢˜","text":"å­—ç¬¦ä¸²å¤„ç†å‡½æ•°strchr() &amp;&amp; ç«–å¼é—®é¢˜ ç«–å¼é—®é¢˜ é¢˜ç›®æè¿° æ‰¾å‡ºæ‰€æœ‰å½¢å¦‚abc*deï¼ˆä¸‰ä½æ•°ä¹˜ä¸¤ä½æ•°ï¼‰çš„ç®—å¼ï¼Œä½¿å¾—åœ¨å®Œæ•´çš„ç«–å¼ä¸­ï¼Œæ‰€æœ‰æ•°å­—éƒ½å±äºä¸€ä¸ªç‰¹å®šçš„æ•°å­—é›†åˆã€‚ è¾“å…¥ï¼š è¾“å…¥ä¸€ä¸ªæ•°å­—é›†åˆï¼ˆç›¸é‚»æ•°å­—ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼‰ è¾“å‡ºï¼š è¾“å‡ºæ‰€æœ‰ç«–å¼.æ¯ä¸ªç«–å¼å‰åº”è¯¥ç¼–å·ï¼Œä¹‹ååº”è¯¥æœ‰ä¸€ä¸ªç©ºè¡Œã€‚æœ€åè¾“å‡ºè§£çš„æ€»æ•°ã€‚ æ ·ä¾‹è¾“å…¥ï¼š 2357 æ ·ä¾‹è¾“å‡ºï¼š (1)&ensp;&ensp;775x&ensp;&ensp;33â€”â€“&ensp;23252325&ensp;â€”â€“25575The number of solution &#x3D; 1 åˆ†æå°å­¦çš„ä¹˜æ³•è¿ç®— 1234567891011121314151617181920212223242526272829303132#include&lt;stdio.h&gt;#include&lt;string.h&gt;int main()&#123; int count; char s[20],buf[99]; scanf(&quot;%s&quot;,s); for(int abc = 111;abc &lt;= 999;abc++) &#123; for(int de = 11;de &lt;= 99;de++) &#123; int x = abc*(de%10),y = abc*(de/10),z = abc*de; sprintf(buf,&quot;%d%d%d%d%d&quot;,abc,de,x,y,z); /* - ä½¿ç”¨sprintf()æŠŠä¿¡æ¯è¾“å‡ºåˆ°å­—ç¬¦ä¸² - strchr()å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å•ä¸ªå­—ç¬¦ */ int ok = 1; for(int i = 0;i&lt;strlen(buf);i++) &#123; if(strchr(s,buf[i])==NULL) ok = 0; &#125; if(ok) &#123; printf(&quot;(%d)\\n&quot;,++count); printf(&quot;%5d\\nx%4d\\n-----\\n%5d\\n%4d\\n-----\\n%5d\\n\\n&quot;,abc,de,x,y,z); &#125; &#125; &#125; printf(&quot;The number of solutions = %d\\n&quot;,count); return 0;&#125; å­—ç¬¦å¤„ç†å‡½æ•°strchr()strchr() ç”¨æ¥æŸ¥æ‰¾æŸå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå…¶åŸå‹ä¸ºï¼š char * strchr (const char *str, int c); strchr() å°†ä¼šæ‰¾å‡º str å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„å­—ç¬¦ c çš„åœ°å€ï¼Œç„¶åå°†è¯¥åœ°å€è¿”å›ã€‚ å¦‚æœæ‰¾åˆ°æŒ‡å®šçš„å­—ç¬¦åˆ™è¿”å›è¯¥å­—ç¬¦æ‰€åœ¨åœ°å€ï¼Œå¦åˆ™è¿”å› NULLã€‚ 12345678910#include&lt;stdio.h&gt;#include&lt;string.h&gt;int main()&#123; char *s=&quot;666shansan&quot;; char *p; p = strchr(s,&#x27;s&#x27;); printf(&quot;%s&quot;,p); return 0;&#125; è¾“å‡ºç»“æœ shansan","categories":[{"name":"C","slug":"C","permalink":"https://yeshan333.github.io/categories/C/"}],"tags":[{"name":"C","slug":"C","permalink":"https://yeshan333.github.io/tags/C/"}]},{"title":"å‘äººçš„C++-2","slug":"å‘äººçš„C++-2","date":"2018-10-22T23:41:19.000Z","updated":"2018-10-22T23:41:19.000Z","comments":true,"path":"2018/10/22/å‘äººçš„C++-2/","permalink":"https://yeshan333.github.io/2018/10/22/%E5%9D%91%E4%BA%BA%E7%9A%84C++-2/","excerpt":"C++æ–‡ä»¶å’Œæµåœ¨C++ä¸­è¿›è¡Œæ–‡ä»¶å¤„ç†ï¼Œå¯ä½¿ç”¨æ ‡å‡†åº“fstream å®ƒå®šä¹‰äº†ä¸‰ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œç”¨äºä»æ–‡ä»¶å†™å…¥æµå’Œä»æ–‡ä»¶è¯»å–æµ æ•°æ®ç±»å‹ æè¿° ofstream è¯¥æ•°æ®ç±»å‹è¡¨ç¤ºè¾“å‡ºæ–‡ä»¶æµï¼Œç”¨äºåˆ›å»ºæ–‡ä»¶å¹¶å‘æ–‡ä»¶ä¸­å†™å…¥ä¿¡æ¯ ifstream è¯¥æ•°æ®ç±»å‹è¡¨ç¤ºè¾“å…¥æ–‡ä»¶æµï¼Œç”¨äºä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯ fstream è¯¥æ•°æ®ç±»å‹é€šå¸¸è¡¨ç¤ºæ–‡ä»¶æµï¼ŒåŒæ—¶å…·æœ‰ofstreamå’Œifstreamä¸¤ç§åŠŸèƒ½ï¼Œä»–å¯ä»¥åˆ›å»ºæ–‡ä»¶ï¼Œå‘æ–‡ä»¶ä¸­å†™å…¥ä¿¡æ¯ï¼Œä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯","text":"C++æ–‡ä»¶å’Œæµåœ¨C++ä¸­è¿›è¡Œæ–‡ä»¶å¤„ç†ï¼Œå¯ä½¿ç”¨æ ‡å‡†åº“fstream å®ƒå®šä¹‰äº†ä¸‰ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œç”¨äºä»æ–‡ä»¶å†™å…¥æµå’Œä»æ–‡ä»¶è¯»å–æµ æ•°æ®ç±»å‹ æè¿° ofstream è¯¥æ•°æ®ç±»å‹è¡¨ç¤ºè¾“å‡ºæ–‡ä»¶æµï¼Œç”¨äºåˆ›å»ºæ–‡ä»¶å¹¶å‘æ–‡ä»¶ä¸­å†™å…¥ä¿¡æ¯ ifstream è¯¥æ•°æ®ç±»å‹è¡¨ç¤ºè¾“å…¥æ–‡ä»¶æµï¼Œç”¨äºä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯ fstream è¯¥æ•°æ®ç±»å‹é€šå¸¸è¡¨ç¤ºæ–‡ä»¶æµï¼ŒåŒæ—¶å…·æœ‰ofstreamå’Œifstreamä¸¤ç§åŠŸèƒ½ï¼Œä»–å¯ä»¥åˆ›å»ºæ–‡ä»¶ï¼Œå‘æ–‡ä»¶ä¸­å†™å…¥ä¿¡æ¯ï¼Œä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯ æ‰“å¼€æ–‡ä»¶ofstreamå’Œifstreamå¯¹è±¡éƒ½å¯ä»¥open()å‡½æ•°æ‰“å¼€æ–‡ä»¶è¿›è¡Œå†™æ“ä½œã€‚open()å‡½æ•°æ˜¯ofstreamã€ifstreamã€fstreamå¯¹è±¡çš„ä¸€ä¸ªæˆå‘˜ã€‚open()å‡½æ•°æ ‡å‡†è¯­æ³• void open(const char *filename,ios::openmode mode) ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦æ‰“å¼€çš„æ–‡ä»¶åç§°å’Œä½ç½® ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ–‡ä»¶æ‰“å¼€çš„æ¨¡å¼ æ¨¡å¼æ ‡å¿— æè¿° ios::app è¿½åŠ æ¨¡å¼ã€‚æ‰€æœ‰å†™å…¥éƒ½è¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾ ios::ate æ–‡ä»¶æ‰“å¼€åå®šä½åˆ°æ–‡ä»¶æœ«å°¾ ios::in æ‰“å¼€æ–‡ä»¶ç”¨äºè¯»å– ios::out æ‰“å¼€æ–‡ä»¶ç”¨äºå†™å…¥ ios::trunc å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œå…¶å†…å®¹åœ¨æ‰“å¼€æ–‡ä»¶ä¹‹å‰è¢«æˆªæ–­ï¼Œå³æŠŠæ–‡ä»¶é•¿åº¦è®¾ä¸º0 æ‰“å¼€æ¨¡å¼å¯ä»¥ä¸¤ä¸ªæˆ–è€…å¤šä¸ªç»“åˆä½¿ç”¨ ofstream outfile; outfile.open(&quot;file.data&quot;,ios::out|ios::trunc) //outfile.open(&quot;file.data&quot;,ios::out|ios::in) å…³é—­æ–‡ä»¶C++ç¨‹åºç»ˆæ­¢æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å…³é—­åˆ·æ–°æ‰€æœ‰æµï¼Œé‡Šæ”¾æ‰€æœ‰åˆ†é…çš„å†…å­˜ï¼Œå¹¶å…³é—­æ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶ã€‚å¬è¯´ä¼˜ç§€çš„ç¨‹åºå‘˜ä¼šåœ¨ç¨‹åºç»ˆæ­¢å‰å…³é—­æ‰“å¼€çš„æ–‡ä»¶ ä½¿ç”¨close()å‡½æ•° å†™å…¥æ–‡ä»¶ &amp;&amp; è¯»å–æ–‡ä»¶ ä½¿ç”¨æµæ’å…¥è¿ç®—ç¬¦ï¼ˆ&lt;&lt;ï¼‰å‘æ–‡ä»¶å†™å…¥ä¿¡æ¯ï¼Œå°±åƒä½¿ç”¨è¯¥è¿ç®—ç¬¦è¾“å‡ºä¿¡æ¯åˆ°å±å¹•ä¸Šä¸€æ ·ï¼Œä½†ç”¨çš„ä¸æ˜¯coutå¯¹è±¡ï¼Œè€Œæ˜¯ofstreamæˆ–è€…fstreamå¯¹è±¡ -ä½¿ç”¨æµæå–è¿ç®—ç¬¦ï¼ˆ&gt;&gt;ï¼‰ä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ifstreamæˆ–è€…fstreamå¯¹è±¡ demo12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include&lt;iostream&gt;#include&lt;fstream&gt;using namespace std;int main()&#123; char data[100]; //ä»¥å†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶ ofstream outfile; outfile.open(&quot;afile.data&quot;);//è¿™é‡Œä½¿ç”¨äº†ç›¸å¯¹è·¯å¾„ cout&lt;&lt;&quot;writing to the file&quot;&lt;&lt;endl; cout&lt;&lt;&quot;enter your name:&quot;; cin.getline(data,100);//cinå¯¹è±¡çš„é™„åŠ å‡½æ•°ï¼Œgetline()ä»å¤–éƒ¨è¯»å–ä¸€è¡Œ //å‘æ–‡ä»¶å†™å…¥ç”¨æˆ·è¾“å…¥çš„æ•°æ® outfile&lt;&lt;data&lt;&lt;endl; cout&lt;&lt;&quot;enter your age:&quot;; cin&gt;&gt;data; cin.ignore();//å¿½ç•¥æ‰ä¹‹å‰è¯»è¯­å¥ç•™ä¸‹çš„å¤šä½™å­—ç¬¦ //å†æ¬¡å‘æ–‡ä»¶å†™å…¥ç”¨æˆ·è¾“å…¥çš„æ•°æ® outfile&lt;&lt;data&lt;&lt;endl; outfile.close(); //ä»¥è¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶ ifstream infile; infile.open(&quot;afile.data&quot;); cout&lt;&lt;&quot;reading from the file&quot;&lt;&lt;endl; infile&gt;&gt;data; //åœ¨å±å¹•ä¸Šè¯»å–æ•°æ® cout&lt;&lt;data&lt;&lt;endl; //å†æ¬¡ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®å¹¶æ˜¾ç¤ºå®ƒ infile&gt;&gt;data; cout&lt;&lt;data&lt;&lt;endl; infile.close(); return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"å‘äººçš„C++","slug":"å‘äººçš„C++","date":"2018-10-22T23:38:58.000Z","updated":"2018-10-22T23:38:58.000Z","comments":true,"path":"2018/10/22/å‘äººçš„C++/","permalink":"https://yeshan333.github.io/2018/10/22/%E5%9D%91%E4%BA%BA%E7%9A%84C++/","excerpt":"C++è‡ªå®šä¹‰å‘½åç©ºé—´ä½¿ç”¨å…³é”®å­—namespace namespace namespace_name &#123; //ä»£ç å£°æ˜ &#125;","text":"C++è‡ªå®šä¹‰å‘½åç©ºé—´ä½¿ç”¨å…³é”®å­—namespace namespace namespace_name &#123; //ä»£ç å£°æ˜ &#125; 123456789101112131415161718192021222324252627282930#include&lt;iostream&gt;using namespace std;using std::cout;namespace print_myname&#123; void func() &#123; cout&lt;&lt;&quot;myname: shansan&quot;&lt;&lt;endl; &#125;&#125;namespace print_font&#123; void func_1() &#123; std::cout&lt;&lt;&quot;ä»€ä¹ˆé¬¼ ï¼&quot;&lt;&lt;endl; &#125;&#125;using namespace print_myname;using namespace print_font;int main()&#123; //print_myname::func(); func(); //print_font::func_1(); func_1(); return 0;&#125; ä¸è¿ç»­çš„å‘½åç©ºé—´ å‘½åç©ºé—´å¯ä»¥å®šä¹‰åœ¨å‡ ä¸ªä¸åŒçš„éƒ¨åˆ†ä¸­ï¼Œå› æ­¤å‘½åç©ºé—´æ˜¯ç”±å‡ ä¸ªå•ç‹¬å®šä¹‰çš„éƒ¨åˆ†ç»„æˆçš„ã€‚ä¸€ä¸ªå‘½åç©ºé—´çš„ç»„æˆéƒ¨åˆ†å¯ä»¥åˆ†å¸ƒåœ¨å¤šä¸ªæ–‡ä»¶ä¸­æ‰€ä»¥ï¼Œå¦‚æœå‘½åç©ºé—´ä¸­æŸä¸ªç»„æˆéƒ¨åˆ†éœ€è¦è¯·æ±‚å®šä¹‰åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­çš„åç§°ï¼Œä»ç„¶éœ€è¦å£°æ˜è¯¥åç§°ã€‚ä¸‹é¢çš„å‘½åç©ºé—´å¯ä»¥å®šä¹‰ä¸€ä¸ªæ–°çš„å‘½åç©ºé—´ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ºå·²æœ‰çš„å‘½åç©ºé—´å¢åŠ æ–°çš„å…ƒç´ ã€‚ namespace namespace_name &#123; //ä»£ç ç”Ÿæ˜ &#125; åµŒå¥—çš„å‘½åç©ºé—´å¯ä»¥åœ¨ä¸€ä¸ªå‘½åç©ºé—´ä¸­å®šä¹‰å¦ä¸€ä¸ªå‘½åç©ºé—´ 1234567891011121314151617181920212223242526272829#include&lt;iostream&gt;using namespace std;namespace my_firstname&#123; void print_firstname() &#123; cout&lt;&lt;&quot;shan &quot;; &#125; namespace my_lastname &#123; void print_lastname() &#123; cout&lt;&lt;&quot;san&quot;&lt;&lt;endl; &#125; &#125;&#125;//using namespace my_firstname;using namespace my_firstname::my_lastname;int main()&#123; //print_firstname(); //my_lastname::print_lastname(); print_lastname(); return 0;&#125; C++å¼‚å¸¸å¤„ç† å¼‚å¸¸æ˜¯åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„é—®é¢˜ã€‚ C++å¼‚å¸¸æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œæ—¶å‘ç”Ÿçš„ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚å°è¯•é™¤ä»¥é›¶çš„æ“ä½œã€‚ å¼‚å¸¸æä¾›äº†ä¸€ç§è½¬ç§»ç¨‹åºæ§åˆ¶æƒçš„æ–¹å¼ã€‚ C++å¼‚å¸¸å¤„ç†å…³é”®å­— throw:å½“é—®é¢˜å‡ºç°æ—¶ï¼Œç¨‹åºä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚é€šè¿‡throwå…³é”®å­—æ¥å®Œæˆã€‚ catch:åœ¨æƒ³è¦å¤„ç†é—®é¢˜çš„åœ°æ–¹ï¼Œé€šè¿‡å¼‚å¸¸å¤„ç†ç¨‹åºæ•è·å¼‚å¸¸ã€‚catchå…³é”®å­—ç”¨äºæ•è·å¼‚å¸¸ã€‚ try:tryå—ä¸­çš„ä»£ç æ ‡è¯†å°†è¢«æ¿€æ´»çš„ç‰¹å®šå¼‚å¸¸ã€‚ä»–åé¢é€šå¸¸è·Ÿç€ä¸€ä¸ªæˆ–è€…å¤šä¸ªcatchå—å¦‚æœæ‚¨æƒ³è®© catch å—èƒ½å¤Ÿå¤„ç† try å—æŠ›å‡ºçš„ä»»ä½•ç±»å‹çš„å¼‚å¸¸ï¼Œåˆ™å¿…é¡»åœ¨å¼‚å¸¸å£°æ˜çš„æ‹¬å·å†…ä½¿ç”¨çœç•¥å·... 12345678try &#123; //è¢«ä¿æŠ¤ä»£ç å— &#125; catch(...) &#123; //èƒ½å¤„ç†ä»»ä½•å¼‚å¸¸ä»£ç  &#125; 12345678910111213141516171819202122232425262728293031#include&lt;iostream&gt;using namespace std;double division(double a,double b)&#123; if(b == 0) &#123; throw &quot;Division by zero condition!&quot;; &#125; return (a/b);&#125;int main()&#123; int a,b; double temp; scanf(&quot;%d%d&quot;,&amp;a,&amp;b); try &#123; temp = division(a,b); cout&lt;&lt;temp&lt;&lt;endl; &#125; /*ç”±äºæˆ‘ä»¬æŠ›å‡ºäº†ä¸€ä¸ªç±»å‹ä¸º const char* çš„å¼‚å¸¸ï¼Œ å› æ­¤ï¼Œå½“æ•è·è¯¥å¼‚å¸¸æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ catch å—ä¸­ä½¿ç”¨ const char*ã€‚*/ catch(const char *msg) &#123; cerr&lt;&lt;msg&lt;&lt;endl; &#125; return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"ä¸˜ä¸€ä¸˜æ­£åˆ™è¡¨è¾¾å¼","slug":"ä¸˜ä¸€ä¸˜æ­£åˆ™è¡¨è¾¾å¼","date":"2018-10-18T01:51:46.000Z","updated":"2018-10-18T01:51:46.000Z","comments":true,"path":"2018/10/18/ä¸˜ä¸€ä¸˜æ­£åˆ™è¡¨è¾¾å¼/","permalink":"https://yeshan333.github.io/2018/10/18/%E4%B8%98%E4%B8%80%E4%B8%98%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","excerpt":"æ­£åˆ™è¡¨è¾¾å¼(regular expression,regex,RE) æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§ç”¨æ¥ç®€æ´è¡¨è¾¾ä¸€ç»„å­—ç¬¦ä¸²çš„è¡¨è¾¾å¼ æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§é€šç”¨çš„å­—ç¬¦ä¸²è¡¨è¾¾æ¡†æ¶ æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§é’ˆå¯¹å­—ç¬¦ä¸²è¡¨è¾¾â€œç®€æ´â€å’Œâ€œç‰¹å¾â€æ€æƒ³çš„å·¥å…· æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ç”¨æ¥åˆ¤æ–­æŸå­—ç¬¦ä¸²çš„ç‰¹å¾å½’å±","text":"æ­£åˆ™è¡¨è¾¾å¼(regular expression,regex,RE) æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§ç”¨æ¥ç®€æ´è¡¨è¾¾ä¸€ç»„å­—ç¬¦ä¸²çš„è¡¨è¾¾å¼ æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§é€šç”¨çš„å­—ç¬¦ä¸²è¡¨è¾¾æ¡†æ¶ æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§é’ˆå¯¹å­—ç¬¦ä¸²è¡¨è¾¾â€œç®€æ´â€å’Œâ€œç‰¹å¾â€æ€æƒ³çš„å·¥å…· æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ç”¨æ¥åˆ¤æ–­æŸå­—ç¬¦ä¸²çš„ç‰¹å¾å½’å± æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ“ä½œç¬¦ æ“ä½œç¬¦ è¯´æ˜ å®ä¾‹ . è¡¨ç¤ºä»»æ„å•ä¸ªå­—ç¬¦ py. å¯ä»¥åŒ¹é…pyc,pyy,py!ç­‰ç­‰ [ ] å­—ç¬¦é›†ï¼Œå¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºå–å€¼èŒƒå›´ [abc]å¯ä»¥åŒ¹é…aæˆ–bæˆ–cï¼›[0-9a-zA-z\\_]å¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ã€ä¸€ä¸ªå­—æ¯æˆ–è€…ä¸€ä¸ªä¸‹åˆ’çº¿ [^ ] éå­—ç¬¦é›†ï¼Œå¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºæ’é™¤èŒƒå›´ [^abc]å¯ä»¥åŒ¹é…éaæˆ–ébæˆ–écçš„å•ä¸ªå­—ç¬¦ * å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–å¤šæ¬¡æ‰©å±• abc* å¯ä»¥åŒ¹é…abã€abcã€abccã€abcccç­‰ç­‰ + å‰ä¸€ä¸ªå­—ç¬¦çš„1æ¬¡æˆ–å¤šæ¬¡æ‰©å±• abc+å¯ä»¥åŒ¹é…abcã€abccã€abcccç­‰ç­‰ ? å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–1æ¬¡æ‰©å±• abc?å¯ä»¥åŒ¹é…abã€abc &#124; å·¦å³è¡¨è¾¾å¼ä»»æ„ä¸€ä¸ª abc&#124;defè¡¨ç¤ºabcã€def {m} æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mæ¬¡ ab{2}cåŒ¹é…abbc {m,n} æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mè‡³næ¬¡æ•°ï¼ˆå«nï¼‰ ab{1ï¼Œ2}cå¯ä»¥åŒ¹é…abcã€abbc ^ åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´ ^abcè¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´,^\\dè¡¨ç¤ºå¿…é¡»ä»¥æ•°å­—å¼€å¤´ $ åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ abcè¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾ã€\\d$ç™½å“¦æ˜¯å¿…é¡»ä»¥æ•°å­—ç»“å°¾ ( ) åˆ†ç»„æ ‡è®°,å†…éƒ¨åªèƒ½ä½¿ç”¨&#124;æ“ä½œç¬¦ (abc&#124;def)è¡¨ç¤ºabcã€def \\d å¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ï¼Œç›¸å½“äº[0-9] \\d{3}è¡¨ç¤ºåŒ¹é…3ä¸ªæ•°å­—ï¼Œå¦‚010 \\w å¯ä»¥åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–è€…æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ï¼Œç›¸å½“äº[a-zA-Z0-9_] \\w\\w\\då¯ä»¥åŒ¹é…â€™py3â€™ \\s å¯ä»¥åŒ¹é…ä¸€ä¸ªç©ºæ ¼ï¼ˆä¹ŸåŒ…æ‹¬Tabç­‰ç©ºç™½å­—ç¬¦ï¼‰ \\s+è¡¨ç¤ºè‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦‚â€™ â€˜ã€â€™ â€˜ ç²¾ç¡®åŒ¹é…åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå¦‚æœç›´æ¥ç»™å‡ºå­—ç¬¦ï¼Œå°±æ˜¯ç²¾ç¡®åŒ¹é… â€˜pytâ€™ åŒ¹é…â€™pytâ€™ â€˜00\\dâ€™ å¯ä»¥åŒ¹é…â€™007â€™ â€˜\\w\\dâ€™ å¯ä»¥åŒ¹é…â€™!5â€™ â€˜ye.â€™ å¯ä»¥åŒ¹é…â€™yesâ€™ â€˜(P&#124;p)pythonâ€™ å¯ä»¥åŒ¹é…â€™Pythonâ€™ã€â€™pythonâ€™ é«˜é˜¶ç²¾ç¡®åŒ¹é…,ç»å…¸å®ä¾‹ ^[A-Za-z]+$ åŒ¹é…ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²,å¦‚â€™abrgâ€™ã€â€™abgsfsfgaâ€™ [a-zA-Z\\][0-9a-zA-Z\\]* å¯ä»¥åŒ¹é…ç”±å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿å¼€å¤´ã€åæ¥ä»»æ„ä¸€ä¸ªç”±å­—æ¯ã€æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯pythonçš„åˆæ³•å˜é‡ ^-?\\d+$ åŒ¹é…æ•´æ•°å½¢å¼çš„å­—ç¬¦ä¸² ^[0-9][1-9][0-9]$ åŒ¹é…æ­£æ•´æ•°å½¢å¼çš„å­—ç¬¦ä¸² [1-9]\\d{5} ä¸­å›½å¢ƒå†…é‚®æ”¿ç¼–ç ,6ä½ [\\u4e00-\\u9fa5] åŒ¹é…ä¸­æ–‡å­—ç¬¦ \\d{3}-\\d{8}&#124;\\d{4}-\\d{7} å›½å†…ç”µè¯å·ç ,010-68913536 pythonæ­£åˆ™è¡¨è¾¾å¼æ¨¡å—ï¼Œï¼ˆReæ¨¡å—ï¼‰ reæ˜¯pythonçš„æ ‡å‡†åº“ï¼Œä¸»è¦ç”¨äºå­—ç¬¦ä¸²åŒ¹é… reåº“é‡‡ç”¨raw stringç±»å‹(åŸç”Ÿå­—ç¬¦ä¸²ç±»å‹)è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œä¾‹å¦‚r&#39;[1-9]\\d&#123;5&#125;&#39;,raw stringæ˜¯ä¸åŒ…å«å¯¹è½¬ä¹‰ç¬¦å†æ¬¡è½¬ä¹‰çš„å­—ç¬¦ä¸² reåº“ä¹Ÿå¯ä»¥é‡‡ç”¨stringç±»å‹è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾ï¼Œä½†æ˜¯è¾ƒä¸ºç¹çï¼Œä¾‹å¦‚&#39;[1-9]\\\\d&#123;5&#125;&#39; reåº“åŠŸèƒ½å‡½æ•° å‡½æ•° è¯´æ˜ re.search() åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¿”å›matchå¯¹è±¡ re.match() ä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®èµ·åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å›matchå¯¹è±¡ re.findall() æœç´¢å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨ç±»å‹è¿”å›å…¨éƒ¨èƒ½åŒ¹é…çš„å­ä¸² re.split() å°†ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç»“æœè¿›è¡Œåˆ†å‰²ï¼Œè¿”å›åˆ—è¡¨ç±»å‹ re.finditer æœç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœçš„è¿­ä»£ç±»å‹ï¼Œæ¯ä¸ªè¿­ä»£å…ƒç´ æ˜¯matchå¯¹è±¡ re.sub() åœ¨å­—ç¬¦ä¸²ä¸­æ›¿æ¢æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸² 1. re.search(pattern,string,flags=0) åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¿”å›matchå¯¹è±¡ pattern:æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º string:å¾…åŒ¹é…å­—ç¬¦ä¸² flagsï¼š æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®° å¸¸ç”¨æ ‡è®° è¯´æ˜ re.I&ensp;re.IGNORECASE å¿½ç•¥æ­£åˆ™è¡¨è¾¾å¼çš„å¤§å°å†™ï¼Œ[A-Z]èƒ½å¤ŸåŒ¹é…å°å†™å­—ç¬¦ re.M&ensp;re.MULTILINE æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„^æ“ä½œç¬¦èƒ½å¤Ÿå°†ç»™å®šå­—ç¬¦ä¸²çš„æ¯è¡Œå½“åšåŒ¹é…å¼€å§‹ re.s&ensp;re.DOTALL æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„.æ“ä½œç¬¦èƒ½å¤ŸåŒ¹é…æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œé»˜è®¤åŒ¹é…é™¤æ¢è¡Œå¤–çš„æ‰€æœ‰å­—ç¬¦ä¸² 2. re.match(pattern,string,flags=0) ä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®èµ·åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å›matchå¯¹è±¡ pattern:æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–è€…åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º string:å¾…åŒ¹é…å­—ç¬¦ä¸² flags:æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®° 3. re.findall(pattern,string,flags=0) æœç´¢å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨ç±»å‹è¿”å›å…¨éƒ¨èƒ½åŒ¹é…çš„å­—ç¬¦ä¸² 4. re.split(pattern,string,maxsplit=0,flags=0) å°†ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§æ­£åˆ™åŒ¹é…ç»“æœè¿›è¡Œåˆ†å‰²ï¼Œè¿”å›åˆ—è¡¨ç±»å‹ maxsplt:æœ€å¤§åˆ†å‰²æ•°ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€åä¸€ä¸ªå…ƒç´ è¾“å‡º 5. re.finditer(pattern,string,flags=0) æœç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœçš„è¿­ä»£ç±»å‹ï¼Œæ¯ä¸ªè¿­ä»£ç±»å‹æ˜¯matchå¯¹è±¡ 6. re.sub(pattern,repl,string,cout=0,flags=0) åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ›¿æ¢æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸² repl:æ›¿æ¢åŒ¹é…å­—ç¬¦ä¸²çš„å­—ç¬¦ä¸² cout:åŒ¹é…çš„æœ€å¤§æ›¿æ¢æ¬¡æ•° reåº“çš„é¢å‘å¯¹è±¡ç”¨æ³•åœ¨pythonä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œreæ¨¡å—å†…éƒ¨ä¼šåšä¸¤ä»¶äº‹ï¼š ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚æœæ­£åˆ™è¡¨è¾¾å¼æœ¬èº«ä¸åˆæ³•ï¼Œä¼šæŠ¥é”™ ç”¨ç¼–è¯‘åçš„æ­£åˆ™è¡¨è¾¾å¼å»åŒ¹é…å­—ç¬¦ä¸² regex &#x3D; re.compile(pattern,flags&#x3D;0) å°†æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å½¢å¼ç¼–è¯‘æˆæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ pattern:æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º flags:æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®° compileåç”Ÿæˆäº†regular expressionå¯¹è±¡ï¼Œç”±äºè¯¥1å¯¹è±¡åŒ…å«äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ä¸ç”¨ç»™å‡ºæ­£åˆ™å­—ç¬¦ä¸² reåº“çš„Matchå¯¹è±¡ Matchå¯¹è±¡æ˜¯ä¸€æ¬¡åŒ¹é…çš„ç»“æœï¼ŒåŒ…å«å¾ˆå¤šä¿¡æ¯ Matchå¯¹è±¡çš„å±æ€§ å±æ€§ è¯´æ˜ .string å¾…åŒ¹é…çš„æ–‡æœ¬ .re åŒ¹é…ä½¿ç”¨çš„patternå¯¹è±¡(æ­£åˆ™è¡¨è¾¾å¼) .pos æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬çš„å¼€å§‹ä½ç½® .endpos æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬çš„ç»“æŸä½ç½® Matchå¯¹è±¡çš„æ–¹æ³• æ–¹æ³• è¯´æ˜ .group(0) è·å¾—åŒ¹é…åçš„å­—ç¬¦ä¸² .start() åŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå§‹å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½® .end() åŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå§‹å­—ç¬¦ä¸²çš„ç»“æŸä½ç½® .span() è¿”å›(.start(),.end())ä¸€ä¸ªå…ƒç»„ reåº“çš„è´ªå©ªåŒ¹é…å’Œæœ€å°åŒ¹é…reåº“é»˜è®¤ä½¿ç”¨è´ªå©ªåŒ¹é…ï¼Œå³åŒ¹é…æœ€é•¿çš„å­ä¸² æœ€å°åŒ¹é… ** æœ€å°åŒ¹é…æ“ä½œç¬¦ ** æ“ä½œç¬¦ è¯´æ˜ *? å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–è€…æ— é™æ¬¡æ‰©å±•ï¼Œæœ€å°åŒ¹é… +? å‰ä¸€ä¸ªå­—ç¬¦1æ¬¡æˆ–è€…æ— é™æ¬¡æ‰©å±•ï¼Œæœ€å°åŒ¹é… ?? å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–1æ¬¡æ‰©å±•ï¼Œæœ€å°åŒ¹é… {m,n}? æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mè‡³næ¬¡(åŒ…å«n)ï¼Œæœ€å°åŒ¹é… åªè¦è¾“å‡ºé•¿åº¦å¯èƒ½ä¸åŒçš„ï¼Œéƒ½å¯ä»¥é€šè¿‡åœ¨æ“ä½œç¬¦åé¢åŠ ?å˜æˆæœ€å°åŒ¹é… https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143193331387014ccd1040c814dee8b2164bb4f064cff000","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://yeshan333.github.io/tags/%E7%88%AC%E8%99%AB/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://yeshan333.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}]},{"title":"C++é¢å‘å¯¹è±¡-7","slug":"C++-é¢å‘å¯¹è±¡-7","date":"2018-10-16T23:39:00.000Z","updated":"2018-10-16T23:39:00.000Z","comments":true,"path":"2018/10/16/C++-é¢å‘å¯¹è±¡-7/","permalink":"https://yeshan333.github.io/2018/10/16/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-7/","excerpt":"æ•°æ®æŠ½è±¡ æ•°æ®æŠ½è±¡(data abstraction)æ˜¯ä¸é¢å‘å¯¹è±¡(object-oriented)å¹¶åˆ—çš„ä¸€ç§ç¼–ç¨‹èŒƒå¼(programming paradigm)ã€‚æ•°æ®æŠ½è±¡ä¹Ÿæˆä¸ºæŠ½è±¡æ•°æ®ç±»å‹(abstract data type&#x2F;ADT)ã€‚æ•°æ®æŠ½è±¡æ˜¯ä¸€ç§ä¾èµ–äºæ¥å£å’Œå®ç°åˆ†ç¦»çš„ç¼–ç¨‹ï¼ˆè®¾è®¡ï¼‰æŠ€æœ¯ã€‚ https://wizardforcel.gitbooks.io/sicp-py/content/2.2.htmlhttp://wj196.iteye.com/blog/860303https://blog.csdn.net/Solstice/article/details/6707148 C++ç±»ä¸ºæ•°æ®æŠ½è±¡æä¾›äº†å¯èƒ½ã€‚å®ƒä»¬å‘å¤–ç•Œæä¾›äº†å¤§é‡ç”¨äºæ“ä½œå¯¹è±¡æ•°æ®çš„å…¬å…±æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–ç•Œå®é™…ä¸Šå¹¶ä¸æ¸…æ¥šç±»çš„å†…éƒ¨å®ç°ã€‚æ•°æ®æŠ½è±¡ä»…ä¸ºç”¨æˆ·æš´éœ²æ¥å£ï¼Œè€ŒæŠŠå…·ä½“çš„å®ç°éšè—äº†èµ·æ¥","text":"æ•°æ®æŠ½è±¡ æ•°æ®æŠ½è±¡(data abstraction)æ˜¯ä¸é¢å‘å¯¹è±¡(object-oriented)å¹¶åˆ—çš„ä¸€ç§ç¼–ç¨‹èŒƒå¼(programming paradigm)ã€‚æ•°æ®æŠ½è±¡ä¹Ÿæˆä¸ºæŠ½è±¡æ•°æ®ç±»å‹(abstract data type&#x2F;ADT)ã€‚æ•°æ®æŠ½è±¡æ˜¯ä¸€ç§ä¾èµ–äºæ¥å£å’Œå®ç°åˆ†ç¦»çš„ç¼–ç¨‹ï¼ˆè®¾è®¡ï¼‰æŠ€æœ¯ã€‚ https://wizardforcel.gitbooks.io/sicp-py/content/2.2.htmlhttp://wj196.iteye.com/blog/860303https://blog.csdn.net/Solstice/article/details/6707148 C++ç±»ä¸ºæ•°æ®æŠ½è±¡æä¾›äº†å¯èƒ½ã€‚å®ƒä»¬å‘å¤–ç•Œæä¾›äº†å¤§é‡ç”¨äºæ“ä½œå¯¹è±¡æ•°æ®çš„å…¬å…±æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–ç•Œå®é™…ä¸Šå¹¶ä¸æ¸…æ¥šç±»çš„å†…éƒ¨å®ç°ã€‚æ•°æ®æŠ½è±¡ä»…ä¸ºç”¨æˆ·æš´éœ²æ¥å£ï¼Œè€ŒæŠŠå…·ä½“çš„å®ç°éšè—äº†èµ·æ¥ æ•°æ®æŠ½è±¡çš„ä¸¤ä¸ªä¼˜åŠ¿ ç±»çš„å†…éƒ¨å—åˆ°ä¿æŠ¤ï¼Œä¸ä¼šå› ä¸ºæ— æ„çš„ç”¨æˆ·çº§é”™è¯¯å¯¼è‡´å¯¹è±¡çŠ¶æ€å—æŸã€‚ ç±»å®ç°å¯èƒ½éšç€æ—¶é—´çš„æ¨ç§»è€Œå‘ç”Ÿå˜åŒ–ï¼Œä»¥ä¾¿åº”å¯¹ä¸æ–­å˜åŒ–çš„éœ€æ±‚ï¼Œæˆ–è€…åº”å¯¹å“ªäº›ä¸æ”¹å˜ç”¨æˆ·çº§ä»£ç çš„é”™è¯¯æŠ¥å‘Šã€‚ 1234567891011121314151617181920212223242526272829303132333435363738//exampleï¼š//demo#include&lt;iostream&gt;using namespace std;class Student&#123; private: //å¯¹å¤–éšè—çš„æ•°æ® int num; int score; public: //æ„é€ å‡½æ•° Student() &#123; cout&lt;&lt;&quot;Constructor called !&quot;&lt;&lt;endl; &#125; //å¯¹å¤–çš„æ¥å£ int SetNum(int number) &#123; this-&gt;num = number; return num; &#125; //å¯¹å¤–çš„æ¥å£ int SetScore(int s) &#123; this-&gt;score = s; return score; &#125;&#125;;int main()&#123; Student A; cout&lt;&lt;A.SetScore(20)&lt;&lt;endl; cout&lt;&lt;A.SetNum(17001)&lt;&lt;endl; return 0;&#125; æ•°æ®å°è£… æ•°æ®å°è£…æ˜¯ä¸€ç§æŠŠæ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°æ†ç»‘åœ¨ä¸€èµ·çš„æœºåˆ¶ã€‚C++ç¨‹åºä¸­ï¼Œä»»ä½•å¸¦æœ‰å…¬æœ‰å’Œç§æœ‰æˆå‘˜çš„ç±»éƒ½å¯ä»¥ä½œä¸ºæ•°æ®å°è£…å’Œæ•°æ®æŠ½è±¡çš„å®ä¾‹ 1234567891011121314151617181920212223242526272829303132333435363738#include&lt;iostream&gt;using namespace std;class Adder//æ±‚å’Œç±»&#123; private: //å¯¹å¤–éšè—çš„æ•°æ®ï¼Œæ•°æ®éšè— int total; public: Adder(int i=0) &#123; total = i; &#125; //å¯¹å¤–æ¥å£ void addNum(int number) &#123; total += number; &#125; //å¯¹å¤–æ¥å£ int getTotal() &#123; return total; &#125;&#125;;int main()&#123; Adder A; A.addNum(10); A.addNum(33); cout&lt;&lt;&quot;Total: &quot;&lt;&lt;A.getTotal()&lt;&lt;endl; return 0;&#125;/*- å…¬æœ‰æˆå‘˜addNumå’ŒgetTotalæ˜¯å¯¹å¤–çš„æ¥å£ï¼Œç”¨æˆ·éœ€è¦çŸ¥é“ä»–ä»¬ä»¥ä¾¿ä½¿ç”¨ç±»ã€‚- ç§æœ‰æˆå‘˜totalæ˜¯å¯¹å¤–çš„éšè—ï¼Œç”¨æˆ·ä¸éœ€è¦äº†è§£å®ƒï¼Œä½†å®ƒåˆæ˜¯ç±»èƒ½æ­£å¸¸å·¥ä½œæ‰€å¿…é¡»çš„ã€‚*/ æ¥å£ï¼ˆæŠ½è±¡ç±»ï¼‰å¦‚æœç±»ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‡½æ•°è¢«å£°æ˜ä¸ºçº¯è™šå‡½æ•°ï¼Œåˆ™è¿™ä¸ªç±»å°±æ˜¯æŠ½è±¡ç±»ã€‚æŠ½è±¡ç±»æ˜¯ä¸€ç§åªèƒ½å®šä¹‰ï¼Œä¸èƒ½ç”Ÿæˆå¯¹è±¡çš„ç±»ã€‚ æŠ½è±¡ç±»ä¸èƒ½ç”¨äºå®ä¾‹åŒ–å¯¹è±¡ï¼Œåªèƒ½ä½œä¸ºæ¥å£ä½¿ç”¨ å¦‚æœä¸€ä¸ªæŠ½è±¡ç±»çš„å­ç±»éœ€è¦è¢«å®ä¾‹åŒ–ï¼Œåˆ™å¿…é¡»å®ç°æ¯ä¸ªè™šå‡½æ•°ã€‚å³å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­é‡è½½è™šå‡½æ•° æ¥å£æè¿°äº†ç±»çš„è¡Œä¸ºå’ŒåŠŸèƒ½ï¼Œè€Œä¸éœ€è¦å®Œæˆç±»çš„ç‰¹å®šå®ç° ç”¨äºå®ä¾‹åŒ–å¯¹è±¡çš„ç±»è¢«ç§°ä¸ºå…·ä½“ç±» æŠ½è±¡ç±»çš„æ´¾ç±»ä¾ç„¶å¯ä»¥ä¸å®Œå–„åŸºç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œç»§ç»­ä½œä¸ºæŠ½è±¡ç±»è¢«æ´¾ç”Ÿï¼ŒçŸ¥é“ç»™å‡ºæ‰€æœ‰çš„çº¯è™šå‡½æ•°å®šä¹‰ï¼Œåˆ™æˆä¸ºä¸€ä¸ªå…·ä½“ç±»ï¼Œæ‰å¯ä»¥å®ä¾‹åŒ–å¯¹è±¡ æŠ½è±¡ç±»å› ä¸ºæŠ½è±¡ã€æ— æ³•å…·åŒ–ï¼Œæ‰€ä»¥ä¸èƒ½ä½œä¸ºå‚æ•°ç±»å‹ã€è¿”å›å€¼ã€å¼ºè½¬ç±»å‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455//example:#include&lt;iostream&gt;using namespace std;class Shape&#123; //åŸºç±» protected: int width; int height; public: //æä¾›æ¥å£æ¡†æ¶çš„çº¯è™šå‡½æ•° virtual int getArea() = 0; void setWidth(int w) &#123; this-&gt;width = w; &#125; void setHeight(int h) &#123; this-&gt;height = h; &#125;&#125;;//æ´¾ç”Ÿç±»class Rectangle:public Shape&#123; public: int getArea() &#123; return width*height; &#125;&#125;;class Triangle:public Shape&#123; public: int getArea() &#123; return (width*height)/2; &#125;&#125;;int main()&#123; Rectangle A; //çŸ©å½¢ Triangle B; //ä¸‰è§’å½¢ A.setHeight(3); A.setWidth(4); B.setHeight(3); B.setWidth(4); cout&lt;&lt;&quot;Total Rectangle area: &quot;&lt;&lt;A.getArea()&lt;&lt;endl; cout&lt;&lt;&quot;Total Triangle area: &quot;&lt;&lt;B.getArea()&lt;&lt;endl; return 0;&#125; total æ•°æ®æŠ½è±¡æ˜¯ä¸€ç§ä»…å‘ç”¨æˆ·æš´éœ²æ¥å£è€ŒæŠŠå…·ä½“å®ç°ç»†èŠ‚éšè—èµ·æ¥çš„ä¸€ç§æœºåˆ¶ æ•°æ®å°è£…æ˜¯ä¸€ç§æŠŠæ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°æ†ç»‘åœ¨ä¸€èµ·çš„æœºåˆ¶ æŠ½è±¡ç±»ä½œä¸ºæ¥å£ä½¿ç”¨ï¼Œä¸èƒ½ç”¨äºå®ä¾‹åŒ–å¯¹è±¡","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"recording","slug":"recording","date":"2018-10-16T00:27:52.000Z","updated":"2018-10-16T00:27:52.000Z","comments":true,"path":"2018/10/16/recording/","permalink":"https://yeshan333.github.io/2018/10/16/recording/","excerpt":"è¾½å®ä¸€åˆ†é’Ÿharage","text":"è¾½å®ä¸€åˆ†é’Ÿharage å››å·ä¸€åˆ†é’Ÿ æ¹–åŒ—ä¸€åˆ†é’Ÿ è¥¿è—ä¸€åˆ†é’Ÿ äº‘å—ä¸€åˆ†é’Ÿ å±±ä¸œä¸€åˆ†é’Ÿ æ²³å—ä¸€åˆ†é’Ÿ é™•è¥¿ä¸€åˆ†é’Ÿ æ±Ÿè¥¿ä¸€åˆ†é’Ÿ æ·±åœ³ä¸€åˆ†é’Ÿ å®å¤ä¸€åˆ†é’Ÿ è´µå·ä¸€åˆ†é’Ÿ é‡åº†ä¸€åˆ†é’Ÿ æ±Ÿè‹ä¸€åˆ†é’Ÿ","categories":[],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"å®šå‘çˆ¬è™«-ä¸­å›½å¤§å­¦MOOC-pythonç½‘ç»œçˆ¬è™«å®ä¾‹","slug":"å®šå‘çˆ¬è™«-ä¸­å›½å¤§å­¦MOOC-pythonç½‘ç»œçˆ¬è™«å®ä¾‹","date":"2018-10-15T23:48:56.000Z","updated":"2018-10-15T23:48:56.000Z","comments":true,"path":"2018/10/15/å®šå‘çˆ¬è™«-ä¸­å›½å¤§å­¦MOOC-pythonç½‘ç»œçˆ¬è™«å®ä¾‹/","permalink":"https://yeshan333.github.io/2018/10/15/%E5%AE%9A%E5%90%91%E7%88%AC%E8%99%AB-%E4%B8%AD%E5%9B%BD%E5%A4%A7%E5%AD%A6MOOC-python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%AE%9E%E4%BE%8B/","excerpt":"å®šå‘çˆ¬è™«:ä»…å¯¹è¾“å…¥URLè¿›è¡Œçˆ¬å–ï¼Œä¸æ‰©å±•çˆ¬å–ä¸­å›½å¤§å­¦æ’å2018","text":"å®šå‘çˆ¬è™«:ä»…å¯¹è¾“å…¥URLè¿›è¡Œçˆ¬å–ï¼Œä¸æ‰©å±•çˆ¬å–ä¸­å›½å¤§å­¦æ’å2018 formatæ ¼å¼åŒ–è¾“å‡º çœ‹ä¸‹æ‰€éœ€ä¿¡æ¯ä½ç½® ç¨‹åºå¤§ä½“æ¡†æ¶12345678910111213141516171819202122import requestsfrom bs4 import BeautifulSoupdef getHTMLText(url): return &quot;&quot;def fillUnivList(ulist,html): passdef printUnivList(ulist,num): print(&quot;Suc&quot;+str(num))def main(): uinfo = [] url = &quot;&quot; html = getHTMLText(url) fillUnivList(uinfo,html) printUnivList(uinfo,10)main() getHTMLText()12345678def GetHTMLText(url): #è·å–ç½‘é¡µå†…å®¹ try: r = requests.get(url) r.raise_for_status() #ç”¨äºæ•è·å¼‚å¸¸ r.encoding = r.apparent_encoding return r.text except: return &quot;&quot; fillUnivList()12345678def fillUnivList(ulist, html): # æŠŠç½‘é¡µå†…å®¹æ”¾åˆ°æ•°æ®ç»“æ„ä¸­ soup = BeautifulSoup(html,&quot;html.parser&quot;) &#x27;&#x27;&#x27;ä¸€ä¸ªtræ ‡ç­¾å­˜æ”¾ä¸€æ‰€å¤§å­¦çš„ä¿¡æ¯&#x27;&#x27;&#x27; for tr in soup.find(&quot;tbody&quot;).children: if isinstance(tr,bs4.element.Tag): #ä»…ä»…éå†æ ‡ç­¾,è¿‡æ»¤æ‰éæ ‡ç­¾ç±»å‹çš„å…¶å®ƒä¿¡æ¯ tds = tr(&#x27;td&#x27;) #å°†æ‰€æœ‰çš„tdæ ‡ç­¾å­˜æ”¾åˆ°åˆ—è¡¨tdsä¸­ï¼Œç­‰ä»·äºtr.find_all(&#x27;td&#x27;)è¿”å›ä¸€ä¸ªåˆ—è¡¨ç±»å‹ &#x27;&#x27;&#x27;ç”±äºè¿›è¡Œäº†éå†ï¼Œä½¿ç”¨printæ‰“å°tdsä¼šå¾—åˆ°å¤šä¸ªåˆ—è¡¨&#x27;&#x27;&#x27; ulist.append([tds[0].string, tds[1].string, tds[3].string])#å‘ulistä¸­å¢åŠ æ‰€éœ€è¦çš„ä¿¡æ¯ printUnivList()12345def printUnivlist(ulist, num): print(&quot;&#123;:^10&#125;\\t&#123;:^6&#125;\\t&#123;:^10&#125;&quot;.format(&quot;æ’å&quot;,&quot;å­¦æ ¡&quot;,&quot;æ€»åˆ†&quot;)) for i in range(num): u = ulist[i] print(&quot;&#123;:^10&#125;\\t&#123;:^6&#125;\\t&#123;:^10&#125;&quot;.format(u[0],u[1],u[2])) main1234567891011121314151617181920212223242526272829303132333435363738import requestsimport bs4 # ç”¨åˆ°instancefrom bs4 import BeautifulSoupdef GetHTMLText(url): #è·å–ç½‘é¡µå†…å®¹ try: r = requests.get(url) r.raise_for_status() #ç”¨äºæ•è·å¼‚å¸¸ r.encoding = r.apparent_encoding return r.text except: return &quot;&quot;def fillUnivList(ulist, html): # æŠŠç½‘é¡µå†…å®¹æ”¾åˆ°æ•°æ®ç»“æ„ä¸­ soup = BeautifulSoup(html,&quot;html.parser&quot;) &#x27;&#x27;&#x27;ä¸€ä¸ªtræ ‡ç­¾å­˜æ”¾ä¸€æ‰€å¤§å­¦çš„ä¿¡æ¯&#x27;&#x27;&#x27; for tr in soup.find(&quot;tbody&quot;).children: if isinstance(tr,bs4.element.Tag): #ä»…ä»…éå†æ ‡ç­¾,è¿‡æ»¤æ‰éæ ‡ç­¾ç±»å‹çš„å…¶å®ƒä¿¡æ¯ tds = tr(&#x27;td&#x27;) #å°†æ‰€æœ‰çš„tdæ ‡ç­¾å­˜æ”¾åˆ°åˆ—è¡¨tdsä¸­ï¼Œç­‰ä»·äºtr.find_all(&#x27;td&#x27;)è¿”å›ä¸€ä¸ªåˆ—è¡¨ç±»å‹ &#x27;&#x27;&#x27;ç”±äºè¿›è¡Œäº†éå†ï¼Œä½¿ç”¨printæ‰“å°tdsä¼šå¾—åˆ°å¤šä¸ªåˆ—è¡¨&#x27;&#x27;&#x27; ulist.append([tds[0].string, tds[1].string, tds[3].string])#å‘ulistä¸­å¢åŠ æ‰€éœ€è¦çš„ä¿¡æ¯def printUnivlist(ulist, num): print(&quot;&#123;:^10&#125;\\t&#123;:^6&#125;\\t&#123;:^10&#125;&quot;.format(&quot;æ’å&quot;,&quot;å­¦æ ¡&quot;,&quot;æ€»åˆ†&quot;)) for i in range(num): u = ulist[i] print(&quot;&#123;:^10&#125;\\t&#123;:^6&#125;\\t&#123;:^10&#125;&quot;.format(u[0],u[1],u[2]))def main(): uinfo = [] url = &quot;http://www.zuihaodaxue.cn/zuihaodaxuepaiming2018.html&quot; html = GetHTMLText(url) fillUnivList(uinfo,html) printUnivlist(uinfo,10)main() ä»£ç ä¼˜åŒ–ï¼Œä½¿ç”¨chr(12288)è§£å†³ä¸­æ–‡å¯¹é½é—®é¢˜1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import requestsimport bs4 # ç”¨åˆ°instancefrom bs4 import BeautifulSoupdef GetHTMLText(url): #è·å–ç½‘é¡µå†…å®¹ try: r = requests.get(url) r.raise_for_status() #ç”¨äºæ•è·å¼‚å¸¸ r.encoding = r.apparent_encoding return r.text except: return &quot;&quot;def fillUnivList(ulist, html): # æŠŠç½‘é¡µå†…å®¹æ”¾åˆ°æ•°æ®ç»“æ„ä¸­ soup = BeautifulSoup(html,&quot;html.parser&quot;) &#x27;&#x27;&#x27;ä¸€ä¸ªtræ ‡ç­¾å­˜æ”¾ä¸€æ‰€å¤§å­¦çš„ä¿¡æ¯&#x27;&#x27;&#x27; for tr in soup.find(&quot;tbody&quot;).children: if isinstance(tr,bs4.element.Tag): #ä»…ä»…éå†æ ‡ç­¾,è¿‡æ»¤æ‰éæ ‡ç­¾ç±»å‹çš„å…¶å®ƒä¿¡æ¯ tds = tr(&#x27;td&#x27;) #å°†æ‰€æœ‰çš„tdæ ‡ç­¾å­˜æ”¾åˆ°åˆ—è¡¨tdsä¸­ï¼Œç­‰ä»·äºtr.find_all(&#x27;td&#x27;)è¿”å›ä¸€ä¸ªåˆ—è¡¨ç±»å‹ &#x27;&#x27;&#x27;ç”±äºè¿›è¡Œäº†éå†ï¼Œä½¿ç”¨printæ‰“å°tdsä¼šå¾—åˆ°å¤šä¸ªåˆ—è¡¨&#x27;&#x27;&#x27; ulist.append([tds[0].string, tds[1].string, tds[3].string])#å‘ulistä¸­å¢åŠ æ‰€éœ€è¦çš„ä¿¡æ¯&#x27;&#x27;&#x27;def printUnivlist(ulist, num): print(&quot;&#123;:^10&#125;\\t&#123;:^6&#125;\\t&#123;:^10&#125;&quot;.format(&quot;æ’å&quot;,&quot;å­¦æ ¡&quot;,&quot;æ€»åˆ†&quot;)) for i in range(num): u = ulist[i] print(&quot;&#123;:^10&#125;\\t&#123;:^6&#125;\\t&#123;:^10&#125;&quot;.format(u[0],u[1],u[2]))&#x27;&#x27;&#x27;&#x27;&#x27;&#x27;ä¼˜åŒ–è¾“å‡ºæ ¼å¼ï¼Œä¸­æ–‡å¯¹é½é—®é¢˜,ä½¿ç”¨chr(12288)è¡¨ç¤ºä¸€ä¸ªä¸­æ–‡ç©ºæ ¼ï¼Œutf-8ç¼–ç &#x27;&#x27;&#x27;def printUnivlist(ulist, num): tplt = &quot;&#123;0:^10&#125;\\t&#123;1:&#123;3&#125;^10&#125;\\t&#123;2:^10&#125;&quot; #è¾“å‡ºæ¨¡æ¿ï¼Œ&#123;3&#125;ä½¿ç”¨formatå‡½æ•°ç¬¬ä¸‰ä¸ªå˜é‡è¿›è¡Œå¡«å……ï¼Œå³ä½¿ç”¨ä¸­æ–‡ç©ºæ ¼è¿›è¡Œå¡«å…… print(tplt.format(&quot;æ’å&quot;,&quot;å­¦æ ¡&quot;,&quot;æ€»åˆ†&quot;,chr(12288))) for i in range(num): u = ulist[i] print(tplt.format(u[0],u[1],u[2],chr(12288)))def main(): uinfo = [] url = &quot;http://www.zuihaodaxue.cn/zuihaodaxuepaiming2018.html&quot; html = GetHTMLText(url) fillUnivList(uinfo,html) printUnivlist(uinfo,10)main()","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://yeshan333.github.io/tags/%E7%88%AC%E8%99%AB/"}]},{"title":"Eyes candy","slug":"Eyes-candy","date":"2018-10-15T23:28:16.000Z","updated":"2018-10-15T23:28:16.000Z","comments":true,"path":"2018/10/15/Eyes-candy/","permalink":"https://yeshan333.github.io/2018/10/15/Eyes-candy/","excerpt":"","text":"","categories":[],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"C++é¢å‘å¯¹è±¡-6","slug":"C++-é¢å‘å¯¹è±¡-6","date":"2018-10-14T23:30:27.000Z","updated":"2018-10-14T23:30:27.000Z","comments":true,"path":"2018/10/14/C++-é¢å‘å¯¹è±¡-6/","permalink":"https://yeshan333.github.io/2018/10/14/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-6/","excerpt":"C++å¤šæ€C++çš„å¤šæ€æ„å‘³ç€è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œä¼šæ ¹æ®è°ƒç”¨çš„å¯¹è±¡çš„ç±»å‹æ¥æ‰§è¡Œä¸åŒçš„å‡½æ•° ç¼–è¯‘æ—¶çš„å¤šæ€ï¼Œç¼–è¯‘æ—¶å°±ç¡®å®šäº†å…·ä½“çš„æ“ä½œè¿‡ç¨‹ã€‚è¿è¡Œæ—¶çš„å¤šæ€ï¼Œç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ‰ç¡®å®šçš„æ“ä½œè¿‡ç¨‹ã€‚æ“ä½œçš„è¿‡ç¨‹å³ç§°ä¸ºè”ç¼–ï¼Œä¹Ÿç§°ä¸ºç»‘å®šã€‚","text":"C++å¤šæ€C++çš„å¤šæ€æ„å‘³ç€è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œä¼šæ ¹æ®è°ƒç”¨çš„å¯¹è±¡çš„ç±»å‹æ¥æ‰§è¡Œä¸åŒçš„å‡½æ•° ç¼–è¯‘æ—¶çš„å¤šæ€ï¼Œç¼–è¯‘æ—¶å°±ç¡®å®šäº†å…·ä½“çš„æ“ä½œè¿‡ç¨‹ã€‚è¿è¡Œæ—¶çš„å¤šæ€ï¼Œç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ‰ç¡®å®šçš„æ“ä½œè¿‡ç¨‹ã€‚æ“ä½œçš„è¿‡ç¨‹å³ç§°ä¸ºè”ç¼–ï¼Œä¹Ÿç§°ä¸ºç»‘å®šã€‚ é™æ€è”ç¼–ï¼ˆæ—©ç»‘å®šï¼‰ï¼Œåœ¨ç¼–è¯‘å’Œè¿æ¥æ—¶ç¡®è®¤çš„ã€‚æ¯”å¦‚å‡½æ•°é‡è½½ï¼Œå‡½æ•°æ¨¡æ¿ã€‚æ•ˆç‡é«˜ åŠ¨æ€è”ç¼–ï¼ˆåæœŸç»‘å®šï¼‰ï¼Œè¿è¡Œçš„æ—¶å€™æ‰èƒ½ç¡®å®šæ˜¯å“ªå—ä»£ç æ®µã€‚çµæ´» é™æ€è”ç¼–å‡½æ•°è°ƒç”¨åœ¨ç¨‹åºæ‰§è¡Œå‰å°±å‡†å¤‡å¥½äº† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include&lt;iostream&gt;#define PI 3.1415926using namespace std;class Point&#123; private: int x; int y; public: Point(int x=0,int y=0) &#123; this-&gt;x=x; this-&gt;y=y; &#125; double area() &#123; return 0.0; &#125;&#125;;class Circle: public Point&#123; private: int r; public: Circle(int x,int y,int R):Point(x,y)//åŸºåŸºç±»ä¸­æœ‰å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»ä¸­çš„æ„é€ å‡½æ•°éœ€è¦è‡ªå®šä¹‰ &#123; this-&gt;r=R; &#125; double area() &#123; return r*r*PI; &#125;&#125;;int main()&#123; Point A(3,3);//ä¸€ä¸ªç‚¹ Circle B(3,3,3); //ä¸€ä¸ªåœ† cout&lt;&lt;A.area()&lt;&lt;endl; cout&lt;&lt;B.area()&lt;&lt;endl; Point *ptr; //Pointç±»å‹çš„æŒ‡é’ˆ ptr = &amp;B; //æŒ‡å‘äº†Circleç±»å‹ cout&lt;&lt;ptr-&gt;area()&lt;&lt;endl;//è¾“å‡ºç»“æœä¸ç†æƒ³ return 0;&#125; ç¬¬ä¸‰ä¸ªcoutè¾“å‡º0çš„åŸå› :ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å°±ä¾æ®ptrçš„ç±»å‹æ¥æ‰§è¡Œé‚£ä¸ªareï¼ŒæŒ‡é’ˆptrè™½ç„¶æŒ‡å‘äº†Circleç±»å‹çš„Bï¼Œä½†æ˜¯æŒ‡é’ˆpträ¸ºPointç±»å‹ï¼Œæ‰€ä»¥æ‰§è¡ŒPointç±»é‡Œçš„areæ–¹æ³•ã€‚è¿™é‡Œå®è¡Œçš„å³ä¸ºé™æ€ç¼–è¯‘ã€‚æ­¤æ—¶ç¼–è¯‘å™¨çœ‹çš„æ˜¯æŒ‡é’ˆçš„ç±»å‹è€Œéå†…å®¹ã€‚ åŠ¨æ€ç¼–è¯‘ä½¿ç”¨è™šå‡½æ•°è¿›è¡ŒåŠ¨æ€è”ç¼–ã€‚ç¨‹åºåœ¨ä»»æ„ç‚¹å¯ä»¥æ ¹æ®æ‰€è°ƒç”¨çš„å¯¹è±¡ç±»å‹æ¥é€‰æ‹©è°ƒç”¨çš„å‡½æ•°ï¼Œè¿™ç§æ“ä½œå³ä¸ºåŠ¨æ€è”ç¼–ï¼Œä¹Ÿæˆä¸ºåæœŸç»‘å®šã€‚ è™šå‡½æ•°åœ¨åŸºç±»ä¸­ä½¿ç”¨virtualå…³é”®å­—è¿›è¡Œå£°æ˜çš„å‡½æ•°ã€‚ virtual å‡½æ•°è¿”å›å€¼ å‡½æ•°å(å½¢å‚) &#123; å‡½æ•°ä½“ &#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include&lt;iostream&gt;#define PI 3.1415926using namespace std;class Point&#123; private: int x; int y; public: Point(int x=0,int y=0) &#123; this-&gt;x=x; this-&gt;y=y; &#125; virtual double area() &#123; return 0.0; &#125;&#125;;class Circle: public Point&#123; private: int r; public: Circle(int x,int y,int R):Point(x,y)//åŸºåŸºç±»ä¸­æœ‰å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»ä¸­çš„æ„é€ å‡½æ•°éœ€è¦è‡ªå®šä¹‰ &#123; this-&gt;r=R; &#125; double area() &#123; return r*r*PI; &#125;&#125;;int main()&#123; Point A(3,3);//ä¸€ä¸ªç‚¹ Circle B(3,3,3); //ä¸€ä¸ªåœ† cout&lt;&lt;A.area()&lt;&lt;endl; cout&lt;&lt;B.area()&lt;&lt;endl; Point *ptr; //Pointç±»å‹çš„æŒ‡é’ˆ ptr = &amp;B; cout&lt;&lt;ptr-&gt;area()&lt;&lt;endl; cout&lt;&lt;(*ptr).area()&lt;&lt;endl; return 0;&#125; çº¯è™šå‡½æ•°åœ¨åŸºç±»ä¸­ä¸èƒ½å¯¹è™šå‡½æ•°ç»™å‡ºæœ‰æ„ä¹‰çš„å®ç°ï¼Œè¿™æ—¶ä¾¯å°±ä½¿ç”¨åˆ°äº†çº¯è™šå‡½æ•°ã€‚åŒ…å«çº¯è™šå‡½æ•°çš„ç±»æ˜¯æŠ½è±¡ç±»ã€‚æŠ½è±¡ç±»è‡³å°‘åŒ…å«ä¸€ä¸ªçº¯è™šå‡½æ•°ã€‚ å®šä¹‰æ–¹å¼: virtual è¿”å›å€¼ å‡½æ•°å(å½¢å‚) = 0; è™šææ„å‡½æ•° åœ¨C++ä¸­ï¼Œä¸èƒ½æŠŠæ„é€ å‡½æ•°å®šä¹‰ä¸ºè™šæ„é€ å‡½æ•°ï¼Œå› ä¸ºåœ¨å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶æ‰ä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œè€Œä¸”è™šå‡½æ•°çš„å®ç°ï¼Œå…¶å®é™…æœ¬è´¨æ˜¯é€šè¿‡ä¸€ä¸ªè™šå‡½æ•°è¡¨æŒ‡é’ˆæ¥è°ƒç”¨çš„ï¼Œè¿˜æ²¡æœ‰å¯¹è±¡æ›´æ²¡æœ‰æ²¡å†…å­˜ç©ºé—´å½“ç„¶æ— æ³•è°ƒç”¨ï¼Œæ•…æ²¡æœ‰å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ä¹‹å‰çš„æ„é€ å‡½æ•°æ²¡æœ‰æ„ä¹‰ä¹Ÿä¸èƒ½å®ç°ã€‚ææ„å‡½æ•°å¯ä»¥ä¸ºè™šå‡½æ•°ï¼Œè€Œä¸”å¤§å¤šæ•°æ—¶å€™éƒ½å£°æ˜ä¸ºè™šææ„å‡½æ•°ã€‚è¿™æ ·å°±å¯ä»¥åœ¨åŸºç±»çš„æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»çš„å¯¹è±¡åœ¨é‡Šæ”¾æ—¶ï¼Œå¯ä»¥æ ¹æ®æ‰€æŒ‡å‘çš„å¯¹è±¡ç±»å‹åŠ¨æ€è”ç¼–è°ƒç”¨å­ç±»çš„ææ„å‡½æ•°ï¼Œå®ç°çœŸæ­£çš„å¯¹è±¡å†…å­˜é‡Šæ”¾ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include&lt;iostream&gt;using namespace std;class Point&#123; private: int x; int y; int *str; public: Point(int x=0,int y=0) &#123; this-&gt;x=x; this-&gt;y=y; str = new int[100]; &#125; ~Point() &#123; delete []str; cout&lt;&lt;&quot;Called Point&#x27;s Destructor and Delete str !&quot;&lt;&lt;endl; &#125;&#125;;class Circle:public Point&#123; private: int r; int *str; public: Circle(int x,int y,int r):Point(x,y) &#123; this-&gt;r=r; str = new int[100]; &#125; ~Circle() &#123; delete []str; cout&lt;&lt;&quot;Called Circle&#x27;s Destructor and Delete str !&quot;&lt;&lt;endl; &#125;&#125;;int main()&#123; Point *p; p = new Circle(10,10,20); delete p; return 0;&#125; ä»…è°ƒç”¨äº†åŸºç±»çš„ææ„å‡½æ•°ï¼Œè¿™æ ·ä¸€æ¥æ´¾ç”Ÿç±»ä¸­newå‡ºæ¥çš„4*100å­—èŠ‚çš„å†…å­˜å°±ä¼šæ®‹ç•™ï¼Œé€ æˆå†…å­˜æ³„æ¼ï¼","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"Just relax","slug":"Just-relax","date":"2018-10-13T23:44:56.000Z","updated":"2018-10-13T23:44:56.000Z","comments":true,"path":"2018/10/13/Just-relax/","permalink":"https://yeshan333.github.io/2018/10/13/Just-relax/","excerpt":"","text":"![](https://i.imgur.com/SHZN1xr.jpg)","categories":[],"tags":[{"name":"Astronomy","slug":"Astronomy","permalink":"https://yeshan333.github.io/tags/Astronomy/"}]},{"title":"C++é¢å‘å¯¹è±¡-5","slug":"C++-é¢å‘å¯¹è±¡-5","date":"2018-10-12T18:54:32.000Z","updated":"2018-10-12T18:54:32.000Z","comments":true,"path":"2018/10/12/C++-é¢å‘å¯¹è±¡-5/","permalink":"https://yeshan333.github.io/2018/10/12/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-5/","excerpt":"æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°attention: åœ¨åˆ›å»ºä¸€ä¸ªæ´¾ç”Ÿç±»çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šå…ˆåˆ›å»ºä¸€ä¸ªåŸºç±»ã€‚ æ´¾ç”Ÿç±»ä¼šå¸æ”¶åŸºç±»çš„å…¨éƒ¨æˆå‘˜ï¼Œä½†ä¸åŒ…æ‹¬æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚ æ´¾ç”Ÿç±»åœ¨è°ƒç”¨è‡ªå·±çš„æ„é€ å‡½æ•°ä¹‹å‰ï¼Œä¼šå…ˆè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚","text":"æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°attention: åœ¨åˆ›å»ºä¸€ä¸ªæ´¾ç”Ÿç±»çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šå…ˆåˆ›å»ºä¸€ä¸ªåŸºç±»ã€‚ æ´¾ç”Ÿç±»ä¼šå¸æ”¶åŸºç±»çš„å…¨éƒ¨æˆå‘˜ï¼Œä½†ä¸åŒ…æ‹¬æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚ æ´¾ç”Ÿç±»åœ¨è°ƒç”¨è‡ªå·±çš„æ„é€ å‡½æ•°ä¹‹å‰ï¼Œä¼šå…ˆè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚ 1234567891011121314151617181920212223242526272829303132333435#include&lt;iostream&gt;using namespace std;class Clock&#123; private: int h; int m; int s; public: Clock() &#123; cout&lt;&lt;&quot;Clock&#x27;s consturctor called !&quot;&lt;&lt;endl; &#125;&#125;;class AlarmClock:public Clock&#123; private: int ah; int am; int as; public: AlarmClock() &#123; cout&lt;&lt;&quot;AlarmClock&#x27;s constructor called!&quot;&lt;&lt;endl; &#125;&#125;;int main()&#123; AlarmClock A; return 0;&#125; å½“åŸºç±»çš„æ„é€ å‡½æ•°å¸¦å‚çš„æ—¶å€™ï¼Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åº”è¯¥è¿™ä¹ˆå®šä¹‰ï¼š æ´¾ç”Ÿç±»ç‹—åˆ¶é€ å‡½æ•°åå­—(æ€»å½¢å‚è¡¨åˆ—):åŸºç±»æ„é€ å‡½æ•°(å®å‚è¡¨ç±») &#x2F;&#x2F;æ³¨æ„è¿™é‡ŒåŸºç±»çš„æ„é€ å‡½æ•°ç”¨äº†æ˜¯å®é™…å‚æ•° ä¸€ä½†åŸºç±»ä¸­æœ‰å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»åˆ™å¿…é¡»æœ‰æ˜¾å¼ä¼ å‚çš„æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ï¼Œæ¥å®ç°åŸºç±»ä¸­å‚æ•°çš„ä¼ é€’ï¼Œå®Œæˆåˆå§‹åŒ–å·¥ä½œ 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include&lt;iostream&gt;using namespace std;class Clock&#123; private: int h; int m; int s; public: Clock() &#123; cout&lt;&lt;&quot;Clock&#x27;s constructor called&quot;&lt;&lt;endl; &#125; Clock(int h,int m,int s) &#123; cout&lt;&lt;&quot;Clock&#x27;s consturctor with paramter called !&quot;&lt;&lt;endl; &#125;&#125;;class AlarmClock:public Clock&#123; private: int ah; int am; int as; public: AlarmClock() &#123; cout&lt;&lt;&quot;AlarmClock&#x27;s constructor called!&quot;&lt;&lt;endl; &#125; AlarmClock(int h,int m,int s):Clock(h,m,s) &#123; cout&lt;&lt;&quot;AlarmClock&#x27;s constructor with paramter called!&quot;&lt;&lt;endl; &#125;&#125;;int main()&#123; AlarmClock A; AlarmClock B(20,47,55); return 0;&#125; æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°æ„é€ å‡½æ•°è°ƒç”¨é¡ºåº:åŸºç±»-&gt;æ´¾ç”Ÿç±»ææ„å‡½æ•°è°ƒç”¨é¡ºåº:æ´¾ç”Ÿç±»-&gt;åŸºç±» 123456789101112131415161718192021222324252627282930313233343536373839404142#include&lt;iostream&gt;using namespace std;class Clock&#123; private: int h; int m; int s; public: Clock() &#123; cout&lt;&lt;&quot;Clock&#x27;s consturctor called !&quot;&lt;&lt;endl; &#125; ~Clock() &#123; cout&lt;&lt;&quot;Clock&#x27;s destructor called !&quot;&lt;&lt;endl; &#125;&#125;;class AlarmClock:public Clock&#123; private: int ah; int am; int as; public: AlarmClock() &#123; cout&lt;&lt;&quot;AlarmClock&#x27;s constructor called !&quot;&lt;&lt;endl; &#125; ~AlarmClock() &#123; cout&lt;&lt;&quot;AlarmClock&#x27;s destructor called !&quot;&lt;&lt;endl; &#125;&#125;;int main()&#123; AlarmClock A; return 0;&#125; è™šåŸºç±»ï¼Œä½¿ç”¨virtualè¿›è¡Œå£°æ˜ è™šç»§æ‰¿çš„å‡ºç°æˆä¸ºäº†è§£å†³å¤šç»§æ‰¿ä¸­äºŒä¹‰æ€§é—®é¢˜çš„ä¸€ç§æ–¹å¼ å¦‚æœä¸€ä¸ªæ´¾ç”Ÿç±»æœ‰å¤šä¸ªç›´æ¥åŸºç±»ï¼Œè€Œè¿™äº›ç›´æ¥åŸºç±»åˆæœ‰ä¸€ä¸ªå…±åŒçš„åŸºç±»ï¼Œåˆ™åœ¨æœ€ç»ˆçš„æ´¾ç”Ÿç±»ä¸­ä¼šä¿ç•™è¯¥é—´æ¥å…±åŒåŸºç±»æ•°æ®æˆå‘˜çš„å¤šä»½åŒåæˆå‘˜ï¼Œè¿™æ—¶å°±äº§ç”Ÿäº†äºŒä¹‰æ€§é—®é¢˜ã€‚ 123456789101112131415161718192021222324252627282930#include&lt;iostream&gt;using namespace std;class grandfather&#123; public: int key;&#125;;class father_1:public grandfather&#123;&#125;;class father_2:public grandfather&#123;&#125;;class grandson:public father_1,public father_2&#123;&#125;;int main()&#123; grandson A; A.key = 10; //[Error] return 0;&#125; åœ¨ç»§æ‰¿çš„æ—¶å€™åœ¨ç»§æ‰¿ç±»å‹publicä¹‹å‰ç”¨virtualä¿®é¥°ä¸€ä¸‹ è™šåŸºç±»å¹¶ä¸æ˜¯åœ¨å£°æ˜åŸºç±»æ—¶å£°æ˜çš„ï¼Œè€Œæ˜¯åœ¨å£°æ˜æ´¾ç”Ÿç±»æ—¶ï¼ŒæŒ‡å®šç»§æ‰¿æ–¹å¼æ—¶å£°æ˜çš„ã€‚ ä¸ºäº†ä¿è¯è™šåŸºç±»åœ¨æ´¾ç”Ÿç±»ä¸­åªç»§æ‰¿ä¸€æ¬¡ï¼Œåº”å½“åœ¨è¯¥åŸºç±»çš„æ‰€æœ‰ç›´æ¥æ´¾ç”Ÿç±»ä¸­å£°æ˜ä¸ºè™šåŸºç±»ã€‚å¦åˆ™ä»ç„¶ä¼šå‡ºç°å¯¹åŸºç±»çš„å¤šæ¬¡ç»§æ‰¿ã€‚ 1234567891011121314151617181920212223242526272829303132#include&lt;iostream&gt;#include&lt;cstdio&gt;using namespace std;class grandfather&#123; public: int key;&#125;;class father_1:virtual public grandfather&#123;&#125;;class father_2:virtual public grandfather&#123;&#125;;class grandson:public father_1,public father_2&#123;&#125;;int main()&#123; grandson A; A.key = 10; printf(&quot;%d&quot;,A.key); return 0;&#125; https://www.cnblogs.com/yiranlaobaitu/p/3764422.htmlhttps://blog.csdn.net/bxw1992/article/details/77726390","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"å¤©æ–‡å­¦å­¦ä¹ è®°å½•","slug":"XXX","date":"2018-10-12T16:07:01.000Z","updated":"2018-10-12T16:07:01.000Z","comments":true,"path":"2018/10/12/XXX/","permalink":"https://yeshan333.github.io/2018/10/12/XXX/","excerpt":"å›¾åºŠå·²æŒ‚ï¼Œéœ€è¦è·¨è¶Š G-F-W","text":"å›¾åºŠå·²æŒ‚ï¼Œéœ€è¦è·¨è¶Š G-F-W","categories":[],"tags":[{"name":"Astronomy","slug":"Astronomy","permalink":"https://yeshan333.github.io/tags/Astronomy/"}]},{"title":"ä¿¡æ¯æ ‡è®°","slug":"ä¿¡æ¯æ ‡è®°","date":"2018-10-12T00:43:58.000Z","updated":"2019-01-01T00:00:00.000Z","comments":true,"path":"2018/10/12/ä¿¡æ¯æ ‡è®°/","permalink":"https://yeshan333.github.io/2018/10/12/%E4%BF%A1%E6%81%AF%E6%A0%87%E8%AE%B0/","excerpt":"ä¿¡æ¯æ ‡è®°çš„ä¸‰ç§å½¢å¼ XML(eXtensible Markup Language) YAML(YAML Ainâ€™t Markup Language) JSON(JaveScript Object Notation)","text":"ä¿¡æ¯æ ‡è®°çš„ä¸‰ç§å½¢å¼ XML(eXtensible Markup Language) YAML(YAML Ainâ€™t Markup Language) JSON(JaveScript Object Notation) XMLä½¿ç”¨æ ‡ç­¾æ ‡è®°ä¿¡æ¯çš„è¡¨è¾¾å½¢å¼ 1234567891011&lt;people&gt; &lt;!--è¿™æ˜¯æ³¨é‡Š--&gt; &lt;firstname&gt;Shan&lt;/firstname&gt; &lt;lastname&gt;Ye&lt;/lastname&gt; &lt;address&gt; &lt;streetAddre&gt;None&lt;/streetAddre&gt; &lt;city&gt;Gui Lin&lt;/city&gt; &lt;zipcode&gt;541004&lt;/zipcode&gt; &lt;/address&gt; &lt;prof&gt;boy&lt;/prof&gt;&lt;prof&gt;boring&lt;/prof&gt;&lt;/people&gt; JSONæœ‰ç±»å‹é”®å€¼å¯¹æ ‡è®°ä¿¡æ¯çš„è¡¨è¾¾å½¢å¼ 1234567891011&#123; &quot;firstname&quot;: &quot;Shan&quot;, &quot;lastname&quot; : &quot;Ye&quot;, &quot;address&quot;: &#123; &quot;streetAddre&quot;:&quot;None&quot;, &quot;city&quot;: &quot;Gui Lin&quot;, &quot;zipcode&quot;: &quot;541004&quot; &#125;&#125; YMLæ— ç±»å‹é”®å€¼å¯¹æ ‡è®°ä¿¡æ¯çš„è¡¨è¾¾å½¢å¼ 1234567891011121314firstname: Shanlastname: Yeaddress: #ç¼©è¿›è¡¨è¾¾æ‰€å±å…³ç³» streetAddre: None city: Gui Lin zipcode: 541004prof: #this is a comment-boy #å¹¶åˆ—å…³ç³»-boringtext: | #æ•´å—æ•°æ®ACMå›½é™…å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›ï¼ˆè‹±æ–‡å…¨ç§°ï¼šACM International Collegiate Programming Contestï¼ˆç®€ç§°ACM-ICPCæˆ–ICPCï¼‰ï¼‰æ˜¯ç”±å›½é™…è®¡ç®—æœºåä¼šï¼ˆACMï¼‰ä¸»åŠçš„ï¼Œä¸€é¡¹æ—¨åœ¨å±•ç¤ºå¤§å­¦ç”Ÿåˆ›æ–°èƒ½åŠ›ã€å›¢é˜Ÿç²¾ç¥å’Œåœ¨å‹åŠ›ä¸‹ç¼–å†™ç¨‹åºã€åˆ†æå’Œè§£å†³é—®é¢˜èƒ½åŠ›çš„å¹´åº¦ç«èµ›ã€‚ç»è¿‡è¿‘40å¹´çš„å‘å±•ï¼ŒACMå›½é™…å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›å·²ç»å‘å±•æˆä¸ºå…¨çƒæœ€å…·å½±å“åŠ›çš„å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›ã€‚èµ›äº‹ç›®å‰ç”±IBMå…¬å¸èµåŠ©ã€‚ 123456789101112131415&#x27;&#x27;&#x27;æå–HTMlä¸­çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆ1ï¼‰æœç´¢åˆ°æ‰€æœ‰çš„&lt;a&gt;æ ‡ç­¾ï¼ˆ2ï¼‰è§£æ&lt;a&gt;æ ‡ç­¾æ ¼å¼ï¼Œæå–hrefåçš„é“¾æ¥å†…å®¹&#x27;&#x27;&#x27;import requestsfrom bs4 import BeautifulSoupurl = &quot;http://python123.io/ws/demo.html&quot;r = requests.get(url)demo = r.textsoup = BeautifulSoup(demo,&quot;html.parser&quot;)for link in soup.find_all(&#x27;a&#x27;): print(link.get(&quot;href&quot;)) åŸºäºbs4åº“çš„ä¿¡æ¯æå–çš„ä¸€èˆ¬æ–¹æ³•&lt;&gt;.find_all()æ–¹æ³•&lt;&gt;.find_all(name,attrs,recursive,string,**kwargs) name: å¯¹åº”æ ‡ç­¾åç§°çš„æ£€ç´¢å­—ç¬¦ä¸² attrs:å¯¹åº”æ ‡ç­¾å±æ€§å€¼çš„æ£€ç´¢å­—ç¬¦ä¸²ï¼Œå¯æ ‡æ³¨å±æ€§æ£€ç´¢ recursiveï¼šæ˜¯å¦å¯¹å­å­™å…¨éƒ¨æ£€ç´¢ï¼Œé»˜è®¤ä¸ºTrue stringï¼š&lt;&gt;â€¦&lt;&#x2F;&gt;å­—ç¬¦ä¸²åŒºåŸŸçš„æ£€ç´¢å­—ç¬¦ä¸² soup.find_all(â€¦)ç­‰ä»·äºsoup(â€¦).find_all(â€¦)ç­‰ä»·äº(â€¦) æ‰©å±•æ–¹æ³• æ–¹æ³• è¯´æ˜ &lt;&gt;.find() æœç´¢ä¸”åªè¿”å›ä¸€ä¸ªç»“æœï¼ŒåŒ.find_all()å‚æ•° &lt;&gt;.find_parents() åœ¨å…ˆè¾ˆèŠ‚ç‚¹ä¸­æœç´¢ï¼Œè¿”å›åˆ—è¡¨ç±»å‹ï¼ŒåŒ.find_all()å‚æ•° &lt;&gt;.find_parent() åœ¨å…ˆè¾ˆèŠ‚ç‚¹ä¸­è¿”å›ä¸€ä¸ªç»“æœï¼ŒåŒ.find()å‚æ•° &lt;&gt;.find_next_siblings() åœ¨åç»­å¹³è¡ŒèŠ‚ç‚¹ä¸­æœç´¢ï¼Œè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ.find_all()å‚æ•° &lt;&gt;.find_next_sibling() åœ¨åç»­èŠ‚ç‚¹ä¸­è¿”å›ä¸€ä¸ªç»“æœï¼Œç”¨.find()å‚æ•° &lt;&gt;find_previous_siblings() åœ¨å‰ç»­å¹³è¡Œç»“ç‚¹ä¸­æœç´¢ï¼Œè¿”å›åˆ—è¡¨ç±»å‹ï¼ŒåŒ.find_all()å‚æ•° &lt;&gt;find.previous_sibling() åœ¨å‰ç»­èŠ‚ç‚¹ä¸­è¿”å›ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒ.find()å‚æ•°","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://yeshan333.github.io/tags/%E7%88%AC%E8%99%AB/"},{"name":"ä¿¡æ¯æ ‡è®°","slug":"ä¿¡æ¯æ ‡è®°","permalink":"https://yeshan333.github.io/tags/%E4%BF%A1%E6%81%AF%E6%A0%87%E8%AE%B0/"}]},{"title":"C++é¢å‘å¯¹è±¡-4","slug":"C++-é¢å‘å¯¹è±¡-4","date":"2018-10-11T00:40:05.000Z","updated":"2018-10-11T00:40:05.000Z","comments":true,"path":"2018/10/11/C++-é¢å‘å¯¹è±¡-4/","permalink":"https://yeshan333.github.io/2018/10/11/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-4/","excerpt":"ç»§æ‰¿å’Œæ´¾ç”Ÿ æ–°ç±»æ‹¥æœ‰åŸæœ‰ç±»çš„å…¨éƒ¨å±æ€§ä¸ºç»§æ‰¿ï¼åŸæœ‰ç±»äº§ç”Ÿæ–°ç±»çš„è¿‡ç¨‹ä¸ºæ´¾ç”Ÿã€‚ åŸæœ‰ç±»ç§°ä¸ºåŸºç±»ï¼Œäº§ç”Ÿçš„æ–°ç±»ç§°ä¸ºæ´¾ç”Ÿç±»ã€‚http://www.dotcpp.com/course/cpp/200027.html ç»§æ‰¿æ–¹å¼ï¼ˆæ´¾ç”Ÿæƒé™ï¼‰ å…¬æœ‰ç»§æ‰¿ ç§æœ‰ç»§æ‰¿ ä¿æŠ¤ç»§æ‰¿","text":"ç»§æ‰¿å’Œæ´¾ç”Ÿ æ–°ç±»æ‹¥æœ‰åŸæœ‰ç±»çš„å…¨éƒ¨å±æ€§ä¸ºç»§æ‰¿ï¼åŸæœ‰ç±»äº§ç”Ÿæ–°ç±»çš„è¿‡ç¨‹ä¸ºæ´¾ç”Ÿã€‚ åŸæœ‰ç±»ç§°ä¸ºåŸºç±»ï¼Œäº§ç”Ÿçš„æ–°ç±»ç§°ä¸ºæ´¾ç”Ÿç±»ã€‚http://www.dotcpp.com/course/cpp/200027.html ç»§æ‰¿æ–¹å¼ï¼ˆæ´¾ç”Ÿæƒé™ï¼‰ å…¬æœ‰ç»§æ‰¿ ç§æœ‰ç»§æ‰¿ ä¿æŠ¤ç»§æ‰¿ å…¬æœ‰ç»§æ‰¿ åŸºç±»ä¸­çš„å…¬æœ‰æˆå‘˜ï¼Œåœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶ä¸ºå…¬æœ‰æˆå‘˜ã€‚æ— è®ºæ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è¿˜æ˜¯æˆå‘˜å¯¹è±¡éƒ½å¯ä»¥è®¿é—®ã€‚ åŸºç±»ä¸­çš„ç§æœ‰æˆå‘˜ï¼Œæ— è®ºåœ¨æ´¾ç”Ÿç±»çš„æˆå‘˜è¿˜æ˜¯æ´¾ç”Ÿç±»å¯¹è±¡éƒ½ä¸å¯ä»¥è®¿é—®ã€‚ åŸºç±»ä¸­çš„ä¿æŠ¤æˆå‘˜ï¼Œåœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯ä¿æŠ¤ç±»å‹ï¼Œå¯ä»¥é€šè¿‡æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œä½†æ´¾ç”Ÿç±»å¯¹è±¡ä¸å¯ä»¥è®¿é—®ï¼ ç§æœ‰ç»§æ‰¿ åŸºç±»ä¸­çš„å…¬æœ‰å’Œå—ä¿æŠ¤ç±»å‹ï¼Œè¢«æ´¾ç”Ÿç±»ç§æœ‰å¸æ”¶åï¼Œéƒ½å˜ä¸ºæ´¾ç”Ÿç±»çš„ç§æœ‰ç±»å‹ï¼Œå³åœ¨ç±»çš„æˆå‘˜å‡½æ•°é‡Œå¯ä»¥è®¿é—®ï¼Œä¸èƒ½åœ¨ç±»å¤–è®¿é—®ã€‚ åŸºç±»çš„ç§æœ‰æˆå‘˜ï¼Œåœ¨æ´¾ç”Ÿç±»ç±»å†…å’Œç±»å¤–éƒ½ä¸å¯ä»¥è®¿é—®ã€‚ ä¿æŠ¤ç»§æ‰¿ åŸºç±»çš„å…¬å…±æˆå‘˜å’Œä¿æŠ¤ç±»å‹æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä¸ºä¿æŠ¤æˆå‘˜ã€‚ åŸºç±»çš„ç§æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä¸èƒ½è¢«ç›´æ¥è®¿é—®ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include&lt;iostream&gt;using namespace std;class Student //åŸºç±»&#123; private: int number; public: int Set(int number) &#123; this-&gt;number=number; return 0; &#125; int Show() &#123; cout&lt;&lt;&quot;he or she number:&quot;&lt;&lt;number&lt;&lt;endl; &#125;&#125;;class Score:public Student //å…¬æœ‰ç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»&#123; private: int score; public: int set_score(int score) &#123; this-&gt;score=score; return 0; &#125; int show_score() &#123; cout&lt;&lt;&quot;the score is :&quot;&lt;&lt;score&lt;&lt;endl; return 0; &#125;&#125;;int main()&#123; Score A; A.Set(17007101); A.Show(); A.set_score(99); A.show_score(); return 0;&#125; å¤šç»§æ‰¿ä¸€ä¸ªå­ç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œç»§æ‰¿å¤šä¸ªçˆ¶ç±»çš„ç‰¹æ€§ class &lt;æ´¾ç”Ÿç±»å&gt;:&lt;ç»§æ‰¿æ–¹å¼&gt;&lt;åŸºç±»å1&gt;,&lt;ç»§æ‰¿æ–¹å¼&gt;&lt;åŸºç±»å2&gt;,â€¦{æ´¾ç”Ÿç±»ç±»ä½“} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include&lt;iostream&gt;using namespace std;class Shape&#123; public: void setWidth(int w) &#123; width = w; &#125; void setHight(int h) &#123; height = h; &#125; protected: int width; int height;&#125;;class PaintCost&#123; public: int GetCost(int area) &#123; return area*70; &#125;&#125;;class Rectangle: public Shape,public PaintCost //æ´¾ç”Ÿç±»&#123; public: int getArea() &#123; return (width*height); &#125;&#125;;int main()&#123; Rectangle Rect; int area; Rect.setWidth(10); Rect.setHight(3); area = Rect.getArea(); //è¾“å‡ºå¯¹è±¡é¢ç§¯ cout&lt;&lt;&quot;Total area: &quot;&lt;&lt;Rect.getArea()&lt;&lt;endl; //è¾“å‡ºæ€»èŠ±è´¹ cout&lt;&lt;&quot;Total paint cost: &quot;&lt;&lt;Rect.GetCost(area)&lt;&lt;endl; return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"æµ…å°BeautifulSoup","slug":"æµ…å°BeautifulSoup","date":"2018-10-10T18:03:59.000Z","updated":"2018-10-10T18:03:59.000Z","comments":true,"path":"2018/10/10/æµ…å°BeautifulSoup/","permalink":"https://yeshan333.github.io/2018/10/10/%E6%B5%85%E5%B0%9DBeautifulSoup/","excerpt":"12345678910111213141516import requestsfrom bs4 import BeautifulSoup #å¼•å…¥BeautifulSoupç±»url = &quot;https://python123.io/ws/demo.html&quot;r = requests.get(url)print(r.status_code)print(&quot;\\n&quot;)#demo = r.text #htmlæ ¼å¼ä¿¡æ¯#soup = BeautifulSoup(demo,&quot;html.parser&quot;)#ä½¿ç”¨html.parserå¯¹demoè¿›è¡Œhtmlè§£æsoup = BeautifulSoup(open(r&quot;C:\\Users\\Administrator\\Desktop\\beautifulsoup\\demo.html&quot;))print(soup.prettify()) BeautifulSoupå®˜æ–¹æ–‡æ¡£","text":"12345678910111213141516import requestsfrom bs4 import BeautifulSoup #å¼•å…¥BeautifulSoupç±»url = &quot;https://python123.io/ws/demo.html&quot;r = requests.get(url)print(r.status_code)print(&quot;\\n&quot;)#demo = r.text #htmlæ ¼å¼ä¿¡æ¯#soup = BeautifulSoup(demo,&quot;html.parser&quot;)#ä½¿ç”¨html.parserå¯¹demoè¿›è¡Œhtmlè§£æsoup = BeautifulSoup(open(r&quot;C:\\Users\\Administrator\\Desktop\\beautifulsoup\\demo.html&quot;))print(soup.prettify()) BeautifulSoupå®˜æ–¹æ–‡æ¡£ BeautifulSoupåº“è§£æå™¨ è§£æå™¨ ä½¿ç”¨æ–¹æ³• æ¡ä»¶ bs4çš„HTMLè§£æå™¨ beautiful(mk,â€html.parserâ€) å®‰è£…bs4åº“ lxmlçš„HTMLè§£æå™¨ BeautifulSoup(mk,â€lxmlâ€) å®‰è£…lxmlåº“ lxmlçš„xmlè§£æå™¨ BeautifulSoup(mk,â€xmlâ€) å®‰è£…lxmlåº“ html5libçš„è§£æå™¨ BeautifulSoup(mk,â€html5libâ€) å®‰è£…html5libåº“ BeautifulSoupåº“çš„åŸºæœ¬å…ƒç´  åŸºæœ¬å…ƒç´  è¯´æ˜ Tag æ ‡ç­¾ï¼Œæœ€åŸºæœ¬çš„ä¿¡æ¯ç»„ç»‡å•å…ƒï¼Œåˆ†åˆ«ç”¨&lt;&gt;&lt;&#x2F;&gt;æ ‡æ˜å¼€å¤´å’Œç»“å°¾ Name æ ‡ç­¾çš„åå­—ï¼Œ&lt;p&gt;...&lt;/p&gt;çš„åå­—æ˜¯â€˜pâ€™,æ ¼å¼:&lt;tag&gt;.name Attributes æ ‡ç­¾çš„å±æ€§,å­—å…¸å½¢å¼ç»„ç»‡ï¼Œæ ¼å¼:&lt;tag&gt;.attrs NavigableString æ ‡ç­¾å†…éå±æ€§å­—ç¬¦ä¸²,&lt;&gt;â€¦&lt;&#x2F;&gt;ä¸­å­—ç¬¦ä¸²ï¼Œæ ¼å¼:&lt;tag&gt;.string Comment æ ‡ç­¾å†…å­—ç¬¦ä¸²çš„æ³¨é‡Šéƒ¨åˆ†ï¼Œä¸€ç§ç‰¹æ®Šçš„Commentç±»å‹ 123456789101112# Tagçš„Commentå…ƒç´ from bs4 import BeautifulSoupsoup = BeautifulSoup(&quot;&lt;b&gt;&lt;!--This is a comment--&gt;&lt;/b&gt;&lt;p&gt;This is not a comment&lt;/p&gt;&quot;,&quot;html.parser&quot;)print(soup.b.string)print(type(soup.b.string))print(soup.p.string)print(type(soup.p.string)) BeautifulSoupå¯¹åº”ä¸€ä¸ªHTML&#x2F;XMLæ–‡æ¡£çš„å…¨éƒ¨å†…å®¹ ä»»ä½•å­˜åœ¨äºHTMlè¯­æ³•ä¸­çš„æ ‡ç­¾éƒ½å¯ä»¥ç”¨soup.&lt;tag&gt;è®¿é—®è·å¾—ï¼Œå½“HTMLæ–‡æ¡£ä¸­å­˜åœ¨å¤šä¸ªç›¸åŒ&lt;tag&gt;å¯¹åº”å†…å®¹æ—¶ï¼Œsoup.&lt;tag&gt;è¿”å›ç¬¬ä¸€ä¸ª æ¯ä¸ª&lt;tag&gt;éƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œé€šè¿‡&lt;tag&gt;.nameè·å–ï¼Œå­—ç¬¦ä¸²ç±»å‹ ä¸€ä¸ª&lt;tag&gt;å¯ä»¥æœ‰0æˆ–å¤šä¸ªå±æ€§ï¼Œå­—å…¸ç±»å‹ NavigableStringå¯ä»¥è·¨è¶Šå¤šä¸ªå±‚æ¬¡ åŸºäºbs4åº“çš„HTMLå†…å®¹éå†æ–¹æ³• æ ‡ç­¾æ•°çš„ä¸‹è¡Œéå† å±æ€§ è¯´æ˜ .contents å­èŠ‚ç‚¹çš„åˆ—è¡¨ï¼Œå°†æ‰€æœ‰å„¿å­èŠ‚ç‚¹å­˜äººåˆ—è¡¨ .children å­èŠ‚ç‚¹çš„è¿­ä»£ç±»å‹ï¼Œäº.contentsç±»ä¼¼ï¼Œç”¨äºå¾ªç¯éå†å„¿å­èŠ‚ç‚¹ .descendants å­å­™èŠ‚ç‚¹çš„è¿­ä»£ç±»å‹ï¼ŒåŒ…å«æ‰€æœ‰å­å­™èŠ‚ç‚¹ï¼Œç”¨äºå¾ªç¯éå† 12345678910111213141516171819# æ ‡ç­¾æ ‘çš„ä¸‹è¡Œéå†import requestsfrom bs4 import BeautifulSoupurl = &quot;https://python123.io/ws/demo.html&quot;r = requests.get(url)demo = r.textsoup = BeautifulSoup(demo,&quot;html.parser&quot;)&#x27;&#x27;&#x27;for child in soup.body.children: #éå†å„¿å­èŠ‚ç‚¹ print(child)&#x27;&#x27;&#x27;for child in soup.body.descendants: #éå†å­å­™èŠ‚ç‚¹ print(child) æ ‡ç­¾æ ‘çš„ä¸Šè¡Œéå† å±æ€§ è¯´æ˜ .parent èŠ‚ç‚¹çš„çˆ¶äº²æ ‡ç­¾ .parents èŠ‚ç‚¹å…ˆè¾ˆæ ‡ç­¾çš„çš„è¿­ä»£ç±»å‹ï¼Œç”¨äºå¾ªç¯éå†å…ˆè¾ˆèŠ‚ç‚¹ 123456789101112131415161718# æ ‡ç­¾æ ‘çš„ä¸Šè¡Œéå†import requestsfrom bs4 import BeautifulSoupurl = &quot;https://python123.io/ws/demo.html&quot;r = requests.get(url)demo = r.textsoup = BeautifulSoup(demo,&quot;html.parser&quot;)for parent in soup.a.parents: #éå†æ‰€æœ‰å…ˆè¾ˆèŠ‚ç‚¹ï¼ŒåŒ…æ‹¬soupæœ¬èº«ï¼Œsoupçš„å…ˆè¾ˆä¸å­˜åœ¨nameä¿¡æ¯ if parent is None: print(parent) else: print(parent.name) æ ‡ç­¾æ ‘çš„å¹³è¡Œéå†å¹³è¡Œéå†å‘ç”Ÿåœ¨åŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹ä¸‹çš„å„èŠ‚ç‚¹ä¹‹é—´ å±æ€§ è¯´æ˜ .next_sibling è¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„ä¸‹ä¸€ä¸ªå¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾ .previous_sibling è¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„ä¸Šä¸€ä¸ªå¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾ .next_siblings è¿­ä»£ç±»å‹ï¼Œè¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„åç»­æ‰€æœ‰å¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾ .previous_siblings è¿­ä»£ç±»å‹ï¼Œè¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„å‰ç»­æ‰€æœ‰å¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾ 123456789101112131415161718# æ ‡ç­¾æ ‘çš„å¹³è¡Œéå†import requestsfrom bs4 import BeautifulSoupurl = &quot;https://python123.io/ws/demo.html&quot;r = requests.get(url)demo = r.textsoup = BeautifulSoup(demo,&quot;html.parser&quot;)for sibling in soup.a.next_sibling: print(sibling) #éå†åç»­èŠ‚ç‚¹&#x27;&#x27;&#x27;for sibling in soup.a.previous_sibling: print(sibling) #éå†å‰ç»­èŠ‚ç‚¹&#x27;&#x27;&#x27; åŸºäºbs4åº“çš„HTMLæ ¼å¼è¾“å‡ºâ€”prettify()æ–¹æ³• .prettify()ä¸ºHTMLæ–‡æœ¬&lt;&gt;åŠå…¶å†…å®¹å¢åŠ â€™\\nâ€™ .prettify()å¯ç”¨äºæ ‡ç­¾,æ–¹æ³•:&lt;tag&gt;.perttify() bs4åº“å°†ä»»ä½•HTMLè¾“å…¥éƒ½å˜æˆutf-8ç¼–ç ","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://yeshan333.github.io/tags/%E7%88%AC%E8%99%AB/"},{"name":"BeautifulSoup","slug":"BeautifulSoup","permalink":"https://yeshan333.github.io/tags/BeautifulSoup/"}]},{"title":"C++é¢å‘å¯¹è±¡-3","slug":"C++-é¢å‘å¯¹è±¡-3","date":"2018-10-09T00:12:54.000Z","updated":"2018-10-09T00:12:54.000Z","comments":true,"path":"2018/10/09/C++-é¢å‘å¯¹è±¡-3/","permalink":"https://yeshan333.github.io/2018/10/09/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-3/","excerpt":"å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±» å‹å…ƒçš„å¯¹è±¡å¯ä»¥æ˜¯å…¨å±€çš„ä¸€èˆ¬å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒç±»é‡Œçš„æˆå‘˜å‡½æ•°ï¼Œè¿™ç§å«åšå‹å…ƒå‡½æ•°ã€‚å‹å…ƒè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªç±»ï¼Œè¿™ç§å«åšå‹å…ƒç±»ï¼Œè¿™æ—¶æ•´ä¸ªç±»çš„æ‰€æœ‰æˆå‘˜éƒ½æ˜¯å‹å…ƒ","text":"å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±» å‹å…ƒçš„å¯¹è±¡å¯ä»¥æ˜¯å…¨å±€çš„ä¸€èˆ¬å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒç±»é‡Œçš„æˆå‘˜å‡½æ•°ï¼Œè¿™ç§å«åšå‹å…ƒå‡½æ•°ã€‚å‹å…ƒè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªç±»ï¼Œè¿™ç§å«åšå‹å…ƒç±»ï¼Œè¿™æ—¶æ•´ä¸ªç±»çš„æ‰€æœ‰æˆå‘˜éƒ½æ˜¯å‹å…ƒ ä¸€ã€å‹å…ƒå‡½æ•° ç±»çš„å‹å…ƒå‡½æ•°å®šä¹‰åœ¨ç±»çš„å¤–éƒ¨ï¼Œä½†æ˜¯æœ‰æƒè®¿é—®ç±»çš„æ‰€æœ‰ç§æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ã€‚ä½†å‹å…ƒå‡½æ•°å¹¶ä¸æ˜¯æˆå‘˜å‡½æ•°ã€‚ æœ‰å…ƒå‡½æ•°çš„å£°æ˜ä½¿ç”¨friendå…³é”®å­— 12345678910111213141516171819202122232425262728293031323334353637383940414243#include&lt;iostream&gt;#include&lt;math.h&gt;using namespace std;class Point&#123; private: double x; double y; public: Point(double a,double b) //Constructor &#123; x=a; y=b; &#125; int GetPoint() &#123; cout&lt;&lt;&quot;(&quot;&lt;&lt;x&lt;&lt;&quot;,&quot;&lt;&lt;y&lt;&lt;&quot;)&quot;&lt;&lt;endl; return 0; &#125; friend double Distance(Point &amp;a,Point &amp;b);//å£°æ˜å‹å…ƒå‡½æ•°&#125;;double Distance(Point &amp;a,Point&amp;b)&#123; double xx; double yy; xx = a.x-b.x; yy = a.y-b.y; return sqrt(xx*xx+yy*yy);&#125;int main()&#123; Point A(2.0,3.0); Point B(1.0,2.0); A.GetPoint(); B.GetPoint(); double dis; dis = Distance(A,B); cout&lt;&lt;dis&lt;&lt;endl; return 0;&#125; å‹å…ƒå‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆï¼Œå‚æ•°çš„æƒ…å†µï¼› è¦è®¿é—®éstaticæˆå‘˜æ—¶ï¼Œéœ€è¦å¯¹è±¡åšå‚æ•° è¦è®¿é—®staticæˆå‘˜æˆ–å…¨å±€å˜é‡æ—¶ï¼Œåˆ™ä¸éœ€è¦å¯¹è±¡åšå‚æ•° å¦‚æœåšå‚æ•°çš„å¯¹è±¡æ—¶å…¨å±€å¯¹è±¡ï¼Œåˆ™ä¸éœ€è¦å¯¹è±¡åšå‚æ•°ï¼Œå¯ç›´æ¥è°ƒç”¨å‹å…ƒå‡½æ•°ï¼Œä¸éœ€è¦é€šè¿‡å¯¹è±¡æˆ–æŒ‡é’ˆã€‚ äºŒã€å‹å…ƒç±»æŠŠä¸€ä¸ªç±»Aå£°æ˜ä¸ºå¦ä¸€ä¸ªç±»Bçš„å‹å…ƒç±»,åˆ™ç±»Aä¸­çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½å¯ä»¥è®¿é—®ç±»Bä¸­çš„æˆå‘˜ã€‚åœ¨ç±»Bä¸­å£°æ˜å³å¯ã€‚ friend class A; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include&lt;iostream&gt;#include&lt;Cmath&gt;using namespace std;class Point&#123; private: double x; double y; public: Point(double a,double b)//Constructor &#123; x=a; y=b; &#125; int GetPoint() &#123; cout&lt;&lt;&quot;(&quot;&lt;&lt;x&lt;&lt;&quot;,&quot;&lt;&lt;y&lt;&lt;&quot;)&quot;&lt;&lt;endl; return 0; &#125; friend class Tool;//å£°æ˜å‹å…ƒç±»&#125;;class Tool&#123; public: double Get_x(Point &amp;A ) &#123; return A.x; &#125; double Get_y(Point &amp;A) &#123; return A.y; &#125; double Distance(Point &amp;A) //æ±‚ä¸€ç‚¹åˆ°åŸç‚¹çš„è·ç¦» &#123; cout&lt;&lt;sqrt(A.x*A.x+A.y*A.y)&lt;&lt;endl; return sqrt(A.x*A.x+A.y*A.y); &#125;&#125; ;int main()&#123; Point A(3.0,3.0); A.GetPoint(); Tool T; T.Get_x(A); T.Get_y(A); T.Distance(A); return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"C++é¢å‘å¯¹è±¡-2","slug":"C++-é¢å‘å¯¹è±¡-2","date":"2018-10-06T16:20:16.000Z","updated":"2018-10-06T16:20:16.000Z","comments":true,"path":"2018/10/06/C++-é¢å‘å¯¹è±¡-2/","permalink":"https://yeshan333.github.io/2018/10/06/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-2/","excerpt":"ç±»çš„æ„é€ å‡½æ•°(Constructor)å’Œææ„å‡½æ•°(Destructor)","text":"ç±»çš„æ„é€ å‡½æ•°(Constructor)å’Œææ„å‡½æ•°(Destructor) æ„é€ å‡½æ•°æ˜¯ç±»çš„ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä¼šåœ¨æ¯æ¬¡åˆ›å»ºç±»çš„æ–°å¯¹è±¡æ—¶æ‰§è¡Œã€‚æ„é€ å‡½æ•°çš„åç§°ä¸ç±»çš„åç§°æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå¹¶ä¸”ä¸ä¼šåå›ä»»ä½•ç±»å‹ï¼Œä¹Ÿä¸ä¼šåå›voidã€‚ ææ„å‡½æ•°ä¹Ÿæ˜¯ç±»çš„ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä¼šåœ¨æ¯æ¬¡åˆ é™¤æ‰€åˆ›å»ºçš„å¯¹è±¡æ—¶æ‰§è¡Œã€‚å‡½æ•°åç§°ä¸ç±»çš„åç§°å®Œå…¨ç›¸åŒï¼Œåªæ˜¯åœ¨å‰é¢åŠ äº†ä¸ª~æ³¢æµªçº¿ä½œä¸ºå‰ç¼€ï¼Œå®ƒä¸ä¼šè¿”å›ä»»ä½•å€¼ï¼Œä¹Ÿä¸èƒ½å¸¦æœ‰ä»»ä½•å‚æ•°ã€‚ 1.æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰&ensp; å½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç±»çš„å¯¹è±¡æ—¶ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨è°ƒç”¨å®ƒï¼Œè¿›è¡Œä¸“é—¨çš„åˆå§‹åŒ–å¯¹è±¡ç”¨ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼Œç³»ç»Ÿä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªé»˜è®¤å½¢å¼ï¼Œéšè—ç€çš„æ„é€ å‡½æ•°ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°çš„å‡½æ•°ä½“æ˜¯ç©ºçš„ï¼Œå®ƒä¸å…·æœ‰ä»»ä½•åŠŸèƒ½ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include&lt;iostream&gt;#include&lt;Cstring&gt;using namespace std;class Student&#123; private: int num; char name[100]; int score; public: Student(int n,char *str,int s); int print(); int Set(int n,char *str,int s);&#125;;Student::Student(int n,char *str,int s)//å®šä¹‰äº†ä¸€ä¸ªå¸¦é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°&#123; num=n; strcpy(name,str); score=s; cout&lt;&lt;&quot;Constructor&quot;&lt;&lt;endl;&#125;int Student::print()&#123; cout&lt;&lt;num&lt;&lt;&quot; &quot;&lt;&lt;name&lt;&lt;&quot; &quot;&lt;&lt;score; return 0;&#125;int Student::Set(int n,char *str,int s)&#123; num=n; strcpy(name,str); score=s;&#125;int main()&#123; Student A(1700710135,&quot;yeshan&quot;,99); A.print(); //Student C;è¿™æ ·å®šä¹‰å¯¹è±¡ä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªå¸¦é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•° cout&lt;&lt;endl; Student B(1700710134,&quot;xu jie&quot;,100); B.print(); return 0;&#125; ç”±äºåœ¨ç¨‹åºä¸­å®šä¹‰äº†ä¸€ä¸ªå¸¦é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œåˆ™ç³»ç»Ÿä¸ä¼šå†è‡ªåŠ¨ç”Ÿæˆï¼Œè¿™ä¸ªæ—¶å€™å®šä¹‰å¯¹è±¡æ—¶ä¹Ÿè¦ä¼ å…¥ä¸‰ä¸ªé»˜è®¤åˆå§‹å€¼ï¼Œå› ä¸ºæ„é€ å‡½æ•°å¯ä»¥é‡è½½ï¼Œå¯ä»¥æœ‰å¤šä¸ªå…„å¼Ÿï¼Œç³»ç»Ÿä¼šæ‰¾æœ€åŒ¹é…çš„ä¸€ä¸ªå‡½æ•° 2.ææ„å‡½æ•°ï¼ˆDestructorï¼‰&ensp;å¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨çš„ä¸€ä¸ªå‡½æ•°ï¼Œææ„å‡½æ•°ä¸èƒ½é‡è½½ï¼Œä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªææ„å‡½æ•°ï¼Œææ„å‡½æ•°æœ‰åŠ©äºè·³å‡ºç¨‹åºå‰é‡Šæ”¾å†…å­˜ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include&lt;iostream&gt;#include&lt;Cstring&gt;using namespace std;class Student&#123; private: int num; char name[100]; int score; public: Student(int n,char *str,int s); ~Student(); int print(); int Set(int n,char *str,int s);&#125;;Student::Student(int n,char *str,int s)//æ„é€ å‡½æ•°&#123; num=n; strcpy(name,str); score=s; cout&lt;&lt;num&lt;&lt;&quot; &quot;&lt;&lt;name&lt;&lt;&quot; &quot;&lt;&lt;score&lt;&lt;&quot; &quot;; cout&lt;&lt;&quot;Constructor&quot;&lt;&lt;endl;&#125;Student::~Student()//ææ„å‡½æ•°&#123; cout&lt;&lt;num&lt;&lt;&quot; &quot;&lt;&lt;name&lt;&lt;&quot; &quot;&lt;&lt;score&lt;&lt;&quot; &quot;; cout&lt;&lt;&quot;destructor&quot;&lt;&lt;endl;&#125;int Student::print()&#123; cout&lt;&lt;num&lt;&lt;&quot; &quot;&lt;&lt;name&lt;&lt;&quot; &quot;&lt;&lt;score&lt;&lt;endl; return 0;&#125;int Student::Set(int n,char *str,int s)&#123; num=n; strcpy(name,str); score=s;&#125;int main()&#123; Student A(100,&quot;dot&quot;,11); Student B(101,&quot;cpp&quot;,12); return 0;&#125; å¯¹è±¡Aå’ŒBçš„æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºä»¥åŠæ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºï¼Œå®Œå…¨ç›¸åï¼åŸå› åœ¨äºAå’ŒBå¯¹è±¡åŒå±å±€éƒ¨å¯¹è±¡ï¼Œä¹Ÿåœ¨æ ˆåŒºå­˜å‚¨ï¼Œä¹Ÿéµå¾ªâ€œå…ˆè¿›åå‡ºâ€çš„é¡ºåºï¼ æ‹·è´æ„é€ å‡½æ•° æ‹·è´æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œå…·æœ‰å•ä¸ªå½¢å‚ï¼Œè¯¥å½¢å‚ï¼ˆå¸¸ç”¨constä¿®é¥°ï¼‰æ˜¯å¯¹è¯¥ç±»ç±»å‹çš„å¼•ç”¨ã€‚å®ƒåœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ˜¯ä½¿ç”¨åŒä¸€ç±»ä¸­ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡æ¥åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚å½“å®šä¹‰ä¸€ä¸ªæ–°å¯¹è±¡å¹¶ç”¨åŒä¸€ä¸ªç±»å‹çš„å¯¹è±¡å¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œå°†æ˜¾ç¤ºä½¿ç”¨æ‹·è´æ„é€ å‡½ã€‚ åªåŒ…å«ç±»ç±»å‹æˆå‘˜æˆ–å†…ç½®ç±»å‹ï¼ˆä½†ä¸æ˜¯æŒ‡é’ˆç±»å‹ï¼‰æˆå‘˜çš„ç±»ï¼Œæ— é¡»æ˜¾å¼åœ°å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥æ‹·è´ã€‚ æ˜¾ç¤ºå®šä¹‰æ‹·è´æ„é€ å‡½æ•°çš„æƒ…å†µï¼š ç±»æœ‰æ•°æ®æˆå‘˜æ˜¯æŒ‡é’ˆï¼› æœ‰æˆå‘˜è¡¨ç¤ºåœ¨æ„é€ å‡½æ•°ä¸­åˆ†é…çš„å…¶ä»–èµ„æº 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include&lt;iostream&gt;using namespace std;class Age&#123; public: int GetAge(void); Age(int age); //Constructor Age(const Age&amp; A); //Copy Constructor ~Age(); //Desconstructor private: int *ptr;&#125;;Age::Age(int age)&#123; cout&lt;&lt;&quot;è°ƒç”¨æ„é€ å‡½æ•°&quot;&lt;&lt;endl; ptr = new int;//ä¸ºæŒ‡é’ˆåˆ†é…å†…å­˜ *ptr = age;&#125;Age::Age(const Age&amp; A)&#123; cout&lt;&lt;&quot;è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œå¹¶ä¸ºæŒ‡é’ˆptråˆ†é…å†…å­˜&quot;&lt;&lt;endl; ptr = new int; *ptr = *A.ptr; //æ‹·è´å€¼&#125;Age::~Age()&#123; cout&lt;&lt;&quot;é‡Šæ”¾å†…å­˜&quot;&lt;&lt;endl; delete ptr;&#125;int Age::GetAge(void)&#123; return *ptr;&#125;void print_age(Age A)&#123; cout&lt;&lt;&quot;the age: &quot;&lt;&lt;A.GetAge()&lt;&lt;endl; //è¿™é‡Œä¹Ÿè°ƒç”¨äº†æ‹·è´æ„é€ å‡½æ•°&#125;int main()&#123; Age member_1(10); Age member_2(member_2);//ç›¸å½“äºAge member_2 = member_1; return 0;&#125; æˆå‘˜å˜é‡ä¸­åŠ ä¸€ä¸ªäº†æŒ‡é’ˆæˆå‘˜ï¼Œåˆå§‹åŒ–ä¸­éœ€è¦åŠ¨æ€å¼€è¾Ÿå†…å­˜ï¼Œå¦‚æœä¸è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œè€Œæ˜¯ç”¨é»˜è®¤ç”Ÿæˆçš„ï¼Œåˆ™ä¼šå‡ºç°æå¤§çš„å®‰å…¨éšæ‚£ã€‚é»˜è®¤çš„æ‹·è´æ„é€ å‡½æ•°ä»…ä»…æ˜¯è¿›è¡Œæ•°å€¼èµ‹å€¼ï¼Œå¹¶ä¸èƒ½ä¸ºæŒ‡é’ˆå¼€è¾Ÿå†…å­˜ç©ºé—´ã€‚ç›¸å½“äºä»£ç This-&gt;str=str.æœ¬è´¨ä¸Šä¹Ÿå°±æ˜¯ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘äº†ä¸€å—å †ç©ºé—´ã€‚ç¨‹åºç»“æŸå›æ”¶å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨è‡ªå·±çš„ææ„å‡½æ•°ï¼Œé‡Šæ”¾è¿™å—å†…å­˜ç©ºé—´ï¼Œç”±äºä¸¤ä¸ªå¯¹è±¡è¦è°ƒç”¨ä¸¤æ¬¡ï¼Œå³deleteä¸¤æ¬¡ï¼Œå°±ä¼šå‡ºç°é”™è¯¯ [å¼•è‡ª](http://www.dotcpp.com/course/cpp/200020.html) C++ä¸­çš„thisæŒ‡é’ˆå¯¹è±¡ä¸­éšè—çš„æŒ‡é’ˆ æ¯ä¸€ä¸ªå¯¹è±¡éƒ½èƒ½é€šè¿‡thisæŒ‡é’ˆæ¥è®¿é—®è‡ªå·±çš„åœ°å€ã€‚thisæŒ‡é’ˆæ˜¯æ‰€æœ‰æˆå‘˜å‡½æ•°é¢éšå«å‚æ•°ã€‚å› æ­¤åœ¨æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œå®ƒå¯ä»¥ç”¨æ¥æŒ‡å‘è°ƒç”¨çš„å¯¹è±¡ã€‚ å¦‚æœç¨‹åºä¸­æœ‰å¤šä¸ªå±äºåŒä¸€ç±»çš„å¯¹è±¡ï¼Œå› æˆå‘˜å‡½æ•°çš„ä»£ç ä»…æœ‰ä¸€ä»½ï¼Œæ‰€ä»¥ä¸ºäº†åŒºåˆ†å®ƒä»¬æ˜¯å“ªä¸ªå¯¹è±¡è°ƒç”¨çš„æˆå‘˜å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¹Ÿæ˜¯è½¬åŒ–æˆthis-&gt;æˆå‘˜å‡½æ•°è¿™ç§å½¢å¼æ¥ä½¿ç”¨çš„ã€‚ å‹å…ƒå‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆï¼Œå› ä¸ºå‹å…ƒä¸æ˜¯ç±»çš„æˆå‘˜ã€‚åªæœ‰æˆå‘˜å‡½æ•°æ‰æœ‰thisæŒ‡é’ˆã€‚ 123456789101112131415161718192021222324252627282930313233343536#include&lt;iostream&gt;using namespace std;class Age&#123; public: Age(int your_age=18) //Constructor function &#123; cout&lt;&lt;&quot;Constructor now&quot;&lt;&lt;endl; age=your_age; &#125; int GetAge() &#123; return age; &#125; int compare(Age member) &#123; return this-&gt;GetAge()&gt;member.GetAge(); //çœ‹è¿™é‡Œ &#125; private: int age;&#125;;int main()&#123; Age member_1(20),member_2(24); if(member_1.compare(member_2)) &#123; cout&lt;&lt;&quot;member_1 is older than member_2&quot;&lt;&lt;endl; &#125; else &#123; cout&lt;&lt;&quot;member_1 is younger than member_2&quot;&lt;&lt;endl; &#125;&#125; å…³é”®å­—newå’Œdelete newï¼ˆæ–°å»ºï¼‰ç”¨äºæ–°å»ºä¸€ä¸ªå¯¹è±¡ã€‚new è¿ç®—ç¬¦æ€»æ˜¯è¿”å›ä¸€ä¸ªæŒ‡é’ˆã€‚ç”± new åˆ›å»ºã€‚ deleteï¼ˆåˆ é™¤ï¼‰é‡Šæ”¾ç¨‹åºåŠ¨æ€ç”³è¯·çš„å†…å­˜ç©ºé—´ã€‚delete åé¢é€šå¸¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆæˆ–è€…æ•°ç»„ []ï¼Œå¹¶ä¸”åªèƒ½ delete é€šè¿‡ new å…³é”®å­—ç”³è¯·çš„æŒ‡é’ˆã€‚","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"C++é¢å‘å¯¹è±¡","slug":"C++-é¢å‘å¯¹è±¡","date":"2018-10-05T23:15:07.000Z","updated":"2018-10-05T23:15:07.000Z","comments":true,"path":"2018/10/05/C++-é¢å‘å¯¹è±¡/","permalink":"https://yeshan333.github.io/2018/10/05/C++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/","excerpt":"ç±» &amp; å¯¹è±¡ ç±»æ˜¯å¯¹è±¡çš„æŠ½è±¡å’Œæ¦‚æ‹¬ï¼Œè€Œå¯¹è±¡æ˜¯ç±»çš„å…·ä½“å’Œå®ä¾‹","text":"ç±» &amp; å¯¹è±¡ ç±»æ˜¯å¯¹è±¡çš„æŠ½è±¡å’Œæ¦‚æ‹¬ï¼Œè€Œå¯¹è±¡æ˜¯ç±»çš„å…·ä½“å’Œå®ä¾‹ ç±»ç”¨äºæŒ‡å®šå¯¹è±¡çš„å½¢å¼ï¼Œå®ƒåŒ…å«äº†æ•°æ®è¡¨ç¤ºæ³•å’Œç”¨äºå¤„ç†æ•°æ®çš„æ–¹æ³•ã€‚ ç±»ä¸­çš„æ•°æ®å’Œæ–¹æ³•ç§°ä¸ºç±»çš„æˆå‘˜ã€‚(æˆå‘˜æœ‰å˜é‡ä¹Ÿæœ‰å‡½æ•°ï¼Œåˆ†åˆ«æˆä¸ºç±»çš„å±æ€§å’Œæ–¹æ³•) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include&lt;iostream&gt;#include&lt;Cstring&gt;using namespace std;/*class Student&#123; public: int num; char name[100]; int score; int print() &#123; cout&lt;&lt;num&lt;&lt;&quot; &quot;&lt;&lt;name&lt;&lt;&quot; &quot;&lt;&lt;score; return 0; &#125;&#125;;*/class Student&#123; public: int num; char name[100]; int score; int print();&#125;;int Student::print()&#123; cout&lt;&lt;num&lt;&lt;&quot; &quot;&lt;&lt;name&lt;&lt;&quot; &quot;&lt;&lt;score; return 0;&#125;int main()&#123; Student A; A.num=1700710135; strcpy(A.name,&quot;ye shan&quot;); A.score=100; //A.print(); //Student *Ap; //Ap=&amp;A; //Ap-&gt;print(); Student&amp; A_reference=A; //å¼•ç”¨å®šä¹‰æ—¶å°±è¦åˆå§‹åŒ– //A_reference=A; é”™è¯¯ A_reference.print(); return 0;&#125; ç±»çš„å®šä¹‰ å®šä¹‰ä¸€ä¸ªç±»ï¼Œæœ¬è´¨ä¸Šæ˜¯å®šä¹‰ä¸€ä¸ªæ•°æ®ç±»å‹çš„è“å›¾ã€‚å®ƒå®šä¹‰ç±»çš„å¯¹è±¡åŒ…æ‹¬äº†ä»€ä¹ˆï¼Œä»¥åŠå¯ä»¥åœ¨è¿™ä¸ªå¯¹è±¡ä¸Šæ‰§è¡Œå“ªäº›æ“ä½œã€‚ ç±»çš„å®šä¹‰ä»¥å…³é”®å­—classå¼€å¤´ï¼Œåé¢è·Ÿç±»çš„åç§°ã€‚ç±»çš„ä¸»ä½“åŒ…å«åœ¨ä¸€å¯¹èŠ±æ‹¬å·ä¸­ã€‚ç±»å®šä¹‰åå¿…é¡»è·Ÿç€ä¸€ä¸ªåˆ†å·æˆ–ä¸€ä¸ªå£°æ˜åˆ—è¡¨ã€‚ å†™æ³•1æˆå‘˜å‡½æ•°å®šä¹‰åœ¨åœ¨ç±»é‡Œ 123456789101112class Student&#123; public: //å£°æ˜å…¬æœ‰æˆå‘˜ï¼Œå¯è¢«ç±»çš„ä»»ä½•å¯¹è±¡è®¿é—® int num; char name[100]; int score; int print() &#123; cout&lt;&lt;num&lt;&lt;&quot; &quot;&lt;&lt;name&lt;&lt;&quot; &quot;&lt;&lt;score; return 0; &#125;&#125;; å†™æ³•2æˆå‘˜å‡½æ•°å®šä¹‰åœ¨ç±»å¤–ï¼Œä½¿ç”¨èŒƒå›´è§£æè¿ç®—ç¬¦(ä½œç”¨åŸŸé™å®šç¬¦):: åœ¨::é™å®šç¬¦å‰å¿…é¡»ä½¿ç”¨ç±»å 1234567891011121314class Student&#123; public: int num; char name[100]; int score; int print();&#125;;int Student::print()&#123; cout&lt;&lt;num&lt;&lt;&quot; &quot;&lt;&lt;name&lt;&lt;&quot; &quot;&lt;&lt;score; return 0;&#125; å¯¹è±¡çš„å»ºç«‹å’Œä½¿ç”¨ ç±»å°±æ˜¯åŒ…å«å‡½æ•°çš„ç»“æ„ä½“ï¼Œæ˜¯ä¸€ç§è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œç”¨å®ƒå®šä¹‰å‡ºæ¥å˜é‡ï¼Œå°±æ˜¯å¯¹è±¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œå¯¹è±¡æ˜¯ç±»çš„å…·ä½“å’Œå®ä¾‹â€ï¼Œå®šä¹‰äº†ä¸€ä¸ªè¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è¯´å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯è¿™ä¸ªæ„æ€ï¼ å£°æ˜ç±»çš„å¯¹è±¡ï¼Œå°±åƒå£°æ˜åŸºæœ¬çš„å˜é‡ç±»å‹ä¸€æ · è®¿é—®å…¬å…±æ•°æ®æˆå‘˜å¯ä»¥ä½¿ç”¨ç›´æ¥æˆå‘˜è®¿é—®è¿ç®—ç¬¦.æ¥è®¿é—® Student A; &#x2F;&#x2F;å£°æ˜Aï¼Œç±»å‹ä¸ºStudent A.num&#x3D;1700710135; strcpy(name,â€ye shanâ€); A.score&#x3D;100; A.print(); ç±»çš„è®¿é—®ä¿®é¥°ç¬¦ private protected public æˆå‘˜å’Œç±»çš„é»˜è®¤è®¿é—®ä¿®é¥°ç¬¦æ˜¯private&ensp; ç§æœ‰æˆå‘˜å˜é‡æˆ–å‡½æ•°åœ¨ç±»çš„å¤–éƒ¨æ˜¯ä¸å¯è®¿é—®çš„ï¼Œç”šè‡³æ˜¯ä¸å¯æŸ¥çœ‹çš„ã€‚åªæœ‰ç±»å’Œå‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜ã€‚ ä¿æŠ¤æˆå‘˜ä¿®é¥°ç¬¦protectedï¼Œä¿æŠ¤æˆå‘˜å˜é‡æˆ–å‡½æ•°ä¸ç§æœ‰æˆå‘˜ååˆ†ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ç‚¹ä¸åŒï¼Œä¿æŠ¤æˆå‘˜å˜é‡åœ¨æ´¾ç”Ÿç±»ï¼ˆå³å­ç±»ï¼‰ä¸­æ˜¯å¯ä»¥è®¿é—®çš„ã€‚ å…¬æœ‰æˆå‘˜åœ¨ç¨‹åºä¸­ç±»çš„å¤–éƒ¨æ˜¯å¯ä»¥è®¿é—®çš„ã€‚å¯ä»¥åœ¨ä¸é€‚ç”¨ä»»ä½•æˆå‘˜å‡½æ•°æ¥è®¾ç½®å’Œè·å–å…¬æœ‰å˜é‡çš„å€¼ 1234567891011121314151617181920212223242526272829303132333435363738394041#include&lt;iostream&gt;#include&lt;Cstring&gt;using namespace std;class Student&#123; private: int num; protected: int score; public: char name[100]; int GetNum(int n); int GetScore(int s);&#125;;int Student::GetNum(int n)&#123; num=n; return num;&#125;int Student::GetScore(int s)&#123; score=s; return score;&#125;int main()&#123; Student A; strcpy(A.name,&quot;yeshan&quot;); cout&lt;&lt;&quot;the name is&quot;&lt;&lt;&quot; &quot;&lt;&lt;A.name&lt;&lt;endl; //A.num=1700710135ï¼Œæˆå‘˜numæ˜¯ç¨€æœ‰çš„ï¼Œä¸å¯è¿™æ ·ç”¨ cout&lt;&lt;&quot;the num is&quot;&lt;&lt;&quot; &quot;&lt;&lt;A.GetNum(1700710135)&lt;&lt;endl; cout&lt;&lt;&quot;the score is&quot;&lt;&lt;&quot; &quot;&lt;&lt;A.GetScore(100)&lt;&lt;endl; return 0;&#125; æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨protectedæˆå‘˜å˜é‡ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include&lt;iostream&gt;#include&lt;Cstring&gt;using namespace std;class Student&#123; private: int num; protected: int score; public: char name[100]; int GetNum(int n); int GetScore(int s);&#125;;class Small_Student:Student//Small_Studentæ˜¯æ´¾ç”Ÿç±»&#123; public: int Get_Score_1(int temp);&#125;;int Small_Student::Get_Score_1(int temp) //å­ç±»æˆå‘˜å‡½æ•°&#123; score=temp; return score;&#125;int Student::GetNum(int n)&#123; num=n; return num;&#125;int Student::GetScore(int s)&#123; score=s; return score;&#125;int main()&#123; Student A; strcpy(A.name,&quot;yeshan&quot;); cout&lt;&lt;&quot;the name is&quot;&lt;&lt;&quot; &quot;&lt;&lt;A.name&lt;&lt;endl; //A.num=1700710135ï¼Œæˆå‘˜numæ˜¯ç¨€æœ‰çš„ï¼Œä¸å¯è¿™æ ·ç”¨ cout&lt;&lt;&quot;the num is&quot;&lt;&lt;&quot; &quot;&lt;&lt;A.GetNum(1700710135)&lt;&lt;endl; cout&lt;&lt;&quot;the score is&quot;&lt;&lt;&quot; &quot;&lt;&lt;A.GetScore(100)&lt;&lt;endl; Small_Student B; cout&lt;&lt;&quot;the score is&quot;&lt;&lt;&quot; &quot;&lt;&lt;B.Get_Score_1(520)&lt;&lt;endl; return 0;&#125; ç±»çš„é™æ€æˆå‘˜ä½¿ç”¨staticå…³é”®å­—æŠŠç±»æˆå‘˜å®šä¹‰ä¸ºé™æ€çš„ é™æ€æˆå‘˜æ•°æ® é™æ€æˆå‘˜åœ¨ç±»çš„æ‰€æœ‰å¯¹è±¡ä¸­æ˜¯å…±äº«çš„ã€‚å¦‚æœä¸å­˜åœ¨å…¶å®ƒåˆå§‹åŒ–è¯­å¥ï¼Œåœ¨åˆ›å»ºç¬¬ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰çš„é™æ€æ•°æ®éƒ½ä¼šè¢«åˆå§‹åŒ–ä¸ºé›¶ã€‚ ä¸èƒ½æŠŠé™æ€æˆå‘˜æ”¾ç½®åœ¨ç±»çš„å®šä¹‰ä¸­ï¼Œä½†æ˜¯å¯ä»¥åœ¨ç±»çš„å¤–éƒ¨é€šè¿‡ä½¿ç”¨èŒƒå›´è§£æè¿ç®—ç¬¦::æ¥é‡æ–°å£°æ˜é™æ€å˜é‡ï¼Œä»è€Œå¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–ã€‚ 1234567891011121314151617181920212223242526272829303132#include&lt;iostream&gt;using namespace std;class Area&#123; private: double length; double width; public: static int object_count; Area(double x,double y) &#123; length = x; width = y; object_count++;//æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶åŠ ä¸€ &#125; double Print_Area() &#123; return length*width; &#125;&#125;;int Area::object_count=0;//åˆå§‹åŒ–ç±»Areaçš„é™æ€æˆå‘˜int main()&#123; Area number_1(3,4); Area number_2(5,6); cout&lt;&lt;&quot;creat &quot;&lt;&lt;Area::object_count&lt;&lt;&quot; object&quot;&lt;&lt;endl; //ä½¿ç”¨ ç±»å+èŒƒå›´è§£æè¿ç®—ç¬¦::+é™æ€æˆå‘˜å˜é‡ è®¿é—®é™æ€æˆå‘˜æ•°æ® cout&lt;&lt;&quot;the area of number_1 is &quot;&lt;&lt;number_1.Print_Area();&#125; é™æ€æˆå‘˜å‡½æ•° é™æ€æˆå‘˜å‡½æ•°å³ä½¿åœ¨ç±»å¯¹è±¡ä¸å­˜åœ¨çš„æƒ…å†µä¸‹ä¹Ÿèƒ½è¢«è°ƒç”¨ã€‚ é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æ•°æ®æˆå‘˜ï¼Œä¸èƒ½è®¿é—®å…¶ä»–é™æ€æˆå‘˜å‡½æ•°å’Œç±»å¤–éƒ¨çš„å‡½æ•° é™æ€æˆå‘˜å‡½æ•°æœ‰ä¸€ä¸ªç±»èŒƒå›´ï¼Œä»–ä»¬ä¸èƒ½è®¿é—®ç±»çš„thisæŒ‡é’ˆã€‚å¯ä»¥ç”¨é™æ€æˆå‘˜å‡½æ•°æ¥åˆ¤æ–­æŸäº›å¯¹è±¡æ˜¯å¦å·²è¢«åˆ›å»ºã€‚ è°ƒç”¨æ—¶ä½¿ç”¨ ç±»å+èŒƒå›´è§£æè¿ç®—ç¬¦+é™æ€æˆå‘˜å‡½æ•°å 1234567891011121314151617181920212223242526272829303132333435363738#include&lt;iostream&gt;using namespace std;class Area&#123; private: double length; double width; public: static int object_count; //é™æ€æˆå‘˜æ•°æ® static int get_count() //é™æ€æˆå‘˜å‡½æ•° &#123; return object_count; &#125; Area(double x,double y) &#123; cout&lt;&lt;&quot;Constructor&quot;&lt;&lt;endl; length = x; width = y; object_count++;//æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶åŠ ä¸€ &#125; double Print_Area() &#123; return length*width; &#125;&#125;;int Area::object_count=0;//åˆå§‹åŒ–ç±»Areaçš„é™æ€æˆå‘˜int main()&#123; cout&lt;&lt;&quot;number of objects:&quot;&lt;&lt;Area::get_count()&lt;&lt;endl; Area number_1(3,4); Area number_2(5,6); cout&lt;&lt;&quot;after creat object ,number of objects:&quot;&lt;&lt;Area::get_count()&lt;&lt;endl; return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"C++å…¥å‘è®°(3)","slug":"C++-å…¥å‘è®°-3","date":"2018-10-04T20:44:06.000Z","updated":"2018-10-04T20:44:06.000Z","comments":true,"path":"2018/10/04/C++-å…¥å‘è®°-3/","permalink":"https://yeshan333.github.io/2018/10/04/C++-%E5%85%A5%E5%9D%91%E8%AE%B0-3/","excerpt":"å˜é‡åˆå§‹åŒ–é—®é¢˜å½“å±€éƒ¨å˜é‡è¢«å®šä¹‰æ—¶ï¼Œç³»ç»Ÿä¸ä¼šè‡ªåŠ¨å¯¹å…¶åˆå§‹åŒ–ï¼›å½“å…¨å±€å˜é‡è¢«å®šä¹‰æ—¶ï¼Œç³»ç»Ÿä¼šåˆå§‹åŒ–ä¸ºä¸‹åˆ—å€¼: æ•°æ®ç±»å‹ åˆå§‹åŒ–é»˜è®¤å€¼ int 0 float 0 double 0 char â€˜\\0â€™ pointer NULL","text":"å˜é‡åˆå§‹åŒ–é—®é¢˜å½“å±€éƒ¨å˜é‡è¢«å®šä¹‰æ—¶ï¼Œç³»ç»Ÿä¸ä¼šè‡ªåŠ¨å¯¹å…¶åˆå§‹åŒ–ï¼›å½“å…¨å±€å˜é‡è¢«å®šä¹‰æ—¶ï¼Œç³»ç»Ÿä¼šåˆå§‹åŒ–ä¸ºä¸‹åˆ—å€¼: æ•°æ®ç±»å‹ åˆå§‹åŒ–é»˜è®¤å€¼ int 0 float 0 double 0 char â€˜\\0â€™ pointer NULL C++å‚¨å­˜ç±» auto static extern register mutable thread_local staticå‚¨å­˜ç±» ç”¨äºæŒ‡ç¤ºç¼–è¯‘å™¨åœ¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå†…ä¿æŒå±€éƒ¨å˜é‡çš„å­˜åœ¨ï¼Œè€Œä¸éœ€è¦æ¯æ¬¡åœ¨å®ƒè¿›å…¥å’Œç¦»å¼€ä½œç”¨åŸŸæ—¶è¿›è¡Œåˆ›å»ºå’Œé”€æ¯ã€‚ staticä¿®é¥°å±€éƒ¨å˜é‡ï¼Œå¯ä»¥åœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ä¿æŒå±€éƒ¨å˜é‡çš„å€¼ staticä¿®é¥°å…¨å±€å˜é‡ï¼Œä¼šä½¿å˜é‡çš„ä½œç”¨åŸŸé™åˆ¶åœ¨ç”Ÿæ˜å®ƒçš„æ–‡ä»¶å†…å‚è€ƒ 1234567891011121314151617181920#include&lt;iostream&gt;using namespace std;static int count=10; //å…¨å±€å˜é‡void func()&#123; static int i=5; //å±€éƒ¨é™æ€å˜é‡ i++; cout&lt;&lt;&quot;å˜é‡iä¸º:&quot;&lt;&lt;i; cout&lt;&lt;&quot;,å˜é‡countä¸º:&quot;&lt;&lt;count&lt;&lt;endl;&#125;int main()&#123; while(count--) &#123; func(); &#125; return 0;&#125; externå‚¨å­˜ç±» ç”¨äºæä¾›ä¸€ä¸ªå…¨å±€å˜é‡çš„å¼•ç”¨ï¼Œå…¨å±€å˜é‡å¯¹æ‰€æœ‰çš„ç¨‹åºæ–‡ä»¶éƒ½æ˜¯å¯è§çš„ã€‚ä½¿ç”¨externæ—¶ï¼Œå¯¹äºæ— æ³•åˆå§‹åŒ–çš„å˜é‡ï¼Œä¼šæŠŠå˜é‡åæŒ‡å‘ä¸€ä¸ªä¹‹å‰å·²ç»å®šä¹‰è¿‡çš„å­˜å‚¨ä½ç½®ã€‚å½“æœ‰å¤šä¸ªæ–‡ä»¶ä¸”å®šä¹‰äº†ä¸€ä¸ªå°±å¯åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨çš„å…¨å±€å˜é‡æˆ–å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨externæ¥å¾—åˆ°å·²å®šä¹‰çš„å˜é‡æˆ–å‡½æ•°çš„å¼•ç”¨ã€‚ C++å¼•ç”¨ å¼•ç”¨å˜é‡æ˜¯ä¸€ä¸ªåˆ«åã€‚å®ƒæ˜¯æŸä¸ªå·²å­˜åœ¨çš„å˜é‡çš„å¦ä¸€ä¸ªåå­—ã€‚ä¸€æ—¦æŠŠå¼•ç”¨åˆå§‹åŒ–ä¸ºæŸä¸ªå˜é‡ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å¼•ç”¨åç§°æˆ–å˜é‡åç§°æ¥æŒ‡å‘å˜é‡ å¼•ç”¨ä¸æŒ‡é’ˆçš„å·®åˆ« ä¸å­˜åœ¨ç©ºå¼•ç”¨ï¼Œå¼•ç”¨å¿…é¡»è¿æ¥åˆ°ä¸€å—åˆæ³•çš„å†…å­˜ã€‚ ä¸€æ—¦å¼•ç”¨è¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¸èƒ½è¢«æŒ‡å‘åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚æŒ‡é’ˆå¯ä»¥åœ¨ä»»ä½•æ—¶å€™æŒ‡å‘åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚ å¼•ç”¨å¿…é¡»åœ¨åˆ›å»ºæ—¶è¢«åˆå§‹åŒ–ã€‚æŒ‡é’ˆå¯ä»¥åœ¨ä»»ä½•æ—¶é—´è¢«åˆå§‹åŒ–ã€‚ å¼•ç”¨å¯ä»¥å½“æˆå˜é‡é™„å±åœ¨å†…å­˜çš„ç¬¬äºŒä¸ªæ ‡ç­¾ int i; //ä¸ºiå£°æ˜ä¸€ä¸ªå¼•ç”¨å˜é‡ int&amp; r=i; 12345678910111213141516171819202122#include&lt;iostream&gt;using namespace std;int main()&#123; int i; double d; //å£°æ˜å¼•ç”¨å˜é‡ int&amp; r=i; double&amp; s=d; i=3; cout&lt;&lt;&quot;Value of iï¼š&quot;&lt;&lt;i&lt;&lt;endl; cout&lt;&lt;&quot;Value of i reference:ï¼š&quot;&lt;&lt;r&lt;&lt;endl; d=5.20; cout&lt;&lt;&quot;d= &quot;&lt;&lt;d&lt;&lt;endl; cout&lt;&lt;&quot;Value of d referenceï¼š&quot;&lt;&lt;s&lt;&lt;endl; return 0;&#125; ç”¨å¼•ç”¨åšå‡½æ•°å½¢å‚12345678910111213141516171819202122#include&lt;iostream&gt;using namespace std;void swap(int&amp; x,int&amp; y)&#123; int temp; temp = x; x = y; y = temp;&#125;int main()&#123; int a,b; cin&gt;&gt;a&gt;&gt;b; cout&lt;&lt;&quot;a=&quot;&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;&quot;b=&quot;&lt;&lt;b&lt;&lt;endl; swap(a,b); cout&lt;&lt;&quot;after exchange:&quot;&lt;&lt;endl; cout&lt;&lt;&quot;a=&quot;&lt;&lt;a&lt;&lt;&quot; b=&quot;&lt;&lt;b&lt;&lt;endl; return 0;&#125; å¼•ç”¨åšè¿”å›å€¼å½“å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œåˆ™è¿”å›ä¸€ä¸ªæŒ‡å‘è¿”å›å€¼çš„éšå¼æŒ‡é’ˆã€‚ 1234567891011121314151617181920212223242526272829#include&lt;iostream&gt;#include&lt;ctime&gt;using namespace std;int vals[]=&#123;1,2,3,4,5&#125;;int&amp; setValues(int i)&#123; return vals[i];//è¿”å›ç¬¬iä¸ªå…ƒç´ çš„å¼•ç”¨&#125;int main()&#123; cout&lt;&lt;&quot;before change:&quot;&lt;&lt;endl; for(int i=0;i&lt;5;i++) &#123; cout&lt;&lt;vals[i]&lt;&lt;&quot; &quot;; &#125; setValues(1)=520; //change the second value setValues(3)=1314; //change the forth value cout&lt;&lt;endl&lt;&lt;&quot;after change:&quot;&lt;&lt;endl; for(int i=0;i&lt;5;i++) &#123; cout&lt;&lt;vals[i]&lt;&lt;&quot; &quot;; &#125; return 0;&#125;","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"å·¥å…·å°æ•´åˆ","slug":"å·¥å…·å°æ•´åˆ","date":"2018-10-03T15:00:06.000Z","updated":"2018-10-03T15:00:06.000Z","comments":true,"path":"2018/10/03/å·¥å…·å°æ•´åˆ/","permalink":"https://yeshan333.github.io/2018/10/03/%E5%B7%A5%E5%85%B7%E5%B0%8F%E6%95%B4%E5%90%88/","excerpt":"","text":"ç™¾åº¦æ–‡åº“ã€çŸ¥ç½‘æ–‡ç« ä¸‹è½½https://pan.baidu.com/s/1-BY2B4hBn_3wHgYlXkFLCg ç™¾åº¦äº‘ä¸‹è½½æé€Ÿè½¯ä»¶https://pan.baidu.com/s/1EYy5AN9JVv7m42f6NNmvlA å¾®è½¯PEå·¥å…·ç®±https://pan.baidu.com/s/1J1Nud9qTU6jSP6cTpk8Zlg window10æ•°å­—æƒåˆ©æ¿€æ´»å·¥å…· github: https://github.com/TGSAN/CMWTAT_Digital_Edition&#x2F;releases https://github.com/vyvojar/slshim/releases æ¿€æ´»æ–¹æ³•å‚è€ƒhttps://pan.baidu.com/s/1_VqJiuBeCHLyRp5Xcc562wkmsæ¿€æ´»å·¥å…·win10ä¸‹è½½ Gifåˆ¶ä½œå·¥å…·https://pan.baidu.com/s/1Eu_O-7EPSB81cwmR-R1zvwæå–ç :q51n å½•å±è½¯ä»¶https://pan.baidu.com/s/1VsN5XClhZiRCqUyxbTJ_tgæå–ç :vlrb CamStudioæ±‰åŒ–ç‰ˆæå–ç :kckg","categories":[],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"C++å…¥å‘è®°(2)","slug":"C++-å…¥å‘è®°-2","date":"2018-10-03T11:47:26.000Z","updated":"2018-10-03T11:47:26.000Z","comments":true,"path":"2018/10/03/C++-å…¥å‘è®°-2/","permalink":"https://yeshan333.github.io/2018/10/03/C++-%E5%85%A5%E5%9D%91%E8%AE%B0-2/","excerpt":"å‡½æ•°ï¼Œé»˜è®¤å‚æ•°çš„ä½¿ç”¨åœ¨C++ä¸­ï¼Œå…è®¸åœ¨è‡ªå®šä¹‰å‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­ï¼Œç»™å½¢å‚ä¸€ä¸ªé»˜è®¤çš„å€¼ï¼Œè¿™æ ·åœ¨è°ƒç”¨çš„æ—¶å€™å¦‚æœæœ‰å®å‚ï¼Œé‚£ä¹ˆæŒ‰ç…§å®å‚ä¼ é€’ç»™å½¢å‚çš„æ–¹æ³•ä½¿ç”¨ï¼›è‹¥è°ƒç”¨çš„æ—¶å€™æ²¡æœ‰æŒ‡å®šå¯¹åº”çš„å®å‚ï¼Œåˆ™å½¢å‚å°†ä½¿ç”¨é»˜è®¤å€¼ã€‚ç”±äºå‚æ•°çš„ä¼ é€’é¡ºåºæ˜¯ä»å³è‡³å·¦å…¥æ ˆï¼Œæ‰€ä»¥æœ‰é»˜è®¤å€¼çš„å‚æ•°å¿…é¡»åœ¨æ”¾åœ¨å½¢å‚åˆ—è¡¨çš„æœ€å³è¾¹ï¼","text":"å‡½æ•°ï¼Œé»˜è®¤å‚æ•°çš„ä½¿ç”¨åœ¨C++ä¸­ï¼Œå…è®¸åœ¨è‡ªå®šä¹‰å‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­ï¼Œç»™å½¢å‚ä¸€ä¸ªé»˜è®¤çš„å€¼ï¼Œè¿™æ ·åœ¨è°ƒç”¨çš„æ—¶å€™å¦‚æœæœ‰å®å‚ï¼Œé‚£ä¹ˆæŒ‰ç…§å®å‚ä¼ é€’ç»™å½¢å‚çš„æ–¹æ³•ä½¿ç”¨ï¼›è‹¥è°ƒç”¨çš„æ—¶å€™æ²¡æœ‰æŒ‡å®šå¯¹åº”çš„å®å‚ï¼Œåˆ™å½¢å‚å°†ä½¿ç”¨é»˜è®¤å€¼ã€‚ç”±äºå‚æ•°çš„ä¼ é€’é¡ºåºæ˜¯ä»å³è‡³å·¦å…¥æ ˆï¼Œæ‰€ä»¥æœ‰é»˜è®¤å€¼çš„å‚æ•°å¿…é¡»åœ¨æ”¾åœ¨å½¢å‚åˆ—è¡¨çš„æœ€å³è¾¹ï¼ 12345678910111213#include&lt;iostream&gt;using namespace std;int Sum(int a=4,int b=5)&#123; return a+b;&#125;int main()&#123; cout&lt;&lt;Sum(5,7)&lt;&lt;endl; cout&lt;&lt;Sum()&lt;&lt;endl; cout&lt;&lt;Sum(9)&lt;&lt;endl; return 0;&#125; å‡½æ•°é‡è½½å‡½æ•°é‡è½½å³ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„å‡½æ•°ï¼Œå‡½æ•°åç›¸åŒï¼Œä½†å½¢å‚ç±»å‹æˆ–ä¸ªæ•°ä¸åŒï¼Œç¼–è¯‘å™¨æ ¹æ®è°ƒç”¨æ–¹ä¼ å…¥çš„å‚æ•°çš„ç±»å‹å’Œä¸ªæ•°ï¼Œè‡ªåŠ¨é€‰æ‹©æœ€é€‚åˆçš„ä¸€ä¸ªå‡½æ•°æ¥è¿›è¡Œç»‘å®šè°ƒç”¨ï¼Œè‡ªåŠ¨å®ç°é€‰æ‹©ã€‚ 123456789101112131415161718192021222324252627282930#include&lt;iostream&gt;using namespace std;int sum(int a,int b)&#123; return a+b;&#125;double sum(double a,double b)&#123; return a+b;&#125;double sum(double a,int b)&#123; return a+b;&#125;double sum(int a,double b)&#123; return a+b;&#125;int main()&#123; cout&lt;&lt;sum(1,2)&lt;&lt;endl; cout&lt;&lt;sum(1.414,2.526)&lt;&lt;endl; cout&lt;&lt;sum(3.14,6)&lt;&lt;endl; cout&lt;&lt;sum(8,9.9)&lt;&lt;endl; return 0;&#125; å‡½æ•°æ¨¡æ¿ï¼ˆtemplateï¼‰æ¨¡æ¿æ˜¯åˆ›å»ºæ³›å‹ç±»æˆ–å‡½æ•°çš„è“å›¾æˆ–å…¬å¼ã€‚æ˜¯æ³›å‹ç¼–ç¨‹çš„åŸºç¡€ã€‚å‡½æ•°æ¨¡æ¿ï¼Œæ˜¯å¯ä»¥åˆ›å»ºä¸€ä¸ªé€šç”¨çš„å‡½æ•°ï¼Œå¯ä»¥æ”¯æŒå¤šç§å½¢å‚ã€‚ç”¨å…³é”®å­—templateæ¥å®šä¹‰æ¨¡æ¿å‡½æ•°å®šä¹‰çš„ä¸€èˆ¬å½¢å¼ template&lt;class ç±»å‹å1,class ç±»å‹å2&gt; è¿”å›å€¼ å‡½æ•°å(å½¢å‚åˆ—è¡¨) &#123; å‡½æ•°ä½“ &#125; 1234567891011121314151617#include&lt;iostream&gt;using namespace std;template&lt;class T1,class T2&gt;T1 sum(T1 a,T2 b)//æ¨¡æ¿å‡½æ•°ä¸­çš„T1å’ŒT2ç±»å‹å°†æ ¹æ®å®é™…ä¼ å…¥çš„ç±»å‹å˜æˆå…·ä½“ç±»å‹ã€‚è¿™ä¸ªåŒ–æˆå°±å«åšæ¨¡æ¿çš„å®ä¾‹åŒ–ã€‚//T1ã€T2æ˜¯å‡½æ•°æ‰€ä½¿ç”¨çš„æ•°æ®ç±»å‹çš„å ä½ç¬¦åç§°ã€‚è¿™ä¸ªåç§°å¯ä»¥åœ¨å‡½æ•°å®šä¹‰ä¸­ä½¿ç”¨ã€‚&#123; cout&lt;&lt;sizeof(T1)&lt;&lt;&quot;,&quot;&lt;&lt;sizeof(T2)&lt;&lt;&quot;\\t&quot;; return a+b;&#125;int main()&#123; cout&lt;&lt;sum(1,2)&lt;&lt;endl; cout&lt;&lt;sum(3.14,1.414)&lt;&lt;endl; cout&lt;&lt;sum(&#x27;A&#x27;,2)&lt;&lt;endl; return 0;&#125; inlineå†…è”å‡½æ•° å†…è”å‡½æ•°çš„åŸºæœ¬æ€æƒ³åœ¨äºå°†æ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½ä»¥å®ƒçš„ä»£ç ä½“æ¥æ›¿æ¢ å†…è”å‡½æ•°å‡å°‘äº†ä¸å¿…è¦çš„å‡½æ•°æ ˆå¸§çš„å¼€é”€,èŠ‚çº¦å†…å­˜ å†…è”å‡½æ•°ä»¥ç©ºé—´æ¢å–äº†æ—¶é—´ï¼Œä½†æ˜¯inlineå¯¹ç¼–è¯‘å™¨åªæ˜¯ä¸€ä¸ªå»ºè®®ï¼Œå¦‚æœå®šä¹‰çš„å‡½æ•°ä½“å†…æœ‰å¾ªç¯æˆ–é€’å½’ç­‰ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–æ—¶ä¼šè‡ªåŠ¨å¿½ç•¥æ‰å†…è” 12345678910111213#include&lt;iostream&gt;using namespace std;inline int Max(int a,int b)&#123; return a&gt;b?a:b;&#125;int main()&#123; cout&lt;&lt;Max(3,5)&lt;&lt;endl; cout&lt;&lt;Max(7,9)&lt;&lt;endl; return 0;&#125; å†…è”å‡½æ•°çš„å®šä¹‰è¦åœ¨è°ƒç”¨ä¹‹å‰å‡ºç°","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"ACMå…¥é—¨ï¼ˆå ä¸ªä½ï¼‰","slug":"ACMå…¥é—¨","date":"2018-10-02T22:48:28.000Z","updated":"2018-10-02T22:48:28.000Z","comments":true,"path":"2018/10/02/ACMå…¥é—¨/","permalink":"https://yeshan333.github.io/2018/10/02/ACM%E5%85%A5%E9%97%A8/","excerpt":"A+B for Input-Output Practice(using C++)1. Problem Description Your task is to Calculate a + b. Too easy?! Of course! I specially designed the problem for acm beginners. You must have found that some problems have the same titles with this one, yes, all these problems were designed for the same aim Input The input will consist of a series of pairs of integers a and b, separated by a space, one pair of integers per line. Output For each pair of input integers a and b you should output the sum of a and b in one line, and with one line of output for each line in input. Sample Input 1 61 20 Sample Output 721","text":"A+B for Input-Output Practice(using C++)1. Problem Description Your task is to Calculate a + b. Too easy?! Of course! I specially designed the problem for acm beginners. You must have found that some problems have the same titles with this one, yes, all these problems were designed for the same aim Input The input will consist of a series of pairs of integers a and b, separated by a space, one pair of integers per line. Output For each pair of input integers a and b you should output the sum of a and b in one line, and with one line of output for each line in input. Sample Input 1 61 20 Sample Output 721 1234567891011#include&lt;iostream&gt;using namespace std;int main()&#123; int x,y; while(cin&gt;&gt;x&gt;&gt;y) &#123; cout&lt;&lt;x+y&lt;&lt;endl; &#125; return 0;&#125; 2. Problem Description The first line integer means the number of input integer a and b. Your task is to Calculate a + b. Input Your task is to Calculate a + b. The first line integer means the numbers of pairs of input integers. Output For each pair of input integers a and b you should output the sum of a and b in one line, and with one line of output for each line in input. Sample Input 210 2022 36 Sample Output 3058 1234567891011121314#include&lt;iostream&gt;using namespace std;int main()&#123; int n,i; int a,b; cin&gt;&gt;n; for(i=0;i&lt;n;i++) &#123; cin&gt;&gt;a&gt;&gt;b; cout&lt;&lt;a+b&lt;&lt;endl; &#125; return 0;&#125; 3. Problem Description Your task is to Calculate a + b. Input Input contains multiple test cases. Each test case contains a pair of integers a and b, one pair of integers per line. A test case containing 0 0 terminates the input and this test case is not to be processed. Output For each pair of input integers a and b you should output the sum of a and b in one line, and with one line of output for each line in input. Sample Input 1 510 200 0 Sample Output 630 12345678910111213#include&lt;iostream&gt;using namespace std;int main()&#123; int a,b; while(cin&gt;&gt;a&gt;&gt;b) &#123; if(a==0&amp;&amp;b==0)break; else cout&lt;&lt;a+b&lt;&lt;endl; &#125; return 0;&#125; 4. Problem Description Your task is to Calculate the sum of some integers. Input Input contains multiple test cases. Each test case contains a integer N, and then N integers follow in the same line. A test case starting with 0 terminates the input and this test case is not to be processed. Output For each group of input integers you should output their sum in one line, and with one line of output for each line in input. Sample Input 4 1 2 3 45 1 2 3 4 50 Sample Output 1015 123456789101112131415161718#include&lt;iostream&gt;using namespace std;int main()&#123; int n; while(cin&gt;&gt;n) &#123; if(n==0)return 0; int x,sum=0; while(n--) &#123; cin&gt;&gt;x; sum+=x; &#125; cout&lt;&lt;sum&lt;&lt;endl; &#125; return 0;&#125; 5. Problem Description Your task is to calculate the sum of some integers. Input Input contains an integer N in the first line, and then N lines follow. Each line starts with a integer M, and then M integers follow in the same line. Output For each group of input integers you should output their sum in one line, and with one line of output for each line in input. Sample Input 24 1 2 3 45 1 2 3 4 5 Sample Output 1015 12345678910111213141516171819202122#include&lt;iostream&gt;using namespace std;int main()&#123; int N; int i; int n,x; cin&gt;&gt;N; for(i=0;i&lt;N;i++) &#123; int n; int x,sum=0; cin&gt;&gt;n; while(n--) &#123; cin&gt;&gt;x; sum += x; &#125; cout&lt;&lt;sum&lt;&lt;endl; &#125; return 0;&#125; 6. Problem Description Your task is to calculate the sum of some integers. Input Input contains multiple test cases, and one case one line. Each case starts with an integer N, and then N integers follow in the same line. Output For each test case you should output the sum of N integers in one line, and with one line of output for each line in input. Sample Input 4 1 2 3 4 55 1 2 3 4 5 Sample Output 1015 123456789101112131415161718#include&lt;iostream&gt;using namespace std;int main()&#123; int n; int x,sum=0; while(cin&gt;&gt;n) &#123; while(n--) &#123; cin&gt;&gt;x; sum +=x; &#125; cout&lt;&lt;sum&lt;&lt;endl; sum=0; &#125; return 0;&#125; 7. Problem Description Your task is to Calculate a + b. Input The input will consist of a series of pairs of integers a and b, separated by a space, one pair of integers per line. Output For each pair of input integers a and b you should output the sum of a and b, and followed by a blank line. Sample Input 1 510 20 Sample Output 630 123456789101112#include&lt;iostream&gt;using namespace std;int main()&#123; int x,y; while(cin&gt;&gt;x&gt;&gt;y) &#123; cout&lt;&lt;x+y&lt;&lt;endl; cout&lt;&lt;endl; &#125; return 0;&#125; 8. Problem Description Your task is to calculate the sum of some integers Input Input contains an integer N in the first line, and then N lines follow. Each line starts with a integer M, and then M integers follow in the same line Output For each group of input integers you should output their sum in one line, and you must note that there is a blank line between outputs. Sample Input 34 1 2 3 45 1 2 3 4 56 1 2 3 4 5 6 Sample Output 101521 12345678910111213141516171819202122#include&lt;iostream&gt;using namespace std;int main()&#123; int N; int n,x; int sum=0; cin&gt;&gt;N; while(N--) &#123; cin&gt;&gt;n; while(n--) &#123; cin&gt;&gt;x; sum +=x; &#125; cout&lt;&lt;sum&lt;&lt;endl; cout&lt;&lt;endl; sum=0; &#125; return 0;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://yeshan333.github.io/categories/Algorithm/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://yeshan333.github.io/tags/Algorithm/"}]},{"title":"C++å…¥å‘è®°","slug":"C++-å…¥å‘è®°","date":"2018-10-02T00:40:03.000Z","updated":"2018-10-02T00:40:03.000Z","comments":true,"path":"2018/10/02/C++-å…¥å‘è®°/","permalink":"https://yeshan333.github.io/2018/10/02/C++-%E5%85%A5%E5%9D%91%E8%AE%B0/","excerpt":"C++å…³é”®å­—https://www.runoob.com/w3cnote/cpp-keyword-intro.html asm else new this auto enum operator throw bool explicit private true break export protected try case extern public typedef catch false register typeid char for return union const friend short unsigned const_cast goto signed using continue if sizeof virtual default inline static void delete int static_cast volatile do long struct wchar_t double mutable switch while dynamic_cast namespace template â€¦","text":"C++å…³é”®å­—https://www.runoob.com/w3cnote/cpp-keyword-intro.html asm else new this auto enum operator throw bool explicit private true break export protected try case extern public typedef catch false register typeid char for return union const friend short unsigned const_cast goto signed using continue if sizeof virtual default inline static void delete int static_cast volatile do long struct wchar_t double mutable switch while dynamic_cast namespace template â€¦ å…¥å‘C++1234567891011#include&lt;iostream&gt; //æ–‡ä»¶åŒ…å«ï¼ŒåŒ…å«iostreamæ ‡å‡†åº“using namespace std; //å£°æ˜ä¸€ä¸ªå«stdçš„å‘½åç©ºé—´int main()&#123; string my_name; int age; cin&gt;&gt;my_name&gt;&gt;age; cout&lt;&lt;my_name&lt;&lt;&#x27; &#x27;&lt;&lt;age; cout&lt;&lt;&quot;\\nHello C++ !&quot;&lt;&lt;endl&lt;&lt;&quot;Nice&quot;&lt;&lt;&quot;\\n\\n&quot;; cout&lt;&lt;&quot;Nice to meet you !&quot;;&#125; æµæå–è¿ç®—ç¬¦&gt;&gt;æµæ’å…¥è¿ç®—ç¬¦&lt;&lt; ä»€ä¹ˆæ˜¯å‘½åç©ºé—´ å‘½åç©ºé—´(namespace)ä¸ºé˜²æ­¢åå­—å†²çªæä¾›äº†æ›´åŠ å¯æ§çš„æœºåˆ¶ã€‚ ä¸€ä¸ªå‘½åç©ºé—´çš„å®šä¹‰åŒ…å«ä¸¤éƒ¨åˆ†ï¼šé¦–å…ˆæ˜¯å…³é”®å­—namespaceï¼Œéšåæ˜¯å‘½åç©ºé—´çš„åå­—ã€‚åœ¨å‘½åç©ºé—´åå­—åé¢æ˜¯ä¸€ç³»åˆ—ç”±èŠ±æ‹¬å·æ‹¬èµ·æ¥çš„å£°æ˜å’Œå®šä¹‰ã€‚åªè¦èƒ½å‡ºç°åœ¨å…¨å±€ä½œç”¨åŸŸä¸­çš„å£°æ˜å°±èƒ½ç½®äºå‘½åç©ºé—´å†…ï¼Œä¸»è¦åŒ…æ‹¬ï¼šç±»ã€å˜é‡(åŠå…¶åˆå§‹åŒ–æ“ä½œ)ã€å‡½æ•°(åŠå…¶å®šä¹‰)ã€æ¨¡æ¿å’Œå…¶å®ƒå‘½åç©ºé—´ã€‚å‘½åç©ºé—´ç»“æŸåæ— é¡»åˆ†å·ï¼Œè¿™ä¸€ç‚¹ä¸å—ç±»ä¼¼ã€‚å’Œå…¶å®ƒåå­—ä¸€æ ·ï¼Œå‘½åç©ºé—´çš„åå­—ä¹Ÿå¿…é¡»åœ¨å®šä¹‰å®ƒçš„ä½œç”¨åŸŸå†…ä¿æŒå”¯ä¸€ã€‚å‘½åç©ºé—´æ—¢å¯ä»¥å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸå†…ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨å…¶å®ƒå‘½åç©ºé—´ä¸­ï¼Œä½†æ˜¯ä¸èƒ½å®šä¹‰åœ¨å‡½æ•°æˆ–ç±»çš„å†…éƒ¨ã€‚å‘½åç©ºé—´ä½œç”¨åŸŸåé¢æ— é¡»åˆ†å·ã€‚ https://blog.csdn.net/fengbingchun/article/details/78575978?utm_source&#x3D;copyåªæ˜¯æ–°æ ‡å‡†ä¸­ä½¿ç”¨ä¸å¸¦.hçš„å¤´æ–‡ä»¶åŒ…å«æ—¶ï¼Œå¿…é¡»è¦å£°æ˜å‘½åç©ºé—´ï¼Œå¹¶ä¸”åŒ…å«å¤´æ–‡ä»¶åœ¨å‰ï¼Œå£°æ˜ä½¿ç”¨çš„åå­—ç©ºé—´åœ¨åã€‚ ä¾‹å¦‚æ ‡å‡†C++åº“æä¾›çš„å¯¹è±¡éƒ½å­˜åœ¨stdè¿™ä¸ªæ ‡å‡†åå­—ä¸­ï¼Œæ¯”å¦‚cinï¼Œcoutï¼Œendlã€‚ å†™æ³•â€“1123456789101112#include&lt;iostream&gt;using namespace std;int main()&#123; int a; cin&gt;&gt;a; cout&lt;&lt;a&lt;&lt;endl; cout&lt;&lt;&quot;**************************\\n&quot;; cout&lt;&lt;&quot;Hello World!&quot;&lt;&lt;endl; cout&lt;&lt;&quot;**************************\\n&quot;; return 0;&#125; å†™æ³•â€“2ä½¿ç”¨åŸŸé™å®šç¬¦::æ¥é€ä¸ªåˆ¶å®š,coutå’Œendlå‰é¢åˆ†åˆ«ç”¨std::æŒ‡æ˜ï¼Œè¡¨ç¤ºæ¥è‡ªstd 1234567891011#include&lt;iostream&gt;int main()&#123; int a; std::cin&gt;&gt;a; std::cout&lt;&lt;a&lt;&lt;std::endl; std::cout&lt;&lt;&quot;**************************\\n&quot;; std::cout&lt;&lt;&quot;Hello World!&quot;&lt;&lt;std::endl; std::cout&lt;&lt;&quot;**************************\\n&quot;; return 0;&#125; å†™æ³•â€“3ç”¨usingå’ŒåŸŸé™å®šç¬¦ä¸€èµ·åˆ¶å®šç”¨å“ªäº›åå­— 1234567891011121314#include&lt;iostream&gt;using std::cin;using std::cout;using std::endl;int main()&#123; int a; cin&gt;&gt;a; cout&lt;&lt;a&lt;&lt;endl; cout&lt;&lt;&quot;**************************\\n&quot;; cout&lt;&lt;&quot;Hello World!&quot;&lt;&lt;endl; cout&lt;&lt;&quot;**************************\\n&quot;; return 0;&#125; åœ¨ç”¨cinå’Œcoutè¾“å…¥å’Œè¾“å‡ºæ•°æ®æ—¶ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ§åˆ¶æ•°æ®ç±»å‹å°±å¯ä»¥ä½¿ç”¨ æ›´æ–°äº2018&#x2F;10&#x2F;4 23:15:56 I&#x2F;Oåº“å¤´æ–‡ä»¶ &lt;iostream&gt;ã€&lt;iomanip&gt;ã€&lt;fstream&gt; å¤´æ–‡ä»¶ å‡½æ•°å’Œæè¿° iostream è¯¥æ–‡ä»¶å®šä¹‰äº†cinã€coutã€cerrå’Œclogå¯¹è±¡ï¼Œåˆ†åˆ«å¯¹åº”äºæ ‡å‡†è¾“å…¥æµã€æ ‡å‡†è¾“å‡ºæµã€éç¼“å†²æ ‡å‡†é”™è¯¯å’Œç¼“å†²æ ‡å‡†é”™è¯¯æµ iomanip è¯¥æ–‡ä»¶é€šè¿‡æ‰€è°“çš„å‚æ•°åŒ–çš„æµæ“çºµå™¨ï¼ˆæ¯”å¦‚setwå’Œsetprecisionï¼‰ï¼Œæ¥å£°æ˜å¯¹æ‰§è¡Œæ ‡å‡†åŒ–I&#x2F;Oæœ‰ç”¨çš„æœåŠ¡ fstream è¯¥æ–‡ä»¶ä¸ºç”¨æˆ·æ§åˆ¶çš„æ–‡ä»¶å¤„ç†å£°æ˜æœåŠ¡","categories":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"}],"tags":[{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"}]},{"title":"Requestsåº“å…¥é—¨(2)","slug":"Requestsåº“å…¥é—¨-2","date":"2018-10-01T18:58:54.000Z","updated":"2018-10-01T18:58:54.000Z","comments":true,"path":"2018/10/01/Requestsåº“å…¥é—¨-2/","permalink":"https://yeshan333.github.io/2018/10/01/Requests%E5%BA%93%E5%85%A5%E9%97%A8-2/","excerpt":"requestsåº“å…¥é—¨å®æ“ äº¬ä¸œå•†å“é¡µé¢çˆ¬å– äºšé©¬é€Šå•†å“é¡µé¢çš„çˆ¬å– ç™¾åº¦&#x2F;360æœç´¢å…³é”®å­—æäº¤ IPåœ°å€å½’å±åœ°æŸ¥è¯¢ ç½‘ç»œå›¾ç‰‡çš„çˆ¬å–å’Œå‚¨å­˜","text":"requestsåº“å…¥é—¨å®æ“ äº¬ä¸œå•†å“é¡µé¢çˆ¬å– äºšé©¬é€Šå•†å“é¡µé¢çš„çˆ¬å– ç™¾åº¦&#x2F;360æœç´¢å…³é”®å­—æäº¤ IPåœ°å€å½’å±åœ°æŸ¥è¯¢ ç½‘ç»œå›¾ç‰‡çš„çˆ¬å–å’Œå‚¨å­˜ 1.äº¬ä¸œå•†å“é¡µé¢çš„çˆ¬å–åä¸ºnova3 123456789101112import requestsdef GetHTMLText(url): try: r = requests.get(url) r.raise_for_status() r.encoding = r.apparent_encoding return r.text[:1000] except: print(&quot;çˆ¬å–å¤±è´¥&quot;)if __name__ == &#x27;__main__&#x27;: url = &quot;https://item.jd.com/30185690434.html&quot; print(GetHTMLText(url)) 2.äºšé©¬å­™å•†å“é¡µé¢çš„çˆ¬å–æŸäº›ç½‘ç«™å¯èƒ½æœ‰åçˆ¬æœºåˆ¶ã€‚é€šå¸¸çš„åçˆ¬ç­–ç•¥æœ‰: é€šè¿‡Headersåçˆ¬è™« åŸºäºç”¨æˆ·è¡Œä¸ºåçˆ¬è™« åŠ¨æ€é¡µé¢çš„åçˆ¬è™« å‚è€ƒ 12345678910111213141516#å¦‚ç½‘ç«™å¯¹Headersçš„User-Agentè¿›è¡Œæ£€æµ‹ï¼Œå¯å®šåˆ¶è¯·æ±‚å¤´ä¼ªè£…æˆæµè§ˆå™¨import requestsdef GetHTMLText(url): try: #å®šåˆ¶è¯·æ±‚å¤´ headers = &#123;&quot;user-agent&quot;:&quot;Mozilla/5.0&quot;&#125; r = requests.get(url,headers = headers) r.raise_for_status() r.encoding = r.apparent_encoding return r.text[:1000] except: print(&quot;çˆ¬å–å¤±è´¥&quot;)if __name__ == &#x27;__main__&#x27;: url = &quot;https://www.amazon.cn/gp/product/B01M8L5Z3Y&quot; print(GetHTMLText(url)) 3.ç™¾åº¦&#x2F;360æœç´¢å…³é”®å­—æäº¤ä½¿ç”¨paramså‚æ•°,åˆ©ç”¨æ¥å£keyword 1234567891011121314151617181920212223#ç™¾åº¦æœç´¢å¼•æ“å…³é”®è¯æäº¤æ¥å£: http://www.baidu.com/s?wd=keyword#360æœç´¢å¼•æ“å…³é”®è¯æäº¤æ¥å£: http://www.so.com/s?q=keywordimport requestsdef Get(url): headers = &#123;&#x27;user-agent&#x27;:&#x27;Mozilla/5.0&#x27;&#125; key_word = &#123;&#x27;wd&#x27;:&#x27;python&#x27;&#125; try: r=requests.get(url,headers=headers,params=key_word) r.raise_for_status() r.encoding = r.apparent_encoding print(r.request.url) #return r.request.url return r.text except: return &quot;çˆ¬å–å¤±è´¥&quot;if __name__ == &#x27;__main__&#x27;: url = &quot;http://www.baidu.com/s&quot; #print(Get(url)) print(len(Get(url))) 4.IPåœ°å€å½’å±åœ°æŸ¥è¯¢ä½¿ç”¨IP138çš„APIæ¥å£http://m.ip138.com/ip.asp?ip=ipaddress 12345678910111213# ipåœ°å€æŸ¥è¯¢import requestsurl =&quot;http://m.ip138.com/ip.asp?ip=&quot;ip = str(input())try: r= requests.get(url+ip) r.raise_for_status() print(r.status_code) #r.encoding = r.apparent_encoding print(r.text[-500:])except: print(&quot;failed&quot;) 5.ç½‘ç»œå›¾ç‰‡çš„çˆ¬å–å’Œå‚¨å­˜123456789101112131415161718192021222324# spider_for_imgsimport requestsimport osurl = &quot;http://n.sinaimg.cn/sinacn12/w495h787/20180315/1923-fyscsmv9949374.jpg&quot;#C:\\Users\\Administrator\\Desktop\\spider\\first week\\imgs/root = &quot;C://Users/Administrator/Desktop/spider/first week/imgs/&quot;path = root + url.split(&#x27;/&#x27;)[-1]try: if not os.path.exists(root): os.mkdir(root) if not os.path.exists(path): r = requests.get(url) with open(path, &#x27;wb&#x27;) as f: f.write(r.content) f.close() print(&quot;save successfully!&quot;) else: print(&quot;file already exist!&quot;)except: print(&quot;spider fail&quot;)","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Requests","slug":"Requests","permalink":"https://yeshan333.github.io/tags/Requests/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://yeshan333.github.io/tags/%E7%88%AC%E8%99%AB/"}]},{"title":"ä¼˜é›…çš„Markdownï¼ˆ2ï¼‰","slug":"ä¼˜é›…çš„Markdownï¼ˆ2ï¼‰","date":"2018-09-30T23:25:53.000Z","updated":"2018-09-30T23:25:53.000Z","comments":true,"path":"2018/09/30/ä¼˜é›…çš„Markdownï¼ˆ2ï¼‰/","permalink":"https://yeshan333.github.io/2018/09/30/%E4%BC%98%E9%9B%85%E7%9A%84Markdown%EF%BC%882%EF%BC%89/","excerpt":"Markdownç¼–è¾‘å™¨ä½¿ç”¨-MarkdownPad2 imgurå·²è¢«GFWå¹²æ‰ å¿«æ·é”® ç²—ä½“ ctrl+B æ–œä½“ ctrl+I å¼•ç”¨ ctrl+Q ä»£ç  ctrl+K è¶…é“¾æ¥ ctrl+L å›¾ç‰‡ ctrl+G æ— åºåˆ—è¡¨ ctrl+U æœ‰åºåˆ—è¡¨ ctrl+shift+O æ°´å¹³æ ‡å°º ctrl+R æ—¶é—´æˆ³ ctrl+T æ’¤é”€ ctrl+Z é‡åš ctrl+Y","text":"Markdownç¼–è¾‘å™¨ä½¿ç”¨-MarkdownPad2 imgurå·²è¢«GFWå¹²æ‰ å¿«æ·é”® ç²—ä½“ ctrl+B æ–œä½“ ctrl+I å¼•ç”¨ ctrl+Q ä»£ç  ctrl+K è¶…é“¾æ¥ ctrl+L å›¾ç‰‡ ctrl+G æ— åºåˆ—è¡¨ ctrl+U æœ‰åºåˆ—è¡¨ ctrl+shift+O æ°´å¹³æ ‡å°º ctrl+R æ—¶é—´æˆ³ ctrl+T æ’¤é”€ ctrl+Z é‡åš ctrl+Y æ’å…¥å›¾ç‰‡æ—¶é—´å¯ä½¿ç”¨MarkdownPad2é»˜è®¤çš„å›¾åºŠ MarkdownPad2ä½¿ç”¨çš„é»˜è®¤å›¾åºŠæ˜¯imgur æ’å…¥è§†é¢‘æ¼”ç¤ºæˆ³è¿™é‡Œ","categories":[],"tags":[{"name":"markdown","slug":"markdown","permalink":"https://yeshan333.github.io/tags/markdown/"}]},{"title":"ç®€å•çˆ¬è™«","slug":"ç®€å•çˆ¬è™«","date":"2018-09-29T01:17:32.000Z","updated":"2018-09-29T23:19:00.000Z","comments":true,"path":"2018/09/29/ç®€å•çˆ¬è™«/","permalink":"https://yeshan333.github.io/2018/09/29/%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB/","excerpt":"Requestsåº“å…¥é—¨ http://www.python-requests.org/en/master/ requests Requestsåº“çš„7ä¸ªä¸»è¦æ–¹æ³• æ–¹æ³• è¯´æ˜ requests.request() æ„é€ ä¸€ä¸ªè¯·æ±‚ï¼Œæ”¯æ’‘ä»¥ä¸‹å„æ–¹æ³•çš„åŸºæœ¬æ–¹æ³• requests.get() è·å–HTMLç½‘é¢çš„æ–¹æ³• requests.head() è·å–HTMLç½‘é¡µå¤´éƒ¨ä¿¡æ¯çš„æ–¹æ³• requests.post() å‘HTMLç½‘é¡µæäº¤POSTè¯·æ±‚çš„æ–¹æ³• requests.put() å‘HTMLé¡µé¢æäº¤PUTè¯·æ±‚çš„æ–¹æ³• requests.patch() å‘HTMLç½‘é¡µæäº¤å±€éƒ¨ä¿®æ”¹è¯·æ±‚ requests.delete() å‘HTMLç½‘é¡µæäº¤åˆ é™¤è¯·æ±‚","text":"Requestsåº“å…¥é—¨ http://www.python-requests.org/en/master/ requests Requestsåº“çš„7ä¸ªä¸»è¦æ–¹æ³• æ–¹æ³• è¯´æ˜ requests.request() æ„é€ ä¸€ä¸ªè¯·æ±‚ï¼Œæ”¯æ’‘ä»¥ä¸‹å„æ–¹æ³•çš„åŸºæœ¬æ–¹æ³• requests.get() è·å–HTMLç½‘é¢çš„æ–¹æ³• requests.head() è·å–HTMLç½‘é¡µå¤´éƒ¨ä¿¡æ¯çš„æ–¹æ³• requests.post() å‘HTMLç½‘é¡µæäº¤POSTè¯·æ±‚çš„æ–¹æ³• requests.put() å‘HTMLé¡µé¢æäº¤PUTè¯·æ±‚çš„æ–¹æ³• requests.patch() å‘HTMLç½‘é¡µæäº¤å±€éƒ¨ä¿®æ”¹è¯·æ±‚ requests.delete() å‘HTMLç½‘é¡µæäº¤åˆ é™¤è¯·æ±‚ Requestsåº“çš„get()æ–¹æ³•requests.get(url,params=None,**kwargs) urlï¼šæ‹Ÿè·å–é¡µé¢çš„urlé“¾æ¥ paramsï¼šurlä¸­çš„é¢å¤–å‚æ•°ï¼Œå­—å…¸æˆ–å­—èŠ‚æµæ ¼å¼ï¼Œå¯é€‰ **kwargsï¼š12ä¸ªæ§åˆ¶è®¿é—®çš„å‚æ•° r = requests.get(url) rä¸ºä¸€ä¸ªåŒ…å«æœåŠ¡å™¨èµ„æºçš„Responseå¯¹è±¡(å³ä¸ºrequests.get()è¿”å›å†…å®¹) get()æ–¹æ³•å’Œurlæ„é€ äº†ä¸€ä¸ªå‘æœåŠ¡å™¨è¯·æ±‚èµ„æºçš„Requestå¯¹è±¡ Responseå¯¹è±¡Responseå¯¹è±¡åŒ…å«æœåŠ¡å™¨åå›çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä¹ŸåŒ…å«è¯·æ±‚çš„Requestä¿¡æ¯ Responseå¯¹è±¡çš„å±æ€§ å±æ€§ è¯´æ˜ r.stats_code HTTPè¯·æ±‚çš„è¿”å›çŠ¶æ€ï¼Œ200è¡¨ç¤ºè¿æ¥æˆåŠŸ r.txt HTTPå“åº”çš„å­—ç¬¦ä¸²å½¢å¼ r.encoding ä»HTTP headerä¸­çŒœæµ‹çš„å“åº”æ–¹å¼çš„å†…å®¹ç¼–ç  r.apparent_enconding ä»å†…å®¹ä¸­åˆ†æå‡ºçš„å“åº”å†…å®¹ç¼–ç æ–¹å¼ï¼ˆå¤‡é€‰ç¼–ç æ–¹å¼ï¼‰ r.content HTTPå“åº”å†…å®¹ç¼–ç çš„äºŒè¿›åˆ¶å½¢å¼ r.encoding:å¦‚æœcharsetä¸å­˜åœ¨ï¼Œåˆ™é»˜è®¤ç¼–ç ä¸ºISO-8859-1ï¼Œr.textæ ¹æ®r.encodingæ˜¾ç¤ºç½‘é¡µå†…å®¹ r.apparent_encodingï¼šæ ¹æ®ç½‘é¡µå†…å®¹åˆ†æå‡ºçš„ç¼–ç æ–¹å¼ ç†è§£Responseå¼‚å¸¸r.raise_for_status()å¦‚æœä¸æ˜¯200ï¼Œäº§ç”Ÿå¼‚å¸¸requests.HTTPErrorå¼‚å¸¸ 1r.raise_for_status()åœ¨æ–¹æ³•å†…éƒ¨åˆ¤æ–­r.statu_codeæ˜¯å¦ç­‰äº200ï¼Œä¸éœ€è¦å¢åŠ é¢å¤–çš„ifè¯­å¥ï¼Œè¯¥è¯­å¥ä¾¿äºtry-exceptè¿›è¡Œå¼‚å¸¸å¤„ç† Requestsåº“çš„å¼‚å¸¸ å¼‚å¸¸ è¯´æ˜ requests.ConnectonError ç½‘è·¯è¿æ¥é”™è¯¯å¼‚å¸¸ requests.HTTPError HTTPé”™è¯¯å¼‚å¸¸ requests.URLRequire URLç¼ºå¤±å¼‚å¸¸ requests.TooManyRedirects è¶…è¿‡æœ€å¤§é‡å®šå‘æ¬¡æ•°ï¼Œäº§ç”Ÿé‡å®šå‘å¼‚å¸¸ requests.ConnectTimeout è¿æ¥è¿œç¨‹æœåŠ¡å™¨å¼‚å¸¸ requests.Timeout è¯·æ±‚URLè¶…æ—¶ï¼Œäº§ç”Ÿè¶…æ—¶å¼‚å¸¸ pythonçˆ¬å–ç½‘é¡µä»£ç é€šç”¨æ¡†æ¶12345678910111213141516import requests#import timedef getHTMLText(url): try: r = requests.get(url,timeout = 30) r.raise_for_status()#å¦‚æœçŠ¶æ€ä¸æ˜¯200ï¼Œäº§ç”ŸHTTPErrorå¼‚å¸¸ #print(r.status_code) r.encoding = r.apparent_encoding return r.text except: return &quot;äº§ç”Ÿå¼‚å¸¸&quot;if __name__ == &#x27;__main__&#x27;: url = &quot;http://www.baidu.com&quot; print(getHTMLText(url)) Requestsåº“çš„request()æ–¹æ³•requests.request(method, url, **kwargs) method: è¯·æ±‚æ–¹å¼ï¼Œå¯¹åº”get&#x2F;put&#x2F;deleteç­‰7ç§ url:æ‹Ÿè·å–é¡µé¢çš„urlé“¾æ¥ **kwargs: æ§åˆ¶è®¿é—®çš„å‚æ•° kwargs:æ§åˆ¶è®¿é—®å‚æ•°ï¼Œï¼ˆå¯é€‰ï¼‰12345678910111213paramsï¼šå­—å…¸æˆ–å­—èŠ‚åºåˆ—ï¼Œä½œä¸ºå‚æ•°å¢åŠ åˆ°URLä¸­dataï¼šå­—å…¸ã€å­—èŠ‚åºåˆ—æˆ–æ–‡ç« å¯¹è±¡ï¼Œä½œä¸ºRequestçš„å†…å®¹jsonï¼šJsonæ ¼å¼çš„æ•°æ®headersï¼šHTTPå®šåˆ¶å¤´cookiesï¼šå­—å…¸æˆ–CookieJarï¼ŒRequestä¸­çš„cookieauthï¼šå…ƒç»„ï¼Œæ”¯æŒHTTPè®¤è¯åŠŸèƒ½fileï¼šå­—å…¸ç±»å‹ï¼Œä¼ è¾“æ–‡ä»¶timeoutï¼šè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’proxiesï¼šå­—å…¸ç±»å‹ï¼Œè®¾å®šè®¿é—®ä»£ç†æœåŠ¡å™¨ï¼Œå¯ä»¥å¢åŠ ç™»å½•è®¤è¯allow_redirectsï¼šTrue/Falseï¼Œé»˜è®¤ä¸ºTrueï¼Œé‡å®šå‘å¼€å…³stremï¼šTrue/Falseï¼Œé»˜è®¤ä¸ºTrueï¼Œè·å–é¡µé¢ç«‹å³ä¸‹è½½å¼€å…³verifyï¼šTrue/Falseï¼Œé»˜è®¤ä¸ºTrue,è®¤è¯SSlè¯ä¹¦å¼€å…³certï¼šæœ¬åœ°SSLè¯ä¹¦","categories":[{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"}],"tags":[{"name":"Requests","slug":"Requests","permalink":"https://yeshan333.github.io/tags/Requests/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://yeshan333.github.io/tags/%E7%88%AC%E8%99%AB/"}]},{"title":"ç½‘æ˜“äº‘éŸ³ä¹å¤–é“¾æ’å…¥æµ‹è¯•","slug":"music","date":"2018-09-28T22:37:08.000Z","updated":"2018-09-28T22:37:08.000Z","comments":true,"path":"2018/09/28/music/","permalink":"https://yeshan333.github.io/2018/09/28/music/","excerpt":"ç½‘æ˜“äº‘éŸ³ä¹","text":"ç½‘æ˜“äº‘éŸ³ä¹","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"ä¼˜é›…çš„Markdown","slug":"ä¼˜é›…çš„Markdown","date":"2018-09-28T16:49:47.000Z","updated":"2018-09-28T16:49:47.000Z","comments":true,"path":"2018/09/28/ä¼˜é›…çš„Markdown/","permalink":"https://yeshan333.github.io/2018/09/28/%E4%BC%98%E9%9B%85%E7%9A%84Markdown/","excerpt":"Markdownæµ…å°ä¸€ã€å‹¾é€‰æ¡†æ³¨æ„[]å‰åéƒ½è¦æœ‰ç©ºæ ¼ 1234- [x] å¹²çš„æ¼‚äº®- [x] åƒé¥­- [x] å†™ä»£ç - [ ] ç¡è§‰ å¹²çš„æ¼‚äº® åƒé¥­ å†™ä»£ç  ç¡è§‰","text":"Markdownæµ…å°ä¸€ã€å‹¾é€‰æ¡†æ³¨æ„[]å‰åéƒ½è¦æœ‰ç©ºæ ¼ 1234- [x] å¹²çš„æ¼‚äº®- [x] åƒé¥­- [x] å†™ä»£ç - [ ] ç¡è§‰ å¹²çš„æ¼‚äº® åƒé¥­ å†™ä»£ç  ç¡è§‰ äºŒã€åˆ—è¡¨12345#æ— åºåˆ—åˆ—è¡¨ * æ¢æˆ - ä¹Ÿè¡Œ* ä½ * ä½ å¥½* ä½ å¥½å‘€- ä½ å¾ˆå¥½å•Š ä½  ä½ å¥½ ä½ å¥½å‘€ ä½ å¾ˆå¥½å•Š 12345#æœ‰åºåˆ—è¡¨ . åé¢æœ‰ä¸ªç©ºæ ¼1. æˆ‘2. æ˜¯æˆ‘3. æ˜¯æˆ‘å‘€4. è¿˜æ˜¯æˆ‘å‘€ æˆ‘ æ˜¯æˆ‘ æ˜¯æˆ‘å‘€ è¿˜æ˜¯æˆ‘å‘€ 1234567#å¤šçº§åˆ—è¡¨* æ•°å­¦ * é«˜ç­‰ä»£æ•° * è§£æå‡ ä½• * ç¦»æ•£æ•°å­¦ * æ•°å­¦åˆ†æ * å®å˜å‡½æ•° æ•°å­¦ é«˜ç­‰ä»£æ•° è§£æå‡ ä½• ç¦»æ•£æ•°å­¦ æ•°å­¦åˆ†æ å®å˜å‡½æ•° è¡¨æ ¼1234| å§“å | æ€§åˆ« | æ˜¯å¦åŒæ€§æ‹ || ---- |---- | --------- ||å¼ ä¸‰|ç”·|å¦||æå››|ç”·|æ˜¯| å§“å æ€§åˆ« æ˜¯å¦åŒæ€§æ‹ å¼ ä¸‰ ç”· å¦ æå›› ç”· æ˜¯ å¯ç”¨:è®¾ç½®å¯¹é½æ–¹å¼1234| å§“å | æ€§åˆ« | æ˜¯å¦åŒæ€§æ‹ || ---- |:----: | :---------:||å¼ ä¸‰|ç”·|å¦||æå››|ç”·|æ˜¯| å§“å æ€§åˆ« æ˜¯å¦åŒæ€§æ‹ å¼ ä¸‰ ç”· å¦ æå›› ç”· æ˜¯ 1234| å§“å | æ€§åˆ« | æ˜¯å¦åŒæ€§æ‹ || ---- |----: | :---------:||å¼ ä¸‰|ç”·|å¦||æå››|ç”·|æ˜¯| å§“å æ€§åˆ« æ˜¯å¦åŒæ€§æ‹ å¼ ä¸‰ ç”· å¦ æå›› ç”· æ˜¯ æ’å…¥ä»£ç 12#è¡Œå†…ä»£ç `printf(&quot;hello world!&quot;);` printf(&quot;hello world!&quot;); ä»£ç å— 123#æ¯è¡Œå‰å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªtab php:echo &quot;Hello World&quot; VBscriptï¼šMsgbox &quot;Hello World&quot; php:echo &quot;Hello World&quot; VBscriptï¼šMsgbox &quot;Hello World&quot; æœ‰è¡Œæ ‡ä»£ç å— æ— è¡Œæ ‡ 12for i in range(4): print(i) bashæ¢æˆpythonä½¿ç”¨è¯­æ³•é«˜äº® 123#ä¸‹åˆ’çº¿ä½¿ç”¨&lt;u&gt;&lt;u&gt;bashæ¢æˆpython&lt;/u&gt;#æ¢è¡Œä½¿ç”¨&lt;br/&gt;ã€&lt;br&gt; ç¬é—´å‘ç°æ²¡ä»€ä¹ˆåŒºåˆ« æ›´æ–°äº2018&#x2F;10&#x2F;1 11:05:19ä¸Šä¸‹æ ‡,ä½¿ç”¨&lt;sup&gt;ã€&lt;sub&gt;12y=x&lt;sup&gt;2&lt;/sup&gt;H&lt;sub&gt;2&lt;/sub&gt;O&lt;sub&gt;2&lt;/sub&gt; y&#x3D;x2H2O2 åæ–œæ çš„ä½¿ç”¨ä½¿ç”¨åæ–œæ å¯ä»¥é¿å…æ–‡æœ¬ä¸­çš„ç¬¦å·è¢«å½“ä½œmarkdownæ ‡è¯†ç¬¦è€Œå‘ç”Ÿä¸å¿…è¦çš„è½¬æ¢ ä¾‹å¦‚ 1234\\!\\()\\**ä¸æ˜¯ç²—ä½“**\\# ä¸æ˜¯ä¸€çº§æ ‡é¢˜ !()*ä¸æ˜¯ç²—ä½“*# ä¸æ˜¯ä¸€çº§æ ‡é¢˜ ä½¿ç”¨ç¼©è¿›1234567ä¸æ–­è¡Œçš„ç©ºç™½æ ¼ &amp;nbsp; æˆ– &amp;#160;åŠè§’çš„ç©ºæ ¼ &amp;ensp; æˆ– &amp;#8194;å…¨è§’çš„ç©ºæ ¼ &amp;emsp; æˆ– &amp;#8195;ç¤ºä¾‹:&amp;ensp; &amp;enspä»Šå¤©å¤©æ°”å¥½å•Š&amp;emsp;&amp;emsp;æ„Ÿè§‰å€çˆ½å•Š &ensp;&ensp;ä»Šå¤©å¤©æ°”å¥½å•Š&emsp;&emsp;æ„Ÿè§‰å€çˆ½å•Š ä¸è¦å¿˜äº†è‹±æ–‡çš„åˆ†å·å‚è€ƒè‡ªzhouie","categories":[],"tags":[{"name":"markdown","slug":"markdown","permalink":"https://yeshan333.github.io/tags/markdown/"}]},{"title":"åšå®¢æ­å»ºå†ç¨‹ï¼ˆ4ï¼‰","slug":"åšå®¢æ­å»ºå†ç¨‹ï¼ˆ4ï¼‰","date":"2018-09-27T16:35:56.000Z","updated":"2018-09-27T16:35:56.000Z","comments":true,"path":"2018/09/27/åšå®¢æ­å»ºå†ç¨‹ï¼ˆ4ï¼‰/","permalink":"https://yeshan333.github.io/2018/09/27/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%884%EF%BC%89/","excerpt":"åšå®¢è¯„è®ºç³»ç»Ÿçš„é€‰æ‹© æ€€å¿µæ–‡ï¼šå½“æ—¶ä½¿ç”¨çš„ä¸»é¢˜æ˜¯ yilla å…¶ä»–è¯„è®ºç³»ç»Ÿå‚è€ƒç»è¿‡ä¸€æ³¢æŠ˜è…¾ï¼Œæœ€ç»ˆé€‰æ‹©äº†Valineæˆ‘å–œæ¬¢å®ƒçš„åŒ¿åè¯„è®ºï¼Œ23333ï¼ï¼ï¼ å‚è€ƒæ•™ç¨‹ ä½œè€…çš„åšå®¢Valineæ–‡æ¡£ https://github.com/litten/hexo-theme-yilia/pull/646 https://www.xxwhite.com/2017/Valine.html https://panjunwen.com/diy-a-comment-system/","text":"åšå®¢è¯„è®ºç³»ç»Ÿçš„é€‰æ‹© æ€€å¿µæ–‡ï¼šå½“æ—¶ä½¿ç”¨çš„ä¸»é¢˜æ˜¯ yilla å…¶ä»–è¯„è®ºç³»ç»Ÿå‚è€ƒç»è¿‡ä¸€æ³¢æŠ˜è…¾ï¼Œæœ€ç»ˆé€‰æ‹©äº†Valineæˆ‘å–œæ¬¢å®ƒçš„åŒ¿åè¯„è®ºï¼Œ23333ï¼ï¼ï¼ å‚è€ƒæ•™ç¨‹ ä½œè€…çš„åšå®¢Valineæ–‡æ¡£ https://github.com/litten/hexo-theme-yilia/pull/646 https://www.xxwhite.com/2017/Valine.html https://panjunwen.com/diy-a-comment-system/ å®‰è£…è¿‡ç¨‹ç®€è®° æ³¨å†ŒLeancloud åˆ›å»ºåº”ç”¨ è·å–appidå’Œappkey è®¾ç½®å®‰å…¨åŸŸå éƒ¨ç½²äº‘å¼•æ“ å‚è€ƒè®¾ç½®å¥½ç¯å¢ƒå˜é‡ yiliaä¸»é¢˜ä¿®æ”¹1ã€ä¿®æ”¹themes\\yilia\\_config.ymlhttps://github.com/litten/hexo-theme-yilia/pull/646 12345678910#6ã€Valine https://valine.js.orgvaline: enable: true appid: #LeanCloudçš„appId appkey: #Leancloudçš„appKey verify: false #éªŒè¯ç  notifi: false #è¯„è®ºå›å¤æé†’ avatar: &#x27; &#x27;#è¯„è®ºåˆ—è¡¨å¤´åƒæ ·å¼ placeholder: Just go go #è¯„è®ºå ä½æ¡† pageSize: 15 #è¯„è®ºåˆ†é¡µ 2ã€ä¿®æ”¹themes\\yilia\\layout\\_partial\\article.ejsæˆ‘æ˜¯åœ¨å°¾éƒ¨ä½æ·»åŠ çš„ 123456789&lt;% if (theme.valine &amp;&amp; theme.valine.appid &amp;&amp; theme.valine.appkey)&#123; %&gt; &lt;section id=&quot;comments&quot; style=&quot;margin:10px;padding:10px;background:#fff;&quot;&gt; &lt;%- partial(&#x27;post/valine&#x27;, &#123; key: post.slug, title: post.title, url: config.url+url_for(post.path) &#125;) %&gt; &lt;/section&gt; &lt;% &#125; %&gt; åœ¨themes\\yilia\\layout\\_partial\\postä¸‹æ–°å»ºä¸ªÂ·valine.ejsÂ·æ–‡ä»¶æ·»åŠ å¦‚ä¸‹ä»£ç  123456789101112131415161718&lt;div id=&quot;vcomment&quot; class=&quot;comment&quot;&gt;&lt;/div&gt;&lt;script src=&quot;//cdn1.lncld.net/static/js/3.0.4/av-min.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;//unpkg.com/valine/dist/Valine.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt; var notify = &#x27;&lt;%= theme.valine.notify %&gt;&#x27; == true ? true : false; var verify = &#x27;&lt;%= theme.valine.verify %&gt;&#x27; == true ? true : false; window.onload = function() &#123; new Valine(&#123; el: &#x27;#vcomment&#x27;, notify: notify, verify: verify, app_id: &quot;&lt;%= theme.valine.appid %&gt;&quot;, app_key: &quot;&lt;%= theme.valine.appkey %&gt;&quot;, placeholder: &quot;&lt;%= theme.valine.placeholder %&gt;&quot;, avatar:&quot;&lt;%= theme.valine.avatar %&gt;&quot; &#125;); &#125;&lt;/script&gt; æµ‹è¯•ä¸‹æ•ˆæœhexo g hexo s é¢„è§ˆ æ²¡é—®é¢˜å°±éƒ¨ç½²åˆ°githubå§ hexo d -g å®šæ—¶å™¨æ·»åŠ https://github.com/zhaojun1998/Valine-Admin/issues/1","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://yeshan333.github.io/tags/hexo/"}]},{"title":"Markdown(2)","slug":"Markdown-2","date":"2018-09-26T23:24:26.000Z","updated":"2018-09-26T23:24:26.000Z","comments":true,"path":"2018/09/26/Markdown-2/","permalink":"https://yeshan333.github.io/2018/09/26/Markdown-2/","excerpt":"å…´å¥‹äºæ­å»ºäº†æˆ‘çš„åšå®¢ï¼Œå…´å¥‹äºè®¤è¯†äº†markdownï¼Œç»ˆäºå¯ä»¥ç”©å¼€èŠ±é‡Œèƒ¡å“¨çš„wordäº†ï¼Œ233333ï¼ï¼ï¼ è®¤è¯†Markdown Markdownæ˜¯ä¸€ç§å¯ä»¥ä½¿ç”¨æ™®é€šæ–‡æœ¬ç¼–è¾‘å™¨ç¼–å†™çš„æ ‡è®°è¯­è¨€ï¼Œé€šè¿‡ç®€å•çš„æ ‡è®°è¯­æ³•ï¼Œå®ƒå¯ä»¥ä½¿æ™®é€šæ–‡æœ¬å†…å®¹å…·æœ‰ä¸€å®šçš„æ ¼å¼ã€‚ Markdownå…·æœ‰ä¸€ç³»åˆ—è¡ç”Ÿç‰ˆæœ¬ï¼Œç”¨äºæ‰©å±•Markdownçš„åŠŸèƒ½ï¼ˆå¦‚è¡¨æ ¼ã€è„šæ³¨ã€å†…åµŒHTMLç­‰ç­‰ï¼‰ï¼Œè¿™äº›åŠŸèƒ½åŸåˆçš„Markdownå°šä¸å…·å¤‡ï¼Œå®ƒä»¬èƒ½è®©Markdownè½¬æ¢æˆæ›´å¤šçš„æ ¼å¼ï¼Œä¾‹LaTeXï¼ŒDocbookã€‚ Markdownå¢å¼ºç‰ˆä¸­æ¯”è¾ƒæœ‰åçš„æœ‰Markdown Extraã€MultiMarkdownã€ Marukuç­‰ã€‚è¿™äº›è¡ç”Ÿç‰ˆæœ¬è¦ä¹ˆåŸºäºå·¥å…·ï¼Œå¦‚Pandocï¼›è¦ä¹ˆåŸºäºç½‘ç«™ï¼Œå¦‚GitHubå’ŒWikipediaï¼Œåœ¨è¯­æ³•ä¸ŠåŸºæœ¬å…¼å®¹ï¼Œä½†åœ¨ä¸€äº›è¯­æ³•å’Œæ¸²æŸ“æ•ˆæœä¸Šæœ‰æ”¹åŠ¨ã€‚ â€“å¼•è‡ªç™¾åº¦ç™¾ç§‘","text":"å…´å¥‹äºæ­å»ºäº†æˆ‘çš„åšå®¢ï¼Œå…´å¥‹äºè®¤è¯†äº†markdownï¼Œç»ˆäºå¯ä»¥ç”©å¼€èŠ±é‡Œèƒ¡å“¨çš„wordäº†ï¼Œ233333ï¼ï¼ï¼ è®¤è¯†Markdown Markdownæ˜¯ä¸€ç§å¯ä»¥ä½¿ç”¨æ™®é€šæ–‡æœ¬ç¼–è¾‘å™¨ç¼–å†™çš„æ ‡è®°è¯­è¨€ï¼Œé€šè¿‡ç®€å•çš„æ ‡è®°è¯­æ³•ï¼Œå®ƒå¯ä»¥ä½¿æ™®é€šæ–‡æœ¬å†…å®¹å…·æœ‰ä¸€å®šçš„æ ¼å¼ã€‚ Markdownå…·æœ‰ä¸€ç³»åˆ—è¡ç”Ÿç‰ˆæœ¬ï¼Œç”¨äºæ‰©å±•Markdownçš„åŠŸèƒ½ï¼ˆå¦‚è¡¨æ ¼ã€è„šæ³¨ã€å†…åµŒHTMLç­‰ç­‰ï¼‰ï¼Œè¿™äº›åŠŸèƒ½åŸåˆçš„Markdownå°šä¸å…·å¤‡ï¼Œå®ƒä»¬èƒ½è®©Markdownè½¬æ¢æˆæ›´å¤šçš„æ ¼å¼ï¼Œä¾‹LaTeXï¼ŒDocbookã€‚ Markdownå¢å¼ºç‰ˆä¸­æ¯”è¾ƒæœ‰åçš„æœ‰Markdown Extraã€MultiMarkdownã€ Marukuç­‰ã€‚è¿™äº›è¡ç”Ÿç‰ˆæœ¬è¦ä¹ˆåŸºäºå·¥å…·ï¼Œå¦‚Pandocï¼›è¦ä¹ˆåŸºäºç½‘ç«™ï¼Œå¦‚GitHubå’ŒWikipediaï¼Œåœ¨è¯­æ³•ä¸ŠåŸºæœ¬å…¼å®¹ï¼Œä½†åœ¨ä¸€äº›è¯­æ³•å’Œæ¸²æŸ“æ•ˆæœä¸Šæœ‰æ”¹åŠ¨ã€‚ â€“å¼•è‡ªç™¾åº¦ç™¾ç§‘ Windowså¸¸ç”¨Markdownç¼–è¾‘å™¨ VSCode ä¸‹è½½ Atom ä¸‹è½½ CuteMarkEd ä¸‹è½½ MarkdownPad2 ä¸‹è½½ MarkPad ä¸‹è½½ Miu ä¸‹è½½ Typora ä¸‹è½½ RStudio ä¸‹è½½ Markdownè¯­æ³•è¯´æ˜-ä¸­æ–‡ç‰ˆä¸ºä»€ä¹ˆä½¿ç”¨Markdown å®ƒä½¿æˆ‘æ›´åŠ ä¸“æ³¨äºæ–‡å­—å†…å®¹è€Œä¸æ˜¯æ’ç‰ˆæ ·å¼ We believe that writing is about content, about what you want to say â€“ not about fancy formatting. â€“Ulysses for Mac[é«˜çº§åº”ç”¨](https://blog.mariusschulz.com/2014/12/16/how-to-set-up-sublime-text-for-a-vastly-better-markdown-writing-experience) Sublime Text3+Markdown Editing [å‚è€ƒ](https://blog.csdn.net/u012195214/article/details/70544181)","categories":[{"name":"markdown","slug":"markdown","permalink":"https://yeshan333.github.io/categories/markdown/"}],"tags":[{"name":"markdown","slug":"markdown","permalink":"https://yeshan333.github.io/tags/markdown/"}]},{"title":"åšå®¢æ­å»ºå†ç¨‹ï¼ˆ3ï¼‰","slug":"åšå®¢æ­å»ºå†ç¨‹ï¼ˆ3ï¼‰","date":"2018-09-26T20:11:17.000Z","updated":"2018-09-26T20:11:17.000Z","comments":true,"path":"2018/09/26/åšå®¢æ­å»ºå†ç¨‹ï¼ˆ3ï¼‰/","permalink":"https://yeshan333.github.io/2018/09/26/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%883%EF%BC%89/","excerpt":"hexoç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ä»‹ç» hexoæ’ä»¶ ä¸»é¢˜yilia é»˜è®¤ç›®å½•ç»“æ„å…·ä½“å‚è€ƒ","text":"hexoç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ä»‹ç» hexoæ’ä»¶ ä¸»é¢˜yilia é»˜è®¤ç›®å½•ç»“æ„å…·ä½“å‚è€ƒ |--.deploy |--public |--scaffolds |--source |--themes |--_config.yml |--package.json .deploy ï¼šéƒ¨ç½²åˆ°GitHubä¸Šçš„å†…å®¹ç›®å½• publicï¼šè¾“å‡ºçš„é™æ€ç½‘é¡µå†…å®¹ç›®å½• scaffoldsï¼šlayoutæ¨¡æ¿æ–‡ä»¶ç›®å½• sourceï¼šæ–‡ä»¶æºç ç›®å½• themesï¼šä¸»é¢˜æ–‡ä»¶ç›®å½• â€”config.ymlï¼šå…¨å±€é…ç½®æ–‡ä»¶ package.jsonï¼šé¡¹ç›®ä¾èµ–å£°æ˜æ–‡ä»¶ ç»™ä¸»é¢˜yiliaé…ç½®å¹²è´§ä¸€ã€è…¾è®¯å…¬ç›Š404å…¬ç›Š404 hexo new page 404 #æ–°å»ºä¸€ä¸ªé¡µé¢ 1234567891011#åœ¨ç”Ÿæˆçš„index.mdæ–‡ä»¶ä¸‹æ·»åŠ ä»¥ä¸‹ä»£ç &lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;]\\&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;title&gt;404&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 1hexo d -g#ç›´æ¥éƒ¨ç½²åˆ°GitHub å‚è€ƒ äºŒã€åˆ¶ä½œä¸ªç½‘ç«™icoæˆ³è¿™é‡Œ ä¹Ÿå¯ä»¥ä¸å¼„ï¼Œç›´æ¥ç”¨ æŠŠä½ çš„ç½‘ç«™icoæ”¾åœ¨public\\imgå³å¯ä¿®æ”¹theme\\_config.yml ä¸‰ã€ä½¿ç”¨ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡(ä½¿ç”¨å‹ç›Ÿ)æ•ˆæœå¦‚ä¸‹ æ³¨å†Œè´¦å·å‹ç›Ÿå®˜ç½‘ è·å–ä»£ç  åœ¨hemes\\yilia\\layout\\_partial\\footer.ejsæŒ‘ä¸ªä½ç½®æ”¾ 12hexo ghexo s çœ‹ä¸‹æ•ˆæœ hexo d #éƒ¨ç½²åˆ° github è‹¥ä¸æƒ³ç”¨CNZZå‚è€ƒ","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://yeshan333.github.io/tags/hexo/"}]},{"title":"baiduæ”¶å½•æµ‹è¯•","slug":"xuxu","date":"2018-09-26T17:13:00.000Z","updated":"2018-09-26T17:13:00.000Z","comments":true,"path":"2018/09/26/xuxu/","permalink":"https://yeshan333.github.io/2018/09/26/xuxu/","excerpt":"baiduæ”¶å½•æµ‹è¯•hexo æ’ä»¶ï¼šhexo-baidu-url-submit","text":"baiduæ”¶å½•æµ‹è¯•hexo æ’ä»¶ï¼šhexo-baidu-url-submit","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]},{"title":"åšå®¢æ­å»ºå†ç¨‹ï¼ˆ2ï¼‰","slug":"åšå®¢æ­å»ºå†ç¨‹ï¼ˆ2ï¼‰","date":"2018-09-25T23:31:27.000Z","updated":"2018-09-25T23:31:27.000Z","comments":true,"path":"2018/09/25/åšå®¢æ­å»ºå†ç¨‹ï¼ˆ2ï¼‰/","permalink":"https://yeshan333.github.io/2018/09/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%882%EF%BC%89/","excerpt":"æœ¬æ–‡å¤§å¤šæ•°å›¾ç‰‡é“¾æ¥å¤±æ•ˆï¼Œå»ºè®®é˜…è¯»ï¼šhttps://cloud.tencent.com/developer/article/1656959 ä¸€ã€ä½¿ç”¨hexo deployéƒ¨ç½²åšå®¢åˆ°Github ä½¿ç”¨å‚è€ƒ ** å…ˆå®‰è£…ä¸ªæ‰©å±•$ npm install hexo-deployer-git --save ** 1.ä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹çš„_config_ymlæ–‡ä»¶ 123456# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repo: git@github.com:yeshan333/yeshan333.github.io.git # è¿™ä¸ªå¯åˆ°Githubä»“åº“æ‹¿ branch: master","text":"æœ¬æ–‡å¤§å¤šæ•°å›¾ç‰‡é“¾æ¥å¤±æ•ˆï¼Œå»ºè®®é˜…è¯»ï¼šhttps://cloud.tencent.com/developer/article/1656959 ä¸€ã€ä½¿ç”¨hexo deployéƒ¨ç½²åšå®¢åˆ°Github ä½¿ç”¨å‚è€ƒ ** å…ˆå®‰è£…ä¸ªæ‰©å±•$ npm install hexo-deployer-git --save ** 1.ä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹çš„_config_ymlæ–‡ä»¶ 123456# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repo: git@github.com:yeshan333/yeshan333.github.io.git # è¿™ä¸ªå¯åˆ°Githubä»“åº“æ‹¿ branch: master 2.éƒ¨ç½²åˆ°GitHub repoç”Ÿæˆssh keys1ssh-keygen -t rsa -C &quot;é‚®ä»¶åœ°å€@youremail.com&quot; #ç”Ÿæˆæ–°çš„keyæ–‡ä»¶ï¼Œé‚®ç®±åœ°å€å¡«æ³¨å†ŒGithubæ—¶ç”¨çš„ å°†ç”Ÿæˆçš„ssh keysæ·»åŠ åˆ°Githubçš„deploy keysä¸­ å¤åˆ¶key ** è¿™é‡Œç”¨åˆ°.sshç›®å½•ä¸‹ï¼Œid_rsa.pubæ–‡ä»¶ä¸­çš„é‚£ä¸²key** åˆ°GitHubçš„yourname.hithub.ioä»“åº“æ·»åŠ é‚£ä¸²keyåˆ°deploy keysä¸­ æµ‹è¯•ä¸€ä¸‹æ˜¯å¦æ·»åŠ æˆåŠŸäº†: 1ssh -T git@github.com éƒ¨ç½²åšå®¢ å…ˆé…å¥½gitç”¨æˆ·ä¿¡æ¯ 12git config --global user.name &quot;ä½ çš„åå­—&quot; # githubç”¨æˆ·ågit config --global user.email &quot;é‚®ç®±@é‚®ç®±.com&quot; # githubé‚®ç®± éƒ¨ç½²åšå®¢åˆ°ä»“åº“ 12hexo g # ç”Ÿæˆé™æ€æ–‡ä»¶hexo d # éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“ è®¿é—®https://yourname.github.ioæŸ¥çœ‹ç»“æœ ** åˆ°æ­¤ï¼Œæ•´ä¸ªåšå®¢æ­å»ºå®Œæˆäº† ** ä»¥ä¸‹æ˜¯å†™çš„æ˜¯åšå®¢ä¸»é¢˜çš„æ›´æ¢ï¼Œä¸»é¢˜å¯ä»¥è‡ªå·±å†™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«äººå†™çš„ï¼Œå¯å»è¿™é‡Œhttps://hexo.io/themes/æ‰¾å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯åˆ«äººçš„ä¸»é¢˜ï¼Œéœ€è¦é˜…è¯»ä¸»é¢˜ä½¿ç”¨æ–‡æ¡£è¿›è¡Œç›¸å…³é…ç½®ã€‚ äºŒã€Hexoä¸»é¢˜è®¾ç½® æ›´æ¢ä¸»é¢˜ cdè¿›themesç›®å½• 12cd themesgit clone https://github.com/litten/hexo-theme-yilia.git themes/yilia å¯¹æ ¹ç›®å½•ä¸‹çš„config_ymlæ–‡ä»¶è¿›è¡Œä¿®æ”¹ 12cd themes/yiliagit pull #æ›´æ–°ä¸»é¢˜ é¢„è§ˆæ–°ä¸»é¢˜ 123hexo clean # æ¸…æ¥šç¼“å­˜ï¼Œåˆ é™¤publicç›®å½•hexo g # ç”Ÿæˆæ–°çš„åšå®¢é™æ€æ–‡ä»¶hexo s å»http://localhost:4000é¢„è§ˆï¼Œæ²¡æ¯›ç—…å°±hexo déƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“ã€‚","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://yeshan333.github.io/tags/hexo/"}]},{"title":"åšå®¢æ­å»ºå†ç¨‹ï¼ˆ1ï¼‰","slug":"åšå®¢æ­å»ºå†ç¨‹ï¼ˆ1ï¼‰","date":"2018-09-25T22:40:31.000Z","updated":"2018-09-25T22:40:31.000Z","comments":true,"path":"2018/09/25/åšå®¢æ­å»ºå†ç¨‹ï¼ˆ1ï¼‰/","permalink":"https://yeshan333.github.io/2018/09/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B%EF%BC%881%EF%BC%89/","excerpt":"æœ¬æ–‡å¤§å¤šæ•°å›¾ç‰‡é“¾æ¥å¤±æ•ˆï¼Œå»ºè®®é˜…è¯»ï¼šhttps://cloud.tencent.com/developer/article/1656961 æˆ‘ä¸ºä»€ä¹ˆè¦æ­å»ºè‡ªå·±çš„åšå®¢:äººå˜›!æ€»ä¼šæœ‰è¿·èŒ«çš„æ—¶å€™ã€‚æ— èŠäº†å°±æ­å»ºä¸€ä¸ªåšå®¢ç©ç©ã€‚å€Ÿæ­¤æ€è€ƒä¸‹äººç”Ÿæˆ³è¿™é‡Œå…ˆæ´—ä¸‹è„‘ [BetterExplained]ä¸ºä»€ä¹ˆä½ åº”è¯¥ï¼ˆä»ç°åœ¨å¼€å§‹å°±ï¼‰å†™åšå®¢ ä½¿ç”¨Hexo+GitHub Pagesæ­å»ºå±äºè‡ªå·±çš„åšå®¢ä¾èµ– å®‰è£…Node.js å®‰è£…git ä¸€ä¸ªGitHubè´¦å· hexoå…¨å®¶æ¡¶","text":"æœ¬æ–‡å¤§å¤šæ•°å›¾ç‰‡é“¾æ¥å¤±æ•ˆï¼Œå»ºè®®é˜…è¯»ï¼šhttps://cloud.tencent.com/developer/article/1656961 æˆ‘ä¸ºä»€ä¹ˆè¦æ­å»ºè‡ªå·±çš„åšå®¢:äººå˜›!æ€»ä¼šæœ‰è¿·èŒ«çš„æ—¶å€™ã€‚æ— èŠäº†å°±æ­å»ºä¸€ä¸ªåšå®¢ç©ç©ã€‚å€Ÿæ­¤æ€è€ƒä¸‹äººç”Ÿæˆ³è¿™é‡Œå…ˆæ´—ä¸‹è„‘ [BetterExplained]ä¸ºä»€ä¹ˆä½ åº”è¯¥ï¼ˆä»ç°åœ¨å¼€å§‹å°±ï¼‰å†™åšå®¢ ä½¿ç”¨Hexo+GitHub Pagesæ­å»ºå±äºè‡ªå·±çš„åšå®¢ä¾èµ– å®‰è£…Node.js å®‰è£…git ä¸€ä¸ªGitHubè´¦å· hexoå…¨å®¶æ¡¶ ä¸€ã€Node.jså®‰è£…å‚è€ƒNode.jså®˜ç½‘ nodejsç‰ˆæœ¬è¶Šé«˜è¶Šå¥½ï¼Œä¸ç„¶åé¢å®‰è£…hexoæ—¶ä¼šå‡ºç°é—®é¢˜ï¼ŒHexoå®˜ç½‘ç»™çš„å»ºè®®æ˜¯6.9ç‰ˆæœ¬ä»¥ä¸Š å®˜ç½‘windows 64bit ä¸‹è½½(v10.16.0) äºŒã€gitçš„å®‰è£…å‚è€ƒå®‰è£…éœ€æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µï¼Œåœ¨cmdä½¿ç”¨git --versionæŒ‡ä»¤å¯ä»¥æŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬ windows 64 bit ä¸‹è½½ï¼ˆv2.19.0ï¼‰ ä¸‰ã€ä½¿ç”¨Github Pages æ³¨å†ŒGithubè´¦å· åˆ›å»ºä¸€ä¸ªrepositoryï¼Œç”¨äºå­˜æ”¾åšå®¢ç«™ç‚¹æ–‡ä»¶ å¼€å¯Github Page 1ã€åˆ›å»ºä¸€ä¸ªrepository ä»“åº“å‘½åæ–¹å¼é¡»æ³¨æ„ä¸‹ï¼Œè¿™æ ·å‘½åä¼šå¼€å¯githubpageæœåŠ¡ï¼Œä»£ç ä»“åº“å‘½åæ–¹å¼éšæ„ï¼Œå¦‚æœä»¥ç”¨æˆ·å+github.ioçš„å½¢å¼å‘½åï¼Œä¼šè‡ªåŠ¨å¼€å¯Github PagesæœåŠ¡ï¼Œå¦åˆ™éœ€è¦è‡ªå·±åœ¨ä»“åº“çš„è®¾ç½®é‚£é‡Œæ‰‹åŠ¨å¼€å¯GIthub PagesæœåŠ¡ã€‚ Github Pages æ˜¯ github å…¬å¸æä¾›çš„å…è´¹çš„é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼Œç”¨èµ·æ¥æ–¹ä¾¿è€Œä¸”åŠŸèƒ½å¼ºå¤§ï¼Œä¸ä»…æ²¡æœ‰ç©ºé—´é™åˆ¶(ä¸ºå…è´¹ç”¨æˆ·æä¾›äº†500Mç©ºé—´)ï¼Œè¿˜å¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸåï¼Œ1GBç©ºé—´é™åˆ¶ï¼ˆä¸ªäººåšå®¢å¤Ÿç”¨äº†ï¼‰ï¼Œæ¯æœˆå¸¦å®½é™åˆ¶100GBï¼Œè‡ªç”±ç»‘å®šè‡ªå·±çš„åŸŸåã€‚ 2ã€å¼€å¯GitHub PagesGitHub Pageså®˜æ–¹ä»‹ç»ï¼ŒGithubçš„ä¸­æ–‡å®˜æ–¹æ–‡æ¡£å·²æ¨å‡ºhttps://help.github.com/cn/articles/what-is-github-pages(2019å¹´7æœˆ11æ—¥æ›´æ–°) ç‚¹å‡»choose a themeé€‰å®Œä¸»é¢˜åå³å¯åˆ°https://yourname.github.io/è®¿é—®è‡ªå·±çš„ä¸ªäººä¸»é¡µäº†ï¼Œyournameè®°å¾—æ›¿æ¢æˆä½ çš„ç”¨æˆ·åã€‚ æ¥ä¸‹æ¥éœ€è¦ä½¿ç”¨Hexoåœ¨æœ¬åœ°åˆ›å»ºå¥½åšå®¢ï¼Œå†å°†åšå®¢æ–‡ä»¶ä¸Šä¼ åˆ°åˆšåˆšåˆ›å»ºçš„ä»“åº“ã€‚ å››ã€Hexoé…ç½® Hexoæ˜¯ä¸€ä¸ªé™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œå¦‚æœæƒ³æ·±å…¥äº†è§£Hexoå¯ä»¥å»Hexoçš„å®˜ç½‘çœ‹çœ‹ã€‚https://hexo.io/zh-cn/docs/ åœ¨æœ¬åœ°æ­å»ºåšå®¢1.å®‰è£…hexoæ’ä»¶å¥—è£…ä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ç›´æ¥æ‰“å¼€windows cmdæ‰§è¡Œå³å¯ï¼Œç”¨git bashæ‰§è¡Œä¹Ÿè¡Œ 12# å®‰è£…hexoå‘½ä»¤è¡Œå·¥å…·npm install hexo-cli -g ~~å®‰è£…hexoåŒ…åˆ°å…¨å±€node_modulesä¸­ï¼Œä¿®æ”¹package.jsonæ–‡ä»¶ï¼Œå°†æ¨¡å—åå’Œç‰ˆæœ¬å·æ·»åŠ åˆ°dependencieséƒ¨åˆ†npm install hexo â€“save~~~ 2.åˆå§‹åŒ–hexo è¿™é‡Œéœ€è¦æ–°å»ºä¸ªç›®å½•ç”¨äºå­˜æ”¾æœ¬åœ°çš„åšå®¢æ–‡ä»¶ å¾€åçš„å‘½ä»¤å‡éœ€è¦åœ¨æ­¤ç›®å½•ä¸‹æ‰§è¡Œï¼Œå¯ç”¨cdå‘½ä»¤è¿›å…¥ç›®å½•ä¸­æ‰§è¡Œå¾€åçš„å‘½ä»¤ 1hexo init # åˆå§‹åŒ–ç›®å½•ï¼Œç”Ÿæˆç›¸å…³æ–‡ä»¶ ç›®å½•ä¸­ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹ 123456789101112.â”œâ”€â”€ node_modules # å­˜æ”¾åšå®¢ä¾èµ–çš„npm packagesâ”œâ”€â”€ scaffolds # å­˜æ”¾ç”Ÿæˆåšå®¢æ–‡ç« ã€åšå®¢é¡µé¢ã€è‰ç¨¿çš„æ¨¡æ¿ç›®å½•â”œ â”œâ”€â”€ draft.mdâ”œ â”œâ”€â”€ page.mdâ”œ â””â”€â”€ post.mdâ”œâ”€â”€ sourceâ”œ â””â”€â”€ posts # ç”¨äºå­˜æ”¾åšå®¢æ–‡ç« â”œâ”€â”€ _config.yml # åšå®¢å…¨å±€é…ç½®æ–‡ä»¶â”œâ”€â”€ .gitignoreâ”œâ”€â”€ package.json # è®°å½•å½“å‰ç›®å½•ä¸‹å®é™…å®‰è£…çš„å„ä¸ªnpm packageçš„å…·ä½“æ¥æºå’Œç‰ˆæœ¬å·â””â”€â”€ package-lock.json # å­˜æ”¾é”å®šå®‰è£…æ—¶çš„åŒ…çš„ç‰ˆæœ¬å·ï¼Œæ­¤æ–‡ä»¶ä¸€èˆ¬ä¼šä¸Šä¼ åˆ°git 12hexo g # ç”Ÿæˆé™æ€é¡µé¢hexo s # éƒ¨ç½²åˆ°æœ¬åœ°æœåŠ¡å™¨http://localhost:4000/ é¢„è§ˆæ•ˆæœhttp://localhost:4000/ åˆ°è¿™é‡Œæœ¬åœ°çš„åšå®¢æ­å»ºå®Œäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å°†åšå®¢ä¸Šä¼ åˆ°åˆšåˆšåˆ›å»ºçš„Githubä»“åº“ï¼Œä¸Šä¼ åå°±å¯ä»¥ä½¿ç”¨å¤–ç½‘è®¿é—®äº† åšå®¢æ­å»ºå†ç¨‹ï¼ˆ2ï¼‰ åšå®¢æ­å»ºå‚è€ƒæ•™ç¨‹æ¨è csdn w3cschool åšå®¢å›­ æ€å¦","categories":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://yeshan333.github.io/tags/hexo/"}]},{"title":"Markdown","slug":"Markdown","date":"2018-09-25T18:34:13.000Z","updated":"2018-09-25T18:34:13.000Z","comments":true,"path":"2018/09/25/Markdown/","permalink":"https://yeshan333.github.io/2018/09/25/Markdown/","excerpt":"ä½“éªŒmarkdownæœ‰ç‚¹æ„æ€ï¼Œå“ˆï¼ åŒçº§æ–‡ä»¶å¤¹ï¼Œçš„imgæ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡ æ·»åŠ é“¾æ¥æˆ‘çš„åšå®¢ æ·»åŠ å›¾ç‰‡","text":"ä½“éªŒmarkdownæœ‰ç‚¹æ„æ€ï¼Œå“ˆï¼ åŒçº§æ–‡ä»¶å¤¹ï¼Œçš„imgæ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡ æ·»åŠ é“¾æ¥æˆ‘çš„åšå®¢ æ·»åŠ å›¾ç‰‡ ä¸€çº§å¼•ç”¨ è¦åˆ¤æ–­ä¸€ä¸ªäººæ˜¯å¦çœŸæ­£èªæ˜ï¼Œé‚£å°±è¦çœ‹ä»–èƒ½å¦æ ¹æœ¬ä¸ç”¨åŠ¨æ‰‹ï¼Œè€Œå·¥ä½œå´åˆèƒ½å®Œæˆã€‚ äºŒçº§å¼•ç”¨ åœ¨C++é‡Œ, æƒ³æ¬èµ·çŸ³å¤´ç ¸è‡ªå·±çš„è„šæ›´ä¸ºå›°éš¾äº†ã€‚ ä¸è¿‡ä¸€æ—¦ä½ çœŸè¿™ä¹ˆåšäº†, æ•´æ¡è…¿éƒ½å¾—æŠ¥é”€! åˆ—è¡¨çš„ä½¿ç”¨ä¸€çº§åˆ—è¡¨ python Java c++ å¤šçº§åˆ—è¡¨ æ•°å­¦åˆ†æ é«˜ç­‰ä»£æ•° è§£æå‡ ä½• æ’å…¥ä»£ç è¡Œå†…ä»£ç printf(&quot; hello world &quot;); å—ä»£ç ,æ¯è¡Œä»£ç å‰å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªtabWocao Nimei Fenced Code Block123for i in range(4): print(i) åˆ’é‡ç‚¹äººç”Ÿè‹¦çŸ­ ä¸‹åˆ’çº¿å¹²çš„æ¼‚äº® åˆ é™¤çº¿è¿™éƒ½ä»€ä¹ˆé¬¼ è¿™é‡Œæ˜¯æ–œä½“è¿™é‡Œæ˜¯ç²—ä½“è¿™é‡Œæ˜¯ç²—æ–œä½“ åˆ©ç”¨htmlæ ‡ç­¾æ¢è¡Œæœ‰ç‚¹æ„æ€ è¿™é‡Œæ˜¯è¡¨æ ¼ æµè§ˆå™¨ å¥½ å google 1 0 firefox 1 0 ä½¿ç”¨fontæ ‡ç­¾æ§åˆ¶å­—ä½“é¢œè‰²çº¢è‰²&lt;br&gt;è‡ªå®šä¹‰å­—ä½“æ ·å¼ã€é¢œè‰²ã€å¤§å°","categories":[{"name":"markdown","slug":"markdown","permalink":"https://yeshan333.github.io/categories/markdown/"}],"tags":[{"name":"markdown","slug":"markdown","permalink":"https://yeshan333.github.io/tags/markdown/"}]},{"title":"hello my first blog in here ï¼","slug":"hello-my-first-blog-in-here-ï¼","date":"2018-09-19T23:14:15.000Z","updated":"2018-09-19T23:14:15.000Z","comments":true,"path":"2018/09/19/hello-my-first-blog-in-here-ï¼/","permalink":"https://yeshan333.github.io/2018/09/19/hello-my-first-blog-in-here-%EF%BC%81/","excerpt":"","text":"æ–°çš„å¼€å§‹ï¼Œæ–°çš„è·¯çº¿","categories":[],"tags":[{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"}]}],"categories":[{"name":"vfox","slug":"vfox","permalink":"https://yeshan333.github.io/categories/vfox/"},{"name":"å¤§æ¨¡å‹","slug":"å¤§æ¨¡å‹","permalink":"https://yeshan333.github.io/categories/%E5%A4%A7%E6%A8%A1%E5%9E%8B/"},{"name":"LLMs","slug":"LLMs","permalink":"https://yeshan333.github.io/categories/LLMs/"},{"name":"Sider","slug":"Sider","permalink":"https://yeshan333.github.io/categories/Sider/"},{"name":"Jenkins","slug":"Jenkins","permalink":"https://yeshan333.github.io/categories/Jenkins/"},{"name":"Chaos","slug":"Chaos","permalink":"https://yeshan333.github.io/categories/Chaos/"},{"name":"dotfiles","slug":"dotfiles","permalink":"https://yeshan333.github.io/categories/dotfiles/"},{"name":"æµè§ˆå™¨æ’ä»¶å¼€å‘","slug":"æµè§ˆå™¨æ’ä»¶å¼€å‘","permalink":"https://yeshan333.github.io/categories/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/"},{"name":"è®¾è®¡å·¥å…·","slug":"è®¾è®¡å·¥å…·","permalink":"https://yeshan333.github.io/categories/%E8%AE%BE%E8%AE%A1%E5%B7%A5%E5%85%B7/"},{"name":"Tech-Weekly","slug":"Tech-Weekly","permalink":"https://yeshan333.github.io/categories/Tech-Weekly/"},{"name":"go-ycsb","slug":"go-ycsb","permalink":"https://yeshan333.github.io/categories/go-ycsb/"},{"name":"Github Codespaces","slug":"Github-Codespaces","permalink":"https://yeshan333.github.io/categories/Github-Codespaces/"},{"name":"music","slug":"music","permalink":"https://yeshan333.github.io/categories/music/"},{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/categories/Elixir/"},{"name":"SSE","slug":"SSE","permalink":"https://yeshan333.github.io/categories/SSE/"},{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/categories/blog/"},{"name":"Prometheus","slug":"Prometheus","permalink":"https://yeshan333.github.io/categories/Prometheus/"},{"name":"Go","slug":"Go","permalink":"https://yeshan333.github.io/categories/Go/"},{"name":"Performance","slug":"Performance","permalink":"https://yeshan333.github.io/categories/Performance/"},{"name":"Profiling","slug":"Performance/Profiling","permalink":"https://yeshan333.github.io/categories/Performance/Profiling/"},{"name":"Compile","slug":"Compile","permalink":"https://yeshan333.github.io/categories/Compile/"},{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/categories/Git/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://yeshan333.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"Kubernetes","slug":"Kubernetes","permalink":"https://yeshan333.github.io/categories/Kubernetes/"},{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/categories/Linux/"},{"name":"æ€§èƒ½ä¼˜åŒ–","slug":"Linux/æ€§èƒ½ä¼˜åŒ–","permalink":"https://yeshan333.github.io/categories/Linux/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"},{"name":"Monitoring","slug":"Monitoring","permalink":"https://yeshan333.github.io/categories/Monitoring/"},{"name":"Cryptography","slug":"Cryptography","permalink":"https://yeshan333.github.io/categories/Cryptography/"},{"name":"RSS","slug":"RSS","permalink":"https://yeshan333.github.io/categories/RSS/"},{"name":"math","slug":"math","permalink":"https://yeshan333.github.io/categories/math/"},{"name":"Architecture","slug":"Architecture","permalink":"https://yeshan333.github.io/categories/Architecture/"},{"name":"WSL","slug":"WSL","permalink":"https://yeshan333.github.io/categories/WSL/"},{"name":"DevOps","slug":"DevOps","permalink":"https://yeshan333.github.io/categories/DevOps/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"https://yeshan333.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Kafka","slug":"ä¸­é—´ä»¶/Kafka","permalink":"https://yeshan333.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/Kafka/"},{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/categories/Python/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://yeshan333.github.io/categories/JavaScript/"},{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"https://yeshan333.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"è¿›/çº¿ç¨‹","slug":"æ“ä½œç³»ç»Ÿ/è¿›-çº¿ç¨‹","permalink":"https://yeshan333.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B-%E7%BA%BF%E7%A8%8B/"},{"name":"React","slug":"React","permalink":"https://yeshan333.github.io/categories/React/"},{"name":"docker","slug":"docker","permalink":"https://yeshan333.github.io/categories/docker/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://yeshan333.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/categories/%E9%9A%8F%E7%AC%94/"},{"name":"memory","slug":"memory","permalink":"https://yeshan333.github.io/categories/memory/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://yeshan333.github.io/categories/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"},{"name":"Flask","slug":"Flask","permalink":"https://yeshan333.github.io/categories/Flask/"},{"name":"HTML","slug":"HTML","permalink":"https://yeshan333.github.io/categories/HTML/"},{"name":"CSS","slug":"CSS","permalink":"https://yeshan333.github.io/categories/CSS/"},{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/categories/CPP/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://yeshan333.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"Memory","slug":"Memory","permalink":"https://yeshan333.github.io/categories/Memory/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://yeshan333.github.io/categories/Algorithm/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://yeshan333.github.io/categories/Scrapy/"},{"name":"C","slug":"C","permalink":"https://yeshan333.github.io/categories/C/"},{"name":"markdown","slug":"markdown","permalink":"https://yeshan333.github.io/categories/markdown/"}],"tags":[{"name":"Elixir","slug":"Elixir","permalink":"https://yeshan333.github.io/tags/Elixir/"},{"name":"Erlang","slug":"Erlang","permalink":"https://yeshan333.github.io/tags/Erlang/"},{"name":"vfox","slug":"vfox","permalink":"https://yeshan333.github.io/tags/vfox/"},{"name":"Windows","slug":"Windows","permalink":"https://yeshan333.github.io/tags/Windows/"},{"name":"Sider","slug":"Sider","permalink":"https://yeshan333.github.io/tags/Sider/"},{"name":"é€šä¹‰åƒé—®","slug":"é€šä¹‰åƒé—®","permalink":"https://yeshan333.github.io/tags/%E9%80%9A%E4%B9%89%E5%8D%83%E9%97%AE/"},{"name":"Jenkins","slug":"Jenkins","permalink":"https://yeshan333.github.io/tags/Jenkins/"},{"name":"Cloudflare","slug":"Cloudflare","permalink":"https://yeshan333.github.io/tags/Cloudflare/"},{"name":"Workers AI","slug":"Workers-AI","permalink":"https://yeshan333.github.io/tags/Workers-AI/"},{"name":"Langchain","slug":"Langchain","permalink":"https://yeshan333.github.io/tags/Langchain/"},{"name":"LLMs","slug":"LLMs","permalink":"https://yeshan333.github.io/tags/LLMs/"},{"name":"Chaos Testing","slug":"Chaos-Testing","permalink":"https://yeshan333.github.io/tags/Chaos-Testing/"},{"name":"etcd","slug":"etcd","permalink":"https://yeshan333.github.io/tags/etcd/"},{"name":"MongoDB","slug":"MongoDB","permalink":"https://yeshan333.github.io/tags/MongoDB/"},{"name":"Erlang/OTP","slug":"Erlang-OTP","permalink":"https://yeshan333.github.io/tags/Erlang-OTP/"},{"name":"vfox-plugin","slug":"vfox-plugin","permalink":"https://yeshan333.github.io/tags/vfox-plugin/"},{"name":"vfox-erlang","slug":"vfox-erlang","permalink":"https://yeshan333.github.io/tags/vfox-erlang/"},{"name":"chezmoi","slug":"chezmoi","permalink":"https://yeshan333.github.io/tags/chezmoi/"},{"name":"dotfiles","slug":"dotfiles","permalink":"https://yeshan333.github.io/tags/dotfiles/"},{"name":"extension","slug":"extension","permalink":"https://yeshan333.github.io/tags/extension/"},{"name":"WXT","slug":"WXT","permalink":"https://yeshan333.github.io/tags/WXT/"},{"name":"è®¾è®¡å·¥å…·","slug":"è®¾è®¡å·¥å…·","permalink":"https://yeshan333.github.io/tags/%E8%AE%BE%E8%AE%A1%E5%B7%A5%E5%85%B7/"},{"name":"Tech-Weekly","slug":"Tech-Weekly","permalink":"https://yeshan333.github.io/tags/Tech-Weekly/"},{"name":"Go","slug":"Go","permalink":"https://yeshan333.github.io/tags/Go/"},{"name":"YCSB","slug":"YCSB","permalink":"https://yeshan333.github.io/tags/YCSB/"},{"name":"go-ycsb","slug":"go-ycsb","permalink":"https://yeshan333.github.io/tags/go-ycsb/"},{"name":"benchmark","slug":"benchmark","permalink":"https://yeshan333.github.io/tags/benchmark/"},{"name":"Elixir, Github Codespaces","slug":"Elixir-Github-Codespaces","permalink":"https://yeshan333.github.io/tags/Elixir-Github-Codespaces/"},{"name":"music","slug":"music","permalink":"https://yeshan333.github.io/tags/music/"},{"name":"Deps","slug":"Deps","permalink":"https://yeshan333.github.io/tags/Deps/"},{"name":"Mix","slug":"Mix","permalink":"https://yeshan333.github.io/tags/Mix/"},{"name":"Python","slug":"Python","permalink":"https://yeshan333.github.io/tags/Python/"},{"name":"Websocket","slug":"Websocket","permalink":"https://yeshan333.github.io/tags/Websocket/"},{"name":"SSE","slug":"SSE","permalink":"https://yeshan333.github.io/tags/SSE/"},{"name":"blog","slug":"blog","permalink":"https://yeshan333.github.io/tags/blog/"},{"name":"Test Coverage","slug":"Test-Coverage","permalink":"https://yeshan333.github.io/tags/Test-Coverage/"},{"name":"Elixir-Macros","slug":"Elixir-Macros","permalink":"https://yeshan333.github.io/tags/Elixir-Macros/"},{"name":"Prometheus","slug":"Prometheus","permalink":"https://yeshan333.github.io/tags/Prometheus/"},{"name":"json","slug":"json","permalink":"https://yeshan333.github.io/tags/json/"},{"name":"Marshal","slug":"Marshal","permalink":"https://yeshan333.github.io/tags/Marshal/"},{"name":"UnMarshal","slug":"UnMarshal","permalink":"https://yeshan333.github.io/tags/UnMarshal/"},{"name":"React","slug":"React","permalink":"https://yeshan333.github.io/tags/React/"},{"name":"Profiling","slug":"Profiling","permalink":"https://yeshan333.github.io/tags/Profiling/"},{"name":"Flame Graphs","slug":"Flame-Graphs","permalink":"https://yeshan333.github.io/tags/Flame-Graphs/"},{"name":"FSM","slug":"FSM","permalink":"https://yeshan333.github.io/tags/FSM/"},{"name":"Compiler","slug":"Compiler","permalink":"https://yeshan333.github.io/tags/Compiler/"},{"name":"Lexer","slug":"Lexer","permalink":"https://yeshan333.github.io/tags/Lexer/"},{"name":"Git","slug":"Git","permalink":"https://yeshan333.github.io/tags/Git/"},{"name":"Wireshark","slug":"Wireshark","permalink":"https://yeshan333.github.io/tags/Wireshark/"},{"name":"Kubernetes","slug":"Kubernetes","permalink":"https://yeshan333.github.io/tags/Kubernetes/"},{"name":"Kubeadm","slug":"Kubeadm","permalink":"https://yeshan333.github.io/tags/Kubeadm/"},{"name":"Linux","slug":"Linux","permalink":"https://yeshan333.github.io/tags/Linux/"},{"name":"å‹åŠ›æµ‹è¯•","slug":"å‹åŠ›æµ‹è¯•","permalink":"https://yeshan333.github.io/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/"},{"name":"CPU Bound","slug":"CPU-Bound","permalink":"https://yeshan333.github.io/tags/CPU-Bound/"},{"name":"IO Bound","slug":"IO-Bound","permalink":"https://yeshan333.github.io/tags/IO-Bound/"},{"name":"Grafana","slug":"Grafana","permalink":"https://yeshan333.github.io/tags/Grafana/"},{"name":"Federation","slug":"Federation","permalink":"https://yeshan333.github.io/tags/Federation/"},{"name":"Docker","slug":"Docker","permalink":"https://yeshan333.github.io/tags/Docker/"},{"name":"Monitoring","slug":"Monitoring","permalink":"https://yeshan333.github.io/tags/Monitoring/"},{"name":"MD5","slug":"MD5","permalink":"https://yeshan333.github.io/tags/MD5/"},{"name":"GPG","slug":"GPG","permalink":"https://yeshan333.github.io/tags/GPG/"},{"name":"RSS Reader","slug":"RSS-Reader","permalink":"https://yeshan333.github.io/tags/RSS-Reader/"},{"name":"math","slug":"math","permalink":"https://yeshan333.github.io/tags/math/"},{"name":"é¡¹ç›®ç®¡ç†","slug":"é¡¹ç›®ç®¡ç†","permalink":"https://yeshan333.github.io/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"},{"name":"Monorepo","slug":"Monorepo","permalink":"https://yeshan333.github.io/tags/Monorepo/"},{"name":"WSL","slug":"WSL","permalink":"https://yeshan333.github.io/tags/WSL/"},{"name":"GUI","slug":"GUI","permalink":"https://yeshan333.github.io/tags/GUI/"},{"name":"Github Actions","slug":"Github-Actions","permalink":"https://yeshan333.github.io/tags/Github-Actions/"},{"name":"DevOps","slug":"DevOps","permalink":"https://yeshan333.github.io/tags/DevOps/"},{"name":"Nginx","slug":"Nginx","permalink":"https://yeshan333.github.io/tags/Nginx/"},{"name":"Kafka","slug":"Kafka","permalink":"https://yeshan333.github.io/tags/Kafka/"},{"name":"æ¶ˆæ¯å¼•æ“ç³»ç»Ÿ","slug":"æ¶ˆæ¯å¼•æ“ç³»ç»Ÿ","permalink":"https://yeshan333.github.io/tags/%E6%B6%88%E6%81%AF%E5%BC%95%E6%93%8E%E7%B3%BB%E7%BB%9F/"},{"name":"æµå¤„ç†å¹³å°","slug":"æµå¤„ç†å¹³å°","permalink":"https://yeshan333.github.io/tags/%E6%B5%81%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/"},{"name":"è®¡ç®—æœºç½‘è·¯","slug":"è®¡ç®—æœºç½‘è·¯","permalink":"https://yeshan333.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E8%B7%AF/"},{"name":"TCP","slug":"TCP","permalink":"https://yeshan333.github.io/tags/TCP/"},{"name":"tcpdump","slug":"tcpdump","permalink":"https://yeshan333.github.io/tags/tcpdump/"},{"name":"æ·±æ‹·è´ä¸æµ…æ‹·è´","slug":"æ·±æ‹·è´ä¸æµ…æ‹·è´","permalink":"https://yeshan333.github.io/tags/%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D/"},{"name":"Load Balance","slug":"Load-Balance","permalink":"https://yeshan333.github.io/tags/Load-Balance/"},{"name":"Event-Loop","slug":"Event-Loop","permalink":"https://yeshan333.github.io/tags/Event-Loop/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://yeshan333.github.io/tags/JavaScript/"},{"name":"è¿›ç¨‹é€šä¿¡","slug":"è¿›ç¨‹é€šä¿¡","permalink":"https://yeshan333.github.io/tags/%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1/"},{"name":"è¿›ç¨‹","slug":"è¿›ç¨‹","permalink":"https://yeshan333.github.io/tags/%E8%BF%9B%E7%A8%8B/"},{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"https://yeshan333.github.io/tags/%E7%BA%BF%E7%A8%8B/"},{"name":"docker","slug":"docker","permalink":"https://yeshan333.github.io/tags/docker/"},{"name":"æœåŠ¡ç¼–æ’","slug":"æœåŠ¡ç¼–æ’","permalink":"https://yeshan333.github.io/tags/%E6%9C%8D%E5%8A%A1%E7%BC%96%E6%8E%92/"},{"name":"åŠ å¯†","slug":"åŠ å¯†","permalink":"https://yeshan333.github.io/tags/%E5%8A%A0%E5%AF%86/"},{"name":"éšç§","slug":"éšç§","permalink":"https://yeshan333.github.io/tags/%E9%9A%90%E7%A7%81/"},{"name":"æœåŠ¡å™¨è¿›ç¨‹ç®¡ç†","slug":"æœåŠ¡å™¨è¿›ç¨‹ç®¡ç†","permalink":"https://yeshan333.github.io/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"},{"name":"å·¥ç¨‹åŒ–","slug":"å·¥ç¨‹åŒ–","permalink":"https://yeshan333.github.io/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/"},{"name":"è¯‘æ–‡","slug":"è¯‘æ–‡","permalink":"https://yeshan333.github.io/tags/%E8%AF%91%E6%96%87/"},{"name":"I/Oæ¨¡å‹","slug":"I-Oæ¨¡å‹","permalink":"https://yeshan333.github.io/tags/I-O%E6%A8%A1%E5%9E%8B/"},{"name":"æ¶æ„è®¾è®¡","slug":"æ¶æ„è®¾è®¡","permalink":"https://yeshan333.github.io/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"},{"name":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","permalink":"https://yeshan333.github.io/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://yeshan333.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"é™æ€ç±»å‹æ£€æŸ¥","slug":"é™æ€ç±»å‹æ£€æŸ¥","permalink":"https://yeshan333.github.io/tags/%E9%9D%99%E6%80%81%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5/"},{"name":"Flask","slug":"Flask","permalink":"https://yeshan333.github.io/tags/Flask/"},{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yeshan333.github.io/tags/%E9%9A%8F%E7%AC%94/"},{"name":"memory","slug":"memory","permalink":"https://yeshan333.github.io/tags/memory/"},{"name":"Json","slug":"Json","permalink":"https://yeshan333.github.io/tags/Json/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://yeshan333.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"},{"name":"ç¯å¢ƒç®¡ç†","slug":"ç¯å¢ƒç®¡ç†","permalink":"https://yeshan333.github.io/tags/%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/"},{"name":"Jupyter","slug":"Jupyter","permalink":"https://yeshan333.github.io/tags/Jupyter/"},{"name":"debug","slug":"debug","permalink":"https://yeshan333.github.io/tags/debug/"},{"name":"ä¸Šä¸‹æ–‡","slug":"ä¸Šä¸‹æ–‡","permalink":"https://yeshan333.github.io/tags/%E4%B8%8A%E4%B8%8B%E6%96%87/"},{"name":"åç¨‹","slug":"åç¨‹","permalink":"https://yeshan333.github.io/tags/%E5%8D%8F%E7%A8%8B/"},{"name":"Latex","slug":"Latex","permalink":"https://yeshan333.github.io/tags/Latex/"},{"name":"MATLAB","slug":"MATLAB","permalink":"https://yeshan333.github.io/tags/MATLAB/"},{"name":"HTML","slug":"HTML","permalink":"https://yeshan333.github.io/tags/HTML/"},{"name":"CSS","slug":"CSS","permalink":"https://yeshan333.github.io/tags/CSS/"},{"name":"CPP","slug":"CPP","permalink":"https://yeshan333.github.io/tags/CPP/"},{"name":"C","slug":"C","permalink":"https://yeshan333.github.io/tags/C/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://yeshan333.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"Memory","slug":"Memory","permalink":"https://yeshan333.github.io/tags/Memory/"},{"name":"GDB","slug":"GDB","permalink":"https://yeshan333.github.io/tags/GDB/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://yeshan333.github.io/tags/Algorithm/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://yeshan333.github.io/tags/Scrapy/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://yeshan333.github.io/tags/%E7%88%AC%E8%99%AB/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://yeshan333.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"name":"Astronomy","slug":"Astronomy","permalink":"https://yeshan333.github.io/tags/Astronomy/"},{"name":"ä¿¡æ¯æ ‡è®°","slug":"ä¿¡æ¯æ ‡è®°","permalink":"https://yeshan333.github.io/tags/%E4%BF%A1%E6%81%AF%E6%A0%87%E8%AE%B0/"},{"name":"BeautifulSoup","slug":"BeautifulSoup","permalink":"https://yeshan333.github.io/tags/BeautifulSoup/"},{"name":"Requests","slug":"Requests","permalink":"https://yeshan333.github.io/tags/Requests/"},{"name":"markdown","slug":"markdown","permalink":"https://yeshan333.github.io/tags/markdown/"},{"name":"hexo","slug":"hexo","permalink":"https://yeshan333.github.io/tags/hexo/"}]}