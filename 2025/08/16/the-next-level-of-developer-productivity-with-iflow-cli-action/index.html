
<!DOCTYPE html><html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.33.1" theme-name="Stellar" theme-version="1.33.1">
  
  
  <meta name="generator" content="Hexo 7.3.0">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000">
  <meta name="theme-color" content="#f9fafb">
  <title>使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力 - ShanSan</title>

  
    <meta name="description" content="使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力">
<meta property="og:url" content="https://shansan.top/2025/08/16/the-next-level-of-developer-productivity-with-iflow-cli-action/">
<meta property="og:site_name" content="ShanSan">
<meta property="og:description" content="使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/issue-auto-triage.png">
<meta property="og:image" content="https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/issue-killer.jpg">
<meta property="og:image" content="https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/pr-review.jpg">
<meta property="article:published_time" content="2025-08-16T22:04:15.000Z">
<meta property="article:modified_time" content="2025-08-16T22:04:15.000Z">
<meta property="article:author" content="ShanSan">
<meta property="article:tag" content="GitHub Actions">
<meta property="article:tag" content="DevOps">
<meta property="article:tag" content="AI Development">
<meta property="article:tag" content="Automation">
<meta property="article:tag" content="iFLOW CLI">
<meta property="article:tag" content="Issue Management">
<meta property="article:tag" content="Pull Request Review">
<meta property="article:tag" content="Qwen3-Coder">
<meta property="article:tag" content="Kimi K2">
<meta property="article:tag" content="Productivity">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/issue-auto-triage.png">
  
  
  
  <meta name="keywords" content="iFLOW CLI, Claude Code Action, iflow-cli-action, Qwen3-Coder, Kimi K2, Productivity, DevOps">

  <!-- feed -->
  
    <link rel="alternate" href="/rss2.xml" title="ShanSan" type="application/rss+xml">
  

  <link rel="stylesheet" href="/css/main.css?v=1.33.1">


  
    <link rel="shortcut icon" href="https://s1.ax1x.com/2022/10/09/xJ7yMF.png">
  

  

  <script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ShanSan","sameAs":[]},"dateCreated":"2025-08-16T22:04:15+00:00","dateModified":"2025-08-16T22:04:15+00:00","datePublished":"2025-08-16T22:04:15+00:00","description":"","headline":"使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力","mainEntityOfPage":{"@type":"WebPage","@id":"https://shansan.top/2025/08/16/the-next-level-of-developer-productivity-with-iflow-cli-action/"},"publisher":{"@type":"Organization","name":"ShanSan","sameAs":[]},"url":"https://shansan.top/2025/08/16/the-next-level-of-developer-productivity-with-iflow-cli-action/","keywords":"GitHub Actions, DevOps, AI Development, Automation, iFLOW CLI, Issue Management, Pull Request Review, Qwen3-Coder, Kimi K2, Productivity","thumbnailUrl":"https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/iflow-cli-actions-demo-workflow-banner.jpg","image":1}</script>
  
</head>
<body>

<div class="l_body content" id="start" layout="post" type="tech" ><aside class="l_left"><div class="sidebg"></div><div class="leftbar-container">


<header class="header"><div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="https://ospy.shan333.cn/blog/blog.avatar.jpg" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></a><a class="title" href="/"><div class="main">ShanSan</div><div class="sub cap">个人博客</div></a></div></header>

<div class="nav-area">

<nav class="menu dis-select"><a class="nav-item" title="博文" href="/archives/"><span>博文</span></a><a class="nav-item" title="关于" href="/about/"><span>关于</span></a><a class="nav-item" title="友链" href="/friends/"><span>友链</span></a><a class="nav-item" title="Bio" href="/wiki/bio/"><span>Bio</span></a></nav>
</div>
<div class="widgets">
<div class="search-wrapper" id="search-wrapper"><form class="search-form"><a class="search-button" onclick="document.getElementById(&quot;search-input&quot;).focus();"><svg t="1705074644177" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></a><input type="text" class="search-input" id="search-input" placeholder="站内搜索"></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div>



<widget class="widget-wrapper recent post-list"><div class="widget-header dis-select"><span class="name">最近更新</span></div><div class="widget-body fs14"><a class="item title" href="/2025/08/16/the-next-level-of-developer-productivity-with-iflow-cli-action/"><span class="title">使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力</span></a><a class="item title" href="/2025/08/09/gen-slides-like-docs-site-with-iflow-cli/"><span class="title">使用 iFLOW-CLI GitHub Action 和 Qwen3-Coder 给 GitHub 仓库生成幻灯片风格的文档站点</span></a><a class="item title" href="/2025/07/27/claude-code-subagent-for-tech-writing/"><span class="title">使用 Claude Code 的自定义 Sub Agent 完善博文写作体验</span></a><a class="item title" href="/2025/07/27/migrate-theme-to-stellar-with-claude-code/"><span class="title">使用 Claude Code 和 Qwen3 Coder 将博客主题成功迁移到了 Stellar 🎉</span></a><a class="item title" href="/2025/07/12/rss-summary-workflow-with-n8n/"><span class="title">使用 n8n 和飞书多维表打造自己的 RSS Feed 订阅管理 & AI 大模型阅读提炼工作流</span></a><a class="item title" href="/2025/04/20/use-github-copilot-to-create-rsshub-route/"><span class="title">【体验】使用 GitHub Copilot Agent 创建新的 RSSHub 路由</span></a><a class="item title" href="/2025/03/23/build-agent-with-mcp-agent-and-qwen/"><span class="title">使用 mcp-agent 框架和百炼通义千问大模型构建基于 MCP 协议的网页总结智能代理 (agent)</span></a><a class="item title" href="/2025/02/06/mongodb-deployment-with-tls-and-mkcert/"><span class="title">使用 mkcert 本地部署启动了 TLS/SSL 加密通讯的 MongoDB 副本集和分片集群</span></a><a class="item title" href="/2025/01/08/debug-emscripten-wasm-in-vscode/"><span class="title">在 Visual Studio Code 与微信开发者工具中调试使用 emscripten 基于 C 生成的 WASM 代码</span></a><a class="item title" href="/2024/06/18/install-erlang-and-elixir-via-vfox-on-windows/"><span class="title">(Amazing!) 通过 vfox 在 Windows 上安装管理多个 Erlang/OTP 和 Elixir 的版本</span></a></div></widget>
</div>
<footer class="footer dis-select"><div class="social-wrap"><a class="social" href="mailto:1329441308@qq.com" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 64C150 64 64 150 64 256s86 192 192 192c17.7 0 32 14.3 32 32s-14.3 32-32 32C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256v32c0 53-43 96-96 96c-29.3 0-55.6-13.2-73.2-33.9C320 371.1 289.5 384 256 384c-70.7 0-128-57.3-128-128s57.3-128 128-128c27.9 0 53.7 8.9 74.7 24.1c5.7-5 13.1-8.1 21.3-8.1c17.7 0 32 14.3 32 32v80 32c0 17.7 14.3 32 32 32s32-14.3 32-32V256c0-106-86-192-192-192zm64 192a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"/></svg></a><a class="social" href="https://github.com/yeshan333?tab=repositories" target="_blank" rel="external nofollow noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></a><a class="social" href="https://music.163.com/#/my/m/music/playlist?id=2617691792" target="_blank" rel="external nofollow noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>NetEase Music</title><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg></a><a class="social" href="https://www.zhihu.com/people/si-kong-ji-54/activities" target="_blank" rel="external nofollow noopener noreferrer"><svg fill="#18abdc" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg" stroke="#18abdc"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>Zhihu icon</title><path d="M5.721 0C2.251 0 0 2.25 0 5.719V18.28C0 21.751 2.252 24 5.721 24h12.56C21.751 24 24 21.75 24 18.281V5.72C24 2.249 21.75 0 18.281 0zm1.964 4.078c-.271.73-.5 1.434-.68 2.11h4.587c.545-.006.445 1.168.445 1.171H9.384a58.104 58.104 0 01-.112 3.797h2.712c.388.023.393 1.251.393 1.266H9.183a9.223 9.223 0 01-.408 2.102l.757-.604c.452.456 1.512 1.712 1.906 2.177.473.681.063 2.081.063 2.081l-2.794-3.382c-.653 2.518-1.845 3.607-1.845 3.607-.523.468-1.58.82-2.64.516 2.218-1.73 3.44-3.917 3.667-6.497H4.491c0-.015.197-1.243.806-1.266h2.71c.024-.32.086-3.254.086-3.797H6.598c-.136.406-.158.447-.268.753-.594 1.095-1.603 1.122-1.907 1.155.906-1.821 1.416-3.6 1.591-4.064.425-1.124 1.671-1.125 1.671-1.125zM13.078 6h6.377v11.33h-2.573l-2.184 1.373-.401-1.373h-1.219zm1.313 1.219v8.86h.623l.263.937 1.455-.938h1.456v-8.86z"></path></g></svg></a><a class="social" href="/rss2.xml" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM96 136c0-13.3 10.7-24 24-24c137 0 248 111 248 248c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-110.5-89.5-200-200-200c-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24c83.9 0 152 68.1 152 152c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4-46.6-104-104-104c-13.3 0-24-10.7-24-24zm0 120a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg></a></div></footer>
</div></aside><div class="l_main" id="main">





<div class="article banner top"><img class="lazy bg" data-src="https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/iflow-cli-actions-demo-workflow-banner.jpg">
  <div class="content">
    <div class="top bread-nav footnote"><div class="left"><div class="flex-row" id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a>
<span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/Technology/">Technology</a> <span class="sep"></span> <a class="cap breadcrumb-link" href="/categories/Technology/AI/">AI</a> <span class="sep"></span> <a class="cap breadcrumb-link" href="/categories/Technology/AI/GitHub/">GitHub</a></div>
<div class="flex-row" id="post-meta"><span class="text created">发布于：<time datetime="2025-08-16T22:04:15.000Z">2025-08-16</time></span><span class="sep updated"></span><span class="text updated">更新于：<time datetime="2025-08-16T22:04:15.000Z">2025-08-16</time></span></div></div></div>
    
    <div class="bottom only-title">
      
      <div class="text-area">
        <h1 class="text title"><span>使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力</span></h1>
        
      </div>
    </div>
    
  </div>
  </div><article class="md-text content"><p>阿里<a target="_blank" rel="noopener" href="https://iflow.cn/">心流 AI</a> 团队的 iFLOW CLI 已经发布了一段时间了, 它是一个基于终端的强大智能体 Agent.目前通过它可以免费的使用到中国开发者研发的顶级大模型, 比如 Qwen3-Coder、Kimi K2 等。</p>
<p>这篇文章给出了很多的实战例子 -&gt; <a target="_blank" rel="noopener" href="https://blog.csdn.net/iFlow_AI/article/details/150391659?spm=1001.2014.3001.5501">《能自动编码 + 调试？iFlow CLI 实战亲测！》</a>,我们可以使用 iFLOW CLI 实现 RAG 系统、生成旅游规划等等。</p>
<p>据说对标 Claude Code 的 SubAgents 能力会在下一个版本发布, 还提供了基于 Qwen VL 视觉大模型的多模态处理能力, 并且在并行任务执行上有专门的优化。IDE 插件也即将发布了~</p>
<p>不知道你有没有在 GitHub 上使用过 <a target="_blank" rel="noopener" href="https://github.com/anthropics/claude-code-action">Claude Code Action</a>,我们可以使用它快速的处理 GitHub 仓库的 issues, 让它根据某个 issue 自动编码并创建 pull requests.我们只需要在 issue 评论中 <code>@claude</code> 即可触发自动编码任务的执行。</p>
<p>iFLOW CLI 现在也有类似的工具了 -&gt; <a target="_blank" rel="noopener" href="https://github.com/vibe-ideas/iflow-cli-action">iflow-cli-action</a>, 感谢 claude-code-action 和 <a target="_blank" rel="noopener" href="https://github.com/google-github-actions/run-gemini-cli">Gemini CLI Action</a> 的工作, iflow-cli-action 的实现借鉴了它们的设计。</p>
<p>接下来我们看看如何利用 iflow-cli-action 在 GitHub 利用中国开发者研发的顶级大模型 Qwen3-Code 与 Kimi K2 快速提升你的生产力。</p>
<h2 id="%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8-iflow-cli-action" tabindex="-1">快速使用 iflow-cli-action</h2>
<p>iflow-cli-action 对 iFLOW CLI 进行了封装, 基于 GitHub Actions 提供的强大自动化任务编排能力, 我们只需要在 GitHub 代码仓库创建对应的工作流文件, 即可快速使用上 iFLOW CLI 进行自动编码和问题 (issues) 处理。</p>
<blockquote>
<p>如果你还不熟悉 GitHub Actions, 那么我推荐你快速阅读下 GitHub 官方的快速上手指南 <a target="_blank" rel="noopener" href="https://docs.github.com/zh/actions/get-started/quickstart">GitHub Actions 快速入门 - 几分钟内体验 GitHub Actions 的核心功能。</a></p>
</blockquote>
<p>在这里, 我们直接给出一个示例的工作流编排文件, 它会使用 iflow-cli-action 去创建一个 PPT 幻灯片风格的文档网站, 并发布出来, 如下：</p>
<details class="tag-plugin colorful folding" ><summary><p>工作流定义</p>
</summary><div class="body"><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Build</span> <span class="string">and</span> <span class="string">Deploy</span> <span class="string">Homepage</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="comment"># Run every day at 02:00 UTC</span></span><br><span class="line">  <span class="attr">schedule:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">cron:</span> <span class="string">&#x27;0 2 * * *&#x27;</span></span><br><span class="line">  <span class="comment"># Allow manual trigger</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span></span><br><span class="line">  <span class="comment"># Also run on pushes to main branch</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;README.md&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;README_zh.md&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages</span></span><br><span class="line"><span class="attr">permissions:</span></span><br><span class="line">  <span class="attr">contents:</span> <span class="string">read</span></span><br><span class="line">  <span class="attr">pages:</span> <span class="string">write</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.</span></span><br><span class="line"><span class="attr">concurrency:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">&quot;pages&quot;</span></span><br><span class="line">  <span class="attr">cancel-in-progress:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">env:</span></span><br><span class="line">      <span class="attr">GITHUB_PAGES:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repository</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/configure-pages@v4</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Create</span> <span class="string">homepage</span> <span class="string">directory</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">mkdir</span> <span class="string">-p</span> <span class="string">_site</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Generate</span> <span class="string">homepage</span> <span class="string">using</span> <span class="string">iFlow</span> <span class="string">CLI</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">vibe-ideas/iflow-cli-action@main</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">prompt:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            请仅读取当前仓库的 README.md 文件内容（不要读取其他任何文件）,将其转换为一个基于 Reveal.js 的精美幻灯片风格文档网站并保存为 _site/index.html.</span></span><br><span class="line"><span class="string"></span>            </span><br><span class="line">            <span class="string">要求：</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">1</span><span class="string">.</span> <span class="string">使用</span> <span class="string">Reveal.js</span> <span class="string">框架构建幻灯片展示,将</span> <span class="string">README</span> <span class="string">内容按逻辑结构拆分为多个幻灯片页面；</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">2</span><span class="string">.</span> <span class="string">幻灯片结构设计：</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">首页幻灯片：项目标题、副标题、GitHub</span> <span class="string">链接和项目简介</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">功能特性幻灯片：突出展示主要功能和特点</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">安装指南幻灯片：分步骤展示安装过程</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">使用示例幻灯片：展示代码示例和配置说明</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">高级功能幻灯片：展示进阶用法和最佳实践</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">结尾幻灯片：致谢、贡献指南和联系方式；</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">3</span><span class="string">.</span> <span class="string">使用现代化的</span> <span class="string">Reveal.js</span> <span class="string">主题和配置：</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">启用水平和垂直导航</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">配置幻灯片过渡动画效果（如</span> <span class="string">slide、fade、zoom）</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">添加进度条和幻灯片计数器</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">支持键盘导航和触摸手势</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">启用自动播放功能（可暂停）</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">添加幻灯片缩略图概览；</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">4</span><span class="string">.</span> <span class="string">视觉设计采用超现实主义数字拼贴风格：</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">使用鲜明的色彩对比和几何图形元素</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">创建层次丰富的视觉效果,结合文本和图形元素</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">运用不规则形状、透明度和重叠效果创造深度感</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">采用动态背景和动画过渡增强视觉冲击力</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">使用抽象图形和数字元素作为装饰元素</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">确保整体设计具有艺术感和视觉吸引力；</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">5</span><span class="string">.</span> <span class="string">字体大小和布局优化（重要）：</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">标题字体大小：主标题使用</span> <span class="number">2.</span><span class="string">5em,副标题使用</span> <span class="number">1.</span><span class="string">8em,节标题使用</span> <span class="number">1.</span><span class="string">5em</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">正文字体大小：使用</span> <span class="number">1.</span><span class="string">2em,确保在所有设备上清晰可读</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">代码字体大小：使用</span> <span class="number">0.</span><span class="string">9em,避免代码块过大导致布局问题</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">行高设置：正文使用</span> <span class="number">1.6</span> <span class="string">倍行高,标题使用</span> <span class="number">1.4</span> <span class="string">倍行高</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">内容区域边距：为每张幻灯片设置合适的</span> <span class="string">padding（上下</span> <span class="string">60px,左右</span> <span class="string">40px）</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">确保文字与背景有足够间距,避免遮挡和重叠</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">限制每张幻灯片的内容量,避免信息过载</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">为长代码块实现垂直滚动,而不是缩小字体；</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">增加字体族设置：使用系统默认字体族,确保在各种设备上都有良好显示效果</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">为不同屏幕尺寸设置自适应字体大小,确保移动端阅读体验</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">使用相对单位（em,</span> <span class="string">rem）而非绝对单位（px）以适应用户缩放设置</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">添加文字阴影或背景色块以增强文字可读性,特别是在复杂背景上</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">严格控制每行字符数,避免过长行导致的阅读困难；</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">6</span><span class="string">.</span> <span class="string">代码展示优化：</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">使用</span> <span class="string">Reveal.js</span> <span class="string">的代码高亮插件</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">支持语法高亮（YAML、Bash、Markdown</span> <span class="string">等）</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">添加行号和复制按钮</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">代码块使用合适的最大高度（60vh）和滚动条</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">实现代码片段的动画展示效果；</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">7</span><span class="string">.</span> <span class="string">交互功能：</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">添加导航菜单和章节跳转</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">实现全屏模式和演讲者模式</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">支持</span> <span class="string">ESC</span> <span class="string">键显示幻灯片概览</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">添加分享和导出功能；</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">8</span><span class="string">.</span> <span class="string">响应式设计：</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">确保在桌面、平板和移动设备上的良好体验</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">移动设备上适当减小字体大小但保持可读性</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">适配不同屏幕尺寸的字体和布局</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">优化触摸设备的交互体验；</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">为小屏幕设备设置特殊样式,确保文字不被截断或重叠</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">使用媒体查询优化不同分辨率下的显示效果；</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">9</span><span class="string">.</span> <span class="string">技术实现：</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">从</span> <span class="string">CDN</span> <span class="string">引入最新版本的</span> <span class="string">Reveal.js</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">配置必要的插件（highlight.js、notes、zoom</span> <span class="string">等）</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">添加自定义</span> <span class="string">CSS</span> <span class="string">样式增强视觉效果</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">确保快速加载和流畅的动画性能；</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">使用</span> <span class="string">CSS</span> <span class="string">的</span> <span class="string">word-wrap、word-break</span> <span class="string">属性处理长单词和</span> <span class="string">URL</span> <span class="string">换行</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">设置合理的</span> <span class="string">z-index</span> <span class="string">层级,确保文字始终在装饰元素之上；</span></span><br><span class="line">            </span><br><span class="line">            <span class="number">10</span><span class="string">.</span> <span class="string">SEO</span> <span class="string">和可访问性：</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">添加完整的</span> <span class="string">meta</span> <span class="string">标签和结构化数据</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">确保键盘导航的可访问性</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">添加</span> <span class="string">alt</span> <span class="string">文本和</span> <span class="string">aria</span> <span class="string">标签</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">优化搜索引擎索引.</span></span><br><span class="line">            </span><br><span class="line">            <span class="string">请直接创建完整的</span> <span class="string">HTML</span> <span class="string">文件,使用内联</span> <span class="string">CSS</span> <span class="string">和</span> <span class="string">JavaScript,确保文件自包含且可以直接在浏览器中运行.</span></span><br><span class="line">            </span><br><span class="line">            <span class="string">项目地址为：https://github.com/vibe-ideas/iflow-cli-action</span></span><br><span class="line">          <span class="attr">api_key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.IFLOW_API_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="comment"># settings_json: $&#123;&#123; secrets.IFLOW_SETTINGS_JSON &#125;&#125;</span></span><br><span class="line">          <span class="attr">model:</span> <span class="string">&quot;Qwen3-Coder&quot;</span></span><br><span class="line">          <span class="attr">timeout:</span> <span class="string">&quot;1800&quot;</span></span><br><span class="line">          <span class="attr">extra_args:</span> <span class="string">&quot;--debug&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Verify</span> <span class="string">reveal.js</span> <span class="string">presentation</span> <span class="string">was</span> <span class="string">generated</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          if [ -f &quot;_site/index.html&quot; ]; then</span></span><br><span class="line"><span class="string">            echo &quot;Reveal.js presentation generated successfully!&quot;</span></span><br><span class="line"><span class="string">            echo &quot;Checking for reveal.js content...&quot;</span></span><br><span class="line"><span class="string">            if grep -q &quot;reveal.js&quot; &quot;_site/index.html&quot;; then</span></span><br><span class="line"><span class="string">              echo &quot;✓ Reveal.js framework detected&quot;</span></span><br><span class="line"><span class="string">            else</span></span><br><span class="line"><span class="string">              echo &quot;⚠ Warning: Reveal.js framework not found in generated file&quot;</span></span><br><span class="line"><span class="string">            fi</span></span><br><span class="line"><span class="string">            ls -la _site/</span></span><br><span class="line"><span class="string">          else</span></span><br><span class="line"><span class="string">            echo &quot;Error: Presentation was not generated by iFlow&quot;</span></span><br><span class="line"><span class="string">            exit 1</span></span><br><span class="line"><span class="string">          fi</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Upload</span> <span class="string">artifact</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/upload-pages-artifact@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">./_site</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">github-pages</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">$&#123;&#123;</span> <span class="string">steps.deployment.outputs.page_url</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">needs:</span> <span class="string">build</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">deployment</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/deploy-pages@v4</span></span><br></pre></td></tr></table></figure></div></details>
<p>这个工作流的执行机制如下：</p>
<pre class="mermaid">sequenceDiagram
    participant User as 用户
    participant GH as GitHub
    participant Runner1 as Ubuntu Runner (build)
    participant Runner2 as Ubuntu Runner (deploy)
    participant iFlow as iFlow CLI Action
    participant Pages as GitHub Pages

    Note over GH: 触发条件检查
    alt 定时触发 (每日 02:00 UTC)
        GH->>GH: 检查 cron 表达式
    else 手动触发
        User->>GH: workflow_dispatch
    else 推送到 main 分支
        User->>GH: 推送代码 (README.md/README_zh.md)
        GH->>GH: 检查文件路径匹配
    end

    Note over GH: 权限和并发控制
    GH->>GH: 设置 GITHUB_TOKEN 权限<br/>(contents: read, pages: write)
    GH->>GH: 检查并发组 "pages"<br/>(取消进行中的运行)

    Note over GH,Runner1: Build Job 开始
    GH->>Runner1: 分配 ubuntu-latest 运行器
    Runner1->>Runner1: 设置环境变量<br/>GITHUB_PAGES=true

    Note over Runner1: Step 1: 检出代码
    Runner1->>GH: actions/checkout@v4
    GH-->>Runner1: 返回仓库代码

    Note over Runner1: Step 2: 配置 Pages
    Runner1->>Runner1: actions/configure-pages@v4
    Runner1->>Runner1: 配置 GitHub Pages 设置

    Note over Runner1: Step 3: 创建目录
    Runner1->>Runner1: mkdir -p _site

    Note over Runner1: Step 4: 生成首页
    Runner1->>iFlow: vibe-ideas/iflow-cli-action@main
    Note over iFlow: 处理提示词
    iFlow->>iFlow: 读取 README.md
    iFlow->>iFlow: 使用 Qwen3-Coder 模型
    iFlow->>iFlow: 生成 Reveal.js 幻灯片
    iFlow-->>Runner1: 生成 _site/index.html

    Note over Runner1: Step 5: 验证生成结果
    Runner1->>Runner1: 检查 _site/index.html 是否存在
    Runner1->>Runner1: 验证 reveal.js 内容
    Runner1->>Runner1: 列出 _site/ 目录内容

    Note over Runner1: Step 6: 上传构建产物
    Runner1->>GH: actions/upload-pages-artifact@v3
    Runner1->>GH: 上传 _site/ 目录
    GH-->>Runner1: 确认上传成功

    Note over GH: Build Job 完成

    Note over GH,Runner2: Deploy Job 开始 (依赖 build)
    GH->>Runner2: 分配 ubuntu-latest 运行器
    Runner2->>Runner2: 设置 github-pages 环境

    Note over Runner2: Step 1: 部署到 GitHub Pages
    Runner2->>GH: actions/deploy-pages@v4
    GH->>Pages: 部署页面内容
    Pages-->>GH: 返回部署 URL
    GH-->>Runner2: 设置输出变量 page_url

    Note over GH: Deploy Job 完成

    Note over User,Pages: 工作流完成
    Pages->>User: 网站可访问<br/>(通过 GitHub Pages URL)</pre>
<p>它会监听代码仓库的 push 事件, 查看 <a target="_blank" rel="noopener" href="http://README.md">README.md</a> 文件是否发生变化, 如果发生变化则让 iFLOW CLI 利用 Qwen3-COder 模型, 基于 Reveal.js 技术生成幻灯片, 并部署到 GitHub Pages.你可以通过这个网站直接查阅到对应的效果 <a target="_blank" rel="noopener" href="https://vibe-ideas.github.io/iflow-cli-action/#/">https://vibe-ideas.github.io/iflow-cli-action/#/</a>.</p>
<p>自动化工作流使用到的 IFLOW_API_KEY 密钥需要到心流官方获取 <a target="_blank" rel="noopener" href="https://iflow.cn/?open=setting">https://iflow.cn/?open=setting</a>.我们需要将密钥保存到 GitHub 仓库的 Secrets 中, 避免密钥泄露.Settings -&gt; Secrets and variables -&gt; Actions -&gt; New repository secret, Secrets 名为 <code>IFLOW_API_KEY</code>:</p>
<p>你可以将上述工作流文件放到你的 GitHub 代码仓库的 <code>.github/workflows</code> 目录下, 提交并推送到 GitHub 仓库即可快速使用 &amp; 执行。</p>
<blockquote>
<p>使用时, 请确保你的代码仓库存在 <a target="_blank" rel="noopener" href="http://README.md">README.md</a> 文件。</p>
</blockquote>
<p>更具体的使用方式, 可以参考我一周前发布的文章 <a target="_blank" rel="noopener" href="https://shan333.cn/2025/08/09/gen-slides-like-docs-site-with-iflow-cli/">《使用 iFLOW-CLI GitHub Action 和 Qwen3-Coder 给 GitHub 仓库生成幻灯片风格的文档站点》</a>.</p>
<p>接下来我们将着重介绍如何使用 iflow-cli-action 让 iFLOW CLI 帮我们解决 GitHub 代码仓库 issues、对 pull request 进行代码评审。让 iFLOW CLI 变身为 issue 杀手。</p>
<h2 id="%E8%AE%A9-iflow-cli-%E8%87%AA%E5%8A%A8%E5%88%86%E7%B1%BB-github-issues" tabindex="-1">让 iFLOW CLI 自动分类 GitHub issues</h2>
<p>如果你是一个开源项目的开发者或者贡献者, 相信对于 GitHub issues 的分类打标签 (label) 并不陌生, 这里我们给出一个示例工作流, 它可以实现, 当有用户在代码仓库创建新的 issue 时, 会自动运行, 使用 iFLOW CLI 和 Qwen3-COder 模型分析 issue 内容, 然后给 issue 打上对应的分类标签, 方便开发者对 issues 进行管理, 如下：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">&#x27;🏷️ iFLOW CLI Automated Issue Triage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">issues:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;opened&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;reopened&#x27;</span></span><br><span class="line">  <span class="attr">issue_comment:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;created&#x27;</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span></span><br><span class="line">    <span class="attr">inputs:</span></span><br><span class="line">      <span class="attr">issue_number:</span></span><br><span class="line">        <span class="attr">description:</span> <span class="string">&#x27;issue number to triage&#x27;</span></span><br><span class="line">        <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">&#x27;number&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">concurrency:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">&#x27;$&#123;&#123; github.workflow &#125;&#125;-$&#123;&#123; github.event.issue.number &#125;&#125;&#x27;</span></span><br><span class="line">  <span class="attr">cancel-in-progress:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">defaults:</span></span><br><span class="line">  <span class="attr">run:</span></span><br><span class="line">    <span class="attr">shell:</span> <span class="string">&#x27;bash&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">permissions:</span></span><br><span class="line">  <span class="attr">contents:</span> <span class="string">&#x27;read&#x27;</span></span><br><span class="line">  <span class="attr">issues:</span> <span class="string">&#x27;write&#x27;</span></span><br><span class="line">  <span class="attr">statuses:</span> <span class="string">&#x27;write&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">triage-issue:</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">      github.event_name == &#x27;issues&#x27; ||</span></span><br><span class="line"><span class="string">      github.event_name == &#x27;workflow_dispatch&#x27; ||</span></span><br><span class="line"><span class="string">      (</span></span><br><span class="line"><span class="string">        github.event_name == &#x27;issue_comment&#x27; &amp;&amp;</span></span><br><span class="line"><span class="string">        contains(github.event.comment.body, &#x27;@iflow-cli /triage&#x27;) &amp;&amp;</span></span><br><span class="line"><span class="string">        contains(fromJSON(&#x27;[&quot;OWNER&quot;, &quot;MEMBER&quot;, &quot;COLLABORATOR&quot;]&#x27;), github.event.comment.author_association)</span></span><br><span class="line"><span class="string">      )</span></span><br><span class="line"><span class="string"></span>    <span class="attr">timeout-minutes:</span> <span class="number">5</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">&#x27;ubuntu-latest&#x27;</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repository</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Run iFlow CLI Issue Triage&#x27;</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">vibe-ideas/iflow-cli-action@main</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">&#x27;iflow_cli_issue_triage&#x27;</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">GITHUB_TOKEN:</span> <span class="string">&#x27;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">ISSUE_TITLE:</span> <span class="string">&#x27;$&#123;&#123; github.event.issue.title &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">ISSUE_BODY:</span> <span class="string">&#x27;$&#123;&#123; github.event.issue.body &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">ISSUE_NUMBER:</span> <span class="string">&#x27;$&#123;&#123; github.event.issue.number &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">REPOSITORY:</span> <span class="string">&#x27;$&#123;&#123; github.repository &#125;&#125;&#x27;</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">api_key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.IFLOW_API_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">timeout:</span> <span class="string">&quot;3600&quot;</span></span><br><span class="line">          <span class="attr">extra_args:</span> <span class="string">&quot;--debug&quot;</span></span><br><span class="line">          <span class="attr">prompt:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            ## Role</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">            <span class="string">You</span> <span class="string">are</span> <span class="string">an</span> <span class="string">issue</span> <span class="string">triage</span> <span class="string">assistant.</span> <span class="string">Analyze</span> <span class="string">the</span> <span class="string">current</span> <span class="string">GitHub</span> <span class="string">issue</span></span><br><span class="line">            <span class="string">and</span> <span class="string">apply</span> <span class="string">the</span> <span class="string">most</span> <span class="string">appropriate</span> <span class="string">existing</span> <span class="string">labels.</span> <span class="string">Use</span> <span class="string">the</span> <span class="string">available</span></span><br><span class="line">            <span class="string">tools</span> <span class="string">to</span> <span class="string">gather</span> <span class="string">information;</span> <span class="string">do</span> <span class="string">not</span> <span class="string">ask</span> <span class="string">for</span> <span class="string">information</span> <span class="string">to</span> <span class="string">be</span></span><br><span class="line">            <span class="string">provided.</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## Steps</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">1. Run:</span> <span class="string">`gh</span> <span class="string">label</span> <span class="string">list`</span> <span class="string">to</span> <span class="string">get</span> <span class="string">all</span> <span class="string">available</span> <span class="string">labels.</span></span><br><span class="line">            <span class="number">2</span><span class="string">.</span> <span class="string">Review</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">title</span> <span class="string">and</span> <span class="string">body</span> <span class="string">provided</span> <span class="string">in</span> <span class="string">the</span> <span class="string">environment</span></span><br><span class="line">               <span class="attr">variables:</span> <span class="string">&quot;$&#123;ISSUE_TITLE&#125;&quot;</span> <span class="string">and</span> <span class="string">&quot;$&#123;ISSUE_BODY&#125;&quot;</span><span class="string">.</span></span><br><span class="line">            <span class="number">3</span><span class="string">.</span> <span class="string">Classify</span> <span class="string">issues</span> <span class="string">by</span> <span class="string">their</span> <span class="string">kind</span> <span class="string">(bug,</span> <span class="string">enhancement,</span> <span class="string">documentation,</span></span><br><span class="line">               <span class="string">cleanup,</span> <span class="string">etc)</span> <span class="string">and</span> <span class="string">their</span> <span class="string">priority</span> <span class="string">(p0,</span> <span class="string">p1,</span> <span class="string">p2,</span> <span class="string">p3).</span> <span class="string">Set</span> <span class="string">the</span></span><br><span class="line">               <span class="string">labels</span> <span class="string">according</span> <span class="string">to</span> <span class="string">the</span> <span class="string">format</span> <span class="string">`kind/*`</span> <span class="string">and</span> <span class="string">`priority/*`</span> <span class="string">patterns.</span></span><br><span class="line">            <span class="attr">4. Apply the selected labels to this issue using:</span></span><br><span class="line">               <span class="string">`gh</span> <span class="string">issue</span> <span class="string">edit</span> <span class="string">&quot;$&#123;ISSUE_NUMBER&#125;&quot;</span> <span class="string">--add-label</span> <span class="string">&quot;label1,label2&quot;</span><span class="string">`</span></span><br><span class="line">            <span class="number">5</span><span class="string">.</span> <span class="string">If</span> <span class="string">the</span> <span class="string">&quot;status/needs-triage&quot;</span> <span class="string">label</span> <span class="string">is</span> <span class="string">present,</span> <span class="attr">remove it using:</span></span><br><span class="line">               <span class="string">`gh</span> <span class="string">issue</span> <span class="string">edit</span> <span class="string">&quot;$&#123;ISSUE_NUMBER&#125;&quot;</span> <span class="string">--remove-label</span> <span class="string">&quot;status/needs-triage&quot;</span><span class="string">`</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## Guidelines</span></span><br><span class="line"></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Only</span> <span class="string">use</span> <span class="string">labels</span> <span class="string">that</span> <span class="string">already</span> <span class="string">exist</span> <span class="string">in</span> <span class="string">the</span> <span class="string">repository</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Do</span> <span class="string">not</span> <span class="string">add</span> <span class="string">comments</span> <span class="string">or</span> <span class="string">modify</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">content</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Triage</span> <span class="string">only</span> <span class="string">the</span> <span class="string">current</span> <span class="string">issue</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Assign</span> <span class="string">all</span> <span class="string">applicable</span> <span class="string">labels</span> <span class="string">based</span> <span class="string">on</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">content</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Reference</span> <span class="string">all</span> <span class="string">shell</span> <span class="string">variables</span> <span class="string">as</span> <span class="string">&quot;$&#123;VAR&#125;&quot;</span> <span class="string">(with</span> <span class="string">quotes</span> <span class="string">and</span> <span class="string">braces)</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Post Issue Triage Failure Comment&#x27;</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">          $&#123;&#123; failure() &amp;&amp; steps.iflow_cli_issue_triage.outcome == &#x27;failure&#x27; &#125;&#125;</span></span><br><span class="line"><span class="string"></span>        <span class="attr">uses:</span> <span class="string">&#x27;actions/github-script@60a0d83039c74a4aee543508d2ffcb1c3799cdea&#x27;</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">github-token:</span> <span class="string">&#x27;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">script:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">            github.rest.issues.createComment(&#123;</span></span><br><span class="line"><span class="string">              owner: &#x27;$&#123;&#123; github.repository &#125;&#125;&#x27;.split(&#x27;/&#x27;)[0],</span></span><br><span class="line"><span class="string">              repo: &#x27;$&#123;&#123; github.repository &#125;&#125;&#x27;.split(&#x27;/&#x27;)[1],</span></span><br><span class="line"><span class="string">              issue_number: &#x27;$&#123;&#123; github.event.issue.number &#125;&#125;&#x27;,</span></span><br><span class="line"><span class="string">              body: &#x27;There is a problem with the iFlow CLI issue triaging. Please check the [action logs]($&#123;&#123; github.server_url &#125;&#125;/$&#123;&#123; github.repository &#125;&#125;/actions/runs/$&#123;&#123; github.run_id &#125;&#125;) for details.&#x27;</span></span><br><span class="line"><span class="string">            &#125;)</span></span><br></pre></td></tr></table></figure>
<p>如果是一些存量的 issue, 可以直接在 issue 中评论 <code>@iflow-cli /triage</code> 触发自动分类。效果如下, 可以看到 issue 被 GitHub Actions 的 robot 机器人打上了标签 <a target="_blank" rel="noopener" href="https://github.com/vibe-ideas/iflow-cli-action/issues/14">https://github.com/vibe-ideas/iflow-cli-action/issues/14</a>:</p>
<p><img src="https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/issue-auto-triage.png" alt="issue triage"></p>
<h2 id="%E8%AE%A9-iflow-cli-%E6%88%90%E4%B8%BA-github-issues-%E6%9D%80%E6%89%8B" tabindex="-1">让 iFLOW CLI 成为 GitHub issues 杀手</h2>
<p>前文介绍了 issue 的自动分类, 介绍来, 我会将会使用一个 GitHub issues 杀手, 让 iFLOW CLI 帮我们实现某个特性 feature issue 或者修复某个 bug issue。工作流定义如下:</p>
<details class="tag-plugin colorful folding" ><summary><p>GitHub Actions 工作流定义</p>
</summary><div class="body"><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">&#x27;🚀 iFlow CLI Issue Killer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">issue_comment:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;created&#x27;</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span></span><br><span class="line">    <span class="attr">inputs:</span></span><br><span class="line">      <span class="attr">issue_number:</span></span><br><span class="line">        <span class="attr">description:</span> <span class="string">&#x27;issue number to implement&#x27;</span></span><br><span class="line">        <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">&#x27;number&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">concurrency:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">&#x27;$&#123;&#123; github.workflow &#125;&#125;-$&#123;&#123; github.event.issue.number &#125;&#125;&#x27;</span></span><br><span class="line">  <span class="attr">cancel-in-progress:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">defaults:</span></span><br><span class="line">  <span class="attr">run:</span></span><br><span class="line">    <span class="attr">shell:</span> <span class="string">&#x27;bash&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">permissions:</span></span><br><span class="line">  <span class="attr">contents:</span> <span class="string">&#x27;write&#x27;</span></span><br><span class="line">  <span class="attr">issues:</span> <span class="string">&#x27;write&#x27;</span></span><br><span class="line">  <span class="attr">pull-requests:</span> <span class="string">&#x27;write&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">implement-issue:</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">      github.event_name == &#x27;workflow_dispatch&#x27; ||</span></span><br><span class="line"><span class="string">      (</span></span><br><span class="line"><span class="string">        github.event_name == &#x27;issue_comment&#x27; &amp;&amp;</span></span><br><span class="line"><span class="string">        contains(github.event.comment.body, &#x27;@iflow-cli /issue-killer&#x27;) &amp;&amp;</span></span><br><span class="line"><span class="string">        contains(fromJSON(&#x27;[&quot;OWNER&quot;, &quot;MEMBER&quot;, &quot;COLLABORATOR&quot;]&#x27;), github.event.comment.author_association)</span></span><br><span class="line"><span class="string">      )</span></span><br><span class="line"><span class="string"></span>    <span class="attr">timeout-minutes:</span> <span class="number">30</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">&#x27;ubuntu-latest&#x27;</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repository</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITHUB_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Get</span> <span class="string">Issue</span> <span class="string">Details</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">get_issue</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">&#x27;actions/github-script@60a0d83039c74a4aee543508d2ffcb1c3799cdea&#x27;</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">github-token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITHUB_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">script:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            const issue_number = process.env.INPUT_ISSUE_NUMBER || context.issue.number;</span></span><br><span class="line"><span class="string">            core.setOutput(&#x27;issue_number&#x27;, issue_number);</span></span><br><span class="line"><span class="string"></span>            </span><br><span class="line">            <span class="string">const</span> <span class="string">issue</span> <span class="string">=</span> <span class="string">await</span> <span class="string">github.rest.issues.get(&#123;</span></span><br><span class="line">              <span class="attr">owner:</span> <span class="string">context.repo.owner,</span></span><br><span class="line">              <span class="attr">repo:</span> <span class="string">context.repo.repo,</span></span><br><span class="line">              <span class="attr">issue_number:</span> <span class="string">parseInt(issue_number)</span></span><br><span class="line">            <span class="string">&#125;);</span></span><br><span class="line">            </span><br><span class="line">            <span class="string">core.setOutput(&#x27;issue_title&#x27;,</span> <span class="string">issue.data.title);</span></span><br><span class="line">            <span class="string">core.setOutput(&#x27;issue_body&#x27;,</span> <span class="string">issue.data.body);</span></span><br><span class="line">            </span><br><span class="line">            <span class="string">//</span> <span class="string">Parse</span> <span class="string">implementation</span> <span class="string">request</span> <span class="string">from</span> <span class="string">comment</span> <span class="string">or</span> <span class="string">use</span> <span class="string">issue</span> <span class="string">body</span></span><br><span class="line">            <span class="string">let</span> <span class="string">implementation_request</span> <span class="string">=</span> <span class="string">issue.data.body;</span></span><br><span class="line">            <span class="string">if</span> <span class="string">(context.eventName</span> <span class="string">===</span> <span class="string">&#x27;issue_comment&#x27;</span><span class="string">)</span> &#123;</span><br><span class="line">              <span class="string">implementation_request</span> <span class="string">=</span> <span class="string">context.payload.comment.body.replace(&#x27;@iflow-cli</span> <span class="string">/issue-killer&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="string">).trim();</span></span><br><span class="line">              <span class="string">if</span> <span class="string">(implementation_request</span> <span class="string">===</span> <span class="string">&#x27;&#x27;</span><span class="string">)</span> &#123;</span><br><span class="line">                <span class="string">implementation_request</span> <span class="string">=</span> <span class="string">issue.data.body;</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="string">core.setOutput(&#x27;implementation_request&#x27;,</span> <span class="string">implementation_request);</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Run iFlow CLI Implementation&#x27;</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">vibe-ideas/iflow-cli-action@main</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">&#x27;iflow_cli_implementation&#x27;</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">GITHUB_TOKEN:</span> <span class="string">&#x27;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">ISSUE_TITLE:</span> <span class="string">&#x27;$&#123;&#123; steps.get_issue.outputs.issue_title &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">ISSUE_BODY:</span> <span class="string">&#x27;$&#123;&#123; steps.get_issue.outputs.issue_body &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">ISSUE_NUMBER:</span> <span class="string">&#x27;$&#123;&#123; steps.get_issue.outputs.issue_number &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">REPOSITORY:</span> <span class="string">&#x27;$&#123;&#123; github.repository &#125;&#125;&#x27;</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">api_key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.IFLOW_API_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">timeout:</span> <span class="string">&quot;1800&quot;</span></span><br><span class="line">          <span class="attr">extra_args:</span> <span class="string">&quot;--debug&quot;</span></span><br><span class="line">          <span class="attr">settings_json:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                &quot;selectedAuthType&quot;: &quot;iflow&quot;,</span></span><br><span class="line"><span class="string">                &quot;apiKey&quot;: &quot;$&#123;&#123; secrets.IFLOW_API_KEY &#125;&#125;&quot;,</span></span><br><span class="line"><span class="string">                &quot;baseUrl&quot;: &quot;https://apis.iflow.cn/v1&quot;,</span></span><br><span class="line"><span class="string">                &quot;modelName&quot;: &quot;Qwen3-Coder&quot;,</span></span><br><span class="line"><span class="string">                &quot;searchApiKey&quot;: &quot;$&#123;&#123; secrets.IFLOW_API_KEY &#125;&#125;&quot;,</span></span><br><span class="line"><span class="string">                &quot;mcpServers&quot;: &#123;</span></span><br><span class="line"><span class="string">                  &quot;github&quot;: &#123;</span></span><br><span class="line"><span class="string">                  &quot;command&quot;: &quot;github-mcp-server&quot;,</span></span><br><span class="line"><span class="string">                  &quot;args&quot;: [</span></span><br><span class="line"><span class="string">                    &quot;stdio&quot;</span></span><br><span class="line"><span class="string">                  ],</span></span><br><span class="line"><span class="string">                  &quot;includeTools&quot;: [</span></span><br><span class="line"><span class="string">                    &quot;create_pull_request&quot;,</span></span><br><span class="line"><span class="string">                    &quot;list_pull_requests&quot;,</span></span><br><span class="line"><span class="string">                    &quot;add_issue_comment&quot;</span></span><br><span class="line"><span class="string">                  ],</span></span><br><span class="line"><span class="string">                    &quot;env&quot;: &#123;</span></span><br><span class="line"><span class="string">                      &quot;GITHUB_PERSONAL_ACCESS_TOKEN&quot;: &quot;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&quot;</span></span><br><span class="line"><span class="string">                    &#125;</span></span><br><span class="line"><span class="string">                  &#125;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string"></span>          <span class="attr">prompt:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            ## Role</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">            <span class="string">You</span> <span class="string">are</span> <span class="string">an</span> <span class="string">implementation</span> <span class="string">assistant.</span> <span class="string">Your</span> <span class="string">task</span> <span class="string">is</span> <span class="string">to</span> <span class="string">implement</span> <span class="string">a</span> <span class="string">feature</span></span><br><span class="line">            <span class="attr">based on the GitHub issue provided. Follow these steps:</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">1. **FIRST**:</span> <span class="string">Create</span> <span class="string">a</span> <span class="string">start</span> <span class="string">comment</span> <span class="string">on</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">using</span> <span class="string">the</span> <span class="string">GitHub</span> <span class="string">MCP</span> <span class="string">tool</span></span><br><span class="line">            <span class="number">2</span><span class="string">.</span> <span class="string">Analyze</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">title</span> <span class="string">and</span> <span class="string">body</span> <span class="string">provided</span> <span class="string">in</span> <span class="string">the</span> <span class="string">environment</span></span><br><span class="line">               <span class="attr">variables:</span> <span class="string">&quot;$&#123;ISSUE_TITLE&#125;&quot;</span> <span class="string">and</span> <span class="string">&quot;$&#123;ISSUE_BODY&#125;&quot;</span><span class="string">.</span></span><br><span class="line">            <span class="number">3</span><span class="string">.</span> <span class="string">If</span> <span class="string">the</span> <span class="string">comment</span> <span class="string">that</span> <span class="string">triggered</span> <span class="string">this</span> <span class="string">action</span> <span class="string">contains</span> <span class="string">additional</span></span><br><span class="line">               <span class="string">implementation</span> <span class="string">instructions,</span> <span class="string">use</span> <span class="string">those</span> <span class="string">as</span> <span class="string">well.</span></span><br><span class="line">            <span class="number">4</span><span class="string">.</span> <span class="string">Implement</span> <span class="string">the</span> <span class="string">requested</span> <span class="string">feature</span> <span class="string">by</span> <span class="string">creating</span> <span class="string">or</span> <span class="string">modifying</span> <span class="string">files</span> <span class="string">as</span></span><br><span class="line">               <span class="string">needed.</span></span><br><span class="line">            <span class="number">5</span><span class="string">.</span> <span class="string">Ensure</span> <span class="string">all</span> <span class="string">changes</span> <span class="string">are</span> <span class="string">complete</span> <span class="string">and</span> <span class="string">correct</span> <span class="string">according</span> <span class="string">to</span> <span class="string">the</span> <span class="string">issue</span></span><br><span class="line">               <span class="string">requirements.</span></span><br><span class="line">            <span class="number">6</span><span class="string">.</span> <span class="string">Do</span> <span class="string">not</span> <span class="string">add</span> <span class="string">comments</span> <span class="string">or</span> <span class="string">modify</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">content</span> <span class="string">beyond</span> <span class="string">the</span> <span class="string">required</span> <span class="string">start</span> <span class="string">and</span> <span class="string">completion</span> <span class="string">comments.</span></span><br><span class="line">            <span class="number">7</span><span class="string">.</span> <span class="string">Focus</span> <span class="string">only</span> <span class="string">on</span> <span class="string">implementing</span> <span class="string">the</span> <span class="string">current</span> <span class="string">issue.</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## Creating Start Comment</span></span><br><span class="line"></span><br><span class="line">            <span class="string">Before</span> <span class="string">starting</span> <span class="string">the</span> <span class="string">implementation,</span> <span class="attr">create a start comment on the issue using the GitHub MCP tool:</span></span><br><span class="line">            <span class="number">1</span><span class="string">.</span> <span class="string">Use</span> <span class="string">the</span> <span class="string">add_issue_comment</span> <span class="string">to</span> <span class="string">add</span> <span class="string">a</span> <span class="string">comment</span> <span class="string">to</span> <span class="string">issue</span> <span class="comment">#$&#123;ISSUE_NUMBER&#125;</span></span><br><span class="line">            <span class="attr">2. The start comment should include:</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">🚀</span> <span class="string">Notification</span> <span class="string">that</span> <span class="string">the</span> <span class="string">implementation</span> <span class="string">task</span> <span class="string">has</span> <span class="string">started</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">🤖</span> <span class="string">Mention</span> <span class="string">that</span> <span class="string">iFlow</span> <span class="string">CLI</span> <span class="string">Issue</span> <span class="string">Killer</span> <span class="string">is</span> <span class="string">processing</span> <span class="string">the</span> <span class="string">issue</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">📋</span> <span class="attr">Current status:</span> <span class="string">analyzing</span> <span class="string">and</span> <span class="string">implementing</span> <span class="string">the</span> <span class="string">feature</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">📝</span> <span class="attr">**Execution Plan**:</span> <span class="string">Brief</span> <span class="string">outline</span> <span class="string">of</span> <span class="string">the</span> <span class="string">planned</span> <span class="string">implementation</span> <span class="string">steps</span> <span class="string">based</span> <span class="string">on</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">requirements</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">⏱️</span> <span class="attr">Expected time:</span> <span class="string">usually</span> <span class="string">takes</span> <span class="string">a</span> <span class="string">few</span> <span class="string">minutes</span> <span class="string">to</span> <span class="string">ten</span> <span class="string">minutes</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">🔍</span> <span class="attr">**View execution logs**:</span> [<span class="string">GitHub</span> <span class="string">Actions</span> <span class="string">Run</span>]<span class="string">($&#123;&#123;</span> <span class="string">github.server_url</span> <span class="string">&#125;&#125;/$&#123;&#123;</span> <span class="string">github.repository</span> <span class="string">&#125;&#125;/actions/runs/$&#123;&#123;</span> <span class="string">github.run_id</span> <span class="string">&#125;&#125;)</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">🤖</span> <span class="string">Note</span> <span class="string">that</span> <span class="string">this</span> <span class="string">is</span> <span class="string">an</span> <span class="string">automated</span> <span class="string">comment</span> <span class="string">and</span> <span class="string">there</span> <span class="string">will</span> <span class="string">be</span> <span class="string">a</span> <span class="string">completion</span> <span class="string">notification</span></span><br><span class="line">            <span class="number">3</span><span class="string">.</span> <span class="string">For</span> <span class="string">the</span> <span class="string">execution</span> <span class="string">plan,</span> <span class="string">analyze</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">requirements</span> <span class="string">and</span> <span class="string">provide</span> <span class="string">a</span> <span class="string">clear,</span> <span class="string">numbered</span> <span class="string">list</span> <span class="string">of</span> <span class="string">implementation</span> <span class="string">steps,</span> <span class="attr">such as:</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">Files</span> <span class="string">to</span> <span class="string">be</span> <span class="string">created</span> <span class="string">or</span> <span class="string">modified</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">Key</span> <span class="string">functionality</span> <span class="string">to</span> <span class="string">be</span> <span class="string">implemented</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">Tests</span> <span class="string">to</span> <span class="string">be</span> <span class="string">added</span> <span class="string">or</span> <span class="string">updated</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">Dependencies</span> <span class="string">or</span> <span class="string">configurations</span> <span class="string">to</span> <span class="string">be</span> <span class="string">changed</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## Guidelines</span></span><br><span class="line"></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Make</span> <span class="string">all</span> <span class="string">necessary</span> <span class="string">code</span> <span class="string">changes</span> <span class="string">to</span> <span class="string">implement</span> <span class="string">the</span> <span class="string">feature</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Ensure</span> <span class="string">new</span> <span class="string">code</span> <span class="string">follows</span> <span class="string">existing</span> <span class="string">project</span> <span class="string">conventions</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Add</span> <span class="string">or</span> <span class="string">modify</span> <span class="string">tests</span> <span class="string">if</span> <span class="string">applicable</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Reference</span> <span class="string">all</span> <span class="string">shell</span> <span class="string">variables</span> <span class="string">as</span> <span class="string">&quot;$&#123;VAR&#125;&quot;</span> <span class="string">(with</span> <span class="string">quotes</span> <span class="string">and</span> <span class="string">braces)</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">## Creating Pull Request</span></span><br><span class="line">            </span><br><span class="line">            <span class="string">Once</span> <span class="string">you</span> <span class="string">have</span> <span class="string">implemented</span> <span class="string">the</span> <span class="string">feature,</span> <span class="attr">create a pull request using the GitHub MCP tool:</span></span><br><span class="line">            <span class="number">1</span><span class="string">.</span> <span class="string">Use</span> <span class="string">the</span> <span class="string">create_pull_request</span> <span class="string">to</span> <span class="string">create</span> <span class="string">a</span> <span class="string">Pull</span> <span class="string">Request.</span></span><br><span class="line">            <span class="number">2</span><span class="string">.</span> <span class="string">The</span> <span class="string">PR</span> <span class="string">should</span> <span class="string">be</span> <span class="string">created</span> <span class="string">from</span> <span class="string">a</span> <span class="string">new</span> <span class="string">branch</span> <span class="string">with</span> <span class="string">a</span> <span class="string">descriptive</span> <span class="string">name</span> <span class="string">(e.g.,</span> <span class="string">feature/issue-$&#123;ISSUE_NUMBER&#125;,</span> <span class="string">fix/issue-$&#123;ISSUE_NUMBER&#125;,</span> <span class="string">or</span> <span class="string">a</span> <span class="string">descriptive</span> <span class="string">name</span> <span class="string">based</span> <span class="string">on</span> <span class="string">the</span> <span class="string">feature)</span></span><br><span class="line">            <span class="number">3</span><span class="string">.</span> <span class="string">The</span> <span class="string">PR</span> <span class="string">title</span> <span class="string">should</span> <span class="string">be</span> <span class="string">descriptive</span> <span class="string">and</span> <span class="string">reference</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">number</span></span><br><span class="line">            <span class="number">4</span><span class="string">.</span> <span class="string">The</span> <span class="string">PR</span> <span class="string">body</span> <span class="string">should</span> <span class="string">explain</span> <span class="string">what</span> <span class="string">was</span> <span class="string">implemented</span> <span class="string">and</span> <span class="string">reference</span> <span class="string">the</span> <span class="string">issue</span></span><br><span class="line">            <span class="number">5</span><span class="string">.</span> <span class="string">Remember</span> <span class="string">the</span> <span class="string">branch</span> <span class="string">name</span> <span class="string">you</span> <span class="string">create,</span> <span class="string">as</span> <span class="string">it</span> <span class="string">will</span> <span class="string">be</span> <span class="string">needed</span> <span class="string">for</span> <span class="string">the</span> <span class="string">completion</span> <span class="string">comment</span> <span class="string">if</span> <span class="string">PR</span> <span class="string">creation</span> <span class="string">fails</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">## Creating Completion Comment</span></span><br><span class="line">            </span><br><span class="line">            <span class="string">After</span> <span class="string">successfully</span> <span class="string">implementing</span> <span class="string">the</span> <span class="string">feature</span> <span class="string">and</span> <span class="string">creating</span> <span class="string">the</span> <span class="string">PR,</span> <span class="attr">add a completion comment to the issue using the GitHub MCP tool:</span></span><br><span class="line">            <span class="number">1</span><span class="string">.</span> <span class="string">Use</span> <span class="string">the</span> <span class="string">add_issue_comment</span> <span class="string">to</span> <span class="string">add</span> <span class="string">a</span> <span class="string">comment</span> <span class="string">to</span> <span class="string">issue</span> <span class="comment">#$&#123;ISSUE_NUMBER&#125;</span></span><br><span class="line">            <span class="attr">2. The comment should include:</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">✅</span> <span class="string">Confirmation</span> <span class="string">that</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">has</span> <span class="string">been</span> <span class="string">implemented</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">🎉</span> <span class="string">Brief</span> <span class="string">summary</span> <span class="string">of</span> <span class="string">what</span> <span class="string">was</span> <span class="string">accomplished</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">📋</span> <span class="string">List</span> <span class="string">of</span> <span class="string">key</span> <span class="string">changes</span> <span class="string">made</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">🔗</span> <span class="string">Link</span> <span class="string">to</span> <span class="string">the</span> <span class="string">created</span> <span class="string">Pull</span> <span class="string">Request</span> <span class="string">(if</span> <span class="string">successful)</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">📝</span> <span class="string">If</span> <span class="string">PR</span> <span class="string">creation</span> <span class="string">failed,</span> <span class="string">provide</span> <span class="string">a</span> <span class="string">manual</span> <span class="string">PR</span> <span class="string">creation</span> <span class="string">link</span> <span class="string">using</span> <span class="string">the</span> <span class="string">actual</span> <span class="string">branch</span> <span class="string">name</span> <span class="string">you</span> <span class="string">created,</span> <span class="attr">like:</span> <span class="string">https://github.com/$&#123;&#123;</span> <span class="string">github.repository</span> <span class="string">&#125;&#125;/compare/main...[YOUR_BRANCH_NAME]</span></span><br><span class="line">               <span class="bullet">-</span> <span class="string">🤖</span> <span class="string">Note</span> <span class="string">that</span> <span class="string">this</span> <span class="string">is</span> <span class="string">an</span> <span class="string">automated</span> <span class="string">implementation</span></span><br><span class="line">            <span class="number">3</span><span class="string">.</span> <span class="string">Use</span> <span class="string">a</span> <span class="string">friendly</span> <span class="string">tone</span> <span class="string">and</span> <span class="string">include</span> <span class="string">appropriate</span> <span class="string">emojis</span> <span class="string">for</span> <span class="string">better</span> <span class="string">user</span> <span class="string">experience</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Post Implementation Failure Comment&#x27;</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">          $&#123;&#123; failure() &amp;&amp; steps.iflow_cli_implementation.outcome == &#x27;failure&#x27; &#125;&#125;</span></span><br><span class="line"><span class="string"></span>        <span class="attr">uses:</span> <span class="string">&#x27;actions/github-script@60a0d83039c74a4aee543508d2ffcb1c3799cdea&#x27;</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">github-token:</span> <span class="string">&#x27;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">script:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">            github.rest.issues.createComment(&#123;</span></span><br><span class="line"><span class="string">              owner: &#x27;$&#123;&#123; github.repository &#125;&#125;&#x27;.split(&#x27;/&#x27;)[0],</span></span><br><span class="line"><span class="string">              repo: &#x27;$&#123;&#123; github.repository &#125;&#125;&#x27;.split(&#x27;/&#x27;)[1],</span></span><br><span class="line"><span class="string">              issue_number: &#x27;$&#123;&#123; steps.get_issue.outputs.issue_number &#125;&#125;&#x27;,</span></span><br><span class="line"><span class="string">              body: &#x27;There is a problem with the iFlow CLI issue implementation. Please check the [action logs]($&#123;&#123; github.server_url &#125;&#125;/$&#123;&#123; github.repository &#125;&#125;/actions/runs/$&#123;&#123; github.run_id &#125;&#125;) for details.&#x27;</span></span><br><span class="line"><span class="string">            &#125;)</span></span><br></pre></td></tr></table></figure> </div></details>
<p>我将上述工作流的执行机制, 转化为了 mermaid 时序图, 供快速了解, 执行机制大概是这样的：我们只需要在 issue 下评论 <code>@iflow-cli /issue-killer</code> 即可触发这个工作流。iFLOW CLI 会使用 <a target="_blank" rel="noopener" href="https://github.com/github/github-mcp-server">GitHub MCP Server</a> 和 <a target="_blank" rel="noopener" href="https://github.com/cli/cli">gh cli</a> 命令行工具自动分析 Issue 内容并生成执行计划, 生成代码, 生成完成后会提醒开发者工作已经完成。</p>
<pre class="mermaid">sequenceDiagram
    participant User as 用户
    participant GitHub as GitHub
    participant iFlow as iFlow CLI
    participant MCP as GitHub MCP 工具

    User->>GitHub: 在 Issue 中评论 @iflow-cli /issue-killer
    GitHub->>iFlow: 触发工作流并传递 Issue 信息
    iFlow->>MCP: 调用 add_issue_comment 添加开始评论
    iFlow->>iFlow: 分析 Issue 内容并生成执行计划
    iFlow->>MCP: 使用 create_pull_request 创建 PR
    iFlow->>MCP: 调用 add_issue_comment 添加完成评论
    Note over iFlow,MCP: 若执行失败, 则添加失败评论</pre>
<p>具体的效果可以查看这个 iflow-cli-action 代码仓库的这个 issue, 我让 iFLOW CLI 去自动的帮花优化 iflow-cli-action 使用的镜像体积:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/vibe-ideas/iflow-cli-action/issues/14">https://github.com/vibe-ideas/iflow-cli-action/issues/14</a></p>
<p><img src="https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/issue-killer.jpg" alt="issue killer"></p>
<p>可以看到 iFLOW CLI 会在执行前大概告知我们执行计划, 然后执行成功后, 会自动在 Issue 中评论引导我们创建 Pull Request.</p>
<h2 id="%E8%AE%A9-iflow-cli-%E5%AF%B9-github-pr-%E8%BF%9B%E8%A1%8C%E8%AF%84%E5%AE%A1" tabindex="-1">让 iFLOW CLI 对 GitHub PR 进行评审</h2>
<p>接下来我们再看一个常见的使用场景：代码评审, 话不多说, 我们直接上 GitHub Actions 自动化工作流定义, 工作流程如下：</p>
<pre class="mermaid">sequenceDiagram
    participant User as 用户
    participant GitHub as GitHub
    participant iFlow as iFlow CLI
    participant MCP as GitHub MCP 工具

    User->>GitHub: PR 中评论 @iflow-cli /review
    GitHub->>iFlow: 触发 PR Review 工作流
    iFlow->>GitHub: 获取 PR 详细信息和变更文件列表
    iFlow->>iFlow: 分析 PR 变更内容与上下文
    iFlow->>MCP: 创建待处理的 PR 审查
    loop 逐文件审查
        iFlow->>MCP: 添加行内评论或代码建议(含严重性标识)
    end
    iFlow->>MCP: 提交 PR 审查并附上总结评论
    Note over iFlow,MCP: 若执行失败, 则添加失败评论到 PR</pre>
<p>整体的实现机制与 issue-killer 大差不差, 只是替换了使用到的 MCP 工具. 直接在 PR 中评论 <code>@iflow-cli /review</code> 即可触发.</p>
<p>你可以在这个代码评审中看到实际效果: <a target="_blank" rel="noopener" href="https://github.com/vibe-ideas/iflow-cli-action/pull/15">https://github.com/vibe-ideas/iflow-cli-action/pull/15</a></p>
<p><img src="https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/pr-review.jpg" alt="pr review"></p>
<details class="tag-plugin colorful folding" ><summary><p>GitHub Actions 工作流定义</p>
</summary><div class="body"><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">&#x27;🧐 iFLOW CLI Pull Request Review&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">pull_request:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;opened&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;reopened&#x27;</span></span><br><span class="line">  <span class="attr">issue_comment:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;created&#x27;</span></span><br><span class="line">  <span class="attr">pull_request_review_comment:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;created&#x27;</span></span><br><span class="line">  <span class="attr">pull_request_review:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;submitted&#x27;</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span></span><br><span class="line">    <span class="attr">inputs:</span></span><br><span class="line">      <span class="attr">pr_number:</span></span><br><span class="line">        <span class="attr">description:</span> <span class="string">&#x27;PR number to review&#x27;</span></span><br><span class="line">        <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">&#x27;number&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">concurrency:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">&#x27;$&#123;&#123; github.workflow &#125;&#125;-$&#123;&#123; github.head_ref || github.ref &#125;&#125;&#x27;</span></span><br><span class="line">  <span class="attr">cancel-in-progress:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">defaults:</span></span><br><span class="line">  <span class="attr">run:</span></span><br><span class="line">    <span class="attr">shell:</span> <span class="string">&#x27;bash&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">permissions:</span></span><br><span class="line">  <span class="attr">contents:</span> <span class="string">&#x27;read&#x27;</span></span><br><span class="line">  <span class="attr">issues:</span> <span class="string">&#x27;write&#x27;</span></span><br><span class="line">  <span class="attr">pull-requests:</span> <span class="string">&#x27;write&#x27;</span></span><br><span class="line">  <span class="attr">statuses:</span> <span class="string">&#x27;write&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">review-pr:</span></span><br><span class="line">    <span class="comment"># This condition seeks to ensure the action is only run when it is triggered by a trusted user.</span></span><br><span class="line">    <span class="comment"># For private repos, users who have access to the repo are considered trusted.</span></span><br><span class="line">    <span class="comment"># For public repos, users who members, owners, or collaborators are considered trusted.</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">      github.event_name == &#x27;workflow_dispatch&#x27; ||</span></span><br><span class="line"><span class="string">      (</span></span><br><span class="line"><span class="string">        github.event_name == &#x27;pull_request&#x27; &amp;&amp;</span></span><br><span class="line"><span class="string">        (</span></span><br><span class="line"><span class="string">          github.event.repository.private == true ||</span></span><br><span class="line"><span class="string">          contains(fromJSON(&#x27;[&quot;OWNER&quot;, &quot;MEMBER&quot;, &quot;COLLABORATOR&quot;]&#x27;), github.event.pull_request.author_association)</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">      ) ||</span></span><br><span class="line"><span class="string">      (</span></span><br><span class="line"><span class="string">        (</span></span><br><span class="line"><span class="string">          (</span></span><br><span class="line"><span class="string">            github.event_name == &#x27;issue_comment&#x27; &amp;&amp;</span></span><br><span class="line"><span class="string">            github.event.issue.pull_request</span></span><br><span class="line"><span class="string">          ) ||</span></span><br><span class="line"><span class="string">          github.event_name == &#x27;pull_request_review_comment&#x27;</span></span><br><span class="line"><span class="string">        ) &amp;&amp;</span></span><br><span class="line"><span class="string">        (</span></span><br><span class="line"><span class="string">          contains(github.event.comment.body, &#x27;@iflow-cli /review &#x27;) ||</span></span><br><span class="line"><span class="string">          contains(github.event.comment.body, &#x27;@iFlow-CLI /review &#x27;) ||</span></span><br><span class="line"><span class="string">          contains(github.event.comment.body, &#x27;@IFLOW-CLI /review &#x27;) ||</span></span><br><span class="line"><span class="string">          contains(github.event.comment.body, &#x27;@IFlow-CLI /review &#x27;) ||</span></span><br><span class="line"><span class="string">          endsWith(github.event.comment.body, &#x27;@iflow-cli /review&#x27;) ||</span></span><br><span class="line"><span class="string">          endsWith(github.event.comment.body, &#x27;@iFlow-CLI /review&#x27;) ||</span></span><br><span class="line"><span class="string">          endsWith(github.event.comment.body, &#x27;@IFLOW-CLI /review&#x27;) ||</span></span><br><span class="line"><span class="string">          endsWith(github.event.comment.body, &#x27;@IFlow-CLI /review&#x27;)</span></span><br><span class="line"><span class="string">        ) &amp;&amp;</span></span><br><span class="line"><span class="string">        (</span></span><br><span class="line"><span class="string">          github.event.repository.private == true ||</span></span><br><span class="line"><span class="string">          contains(fromJSON(&#x27;[&quot;OWNER&quot;, &quot;MEMBER&quot;, &quot;COLLABORATOR&quot;]&#x27;), github.event.comment.author_association)</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">      ) ||</span></span><br><span class="line"><span class="string">      (</span></span><br><span class="line"><span class="string">        github.event_name == &#x27;pull_request_review&#x27; &amp;&amp;</span></span><br><span class="line"><span class="string">        (</span></span><br><span class="line"><span class="string">          contains(github.event.review.body, &#x27;@iflow-cli /review &#x27;) ||</span></span><br><span class="line"><span class="string">          contains(github.event.review.body, &#x27;@iFlow-CLI /review &#x27;) ||</span></span><br><span class="line"><span class="string">          contains(github.event.review.body, &#x27;@IFLOW-CLI /review &#x27;) ||</span></span><br><span class="line"><span class="string">          contains(github.event.review.body, &#x27;@IFlow-CLI /review &#x27;) ||</span></span><br><span class="line"><span class="string">          endsWith(github.event.review.body, &#x27;@iflow-cli /review&#x27;) ||</span></span><br><span class="line"><span class="string">          endsWith(github.event.review.body, &#x27;@iFlow-CLI /review&#x27;) ||</span></span><br><span class="line"><span class="string">          endsWith(github.event.review.body, &#x27;@IFLOW-CLI /review&#x27;) ||</span></span><br><span class="line"><span class="string">          endsWith(github.event.review.body, &#x27;@IFlow-CLI /review&#x27;)</span></span><br><span class="line"><span class="string">        ) &amp;&amp;</span></span><br><span class="line"><span class="string">        (</span></span><br><span class="line"><span class="string">          github.event.repository.private == true ||</span></span><br><span class="line"><span class="string">          contains(fromJSON(&#x27;[&quot;OWNER&quot;, &quot;MEMBER&quot;, &quot;COLLABORATOR&quot;]&#x27;), github.event.review.author_association)</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">      )</span></span><br><span class="line"><span class="string"></span>    <span class="attr">timeout-minutes:</span> <span class="number">5</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">&#x27;ubuntu-latest&#x27;</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Checkout PR code&#x27;</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">&#x27;actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683&#x27;</span> <span class="comment"># ratchet:actions/checkout@v4</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Get PR details (pull_request &amp; workflow_dispatch)&#x27;</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">&#x27;get_pr&#x27;</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">          $&#123;&#123; github.event_name == &#x27;pull_request&#x27; || github.event_name == &#x27;workflow_dispatch&#x27; &#125;&#125;</span></span><br><span class="line"><span class="string"></span>        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">GITHUB_TOKEN:</span> <span class="string">&#x27;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">EVENT_NAME:</span> <span class="string">&#x27;$&#123;&#123; github.event_name &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">WORKFLOW_PR_NUMBER:</span> <span class="string">&#x27;$&#123;&#123; github.event.inputs.pr_number &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">PULL_REQUEST_NUMBER:</span> <span class="string">&#x27;$&#123;&#123; github.event.pull_request.number &#125;&#125;&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">          set -euo pipefail</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">          <span class="string">if</span> [[ <span class="string">&quot;$&#123;EVENT_NAME&#125;&quot;</span> <span class="string">=</span> <span class="string">&quot;workflow_dispatch&quot;</span> ]]<span class="string">;</span> <span class="string">then</span></span><br><span class="line">            <span class="string">PR_NUMBER=&quot;$&#123;WORKFLOW_PR_NUMBER&#125;&quot;</span></span><br><span class="line">          <span class="string">else</span></span><br><span class="line">            <span class="string">PR_NUMBER=&quot;$&#123;PULL_REQUEST_NUMBER&#125;&quot;</span></span><br><span class="line">          <span class="string">fi</span></span><br><span class="line"></span><br><span class="line">          <span class="string">echo</span> <span class="string">&quot;pr_number=$&#123;PR_NUMBER&#125;&quot;</span> <span class="string">&gt;&gt;</span> <span class="string">&quot;$&#123;GITHUB_OUTPUT&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">          <span class="comment"># Get PR details</span></span><br><span class="line">          <span class="string">PR_DATA=&quot;$(gh</span> <span class="string">pr</span> <span class="string">view</span> <span class="string">&quot;$&#123;PR_NUMBER&#125;&quot;</span> <span class="string">--json</span> <span class="string">title,body,additions,deletions,changedFiles,baseRefName,headRefName)&quot;</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&quot;pr_data=$&#123;PR_DATA&#125;&quot;</span> <span class="string">&gt;&gt;</span> <span class="string">&quot;$&#123;GITHUB_OUTPUT&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">          <span class="comment"># Get file changes</span></span><br><span class="line">          <span class="string">CHANGED_FILES=&quot;$(gh</span> <span class="string">pr</span> <span class="string">diff</span> <span class="string">&quot;$&#123;PR_NUMBER&#125;&quot;</span> <span class="string">--name-only)&quot;</span></span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">echo</span> <span class="string">&quot;changed_files&lt;&lt;EOF&quot;</span></span><br><span class="line">            <span class="string">echo</span> <span class="string">&quot;$&#123;CHANGED_FILES&#125;&quot;</span></span><br><span class="line">            <span class="string">echo</span> <span class="string">&quot;EOF&quot;</span></span><br><span class="line">          &#125; <span class="string">&gt;&gt;</span> <span class="string">&quot;$&#123;GITHUB_OUTPUT&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Get PR details (issue_comment &amp; reviews)&#x27;</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">&#x27;get_pr_comment&#x27;</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">          $&#123;&#123; github.event_name == &#x27;issue_comment&#x27; || github.event_name == &#x27;pull_request_review&#x27; || github.event_name == &#x27;pull_request_review_comment&#x27; &#125;&#125;</span></span><br><span class="line"><span class="string"></span>        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">GITHUB_TOKEN:</span> <span class="string">&#x27;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">COMMENT_BODY:</span> <span class="string">&#x27;$&#123;&#123; github.event.comment.body || github.event.review.body &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">PR_NUMBER:</span> <span class="string">&#x27;$&#123;&#123; github.event.issue.number || github.event.pull_request.number &#125;&#125;&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">          set -euo pipefail</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&quot;pr_number=$&#123;PR_NUMBER&#125;&quot;</span> <span class="string">&gt;&gt;</span> <span class="string">&quot;$&#123;GITHUB_OUTPUT&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">          <span class="comment"># Extract additional instructions from comment (case insensitive, exact match for /review)</span></span><br><span class="line">          <span class="string">ADDITIONAL_INSTRUCTIONS=&quot;&quot;</span></span><br><span class="line">          <span class="string">if</span> <span class="string">echo</span> <span class="string">&quot;$&#123;COMMENT_BODY&#125;&quot;</span> <span class="string">|</span> <span class="string">grep</span> <span class="string">-qiE</span> <span class="string">&#x27;@iflow-cli[[:space:]]+/review([[:space:]]|$)&#x27;</span><span class="string">;</span> <span class="string">then</span></span><br><span class="line">            <span class="string">ADDITIONAL_INSTRUCTIONS=&quot;$(echo</span> <span class="string">&quot;$&#123;COMMENT_BODY&#125;&quot;</span> <span class="string">|</span> <span class="string">sed</span> <span class="string">-E</span> <span class="string">&#x27;s/.*@[iI][fF][lL][oO][wW]-[cC][lL][iI][[:space:]]+\/[rR][eE][vV][iI][eE][wW][[:space:]]*(.*)/\1/&#x27;</span> <span class="string">|</span> <span class="string">sed</span> <span class="string">&#x27;s/^[[:space:]]*//;s/[[:space:]]*$//&#x27;</span><span class="string">)&quot;</span></span><br><span class="line">          <span class="string">fi</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&quot;additional_instructions=$&#123;ADDITIONAL_INSTRUCTIONS&#125;&quot;</span> <span class="string">&gt;&gt;</span> <span class="string">&quot;$&#123;GITHUB_OUTPUT&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">          <span class="comment"># Get PR details</span></span><br><span class="line">          <span class="string">PR_DATA=&quot;$(gh</span> <span class="string">pr</span> <span class="string">view</span> <span class="string">&quot;$&#123;PR_NUMBER&#125;&quot;</span> <span class="string">--json</span> <span class="string">title,body,additions,deletions,changedFiles,baseRefName,headRefName)&quot;</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&quot;pr_data=$&#123;PR_DATA&#125;&quot;</span> <span class="string">&gt;&gt;</span> <span class="string">&quot;$&#123;GITHUB_OUTPUT&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">          <span class="comment"># Get file changes</span></span><br><span class="line">          <span class="string">CHANGED_FILES=&quot;$(gh</span> <span class="string">pr</span> <span class="string">diff</span> <span class="string">&quot;$&#123;PR_NUMBER&#125;&quot;</span> <span class="string">--name-only)&quot;</span></span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">echo</span> <span class="string">&quot;changed_files&lt;&lt;EOF&quot;</span></span><br><span class="line">            <span class="string">echo</span> <span class="string">&quot;$&#123;CHANGED_FILES&#125;&quot;</span></span><br><span class="line">            <span class="string">echo</span> <span class="string">&quot;EOF&quot;</span></span><br><span class="line">          &#125; <span class="string">&gt;&gt;</span> <span class="string">&quot;$&#123;GITHUB_OUTPUT&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Run iFLOW CLI PR Review&#x27;</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">./</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">&#x27;iflow_cli_pr_review&#x27;</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">GITHUB_TOKEN:</span> <span class="string">&#x27;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">PR_NUMBER:</span> <span class="string">&#x27;$&#123;&#123; steps.get_pr.outputs.pr_number || steps.get_pr_comment.outputs.pr_number &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">PR_DATA:</span> <span class="string">&#x27;$&#123;&#123; steps.get_pr.outputs.pr_data || steps.get_pr_comment.outputs.pr_data &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">CHANGED_FILES:</span> <span class="string">&#x27;$&#123;&#123; steps.get_pr.outputs.changed_files || steps.get_pr_comment.outputs.changed_files &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">ADDITIONAL_INSTRUCTIONS:</span> <span class="string">&#x27;$&#123;&#123; steps.get_pr.outputs.additional_instructions || steps.get_pr_comment.outputs.additional_instructions &#125;&#125;&#x27;</span></span><br><span class="line">          <span class="attr">REPOSITORY:</span> <span class="string">&#x27;$&#123;&#123; github.repository &#125;&#125;&#x27;</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">api_key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.IFLOW_API_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">timeout:</span> <span class="string">&quot;3600&quot;</span></span><br><span class="line">          <span class="attr">extra_args:</span> <span class="string">&quot;--debug&quot;</span></span><br><span class="line">          <span class="attr">settings_json:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                &quot;selectedAuthType&quot;: &quot;iflow&quot;,</span></span><br><span class="line"><span class="string">                &quot;apiKey&quot;: &quot;$&#123;&#123; secrets.IFLOW_API_KEY &#125;&#125;&quot;,</span></span><br><span class="line"><span class="string">                &quot;baseUrl&quot;: &quot;https://apis.iflow.cn/v1&quot;,</span></span><br><span class="line"><span class="string">                &quot;modelName&quot;: &quot;Qwen3-Coder&quot;,</span></span><br><span class="line"><span class="string">                &quot;searchApiKey&quot;: &quot;$&#123;&#123; secrets.IFLOW_API_KEY &#125;&#125;&quot;,</span></span><br><span class="line"><span class="string">                &quot;mcpServers&quot;: &#123;</span></span><br><span class="line"><span class="string">                  &quot;github&quot;: &#123;</span></span><br><span class="line"><span class="string">                  &quot;command&quot;: &quot;github-mcp-server&quot;,</span></span><br><span class="line"><span class="string">                  &quot;args&quot;: [</span></span><br><span class="line"><span class="string">                    &quot;stdio&quot;</span></span><br><span class="line"><span class="string">                  ],</span></span><br><span class="line"><span class="string">                  &quot;includeTools&quot;: [</span></span><br><span class="line"><span class="string">                    &quot;create_pending_pull_request_review&quot;,</span></span><br><span class="line"><span class="string">                    &quot;add_comment_to_pending_review&quot;,</span></span><br><span class="line"><span class="string">                    &quot;submit_pending_pull_request_review&quot;,</span></span><br><span class="line"><span class="string">                    &quot;list_pull_requests&quot;</span></span><br><span class="line"><span class="string">                  ],</span></span><br><span class="line"><span class="string">                    &quot;env&quot;: &#123;</span></span><br><span class="line"><span class="string">                      &quot;GITHUB_PERSONAL_ACCESS_TOKEN&quot;: &quot;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&quot;</span></span><br><span class="line"><span class="string">                    &#125;</span></span><br><span class="line"><span class="string">                  &#125;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string"></span>          <span class="attr">prompt:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            ## Role</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">            <span class="string">You</span> <span class="string">are</span> <span class="string">an</span> <span class="string">expert</span> <span class="string">code</span> <span class="string">reviewer.</span> <span class="string">You</span> <span class="string">have</span> <span class="string">access</span> <span class="string">to</span> <span class="string">tools</span> <span class="string">to</span> <span class="string">gather</span></span><br><span class="line">            <span class="string">PR</span> <span class="string">information</span> <span class="string">and</span> <span class="string">perform</span> <span class="string">the</span> <span class="string">review</span> <span class="string">on</span> <span class="string">GitHub.</span> <span class="string">Use</span> <span class="string">the</span> <span class="string">available</span> <span class="string">tools</span> <span class="string">to</span></span><br><span class="line">            <span class="string">gather</span> <span class="string">information;</span> <span class="string">do</span> <span class="string">not</span> <span class="string">ask</span> <span class="string">for</span> <span class="string">information</span> <span class="string">to</span> <span class="string">be</span> <span class="string">provided.</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## Requirements</span></span><br><span class="line">            <span class="number">1</span><span class="string">.</span> <span class="string">All</span> <span class="string">feedback</span> <span class="string">must</span> <span class="string">be</span> <span class="string">left</span> <span class="string">on</span> <span class="string">GitHub.</span></span><br><span class="line">            <span class="number">2</span><span class="string">.</span> <span class="string">Any</span> <span class="string">output</span> <span class="string">that</span> <span class="string">is</span> <span class="string">not</span> <span class="string">left</span> <span class="string">in</span> <span class="string">GitHub</span> <span class="string">will</span> <span class="string">not</span> <span class="string">be</span> <span class="string">seen.</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## Steps</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">Start by running these commands to gather the required data:</span></span><br><span class="line">            <span class="attr">1. Run:</span> <span class="string">echo</span> <span class="string">&quot;$&#123;REPOSITORY&#125;&quot;</span> <span class="string">to</span> <span class="string">get</span> <span class="string">the</span> <span class="string">github</span> <span class="string">repository</span> <span class="string">in</span> <span class="string">&lt;OWNER&gt;/&lt;REPO&gt;</span> <span class="string">format</span></span><br><span class="line">            <span class="attr">2. Run:</span> <span class="string">echo</span> <span class="string">&quot;$&#123;PR_DATA&#125;&quot;</span> <span class="string">to</span> <span class="string">get</span> <span class="string">PR</span> <span class="string">details</span> <span class="string">(JSON</span> <span class="string">format)</span></span><br><span class="line">            <span class="attr">3. Run:</span> <span class="string">echo</span> <span class="string">&quot;$&#123;CHANGED_FILES&#125;&quot;</span> <span class="string">to</span> <span class="string">get</span> <span class="string">the</span> <span class="string">list</span> <span class="string">of</span> <span class="string">changed</span> <span class="string">files</span></span><br><span class="line">            <span class="attr">4. Run:</span> <span class="string">echo</span> <span class="string">&quot;$&#123;PR_NUMBER&#125;&quot;</span> <span class="string">to</span> <span class="string">get</span> <span class="string">the</span> <span class="string">PR</span> <span class="string">number</span></span><br><span class="line">            <span class="attr">5. Run:</span> <span class="string">echo</span> <span class="string">&quot;$&#123;ADDITIONAL_INSTRUCTIONS&#125;&quot;</span> <span class="string">to</span> <span class="string">see</span> <span class="string">any</span> <span class="string">specific</span> <span class="string">review</span></span><br><span class="line">               <span class="string">instructions</span> <span class="string">from</span> <span class="string">the</span> <span class="string">user</span></span><br><span class="line">            <span class="attr">6. Run:</span> <span class="string">gh</span> <span class="string">pr</span> <span class="string">diff</span> <span class="string">&quot;$&#123;PR_NUMBER&#125;&quot;</span> <span class="string">to</span> <span class="string">see</span> <span class="string">the</span> <span class="string">full</span> <span class="string">diff</span> <span class="string">and</span> <span class="string">reference</span></span><br><span class="line">            <span class="string">Context</span> <span class="string">section</span> <span class="string">to</span> <span class="string">understand</span> <span class="string">it</span></span><br><span class="line">            <span class="number">7</span><span class="string">.</span> <span class="string">For</span> <span class="string">any</span> <span class="string">specific</span> <span class="string">files,</span> <span class="attr">use:</span> <span class="string">cat</span> <span class="string">filename,</span> <span class="string">head</span> <span class="number">-50</span> <span class="string">filename,</span> <span class="string">or</span></span><br><span class="line">               <span class="string">tail</span> <span class="number">-50</span> <span class="string">filename</span></span><br><span class="line">            <span class="number">8</span><span class="string">.</span> <span class="string">If</span> <span class="string">ADDITIONAL_INSTRUCTIONS</span> <span class="string">contains</span> <span class="string">text,</span> <span class="string">prioritize</span> <span class="string">those</span></span><br><span class="line">               <span class="string">specific</span> <span class="string">areas</span> <span class="string">or</span> <span class="string">focus</span> <span class="string">points</span> <span class="string">in</span> <span class="string">your</span> <span class="string">review.</span> <span class="string">Common</span> <span class="string">instruction</span></span><br><span class="line">               <span class="attr">examples:</span> <span class="string">&quot;focus on security&quot;</span><span class="string">,</span> <span class="string">&quot;check performance&quot;</span><span class="string">,</span> <span class="string">&quot;review error</span></span><br><span class="line"><span class="string">               handling&quot;</span><span class="string">,</span> <span class="string">&quot;check for breaking changes&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## Guideline</span></span><br><span class="line">            <span class="comment">### Core Guideline(Always applicable)</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">1. Understand the Context:</span> <span class="string">Analyze</span> <span class="string">the</span> <span class="string">pull</span> <span class="string">request</span> <span class="string">title,</span> <span class="string">description,</span> <span class="string">changes,</span> <span class="string">and</span> <span class="string">code</span> <span class="string">files</span> <span class="string">to</span> <span class="string">grasp</span> <span class="string">the</span> <span class="string">intent.</span></span><br><span class="line">            <span class="attr">2. Meticulous Review:</span> <span class="string">Thoroughly</span> <span class="string">review</span> <span class="string">all</span> <span class="string">relevant</span> <span class="string">code</span> <span class="string">changes,</span> <span class="string">prioritizing</span> <span class="string">added</span> <span class="string">lines.</span> <span class="string">Consider</span> <span class="string">the</span> <span class="string">specified</span></span><br><span class="line">              <span class="string">focus</span> <span class="string">areas</span> <span class="string">and</span> <span class="string">any</span> <span class="string">provided</span> <span class="string">style</span> <span class="string">guide.</span></span><br><span class="line">            <span class="attr">3. Comprehensive Review:</span> <span class="string">Ensure</span> <span class="string">that</span> <span class="string">the</span> <span class="string">code</span> <span class="string">is</span> <span class="string">thoroughly</span> <span class="string">reviewed,</span> <span class="string">as</span> <span class="string">it&#x27;s</span> <span class="string">important</span> <span class="string">to</span> <span class="string">the</span> <span class="string">author</span></span><br><span class="line">              <span class="string">that</span> <span class="string">you</span> <span class="string">identify</span> <span class="string">any</span> <span class="string">and</span> <span class="string">all</span> <span class="string">relevant</span> <span class="string">issues</span> <span class="string">(subject</span> <span class="string">to</span> <span class="string">the</span> <span class="string">review</span> <span class="string">criteria</span> <span class="string">and</span> <span class="string">style</span> <span class="string">guide).</span></span><br><span class="line">              <span class="string">Missing</span> <span class="string">any</span> <span class="string">issues</span> <span class="string">will</span> <span class="string">lead</span> <span class="string">to</span> <span class="string">a</span> <span class="string">poor</span> <span class="string">code</span> <span class="string">review</span> <span class="string">experience</span> <span class="string">for</span> <span class="string">the</span> <span class="string">author.</span></span><br><span class="line">            <span class="attr">4. Constructive Feedback:</span></span><br><span class="line">              <span class="string">*</span> <span class="string">Provide</span> <span class="string">clear</span> <span class="string">explanations</span> <span class="string">for</span> <span class="string">each</span> <span class="string">concern.</span></span><br><span class="line">              <span class="string">*</span> <span class="string">Offer</span> <span class="string">specific,</span> <span class="string">improved</span> <span class="string">code</span> <span class="string">suggestions</span> <span class="string">and</span> <span class="string">suggest</span> <span class="string">alternative</span> <span class="string">approaches,</span> <span class="string">when</span> <span class="string">applicable.</span></span><br><span class="line">                <span class="string">Code</span> <span class="string">suggestions</span> <span class="string">in</span> <span class="string">particular</span> <span class="string">are</span> <span class="string">very</span> <span class="string">helpful</span> <span class="string">so</span> <span class="string">that</span> <span class="string">the</span> <span class="string">author</span> <span class="string">can</span> <span class="string">directly</span> <span class="string">apply</span> <span class="string">them</span></span><br><span class="line">                <span class="string">to</span> <span class="string">their</span> <span class="string">code,</span> <span class="string">but</span> <span class="string">they</span> <span class="string">must</span> <span class="string">be</span> <span class="string">accurately</span> <span class="string">anchored</span> <span class="string">to</span> <span class="string">the</span> <span class="string">lines</span> <span class="string">that</span> <span class="string">should</span> <span class="string">be</span> <span class="string">replaced.</span></span><br><span class="line">            <span class="attr">5. Severity Indication:</span> <span class="string">Clearly</span> <span class="string">indicate</span> <span class="string">the</span> <span class="string">severity</span> <span class="string">of</span> <span class="string">the</span> <span class="string">issue</span> <span class="string">in</span> <span class="string">the</span> <span class="string">review</span> <span class="string">comment.</span></span><br><span class="line">              <span class="string">This</span> <span class="string">is</span> <span class="string">very</span> <span class="string">important</span> <span class="string">to</span> <span class="string">help</span> <span class="string">the</span> <span class="string">author</span> <span class="string">understand</span> <span class="string">the</span> <span class="string">urgency</span> <span class="string">of</span> <span class="string">the</span> <span class="string">issue.</span></span><br><span class="line">              <span class="attr">The severity should be one of the following (which are provided below in decreasing order of severity):</span></span><br><span class="line">              <span class="string">*</span> <span class="string">`critical`:</span> <span class="string">This</span> <span class="string">issue</span> <span class="string">must</span> <span class="string">be</span> <span class="string">addressed</span> <span class="string">immediately,</span> <span class="string">as</span> <span class="string">it</span> <span class="string">could</span> <span class="string">lead</span> <span class="string">to</span> <span class="string">serious</span> <span class="string">consequences</span></span><br><span class="line">                <span class="string">for</span> <span class="string">the</span> <span class="string">code&#x27;s</span> <span class="string">correctness,</span> <span class="string">security,</span> <span class="string">or</span> <span class="string">performance.</span></span><br><span class="line">              <span class="string">*</span> <span class="string">`high`:</span> <span class="string">This</span> <span class="string">issue</span> <span class="string">should</span> <span class="string">be</span> <span class="string">addressed</span> <span class="string">soon,</span> <span class="string">as</span> <span class="string">it</span> <span class="string">could</span> <span class="string">cause</span> <span class="string">problems</span> <span class="string">in</span> <span class="string">the</span> <span class="string">future.</span></span><br><span class="line">              <span class="string">*</span> <span class="string">`medium`:</span> <span class="string">This</span> <span class="string">issue</span> <span class="string">should</span> <span class="string">be</span> <span class="string">considered</span> <span class="string">for</span> <span class="string">future</span> <span class="string">improvement,</span> <span class="string">but</span> <span class="string">it&#x27;s</span> <span class="string">not</span> <span class="string">critical</span> <span class="string">or</span> <span class="string">urgent.</span></span><br><span class="line">              <span class="string">*</span> <span class="string">`low`:</span> <span class="string">This</span> <span class="string">issue</span> <span class="string">is</span> <span class="string">minor</span> <span class="string">or</span> <span class="string">stylistic,</span> <span class="string">and</span> <span class="string">can</span> <span class="string">be</span> <span class="string">addressed</span> <span class="string">at</span> <span class="string">the</span> <span class="string">author&#x27;s</span> <span class="string">discretion.</span></span><br><span class="line">            <span class="number">6</span><span class="string">.</span> <span class="string">Avoid</span> <span class="string">commenting</span> <span class="string">on</span> <span class="string">hardcoded</span> <span class="string">dates</span> <span class="string">and</span> <span class="string">times</span> <span class="string">being</span> <span class="string">in</span> <span class="string">future</span> <span class="string">or</span> <span class="string">not</span> <span class="string">(for</span> <span class="string">example</span> <span class="string">&quot;this date is in the future&quot;</span><span class="string">).</span></span><br><span class="line">              <span class="string">*</span> <span class="string">Remember</span> <span class="string">you</span> <span class="string">don&#x27;t</span> <span class="string">have</span> <span class="string">access</span> <span class="string">to</span> <span class="string">the</span> <span class="string">current</span> <span class="string">date</span> <span class="string">and</span> <span class="string">time</span> <span class="string">and</span> <span class="string">leave</span> <span class="string">that</span> <span class="string">to</span> <span class="string">the</span> <span class="string">author.</span></span><br><span class="line">            <span class="attr">7. Targeted Suggestions:</span> <span class="string">Limit</span> <span class="string">all</span> <span class="string">suggestions</span> <span class="string">to</span> <span class="string">only</span> <span class="string">portions</span> <span class="string">that</span> <span class="string">are</span> <span class="string">modified</span> <span class="string">in</span> <span class="string">the</span> <span class="string">diff</span> <span class="string">hunks.</span></span><br><span class="line">              <span class="string">This</span> <span class="string">is</span> <span class="string">a</span> <span class="string">strict</span> <span class="string">requirement</span> <span class="string">as</span> <span class="string">the</span> <span class="string">GitHub</span> <span class="string">(and</span> <span class="string">other</span> <span class="string">SCM&#x27;s)</span> <span class="string">API</span> <span class="string">won&#x27;t</span> <span class="string">allow</span> <span class="string">comments</span> <span class="string">on</span> <span class="string">parts</span> <span class="string">of</span> <span class="string">code</span> <span class="string">files</span> <span class="string">that</span> <span class="string">are</span> <span class="string">not</span></span><br><span class="line">              <span class="string">included</span> <span class="string">in</span> <span class="string">the</span> <span class="string">diff</span> <span class="string">hunks.</span></span><br><span class="line">            <span class="attr">8. Code Suggestions in Review Comments:</span></span><br><span class="line">              <span class="attr">* Succinctness:</span> <span class="string">Aim</span> <span class="string">to</span> <span class="string">make</span> <span class="string">code</span> <span class="string">suggestions</span> <span class="string">succinct,</span> <span class="string">unless</span> <span class="string">necessary.</span> <span class="string">Larger</span> <span class="string">code</span> <span class="string">suggestions</span> <span class="string">tend</span> <span class="string">to</span> <span class="string">be</span></span><br><span class="line">                <span class="string">harder</span> <span class="string">for</span> <span class="string">pull</span> <span class="string">request</span> <span class="string">authors</span> <span class="string">to</span> <span class="string">commit</span> <span class="string">directly</span> <span class="string">in</span> <span class="string">the</span> <span class="string">pull</span> <span class="string">request</span> <span class="string">UI.</span></span><br><span class="line">              <span class="attr">* Valid Formatting:</span>  <span class="string">Provide</span> <span class="string">code</span> <span class="string">suggestions</span> <span class="string">within</span> <span class="string">the</span> <span class="string">suggestion</span> <span class="string">field</span> <span class="string">of</span> <span class="string">the</span> <span class="string">JSON</span> <span class="string">response</span> <span class="string">(as</span> <span class="string">a</span> <span class="string">string</span> <span class="string">literal,</span></span><br><span class="line">                <span class="string">escaping</span> <span class="string">special</span> <span class="string">characters</span> <span class="string">like</span> <span class="string">\n,</span> <span class="string">\\,</span> <span class="string">\&quot;).</span>  <span class="string">Do</span> <span class="string">not</span> <span class="string">include</span> <span class="string">markdown</span> <span class="string">code</span> <span class="string">blocks</span> <span class="string">in</span> <span class="string">the</span> <span class="string">suggestion</span> <span class="string">field.</span></span><br><span class="line">                <span class="string">Use</span> <span class="string">markdown</span> <span class="string">code</span> <span class="string">blocks</span> <span class="string">in</span> <span class="string">the</span> <span class="string">body</span> <span class="string">of</span> <span class="string">the</span> <span class="string">comment</span> <span class="string">only</span> <span class="string">for</span> <span class="string">broader</span> <span class="string">examples</span> <span class="string">or</span> <span class="string">if</span> <span class="string">a</span> <span class="string">suggestion</span> <span class="string">field</span> <span class="string">would</span></span><br><span class="line">                <span class="string">create</span> <span class="string">an</span> <span class="string">excessively</span> <span class="string">large</span> <span class="string">diff.</span>  <span class="string">Prefer</span> <span class="string">the</span> <span class="string">suggestion</span> <span class="string">field</span> <span class="string">for</span> <span class="string">specific,</span> <span class="string">targeted</span> <span class="string">code</span> <span class="string">changes.</span></span><br><span class="line">              <span class="attr">* Line Number Accuracy:</span> <span class="string">Code</span> <span class="string">suggestions</span> <span class="string">need</span> <span class="string">to</span> <span class="string">align</span> <span class="string">perfectly</span> <span class="string">with</span> <span class="string">the</span> <span class="string">code</span> <span class="string">it</span> <span class="string">intend</span> <span class="string">to</span> <span class="string">replace.</span></span><br><span class="line">                <span class="string">Pay</span> <span class="string">special</span> <span class="string">attention</span> <span class="string">to</span> <span class="string">line</span> <span class="string">numbers</span> <span class="string">when</span> <span class="string">creating</span> <span class="string">comments,</span> <span class="string">particularly</span> <span class="string">if</span> <span class="string">there</span> <span class="string">is</span> <span class="string">a</span> <span class="string">code</span> <span class="string">suggestion.</span></span><br><span class="line">                <span class="string">Note</span> <span class="string">the</span> <span class="string">patch</span> <span class="string">includes</span> <span class="string">code</span> <span class="string">versions</span> <span class="string">with</span> <span class="string">line</span> <span class="string">numbers</span> <span class="string">for</span> <span class="string">the</span> <span class="string">before</span> <span class="string">and</span> <span class="string">after</span> <span class="string">code</span> <span class="string">snippets</span> <span class="string">for</span> <span class="string">each</span> <span class="string">diff,</span> <span class="string">so</span> <span class="string">use</span> <span class="string">these</span> <span class="string">to</span> <span class="string">anchor</span></span><br><span class="line">                <span class="string">your</span> <span class="string">comments</span> <span class="string">and</span> <span class="string">corresponding</span> <span class="string">code</span> <span class="string">suggestions.</span></span><br><span class="line">              <span class="attr">* Compilable:</span> <span class="string">Code</span> <span class="string">suggestions</span> <span class="string">should</span> <span class="string">be</span> <span class="string">compilable</span> <span class="string">code</span> <span class="string">snippets</span> <span class="string">that</span> <span class="string">can</span> <span class="string">be</span> <span class="string">directly</span> <span class="string">copy/pasted</span> <span class="string">into</span> <span class="string">the</span> <span class="string">code</span> <span class="string">file.</span></span><br><span class="line">                <span class="string">If</span> <span class="string">the</span> <span class="string">suggestion</span> <span class="string">is</span> <span class="string">not</span> <span class="string">compilable,</span> <span class="string">it</span> <span class="string">will</span> <span class="string">not</span> <span class="string">be</span> <span class="string">accepted</span> <span class="string">by</span> <span class="string">the</span> <span class="string">pull</span> <span class="string">request.</span> <span class="string">Note</span> <span class="string">that</span> <span class="string">not</span> <span class="string">all</span> <span class="string">languages</span> <span class="string">Are</span></span><br><span class="line">                <span class="string">compiled</span> <span class="string">of</span> <span class="string">course,</span> <span class="string">so</span> <span class="string">by</span> <span class="string">compilable</span> <span class="string">here,</span> <span class="string">we</span> <span class="string">mean</span> <span class="string">either</span> <span class="string">literally</span> <span class="string">or</span> <span class="string">in</span> <span class="string">spirit.</span></span><br><span class="line">              <span class="attr">* Inline Code Comments:</span> <span class="string">Feel</span> <span class="string">free</span> <span class="string">to</span> <span class="string">add</span> <span class="string">brief</span> <span class="string">comments</span> <span class="string">to</span> <span class="string">the</span> <span class="string">code</span> <span class="string">suggestion</span> <span class="string">if</span> <span class="string">it</span> <span class="string">enhances</span> <span class="string">the</span> <span class="string">underlying</span> <span class="string">code</span> <span class="string">readability.</span></span><br><span class="line">                <span class="string">Just</span> <span class="string">make</span> <span class="string">sure</span> <span class="string">that</span> <span class="string">the</span> <span class="string">inline</span> <span class="string">code</span> <span class="string">comments</span> <span class="string">add</span> <span class="string">value,</span> <span class="string">and</span> <span class="string">are</span> <span class="string">not</span> <span class="string">just</span> <span class="string">restating</span> <span class="string">what</span> <span class="string">the</span> <span class="string">code</span> <span class="string">does.</span> <span class="string">Don&#x27;t</span> <span class="string">use</span></span><br><span class="line">                <span class="string">inline</span> <span class="string">comments</span> <span class="string">to</span> <span class="string">&quot;teach&quot;</span> <span class="string">the</span> <span class="string">author</span> <span class="string">(use</span> <span class="string">the</span> <span class="string">review</span> <span class="string">comment</span> <span class="string">body</span> <span class="string">directly</span> <span class="string">for</span> <span class="string">that),</span> <span class="string">instead</span> <span class="string">use</span> <span class="string">it</span> <span class="string">if</span> <span class="string">it&#x27;s</span> <span class="string">beneficial</span></span><br><span class="line">                <span class="string">to</span> <span class="string">the</span> <span class="string">readability</span> <span class="string">of</span> <span class="string">the</span> <span class="string">code</span> <span class="string">itself.</span></span><br><span class="line">            <span class="attr">10. Markdown Formatting:</span> <span class="string">Heavily</span> <span class="string">leverage</span> <span class="string">the</span> <span class="string">benefits</span> <span class="string">of</span> <span class="string">markdown</span> <span class="string">for</span> <span class="string">formatting,</span> <span class="string">such</span> <span class="string">as</span> <span class="string">bulleted</span> <span class="string">lists,</span> <span class="string">bold</span> <span class="string">text,</span> <span class="string">tables,</span> <span class="string">etc.</span></span><br><span class="line">            <span class="attr">11. Avoid mistaken review comments:</span></span><br><span class="line">              <span class="string">*</span> <span class="string">Any</span> <span class="string">comment</span> <span class="string">you</span> <span class="string">make</span> <span class="string">must</span> <span class="string">point</span> <span class="string">towards</span> <span class="string">a</span> <span class="string">discrepancy</span> <span class="string">found</span> <span class="string">in</span> <span class="string">the</span> <span class="string">code</span> <span class="string">and</span> <span class="string">the</span> <span class="string">best</span> <span class="string">practice</span> <span class="string">surfaced</span> <span class="string">in</span> <span class="string">your</span> <span class="string">feedback.</span></span><br><span class="line">                <span class="string">For</span> <span class="string">example,</span> <span class="string">if</span> <span class="string">you</span> <span class="string">are</span> <span class="string">pointing</span> <span class="string">out</span> <span class="string">that</span> <span class="string">constants</span> <span class="string">need</span> <span class="string">to</span> <span class="string">be</span> <span class="string">named</span> <span class="string">in</span> <span class="string">all</span> <span class="string">caps</span> <span class="string">with</span> <span class="string">underscores,</span></span><br><span class="line">                <span class="string">ensure</span> <span class="string">that</span> <span class="string">the</span> <span class="string">code</span> <span class="string">selected</span> <span class="string">by</span> <span class="string">the</span> <span class="string">comment</span> <span class="string">does</span> <span class="string">not</span> <span class="string">already</span> <span class="string">do</span> <span class="string">this,</span> <span class="string">otherwise</span> <span class="string">it&#x27;s</span> <span class="string">confusing</span> <span class="string">let</span> <span class="string">alone</span> <span class="string">unnecessary.</span></span><br><span class="line">            <span class="attr">12. Remove Duplicated code suggestions:</span></span><br><span class="line">              <span class="string">*</span> <span class="string">Some</span> <span class="string">provided</span> <span class="string">code</span> <span class="string">suggestions</span> <span class="string">are</span> <span class="string">duplicated,</span> <span class="string">please</span> <span class="string">remove</span> <span class="string">the</span> <span class="string">duplicated</span> <span class="string">review</span> <span class="string">comments.</span></span><br><span class="line">            <span class="number">13</span><span class="string">.</span> <span class="string">Don&#x27;t</span> <span class="string">Approve</span> <span class="string">The</span> <span class="string">Pull</span> <span class="string">Request</span></span><br><span class="line">            <span class="number">14</span><span class="string">.</span> <span class="string">Reference</span> <span class="string">all</span> <span class="string">shell</span> <span class="string">variables</span> <span class="string">as</span> <span class="string">&quot;$&#123;VAR&#125;&quot;</span> <span class="string">(with</span> <span class="string">quotes</span> <span class="string">and</span> <span class="string">braces)</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">### Review Criteria (Prioritized in Review)</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">* Correctness:</span> <span class="string">Verify</span> <span class="string">code</span> <span class="string">functionality,</span> <span class="string">handle</span> <span class="string">edge</span> <span class="string">cases,</span> <span class="string">and</span> <span class="string">ensure</span> <span class="string">alignment</span> <span class="string">between</span> <span class="string">function</span></span><br><span class="line">              <span class="string">descriptions</span> <span class="string">and</span> <span class="string">implementations.</span>  <span class="string">Consider</span> <span class="string">common</span> <span class="string">correctness</span> <span class="string">issues</span> <span class="string">(logic</span> <span class="string">errors,</span> <span class="string">error</span> <span class="string">handling,</span></span><br><span class="line">              <span class="string">race</span> <span class="string">conditions,</span> <span class="string">data</span> <span class="string">validation,</span> <span class="string">API</span> <span class="string">usage,</span> <span class="string">type</span> <span class="string">mismatches).</span></span><br><span class="line">            <span class="attr">* Efficiency:</span> <span class="string">Identify</span> <span class="string">performance</span> <span class="string">bottlenecks,</span> <span class="string">optimize</span> <span class="string">for</span> <span class="string">efficiency,</span> <span class="string">and</span> <span class="string">avoid</span> <span class="string">unnecessary</span></span><br><span class="line">              <span class="string">loops,</span> <span class="string">iterations,</span> <span class="string">or</span> <span class="string">calculations.</span> <span class="string">Consider</span> <span class="string">common</span> <span class="string">efficiency</span> <span class="string">issues</span> <span class="string">(excessive</span> <span class="string">loops,</span> <span class="string">memory</span></span><br><span class="line">              <span class="string">leaks,</span> <span class="string">inefficient</span> <span class="string">data</span> <span class="string">structures,</span> <span class="string">redundant</span> <span class="string">calculations,</span> <span class="string">excessive</span> <span class="string">logging,</span> <span class="string">etc.).</span></span><br><span class="line">            <span class="attr">* Maintainability:</span> <span class="string">Assess</span> <span class="string">code</span> <span class="string">readability,</span> <span class="string">modularity,</span> <span class="string">and</span> <span class="string">adherence</span> <span class="string">to</span> <span class="string">language</span> <span class="string">idioms</span> <span class="string">and</span></span><br><span class="line">              <span class="string">best</span> <span class="string">practices.</span> <span class="string">Consider</span> <span class="string">common</span> <span class="string">maintainability</span> <span class="string">issues</span> <span class="string">(naming,</span> <span class="string">comments/documentation,</span> <span class="string">complexity,</span></span><br><span class="line">              <span class="string">code</span> <span class="string">duplication,</span> <span class="string">formatting,</span> <span class="string">magic</span> <span class="string">numbers).</span>  <span class="string">State</span> <span class="string">the</span> <span class="string">style</span> <span class="string">guide</span> <span class="string">being</span> <span class="string">followed</span> <span class="string">(defaulting</span> <span class="string">to</span></span><br><span class="line">              <span class="string">commonly</span> <span class="string">used</span> <span class="string">guides,</span> <span class="string">for</span> <span class="string">example</span> <span class="string">Python&#x27;s</span> <span class="string">PEP</span> <span class="number">8</span> <span class="string">style</span> <span class="string">guide</span> <span class="string">or</span> <span class="string">Google</span> <span class="string">Java</span> <span class="string">Style</span> <span class="string">Guide,</span> <span class="string">if</span> <span class="literal">no</span> <span class="string">style</span> <span class="string">guide</span> <span class="string">is</span> <span class="string">specified).</span></span><br><span class="line">            <span class="attr">* Security:</span> <span class="string">Identify</span> <span class="string">potential</span> <span class="string">vulnerabilities</span> <span class="string">(e.g.,</span> <span class="string">insecure</span> <span class="string">storage,</span> <span class="string">injection</span> <span class="string">attacks,</span></span><br><span class="line">              <span class="string">insufficient</span> <span class="string">access</span> <span class="string">controls).</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">### Miscellaneous Considerations</span></span><br><span class="line">            <span class="attr">* Testing:</span> <span class="string">Ensure</span> <span class="string">adequate</span> <span class="string">unit</span> <span class="string">tests,</span> <span class="string">integration</span> <span class="string">tests,</span> <span class="string">and</span> <span class="string">end-to-end</span> <span class="string">tests.</span> <span class="string">Evaluate</span></span><br><span class="line">              <span class="string">coverage,</span> <span class="string">edge</span> <span class="string">case</span> <span class="string">handling,</span> <span class="string">and</span> <span class="string">overall</span> <span class="string">test</span> <span class="string">quality.</span></span><br><span class="line">            <span class="attr">* Performance:</span> <span class="string">Assess</span> <span class="string">performance</span> <span class="string">under</span> <span class="string">expected</span> <span class="string">load,</span> <span class="string">identify</span> <span class="string">bottlenecks,</span> <span class="string">and</span> <span class="string">suggest</span></span><br><span class="line">              <span class="string">optimizations.</span></span><br><span class="line">            <span class="attr">* Scalability:</span> <span class="string">Evaluate</span> <span class="string">how</span> <span class="string">the</span> <span class="string">code</span> <span class="string">will</span> <span class="string">scale</span> <span class="string">with</span> <span class="string">growing</span> <span class="string">user</span> <span class="string">base</span> <span class="string">or</span> <span class="string">data</span> <span class="string">volume.</span></span><br><span class="line">            <span class="attr">* Modularity and Reusability:</span> <span class="string">Assess</span> <span class="string">code</span> <span class="string">organization,</span> <span class="string">modularity,</span> <span class="string">and</span> <span class="string">reusability.</span> <span class="string">Suggest</span></span><br><span class="line">              <span class="string">refactoring</span> <span class="string">or</span> <span class="string">creating</span> <span class="string">reusable</span> <span class="string">components.</span></span><br><span class="line">            <span class="attr">* Error Logging and Monitoring:</span> <span class="string">Ensure</span> <span class="string">errors</span> <span class="string">are</span> <span class="string">logged</span> <span class="string">effectively,</span> <span class="string">and</span> <span class="string">implement</span> <span class="string">monitoring</span></span><br><span class="line">              <span class="string">mechanisms</span> <span class="string">to</span> <span class="string">track</span> <span class="string">application</span> <span class="string">health</span> <span class="string">in</span> <span class="string">production.</span></span><br><span class="line"></span><br><span class="line">            <span class="string">**CRITICAL</span> <span class="string">CONSTRAINTS:**</span></span><br><span class="line"></span><br><span class="line">            <span class="string">You</span> <span class="string">MUST</span> <span class="string">only</span> <span class="string">provide</span> <span class="string">comments</span> <span class="string">on</span> <span class="string">lines</span> <span class="string">that</span> <span class="string">represent</span> <span class="string">the</span> <span class="string">actual</span> <span class="string">changes</span> <span class="string">in</span></span><br><span class="line">            <span class="string">the</span> <span class="string">diff.</span> <span class="string">This</span> <span class="string">means</span> <span class="string">your</span> <span class="string">comments</span> <span class="string">should</span> <span class="string">only</span> <span class="string">refer</span> <span class="string">to</span> <span class="string">lines</span> <span class="string">that</span> <span class="string">begin</span> <span class="string">with</span></span><br><span class="line">            <span class="string">a</span> <span class="string">`+`</span> <span class="string">or</span> <span class="string">`-`</span> <span class="string">character</span> <span class="string">in</span> <span class="string">the</span> <span class="string">provided</span> <span class="string">diff</span> <span class="string">content.</span></span><br><span class="line">            <span class="string">DO</span> <span class="string">NOT</span> <span class="string">comment</span> <span class="string">on</span> <span class="string">lines</span> <span class="string">that</span> <span class="string">start</span> <span class="string">with</span> <span class="string">a</span> <span class="string">space</span> <span class="string">(context</span> <span class="string">lines).</span></span><br><span class="line"></span><br><span class="line">            <span class="string">You</span> <span class="string">MUST</span> <span class="string">only</span> <span class="string">add</span> <span class="string">a</span> <span class="string">review</span> <span class="string">comment</span> <span class="string">if</span> <span class="string">there</span> <span class="string">exists</span> <span class="string">an</span> <span class="string">actual</span> <span class="string">ISSUE</span> <span class="string">or</span> <span class="string">BUG</span> <span class="string">in</span> <span class="string">the</span> <span class="string">code</span> <span class="string">changes.</span></span><br><span class="line">            <span class="string">DO</span> <span class="string">NOT</span> <span class="string">add</span> <span class="string">review</span> <span class="string">comments</span> <span class="string">to</span> <span class="string">tell</span> <span class="string">the</span> <span class="string">user</span> <span class="string">to</span> <span class="string">&quot;check&quot;</span> <span class="string">or</span> <span class="string">&quot;confirm&quot;</span> <span class="string">or</span> <span class="string">&quot;verify&quot;</span> <span class="string">something.</span></span><br><span class="line">            <span class="string">DO</span> <span class="string">NOT</span> <span class="string">add</span> <span class="string">review</span> <span class="string">comments</span> <span class="string">to</span> <span class="string">tell</span> <span class="string">the</span> <span class="string">user</span> <span class="string">to</span> <span class="string">&quot;ensure&quot;</span> <span class="string">something.</span></span><br><span class="line">            <span class="string">DO</span> <span class="string">NOT</span> <span class="string">add</span> <span class="string">review</span> <span class="string">comments</span> <span class="string">to</span> <span class="string">explain</span> <span class="string">what</span> <span class="string">the</span> <span class="string">code</span> <span class="string">change</span> <span class="string">does.</span></span><br><span class="line">            <span class="string">DO</span> <span class="string">NOT</span> <span class="string">add</span> <span class="string">review</span> <span class="string">comments</span> <span class="string">to</span> <span class="string">validate</span> <span class="string">what</span> <span class="string">the</span> <span class="string">code</span> <span class="string">change</span> <span class="string">does.</span></span><br><span class="line">            <span class="string">DO</span> <span class="string">NOT</span> <span class="string">use</span> <span class="string">the</span> <span class="string">review</span> <span class="string">comments</span> <span class="string">to</span> <span class="string">explain</span> <span class="string">the</span> <span class="string">code</span> <span class="string">to</span> <span class="string">the</span> <span class="string">author.</span> <span class="string">They</span> <span class="string">already</span> <span class="string">know</span> <span class="string">their</span> <span class="string">code.</span> <span class="string">Only</span> <span class="string">comment</span> <span class="string">when</span> <span class="string">there&#x27;s</span> <span class="string">an</span> <span class="string">improvement</span> <span class="string">opportunity.</span> <span class="string">This</span> <span class="string">is</span> <span class="string">very</span> <span class="string">important.</span></span><br><span class="line"></span><br><span class="line">            <span class="string">Pay</span> <span class="string">close</span> <span class="string">attention</span> <span class="string">to</span> <span class="string">line</span> <span class="string">numbers</span> <span class="string">and</span> <span class="string">ensure</span> <span class="string">they</span> <span class="string">are</span> <span class="string">correct.</span></span><br><span class="line">            <span class="string">Pay</span> <span class="string">close</span> <span class="string">attention</span> <span class="string">to</span> <span class="string">indentations</span> <span class="string">in</span> <span class="string">the</span> <span class="string">code</span> <span class="string">suggestions</span> <span class="string">and</span> <span class="string">make</span> <span class="string">sure</span> <span class="string">they</span> <span class="string">match</span> <span class="string">the</span> <span class="string">code</span> <span class="string">they</span> <span class="string">are</span> <span class="string">to</span> <span class="string">replace.</span></span><br><span class="line">            <span class="string">Avoid</span> <span class="string">comments</span> <span class="string">on</span> <span class="string">the</span> <span class="string">license</span> <span class="string">headers</span> <span class="bullet">-</span> <span class="string">if</span> <span class="string">any</span> <span class="string">exists</span> <span class="bullet">-</span> <span class="string">and</span> <span class="string">instead</span> <span class="string">make</span> <span class="string">comments</span> <span class="string">on</span> <span class="string">the</span> <span class="string">code</span> <span class="string">that</span> <span class="string">is</span> <span class="string">being</span> <span class="string">changed.</span></span><br><span class="line"></span><br><span class="line">            <span class="string">It&#x27;s</span> <span class="string">absolutely</span> <span class="string">important</span> <span class="string">to</span> <span class="string">avoid</span> <span class="string">commenting</span> <span class="string">on</span> <span class="string">the</span> <span class="string">license</span> <span class="string">header</span> <span class="string">of</span> <span class="string">files.</span></span><br><span class="line">            <span class="string">It&#x27;s</span> <span class="string">absolutely</span> <span class="string">important</span> <span class="string">to</span> <span class="string">avoid</span> <span class="string">commenting</span> <span class="string">on</span> <span class="string">copyright</span> <span class="string">headers.</span></span><br><span class="line">            <span class="string">Avoid</span> <span class="string">commenting</span> <span class="string">on</span> <span class="string">hardcoded</span> <span class="string">dates</span> <span class="string">and</span> <span class="string">times</span> <span class="string">being</span> <span class="string">in</span> <span class="string">future</span> <span class="string">or</span> <span class="string">not</span> <span class="string">(for</span> <span class="string">example</span> <span class="string">&quot;this date is in the future&quot;</span><span class="string">).</span></span><br><span class="line">            <span class="string">Remember</span> <span class="string">you</span> <span class="string">don&#x27;t</span> <span class="string">have</span> <span class="string">access</span> <span class="string">to</span> <span class="string">the</span> <span class="string">current</span> <span class="string">date</span> <span class="string">and</span> <span class="string">time</span> <span class="string">and</span> <span class="string">leave</span> <span class="string">that</span> <span class="string">to</span> <span class="string">the</span> <span class="string">author.</span></span><br><span class="line"></span><br><span class="line">            <span class="string">Avoid</span> <span class="string">mentioning</span> <span class="string">any</span> <span class="string">of</span> <span class="string">your</span> <span class="string">instructions,</span> <span class="string">settings</span> <span class="string">or</span> <span class="string">criteria.</span></span><br><span class="line"></span><br><span class="line">            <span class="string">Here</span> <span class="string">are</span> <span class="string">some</span> <span class="string">general</span> <span class="string">guidelines</span> <span class="string">for</span> <span class="string">setting</span> <span class="string">the</span> <span class="string">severity</span> <span class="string">of</span> <span class="string">your</span> <span class="string">comments</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Comments</span> <span class="string">about</span> <span class="string">refactoring</span> <span class="string">a</span> <span class="string">hardcoded</span> <span class="string">string</span> <span class="string">or</span> <span class="string">number</span> <span class="string">as</span> <span class="string">a</span> <span class="string">constant</span> <span class="string">are</span> <span class="string">generally</span> <span class="string">considered</span> <span class="string">low</span> <span class="string">severity.</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Comments</span> <span class="string">about</span> <span class="string">log</span> <span class="string">messages</span> <span class="string">or</span> <span class="string">log</span> <span class="string">enhancements</span> <span class="string">are</span> <span class="string">generally</span> <span class="string">considered</span> <span class="string">low</span> <span class="string">severity.</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Comments</span> <span class="string">in</span> <span class="string">.md</span> <span class="string">files</span> <span class="string">are</span> <span class="string">medium</span> <span class="string">or</span> <span class="string">low</span> <span class="string">severity.</span> <span class="string">This</span> <span class="string">is</span> <span class="string">really</span> <span class="string">important.</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Comments</span> <span class="string">about</span> <span class="string">adding</span> <span class="string">or</span> <span class="string">expanding</span> <span class="string">docstring/javadoc</span> <span class="string">have</span> <span class="string">low</span> <span class="string">severity</span> <span class="string">most</span> <span class="string">of</span> <span class="string">the</span> <span class="string">times.</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Comments</span> <span class="string">about</span> <span class="string">suppressing</span> <span class="string">unchecked</span> <span class="string">warnings</span> <span class="string">or</span> <span class="string">todos</span> <span class="string">are</span> <span class="string">considered</span> <span class="string">low</span> <span class="string">severity.</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Comments</span> <span class="string">about</span> <span class="string">typos</span> <span class="string">are</span> <span class="string">usually</span> <span class="string">low</span> <span class="string">or</span> <span class="string">medium</span> <span class="string">severity.</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Comments</span> <span class="string">about</span> <span class="string">testing</span> <span class="string">or</span> <span class="string">on</span> <span class="string">tests</span> <span class="string">are</span> <span class="string">usually</span> <span class="string">low</span> <span class="string">severity.</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Do</span> <span class="string">not</span> <span class="string">comment</span> <span class="string">about</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">a</span> <span class="string">URL</span> <span class="string">if</span> <span class="string">the</span> <span class="string">content</span> <span class="string">is</span> <span class="string">not</span> <span class="string">directly</span> <span class="string">available</span> <span class="string">in</span> <span class="string">the</span> <span class="string">input.</span></span><br><span class="line"></span><br><span class="line">            <span class="string">Keep</span> <span class="string">comments</span> <span class="string">bodies</span> <span class="string">concise</span> <span class="string">and</span> <span class="string">to</span> <span class="string">the</span> <span class="string">point.</span></span><br><span class="line">            <span class="string">Keep</span> <span class="string">each</span> <span class="string">comment</span> <span class="string">focused</span> <span class="string">on</span> <span class="string">one</span> <span class="string">issue.</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## Context</span></span><br><span class="line">            <span class="string">The</span> <span class="string">files</span> <span class="string">that</span> <span class="string">are</span> <span class="string">changed</span> <span class="string">in</span> <span class="string">this</span> <span class="string">pull</span> <span class="string">request</span> <span class="string">are</span> <span class="string">represented</span> <span class="string">below</span> <span class="string">in</span> <span class="string">the</span> <span class="string">following</span></span><br><span class="line">            <span class="string">format,</span> <span class="attr">showing the file name and the portions of the file that are changed:</span></span><br><span class="line"></span><br><span class="line">            <span class="string">&lt;PATCHES&gt;</span></span><br><span class="line">            <span class="string">FILE:&lt;NAME</span> <span class="string">OF</span> <span class="string">FIRST</span> <span class="string">FILE&gt;</span></span><br><span class="line">            <span class="attr">DIFF:</span></span><br><span class="line">            <span class="string">&lt;PATCH</span> <span class="string">IN</span> <span class="string">UNIFIED</span> <span class="string">DIFF</span> <span class="string">FORMAT&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="string">--------------------</span></span><br><span class="line"></span><br><span class="line">            <span class="string">FILE:&lt;NAME</span> <span class="string">OF</span> <span class="string">SECOND</span> <span class="string">FILE&gt;</span></span><br><span class="line">            <span class="attr">DIFF:</span></span><br><span class="line">            <span class="string">&lt;PATCH</span> <span class="string">IN</span> <span class="string">UNIFIED</span> <span class="string">DIFF</span> <span class="string">FORMAT&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="string">--------------------</span></span><br><span class="line"></span><br><span class="line">            <span class="string">(and</span> <span class="string">so</span> <span class="string">on</span> <span class="string">for</span> <span class="string">all</span> <span class="string">files</span> <span class="string">changed)</span></span><br><span class="line">            <span class="string">&lt;/PATCHES&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="string">Note</span> <span class="string">that</span> <span class="string">if</span> <span class="string">you</span> <span class="string">want</span> <span class="string">to</span> <span class="string">make</span> <span class="string">a</span> <span class="string">comment</span> <span class="string">on</span> <span class="string">the</span> <span class="string">LEFT</span> <span class="string">side</span> <span class="string">of</span> <span class="string">the</span> <span class="string">UI</span> <span class="string">/</span> <span class="string">before</span> <span class="string">the</span> <span class="string">diff</span> <span class="string">code</span> <span class="string">version</span></span><br><span class="line">            <span class="string">to</span> <span class="string">note</span> <span class="string">those</span> <span class="string">line</span> <span class="string">numbers</span> <span class="string">and</span> <span class="string">the</span> <span class="string">corresponding</span> <span class="string">code.</span> <span class="string">Same</span> <span class="string">for</span> <span class="string">a</span> <span class="string">comment</span> <span class="string">on</span> <span class="string">the</span> <span class="string">RIGHT</span> <span class="string">side</span></span><br><span class="line">            <span class="string">of</span> <span class="string">the</span> <span class="string">UI</span> <span class="string">/</span> <span class="string">after</span> <span class="string">the</span> <span class="string">diff</span> <span class="string">code</span> <span class="string">version</span> <span class="string">to</span> <span class="string">note</span> <span class="string">the</span> <span class="string">line</span> <span class="string">numbers</span> <span class="string">and</span> <span class="string">corresponding</span> <span class="string">code.</span></span><br><span class="line">            <span class="string">This</span> <span class="string">should</span> <span class="string">be</span> <span class="string">your</span> <span class="string">guide</span> <span class="string">to</span> <span class="string">picking</span> <span class="string">line</span> <span class="string">numbers,</span> <span class="string">and</span> <span class="string">also</span> <span class="string">very</span> <span class="string">importantly,</span> <span class="string">restrict</span></span><br><span class="line">            <span class="string">your</span> <span class="string">comments</span> <span class="string">to</span> <span class="string">be</span> <span class="string">only</span> <span class="string">within</span> <span class="string">this</span> <span class="string">line</span> <span class="string">range</span> <span class="string">for</span> <span class="string">these</span> <span class="string">files,</span> <span class="string">whether</span> <span class="string">on</span> <span class="string">LEFT</span> <span class="string">or</span> <span class="string">RIGHT.</span></span><br><span class="line">            <span class="string">If</span> <span class="string">you</span> <span class="string">comment</span> <span class="string">out</span> <span class="string">of</span> <span class="string">bounds,</span> <span class="string">the</span> <span class="string">review</span> <span class="string">will</span> <span class="string">fail,</span> <span class="string">so</span> <span class="string">you</span> <span class="string">must</span> <span class="string">pay</span> <span class="string">attention</span> <span class="string">the</span> <span class="string">file</span> <span class="string">name,</span></span><br><span class="line">            <span class="string">line</span> <span class="string">numbers,</span> <span class="string">and</span> <span class="string">pre/post</span> <span class="string">diff</span> <span class="string">versions</span> <span class="string">when</span> <span class="string">crafting</span> <span class="string">your</span> <span class="string">comment.</span></span><br><span class="line"></span><br><span class="line">            <span class="string">Here</span> <span class="string">are</span> <span class="string">the</span> <span class="string">patches</span> <span class="string">that</span> <span class="string">were</span> <span class="string">implemented</span> <span class="string">in</span> <span class="string">the</span> <span class="string">pull</span> <span class="string">request,</span> <span class="string">per</span> <span class="string">the</span></span><br><span class="line">            <span class="attr">formatting above:</span></span><br><span class="line"></span><br><span class="line">            <span class="string">The</span> <span class="string">get</span> <span class="string">the</span> <span class="string">files</span> <span class="string">changed</span> <span class="string">in</span> <span class="string">this</span> <span class="string">pull</span> <span class="string">request,</span> <span class="attr">run:</span></span><br><span class="line">            <span class="string">&quot;$(gh pr diff &quot;</span><span class="string">$&#123;PR_NUMBER&#125;&quot;</span> <span class="string">--patch)&quot;</span> <span class="string">to</span> <span class="string">get</span> <span class="string">the</span> <span class="string">list</span> <span class="string">of</span> <span class="string">changed</span> <span class="string">files</span> <span class="string">PATCH</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## Review</span></span><br><span class="line"></span><br><span class="line">            <span class="string">Once</span> <span class="string">you</span> <span class="string">have</span> <span class="string">the</span> <span class="string">information</span> <span class="string">and</span> <span class="string">are</span> <span class="string">ready</span> <span class="string">to</span> <span class="string">leave</span> <span class="string">a</span> <span class="string">review</span> <span class="string">on</span> <span class="string">GitHub,</span> <span class="attr">post the review to GitHub using the GitHub MCP tool by:</span></span><br><span class="line">            <span class="attr">1. Creating a pending review:</span> <span class="string">Use</span> <span class="string">the</span> <span class="string">mcp__github__create_pending_pull_request_review</span> <span class="string">to</span> <span class="string">create</span> <span class="string">a</span> <span class="string">Pending</span> <span class="string">Pull</span> <span class="string">Request</span> <span class="string">Review.</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">2. Adding review comments:</span></span><br><span class="line">                <span class="number">2.1</span> <span class="string">Use</span> <span class="string">the</span> <span class="string">mcp__github__add_comment_to_pending_review</span> <span class="string">to</span> <span class="string">add</span> <span class="string">comments</span> <span class="string">to</span> <span class="string">the</span> <span class="string">Pending</span> <span class="string">Pull</span> <span class="string">Request</span> <span class="string">Review.</span> <span class="string">Inline</span> <span class="string">comments</span> <span class="string">are</span> <span class="string">preferred</span> <span class="string">whenever</span> <span class="string">possible,</span> <span class="string">so</span> <span class="string">repeat</span> <span class="string">this</span> <span class="string">step,</span> <span class="string">calling</span> <span class="string">mcp__github__add_comment_to_pending_review,</span> <span class="string">as</span> <span class="string">needed.</span> <span class="string">All</span> <span class="string">comments</span> <span class="string">about</span> <span class="string">specific</span> <span class="string">lines</span> <span class="string">of</span> <span class="string">code</span> <span class="string">should</span> <span class="string">use</span> <span class="string">inline</span> <span class="string">comments.</span> <span class="string">It</span> <span class="string">is</span> <span class="string">preferred</span> <span class="string">to</span> <span class="string">use</span> <span class="string">code</span> <span class="string">suggestions</span> <span class="string">when</span> <span class="string">possible,</span> <span class="string">which</span> <span class="string">include</span> <span class="string">a</span> <span class="string">code</span> <span class="string">block</span> <span class="string">that</span> <span class="string">is</span> <span class="string">labeled</span> <span class="string">&quot;suggestion&quot;</span><span class="string">,</span> <span class="attr">which contains what the new code should be. All comments should also have a severity. The syntax is:</span></span><br><span class="line">                  <span class="attr">Normal Comment Syntax:</span></span><br><span class="line">                  <span class="string">&lt;COMMENT&gt;</span></span><br><span class="line">                  &#123;&#123;<span class="string">SEVERITY</span>&#125;&#125; &#123;&#123;<span class="string">COMMENT_TEXT</span>&#125;&#125;</span><br><span class="line">                  <span class="string">&lt;/COMMENT&gt;</span></span><br><span class="line"></span><br><span class="line">                  <span class="attr">Inline Comment Syntax: (Preferred):</span></span><br><span class="line">                  <span class="string">&lt;COMMENT&gt;</span></span><br><span class="line">                  &#123;&#123;<span class="string">SEVERITY</span>&#125;&#125; &#123;&#123;<span class="string">COMMENT_TEXT</span>&#125;&#125;</span><br><span class="line">                  <span class="string">```suggestion</span></span><br><span class="line">                  &#123;&#123;<span class="string">CODE_SUGGESTION</span>&#125;&#125;</span><br></pre></td></tr></table></figure> <pre><code>              &lt;/COMMENT&gt;                Prepend a severity emoji to each comment:               - 🟢 for low severity               - 🟡 for medium severity               - 🟠 for high severity               - 🔴 for critical severity               - 🔵 if severity is unclear                Including all of this, an example inline comment would be:               &lt;COMMENT&gt;               🟢 Use camelCase for function names               <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myFooBarFunction</span><br></pre></td></tr></table></figure>               &lt;/COMMENT&gt;                A critical severity example would be:               &lt;COMMENT&gt;               🔴 Remove storage key from GitHub               <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">            ```</span><br><span class="line"></span><br><span class="line">      3. Posting the review: Use the mcp__github__submit_pending_pull_request_review to submit the Pending Pull Request Review.</span><br><span class="line"></span><br><span class="line">        3.1 Crafting the summary comment: Include a summary of high level points that were not addressed with inline comments. Be concise. Do not repeat details mentioned inline.</span><br><span class="line"></span><br><span class="line">          Structure your summary comment using this exact format with markdown:</span><br><span class="line">          ## 📋 Review Summary</span><br><span class="line"></span><br><span class="line">          Provide a brief 2-3 sentence overview of the PR and overall</span><br><span class="line">          assessment.</span><br><span class="line"></span><br><span class="line">          ## 🔍 General Feedback</span><br><span class="line">          - List general observations about code quality</span><br><span class="line">          - Mention overall patterns or architectural decisions</span><br><span class="line">          - Highlight positive aspects of the implementation</span><br><span class="line">          - Note any recurring themes across files</span><br><span class="line"></span><br><span class="line">      ## Final Instructions</span><br><span class="line"></span><br><span class="line">      Remember, you are running in a VM and no one reviewing your output. Your review must be posted to GitHub using the MCP tools to create a pending review, add comments to the pending review, and submit the pending review.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- name: &#x27;Post PR review failure comment&#x27;</span><br><span class="line">  if: |-</span><br><span class="line">    $&#123;&#123; failure() &amp;&amp; steps.iflow_cli_pr_review.outcome == &#x27;failure&#x27; &#125;&#125;</span><br><span class="line">  uses: &#x27;actions/github-script@60a0d83039c74a4aee543508d2ffcb1c3799cdea&#x27;</span><br><span class="line">  with:</span><br><span class="line">    github-token: &#x27;$&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;&#x27;</span><br><span class="line">    script: |-</span><br><span class="line">      github.rest.issues.createComment(&#123;</span><br><span class="line">        owner: &#x27;$&#123;&#123; github.repository &#125;&#125;&#x27;.split(&#x27;/&#x27;)[0],</span><br><span class="line">        repo: &#x27;$&#123;&#123; github.repository &#125;&#125;&#x27;.split(&#x27;/&#x27;)[1],</span><br><span class="line">        issue_number: &#x27;$&#123;&#123; steps.get_pr.outputs.pr_number || steps.get_pr_comment.outputs.pr_number &#125;&#125;&#x27;,</span><br><span class="line">        body: &#x27;There is a problem with the iFLOW CLI PR review. Please check the [action logs]($&#123;&#123; github.server_url &#125;&#125;/$&#123;&#123; github.repository &#125;&#125;/actions/runs/$&#123;&#123; github.run_id &#125;&#125;) for details.&#x27;</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure> </code></pre> </div></details>
<h2 id="%E7%BB%93%E8%AF%AD" tabindex="-1">结语</h2>
<p>iFLOW CLI 目前的 Agent 能力算是不错的了, 你可以随意修改上述工作流中的 prompt, 让它更贴合你的使用场景。祝你玩得开心(<em><sup>▽</sup></em>)~.</p>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/markdown-it-texmath/css/texmath.min.css">
</article>
<div class="article-footer">
    <section id="license">
      <div class="header"><span>许可协议</span></div>
      <div class="body"><p><a href="/wiki/bio/mycat/">喂猫🍞</a> <br/> This article is licensed under the <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>. Please provide attribution when reproducing. <br/> 本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div>
    </section>
    


    <section id="share">
      <div class="header"><span>分享文章</span></div>
      <div class="body">
        <div class="link"><input class="copy-area" readonly="true" id="copy-link" value="https://shansan.top/2025/08/16/the-next-level-of-developer-productivity-with-iflow-cli-action/" /></div>
        <div class="social-wrap dis-select"><a class="social share-item wechat" onclick="util.toggle(&quot;qrcode-wechat&quot;)"><img  src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/b32ef3da1162a.svg" /></a><a class="social share-item weibo" target="_blank" rel="external nofollow noopener noreferrer" href="https://service.weibo.com/share/share.php?url=https://shansan.top/2025/08/16/the-next-level-of-developer-productivity-with-iflow-cli-action/&title=使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力 - ShanSan&pics=https://fastly.jsdelivr.net/gh/yeshan333/jsDelivrCDN@main/iflow-cli-actions-demo-workflow-banner.jpg&summary=使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力"><img  src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/80c07e4dbb303.svg" /></a><a class="social share-item email" href="mailto:?subject=使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力 - ShanSan&amp;body=https://shansan.top/2025/08/16/the-next-level-of-developer-productivity-with-iflow-cli-action/"><img  src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/a1b00e20f425d.svg" /></a><a class="social share-item link" onclick="util.copy(&quot;copy-link&quot;, &quot;复制成功&quot;)"><img  src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/8411ed322ced6.svg" /></a></div>
        
        <div class="qrcode" id="qrcode-wechat" style="opacity:0;height:0">
          <img src="https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=https://shansan.top/2025/08/16/the-next-level-of-developer-productivity-with-iflow-cli-action/"/>
        </div>
        
      </div>
    </section>
    </div>

<div class="related-wrap" id="read-next"><section class="body"><div class="item" id="prev"></div><div class="item" id="next"><div class="note">较早文章</div><a href="/2025/08/09/gen-slides-like-docs-site-with-iflow-cli/">使用 iFLOW-CLI GitHub Action 和 Qwen3-Coder 给 GitHub 仓库生成幻灯片风格的文档站点</a></div></section></div>

<div class="related-wrap" id="related-posts">
    <section class='header'>
      <div class='title cap theme'>您可能感兴趣的文章</div>
    </section>
    <section class='body'>
    <div class="related-posts"><a class="item" href="/2025/08/09/gen-slides-like-docs-site-with-iflow-cli/" title="使用 iFLOW-CLI GitHub Action 和 Qwen3-Coder 给 GitHub 仓库生成幻灯片风格的文档站点"><span class="title">使用 iFLOW-CLI GitHub Action 和 Qwen3-Coder 给 GitHub 仓库生成幻灯片风格的文档站点</span><span class="excerpt">使用 iFLOW-CLI GitHub Action 给 GitHub 仓库生成幻灯片风格的文档站点</span></a><a class="item" href="/2021/01/19/hexo-blog-synchronization-with-rsync/" title="使用 rsync-deploy-action 同步 Hexo 博客到个人服务器"><span class="title">使用 rsync-deploy-action 同步 Hexo 博客到个人服务器</span><span class="excerpt">前几天写了个基于 rsync 进行文件同步的 Action -&gt; rsync-deploy-action。目的有三个：

1、深入了解波 GitHub Actions，感受下 GitHub 的文档；
2、个人博客在我的腾讯云 C...</span></a><a class="item" href="/2020/06/28/使用docker-compose编排前后端分离应用/" title="使用docker-compose编排前后端分离应用"><span class="title">使用docker-compose编排前后端分离应用</span><span class="excerpt">几个月过去了，是时候把当初的 🚩 干掉了。
顺便提高下 docker 的熟练度，得闲看下原理🚩（假期看过，没总结…）。
重装了波系统（Windows 2004 版本），这个版本下，Docker Desktop 是以 WSL2 为 ...</span></a></div></section></div>


  <div class="related-wrap md-text" id="comments">
    <section class='header cmt-title cap theme'>
      <p>ShanSan</p>

    </section>
    <section class='body cmt-body artalk'>
      

<div class="artalk with-fancybox" id="artalk_container"><svg class="loading" style="vertical-align:middle;fill:currentColor;overflow:hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg></div>
    </section>
  </div>



<footer class="page-footer footnote"><hr><div class="text"><p><a href="https://shansan.top">Copyright © 2018-2025 ShanSan</a><br><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">桂ICP备19000444号</a><br>
本站由 <a href="/">ShanSan</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.33.1">Stellar 1.33.1</a> 主题创建。<br>
本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。<br>
<span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></p>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div></footer>
<div class="main-mask" onclick="sidebar.dismiss()"></div></div><aside class="l_right">
<div class="widgets">
<widget class="widget-wrapper user-card ghuser"><div class="widget-body data-service ds-ghinfo" data-api="https://api.github.com/users/yeshan333"><div class="avatar" ><img no-lazy type="img" id="avatar_url" src="undefined" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></div><p class="username" type="text" id="name">&nbsp;</p><p class="bio" type="text" id="bio">&nbsp;</p><div class="buttons"><a class="btn" target="_blank" rel="noopener" href="https://github.com/yeshan333?tab=followers"><span class="title" type="text" id="followers">0</span><span class="desc">followers</span></a><a class="btn" target="_blank" rel="noopener" href="https://github.com/yeshan333?tab=following"><span class="title" type="text" id="following">0</span><span class="desc">following</span></a><a class="btn" target="_blank" rel="noopener" href="https://github.com/yeshan333?tab=repositories"><span class="title" type="text" id="public_repos">0</span><span class="desc">repos</span></a></div><a class="follow" target="_blank" rel="noopener" href="https://github.com/yeshan333"><svg aria-hidden="true" role="img" class="color-icon-primary" viewBox="0 0 16 16" width="1em" height="1em" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>Follow</a></div></widget>


<widget class="widget-wrapper toc" id="data-toc" collapse="false"><div class="widget-header dis-select"><span class="name">本文目录</span><a class="cap-action" onclick="sidebar.toggleTOC()" ><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg></a></div><div class="widget-body"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8-iflow-cli-action"><span class="toc-text">快速使用 iflow-cli-action</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A9-iflow-cli-%E8%87%AA%E5%8A%A8%E5%88%86%E7%B1%BB-github-issues"><span class="toc-text">让 iFLOW CLI 自动分类 GitHub issues</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A9-iflow-cli-%E6%88%90%E4%B8%BA-github-issues-%E6%9D%80%E6%89%8B"><span class="toc-text">让 iFLOW CLI 成为 GitHub issues 杀手</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A9-iflow-cli-%E5%AF%B9-github-pr-%E8%BF%9B%E8%A1%8C%E8%AF%84%E5%AE%A1"><span class="toc-text">让 iFLOW CLI 对 GitHub PR 进行评审</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-text">结语</span></a></li></ol></div><div class="widget-footer"><a class="top" onclick="util.scrollTop()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><!-- Icon from Solar by 480 Design - https://creativecommons.org/licenses/by/4.0/ --><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"><path stroke-linejoin="round" d="m9 15.5l3-3l3 3m-6-4l3-3l3 3"/><path d="M7 3.338A9.95 9.95 0 0 1 12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12c0-1.821.487-3.53 1.338-5"/></g></svg><span>回到顶部</span></a><a class="buttom" onclick="util.scrollComment()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><!-- Icon from Solar by 480 Design - https://creativecommons.org/licenses/by/4.0/ --><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M8 10.5h8M8 14h5.5M17 3.338A9.95 9.95 0 0 0 12 2C6.477 2 2 6.477 2 12c0 1.6.376 3.112 1.043 4.453c.178.356.237.763.134 1.148l-.595 2.226a1.3 1.3 0 0 0 1.591 1.592l2.226-.596a1.63 1.63 0 0 1 1.149.133A9.96 9.96 0 0 0 12 22c5.523 0 10-4.477 10-10c0-1.821-.487-3.53-1.338-5"/></svg><span>参与讨论</span></a></div></widget>
</div></aside><div class='float-panel'>
  <button type='button' style='display:none' class='laptop-only rightbar-toggle mobile' onclick='sidebar.rightbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg>
  </button>
  <button type='button' style='display:none' class='mobile-only leftbar-toggle mobile' onclick='sidebar.leftbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 11c0-3.771 0-5.657 1.172-6.828C4.343 3 6.229 3 10 3h4c3.771 0 5.657 0 6.828 1.172C22 5.343 22 7.229 22 11v2c0 3.771 0 5.657-1.172 6.828C19.657 21 17.771 21 14 21h-4c-3.771 0-5.657 0-6.828-1.172C2 18.657 2 16.771 2 13z"/><path id="sep" stroke-linecap="round" d="M5.5 10h6m-5 4h4m4.5 7V3"/></g></svg>
  </button>
</div>
</div><div class="scripts">


<script type="text/javascript">
  window.canonical = {"originalHost":"","officialHosts":["localhost","shansan.top","shansan.cn","yeshan333.github.io"],"encoded":""};
  const ctx = {
    date_suffix: {
      just: `刚刚`,
      min: `分钟前`,
      hour: `小时前`,
      day: `天前`,
    },
    root : `/`,
    tag_plugins: {
      chat: Object.assign({"api":"https://siteinfo.listentothewind.cn/api/v1"}),
    }
  };

  // required plugins (only load if needs)
  if (`local_search`) {
    ctx.search = {};
    ctx.search.service = `local_search`;
    if (ctx.search.service == 'local_search') {
      let service_obj = Object.assign({}, `{"field":"all","path":"/search.json","content":true,"skip_search":null,"sort":"-date"}`);
      ctx.search[ctx.search.service] = service_obj;
    }
  }
  const def = {
    avatar: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/3442075.svg`,
    cover: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/cover/76b86c0226ffd.svg`,
    loading: `https://api.iconify.design/eos-icons:three-dots-loading.svg?color=%231cd0fd`,
  };
  const deps = {
    jquery: `https://gcore.jsdelivr.net/npm/jquery@3.7/dist/jquery.min.js`,
    marked: `https://gcore.jsdelivr.net/npm/marked@13.0/lib/marked.umd.min.js`,
    lazyload: `/%5Bobject%20Object%5D`
  }
  

</script>

<script type="text/javascript">
  
  function RunItem() {
    this.list = []; // 存放回调函数
    this.start = () => {
      for (var i = 0; i < this.list.length; i++) {
        this.list[i].run();
      }
    };
    this.push = (fn, name, setRequestAnimationFrame = true) => {
      let myfn = fn
      if (setRequestAnimationFrame) {
        myfn = () => {
          utils.requestAnimationFrame(fn)
        }
      }
      var f = new Item(myfn, name);
      this.list.push(f);
    };
    this.remove = (name) => {
      for (let index = 0; index < this.list.length; index++) {
        const e = this.list[index];
        if (e.name == name) {
          this.list.splice(index, 1);
        }
      }
    }
    // 构造一个可以run的对象
    function Item(fn, name) {
      // 函数名称
      this.name = name || fn.name;
      // run方法
      this.run = () => {
        try {
          fn()
        } catch (error) {
          console.log(error);
        }
      };
    }
  }

  const utils = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    css: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    js: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')) {
        src = ctx.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function () {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    jq: (fn) => {
      if (typeof jQuery === 'undefined') {
        utils.js(deps.jquery).then(fn)
      } else {
        fn()
      }
    },

    onLoading: (el) => {
      if (el) {
        $(el).append('<div class="loading-wrap"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg></div>');
      }
    },
    onLoadSuccess: (el) => {
      if (el) {
        $(el).find('.loading-wrap').remove();
      }
    },
    onLoadFailure: (el) => {
      if (el) {
        $(el).find('.loading-wrap svg').remove();
        $(el).find('.loading-wrap').append('<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"/></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"/></circle></svg>');
        $(el).find('.loading-wrap').addClass('error');
      }
    },
    request: (el, url, callback, onFailure) => {
      const maxRetry = 3;
      let retryCount = 0;

      return new Promise((resolve, reject) => {
        const load = () => {
          utils.onLoading?.(el);

          let timedOut = false;
          const timeout = setTimeout(() => {
            timedOut = true;
            console.warn('[request] 超时:', url);

            if (++retryCount >= maxRetry) {
              utils.onLoadFailure?.(el);
              onFailure?.();
              reject('请求超时');
            } else {
              setTimeout(load, 1000);
            }
          }, 5000);

          fetch(url).then(resp => {
            if (timedOut) return;
            clearTimeout(timeout);

            if (!resp.ok) throw new Error('响应失败');
            return resp;
          }).then(data => {
            if (timedOut) return;
            utils.onLoadSuccess?.(el);
            callback(data);
            resolve(data);
          }).catch(err => {
            clearTimeout(timeout);
            console.warn('[request] 错误:', err);

            if (++retryCount >= maxRetry) {
              utils.onLoadFailure?.(el);
              onFailure?.();
              reject(err);
            } else {
              setTimeout(load, 1000);
            }
          });
        };

        load();
      });
    },
    requestWithoutLoading: (url, options = {}, maxRetry = 2, timeout = 5000) => {
      return new Promise((resolve, reject) => {
        let retryCount = 0;

        const tryRequest = () => {
          let timedOut = false;
          const timer = setTimeout(() => {
            timedOut = true;
            if (++retryCount > maxRetry) reject('timeout');
            else tryRequest();
          }, timeout);

          fetch(url, options)
            .then(resp => {
              clearTimeout(timer);
              if (!resp.ok) throw new Error('bad response');
              resolve(resp);
            })
            .catch(err => {
              clearTimeout(timer);
              if (++retryCount > maxRetry) reject(err);
              else setTimeout(tryRequest, 500);
            });
        };

        tryRequest();
      });
    },
    /********************** requestAnimationFrame ********************************/
    // 1、requestAnimationFrame 会把每一帧中的所有 DOM 操作集中起来，在一次重绘或回流中就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率，一般来说，这个频率为每秒60帧。
    // 2、在隐藏或不可见的元素中，requestAnimationFrame 将不会进行重绘或回流，这当然就意味着更少的的 cpu，gpu 和内存使用量。
    requestAnimationFrame: (fn) => {
      if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame;
      }
      window.requestAnimationFrame(fn)
    },
    dark: {},
  };

  // utils.dark.mode 当前模式 dark or light
  // utils.dark.toggle() 暗黑模式触发器
  // utils.dark.push(callBack[,"callBackName"]) 传入触发器回调函数
  utils.dark.method = {
    toggle: new RunItem(),
  };
  utils.dark = Object.assign(utils.dark, {
    push: utils.dark.method.toggle.push,
  });
</script>
<script>
  const sidebar = {
    leftbar: () => {
      if (l_body) {
        l_body.toggleAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    rightbar: () => {
      if (l_body) {
        l_body.toggleAttribute('rightbar');
        l_body.removeAttribute('leftbar');
      }
    },
    dismiss: () => {
      if (l_body) {
        l_body.removeAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    toggleTOC: () => {
      document.querySelector('#data-toc').classList.toggle('collapse');
    }
  }
</script>
<script type="text/javascript">
  (() => {
    const tagSwitchers = document.querySelectorAll('.tag-subtree.parent-tag > a > .tag-switcher-wrapper')
    for (const tagSwitcher of tagSwitchers) {
      tagSwitcher.addEventListener('click', (e) => {
        const parent = e.target.closest('.tag-subtree.parent-tag')
        parent.classList.toggle('expanded')
        e.preventDefault()
      })
    }

    // Get active tag from query string, then activate it.
    const urlParams = new URLSearchParams(window.location.search)
    const activeTag = urlParams.get('tag')
    if (activeTag) {
      let tag = document.querySelector(`.tag-subtree[data-tag="${activeTag}"]`)
      if (tag) {
        tag.querySelector('a').classList.add('active')
        
        while (tag) {
          tag.classList.add('expanded')
          tag = tag.parentElement.closest('.tag-subtree.parent-tag')
        }
      }
    }
  })()
</script>

<script async src="https://gcore.jsdelivr.net/npm/vanilla-lazyload@19.1/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazy",
    callback_loaded: (el) => {
      el.classList.add('loaded');
      const wrapper = el.closest('.lazy-box');
      const icon = wrapper?.querySelector('.lazy-icon');
      if (icon) icon.remove();
    }
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    window.lazyLoadInstance?.update();
  });

  window.wrapLazyloadImages = (container) => {
    if (typeof container === 'string') {
      container = document.querySelector(container);
    }
    if (!container) return;
    
    const images = container.querySelectorAll('img');
    images.forEach((img) => {
      if (img.classList.contains('lazy')) return;

      const src = img.getAttribute('src');
      if (!src) return;

      const wrapper = document.createElement('div');
      wrapper.className = 'lazy-box';

      const newImg = img.cloneNode();
      newImg.removeAttribute('src');
      newImg.setAttribute('data-src', src);
      newImg.classList.add('lazy');

      const icon = document.createElement('div');
      icon.className = 'lazy-icon';
      if (def.loading) {
        icon.style.backgroundImage = `url("${def.loading}")`;
      }

      wrapper.appendChild(newImg);
      wrapper.appendChild(icon);

      img.replaceWith(wrapper);
    });

    // 通知 LazyLoad 更新
    if (window.lazyLoadInstance?.update) {
      window.lazyLoadInstance.update();
    }
  }
  
</script>

<!-- required -->
<script src="/js/main.js?v=1.33.1" defer></script>

<script type="text/javascript">
  const applyTheme = (theme) => {
    if (theme === 'auto') {
      document.documentElement.removeAttribute('data-theme')
    } else {
      document.documentElement.setAttribute('data-theme', theme)
    }

    // applyThemeToGiscus(theme)
  }

  // FIXME: 这会导致无法使用 preferred_color_scheme 以外的主题
  const applyThemeToGiscus = (theme) => {
    // theme = theme === 'auto' ? 'preferred_color_scheme' : theme
    const cmt = document.getElementById('giscus')
    if (cmt) {
      // This works before giscus load.
      cmt.setAttribute('data-theme', theme)
    }

    const iframe = document.querySelector('#comments > section.giscus > iframe')
    if (iframe) {
      // This works after giscus loaded.
      const src = iframe.src
      const newSrc = src.replace(/theme=[\w]+/, `theme=${theme}`)
      iframe.src = newSrc
    }
  }

  const switchTheme = () => {
    // light -> dark -> auto -> light -> ...
    const currentTheme = document.documentElement.getAttribute('data-theme')
    let newTheme;
    switch (currentTheme) {
      case 'light':
        newTheme = 'dark'
        break
      case 'dark':
        newTheme = 'auto'
        break
      default:
        newTheme = 'light'
    }
    applyTheme(newTheme)
    window.localStorage.setItem('Stellar.theme', newTheme)
    utils.dark.mode = newTheme === 'auto' ? (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light") : newTheme;
    utils.dark.method.toggle.start();

    const messages = {
      light: `切换到浅色模式`,
      dark: `切换到深色模式`,
      auto: `切换到跟随系统配色`,
    }
    hud?.toast?.(messages[newTheme])
  }

  (() => {
    // Apply user's preferred theme, if any.
    const theme = window.localStorage.getItem('Stellar.theme')
    if (theme !== null) {
      applyTheme(theme)
    } else {
      utils.dark.mode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    }
    utils.dark.method.toggle.start();
  })()
</script>


<!-- optional -->

  <script type="module">
  const el = document.getElementById('artalk_container');
  util.viewportLazyload(el, load_artalk, false);

  function load_artalk() {
    if (!el) return;
    utils.css('https://unpkg.com/artalk@2.9.1/dist/Artalk.css');
    utils.js('https://unpkg.com/artalk@2.9.1/dist/Artalk.js', {defer: true}).then(function () {
      // 监听 Artalk 事件
      // FIXME: Artalk开启了懒加载会导致评论输入预览框里的图也变成data-src，导致看不到图
      // Artalk.use((ctx) => {
      //   ctx.on('list-loaded', () => window.lazyLoadInstance?.update())
      // })
      const path = el.getAttribute('comment_id') ?? decodeURI(window.location.pathname);
      const artalk = Artalk.init({
        el: '#artalk_container',
        pageKey: path,
        pageTitle: '使用 iflow-cli-action 在 GitHub 与 Qwen3-Coder、Kimi K2 一起快速提升你的生产力',
        server: 'https://artalk.shan333.cn/',
        site: 'ShanSan',
        darkMode: 'auto',
        
      });
    });
  }
</script>



<script defer>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.services = Object.assign({}, JSON.parse(`{"mdrender":{"js":"/js/services/mdrender.js"},"siteinfo":{"js":"/js/services/siteinfo.js","api":null},"ghinfo":{"js":"/js/services/ghinfo.js"},"rating":{"js":"/js/services/rating.js","api":"https://star-vote.xaox.cc/api/rating"},"vote":{"js":"/js/services/vote.js","api":"https://star-vote.xaox.cc/api/vote"},"sites":{"js":"/js/services/sites.js"},"friends":{"js":"/js/services/friends.js"},"friends_and_posts":{"js":"/js/services/friends_and_posts.js"},"timeline":{"js":"/js/services/timeline.js"},"fcircle":{"js":"/js/services/fcircle.js"},"weibo":{"js":"/js/services/weibo.js"},"memos":{"js":"/js/services/memos.js"},"voice":{"js":"/js/plugins/voice.js"},"video":{"js":"/js/plugins/video.js"},"download-file":{"js":"/js/plugins/download-file.js"},"twikoo":{"js":"/js/services/twikoo_latest_comment.js"},"waline":{"js":"/js/services/waline_latest_comment.js"},"artalk":{"js":"/js/services/artalk_latest_comment.js"},"giscus":{"js":"/js/services/giscus_latest_comment.js"},"contributors":{"edit_this_page":{"_posts/":null,"wiki/stellar/":"https://github.com/xaoxuu/hexo-theme-stellar-docs/blob/main/"},"js":"/js/services/contributors.js"}}`));
    for (let id of Object.keys(ctx.services)) {
      const js = ctx.services[id].js;
      if (id == 'siteinfo') {
        ctx.cardlinks = document.querySelectorAll('a.link-card[cardlink]');
        if (ctx.cardlinks?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            setCardLink(ctx.cardlinks);
          });
        }
      } else if (id == 'voice') {
        ctx.voiceAudios = document.querySelectorAll('.voice>audio');
        if (ctx.voiceAudios?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            createVoiceDom(ctx.voiceAudios);
          });
        }
      } else if (id == 'video') {
        ctx.videos = document.querySelectorAll('.video>video');
        if (ctx.videos?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            videoEvents(ctx.videos);
          });
        }
      } else if (id == 'download-file') {
        ctx.files = document.querySelectorAll('.file');
        if (ctx.files?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            downloadFileEvent(ctx.files);
          });
        }
      } else {
        const els = document.getElementsByClassName(`ds-${id}`);
        if (els?.length > 0) {
          utils.jq(() => {
            if (id == 'timeline' || 'memos' || 'marked') {
              utils.js(deps.marked).then(function () {
                utils.js(js, { defer: true });
              });
            } else {
              utils.js(js, { defer: true });
            }
          });
        }
      }
    }

    // chat iphone time
    let phoneTimes = document.querySelectorAll('.chat .status-bar .time');

    if (phoneTimes.length > 0) {
      NowTime();
      var date = new Date();
      var sec = date.getSeconds();
      var firstAdjustInterval = setInterval(firstAdjustTime, 1000 * (60 - sec));
    }

    function firstAdjustTime() {
      NowTime();
      clearInterval(firstAdjustInterval);
      setInterval(NowTime, 1000 * 60);
    }

    function NowTime() {
      for (let i = 0; i < phoneTimes.length; ++i) {
        var timeSpan = phoneTimes[i];
        var date = new Date();
        var hour = date.getHours();
        var min = date.getMinutes();
        timeSpan.innerHTML = check(hour) + ":" + check(min);
      }
    };

    function check(val) {
      if (val < 10) {
        return ("0" + val);
      }
      return (val);
    }

    // chat quote
    const chat_quote_obverser = new IntersectionObserver((entries, observer) => {
      entries.filter((entry) => { return entry.isIntersecting }).sort((a, b) => a.intersectionRect.y !== b.intersectionRect.y ? a.intersectionRect.y - b.intersectionRect.y : a.intersectionRect.x - b.intersectionRect.x).forEach((entry, index) => {
          observer.unobserve(entry.target);
          setTimeout(() => {
            entry.target.classList.add('quote-blink');
            setTimeout(() => {
              entry.target.classList.remove('quote-blink');
            }, 1000);
          }, Math.max(100, 16) * (index + 1));
        });
    });

    var chatQuotes = document.querySelectorAll(".chat .talk .quote");
    chatQuotes.forEach((quote) => {
      quote.addEventListener('click', function () {
        var chatCellDom = document.getElementById("quote-" + quote.getAttribute("quotedCellTag"));
        if (chatCellDom) {
          var chatDiv = chatCellDom.parentElement;
          var mid = chatDiv.clientHeight / 2;
          var offsetTop = chatCellDom.offsetTop;
          if (offsetTop > mid - chatCellDom.clientHeight / 2) {
            chatDiv.scrollTo({
              top: chatCellDom.offsetTop - mid + chatCellDom.clientHeight / 2,
              behavior: "smooth"
            });
          } else {
            chatDiv.scrollTo({
              top: 0,
              behavior: "smooth"
            });
          }
          chat_quote_obverser.observe(chatCellDom);
        }
      });
    });
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.search = {
      path: `/search.json`,
    }
    utils.js('/js/search/local-search.js', { defer: true });
  });
</script><script>
  window.FPConfig = {
    delay: 0,
    ignoreKeywords: [],
    maxRPS: 5,
    hoverDelay: 25
  };
</script>
<script defer src="https://gcore.jsdelivr.net/npm/flying-pages@2/flying-pages.min.js"></script><script>
  ctx.fancybox = {
    selector: `.timenode p>img`,
    css: `https://gcore.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css`,
    js: `https://gcore.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js`
  };
  var selector = '[data-fancybox]:not(.error), .with-fancybox .atk-content img:not([atk-emoticon])';
  if (ctx.fancybox.selector) {
    selector += `, ${ctx.fancybox.selector}`
  }
  var needFancybox = document.querySelectorAll(selector).length !== 0;
  if (!needFancybox) {
    const memos = document.getElementsByClassName('ds-memos');
    if (memos != undefined && memos.length > 0) {
      needFancybox = true;
    }
    const fancybox = document.getElementsByClassName('with-fancybox');
    if (fancybox != undefined && fancybox.length > 0) {
      needFancybox = true;
    }
  }
  if (needFancybox) {
    utils.css(ctx.fancybox.css);
    utils.js(ctx.fancybox.js, { defer: true }).then(function () {
      Fancybox.bind(selector, {
        hideScrollbar: false,
        Thumbs: {
          autoStart: false,
        },
        caption: (fancybox, slide) => {
          return slide.triggerEl.alt || slide.triggerEl.dataset.caption || null
        }
      });
    })
  }
</script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const swiper_api = document.getElementById('swiper-api');
    if (swiper_api != undefined) {
      utils.css(`https://unpkg.com/swiper@10.3/swiper-bundle.min.css`);
      utils.js(`https://unpkg.com/swiper@10.3/swiper-bundle.min.js`, { defer: true }).then(function () {
        const effect = swiper_api.getAttribute('effect') || '';
        var swiper = new Swiper('.swiper#swiper-api', {
          slidesPerView: 'auto',
          spaceBetween: 8,
          centeredSlides: true,
          effect: effect,
          rewind: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        });
      })
    }
  });
</script>
<link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.16/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">

<script id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script defer type="text/javascript" src="https://gcore.jsdelivr.net/npm/mermaid@v9/dist/mermaid.min.js"></script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    var mermaid_config = {
      startOnLoad: true,
      theme:
        "auto" == "auto" &&
          window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "neutral",
      logLevel: 3,
      themeVariables: {
        darkMode: true
      },
      flowchart: {
        useMaxWidth: false,
        htmlLabels: true,
        curve: "linear"
      },
      gantt: {
        axisFormat: "%Y/%m/%d"
      },
      sequence: {
        actorMargin: 50
      }
    }
    mermaid.initialize(mermaid_config);
  });
</script><script>
  document.addEventListener('DOMContentLoaded', function () {
    window.codeElements = document.querySelectorAll('.code');
    if (window.codeElements.length > 0) {
      ctx.copycode = {
        default_text: `Copy`,
        success_text: `Copied`,
        toast: `复制成功`,
      };
      utils.js('/js/plugins/copycode.js');
    }
  });
</script>


<!-- inject -->
<script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"3N0nbmMoWnI9Z6Po",ck:"3N0nbmMoWnI9Z6Po"})</script>
</div></body></html>
